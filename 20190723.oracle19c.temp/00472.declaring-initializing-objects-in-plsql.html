<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Declaring and Initializing Objects in PL/SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Object-Relational Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Object-Relational Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="object-relational-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:05:10-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96436-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-pl-sql-with--object-types.html" title="Previous" type="text/html">
      <link rel="next" href="object-manipulation-in-plsql.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Object-Relational Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADOBJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-pl-sql-with--object-types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="object-manipulation-in-plsql.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Object-Relational Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-pl-sql-with--object-types.html" property="item" typeof="WebPage"><span property="name"> Using PL/SQL With Object Types</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Declaring and Initializing Objects in PL/SQL</li>
            </ol>
            <a id="GUID-AA6DEB60-3D57-44CE-B0F6-D1AEC0B47AE0" name="GUID-AA6DEB60-3D57-44CE-B0F6-D1AEC0B47AE0"></a><a id="ADOBJ07001"></a>
            
            <h2 id="ADOBJ-GUID-AA6DEB60-3D57-44CE-B0F6-D1AEC0B47AE0" class="sect2"><span class="enumeration_section">3.1 </span>Declaring and Initializing Objects in PL/SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Using object types in a PL/SQL block, subprogram, or package is a two-step process.</p>
               <ol>
                  <li>
                     <p>You must define object types using the SQL statement <code class="codeph">CREATE TYPE</code>, in SQL*Plus or other similar programs.
                     </p>
                     <p>After an object type is defined and installed in the schema, you can use it in any PL/SQL block, subprogram, or package. </p>
                  </li>
                  <li>
                     <p>In PL/SQL, you then declare a variable whose data type is the user-defined type or ADT that you just defined. </p>
                  </li>
               </ol>
               <p>Objects or ADTs follow the usual scope and instantiation rules.</p>
               <div class="infoboxnotealso" id="GUID-AA6DEB60-3D57-44CE-B0F6-D1AEC0B47AE0__GUID-CCDA6775-2CBC-45A6-A51C-D98E57036D7E">
                  <p class="notep1">See Also:</p>
                  <p><span class="q">"<a href="key-features-object-relational-model.html#GUID-0C7CE261-467B-4F8B-A04D-B0900E1FB284" title="An object type is a kind of data type.">About Object Types</a>"</span></p>
               </div>
            </div><a id="ADOBJ7172"></a><a id="ADOBJ7171"></a><div class="props_rev_3"><a id="GUID-844171F2-515B-4345-B667-679803BF5FC4" name="GUID-844171F2-515B-4345-B667-679803BF5FC4"></a><h3 id="ADOBJ-GUID-844171F2-515B-4345-B667-679803BF5FC4" class="sect3"><span class="enumeration_section">3.1.1 </span>Defining Object Types
               </h3>
               <div>
                  <div class="section">
                     <p>You can define object types using <code class="codeph">CREATE TYPE</code>.
                     </p>
                     <p><a href="declaring-initializing-objects-in-plsql.html#GUID-844171F2-515B-4345-B667-679803BF5FC4__CIHGJHHA">Example 3-1</a> provides two object types, and a table of object types. Subsequent examples show how to declare variables of those object types in PL/SQL and perform other operations with these objects.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-844171F2-515B-4345-B667-679803BF5FC4__CIHGJHHA">
                     <p class="titleinexample">Example 3-1 Working With Object Types</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE address_typ AS OBJECT ( 
   street          VARCHAR2(30),
   city            VARCHAR2(20),
   state           CHAR(2),
   postal_code     VARCHAR2(6) );
/
CREATE TYPE employee_typ AS OBJECT (
  employee_id       NUMBER(6),
  first_name        VARCHAR2(20),
  last_name         VARCHAR2(25),
  email             VARCHAR2(25),
  phone_number      VARCHAR2(20),
  hire_date         DATE,
  job_id            VARCHAR2(10),
  salary            NUMBER(8,2),
  commission_pct    NUMBER(2,2),
  manager_id        NUMBER(6),
  department_id     NUMBER(4),
  address           address_typ,
  MAP MEMBER FUNCTION get_idno RETURN NUMBER,
  MEMBER PROCEDURE display_address ( SELF IN OUT NOCOPY employee_typ ) );
/
CREATE TYPE BODY employee_typ AS
  MAP MEMBER FUNCTION get_idno RETURN NUMBER IS
  BEGIN
    RETURN employee_id;
  END;
  MEMBER PROCEDURE display_address ( SELF IN OUT NOCOPY employee_typ ) IS
  BEGIN
    DBMS_OUTPUT.PUT_LINE(first_name || ' '  || last_name);
    DBMS_OUTPUT.PUT_LINE(address.street);
    DBMS_OUTPUT.PUT_LINE(address.city || ', '  || address.state || ' ' ||
                         address.postal_code);   
  END;
END;
/
CREATE TABLE employee_tab OF employee_typ;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADOBJ7174"></a><a id="ADOBJ7173"></a><div class="props_rev_3"><a id="GUID-FA468D73-0858-484F-B1BF-2811215F3632" name="GUID-FA468D73-0858-484F-B1BF-2811215F3632"></a><h3 id="ADOBJ-GUID-FA468D73-0858-484F-B1BF-2811215F3632" class="sect3"><span class="enumeration_section">3.1.2 </span>Declaring Objects in a PL/SQL Block
               </h3>
               <div>
                  <div class="section">
                     <p>You can use objects or ADTs wherever built-in types such as <code class="codeph">CHAR</code> or <code class="codeph">NUMBER</code> can be used.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Declare objects in the same way you declare built-in types.</p>
                        </li>
                     </ul>
                     <p><a href="declaring-initializing-objects-in-plsql.html#GUID-FA468D73-0858-484F-B1BF-2811215F3632__BABIHHCG">Example 3-2</a> declares object <code class="codeph">emp</code> of type <code class="codeph">employee_typ</code>. Then, the constructor for object type <code class="codeph">employee_typ</code> initializes the object.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FA468D73-0858-484F-B1BF-2811215F3632__BABIHHCG">
                     <p class="titleinexample">Example 3-2 Declaring Objects in a PL/SQL Block</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 3-1
DECLARE
  emp employee_typ; -- emp is atomically null
BEGIN
-- call the constructor for employee_typ
  emp := employee_typ(315, 'Francis', 'Logan', 'FLOGAN',
        '415.555.0100', '01-MAY-04', 'SA_MAN', 11000, .15, 101, 110, 
         address_typ('376 Mission', 'San Francisco', 'CA', '94222'));
  DBMS_OUTPUT.PUT_LINE(emp.first_name || ' ' || emp.last_name); -- display details
  emp.display_address();  -- call object method to display details
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>The formal parameter of a PL/SQL subprogram can have data types of user-defined types. Therefore, you can pass objects to stored subprograms and from one subprogram to another. </p>
                     <p>In the next code line, the object type <code class="codeph">employee_typ</code> specifies the data type of a formal parameter: 
                     </p>
                     <p><code class="codeph">PROCEDURE open_acct (new_acct IN OUT employee_typ) IS ...</code></p>
                     <p>In this code line, object type <code class="codeph">employee_typ</code> specifies the return type of a function:
                     </p>
                     <p><code class="codeph">FUNCTION get_acct (acct_id IN NUMBER) RETURN employee_typ IS ...</code></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADOBJ7175"></a><div class="props_rev_3"><a id="GUID-23135172-82E2-4C3E-800D-E584B43B578E" name="GUID-23135172-82E2-4C3E-800D-E584B43B578E"></a><h3 id="ADOBJ-GUID-23135172-82E2-4C3E-800D-E584B43B578E" class="sect3"><span class="enumeration_section">3.1.3 </span>How PL/SQL Treats Uninitialized Objects
               </h3>
               <div>
                  <p>User-defined types, just like collections, are atomically null, until you initialize the object by calling the constructor for its object type. That is, the object itself is null, not just its attributes. </p>
                  <p>Comparing a null object with any other object always yields <code class="codeph">NULL</code>. Also, if you assign an atomically null object to another object, the other object becomes atomically null (and must be reinitialized). Likewise, if you assign the non-value <code class="codeph">NULL</code> to an object, the object becomes atomically null.
                  </p>
                  <p>In an expression, attributes of an uninitialized object evaluate to <code class="codeph">NULL</code>. When applied to an uninitialized object or its attributes, the <code class="codeph">IS</code> <code class="codeph">NULL</code> comparison operator yields <code class="codeph">TRUE</code>.
                  </p>
                  <p>See <a href="Sql-object-types-and-references.html#GUID-821233F6-ABA9-4100-B5E4-937F7DC57102__CIHGJFGD">Example 2-1</a> for an illustration of null objects and objects with null attributes.
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>