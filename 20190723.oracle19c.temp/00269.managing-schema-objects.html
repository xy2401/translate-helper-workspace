<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create and manage several types of schema objects with Oracle Database.">
      <meta name="description" content="You can create and manage several types of schema objects with Oracle Database.">
      <title>Managing Schema Objects</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="You can create and manage several types of schema objects with Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="schema-objects.html" title="Previous" type="text/html">
      <link rel="next" href="managing-space-for-schema-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="schema-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-space-for-schema-objects.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects.html" property="item" typeof="WebPage"><span property="name">Schema Objects</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing Schema Objects</li>
            </ol>
            <a id="GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" name="GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B"></a><a id="ADMIN021"></a>
            
            <h2 id="ADMIN-GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" class="sect2"><span class="enumeration_chapter">18 </span> Managing Schema Objects
            </h2>
         </header>
         <div class="ind">
            <p>You can create and manage several types of schema objects with Oracle Database.</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-C71E5A48-F74A-4EF8-BD73-B1282FE3730E">Creating Multiple Tables and Views in a Single Operation</a><br>You can create several tables and views and grant privileges in one operation using the <code class="codeph">CREATE SCHEMA</code> statement. If an individual table, view or grant fails, the entire statement is rolled back. None of the objects are created, nor are the privileges granted.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9">Analyzing Tables, Indexes, and Clusters</a><br>You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53">Truncating Tables and Clusters</a><br>You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6">Enabling and Disabling Triggers</a><br>Database triggers are procedures that are stored in the database and activated ("fired") when specific conditions occur, such as adding a row to a table. 
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA">Managing Integrity Constraints</a><br>Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED">Renaming Schema Objects</a><br>There are several ways to rename an object.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21">Managing Object Dependencies</a><br>Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498">Managing Object Name Resolution</a><br>Object names referenced in SQL statements can consist of several pieces, separated by periods. Oracle Database performs specific actions to resolve an object name.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-EF3A83FC-DAD6-4151-961D-628CD2B9D56D">Switching to a Different Schema</a><br>Use an <code class="codeph">ALTER SESSION</code> SQL statement to switch to a different schema.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037">Managing Editions</a><br>Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.
                  </li>
                  <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF">Displaying Information About Schema Objects</a><br>Oracle Database provides a PL/SQL package that enables you to determine the DDL that created an object and data dictionary views that you can use to display information about schema objects.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="schema-objects.html#GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" title="You can create and manage schema objects in Oracle Database.">Schema Objects</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11523"></a><div class="props_rev_3"><a id="GUID-C71E5A48-F74A-4EF8-BD73-B1282FE3730E" name="GUID-C71E5A48-F74A-4EF8-BD73-B1282FE3730E"></a><h3 id="ADMIN-GUID-C71E5A48-F74A-4EF8-BD73-B1282FE3730E" class="sect3"><span class="enumeration_section">18.1 </span>Creating Multiple Tables and Views in a Single Operation
               </h3>
               <div>
                  <p>You can create several tables and views and grant privileges in one operation using the <code class="codeph">CREATE SCHEMA</code> statement. If an individual table, view or grant fails, the entire statement is rolled back. None of the objects are created, nor are the privileges granted.
                  </p>
                  <div class="section">
                     <p></p>
                     <p>Specifically, the <code class="codeph">CREATE SCHEMA</code> statement can include <span class="italic">only</span> <code class="codeph">CREATE TABLE</code>, <code class="codeph">CREATE VIEW</code>, and <code class="codeph">GRANT</code> statements. You must have the privileges necessary to issue the included statements. You are not actually creating a schema, that is done when the user is created with a <code class="codeph">CREATE USER</code> statement. Rather, you are populating the schema.
                     </p>
                     <p>The following statement creates two tables and a view that joins data from the two tables:</p><pre class="oac_no_warn" dir="ltr">CREATE SCHEMA AUTHORIZATION scott
    CREATE TABLE dept (
        deptno NUMBER(3,0) PRIMARY KEY,
        dname VARCHAR2(15),
        loc VARCHAR2(25))
    CREATE TABLE emp (
        empno NUMBER(5,0) PRIMARY KEY,
        ename VARCHAR2(15) NOT NULL,
        job VARCHAR2(10),
        mgr NUMBER(5,0),
        hiredate DATE DEFAULT (sysdate),
        sal NUMBER(7,2),
        comm NUMBER(7,2),
        deptno NUMBER(3,0) NOT NULL
        CONSTRAINT dept_fkey REFERENCES dept)
   CREATE VIEW sales_staff AS
        SELECT empno, ename, sal, comm
        FROM emp
        WHERE deptno = 30
        WITH CHECK OPTION CONSTRAINT sales_staff_cnst
        GRANT SELECT ON sales_staff TO human_resources;
</pre><p>The <code class="codeph">CREATE SCHEMA</code> statement does not support Oracle Database extensions to the ANSI <code class="codeph">CREATE TABLE</code> and <code class="codeph">CREATE VIEW</code> statements, including the <code class="codeph">STORAGE</code> clause.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C71E5A48-F74A-4EF8-BD73-B1282FE3730E__GUID-DC6FF6C2-012E-4B13-AC58-D0E0AD158E63">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/CREATE-SCHEMA.html#SQLRF01313" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the <code class="codeph">CREATE SCHEMA</code> statement
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" name="GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9"></a><h3 id="ADMIN-GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" class="sect3"><span class="enumeration_section">18.2 </span>Analyzing Tables, Indexes, and Clusters
               </h3>
               <p>You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675">About Analyzing Tables, Indexes, and Clusters</a><br>You can collect information about schema objects and analyze that information.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-1F5331A0-176B-428E-B735-ED9D74C8B675">Using DBMS_STATS to Collect Table and Index Statistics</a><br>You can use the <code class="codeph">DBMS_STATS</code> package or the <code class="codeph">ANALYZE</code> statement to gather statistics about the physical storage characteristics of a table, index, or cluster. These statistics are stored in the data dictionary and can be used by the optimizer to choose the most efficient execution plan for SQL statements accessing analyzed objects.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-4D413507-A992-44B0-8366-867B78E0B6FF">Validating Tables, Indexes, Clusters, and Materialized Views</a><br>To verify the integrity of the structure of a table, index, cluster, or materialized view, use the <code class="codeph">ANALYZE</code> statement with the <code class="codeph">VALIDATE STRUCTURE</code> option.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065">Cross Validation of a Table and an Index with a Query</a><br>In some cases, an <code class="codeph">ANALYZE</code> statement takes an inordinate amount of time to complete. In these cases, you can use a SQL query to validate an index.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7">Listing Chained Rows of Tables and Clusters</a><br>You can look at the chained and migrated rows of a table or cluster using the <code class="codeph">ANALYZE</code> statement with the <code class="codeph">LIST CHAINED ROWS</code> clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the <code class="codeph">LIST CHAINED ROWS</code> clause. These results are useful in determining whether you have enough room for updates to rows.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11524"></a><div class="props_rev_3"><a id="GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675" name="GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675"></a><h4 id="ADMIN-GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675" class="sect4"><span class="enumeration_section">18.2.1 </span>About Analyzing Tables, Indexes, and Clusters
                  </h4>
                  <div>
                     <p>You can collect information about schema objects and analyze that information.</p>
                     <p>You analyze a schema object (table, index, or cluster) to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Collect and manage statistics for it</p>
                        </li>
                        <li>
                           <p>Verify the validity of its storage format</p>
                        </li>
                        <li>
                           <p>Identify migrated and chained rows of a table or cluster</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675__GUID-B712E70E-D72A-47A7-869F-0604A27C7C56">
                        <p class="notep1">Note:</p>
                        <p>Do not use the <code class="codeph">COMPUTE</code> and <code class="codeph">ESTIMATE</code> clauses of <code class="codeph">ANALYZE</code> to collect optimizer statistics. These clauses have been deprecated. Instead, use the <code class="codeph">DBMS_STATS</code> package, which lets you collect statistics in parallel, collect global statistics for partitioned objects, and fine tune your statistics collection in other ways. The cost-based optimizer, which depends upon statistics, will eventually use only statistics that have been collected by <code class="codeph">DBMS_STATS</code>. See <a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for more information on the <code class="codeph">DBMS_STATS</code> package.
                        </p>
                        <p>You must use the <code class="codeph">ANALYZE</code> statement (rather than <code class="codeph">DBMS_STATS</code>) for statistics collection not related to the cost-based optimizer, such as:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To use the <code class="codeph">VALIDATE</code> or <code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> clauses
                              </p>
                           </li>
                           <li>
                              <p>To collect information on freelist blocks</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" title="You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.">Analyzing Tables, Indexes, and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11525"></a><div class="props_rev_3"><a id="GUID-1F5331A0-176B-428E-B735-ED9D74C8B675" name="GUID-1F5331A0-176B-428E-B735-ED9D74C8B675"></a><h4 id="ADMIN-GUID-1F5331A0-176B-428E-B735-ED9D74C8B675" class="sect4"><span class="enumeration_section">18.2.2 </span>Using DBMS_STATS to Collect Table and Index Statistics
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">DBMS_STATS</code> package or the <code class="codeph">ANALYZE</code> statement to gather statistics about the physical storage characteristics of a table, index, or cluster. These statistics are stored in the data dictionary and can be used by the optimizer to choose the most efficient execution plan for SQL statements accessing analyzed objects.
                     </p>
                     <p>Oracle recommends using the more versatile <code class="codeph">DBMS_STATS</code> package for gathering optimizer statistics, but you must use the <code class="codeph">ANALYZE</code> statement to collect statistics unrelated to the optimizer, such as empty blocks, average space, and so forth.
                     </p>
                     <p>The <code class="codeph">DBMS_STATS</code> package allows both the gathering of statistics, including utilizing parallel execution, and the external manipulation of statistics. Statistics can be stored in tables outside of the data dictionary, where they can be manipulated without affecting the optimizer. Statistics can be copied between databases or backup copies can be made.
                     </p>
                     <p>The following <code class="codeph">DBMS_STATS</code> procedures enable the gathering of optimizer statistics: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">GATHER_INDEX_STATS</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GATHER_TABLE_STATS</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GATHER_SCHEMA_STATS</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">GATHER_DATABASE_STATS</code> 
                           </p>
                           <div class="infoboxnotealso" id="GUID-1F5331A0-176B-428E-B735-ED9D74C8B675__GUID-263F6A0B-02CA-433E-A315-BDF6E8360668">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information about using <code class="codeph">DBMS_STATS</code> to gather statistics for the optimizer
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for a description of the <code class="codeph">DBMS_STATS</code> package
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" title="You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.">Analyzing Tables, Indexes, and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11526"></a><div class="props_rev_3"><a id="GUID-4D413507-A992-44B0-8366-867B78E0B6FF" name="GUID-4D413507-A992-44B0-8366-867B78E0B6FF"></a><h4 id="ADMIN-GUID-4D413507-A992-44B0-8366-867B78E0B6FF" class="sect4"><span class="enumeration_section">18.2.3 </span>Validating Tables, Indexes, Clusters, and Materialized Views
                  </h4>
                  <div>
                     <p>To verify the integrity of the structure of a table, index, cluster, or materialized view, use the <code class="codeph">ANALYZE</code> statement with the <code class="codeph">VALIDATE STRUCTURE</code> option.
                     </p>
                     <div class="section">
                        <p>If the structure is valid, then no error is returned. However, if the structure is corrupt, then you receive an error message. </p>
                        <p>For example, in rare cases such as hardware or other system failures, an index can become corrupted and not perform correctly. When validating the index, you can confirm that every entry in the index points to the correct row of the associated table. If the index is corrupt, then you can drop and re-create it. </p>
                        <p>If a table, index, or cluster is corrupt, then drop it and re-create it. If a materialized view is corrupt, then perform a complete refresh and ensure that you have remedied the problem. If the problem is not corrected, then drop and re-create the materialized view.</p>
                        <p>The following statement analyzes the <code class="codeph">emp</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE emp VALIDATE STRUCTURE;
</pre><p>You can validate an object and all dependent objects (for example, indexes) by including the <code class="codeph">CASCADE</code> option. The following statement validates the <code class="codeph">emp</code> table and all associated indexes:
                        </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE emp VALIDATE STRUCTURE CASCADE;
</pre><p>By default the <code class="codeph">CASCADE</code> option performs a complete validation. Because this operation can be resource intensive, you can perform a faster version of the validation by using the <code class="codeph">FAST</code> clause. This version checks for the existence of corruptions using an optimized check algorithm, but does not report details about the corruption. If the <code class="codeph">FAST</code> check finds a corruption, then you can then use the <code class="codeph">CASCADE</code> option without the <code class="codeph">FAST</code> clause to locate it. The following statement performs a fast validation on the <code class="codeph">emp</code> table and all associated indexes:
                        </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE emp VALIDATE STRUCTURE CASCADE FAST;
</pre><p>If fast validation takes an inordinate amount of time, then you have the option of validating individual indexes with a SQL query. See <span class="q">"<a href="managing-schema-objects.html#GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065" title="In some cases, an ANALYZE statement takes an inordinate amount of time to complete. In these cases, you can use a SQL query to validate an index.">Cross Validation of a Table and an Index with a Query</a>"</span>.
                        </p>
                        <p>You can specify that you want to perform structure validation online while DML is occurring against the object being validated. Validation is less comprehensive with ongoing DML affecting the object, but this is offset by the flexibility of being able to perform <code class="codeph">ANALYZE</code> online. The following statement validates the <code class="codeph">emp</code> table and all associated indexes online:
                        </p><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE emp VALIDATE STRUCTURE CASCADE ONLINE;
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4D413507-A992-44B0-8366-867B78E0B6FF__GUID-F55B1E59-8D89-4881-98A2-D2325E0472F1">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on the <code class="codeph">ANALYZE</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" title="You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.">Analyzing Tables, Indexes, and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14215"></a><div class="props_rev_3"><a id="GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065" name="GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065"></a><h4 id="ADMIN-GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065" class="sect4"><span class="enumeration_section">18.2.4 </span>Cross Validation of a Table and an Index with a Query
                  </h4>
                  <div>
                     <p>In some cases, an <code class="codeph">ANALYZE</code> statement takes an inordinate amount of time to complete. In these cases, you can use a SQL query to validate an index.
                     </p>
                     <div class="section">
                        <p>If the query determines that there is an inconsistency between a table and an index, then you can use an <code class="codeph">ANALYZE</code> statement for a thorough analysis of the index. Since typically most objects in a database are not corrupt, you can use this quick query to eliminate a number of tables as candidates for corruption and only use the ANALYZE statement on tables that might be corrupt.
                        </p>
                        <p>To validate an index, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT /*+ FULL(ALIAS) PARALLEL(ALIAS, DOP) */ SUM(ORA_HASH(ROWID))
   FROM <span class="italic">table_name</span> ALIAS 
   WHERE ALIAS.<span class="italic">index_column</span> IS NOT NULL 
      MINUS SELECT /*+ INDEX_FFS(ALIAS <span class="italic">index_name</span>) 
      PARALLEL_INDEX(ALIAS, <span class="italic">index_name</span>, DOP) */ SUM(ORA_HASH(ROWID)) 
   FROM <span class="italic">table_name</span> ALIAS WHERE ALIAS.<span class="italic">index_column</span> IS NOT NULL;
</pre><p>When you run the query, make the following substitutions:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Enter the table name for the <span class="italic">table_name</span> placeholder.
                              </p>
                           </li>
                           <li>
                              <p>Enter the index column for the <span class="italic">index_column</span> placeholder.
                              </p>
                           </li>
                           <li>
                              <p>Enter the index name for the <span class="italic">index_name</span> placeholder.
                              </p>
                           </li>
                        </ul>
                        <p>If the query returns any rows, then there is a possible inconsistency, and you can use an <code class="codeph">ANALYZE</code> statement for further diagnosis.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F25B8EBF-670E-44C9-B399-3AE1D521D065__GUID-4B953268-2498-478E-9A89-446931127DA0">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ANALYZE.html#SQLRF53672" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ANALYZE</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" title="You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.">Analyzing Tables, Indexes, and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11527"></a><div class="props_rev_3"><a id="GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" name="GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7"></a><h4 id="ADMIN-GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" class="sect4"><span class="enumeration_section">18.2.5 </span>Listing Chained Rows of Tables and Clusters
                  </h4>
                  <p>You can look at the chained and migrated rows of a table or cluster using the <code class="codeph">ANALYZE</code> statement with the <code class="codeph">LIST CHAINED ROWS</code> clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the <code class="codeph">LIST CHAINED ROWS</code> clause. These results are useful in determining whether you have enough room for updates to rows.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7">Creating a CHAINED_ROWS Table</a><br>To create the table to accept data returned by an <code class="codeph">ANALYZE...LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> statement, execute the <code class="codeph">UTLCHAIN.SQL</code> or <code class="codeph">UTLCHN1.SQL</code> script.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-1660BF4E-DEC6-4F8B-81D9-0669996B73D8">Eliminating Migrated or Chained Rows in a Table</a><br>You can use the information in the <code class="codeph">CHAINED_ROWS</code> table to reduce or eliminate migrated and chained rows in an existing table.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-4319DB4B-9D79-4AAB-91D5-B6DE81B4C2C9" title="You can collecting statistics on schema objects, analyze the statistics, and validate the schema objects.">Analyzing Tables, Indexes, and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11528"></a><div class="props_rev_3"><a id="GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7" name="GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7"></a><h5 id="ADMIN-GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7" class="sect5"><span class="enumeration_section">18.2.5.1 </span>Creating a CHAINED_ROWS Table
                     </h5>
                     <div>
                        <p>To create the table to accept data returned by an <code class="codeph">ANALYZE...LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> statement, execute the <code class="codeph">UTLCHAIN.SQL</code> or <code class="codeph">UTLCHN1.SQL</code> script.
                        </p>
                        <div class="section">
                           <p>These scripts are provided by the database. They create a table named <code class="codeph">CHAINED_ROWS</code> in the schema of the user submitting the script.
                           </p>
                           <div class="infoboxnote" id="GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7__GUID-6FB584DC-CC7B-401E-A7A6-22E6ACB0E5AF">
                              <p class="notep1">Note:</p>
                              <p>Your choice of script to execute for creating the <code class="codeph">CHAINED_ROWS</code> table depends on the compatibility level of your database and the type of table you are analyzing. See the <a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for more information.
                              </p>
                           </div>
                           <p>After a <code class="codeph">CHAINED_ROWS</code> table is created, you specify it in the <code class="codeph">INTO</code> clause of the <code class="codeph">ANALYZE</code> statement. For example, the following statement inserts rows containing information about the chained rows in the <code class="codeph">emp_dept</code> cluster into the <code class="codeph">CHAINED_ROWS</code> table:
                           </p><pre class="oac_no_warn" dir="ltr">ANALYZE CLUSTER emp_dept LIST CHAINED ROWS INTO CHAINED_ROWS;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D836A2C1-1FB2-45E6-A1C2-8D91F3A6FAA7__GUID-565D6153-598F-4C2A-96D0-049591D1F746">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../refrn/CHAINED_ROWS.html#REFRN29502" target="_blank"><span class="italic">Oracle Database Reference </span></a>for a description of the <code class="codeph">CHAINED_ROWS</code> table
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-space-for-schema-objects.html#GUID-E9B57A45-2688-42B6-9782-D49702D51F24" title="To use the Segment Advisor, check the results of Automatic Segment Advisor, and, optionally, run the Segment Advisor manually.">Using the Segment Advisor</a>"</span> for information on how the Segment Advisor reports tables with excess row chaining.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" title="You can look at the chained and migrated rows of a table or cluster using the ANALYZE statement with the LIST CHAINED ROWS clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the LIST CHAINED ROWS clause. These results are useful in determining whether you have enough room for updates to rows.">Listing Chained Rows of Tables and Clusters</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11529"></a><div class="props_rev_3"><a id="GUID-1660BF4E-DEC6-4F8B-81D9-0669996B73D8" name="GUID-1660BF4E-DEC6-4F8B-81D9-0669996B73D8"></a><h5 id="ADMIN-GUID-1660BF4E-DEC6-4F8B-81D9-0669996B73D8" class="sect5"><span class="enumeration_section">18.2.5.2 </span>Eliminating Migrated or Chained Rows in a Table
                     </h5>
                     <div>
                        <p>You can use the information in the <code class="codeph">CHAINED_ROWS</code> table to reduce or eliminate migrated and chained rows in an existing table.
                        </p>
                        <div class="section">
                           <p>Use the following procedure:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Use the <code class="codeph">ANALYZE</code> statement to collect information about migrated and chained rows. </span><div><pre class="oac_no_warn" dir="ltr">ANALYZE TABLE order_hist LIST CHAINED ROWS;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query the output table:</span><div><pre class="oac_no_warn" dir="ltr">SELECT *
FROM CHAINED_ROWS
WHERE TABLE_NAME = 'ORDER_HIST';

OWNER_NAME  TABLE_NAME  CLUST... HEAD_ROWID          TIMESTAMP
----------  ----------  -----... ------------------  ---------
SCOTT       ORDER_HIST       ... AAAAluAAHAAAAA1AAA  04-MAR-96
SCOTT       ORDER_HIST       ... AAAAluAAHAAAAA1AAB  04-MAR-96
SCOTT       ORDER_HIST       ... AAAAluAAHAAAAA1AAC  04-MAR-96
</pre><p>The output lists all rows that are either migrated or chained.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>If the output table shows that you have many migrated or chained rows, then you can eliminate migrated rows by continuing through the following steps:</span></li>
                           <li class="stepexpand"><span>Create an intermediate table with the same columns as the existing table to hold the migrated and chained rows:</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE int_order_hist
   AS SELECT *
      FROM order_hist
      WHERE ROWID IN
         (SELECT HEAD_ROWID
            FROM CHAINED_ROWS
            WHERE TABLE_NAME = 'ORDER_HIST');
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Delete the migrated and chained rows from the existing table:</span><div><pre class="oac_no_warn" dir="ltr">DELETE FROM order_hist
   WHERE ROWID IN
      (SELECT HEAD_ROWID
         FROM CHAINED_ROWS
         WHERE TABLE_NAME = 'ORDER_HIST');
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Insert the rows of the intermediate table into the existing table:</span><div><pre class="oac_no_warn" dir="ltr">INSERT INTO order_hist
   SELECT *
   FROM int_order_hist;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the intermediate table:</span><div><pre class="oac_no_warn" dir="ltr">DROP TABLE int_order_history;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Delete the information collected in step 1 from the output table:</span><div><pre class="oac_no_warn" dir="ltr">DELETE FROM CHAINED_ROWS
   WHERE TABLE_NAME = 'ORDER_HIST';
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Use the <code class="codeph">ANALYZE</code> statement again, and query the output table.</span></li>
                        </ol>
                        <div class="section">
                           <p>Any rows that appear in the output table are chained. You can eliminate chained rows only by increasing your data block size. It might not be possible to avoid chaining in all situations. Chaining is often unavoidable with tables that have a <code class="codeph">LONG</code> column or large <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2</code> columns.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" title="You can look at the chained and migrated rows of a table or cluster using the ANALYZE statement with the LIST CHAINED ROWS clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the LIST CHAINED ROWS clause. These results are useful in determining whether you have enough room for updates to rows.">Listing Chained Rows of Tables and Clusters</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11530"></a><div class="props_rev_3"><a id="GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" name="GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53"></a><h3 id="ADMIN-GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" class="sect3"><span class="enumeration_section">18.3 </span>Truncating Tables and Clusters
               </h3>
               <p>You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-2B4076D5-AFF6-4338-8D00-6194EC629660">Using DELETE to Truncate a Table</a><br>You can delete the rows of a table using the <code class="codeph">DELETE</code> SQL statement. 
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-EE12ABAE-3656-4581-820E-6FB3F3D406A4">Using DROP and CREATE to Truncate a Table</a><br>You can drop a table and then re-create the table to truncate it.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-B6D06F99-EA91-44B1-A6B3-4B07C8DF9C6D">Using TRUNCATE</a><br>You can delete all rows of the table using the <code class="codeph">TRUNCATE</code> statement.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11531"></a><div class="props_rev_3"><a id="GUID-2B4076D5-AFF6-4338-8D00-6194EC629660" name="GUID-2B4076D5-AFF6-4338-8D00-6194EC629660"></a><h4 id="ADMIN-GUID-2B4076D5-AFF6-4338-8D00-6194EC629660" class="sect4"><span class="enumeration_section">18.3.1 </span>Using DELETE to Truncate a Table
                  </h4>
                  <div>
                     <p>You can delete the rows of a table using the <code class="codeph">DELETE</code> SQL statement. 
                     </p>
                     <div class="section">
                        <p>For example, the following statement deletes all rows from the <code class="codeph">emp</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">DELETE FROM emp;
</pre><p>If there are many rows present in a table or cluster when using the <code class="codeph">DELETE</code> statement, significant system resources are consumed as the rows are deleted. For example, CPU time, redo log space, and undo segment space from the table and any associated indexes require resources. Also, as each row is deleted, triggers can be fired. The space previously allocated to the resulting empty table or cluster remains associated with that object. With <code class="codeph">DELETE</code> you can choose which rows to delete, whereas <code class="codeph">TRUNCATE</code> and <code class="codeph">DROP</code> affect the entire object.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B4076D5-AFF6-4338-8D00-6194EC629660__GUID-0EA5607E-B016-4DE7-9809-9A1B60C84D2D">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/DELETE.html#SQLRF01505" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the <code class="codeph">DELETE</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" title="You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.">Truncating Tables and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11532"></a><div class="props_rev_3"><a id="GUID-EE12ABAE-3656-4581-820E-6FB3F3D406A4" name="GUID-EE12ABAE-3656-4581-820E-6FB3F3D406A4"></a><h4 id="ADMIN-GUID-EE12ABAE-3656-4581-820E-6FB3F3D406A4" class="sect4"><span class="enumeration_section">18.3.2 </span>Using DROP and CREATE to Truncate a Table
                  </h4>
                  <div>
                     <p>You can drop a table and then re-create the table to truncate it.</p>
                     <div class="section">
                        <p>For example, the following statements drop and then re-create the <code class="codeph">emp</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">DROP TABLE emp;
CREATE TABLE emp ( ... );
</pre><p>When dropping and re-creating a table or cluster, all associated indexes, integrity constraints, and triggers are also dropped, and all objects that depend on the dropped table or clustered table are invalidated. Also, all grants for the dropped table or clustered table are dropped.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" title="You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.">Truncating Tables and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11533"></a><div class="props_rev_3"><a id="GUID-B6D06F99-EA91-44B1-A6B3-4B07C8DF9C6D" name="GUID-B6D06F99-EA91-44B1-A6B3-4B07C8DF9C6D"></a><h4 id="ADMIN-GUID-B6D06F99-EA91-44B1-A6B3-4B07C8DF9C6D" class="sect4"><span class="enumeration_section">18.3.3 </span>Using TRUNCATE
                  </h4>
                  <div>
                     <p>You can delete all rows of the table using the <code class="codeph">TRUNCATE</code> statement.
                     </p>
                     <div class="section">
                        <p>For example, the following statement truncates the <code class="codeph">emp</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">TRUNCATE TABLE emp;
</pre><p>Using the <code class="codeph">TRUNCATE</code> statement provides a fast, efficient method for deleting all rows from a table or cluster. A <code class="codeph">TRUNCATE</code> statement does not generate any undo information and it commits immediately. It is a DDL statement and cannot be rolled back. A <code class="codeph">TRUNCATE</code> statement does not affect any structures associated with the table being truncated (constraints and triggers) or authorizations. A <code class="codeph">TRUNCATE</code> statement also specifies whether space currently allocated for the table is returned to the containing tablespace after truncation.
                        </p>
                        <p>You can truncate any table or cluster in your own schema. Any user who has the <code class="codeph">DROP ANY TABLE</code> system privilege can truncate a table or cluster in any schema.
                        </p>
                        <p>Before truncating a table or clustered table containing a parent key, all referencing foreign keys in different tables must be disabled. A self-referential constraint does not have to be disabled.</p>
                        <p>As a <code class="codeph">TRUNCATE</code> statement deletes rows from a table, triggers associated with the table are not fired. Also, a <code class="codeph">TRUNCATE</code> statement does not generate any audit information corresponding to <code class="codeph">DELETE</code> statements if auditing is enabled. Instead, a single audit record is generated for the <code class="codeph">TRUNCATE</code> statement being issued.
                        </p>
                        <p>A hash cluster cannot be truncated, nor can tables within a hash or index cluster be individually truncated. Truncation of an index cluster deletes all rows from all tables in the cluster. If all the rows must be deleted from an individual clustered table, use the <code class="codeph">DELETE</code> statement or drop and re-create the table.
                        </p>
                        <p>The <code class="codeph">TRUNCATE</code> statement has several options that control whether space currently allocated for a table or cluster is returned to the containing tablespace after truncation.
                        </p>
                        <p>These options also apply to any associated indexes. When a table or cluster is truncated, all associated indexes are also truncated. The storage parameters for a truncated table, cluster, or associated indexes are not changed as a result of the truncation.</p>
                        <p>These <code class="codeph">TRUNCATE</code> options are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DROP STORAGE</code>, the default option, reduces the number of extents allocated to the resulting table to the original setting for <code class="codeph">MINEXTENTS</code>. Freed extents are then returned to the system and can be used by other objects. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP</code> <code class="codeph">ALL</code> <code class="codeph">STORAGE</code> drops the segment. In addition to the <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement, <code class="codeph">DROP</code> <code class="codeph">ALL</code> <code class="codeph">STORAGE</code> also applies to the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">TRUNCATE</code> <code class="codeph">(SUB)PARTITION</code> statement. This option also drops any dependent object segments associated with the partition being truncated.
                              </p>
                              <p><code class="codeph">DROP</code> <code class="codeph">ALL</code> <code class="codeph">STORAGE</code> is not supported for clusters.
                              </p><pre class="oac_no_warn" dir="ltr">TRUNCATE TABLE emp DROP ALL STORAGE;
</pre></li>
                           <li>
                              <p><code class="codeph">REUSE STORAGE</code> specifies that all space currently allocated for the table or cluster remains allocated to it. For example, the following statement truncates the <code class="codeph">emp_dept</code> cluster, leaving all extents previously allocated for the cluster available for subsequent inserts and deletes:
                              </p><pre class="oac_no_warn" dir="ltr">TRUNCATE CLUSTER emp_dept REUSE STORAGE;
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B6D06F99-EA91-44B1-A6B3-4B07C8DF9C6D__GUID-64A9DD50-E6DF-45DB-AA42-4070B8AAC6AF">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/TRUNCATE-TABLE.html#SQLRF01707" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the <code class="codeph">TRUNCATE TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/TRUNCATE-CLUSTER.html#SQLRF20029" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the <code class="codeph">TRUNCATE CLUSTER</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/part_6.html#DBSEG006" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about auditing
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" title="You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.">Truncating Tables and Clusters</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6" name="GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6"></a><h3 id="ADMIN-GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6" class="sect3"><span class="enumeration_section">18.4 </span>Enabling and Disabling Triggers
               </h3>
               <div>
                  <p>Database triggers are procedures that are stored in the database and activated ("fired") when specific conditions occur, such as adding a row to a table. </p>
                  <p>You can use triggers to supplement the standard capabilities of the database to provide a highly customized database management system. For example, you can create a trigger to restrict DML operations against a table, allowing only statements issued during regular business hours.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-CC16D430-A0C0-4CE4-A8F1-9E3E46354519">About Enabling and Disabling Triggers</a><br>An enabled trigger executes its trigger body if a triggering statement is issued and the trigger restriction, if any, evaluates to true. By default, triggers are enabled when first created. A disabled trigger does not execute its trigger body, even if a triggering statement is issued and the trigger restriction (if any) evaluates to true.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-2B5335AD-903A-4CB4-9860-055208FEDC2E">Enabling Triggers</a><br>You enable a disabled trigger using the <code class="codeph">ALTER TRIGGER</code> statement with the <code class="codeph">ENABLE</code> option.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-BF54CB3A-AD90-42E1-9586-CED852F6CF04">Disabling Triggers</a><br>You disable a trigger using the <code class="codeph">ALTER TRIGGER</code> statement with the <code class="codeph">DISABLE</code> option.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11534"></a><div class="props_rev_3"><a id="GUID-CC16D430-A0C0-4CE4-A8F1-9E3E46354519" name="GUID-CC16D430-A0C0-4CE4-A8F1-9E3E46354519"></a><h4 id="ADMIN-GUID-CC16D430-A0C0-4CE4-A8F1-9E3E46354519" class="sect4"><span class="enumeration_section">18.4.1 </span>About Enabling and Disabling Triggers
                  </h4>
                  <div>
                     <p>An enabled trigger executes its trigger body if a triggering statement is issued and the trigger restriction, if any, evaluates to true. By default, triggers are enabled when first created. A disabled trigger does not execute its trigger body, even if a triggering statement is issued and the trigger restriction (if any) evaluates to true.</p>
                     <p>Database triggers can be associated with a table, schema, or database. They are implicitly fired when:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>DML statements are executed (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>) against an associated table
                           </p>
                        </li>
                        <li>
                           <p>Certain DDL statements are executed (for example: <code class="codeph">ALTER</code>, <code class="codeph">CREATE</code>, <code class="codeph">DROP</code>) on objects within a database or schema
                           </p>
                        </li>
                        <li>
                           <p>A specified database event occurs (for example: <code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>, <code class="codeph">SERVERERROR</code>)
                           </p>
                        </li>
                     </ul>
                     <p>This is not a complete list. See the <a href="../sqlrf/CREATE-TRIGGER.html#SQLRF01405" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a full list of statements and database events that cause triggers to fire.
                     </p>
                     <p>Create triggers with the <code class="codeph">CREATE TRIGGER</code> statement. They can be defined as firing <code class="codeph">BEFORE</code> or <code class="codeph">AFTER</code> the triggering event, or <code class="codeph">INSTEAD OF</code> it. The following statement creates a trigger <code class="codeph">scott.emp_permit_changes</code> on table <code class="codeph">scott.emp</code>. The trigger fires before any of the specified statements are executed.
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TRIGGER scott.emp_permit_changes
     BEFORE
     DELETE OR INSERT OR UPDATE
     ON scott.emp
     .
     .
     .
<span class="italic">pl/sql block</span> 
     .
     .
     .
</pre><p>You can later remove a trigger from the database by issuing the <code class="codeph">DROP TRIGGER</code> statement. 
                     </p>
                     <p>To enable or disable triggers using the <code class="codeph">ALTER TABLE</code> statement, you must own the table, have the <code class="codeph">ALTER</code> object privilege for the table, or have the <code class="codeph">ALTER ANY TABLE</code> system privilege. To enable or disable an individual trigger using the <code class="codeph">ALTER TRIGGER</code> statement, you must own the trigger or have the <code class="codeph">ALTER ANY TRIGGER</code> system privilege. 
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CC16D430-A0C0-4CE4-A8F1-9E3E46354519__GUID-8F7D4E5F-3F2B-43C1-BB01-4C77FE31E7C4">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/server-side-programming.html#CNCPT118" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for a more detailed description of triggers 
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TRIGGER.html#SQLRF01405" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax of the <code class="codeph">CREATE TRIGGER</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-triggers.html#LNPLS020" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about creating and using triggers
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6" title="Database triggers are procedures that are stored in the database and activated ("fired") when specific conditions occur, such as adding a row to a table.">Enabling and Disabling Triggers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11535"></a><div class="props_rev_3"><a id="GUID-2B5335AD-903A-4CB4-9860-055208FEDC2E" name="GUID-2B5335AD-903A-4CB4-9860-055208FEDC2E"></a><h4 id="ADMIN-GUID-2B5335AD-903A-4CB4-9860-055208FEDC2E" class="sect4"><span class="enumeration_section">18.4.2 </span>Enabling Triggers
                  </h4>
                  <div>
                     <p>You enable a disabled trigger using the <code class="codeph">ALTER TRIGGER</code> statement with the <code class="codeph">ENABLE</code> option.
                     </p>
                     <div class="section">
                        <p>To enable the disabled trigger named <code class="codeph">reorder</code> on the <code class="codeph">inventory</code> table, enter the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TRIGGER reorder ENABLE;
</pre><p>To enable all triggers defined for a specific table, use the <code class="codeph">ALTER TABLE</code> statement with the <code class="codeph">ENABLE ALL TRIGGERS</code> option. To enable all triggers defined for the <code class="codeph">INVENTORY</code> table, enter the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE inventory
    ENABLE ALL TRIGGERS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B5335AD-903A-4CB4-9860-055208FEDC2E__GUID-18A83407-D1E8-40B2-BB77-EB0E61C944D4">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ALTER-TRIGGER.html#SQLRF01101" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the <code class="codeph">ALTER TRIGGER</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6" title="Database triggers are procedures that are stored in the database and activated ("fired") when specific conditions occur, such as adding a row to a table.">Enabling and Disabling Triggers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11536"></a><div class="props_rev_3"><a id="GUID-BF54CB3A-AD90-42E1-9586-CED852F6CF04" name="GUID-BF54CB3A-AD90-42E1-9586-CED852F6CF04"></a><h4 id="ADMIN-GUID-BF54CB3A-AD90-42E1-9586-CED852F6CF04" class="sect4"><span class="enumeration_section">18.4.3 </span>Disabling Triggers
                  </h4>
                  <div>
                     <p>You disable a trigger using the <code class="codeph">ALTER TRIGGER</code> statement with the <code class="codeph">DISABLE</code> option.
                     </p>
                     <div class="section">
                        <p>Consider temporarily disabling a trigger if one of the following conditions is true:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An object that the trigger references is not available.</p>
                           </li>
                           <li>
                              <p>You must perform a large data load and want it to proceed quickly without firing triggers.</p>
                           </li>
                           <li>
                              <p>You are loading data into the table to which the trigger applies.</p>
                           </li>
                        </ul>
                        <p>To disable the trigger <code class="codeph">reorder</code> on the <code class="codeph">inventory</code> table, enter the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TRIGGER reorder DISABLE;
</pre><p>You can disable all triggers associated with a table at the same time using the <code class="codeph">ALTER TABLE</code> statement with the <code class="codeph">DISABLE ALL TRIGGERS</code> option. For example, to disable all triggers defined for the <code class="codeph">inventory</code> table, enter the following statement:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE inventory
    DISABLE ALL TRIGGERS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C43A872C-7BBE-455F-9D06-41A10A107FB6" title="Database triggers are procedures that are stored in the database and activated ("fired") when specific conditions occur, such as adding a row to a table.">Enabling and Disabling Triggers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11537"></a><div class="props_rev_3"><a id="GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" name="GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA"></a><h3 id="ADMIN-GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" class="sect3"><span class="enumeration_section">18.5 </span>Managing Integrity Constraints
               </h3>
               <div>
                  <p>Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665">Integrity Constraint States</a><br>Integrity constraints enforce business rules and prevent the entry of invalid information into tables.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-F504F7C9-D201-4B32-A25C-17650FE49002">Setting Integrity Constraints Upon Definition</a><br>When an integrity constraint is defined in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement, it can be enabled, disabled, or validated or not validated as determined by your specification of the <code class="codeph">ENABLE</code>/<code class="codeph">DISABLE</code> clause. If the <code class="codeph">ENABLE</code>/<code class="codeph">DISABLE</code> clause is not specified in a constraint definition, the database automatically enables and validates the constraint.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-90ACCD15-C65D-4595-9887-CC7588824E71">Modifying, Renaming, or Dropping Existing Integrity Constraints</a><br>You can use the <code class="codeph">ALTER TABLE</code> statement to enable, disable, modify, or drop a constraint. When the database is using a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> index to enforce a constraint, and constraints associated with that index are dropped or disabled, the index is dropped, unless you specify otherwise.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD">Deferring Constraint Checks</a><br>When the database checks a constraint, it signals an error if the constraint is not satisfied. You can defer checking the validity of constraints until the end of a transaction. When you issue the <code class="codeph">SET CONSTRAINTS</code> statement, the <code class="codeph">SET CONSTRAINTS</code> mode lasts for the duration of the transaction, or until another <code class="codeph">SET CONSTRAINTS</code> statement resets the mode.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C">Reporting Constraint Exceptions</a><br>If exceptions exist when a constraint is validated, then an error is returned and the integrity constraint remains novalidated. When a statement is not successfully executed because integrity constraint exceptions exist, the statement is rolled back. If exceptions exist, then you cannot validate the constraint until all exceptions to the constraint are either updated or deleted.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA">Viewing Constraint Information</a><br>Oracle Database provides a set of views that enable you to see constraint definitions on tables and to identify columns that are specified in constraints.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA__GUID-D7285C1C-900B-46B9-89BB-91CD82D985DB">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/data-integrity.html#CNCPT021" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for a more thorough discussion of integrity constraints
                           </p>
                        </li>
                        <li>
                           <p><a href="../adfns/data-integrity.html#ADFNS004" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for detailed information and examples of using integrity constraints in applications
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" name="GUID-70A229C3-B8A2-413C-9783-A7EDB7022665"></a><h4 id="ADMIN-GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" class="sect4"><span class="enumeration_section">18.5.1 </span>Integrity Constraint States 
                  </h4>
                  <p>Integrity constraints enforce business rules and prevent the entry of invalid information into tables.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-BF457CD9-DD31-4673-BDDB-F7965A8C04E0">About Integrity Constraint States</a><br>You can specify that a constraint is enabled (<code class="codeph">ENABLE</code>) or disabled (<code class="codeph">DISABLE</code>). If a constraint is enabled, data is checked as it is entered or updated in the database, and data that does not conform to the constraint is prevented from being entered. If a constraint is disabled, then data that does not conform can be allowed to enter the database.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-3099DAE4-399D-4701-8A9A-AA947CCDE94C">About Disabling Constraints</a><br>To enforce the rules defined by integrity constraints, the constraints should always be enabled, but you can consider disabling them in certain situations.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-084A3732-98C4-46D6-9676-FCACF48C1785">About Enabling Constraints</a><br>While a constraint is enabled, no row violating the constraint can be inserted into the table.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-085CDFF3-301B-4769-826D-8931E16FAA7B">About the Enable Novalidate Constraint State</a><br>When a constraint is in the enable novalidate state, all subsequent statements are checked for conformity to the constraint. However, any existing data in the table is not checked.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C">Efficient Use of Integrity Constraints: A Procedure</a><br>It is important to use integrity constraint states in a particular order.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11538"></a><div class="props_rev_3"><a id="GUID-BF457CD9-DD31-4673-BDDB-F7965A8C04E0" name="GUID-BF457CD9-DD31-4673-BDDB-F7965A8C04E0"></a><h5 id="ADMIN-GUID-BF457CD9-DD31-4673-BDDB-F7965A8C04E0" class="sect5"><span class="enumeration_section">18.5.1.1 </span>About Integrity Constraint States
                     </h5>
                     <div>
                        <p>You can specify that a constraint is enabled (<code class="codeph">ENABLE</code>) or disabled (<code class="codeph">DISABLE</code>). If a constraint is enabled, data is checked as it is entered or updated in the database, and data that does not conform to the constraint is prevented from being entered. If a constraint is disabled, then data that does not conform can be allowed to enter the database.
                        </p>
                        <p>Additionally, you can specify that existing data in the table must conform to the constraint (<code class="codeph">VALIDATE</code>). Conversely, if you specify <code class="codeph">NOVALIDATE</code>, you are not ensured that existing data conforms. 
                        </p>
                        <p>An integrity constraint defined on a table can be in one of the following states:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ENABLE</code>, <code class="codeph">VALIDATE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE</code>, <code class="codeph">NOVALIDATE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DISABLE</code>, <code class="codeph">VALIDATE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DISABLE</code>, <code class="codeph">NOVALIDATE</code></p>
                           </li>
                        </ul>
                        <p>For details about the meaning of these states and an understanding of their consequences, see the <a href="../sqlrf/constraint.html#SQLRF52214" target="_blank"><span class="italic">Oracle Database SQL Language Reference. </span></a>Some of these consequences are discussed here.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" title="Integrity constraints enforce business rules and prevent the entry of invalid information into tables.">Integrity Constraint States</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11539"></a><div class="props_rev_3"><a id="GUID-3099DAE4-399D-4701-8A9A-AA947CCDE94C" name="GUID-3099DAE4-399D-4701-8A9A-AA947CCDE94C"></a><h5 id="ADMIN-GUID-3099DAE4-399D-4701-8A9A-AA947CCDE94C" class="sect5"><span class="enumeration_section">18.5.1.2 </span>About Disabling Constraints 
                     </h5>
                     <div>
                        <p>To enforce the rules defined by integrity constraints, the constraints should always be enabled, but you can consider disabling them in certain situations.</p>
                        <p>However, consider temporarily disabling the integrity constraints of a table for the following performance reasons:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When loading large amounts of data into a table</p>
                           </li>
                           <li>
                              <p>When performing batch operations that make massive changes to a table (for example, changing every employee's number by adding 1000 to the existing number)</p>
                           </li>
                           <li>
                              <p>When importing or exporting one table at a time</p>
                           </li>
                        </ul>
                        <p>In all three cases, temporarily disabling integrity constraints can improve the performance of the operation, especially in data warehouse configurations.</p>
                        <p>It is possible to enter data that violates a constraint while that constraint is disabled. Thus, you should always enable the constraint after completing any of the operations listed in the preceding bullet list.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" title="Integrity constraints enforce business rules and prevent the entry of invalid information into tables.">Integrity Constraint States</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11540"></a><div class="props_rev_3"><a id="GUID-084A3732-98C4-46D6-9676-FCACF48C1785" name="GUID-084A3732-98C4-46D6-9676-FCACF48C1785"></a><h5 id="ADMIN-GUID-084A3732-98C4-46D6-9676-FCACF48C1785" class="sect5"><span class="enumeration_section">18.5.1.3 </span>About Enabling Constraints 
                     </h5>
                     <div>
                        <p>While a constraint is enabled, no row violating the constraint can be inserted into the table.</p>
                        <p>However, while the constraint is disabled such a row can be inserted. This row is known as an exception to the constraint. If the constraint is in the enable novalidated state, violations resulting from data entered while the constraint was disabled remain. The rows that violate the constraint must be either updated or deleted in order for the constraint to be put in the validated state.</p>
                        <p>You can identify exceptions to a specific integrity constraint while attempting to enable the constraint. See <span class="q">"<a href="managing-schema-objects.html#GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C" title="If exceptions exist when a constraint is validated, then an error is returned and the integrity constraint remains novalidated. When a statement is not successfully executed because integrity constraint exceptions exist, the statement is rolled back. If exceptions exist, then you cannot validate the constraint until all exceptions to the constraint are either updated or deleted.">Reporting Constraint Exceptions</a>"</span>. All rows violating constraints are noted in an <code class="codeph">EXCEPTIONS</code> table, which you can examine.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" title="Integrity constraints enforce business rules and prevent the entry of invalid information into tables.">Integrity Constraint States</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11541"></a><div class="props_rev_3"><a id="GUID-085CDFF3-301B-4769-826D-8931E16FAA7B" name="GUID-085CDFF3-301B-4769-826D-8931E16FAA7B"></a><h5 id="ADMIN-GUID-085CDFF3-301B-4769-826D-8931E16FAA7B" class="sect5"><span class="enumeration_section">18.5.1.4 </span>About the Enable Novalidate Constraint State
                     </h5>
                     <div>
                        <p>When a constraint is in the enable novalidate state, all subsequent statements are checked for conformity to the constraint. However, any existing data in the table is not checked.</p>
                        <p>A table with enable novalidated constraints can contain invalid data, but it is not possible to add new invalid data to it. Enabling constraints in the novalidated state is most useful in data warehouse configurations that are uploading valid OLTP data.</p>
                        <p>Enabling a constraint does not require validation. Enabling a constraint novalidate is much faster than enabling and validating a constraint. Also, validating a constraint that is already enabled does not require any DML locks during validation (unlike validating a previously disabled constraint). Enforcement guarantees that no violations are introduced during the validation. Hence, enabling without validating enables you to reduce the downtime typically associated with enabling a constraint. </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" title="Integrity constraints enforce business rules and prevent the entry of invalid information into tables.">Integrity Constraint States</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11542"></a><div class="props_rev_3"><a id="GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C" name="GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C"></a><h5 id="ADMIN-GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C" class="sect5"><span class="enumeration_section">18.5.1.5 </span>Efficient Use of Integrity Constraints: A Procedure
                     </h5>
                     <div>
                        <p>It is important to use integrity constraint states in a particular order.</p>
                        <div class="section">
                           <p>Using integrity constraint states in the following order can ensure the best benefits:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Disable state.</span></li>
                           <li><span>Perform the operation (load, export, import).</span></li>
                           <li><span>Enable novalidate state.</span></li>
                           <li><span>Enable state.</span></li>
                        </ol>
                        <div class="section">
                           <p>Some benefits of using constraints in this order are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>No locks are held.</p>
                              </li>
                              <li>
                                 <p>All constraints can go to enable state concurrently.</p>
                              </li>
                              <li>
                                 <p>Constraint enabling is done in parallel.</p>
                              </li>
                              <li>
                                 <p>Concurrent activity on table is permitted.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-70A229C3-B8A2-413C-9783-A7EDB7022665" title="Integrity constraints enforce business rules and prevent the entry of invalid information into tables.">Integrity Constraint States</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11543"></a><div class="props_rev_3"><a id="GUID-F504F7C9-D201-4B32-A25C-17650FE49002" name="GUID-F504F7C9-D201-4B32-A25C-17650FE49002"></a><h4 id="ADMIN-GUID-F504F7C9-D201-4B32-A25C-17650FE49002" class="sect4"><span class="enumeration_section">18.5.2 </span>Setting Integrity Constraints Upon Definition
                  </h4>
                  <p>When an integrity constraint is defined in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement, it can be enabled, disabled, or validated or not validated as determined by your specification of the <code class="codeph">ENABLE</code>/<code class="codeph">DISABLE</code> clause. If the <code class="codeph">ENABLE</code>/<code class="codeph">DISABLE</code> clause is not specified in a constraint definition, the database automatically enables and validates the constraint.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-42E09A81-E031-4A37-923C-1AA5EE51E680">Disabling Constraints Upon Definition</a><br>You can disable an integrity constraint when you define it.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225">Enabling Constraints Upon Definition</a><br>You can enable an integrity constraint when you define it.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11544"></a><div class="props_rev_3"><a id="GUID-42E09A81-E031-4A37-923C-1AA5EE51E680" name="GUID-42E09A81-E031-4A37-923C-1AA5EE51E680"></a><h5 id="ADMIN-GUID-42E09A81-E031-4A37-923C-1AA5EE51E680" class="sect5"><span class="enumeration_section">18.5.2.1 </span>Disabling Constraints Upon Definition
                     </h5>
                     <div>
                        <p>You can disable an integrity constraint when you define it.</p>
                        <div class="section">
                           <p>The following <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> statements both define and disable integrity constraints:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE emp (
    empno NUMBER(5) PRIMARY KEY DISABLE,   . . . ;

ALTER TABLE emp
   ADD PRIMARY KEY (empno) DISABLE;
</pre><p>An <code class="codeph">ALTER TABLE</code> statement that defines and disables an integrity constraint never fails because of rows in the table that violate the integrity constraint. The definition of the constraint is allowed because its rule is not enforced.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-F504F7C9-D201-4B32-A25C-17650FE49002" title="When an integrity constraint is defined in a CREATE TABLE or ALTER TABLE statement, it can be enabled, disabled, or validated or not validated as determined by your specification of the ENABLE/DISABLE clause. If the ENABLE/DISABLE clause is not specified in a constraint definition, the database automatically enables and validates the constraint.">Setting Integrity Constraints Upon Definition</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11545"></a><div class="props_rev_3"><a id="GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225" name="GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225"></a><h5 id="ADMIN-GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225" class="sect5"><span class="enumeration_section">18.5.2.2 </span>Enabling Constraints Upon Definition
                     </h5>
                     <div>
                        <p>You can enable an integrity constraint when you define it.</p>
                        <div class="section">
                           <p>The following <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> statements both define and enable integrity constraints:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE emp (
    empno NUMBER(5) CONSTRAINT emp.pk PRIMARY KEY,   . . . ;

ALTER TABLE emp
    ADD CONSTRAINT emp.pk PRIMARY KEY (empno);
</pre><p>An <code class="codeph">ALTER TABLE</code> statement that defines and attempts to enable an integrity constraint can fail because rows of the table violate the integrity constraint. If this case, the statement is rolled back and the constraint definition is not stored and not enabled. 
                           </p>
                           <p>When you enable a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> constraint an associated index is created.
                           </p>
                           <div class="infoboxnote" id="GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225__GUID-94176693-0702-4243-9A3C-85EDB264765E">
                              <p class="notep1">Note:</p>
                              <p>An efficient procedure for enabling a constraint that can make use of parallelism is described in <span class="q">"<a href="managing-schema-objects.html#GUID-E367A78E-8FA7-49A7-B848-462EF3F1096C" title="It is important to use integrity constraint states in a particular order.">Efficient Use of Integrity Constraints: A Procedure</a>"</span>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-62A3B6A4-3DCB-4C83-9EF9-1A305270D225__GUID-817236C9-F5A6-4297-B08E-30978AB16FA7">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-indexes.html#GUID-8DC3DFF0-28C4-4873-91AD-DCBC0AEF8D1D" title="Oracle Database enforces a UNIQUE key or PRIMARY KEY integrity constraint on a table by creating a unique index on the unique key or primary key.">Creating an Index Associated with a Constraint</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-F504F7C9-D201-4B32-A25C-17650FE49002" title="When an integrity constraint is defined in a CREATE TABLE or ALTER TABLE statement, it can be enabled, disabled, or validated or not validated as determined by your specification of the ENABLE/DISABLE clause. If the ENABLE/DISABLE clause is not specified in a constraint definition, the database automatically enables and validates the constraint.">Setting Integrity Constraints Upon Definition</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11546"></a><div class="props_rev_3"><a id="GUID-90ACCD15-C65D-4595-9887-CC7588824E71" name="GUID-90ACCD15-C65D-4595-9887-CC7588824E71"></a><h4 id="ADMIN-GUID-90ACCD15-C65D-4595-9887-CC7588824E71" class="sect4"><span class="enumeration_section">18.5.3 </span>Modifying, Renaming, or Dropping Existing Integrity Constraints
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">ALTER TABLE</code> statement to enable, disable, modify, or drop a constraint. When the database is using a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code> index to enforce a constraint, and constraints associated with that index are dropped or disabled, the index is dropped, unless you specify otherwise.
                     </p>
                     <p>While enabled foreign keys reference a <code class="codeph">PRIMARY</code> or <code class="codeph">UNIQUE</code> key, you cannot disable or drop the <code class="codeph">PRIMARY</code> or <code class="codeph">UNIQUE</code> key constraint or the index.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-378C9612-6B45-44F9-AD26-0040C32A73A8">Disabling and Enabling Constraints</a><br>You can disable enabled integrity constraints and enable disabled integrity constraints.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-E2BBB7F9-F200-4587-80E3-49CB7A06DB1C">Renaming Constraints</a><br>The <code class="codeph">ALTER TABLE...RENAME CONSTRAINT</code> statement enables you to rename any currently existing constraint for a table. The new constraint name must not conflict with any existing constraint names for a user.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-A80EC943-E866-4973-9305-5A1A657675A2">Dropping Constraints</a><br>You can drop an integrity constraint if the rule that it enforces is no longer true, or if the constraint is no longer needed.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11547"></a><div class="props_rev_3"><a id="GUID-378C9612-6B45-44F9-AD26-0040C32A73A8" name="GUID-378C9612-6B45-44F9-AD26-0040C32A73A8"></a><h5 id="ADMIN-GUID-378C9612-6B45-44F9-AD26-0040C32A73A8" class="sect5"><span class="enumeration_section">18.5.3.1 </span>Disabling and Enabling Constraints
                     </h5>
                     <div>
                        <p>You can disable enabled integrity constraints and enable disabled integrity constraints.</p>
                        <div class="section">
                           <p>The following statements disable integrity constraints. The second statement specifies that the associated indexes are to be kept.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    DISABLE CONSTRAINT dname_ukey;

ALTER TABLE dept
    DISABLE PRIMARY KEY KEEP INDEX,
    DISABLE UNIQUE (dname, loc) KEEP INDEX;
</pre><p>The following statements enable novalidate disabled integrity constraints:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    ENABLE NOVALIDATE CONSTRAINT dname_ukey;

ALTER TABLE dept
    ENABLE NOVALIDATE PRIMARY KEY,
    ENABLE NOVALIDATE UNIQUE (dname, loc);
</pre><p>The following statements enable or validate disabled integrity constraints:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    MODIFY CONSTRAINT dname_key VALIDATE;

ALTER TABLE dept
    MODIFY PRIMARY KEY ENABLE NOVALIDATE;
</pre><p>The following statements enable disabled integrity constraints:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    ENABLE CONSTRAINT dname_ukey;

ALTER TABLE dept
    ENABLE PRIMARY KEY,
    ENABLE UNIQUE (dname, loc);
</pre><p>To disable or drop a <code class="codeph">UNIQUE</code> key or <code class="codeph">PRIMARY KEY</code> constraint and all dependent <code class="codeph">FOREIGN KEY</code> constraints in a single step, use the <code class="codeph">CASCADE</code> option of the <code class="codeph">DISABLE</code> or <code class="codeph">DROP</code> clauses. For example, the following statement disables a <code class="codeph">PRIMARY KEY</code> constraint and any <code class="codeph">FOREIGN KEY</code> constraints that depend on it:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    DISABLE PRIMARY KEY CASCADE;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-90ACCD15-C65D-4595-9887-CC7588824E71" title="You can use the ALTER TABLE statement to enable, disable, modify, or drop a constraint. When the database is using a UNIQUE or PRIMARY KEY index to enforce a constraint, and constraints associated with that index are dropped or disabled, the index is dropped, unless you specify otherwise.">Modifying, Renaming, or Dropping Existing Integrity Constraints</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11548"></a><div class="props_rev_3"><a id="GUID-E2BBB7F9-F200-4587-80E3-49CB7A06DB1C" name="GUID-E2BBB7F9-F200-4587-80E3-49CB7A06DB1C"></a><h5 id="ADMIN-GUID-E2BBB7F9-F200-4587-80E3-49CB7A06DB1C" class="sect5"><span class="enumeration_section">18.5.3.2 </span>Renaming Constraints
                     </h5>
                     <div>
                        <p>The <code class="codeph">ALTER TABLE...RENAME CONSTRAINT</code> statement enables you to rename any currently existing constraint for a table. The new constraint name must not conflict with any existing constraint names for a user.
                        </p>
                        <div class="section">
                           <p>The following statement renames the <code class="codeph">dname_ukey</code> constraint for table <code class="codeph">dept</code>:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    RENAME CONSTRAINT dname_ukey TO dname_unikey;
</pre><p>When you rename a constraint, all dependencies on the base table remain valid.</p>
                           <p>The <code class="codeph">RENAME CONSTRAINT</code> clause provides a means of renaming system generated constraint names. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-90ACCD15-C65D-4595-9887-CC7588824E71" title="You can use the ALTER TABLE statement to enable, disable, modify, or drop a constraint. When the database is using a UNIQUE or PRIMARY KEY index to enforce a constraint, and constraints associated with that index are dropped or disabled, the index is dropped, unless you specify otherwise.">Modifying, Renaming, or Dropping Existing Integrity Constraints</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11549"></a><div class="props_rev_3"><a id="GUID-A80EC943-E866-4973-9305-5A1A657675A2" name="GUID-A80EC943-E866-4973-9305-5A1A657675A2"></a><h5 id="ADMIN-GUID-A80EC943-E866-4973-9305-5A1A657675A2" class="sect5"><span class="enumeration_section">18.5.3.3 </span>Dropping Constraints
                     </h5>
                     <div>
                        <p>You can drop an integrity constraint if the rule that it enforces is no longer true, or if the constraint is no longer needed.</p>
                        <div class="section">
                           <p>You can drop the constraint using the <code class="codeph">ALTER TABLE</code> statement with one of the following clauses:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DROP</code> <code class="codeph">UNIQUE</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DROP</code> <code class="codeph">CONSTRAINT</code> 
                                 </p>
                              </li>
                           </ul>
                           <p>The following two statements drop integrity constraints. The second statement keeps the index associated with the <code class="codeph">PRIMARY KEY</code> constraint:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept
    DROP UNIQUE (dname, loc);

ALTER TABLE emp
    DROP PRIMARY KEY KEEP INDEX
    DROP CONSTRAINT dept_fkey;
</pre><p>If <code class="codeph">FOREIGN KEY</code>s reference a <code class="codeph">UNIQUE</code> or <code class="codeph">PRIMARY KEY</code>, you must include the <code class="codeph">CASCADE CONSTRAINTS</code> clause in the <code class="codeph">DROP</code> statement, or you cannot drop the constraint.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-90ACCD15-C65D-4595-9887-CC7588824E71" title="You can use the ALTER TABLE statement to enable, disable, modify, or drop a constraint. When the database is using a UNIQUE or PRIMARY KEY index to enforce a constraint, and constraints associated with that index are dropped or disabled, the index is dropped, unless you specify otherwise.">Modifying, Renaming, or Dropping Existing Integrity Constraints</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11550"></a><div class="props_rev_3"><a id="GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD" name="GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD"></a><h4 id="ADMIN-GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD" class="sect4"><span class="enumeration_section">18.5.4 </span>Deferring Constraint Checks
                  </h4>
                  <div>
                     <p>When the database checks a constraint, it signals an error if the constraint is not satisfied. You can defer checking the validity of constraints until the end of a transaction. When you issue the <code class="codeph">SET CONSTRAINTS</code> statement, the <code class="codeph">SET CONSTRAINTS</code> mode lasts for the duration of the transaction, or until another <code class="codeph">SET CONSTRAINTS</code> statement resets the mode.
                     </p>
                     <div class="infoboxnote" id="GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD__GUID-64495736-DC0F-47B9-A6F4-4EC80D2E8ED0">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You cannot issue a <code class="codeph">SET CONSTRAINT</code> statement inside a trigger.
                              </p>
                           </li>
                           <li>
                              <p>Deferrable unique and primary keys must use nonunique indexes.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-FDF6445E-D1E0-4305-B1D4-C5D4310CA1FB">Set All Constraints Deferred</a><br>When constraints must be deferred for a transaction, you must set all constraints deferred before you actually begin processing any data within the application being used to manipulate the data.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-41981E1D-6F0D-4D94-A761-92DDB38BB81F">Check the Commit (Optional)</a><br>You can check for constraint violations before committing by issuing the <code class="codeph">SET CONSTRAINTS ALL IMMEDIATE</code> statement just before issuing the <code class="codeph">COMMIT</code>.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11551"></a><div class="props_rev_3"><a id="GUID-FDF6445E-D1E0-4305-B1D4-C5D4310CA1FB" name="GUID-FDF6445E-D1E0-4305-B1D4-C5D4310CA1FB"></a><h5 id="ADMIN-GUID-FDF6445E-D1E0-4305-B1D4-C5D4310CA1FB" class="sect5"><span class="enumeration_section">18.5.4.1 </span>Set All Constraints Deferred
                     </h5>
                     <div>
                        <p>When constraints must be deferred for a transaction, you must set all constraints deferred before you actually begin processing any data within the application being used to manipulate the data.</p>
                        <div class="section">
                           <p>Use the following DML statement to set all deferrable constraints deferred:</p><pre class="oac_no_warn" dir="ltr">SET CONSTRAINTS ALL DEFERRED; </pre><div class="infoboxnote" id="GUID-FDF6445E-D1E0-4305-B1D4-C5D4310CA1FB__GUID-16D4044C-08CA-4975-BFE8-BE84C0863FB8">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">SET CONSTRAINTS</code> statement applies only to the current transaction. The defaults specified when you create a constraint remain as long as the constraint exists. The <code class="codeph">ALTER SESSION SET CONSTRAINTS</code> statement applies for the current session only. 
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD" title="When the database checks a constraint, it signals an error if the constraint is not satisfied. You can defer checking the validity of constraints until the end of a transaction. When you issue the SET CONSTRAINTS statement, the SET CONSTRAINTS mode lasts for the duration of the transaction, or until another SET CONSTRAINTS statement resets the mode.">Deferring Constraint Checks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11552"></a><div class="props_rev_3"><a id="GUID-41981E1D-6F0D-4D94-A761-92DDB38BB81F" name="GUID-41981E1D-6F0D-4D94-A761-92DDB38BB81F"></a><h5 id="ADMIN-GUID-41981E1D-6F0D-4D94-A761-92DDB38BB81F" class="sect5"><span class="enumeration_section">18.5.4.2 </span>Check the Commit (Optional)
                     </h5>
                     <div>
                        <p>You can check for constraint violations before committing by issuing the <code class="codeph">SET CONSTRAINTS ALL IMMEDIATE</code> statement just before issuing the <code class="codeph">COMMIT</code>.
                        </p>
                        <div class="section">
                           <p>If there are any problems with a constraint, then this statement fails and the constraint causing the error is identified. If you commit while constraints are violated, then the transaction is rolled back and you receive an error message.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-FC924C05-E241-4FDA-9D80-D094F95CB6BD" title="When the database checks a constraint, it signals an error if the constraint is not satisfied. You can defer checking the validity of constraints until the end of a transaction. When you issue the SET CONSTRAINTS statement, the SET CONSTRAINTS mode lasts for the duration of the transaction, or until another SET CONSTRAINTS statement resets the mode.">Deferring Constraint Checks</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11553"></a><div class="props_rev_3"><a id="GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C" name="GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C"></a><h4 id="ADMIN-GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C" class="sect4"><span class="enumeration_section">18.5.5 </span>Reporting Constraint Exceptions
                  </h4>
                  <div>
                     <p>If exceptions exist when a constraint is validated, then an error is returned and the integrity constraint remains novalidated. When a statement is not successfully executed because integrity constraint exceptions exist, the statement is rolled back. If exceptions exist, then you cannot validate the constraint until all exceptions to the constraint are either updated or deleted.</p>
                     <div class="section">
                        <p>To determine which rows violate the integrity constraint, issue the <code class="codeph">ALTER TABLE</code> statement with the <code class="codeph">EXCEPTIONS</code> option in the <code class="codeph">ENABLE</code> clause. The <code class="codeph">EXCEPTIONS</code> option places the rowid, table owner, table name, and constraint name of all exception rows into a specified table.
                        </p>
                        <p>You must create an appropriate exceptions report table to accept information from the <code class="codeph">EXCEPTIONS</code> option of the <code class="codeph">ENABLE</code> clause before enabling the constraint. You can create an exception table by executing the <code class="codeph">UTLEXCPT.SQL</code> script or the <code class="codeph">UTLEXPT1.SQL</code> script.
                        </p>
                        <div class="infoboxnote" id="GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C__GUID-803804BB-BEED-4C49-A3EE-6C460718EFCB">
                           <p class="notep1">Note:</p>
                           <p>Your choice of script to execute for creating the <code class="codeph">EXCEPTIONS</code> table depends on the type of table you are analyzing. See the <a href="../sqlrf/constraint.html#SQLRF52229" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for more information.
                           </p>
                        </div>
                        <p>Both of these scripts create a table named <code class="codeph">EXCEPTIONS</code>. You can create additional exceptions tables with different names by modifying and resubmitting the script.
                        </p>
                        <p>The following statement attempts to validate the <code class="codeph">PRIMARY KEY</code> of the <code class="codeph">dept</code> table, and if exceptions exist, information is inserted into a table named <code class="codeph">EXCEPTIONS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept ENABLE PRIMARY KEY EXCEPTIONS INTO EXCEPTIONS;
</pre><p>If duplicate primary key values exist in the <code class="codeph">dept</code> table and the name of the <code class="codeph">PRIMARY KEY</code> constraint on <code class="codeph">dept</code> is <code class="codeph">sys_c00610</code>, then the following query will display those exceptions:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM EXCEPTIONS;
</pre><p>The following exceptions are shown:</p><pre class="oac_no_warn" dir="ltr">fROWID               OWNER      TABLE_NAME      CONSTRAINT
------------------  ---------  --------------  -----------
AAAAZ9AABAAABvqAAB  SCOTT      DEPT            SYS_C00610 
AAAAZ9AABAAABvqAAG  SCOTT      DEPT            SYS_C00610 
</pre><p>A more informative query would be to join the rows in an exception report table and the master table to list the actual rows that violate a specific constraint, as shown in the following statement and results:</p><pre class="oac_no_warn" dir="ltr">SELECT deptno, dname, loc FROM dept, EXCEPTIONS
    WHERE EXCEPTIONS.constraint = 'SYS_C00610'
    AND dept.rowid = EXCEPTIONS.row_id;

DEPTNO     DNAME             LOC
---------- --------------    -----------
10         ACCOUNTING        NEW YORK
10         RESEARCH          DALLAS
</pre><p>All rows that violate a constraint must be either updated or deleted from the table containing the constraint. When updating exceptions, you must change the value violating the constraint to a value consistent with the constraint or to a null. After the row in the master table is updated or deleted, the corresponding rows for the exception in the exception report table should be deleted to avoid confusion with later exception reports. The statements that update the master table and the exception report table should be in the same transaction to ensure transaction consistency.</p>
                        <p>To correct the exceptions in the previous examples, you might issue the following transaction:</p><pre class="oac_no_warn" dir="ltr">UPDATE dept SET deptno = 20 WHERE dname = 'RESEARCH';
DELETE FROM EXCEPTIONS WHERE constraint = 'SYS_C00610';
COMMIT;
</pre><p>When managing exceptions, the goal is to eliminate all exceptions in your exception report table.</p>
                        <div class="infoboxnote" id="GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C__GUID-5B246042-B7A7-451F-9141-A7F38C53188C">
                           <p class="notep1">Note:</p>
                           <p>While you are correcting current exceptions for a table with the constraint disabled, it is possible for other users to issue statements creating new exceptions. You can avoid this by marking the constraint <code class="codeph">ENABLE NOVALIDATE</code> before you start eliminating exceptions.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1DBBC985-4943-4C75-BFAD-6DECC340088C__GUID-093502BA-6A34-4284-B072-BE89C6572CC0">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/EXCEPTIONS.html#REFRN29511" target="_blank"><span class="italic">Oracle Database Reference</span></a> for a description of the <code class="codeph">EXCEPTIONS</code> table
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11554"></a><div class="props_rev_3"><a id="GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA" name="GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA"></a><h4 id="ADMIN-GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA" class="sect4"><span class="enumeration_section">18.5.6 </span>Viewing Constraint Information
                  </h4>
                  <div>
                     <p>Oracle Database provides a set of views that enable you to see constraint definitions on tables and to identify columns that are specified in constraints.</p>
                     <div class="tblformal" id="GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA__GUID-2C271BFA-37B3-4E59-A7C2-DE959E71804A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 displays the names of views that identify constraint definitions on tables. Column 2 describes each view." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d176439e3568">View</th>
                                 <th align="left" valign="bottom" width="65%" id="d176439e3571">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d176439e3576" headers="d176439e3568 ">
                                    <p><code class="codeph">DBA_CONSTRAINTS</code> 
                                    </p>
                                    <p><code class="codeph">ALL_CONSTRAINTS</code> 
                                    </p>
                                    <p><code class="codeph">USER_CONSTRAINTS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d176439e3576 d176439e3571 ">
                                    <p><code class="codeph">DBA</code> view describes all constraint definitions in the database. <code class="codeph">ALL</code> view describes constraint definitions accessible to current user. <code class="codeph">USER</code> view describes constraint definitions owned by the current user.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d176439e3601" headers="d176439e3568 ">
                                    <p><code class="codeph">DBA_CONS_COLUMNS</code> 
                                    </p>
                                    <p><code class="codeph">ALL_CONS_COLUMNS</code> 
                                    </p>
                                    <p><code class="codeph">USER_CONS_COLUMNS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d176439e3601 d176439e3571 ">
                                    <p><code class="codeph">DBA</code> view describes all columns in the database that are specified in constraints. <code class="codeph">ALL</code> view describes only those columns accessible to current user that are specified in constraints. <code class="codeph">USER</code> view describes only those columns owned by the current user that are specified in constraints.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-328CBDDA-98F9-41A5-8698-A492E177D8DA__GUID-37E9D847-AFBD-4B42-8AA3-105A2BA0F2EC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/ALL_CONSTRAINTS.html#REFRN20047" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">*_CONSTRAINTS</code> views
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/ALL_CONS_COLUMNS.html#REFRN20045" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">*_CONS_COLUMNS</code> views
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11555"></a><div class="props_rev_3"><a id="GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED" name="GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED"></a><h3 id="ADMIN-GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED" class="sect3"><span class="enumeration_section">18.6 </span>Renaming Schema Objects
               </h3>
               <div>
                  <p>There are several ways to rename an object.</p>
                  <div class="section">
                     <p>To rename an object, it must be in your schema. You can rename schema objects in either of the following ways:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Drop and re-create the object</p>
                        </li>
                        <li>
                           <p>Rename the object using the <code class="codeph">RENAME</code> statement
                           </p>
                        </li>
                        <li>
                           <p>Rename the object using the <code class="codeph">ALTER</code> ... <code class="codeph">RENAME</code> statement (for indexes and triggers)
                           </p>
                        </li>
                     </ul>
                     <p>If you drop and re-create an object, all privileges granted for that object are lost. Privileges must be regranted when the object is re-created. </p>
                     <p>A table, view, sequence, or a private synonym of a table, view, or sequence can be renamed using the <code class="codeph">RENAME</code> statement. When using the <code class="codeph">RENAME</code> statement, integrity constraints, indexes, and grants made for the object are carried forward for the new name. For example, the following statement renames the <code class="codeph">sales_staff</code> view:
                     </p><pre class="oac_no_warn" dir="ltr">RENAME sales_staff TO dept_30;  </pre><div class="infoboxnote" id="GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED__GUID-C8842970-7073-4C4E-B720-8D3A2808BB1C">
                        <p class="notep1">Note:</p>
                        <p>You cannot use <code class="codeph">RENAME</code> for a stored PL/SQL program unit, public synonym, or cluster. To rename such an object, you must drop and re-create it.
                        </p>
                     </div>
                     <p>Before renaming a schema object, consider the following effects:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All views and PL/SQL program units dependent on a renamed object become invalid, and must be recompiled before next use. </p>
                        </li>
                        <li>
                           <p>All synonyms for a renamed object return an error when used.</p>
                           <div class="infoboxnotealso" id="GUID-5AD7C0D3-BE26-4369-84F6-0C6DB5E0EBED__GUID-26889110-9990-4E49-8AC6-5312B66D36FD">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/RENAME.html#SQLRF01608" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax of the <code class="codeph">RENAME</code> statement
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11556"></a><div class="props_rev_3"><a id="GUID-46D82F8E-C360-4223-B469-18039B1FFB21" name="GUID-46D82F8E-C360-4223-B469-18039B1FFB21"></a><h3 id="ADMIN-GUID-46D82F8E-C360-4223-B469-18039B1FFB21" class="sect3"><span class="enumeration_section">18.7 </span>Managing Object Dependencies
               </h3>
               <p>Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5">About Object Dependencies and Object Invalidation</a><br>Some types of schema objects reference other objects. An object that references another object is called a <span class="bold">dependent object</span>, and an object being referenced is a <span class="bold">referenced object</span>. These references are established at compile time, and if the compiler cannot resolve them, the dependent object being compiled is marked <span class="italic">invalid</span>. 
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54">Manually Recompiling Invalid Objects with DDL</a><br>You can use an <code class="codeph">ALTER</code> statement to manually recompile a single schema object.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183">Manually Recompiling Invalid Objects with PL/SQL Package Procedures</a><br>The <code class="codeph">RECOMP_SERIAL</code> procedure recompiles all invalid objects in a specified schema, or all invalid objects in the database if you do not supply the schema name argument. The <code class="codeph">RECOMP_PARALLEL</code> procedure does the same, but in parallel, employing multiple CPUs.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12618"></a><a id="ADMIN11557"></a><div class="props_rev_3"><a id="GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5" name="GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5"></a><h4 id="ADMIN-GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5" class="sect4"><span class="enumeration_section">18.7.1 </span>About Object Dependencies and Object Invalidation
                  </h4>
                  <div>
                     <p>Some types of schema objects reference other objects. An object that references another object is called a <span class="bold">dependent object</span>, and an object being referenced is a <span class="bold">referenced object</span>. These references are established at compile time, and if the compiler cannot resolve them, the dependent object being compiled is marked <span class="italic">invalid</span>. 
                     </p>
                     <p> For example, a view contains a query that references tables or other views, and a PL/SQL subprogram might invoke other subprograms and might use static SQL to reference tables or views. </p>
                     <p>Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. When a dependent object is created, the database tracks dependencies between the dependent object and its referenced objects. When a referenced object is changed in a way that might affect a dependent object, the dependent object is marked invalid. An invalid dependent object must be recompiled against the new definition of a referenced object before the dependent object can be used. Recompilation occurs automatically when the invalid dependent object is referenced.</p>
                     <p>It is important to be aware of changes that can invalidate schema objects, because invalidation affects applications running on the database. This section describes how objects become invalid, how you can identify invalid objects, and how you can validate invalid objects.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5__GUID-647A186C-E4B1-4354-A3D8-4A97C566FD02">Object Invalidation</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In a typical running application, you would not expect to see views or stored procedures become invalid, because applications typically do not change table structures or change view or stored procedure definitions during normal execution. Changes to tables, views, or PL/SQL units typically occur when an application is patched or upgraded using a patch script or ad-hoc DDL statements. Dependent objects might be left invalid after a patch has been applied to change a set of referenced objects.</p>
                        <p>Use the following query to display the set of invalid objects in the database: </p><pre class="oac_no_warn" dir="ltr">SELECT object_name, object_type FROM dba_objects
WHERE status = 'INVALID';
</pre><p>The Database Home page in Oracle Enterprise Manager Cloud Control displays an alert when schema objects become invalid.</p>
                        <p>Object invalidation affects applications in two ways. First, an invalid object must be revalidated before it can be used by an application. Revalidation adds latency to application execution. If the number of invalid objects is large, the added latency on the first execution can be significant. Second, invalidation of a procedure, function or package can cause exceptions in other sessions concurrently executing the procedure, function or package. If a patch is applied when the application is in use in a different session, the session executing the application notices that an object in use has been invalidated and raises one of the following 4 exceptions: ORA-04061, ORA-04064, ORA-04065 or ORA-04068. These exceptions must be remedied by restarting application sessions following a patch.</p>
                        <p>You can force the database to recompile a schema object using the appropriate SQL statement with the <code class="codeph">COMPILE</code> clause. See <span class="q">"<a href="managing-schema-objects.html#GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54" title="You can use an ALTER statement to manually recompile a single schema object.">Manually Recompiling Invalid Objects with DDL</a>"</span> for more information.
                        </p>
                        <p>If you know that there are a large number of invalid objects, use the <code class="codeph">UTL_RECOMP</code> PL/SQL package to perform a mass recompilation. See <span class="q">"<a href="managing-schema-objects.html#GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183" title="The RECOMP_SERIAL procedure recompiles all invalid objects in a specified schema, or all invalid objects in the database if you do not supply the schema name argument. The RECOMP_PARALLEL procedure does the same, but in parallel, employing multiple CPUs.">Manually Recompiling Invalid Objects with PL/SQL Package Procedures</a>"</span> for details.
                        </p>
                        <p>The following are some general rules for the invalidation of schema objects:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Between a referenced object and each of its dependent objects, the database tracks the elements of the referenced object that are involved in the dependency. For example, if a single-table view selects only a subset of columns in a table, only those columns are involved in the dependency. For each dependent of an object, if a change is made to the definition of any element involved in the dependency (including dropping the element), the dependent object is invalidated. Conversely, if changes are made only to definitions of elements that are not involved in the dependency, the dependent object remains valid.</p>
                              <p>In many cases, therefore, developers can avoid invalidation of dependent objects and unnecessary extra work for the database if they exercise care when changing schema objects.</p>
                           </li>
                           <li>
                              <p>Dependent objects are <span class="italic">cascade invalidated</span>. If any object becomes invalid for any reason, all of that object's dependent objects are immediately invalidated.
                              </p>
                           </li>
                           <li>
                              <p>If you revoke any object privileges on a schema object, dependent objects are cascade invalidated.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-919EF353-E9F4-4767-B6BD-5191BE3E38E5__GUID-2D08BA67-756A-4636-AEA0-55ABA4CC0B9B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT1859" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more detailed information about schema object dependencies
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12491"></a><div class="props_rev_3"><a id="GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54" name="GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54"></a><h4 id="ADMIN-GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54" class="sect4"><span class="enumeration_section">18.7.2 </span>Manually Recompiling Invalid Objects with DDL
                  </h4>
                  <div>
                     <p>You can use an <code class="codeph">ALTER</code> statement to manually recompile a single schema object.
                     </p>
                     <div class="section">
                        <p>For example, to recompile package body <code class="codeph">Pkg1</code>, you would execute the following DDL statement:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER PACKAGE pkg1 COMPILE REUSE SETTINGS;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5B63369E-8E2F-4A4D-B89D-880C66AA9A54__GUID-2C9D9A4E-81B4-4415-A072-879619A84DAE">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/index.html" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax and other information about the various <code class="codeph">ALTER</code> statements
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12619"></a><a id="ADMIN12492"></a><div class="props_rev_3"><a id="GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183" name="GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183"></a><h4 id="ADMIN-GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183" class="sect4"><span class="enumeration_section">18.7.3 </span>Manually Recompiling Invalid Objects with PL/SQL Package Procedures
                  </h4>
                  <div>
                     <p>The <code class="codeph">RECOMP_SERIAL</code> procedure recompiles all invalid objects in a specified schema, or all invalid objects in the database if you do not supply the schema name argument. The <code class="codeph">RECOMP_PARALLEL</code> procedure does the same, but in parallel, employing multiple CPUs.
                     </p>
                     <div class="section">
                        <p>Following an application upgrade or patch, it is good practice to revalidate invalid objects to avoid application latencies that result from on-demand object revalidation. Oracle provides the <code class="codeph">UTL_RECOMP</code> package to assist in object revalidation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183__GUID-E147C598-AFC0-407B-A21C-8226397F9976">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Execute the following PL/SQL block to revalidate all invalid objects in the database, in parallel and in dependency order:</p><pre class="oac_no_warn" dir="ltr">begin
   utl_recomp.recomp_parallel();
end;
/
</pre><p>You can also revalidate individual invalid objects using the package <code class="codeph">DBMS_UTILITY</code>. The following PL/SQL block revalidates the procedure <code class="codeph">UPDATE_SALARY</code> in schema <code class="codeph">HR</code>:
                        </p><pre class="oac_no_warn" dir="ltr">begin
   dbms_utility.validate('HR', 'UPDATE_SALARY', namespace=&gt;1);
end;
/
</pre><p>The following PL/SQL block revalidates the package body <code class="codeph">HR.ACCT_MGMT</code>:
                        </p><pre class="oac_no_warn" dir="ltr">begin
   dbms_utility.validate('HR', 'ACCT_MGMT', namespace=&gt;2);
end;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-48829176-5BF4-43FB-BD08-3EBB7D8FF183__GUID-8D4ED9C4-DD97-4A0D-B51D-0153565FE207">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/UTL_RECOMP.html#ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">UTL_RECOMP</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_UTILITY.html#ARPLS73195" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">DBMS_UTILITY</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11561"></a><div class="props_rev_3"><a id="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498" name="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498"></a><h3 id="ADMIN-GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498" class="sect3"><span class="enumeration_section">18.8 </span>Managing Object Name Resolution
               </h3>
               <div>
                  <p>Object names referenced in SQL statements can consist of several pieces, separated by periods. Oracle Database performs specific actions to resolve an object name.</p>
                  <div class="section">
                     <p>The following describes how the database resolves an object name.</p>
                     <ol>
                        <li>
                           <p>Oracle Database attempts to qualify the first piece of the name referenced in the SQL statement. For example, in <code class="codeph">scott.emp</code>, <code class="codeph">scott</code> is the first piece. If there is only one piece, the one piece is considered the first piece.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>In the current schema, the database searches for an object whose name matches the first piece of the object name. If it does not find such an object, it continues with step <a href="managing-schema-objects.html#GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__i1007092">1.b</a>.
                                 </p>
                              </li>
                              <li id="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__i1007092">
                                 <p>The database searches for a public synonym that matches the first piece of the name. If it does not find one, it continues with step <a href="managing-schema-objects.html#GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__i1007097">1.c</a>.
                                 </p>
                              </li>
                              <li id="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__i1007097">
                                 <p>The database searches for a schema whose name matches the first piece of the object name. If it finds one, then the schema is the qualified schema, and it continues with step <a href="managing-schema-objects.html#GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__CHDFAFED">1.d</a>.
                                 </p>
                                 <p>If no schema is found in step <a href="managing-schema-objects.html#GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__i1007097">1.c</a>, the object cannot be qualified and the database returns an error.
                                 </p>
                              </li>
                              <li id="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__CHDFAFED">
                                 <p>In the qualified schema, the database searches for an object whose name matches the second piece of the object name.</p>
                                 <p>If the second piece does not correspond to an object in the previously qualified schema or there is not a second piece, then the database returns an error.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>A schema object has been qualified. Any remaining pieces of the name must match a valid part of the found object. For example, if <code class="codeph">scott.emp.deptno</code> is the name, <code class="codeph">scott</code> is qualified as a schema, <code class="codeph">emp</code> is qualified as a table, and <code class="codeph">deptno</code> must correspond to a column (because <code class="codeph">emp</code> is a table). If <code class="codeph">emp</code> is qualified as a package, <code class="codeph">deptno</code> must correspond to a public constant, variable, procedure, or function of that package.
                           </p>
                        </li>
                     </ol>
                     <p>When global object names are used in a distributed database, either explicitly or indirectly within a synonym, the local database resolves the reference locally. For example, it resolves a synonym to global object name of a remote table. The partially resolved statement is shipped to the remote database, and the remote database completes the resolution of the object as described here. </p>
                     <p>Because of how the database resolves references, it is possible for an object to depend on the nonexistence of other objects. This situation occurs when the dependent object uses a reference that would be interpreted differently were another object present. For example, assume the following: </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>At the current point in time, the <code class="codeph">company</code> schema contains a table named <code class="codeph">emp</code>. 
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">PUBLIC</code> synonym named <code class="codeph">emp</code> is created for <code class="codeph">company.emp</code> and the <code class="codeph">SELECT</code> privilege for <code class="codeph">company.emp</code> is granted to the <code class="codeph">PUBLIC</code> role. 
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">jward</code> schema does not contain a table or private synonym named <code class="codeph">emp</code>. 
                           </p>
                        </li>
                        <li>
                           <p>The user <code class="codeph">jward</code> creates a view in his schema with the following statement: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW dept_salaries AS 
     SELECT deptno, MIN(sal), AVG(sal), MAX(sal) FROM emp 
     GROUP BY deptno 
     ORDER BY deptno; 
</pre></li>
                     </ul>
                     <p>When <code class="codeph">jward</code> creates the <code class="codeph">dept_salaries</code> view, the reference to <code class="codeph">emp</code> is resolved by first looking for <code class="codeph">jward.emp</code> as a table, view, or private synonym, none of which is found, and then as a public synonym named <code class="codeph">emp</code>, which is found. As a result, the database notes that <code class="codeph">jward.dept_salaries</code> depends on the nonexistence of <code class="codeph">jward.emp</code> and on the existence of <code class="codeph">public.emp</code>. 
                     </p>
                     <p>Now assume that <code class="codeph">jward</code> decides to create a new view named <code class="codeph">emp</code> in his schema using the following statement:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW emp AS 
     SELECT empno, ename, mgr, deptno 
     FROM company.emp; 
</pre><p>Notice that <code class="codeph">jward.emp</code> does not have the same structure as <code class="codeph">company.emp</code>. 
                     </p>
                     <p>As it attempts to resolve references in object definitions, the database internally makes note of dependencies that the new dependent object has on "nonexistent" objects--schema objects that, if they existed, would change the interpretation of the object's definition. Such dependencies must be noted in case a nonexistent object is later created. If a nonexistent object is created, all dependent objects must be invalidated so that dependent objects can be recompiled and verified and all dependent function-based indexes must be marked unusable. </p>
                     <p>Therefore, in the previous example, as <code class="codeph">jward.emp</code> is created, <code class="codeph">jward.dept_salaries</code> is invalidated because it depends on <code class="codeph">jward.emp</code>. Then when <code class="codeph">jward.dept_salaries</code> is used, the database attempts to recompile the view. As the database resolves the reference to <code class="codeph">emp</code>, it finds <code class="codeph">jward.emp</code> (<code class="codeph">public.emp</code> is no longer the referenced object). Because <code class="codeph">jward.emp</code> does not have a <code class="codeph">sal</code> column, the database finds errors when replacing the view, leaving it invalid. 
                     </p>
                     <p>In summary, you must manage dependencies on nonexistent objects checked during object resolution in case the nonexistent object is later created. </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4C396C8C-FBF6-4024-AB22-8A7103CEF498__GUID-5676E470-9E4F-496B-B6B3-9306C8C08A3B">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="distributed-database-concepts.html#GUID-24D64E22-E0BE-41FC-9120-01C9E425339C" title="After you have created a database link, you can execute SQL statements that access objects on the remote database. You must also be authorized in the remote database to access specific remote objects.">Schema Objects and Database Links</a>"</span> for information about name resolution in a distributed database
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN02101"></a><div class="props_rev_3"><a id="GUID-EF3A83FC-DAD6-4151-961D-628CD2B9D56D" name="GUID-EF3A83FC-DAD6-4151-961D-628CD2B9D56D"></a><h3 id="ADMIN-GUID-EF3A83FC-DAD6-4151-961D-628CD2B9D56D" class="sect3"><span class="enumeration_section">18.9 </span>Switching to a Different Schema
               </h3>
               <div>
                  <p>Use an <code class="codeph">ALTER SESSION</code> SQL statement to switch to a different schema.
                  </p>
                  <div class="section">
                     <p>The following statement sets the schema of the current session to the schema name specified in the statement.</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CURRENT_SCHEMA = &lt;<span class="italic">schema name</span>&gt;
</pre><p>In subsequent SQL statements, Oracle Database uses this schema name as the schema qualifier when the qualifier is omitted. In addition, the database uses the temporary tablespace of the specified schema for sorts, joins, and storage of temporary database objects. The session retains its original privileges and does not acquire any extra privileges by the preceding <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                     </p>
                     <p>In the following example, provide the password when prompted:</p><pre class="oac_no_warn" dir="ltr">CONNECT scott
ALTER SESSION SET CURRENT_SCHEMA = joe;
SELECT * FROM emp;
</pre><p>Because <code class="codeph">emp</code> is not schema-qualified, the table name is resolved under schema <code class="codeph">joe</code>. But if <code class="codeph">scott</code> does not have select privilege on table <code class="codeph">joe</code>.<code class="codeph">emp</code>, then <code class="codeph">scott</code> cannot execute the <code class="codeph">SELECT</code> statement.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13166"></a><div class="props_rev_3"><a id="GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" name="GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037"></a><h3 id="ADMIN-GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" class="sect3"><span class="enumeration_section">18.10 </span>Managing Editions
               </h3>
               <p>Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-73C18F23-CFC1-43F5-A9C6-D7C40A856252">About Editions and Edition-Based Redefinition</a><br>Edition-based redefinition enables you to upgrade an application's database objects while the application is in use, thus minimizing or eliminating down time. This is accomplished by changing (redefining) database objects in a private environment known as an <span class="bold">edition</span>.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-E05B2C83-720F-425D-B9AC-F14BA2571820">DBA Tasks for Edition-Based Redefinition</a><br>A user must have the required privileges to perform tasks related to edition-based redefinition.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1">Setting the Database Default Edition</a><br>There is always a default edition for the database. This is the edition that a database session initially uses if it does not explicitly indicate an edition when connecting.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-6223757D-D63A-4E0B-8497-C95FC3F2CB5C">Querying the Database Default Edition</a><br>The database default edition is stored as a database property.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD">Setting the Edition Attribute of a Database Service</a><br>You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute. 
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-161B0CB1-1AF6-4632-9434-B42B8E69EE10">Using an Edition</a><br>To view or modify objects in a particular edition, you must <span class="italic">use</span> the edition first. You can specify an edition to use when you connect to the database. If you do not specify an edition, then your session starts in the database default edition.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-E1365066-390F-4466-8088-F7422907764C">Editions Data Dictionary Views</a><br>There are several data dictionary views that aid with managing editions.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13167"></a><div class="props_rev_3"><a id="GUID-73C18F23-CFC1-43F5-A9C6-D7C40A856252" name="GUID-73C18F23-CFC1-43F5-A9C6-D7C40A856252"></a><h4 id="ADMIN-GUID-73C18F23-CFC1-43F5-A9C6-D7C40A856252" class="sect4"><span class="enumeration_section">18.10.1 </span>About Editions and Edition-Based Redefinition
                  </h4>
                  <div>
                     <p>Edition-based redefinition enables you to upgrade an application's database objects while the application is in use, thus minimizing or eliminating down time. This is accomplished by changing (redefining) database objects in a private environment known as an <span class="bold">edition</span>.
                     </p>
                     <p>Only when all changes have been made and tested do you make the new version of the application available to users.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-73C18F23-CFC1-43F5-A9C6-D7C40A856252__GUID-A39511B0-F7AA-4C8A-89DC-AA3C2B17C10F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adfns/editions.html#ADFNS020" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for a complete discussion of edition-based redefinition
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13169"></a><a id="ADMIN13168"></a><div class="props_rev_3"><a id="GUID-E05B2C83-720F-425D-B9AC-F14BA2571820" name="GUID-E05B2C83-720F-425D-B9AC-F14BA2571820"></a><h4 id="ADMIN-GUID-E05B2C83-720F-425D-B9AC-F14BA2571820" class="sect4"><span class="enumeration_section">18.10.2 </span>DBA Tasks for Edition-Based Redefinition
                  </h4>
                  <div>
                     <p>A user must have the required privileges to perform tasks related to edition-based redefinition.</p>
                     <p><a href="managing-schema-objects.html#GUID-E05B2C83-720F-425D-B9AC-F14BA2571820__CHDEJBBH" title="This table has two columns. The first lists a task in the second lists a cross reference to find out more information about the task.">Table 18-1</a> summarizes the edition-related tasks that require privileges typically granted only to DBAs. Any user that is granted the <code class="codeph">DBA</code> role can perform these tasks.
                     </p>
                     <div class="tblformal" id="GUID-E05B2C83-720F-425D-B9AC-F14BA2571820__CHDEJBBH">
                        <p class="titleintable">Table 18-1 DBA Tasks for Edition-Based Redefinition</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBA Tasks for Edition-Based Redefinition" summary="This table has two columns.  The first lists a task in the second lists a cross reference to find out more information about the task." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d176439e4662">Task</th>
                                 <th align="left" valign="bottom" width="50%" id="d176439e4665">See</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d176439e4670" headers="d176439e4662 ">
                                    <p>Grant or revoke privileges to create, alter, and drop editions</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d176439e4670 d176439e4665 ">
                                    <p>The <a href="../sqlrf/CREATE-EDITION.html#SQLRF20017" target="_blank"><code class="codeph">CREATE</code> <code class="codeph">EDITION</code></a> and <a href="../sqlrf/DROP-EDITION.html#SQLRF20019" target="_blank"><code class="codeph">DROP</code> <code class="codeph">EDITION</code></a> SQL statements
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d176439e4693" headers="d176439e4662 ">
                                    <p>Enable editions for a schema</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d176439e4693 d176439e4665 ">
                                    <p><a href="../adfns/editions.html#ADFNS99878" target="_blank"><span class="italic">Oracle Database Development Guide</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d176439e4703" headers="d176439e4662 ">
                                    <p>Set the database default edition</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d176439e4703 d176439e4665 ">
                                    <p><span class="q">"<a href="managing-schema-objects.html#GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1" title="There is always a default edition for the database. This is the edition that a database session initially uses if it does not explicitly indicate an edition when connecting.">Setting the Database Default Edition</a>"</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d176439e4716" headers="d176439e4662 ">
                                    <p>Set the edition attribute of a database service</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d176439e4716 d176439e4665 ">
                                    <p><span class="q">"<a href="managing-schema-objects.html#GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" title="You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute.">Setting the Edition Attribute of a Database Service</a>"</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13170"></a><div class="props_rev_3"><a id="GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1" name="GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1"></a><h4 id="ADMIN-GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1" class="sect4"><span class="enumeration_section">18.10.3 </span>Setting the Database Default Edition
                  </h4>
                  <div>
                     <p>There is always a default edition for the database. This is the edition that a database session initially uses if it does not explicitly indicate an edition when connecting.</p>
                     <div class="section">
                        <p>To set the database default edition: </p>
                        <ol>
                           <li>
                              <p>Connect to the database as a user with the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> privilege and <code class="codeph">USE</code> privilege <code class="codeph">WITH GRANT OPTION</code> on the edition.
                              </p>
                           </li>
                           <li>
                              <p>Enter the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT EDITION = <span class="italic">edition_name</span>;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3FE083AD-6DE5-4F4E-92A0-1BFDD923A2D1__GUID-FF46009F-F5E8-42D3-AE59-AA1FD9DCBAFF">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13171"></a><div class="props_rev_3"><a id="GUID-6223757D-D63A-4E0B-8497-C95FC3F2CB5C" name="GUID-6223757D-D63A-4E0B-8497-C95FC3F2CB5C"></a><h4 id="ADMIN-GUID-6223757D-D63A-4E0B-8497-C95FC3F2CB5C" class="sect4"><span class="enumeration_section">18.10.4 </span>Querying the Database Default Edition
                  </h4>
                  <div>
                     <p>The database default edition is stored as a database property.</p>
                     <div class="section">
                        <p>To query the database default edition:</p>
                        <ol>
                           <li>
                              <p>Connect to the database as any user.</p>
                           </li>
                           <li>
                              <p>Enter the following statement:</p><pre class="oac_no_warn" dir="ltr">SELECT PROPERTY_VALUE FROM DATABASE_PROPERTIES WHERE 
   PROPERTY_NAME = 'DEFAULT_EDITION';

PROPERTY_VALUE
------------------------------
ORA$BASE</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-6223757D-D63A-4E0B-8497-C95FC3F2CB5C__GUID-88C55321-6CF9-4A49-93C3-A43491ADEA4A">
                           <p class="notep1">Note:</p>
                           <p>The property name <code class="codeph">DEFAULT_EDITION</code> is case sensitive and must be supplied as upper case.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13454"></a><div class="props_rev_3"><a id="GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" name="GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD"></a><h4 id="ADMIN-GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" class="sect4"><span class="enumeration_section">18.10.5 </span>Setting the Edition Attribute of a Database Service
                  </h4>
                  <div>
                     <p>You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute. </p>
                     <div class="infoboxnote" id="GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD__GUID-9296C0B7-B394-4ABB-8C85-221B2D73B41B">
                        <p class="notep1">Note:</p>
                        <p>The number of database services for an instance has an upper limit. See <a href="../refrn/process-and-runtime-limits.html#REFRN0044" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about this limit.
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-7219E959-A1DE-47AF-B522-1FB12B61B6F8">About Setting the Edition Attribute of a Database Service</a><br>When you set the edition attribute of a service, all subsequent connections that specify the service, such as client connections and <code class="codeph">DBMS_SCHEDULER</code> jobs, use this edition as the initial session edition. However, if a session connection specifies a different edition, then the edition specified in the session connection is used for the session edition. 
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-63418D5B-00FA-43E9-BAC1-4A39288B6655">Setting the Edition Attribute During Database Service Creation</a><br>You can use the <code class="codeph">SRVCTL</code> utility or the <code class="codeph">DBMS_SERVICE</code> package to set the edition attribute of a database service when you create the service.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-629D79FC-E834-4017-819E-0A5EDBED1A5F">Setting the Edition Attribute of an Existing Database Service</a><br>You can use the <code class="codeph">SRVCTL</code> utility or the <code class="codeph">DBMS_SERVICE</code> package to set the edition attribute of an existing database service.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-7219E959-A1DE-47AF-B522-1FB12B61B6F8" name="GUID-7219E959-A1DE-47AF-B522-1FB12B61B6F8"></a><h5 id="ADMIN-GUID-7219E959-A1DE-47AF-B522-1FB12B61B6F8" class="sect5"><span class="enumeration_section">18.10.5.1 </span>About Setting the Edition Attribute of a Database Service
                     </h5>
                     <div>
                        <p>When you set the edition attribute of a service, all subsequent connections that specify the service, such as client connections and <code class="codeph">DBMS_SCHEDULER</code> jobs, use this edition as the initial session edition. However, if a session connection specifies a different edition, then the edition specified in the session connection is used for the session edition. 
                        </p>
                        <p>To check the edition attribute of a database service, query the <code class="codeph">EDITION</code> column in the <code class="codeph">ALL_SERVICES</code> view or the <code class="codeph">DBA_SERVICES</code> view.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" title="You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute.">Setting the Edition Attribute of a Database Service</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13455"></a><div class="props_rev_3"><a id="GUID-63418D5B-00FA-43E9-BAC1-4A39288B6655" name="GUID-63418D5B-00FA-43E9-BAC1-4A39288B6655"></a><h5 id="ADMIN-GUID-63418D5B-00FA-43E9-BAC1-4A39288B6655" class="sect5"><span class="enumeration_section">18.10.5.2 </span>Setting the Edition Attribute During Database Service Creation
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">SRVCTL</code> utility or the <code class="codeph">DBMS_SERVICE</code> package to set the edition attribute of a database service when you create the service.
                        </p>
                        <div class="section">
                           <p>Follow the instructions in <span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-8A3CB5F9-8523-4B62-9127-57BB8F0CCEAF" title="There are a few ways to create database services, depending on your database configuration.">Creating Database Services</a>"</span> and use the appropriate option for setting the edition attribute for the database service:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If your single-instance database is being managed by Oracle Restart, use the <code class="codeph">SRVCTL</code> utility to create the database service and specify the <code class="codeph">-edition</code> option to set its edition attribute.
                                 </p>
                                 <p>For the database with the <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, this example creates a new database service named <code class="codeph">crmbatch</code> and sets the edition attribute of the database service to <code class="codeph">e2</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">srvctl add service -db dbcrm -service crmbatch -edition e2
</pre></li>
                              <li>
                                 <p>If your single-instance database is not being managed by Oracle Restart, use the <code class="codeph">DBMS_SERVICE.CREATE_SERVICE</code> procedure, and specify the <code class="codeph">edition</code> parameter to set the edition attribute of the database service.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" title="You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute.">Setting the Edition Attribute of a Database Service</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13456"></a><div class="props_rev_3"><a id="GUID-629D79FC-E834-4017-819E-0A5EDBED1A5F" name="GUID-629D79FC-E834-4017-819E-0A5EDBED1A5F"></a><h5 id="ADMIN-GUID-629D79FC-E834-4017-819E-0A5EDBED1A5F" class="sect5"><span class="enumeration_section">18.10.5.3 </span>Setting the Edition Attribute of an Existing Database Service
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">SRVCTL</code> utility or the <code class="codeph">DBMS_SERVICE</code> package to set the edition attribute of an existing database service.
                        </p>
                        <div class="section">
                           <p>To set the edition attribute of an existing database service:</p>
                           <ol>
                              <li>
                                 <p>Stop the database service.</p>
                              </li>
                              <li>
                                 <p>Set the edition attribute of the database service using the appropriate option:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If your single-instance database is being managed by Oracle Restart, use the <code class="codeph">SRVCTL</code> utility to modify the database service and specify the <code class="codeph">-edition</code> option to set its edition attribute.
                                       </p>
                                       <p>For the database with the <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, this example modifies a database service named <code class="codeph">crmbatch</code> and sets the edition attribute of the service to <code class="codeph">e3</code>:
                                       </p><pre class="oac_no_warn" dir="ltr">srvctl modify service -db dbcrm -service crmbatch -edition e3
</pre></li>
                                    <li>
                                       <p>If your single-instance database is not being managed by Oracle Restart, use the <code class="codeph">DBMS_SERVICE.MODIFY_SERVICE</code> procedure, and specify the <code class="codeph">edition</code> parameter to set the edition attribute of the database service. Ensure that the <code class="codeph">modify_edition</code> parameter is set to <code class="codeph">TRUE</code> when you run the <code class="codeph">MODIFY_SERVICE</code> procedure.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Start the database service.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-629D79FC-E834-4017-819E-0A5EDBED1A5F__GUID-2F8261A0-DC70-436F-9E71-3699627EF04E">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-automatic-restart-of-an-oracle-database.html#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts."> Configuring Automatic Restart of an Oracle Database </a> for information managing database services using Oracle Restart
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SERVICE.html#ARPLS092" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about managing database services using the <code class="codeph">DBMS_SERVICE</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-C11D21A6-718E-4D5D-8E31-D624D16E38DD" title="You can set the edition attribute of a database service when you create the service, or you can modify an existing database service to set its edition attribute.">Setting the Edition Attribute of a Database Service</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13172"></a><div class="props_rev_3"><a id="GUID-161B0CB1-1AF6-4632-9434-B42B8E69EE10" name="GUID-161B0CB1-1AF6-4632-9434-B42B8E69EE10"></a><h4 id="ADMIN-GUID-161B0CB1-1AF6-4632-9434-B42B8E69EE10" class="sect4"><span class="enumeration_section">18.10.6 </span>Using an Edition
                  </h4>
                  <div>
                     <p>To view or modify objects in a particular edition, you must <span class="italic">use</span> the edition first. You can specify an edition to use when you connect to the database. If you do not specify an edition, then your session starts in the database default edition.
                     </p>
                     <div class="section">
                        <p>To use a different edition, submit the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION=<span class="italic">edition_name</span>;
</pre><p>The following statements first set the current edition to <code class="codeph">e2</code> and then to <code class="codeph">ora$base</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION=e2;
...
ALTER SESSION SET EDITION=ora$base;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-161B0CB1-1AF6-4632-9434-B42B8E69EE10__GUID-EE6D81AD-D44C-4981-842E-71A577E4ECC9">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../adfns/editions.html#ADFNS99921" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information about using editions, and for instructions for determining the current edition
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13173"></a><div class="props_rev_3"><a id="GUID-E1365066-390F-4466-8088-F7422907764C" name="GUID-E1365066-390F-4466-8088-F7422907764C"></a><h4 id="ADMIN-GUID-E1365066-390F-4466-8088-F7422907764C" class="sect4"><span class="enumeration_section">18.10.7 </span>Editions Data Dictionary Views
                  </h4>
                  <div>
                     <p>There are several data dictionary views that aid with managing editions.</p>
                     <div class="section">
                        <p>The following table lists three of them. For a complete list, see <a href="../adfns/editions.html#ADFNS0204" target="_blank"><span class="italic">Oracle Database Development Guide</span></a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E1365066-390F-4466-8088-F7422907764C__GUID-DC97118E-35AC-43C6-9ECB-3F6C2CECA848">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the names of views and, column 2 describes each view." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d176439e5308">View</th>
                                 <th align="left" valign="bottom" width="72%" id="d176439e5311">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d176439e5316" headers="d176439e5308 ">
                                    <p><code class="codeph">*_EDITIONS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d176439e5316 d176439e5311 ">
                                    <p>Lists all editions in the database. (Note: <code class="codeph">USER_EDITIONS</code> does not exist.)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d176439e5327" headers="d176439e5308 ">
                                    <p><code class="codeph">*_OBJECTS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d176439e5327 d176439e5311 ">
                                    <p>Describes every object in the database that is visible (actual or inherited) in the current edition.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d176439e5335" headers="d176439e5308 ">
                                    <p><code class="codeph">*_OBJECTS_AE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d176439e5335 d176439e5311 ">
                                    <p>Describes every actual object in the database, across all editions.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-17DBA74B-01D6-461F-8DCC-73AF1CF30037" title="Application developers who are upgrading their applications using edition-based redefinition may ask you to perform edition-related tasks that require DBA privileges.">Managing Editions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11562"></a><div class="props_rev_3"><a id="GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF" name="GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF"></a><h3 id="ADMIN-GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF" class="sect3"><span class="enumeration_section">18.11 </span>Displaying Information About Schema Objects
               </h3>
               <p>Oracle Database provides a PL/SQL package that enables you to determine the DDL that created an object and data dictionary views that you can use to display information about schema objects.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-060F2808-C1BE-49FA-9C8E-158FE182B603">Using a PL/SQL Package to Display Information About Schema Objects</a><br>The Oracle-supplied PL/SQL package procedure <code class="codeph">DBMS_METADATA.GET_DDL</code> lets you obtain metadata (in the form of DDL used to create the object) about a schema object.
                     </li>
                     <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86">Schema Objects Data Dictionary Views</a><br>These views display general information about schema objects.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database.">Managing Schema Objects</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12620"></a><a id="ADMIN11563"></a><div class="props_rev_3"><a id="GUID-060F2808-C1BE-49FA-9C8E-158FE182B603" name="GUID-060F2808-C1BE-49FA-9C8E-158FE182B603"></a><h4 id="ADMIN-GUID-060F2808-C1BE-49FA-9C8E-158FE182B603" class="sect4"><span class="enumeration_section">18.11.1 </span>Using a PL/SQL Package to Display Information About Schema Objects
                  </h4>
                  <div>
                     <p>The Oracle-supplied PL/SQL package procedure <code class="codeph">DBMS_METADATA.GET_DDL</code> lets you obtain metadata (in the form of DDL used to create the object) about a schema object.
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-060F2808-C1BE-49FA-9C8E-158FE182B603__GUID-1038EAE1-74AD-4DD5-8533-EBCEB2D9DBC3">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_METADATA.html#ARPLS026" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a description of the <code class="codeph">DBMS_METADATA</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-060F2808-C1BE-49FA-9C8E-158FE182B603__GUID-E6813993-6EB0-471B-B547-526C0836EF15">Example: Using the DBMS_METADATA Package</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DBMS_METADATA</code> package is a powerful tool for obtaining the complete definition of a schema object. It enables you to obtain all of the attributes of an object in one pass. The object is described as DDL that can be used to (re)create it.
                        </p>
                        <p>In the following statements the <code class="codeph">GET_DDL</code> function is used to fetch the DDL for all tables in the current schema, filtering out nested tables and overflow segments. The <code class="codeph">SET_TRANSFORM_PARAM</code> (with the handle value equal to <code class="codeph">DBMS_METADATA.SESSION_TRANSFORM</code> meaning "for the current session") is used to specify that storage clauses are not to be returned in the SQL DDL. Afterwards, the session-level transform parameters are reset to their defaults. Once set, transform parameter values remain in effect until specifically reset to their defaults. 
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_METADATA.SET_TRANSFORM_PARAM(
     DBMS_METADATA.SESSION_TRANSFORM,'STORAGE',false);
SELECT DBMS_METADATA.GET_DDL('TABLE',u.table_name)
     FROM USER_ALL_TABLES u
     WHERE u.nested='NO' 
     AND (u.iot_type is null or u.iot_type='IOT');
EXECUTE DBMS_METADATA.SET_TRANSFORM_PARAM(
     DBMS_METADATA.SESSION_TRANSFORM,'DEFAULT');
</pre><p>The output from <code class="codeph">DBMS_METADATA.GET_DDL</code> is a <code class="codeph">LONG</code> data type. When using SQL*Plus, your output may be truncated by default. Issue the following SQL*Plus command before issuing the <code class="codeph">DBMS_METADATA.GET_DDL</code> statement to ensure that your output is not truncated:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SET LONG 9999</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF" title="Oracle Database provides a PL/SQL package that enables you to determine the DDL that created an object and data dictionary views that you can use to display information about schema objects.">Displaying Information About Schema Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11564"></a><div class="props_rev_3"><a id="GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86" name="GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86"></a><h4 id="ADMIN-GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86" class="sect4"><span class="enumeration_section">18.11.2 </span>Schema Objects Data Dictionary Views
                  </h4>
                  <div>
                     <p>These views display general information about schema objects.</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86__GUID-350A5C36-07C9-46E6-A65F-0934FA97B7A1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the names of views that can be used to view general information about schema objects. Column 2 describes each view." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d176439e5557">View</th>
                                 <th align="left" valign="bottom" width="70%" id="d176439e5560">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d176439e5565" headers="d176439e5557 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23146" target="_blank">DBA_OBJECTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20146" target="_blank">ALL_OBJECTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26146" target="_blank">USER_OBJECTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d176439e5565 d176439e5560 ">
                                    <p><code class="codeph">DBA</code> view describes all schema objects in the database. <code class="codeph">ALL</code> view describes objects accessible to current user. <code class="codeph">USER</code> view describes objects owned by the current user.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d176439e5596" headers="d176439e5557 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23036" target="_blank">DBA_CATALOG</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20036" target="_blank">ALL_CATALOG</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_CATALOG.html#REFRN26036" target="_blank">USER_CATALOG</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d176439e5596 d176439e5560 ">
                                    <p>List the name, type, and owner (<code class="codeph">USER</code> view does not display owner) for all tables, views, synonyms, and sequences in the database.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d176439e5622" headers="d176439e5557 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23053" target="_blank">DBA_DEPENDENCIES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20053" target="_blank">ALL_DEPENDENCIES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26053" target="_blank">USER_DEPENDENCIES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d176439e5622 d176439e5560 ">
                                    <p>List all dependencies between procedures, packages, functions, package bodies, and triggers, including dependencies on views without any database links.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-10DB95E6-6058-4CBC-B22C-05206FB92F5A">Example 1: Displaying Schema Objects By Type</a><br>You can query the <code class="codeph">USER_OBJECTS</code> view to list all of the objects owned by the user issuing the query.
                        </li>
                        <li class="ulchildlink"><a href="managing-schema-objects.html#GUID-EEF4BFFD-6817-4742-96F8-0977CDE75C09">Example 2: Displaying Dependencies of Views and Synonyms</a><br>When you create a view or a synonym, the view or synonym is based on its underlying base object. The <code class="codeph">ALL_DEPENDENCIES</code>, <code class="codeph">USER_DEPENDENCIES</code>, and <code class="codeph">DBA_DEPENDENCIES</code> data dictionary views can be used to reveal the dependencies for a view. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-743F4E97-5D26-4877-BF4F-923ACECD8BEF" title="Oracle Database provides a PL/SQL package that enables you to determine the DDL that created an object and data dictionary views that you can use to display information about schema objects.">Displaying Information About Schema Objects</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11565"></a><div class="props_rev_3"><a id="GUID-10DB95E6-6058-4CBC-B22C-05206FB92F5A" name="GUID-10DB95E6-6058-4CBC-B22C-05206FB92F5A"></a><h5 id="ADMIN-GUID-10DB95E6-6058-4CBC-B22C-05206FB92F5A" class="sect5"><span class="enumeration_section">18.11.2.1 </span>Example 1: Displaying Schema Objects By Type 
                     </h5>
                     <div>
                        <p>You can query the <code class="codeph">USER_OBJECTS</code> view to list all of the objects owned by the user issuing the query.
                        </p>
                        <div class="section">
                           <p>The following query lists all of the objects owned by the user issuing the query:</p><pre class="oac_no_warn" dir="ltr">SELECT OBJECT_NAME, OBJECT_TYPE 
    FROM USER_OBJECTS;
</pre><p>The following is the query output:</p><pre class="oac_no_warn" dir="ltr">OBJECT_NAME                OBJECT_TYPE
-------------------------  -------------------
EMP_DEPT                   CLUSTER
EMP                        TABLE
DEPT                       TABLE
EMP_DEPT_INDEX             INDEX
PUBLIC_EMP                 SYNONYM
EMP_MGR                    VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86" title="These views display general information about schema objects.">Schema Objects Data Dictionary Views</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11566"></a><div class="props_rev_3"><a id="GUID-EEF4BFFD-6817-4742-96F8-0977CDE75C09" name="GUID-EEF4BFFD-6817-4742-96F8-0977CDE75C09"></a><h5 id="ADMIN-GUID-EEF4BFFD-6817-4742-96F8-0977CDE75C09" class="sect5"><span class="enumeration_section">18.11.2.2 </span>Example 2: Displaying Dependencies of Views and Synonyms
                     </h5>
                     <div>
                        <p>When you create a view or a synonym, the view or synonym is based on its underlying base object. The <code class="codeph">ALL_DEPENDENCIES</code>, <code class="codeph">USER_DEPENDENCIES</code>, and <code class="codeph">DBA_DEPENDENCIES</code> data dictionary views can be used to reveal the dependencies for a view. 
                        </p>
                        <div class="section">
                           <p>The <code class="codeph">ALL</code><code class="codeph">_SYNONYMS</code>, <code class="codeph">USER_SYNONYMS</code>, and <code class="codeph">DBA_SYNONYMS</code> data dictionary views can be used to list the base object of a synonym. For example, the following query lists the base objects for the synonyms created by user <code class="codeph">jward</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_OWNER, TABLE_NAME, SYNONYM_NAME
    FROM DBA_SYNONYMS
    WHERE OWNER = 'JWARD';
</pre><p>The following is the query output:</p><pre class="oac_no_warn" dir="ltr">TABLE_OWNER             TABLE_NAME   SYNONYM_NAME
----------------------  -----------  -----------------
SCOTT                   DEPT         DEPT
SCOTT                   EMP          EMP</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-schema-objects.html#GUID-043A5C7C-7F0F-485B-BB5E-8A26DADA1F86" title="These views display general information about schema objects.">Schema Objects Data Dictionary Views</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>