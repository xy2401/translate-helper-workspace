<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">
      <meta name="description" content="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">
      <title>Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-security-for-definers-rights-and-invokers-rights.html" title="Previous" type="text/html">
      <link rel="next" href="managing-security-for-multitenant-environment-in-em.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-security-for-definers-rights-and-invokers-rights.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-security-for-multitenant-environment-in-em.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_1.html" property="item" typeof="WebPage"><span property="name">Managing User Authentication and&nbsp;Authorization</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</li>
            </ol>
            <a id="GUID-B7DB516A-3245-417F-BB89-8E8212A97542" name="GUID-B7DB516A-3245-417F-BB89-8E8212A97542"></a><a id="DBSEG40012"></a>
            
            <h2 id="DBSEG-GUID-B7DB516A-3245-417F-BB89-8E8212A97542" class="sect2"><span class="enumeration_chapter">8 </span>Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9FEADB5F-BDDB-4C94-9C23-F1F0B521F7E9">About Managing Fine-Grained Access in PL/SQL Packages and Types</a><br>You can configure user access to external network services and wallets through a set of PL/SQL packages and one type.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3A9008A8-A38B-4BBA-B520-8724A518EE54">About Fine-Grained Access Control to External Network Services</a><br>Oracle Application Security access control lists (ACL) can implement fine-grained access control to external network services. 
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3810CB91-03E4-4978-89A2-AD7F61590293">About Access Control to Oracle Wallets</a><br>When accessing remote Web server-protected Web pages, users can authenticate themselves with passwords and client certificates stored in an Oracle wallet.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-74873A0A-FA27-4DC4-8ECC-AC438C64DBE0">Upgraded Applications That Depend on Packages That Use External Network Services</a><br>Upgraded applications may have <code class="codeph">ORA-24247</code> network access errors. 
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213">Configuring Access Control for External Network Services</a><br>The <code class="codeph">DBMS_NETWORK_ACL</code> packages configures access control for external network services.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD">Configuring Access Control to an Oracle Wallet</a><br>Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C">Examples of Configuring Access Control for External Network Services</a><br>You can configure access control for a variety of situations, such as for a single role and network connection. 
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-5819525F-0429-4B31-BBCC-9C750F321124">Specifying a Group of Network Host Computers</a><br>You can use wildcards to specify a group of network host computers.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-338977CE-F909-4EB3-95DB-E5B907F90BEF">Precedence Order for a Host Computer in Multiple Access Control List Assignments</a><br>The access control list assigned to a domain has a lower precedence than those assigned to the subdomains.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-7CB67F1C-4A40-4BEB-BCD1-D982C09561CD">Precedence Order for a Host in Access Control List Assignments with Port Ranges</a><br>The precedence order for a host in an access control list is determined by the use of port ranges. 
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC">Checking Privilege Assignments That Affect User Access to Network Hosts</a><br>Both administrators and users can check network connection and domain privileges. 
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0">Configuring Network Access for Java Debug Wire Protocol Operations</a><br>Before you can debug Java PL/SQL procedures, you must be granted the <code class="codeph">jdwp</code> ACL privilege.
                  </li>
                  <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323">Data Dictionary Views for Access Control Lists Configured for User Access</a><br>Oracle Database provides data data dictionary views that you can use to find information about existing access control lists.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_1.html" title="Part I describes how to manage user authentication and authorization.">Managing User Authentication and&nbsp;Authorization</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG721"></a><div class="props_rev_3"><a id="GUID-9FEADB5F-BDDB-4C94-9C23-F1F0B521F7E9" name="GUID-9FEADB5F-BDDB-4C94-9C23-F1F0B521F7E9"></a><h3 id="DBSEG-GUID-9FEADB5F-BDDB-4C94-9C23-F1F0B521F7E9" class="sect3">About Managing Fine-Grained Access in PL/SQL Packages and Types</h3>
               <div>
                  <p>You can configure user access to external network services and wallets through a set of PL/SQL packages and one type.</p>
                  <p>These packages are the <code class="codeph">UTL_TCP</code>, <code class="codeph">UTL_SMTP</code>, <code class="codeph">UTL_MAIL</code>, <code class="codeph">UTL_HTTP</code>, and <code class="codeph">UTL_INADDR</code> ,and the <code class="codeph">DBMS_LDAP</code> PL/SQL packages, and the <code class="codeph">HttpUriType</code> type. 
                  </p>
                  <p>The following scenarios are possible:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">Configuring fine-grained access control for users and roles that need to access external network services from the database.</span> This way, specific groups of users can connect to one or more host computers, based on privileges that you grant them. Typically, you use this feature to control access to applications that run on specific host addresses.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Configuring fine-grained access control to Oracle wallets to make HTTP requests that require password or client-certificate authentication.</span> This feature enables you to grant privileges to users who are using passwords and client certificates stored in Oracle wallets to access external protected HTTP resources through the <code class="codeph">UTL_HTTP</code> package. For example, you can configure applications to use the credentials stored in the wallets instead of hard-coding the credentials in the applications. 
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG99981"></a><div class="props_rev_3"><a id="GUID-3A9008A8-A38B-4BBA-B520-8724A518EE54" name="GUID-3A9008A8-A38B-4BBA-B520-8724A518EE54"></a><h3 id="DBSEG-GUID-3A9008A8-A38B-4BBA-B520-8724A518EE54" class="sect3">About Fine-Grained Access Control to External Network Services</h3>
               <div>
                  <p>Oracle Application Security access control lists (ACL) can implement fine-grained access control to external network services. </p>
                  <p>This guide explains how to configure the access control for database users and roles by using the <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> PL/SQL package.
                  </p>
                  <p>This feature enhances security for network connections because it restricts the external network hosts that a database user can connect to using the PL/SQL network utility packages <code class="codeph">UTL_TCP</code>, <code class="codeph">UTL_SMTP</code>, <code class="codeph">UTL_MAIL</code>, <code class="codeph">UTL_HTTP</code>, and <code class="codeph">UTL_INADDR</code>; the <code class="codeph">DBMS_LDAP</code> and <code class="codeph">DBMS_DEBUG_JDWP</code> PL/SQL packages; and the <code class="codeph">HttpUriType</code> type. Otherwise, an intruder who gained access to the database could maliciously attack the network, because, by default, the PL/SQL utility packages are created with the <code class="codeph">EXECUTE</code> privilege granted to <code class="codeph">PUBLIC</code> users. These PL/SQL network utility packages, and the <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> and <code class="codeph">DBMS_NETWORK_ACL_UTILITY</code> packages, support both IP Version 4 (IPv4) and IP Version 6 (IPv6) addresses. This guide explains how to manage access control to both versions. For detailed information about how the IPv4 and IPv6 notation works with Oracle Database, see <a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a>.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-3A9008A8-A38B-4BBA-B520-8724A518EE54__GUID-C07CE273-573C-4870-9E1F-91CC7991AF1F">
                     <p class="notep1">See Also:</p>
                     <p><a href="configuring-audit-policies.html#GUID-AAE7D86F-4C64-402A-9D3E-BE7D13196E22" title="This tutorial demonstrates how to create a fine-grained audit policy that generates an email alert when users violate the policy.">Tutorial: Adding an Email Alert to a Fine-Grained Audit Policy</a> for an example of configuring access control to external network services for email alerts
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG99982"></a><div class="props_rev_3"><a id="GUID-3810CB91-03E4-4978-89A2-AD7F61590293" name="GUID-3810CB91-03E4-4978-89A2-AD7F61590293"></a><h3 id="DBSEG-GUID-3810CB91-03E4-4978-89A2-AD7F61590293" class="sect3">About Access Control to Oracle Wallets</h3>
               <div>
                  <p>When accessing remote Web server-protected Web pages, users can authenticate themselves with passwords and client certificates stored in an Oracle wallet.</p>
                  <p>The Oracle wallet provides secure storage of user passwords and client certificates.</p>
                  <p>To configure access control to a wallet, you must have the following components:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">An Oracle wallet.</span> You can create the wallet using the Oracle Database <code class="codeph">mkstore</code> utility or Oracle Wallet Manager. The HTTP request will use the external password store or the client certificate in the wallet to authenticate the user
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">An access control list to grant privileges to the user to use the wallet.</span> To configure the access control list, you use the <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> PL/SQL package. 
                        </p>
                     </li>
                  </ul>
                  <p>The use of Oracle wallets is beneficial because it provides secure storage of passwords and client certificates necessary to access protected Web pages.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG99983"></a><div class="props_rev_3"><a id="GUID-74873A0A-FA27-4DC4-8ECC-AC438C64DBE0" name="GUID-74873A0A-FA27-4DC4-8ECC-AC438C64DBE0"></a><h3 id="DBSEG-GUID-74873A0A-FA27-4DC4-8ECC-AC438C64DBE0" class="sect3">Upgraded Applications That Depend on Packages That Use External Network Services</h3>
               <div>
                  <p>Upgraded applications may have <code class="codeph">ORA-24247</code> network access errors. 
                  </p>
                  <p>If you have upgraded from a release before Oracle Database 11<span class="italic">g</span> Release 1 (11.1), and your applications depend on PL/SQL network utility packages (<code class="codeph">UTL_TCP</code>, <code class="codeph">UTL_SMTP</code>, <code class="codeph">UTL_MAIL</code>, <code class="codeph">UTL_HTTP</code>, <code class="codeph">UTL_INADDR</code>, and <code class="codeph">DBMS_LDAP</code>) or the <code class="codeph">HttpUriType</code> type, then the <code class="codeph">ORA-24247</code> error may occur when you try to run the application.
                  </p>
                  <p>The error message is as follows:</p><pre class="oac_no_warn" dir="ltr">ORA-24247: network access denied by access control list (ACL)
</pre><p>Use the procedures in this chapter to reconfigure the network access for the application.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-74873A0A-FA27-4DC4-8ECC-AC438C64DBE0__GUID-B91A983D-1E63-4F9B-857C-7D0929FFC067">
                     <p class="notep1">See Also:</p>
                     <p><a href="../upgrd/compatibility-interoperability-between-database-releases.html#UPGRD005" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a> for compatibility issues for applications that depend on the PL/SQL network utility packages
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG99984"></a><div class="props_rev_3"><a id="GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" name="GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213"></a><h3 id="DBSEG-GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" class="sect3">Configuring Access Control for External Network Services</h3>
               <div>
                  <p>The <code class="codeph">DBMS_NETWORK_ACL</code> packages configures access control for external network services.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6">Syntax for Configuring Access Control for External Network Services</a><br>You can use the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure to grant the access control privileges to a user. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141">Example: Configuring Access Control for External Network Services</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure can configure access control for external network services.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-09A7734A-4CED-49C2-AD0F-861B9DD155C7">Revoking Access Control Privileges for External Network Services</a><br>You can remove access control privileges for external network services. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-92848B76-B05D-4373-B64C-4AA430C7A152">Example: Revoking External Network Services Privileges</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.REMOVE_HOST_ACE</code> procedure can be used to revoke external network privileges. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG113"></a><div class="props_rev_3"><a id="GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6" name="GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6"></a><h4 id="DBSEG-GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6" class="sect4">Syntax for Configuring Access Control for External Network Services</h4>
                  <div>
                     <p>You can use the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure to grant the access control privileges to a user. 
                     </p>
                     <div class="section">
                        <p>This procedure appends an access control entry (ACE) with the specified privilege to the ACL for the given host, and creates the ACL if it does not exist yet. The resultant configuration resides in the <code class="codeph">SYS</code> schema, not the schema of the user who created it.
                        </p>
                        <p>The syntax is as follows: </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE (
  host         =&gt; '<span class="italic">host_name</span>', 
  lower_port   =&gt; null|<span class="italic">port_number</span>,
  upper_port   =&gt; null|<span class="italic">port_number</span>,
  ace          =&gt; <span class="italic">ace_definition</span>); 
END;
</pre><p>In this specification:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">host</code>: Enter the name of the host. It can be the host name or an IP address of the host. You can use a wildcard to specify a domain or an IP subnet. (See <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-338977CE-F909-4EB3-95DB-E5B907F90BEF" title="The access control list assigned to a domain has a lower precedence than those assigned to the subdomains.">Precedence Order for a Host Computer in Multiple Access Control List Assignments</a> for the precedence order when you use wildcards in domain names.) The host or domain name is case insensitive. Examples are as follows:
                              </p><pre class="oac_no_warn" dir="ltr">host     =&gt; 'www.example.com',

host     =&gt; '*example.com',
</pre></li>
                           <li>
                              <p><code class="codeph">lower_port</code>: (Optional) For TCP connections, enter the lower boundary of the port range. Use this setting for the <code class="codeph">connect</code> privilege only. Omit it for the <code class="codeph">resolve</code> privilege. The default is <code class="codeph">null</code>, which means that there is no port restriction (that is, the ACL applies to all ports). The range of port numbers is between 1 and 65535. 
                              </p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">lower_port =&gt; 80,
</pre></li>
                           <li>
                              <p><code class="codeph">upper_port</code>: (Optional) For TCP connections, enter the upper boundary of the port range. Use this setting for <code class="codeph">connect</code> privileges only. Omit it for the <code class="codeph">resolve</code> privilege. The default is <code class="codeph">null</code>, which means that there is no port restriction (that is, the ACL applies to all ports). The range of port numbers is between 1 and 65535
                              </p>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">upper_port =&gt; 3999);
</pre><p>If you enter a value for the <code class="codeph">lower_port</code> and leave the <code class="codeph">upper_port</code> at <code class="codeph">null</code> (or just omit it), then Oracle Database assumes the <code class="codeph">upper_port</code> setting is the same as the <code class="codeph">lower_port</code>. For example, if you set <code class="codeph">lower_port</code> to <code class="codeph">80</code> and omit <code class="codeph">upper_port</code>, the <code class="codeph">upper_port</code> setting is assumed to be <code class="codeph">80</code>.
                              </p>
                              <p>The <code class="codeph">resolve</code> privilege in the access control list has no effect when a port range is specified in the access control list assignment. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ace</code>: Define the ACE by using the <code class="codeph">XS$ACE_TYPE</code> constant, in the following format: 
                              </p><pre class="oac_no_warn" dir="ltr">ace    =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('<span class="italic">privilege</span>'),
                      principal_name =&gt; '<span class="italic">user_or_role</span>',
                      principal_type =&gt; <span class="italic">xs$ace_type_user</span>));
</pre><p> In this specification:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">privilege_list</code>: Enter one or more of the following privileges, which are case insensitive. Enclose each privilege with single quotation marks and separate each with a comma (for example, <code class="codeph">'http', 'http_proxy'</code>).
                                    </p>
                                    <p>For tighter access control, grant only the <code class="codeph">http</code>, <code class="codeph">http_proxy</code>, or <code class="codeph">smtp</code> privilege instead of the <code class="codeph">connect</code> privilege if the user uses the <code class="codeph">UTL_HTTP</code>, <code class="codeph">HttpUriType</code>, <code class="codeph">UTL_SMTP</code>, or <code class="codeph">UTL_MAIL</code> only. 
                                    </p>
                                    <p>- <code class="codeph">http</code>: Makes an HTTP request to a host through the <code class="codeph">UTL_HTTP</code> package and the <code class="codeph">HttpUriType</code> type 
                                    </p>
                                    <p>- <code class="codeph">http_proxy</code>: Makes an HTTP request through a proxy through the <code class="codeph">UTL_HTTP</code> package and the <code class="codeph">HttpUriType</code> type. You must include <code class="codeph">http_proxy</code> in conjunction to the <code class="codeph">http</code> privilege if the user makes the HTTP request through a proxy.
                                    </p>
                                    <p>- <code class="codeph">smtp</code>: Sends SMTP to a host through the <code class="codeph">UTL_SMTP</code> and <code class="codeph">UTL_MAIL</code> packages
                                    </p>
                                    <p>- <code class="codeph">resolve</code>: Resolves a network host name or IP address through the <code class="codeph">UTL_INADDR</code> package
                                    </p>
                                    <p>- <code class="codeph">connect</code>: Grants the user permission to connect to a network service at a host through the <code class="codeph">UTL_TCP</code>, <code class="codeph">UTL_SMTP</code>, <code class="codeph">UTL_MAIL</code>, <code class="codeph">UTL_HTTP</code>, and <code class="codeph">DBMS_LDAP</code> packages, or the <code class="codeph">HttpUriType</code> type 
                                    </p>
                                    <p>- <code class="codeph">jdwp</code>: Used for Java Debug Wire Protocol debugging operations for Java or PL/SQL stored procedures. See <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0" title="Before you can debug Java PL/SQL procedures, you must be granted the jdwp ACL privilege.">Configuring Network Access for Java Debug Wire Protocol Operations</a> for more information.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">principal_name</code>: Enter a database user name or role. This value is case insensistive, unless you enter it in double quotation marks (for example, <code class="codeph">'"ACCT_MGR'"</code>). 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">principal_type</code>: Enter <code class="codeph">XS_ACL.PTYPE_DB</code> for a database user or role. You must specify <code class="codeph">PTYPE_DB</code> because the <code class="codeph">principal_type</code> value defaults to <code class="codeph">PTYPE_XS</code>, which is used to specify an Oracle Database Real Application Security application user.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6__GUID-7C1AD0E5-BF45-43D9-8F69-9A22845058B4">
                        <p class="notep1">See Also:</p><a href="../dbfsg/configuring-application-privileges-and-access-contol-lists.html#DBFSG99821" target="_blank"><span><cite>Oracle Database Real Application Security Administrator's and Developer's Guide</cite></span></a> for information about additional <code class="codeph">XS$ACE_TYPE</code> parameters that you can include for the <code class="codeph">ace</code> parameter setting: <code class="codeph">granted</code>, <code class="codeph">inverted</code>, <code class="codeph">start_date</code>, and <code class="codeph">end_date</code></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" title="The DBMS_NETWORK_ACL packages configures access control for external network services.">Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG116"></a><a id="DBSEG114"></a><div class="props_rev_3"><a id="GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141" name="GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141"></a><h4 id="DBSEG-GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141" class="sect4">Example: Configuring Access Control for External Network Services</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure can configure access control for external network services.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141__CACGAGEE">Example 8-1</a> shows how to grant the <code class="codeph">http</code> and <code class="codeph">smtp</code> privileges to the <code class="codeph">acct_mgr</code> database role for an ACL created for the host <code class="codeph">www.example.com</code>.
                     </p>
                     <div class="example" id="GUID-6E5E9D6E-A2E6-43EA-A1DC-7CF6D6006141__CACGAGEE">
                        <p class="titleinexample">Example 8-1 Granting Privileges to a Database Role External Network Services</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
  host       =&gt; 'www.example.com',
  ace        =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list('http', 'smtp'),
                             principal_name =&gt; 'acct_mgr',
                             principal_type =&gt; xs_acl.ptype_db));
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" title="The DBMS_NETWORK_ACL packages configures access control for external network services.">Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG986"></a><div class="props_rev_3"><a id="GUID-09A7734A-4CED-49C2-AD0F-861B9DD155C7" name="GUID-09A7734A-4CED-49C2-AD0F-861B9DD155C7"></a><h4 id="DBSEG-GUID-09A7734A-4CED-49C2-AD0F-861B9DD155C7" class="sect4">Revoking Access Control Privileges for External Network Services</h4>
                  <div>
                     <p>You can remove access control privileges for external network services. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To revoke access control privileges for external network services, run the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.REMOVE_HOST_ACE</code> procedure.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-09A7734A-4CED-49C2-AD0F-861B9DD155C7__GUID-EEB4DC33-FBD0-453A-B8C4-F2C75676A671">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_NETWORK_ACL_ADMIN.html#ARPLS74583" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span> </a> for more information about the  <code class="codeph">DBMS_NETWORK_ACL_ADMIN.REMOVE_HOST_ACE</code> procedure
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" title="The DBMS_NETWORK_ACL packages configures access control for external network services.">Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG987"></a><div class="sect3"><a id="GUID-92848B76-B05D-4373-B64C-4AA430C7A152" name="GUID-92848B76-B05D-4373-B64C-4AA430C7A152"></a><h4 id="DBSEG-GUID-92848B76-B05D-4373-B64C-4AA430C7A152" class="sect4">Example: Revoking External Network Services Privileges</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.REMOVE_HOST_ACE</code> procedure can be used to revoke external network privileges. 
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-92848B76-B05D-4373-B64C-4AA430C7A152__CACFBHCG">Example 8-2</a> shows how to revoke external network privileges.
                     </p>
                     <div class="example" id="GUID-92848B76-B05D-4373-B64C-4AA430C7A152__CACFBHCG">
                        <p class="titleinexample">Example 8-2 Revoking External Network Services Privileges</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.REMOVE_HOST_ACE (
  host       =&gt; 'www.example.com',
  lower_port =&gt; 80,
  upper_port =&gt; upper_port =&gt; 3999,
  ace        =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('http', 'smtp'),
                            principal_name =&gt; 'acct_mgr',
                            principal_type =&gt; xs_acl.ptype_db),
  remove_empty_acl =&gt; TRUE);
END;
/
</pre><p>In this specification, the <code class="codeph">TRUE</code> setting for <code class="codeph">remove_empty_acl</code> removes the ACL when it becomes empty when the ACE is removed. 
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-3D5B66BC-0277-4887-9CD1-97DB44EB5213" title="The DBMS_NETWORK_ACL packages configures access control for external network services.">Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG99987"></a><div class="props_rev_3"><a id="GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" name="GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD"></a><h3 id="DBSEG-GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" class="sect3">Configuring Access Control to an Oracle Wallet</h3>
               <div>
                  <p>Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-80EF22F7-B61C-4E10-B7FE-0420259052AC">About Configuring Access Control to an Oracle Wallet</a><br>You can configure access control to grant access to passwords and client certificates.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-A6A44010-C33F-4A3B-AB4C-AB87C7600E98">Step 1: Create an Oracle Wallet</a><br>An Oracle wallet can use both standard and PKCS11 wallet types, as well as being an auto-login wallet. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-561E9D60-1414-4066-8214-8BBB6091956B">Step 2: Configure Access Control Privileges for the Oracle Wallet</a><br>After you have created the wallet, you are ready to configure access control privileges for the wallet. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429">Step 3: Make the HTTP Request with the Passwords and Client Certificates</a><br>The <code class="codeph">UTL_HTTP</code> package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-55FFBF28-397A-4616-8B35-30CCFCFB40A5">Revoking Access Control Privileges for Oracle Wallets</a><br>You can revoke access control privileges for an Oracle wallet.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG118"></a><div class="props_rev_3"><a id="GUID-80EF22F7-B61C-4E10-B7FE-0420259052AC" name="GUID-80EF22F7-B61C-4E10-B7FE-0420259052AC"></a><h4 id="DBSEG-GUID-80EF22F7-B61C-4E10-B7FE-0420259052AC" class="sect4">About Configuring Access Control to an Oracle Wallet</h4>
                  <div>
                     <p>You can configure access control to grant access to passwords and client certificates.</p>
                     <p>These passwords and client certificates are stored in an Oracle wallet. The access control that you configure enables users to authenticate themselves to an external network service when using the PL/SQL network utility packages. </p>
                     <p>This enables the user to gain access to the network service that requires password or certificate identification. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99988"></a><div class="props_rev_3"><a id="GUID-A6A44010-C33F-4A3B-AB4C-AB87C7600E98" name="GUID-A6A44010-C33F-4A3B-AB4C-AB87C7600E98"></a><h4 id="DBSEG-GUID-A6A44010-C33F-4A3B-AB4C-AB87C7600E98" class="sect4">Step 1: Create an Oracle Wallet</h4>
                  <div>
                     <p>An Oracle wallet can use both standard and PKCS11 wallet types, as well as being an auto-login wallet. </p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>To create the wallet, use either the <code class="codeph">mkstore</code> command-line utility or the Oracle Wallet Manager user interface. 
                              </p>
                              <p>To store passwords in the wallet, you must use the <code class="codeph">mkstore</code> utility. 
                              </p>
                           </li>
                           <li>
                              <p>Ensure that you have exported the wallet to a file.</p>
                           </li>
                           <li>
                              <p>Make a note of the directory in which you created the wallet. You will need this directory path when you complete the procedures in this section. </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B" title="The DBMS_NETWORK_ACL_ADMIN and UTL_HTTP PL/SQL packages can configure ACL access using passwords in a non-shared wallet.">Example: Configuring ACL Access Using Passwords in a Non-Shared Wallet</a></li>
                           <li><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4" title="The DBMS_NETWORK_ACL_ADMIN and UTL_HTTP PL/SQL packages can configure ACL access for a wallet in a shared database session.">Example: Configuring ACL Access for a Wallet in a Shared Database Session</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG99989"></a><div class="props_rev_3"><a id="GUID-561E9D60-1414-4066-8214-8BBB6091956B" name="GUID-561E9D60-1414-4066-8214-8BBB6091956B"></a><h4 id="DBSEG-GUID-561E9D60-1414-4066-8214-8BBB6091956B" class="sect4">Step 2: Configure Access Control Privileges for the Oracle Wallet</h4>
                  <div>
                     <p>After you have created the wallet, you are ready to configure access control privileges for the wallet. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE</code> procedure to configure the wallet access control privileges.
                              </p>
                           </li>
                        </ul>
                        <p>The syntax for the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE</code> procedure is as follows: 
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE (
  wallet_path =&gt; '<span class="italic">directory_path_to_wallet</span>',
  ace         =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('<span class="italic">privilege</span>'),
                             principal_name =&gt; '<span class="italic">user_or_role</span>',
                             principal_type =&gt; <span class="italic">xs$ace_type_user</span>));
END;
</pre><p>In this specification:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">wallet_path</code>: Enter the path to the directory that contains the wallet that you created in <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-A6A44010-C33F-4A3B-AB4C-AB87C7600E98" title="An Oracle wallet can use both standard and PKCS11 wallet types, as well as being an auto-login wallet.">Step 1: Create an Oracle Wallet</a>. When you specify the wallet path, you must use an absolute path and include <code class="codeph">file:</code> before this directory path. Do not use environment variables, such as <code class="codeph">$ORACLE_HOME</code>, nor insert a space after <code class="codeph">file:</code> and before the path name. For example:
                              </p><pre class="oac_no_warn" dir="ltr">wallet_path   =&gt; 'file:/oracle/wallets/hr_wallet',
</pre></li>
                           <li>
                              <p><code class="codeph">ace</code>: Define the ACL by using the <code class="codeph">XS$ACE_TYPE</code> constant. For example: 
                              </p><pre class="oac_no_warn" dir="ltr">  ace         =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list(<span class="italic">privilege</span>),
                             principal_name =&gt; 'hr_clerk',
                             principal_type =&gt; xs_acl.ptype_db);
</pre><p>In this specification, <span class="italic"><code class="codeph">privilege</code></span> must be one of the following when you enter wallet privileges using <code class="codeph">xs$ace_type</code> (note the use of underscores in these privilege names):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">use_client_certificates</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">use_passwords</code></p>
                                 </li>
                              </ul>
                              <p>For detailed information about these parameters, see the <code class="codeph">ace</code> parameter description in <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9C14581A-163F-48ED-98CC-790E6B8D20D6" title="You can use the DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE procedure to grant the access control privileges to a user.">Syntax for Configuring Access Control for External Network Services</a>. Be aware that for wallets, you must specify either the <code class="codeph">use_client_certificates</code> or <code class="codeph">use_passwords</code> privileges. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-561E9D60-1414-4066-8214-8BBB6091956B__GUID-EEA1166B-9F2D-4BDC-BEBD-C03C172DF826">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbfsg/configuring-application-privileges-and-access-contol-lists.html#DBFSG99821" target="_blank"><span><cite>Oracle Database Real Application Security Administrator's and Developer's Guide</cite></span></a> for information about additional <code class="codeph">XS$ACE_TYPE</code> parameters that you can include for the <code class="codeph">ace</code> parameter setting: <code class="codeph">granted</code>, <code class="codeph">inverted</code>, <code class="codeph">start_date</code>, and <code class="codeph">end_date</code></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99991"></a><div class="props_rev_3"><a id="GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" name="GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429"></a><h4 id="DBSEG-GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" class="sect4">Step 3: Make the HTTP Request with the Passwords and Client Certificates</h4>
                  <div>
                     <p>The <code class="codeph">UTL_HTTP</code> package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-00E5A34F-3249-453A-97FB-76A9C015A3EE">Making the HTTPS Request with the Passwords and Client Certificates</a><br>The <code class="codeph">UTL_HTTP</code> package makes Hypertext Transfer Protocol (HTTP) callouts from SQL and PL/SQL.
                        </li>
                        <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B57086AA-D8BB-48DB-8445-93470A4A69A4">Using a Request Context to Hold the Wallet When Sharing the Session with Other Applications</a><br>You should use a request context to hold the wallet when other applications share the database session.
                        </li>
                        <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0B3B1C2F-DC3B-49CB-8DDD-B48C40F68008">Use of Only a Client Certificate to Authenticate</a><br>Only a client certificate can authenticate users, as long as the user has been granted the appropriate privilege in the ACL wallet.
                        </li>
                        <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E116CA18-B374-4041-A392-097224E53A4E">Use of a Password to Authenticate</a><br>If the protected URL being requested requires username and password authentication, then set the username and password from the wallet to authenticate.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG1067"></a><div class="props_rev_3"><a id="GUID-00E5A34F-3249-453A-97FB-76A9C015A3EE" name="GUID-00E5A34F-3249-453A-97FB-76A9C015A3EE"></a><h5 id="DBSEG-GUID-00E5A34F-3249-453A-97FB-76A9C015A3EE" class="sect5">Making the HTTPS Request with the Passwords and Client Certificates</h5>
                     <div>
                        <p>The <code class="codeph">UTL_HTTP</code> package makes Hypertext Transfer Protocol (HTTP) callouts from SQL and PL/SQL.
                        </p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <code class="codeph">UTL_HTTP</code> PL/SQL package to create a request context object that is used privately with the HTTP request and its response. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">DECLARE
 req_context UTL_HTTP.REQUEST_CONTEXT_KEY;
 req         UTL_HTTP.REQ;
BEGIN
 req_context := UTL_HTTP.CREATE_REQUEST_CONTEXT (
              wallet_path          =&gt; 'file:<span class="italic">path_to_directory_containing_wallet</span>',
              wallet_password      =&gt; '<span class="italic">wallet_password</span>'|NULL);
 req := UTL_HTTP.BEGIN_REQUEST( 
              url                  =&gt; '<span class="italic">URL_to_application</span>',
              request_context      =&gt; '<span class="italic">request_context</span>'|NULL);
 ...
END;
</pre><p>In this specification:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">req_context</code>: Use the <code class="codeph">UTL_HTTP.CREATE_REQUEST_CONTEXT_KEY</code> data type to create the request context object. This object stores a randomly-generated numeric key that Oracle Database uses to identify the request context. The <code class="codeph">UTL_HTTP.CREATE_REQUEST_CONTEXT</code> function creates the request context itself. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">req</code>: Use the <code class="codeph">UTL_HTTP.REQ</code> data type to create the object that will be used to begin the HTTP request. You will refer to this object later on, when you set the user name and password from the wallet to access a password-protected Web page. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">wallet_path</code>: Enter the path to the directory that contains the wallet. Ensure that this path is the same path you specified when you created access control list in <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-561E9D60-1414-4066-8214-8BBB6091956B" title="After you have created the wallet, you are ready to configure access control privileges for the wallet.">Step 2: Configure Access Control Privileges for the Oracle Wallet</a> in the previous section. You must include <code class="codeph">file:</code> before the directory path. Do not use environment variables, such as <code class="codeph">$ORACLE_HOME</code>. 
                                 </p>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">wallet_path          =&gt; 'file:/oracle/wallets/hr_wallet',
</pre></li>
                              <li>
                                 <p><code class="codeph">wallet_password</code>: Enter the password used to open the wallet. The default is <code class="codeph">NULL</code>, which is used for auto-login wallets. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">wallet_password      =&gt; '<span class="italic">wallet_password</span>');
</pre></li>
                              <li>
                                 <p><code class="codeph">url</code>: Enter the URL to the application that uses the wallet. 
                                 </p>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">url                  =&gt; 'www.hr_access.example.com',
</pre></li>
                              <li>
                                 <p><code class="codeph">request_context</code>: Enter the name of the request context object that you created earlier in this section. This object prevents the wallet from being shared with other applications in the same database session. 
                                 </p>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">request_context      =&gt; req_context);</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-00E5A34F-3249-453A-97FB-76A9C015A3EE__GUID-EEE2A4A3-FCEC-480E-86B9-EF151FA82A4F">
                           <p class="notep1">See Also:</p><a href="../arpls/UTL_HTTP.html#ARPLS070" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for detailed information about the <code class="codeph">UTL_HTTP</code> package
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" title="The UTL_HTTP package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.">Step 3: Make the HTTP Request with the Passwords and Client Certificates</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1068"></a><div class="props_rev_3"><a id="GUID-B57086AA-D8BB-48DB-8445-93470A4A69A4" name="GUID-B57086AA-D8BB-48DB-8445-93470A4A69A4"></a><h5 id="DBSEG-GUID-B57086AA-D8BB-48DB-8445-93470A4A69A4" class="sect5">Using a Request Context to Hold the Wallet When Sharing the Session with Other Applications</h5>
                     <div>
                        <p>You should use a request context to hold the wallet when other applications share the database session.</p>
                        <div class="section">
                           <p>If your application has exclusive use of the database session, you can hold the wallet in the database session by using the <code class="codeph">UTL_HTTP.SET_WALLET</code> procedure.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <code class="codeph">UTL_HTTP.SET_WALLET</code> procedure to configure the request to hold the wallet. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">DECLARE
 req         UTL_HTTP.REQ;
BEGIN
 UTL_HTTP.SET_WALLET(
              path          =&gt; 'file:<span class="italic">path_to_directory_containing_wallet</span>',
              password      =&gt; '<span class="italic">wallet_password</span>'|NULL);
 req := UTL_HTTP.BEGIN_REQUEST( 
              url           =&gt; '<span class="italic">URL_to_application</span>');
 ...
END;
</pre><p>If the protected URL being requested requires the user name and password to authenticate, then you can use the <code class="codeph">SET_AUTHENTICATION_FROM_WALLET</code> procedure to set the user name and password from the wallet to authenticate.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" title="The UTL_HTTP package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.">Step 3: Make the HTTP Request with the Passwords and Client Certificates</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1069"></a><div class="props_rev_3"><a id="GUID-0B3B1C2F-DC3B-49CB-8DDD-B48C40F68008" name="GUID-0B3B1C2F-DC3B-49CB-8DDD-B48C40F68008"></a><h5 id="DBSEG-GUID-0B3B1C2F-DC3B-49CB-8DDD-B48C40F68008" class="sect5">Use of Only a Client Certificate to Authenticate</h5>
                     <div>
                        <p>Only a client certificate can authenticate users, as long as the user has been granted the appropriate privilege in the ACL wallet.</p>
                        <p>If the protected URL being requested requires only the client certificate to authenticate, then the <code class="codeph">BEGIN_REQUEST</code> function sends the necessary client certificate from the wallet. assuming the user has been granted the <code class="codeph">use_client_certificates</code> privilege in the ACL assigned to the wallet. 
                        </p>
                        <p>The authentication should succeed at the remote Web server and the user can proceed to retrieve the HTTP response by using the <code class="codeph">GET_RESPONSE</code> function.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" title="The UTL_HTTP package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.">Step 3: Make the HTTP Request with the Passwords and Client Certificates</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1070"></a><div class="props_rev_3"><a id="GUID-E116CA18-B374-4041-A392-097224E53A4E" name="GUID-E116CA18-B374-4041-A392-097224E53A4E"></a><h5 id="DBSEG-GUID-E116CA18-B374-4041-A392-097224E53A4E" class="sect5">Use of a Password to Authenticate</h5>
                     <div>
                        <p>If the protected URL being requested requires username and password authentication, then set the username and password from the wallet to authenticate.</p>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">DECLARE
 req_context UTL_HTTP.REQUEST_CONTEXT_KEY;
 req         UTL_HTTP.REQ;
BEGIN
...
 UTL_HTTP.SET_AUTHENTICATION_FROM_WALLET(
  r               =&gt; <span class="italic">HTTP_REQUEST</span>,
  alias           =&gt; '<span class="italic">alias_to_retrieve_credentials_stored_in_wallet</span>',
  scheme          =&gt; 'AWS|Basic', 
  for_proxy       =&gt; TRUE|FALSE);
END;
</pre><p>In this specification:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">r</code>: Enter the HTTP request defined in the <code class="codeph">UTL_HTTP.BEGIN_REQUEST</code> procedure that you created above, in the previous section. For example: 
                              </p><pre class="oac_no_warn" dir="ltr">r               =&gt; req,
</pre></li>
                           <li>
                              <p><code class="codeph">alias</code>: Enter the alias used to identify and retrieve the user name and password credential stored in the Oracle wallet. For example, assuming the alias used to identify this user name and password credential is <code class="codeph">hr_access</code>.
                              </p><pre class="oac_no_warn" dir="ltr">alias           =&gt; 'hr_access',
</pre></li>
                           <li>
                              <p><code class="codeph">scheme</code>: Enter one of the following: 
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">AWS</code>: Specifies the Amazon Simple Storage Service (S3) scheme. Use this scheme only if you are configuring access to the Amazon.com Web site. (Contact Amazon for more information about this setting.)
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">Basic</code>: Specifies HTTP basic authentication. The default is <code class="codeph">Basic</code>. 
                                    </p>
                                 </li>
                              </ul>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">scheme          =&gt; 'Basic',
</pre></li>
                           <li>
                              <p><code class="codeph">for_proxy</code>: Specify whether the HTTP authentication information is for access to the HTTP proxy server instead of the Web server. The default is <code class="codeph">FALSE</code>. 
                              </p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">for_proxy       =&gt; TRUE);
</pre></li>
                        </ul>
                        <p>The use of the user name and password in the wallet requires the <code class="codeph">use_passwords</code> privilege to be granted to the user in the ACL assigned to the wallet.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-9777C73A-8A58-40A8-8D58-C5E8AB659429" title="The UTL_HTTP package can create an HTTP request object to hold wallet information, which can authenticate using a client certificate or a password.">Step 3: Make the HTTP Request with the Passwords and Client Certificates</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG988"></a><div class="props_rev_3"><a id="GUID-55FFBF28-397A-4616-8B35-30CCFCFB40A5" name="GUID-55FFBF28-397A-4616-8B35-30CCFCFB40A5"></a><h4 id="DBSEG-GUID-55FFBF28-397A-4616-8B35-30CCFCFB40A5" class="sect4">Revoking Access Control Privileges for Oracle Wallets</h4>
                  <div>
                     <p>You can revoke access control privileges for an Oracle wallet.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To revoke privileges from access control entries (ACE) in the access control list (ACL) of a wallet, run the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.REMOVE_WALLET_ACE</code> procedure. 
                              </p>
                           </li>
                        </ul>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.REMOVE_WALLET_ACE (
  wallet_path   =&gt; 'file:/oracle/wallets/hr_wallet',
  ace           =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list(<span class="italic">privilege</span>),
                             principal_name =&gt; 'hr_clerk',
                             principal_type =&gt; xs_acl.ptype_db),
  remove_empty_acl  =&gt; TRUE);
END;
/
</pre><p>In this example, the <code class="codeph">TRUE</code> setting for <code class="codeph">remove_empty_acl</code> removes the ACL when it becomes empty when the wallet ACE is removed.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-0BCB5925-A40F-4507-95F9-5DA4A1919EBD" title="Fine-grained access control for Oracle wallets provide user access to network services that require passwords or certificates.">Configuring Access Control to an Oracle Wallet</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG99995"></a><div class="props_rev_3"><a id="GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" name="GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C"></a><h3 id="DBSEG-GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" class="sect3">Examples of Configuring Access Control for External Network Services</h3>
               <div>
                  <p>You can configure access control for a variety of situations, such as for a single role and network connection. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18">Example: Configuring Access Control for a Single Role and Network Connection</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure can configure access control for a single role and network connection.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-661EF731-B70B-43B5-917E-BD4434AE6062">Example: Configuring Access Control for a User and Role</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> can configure access control to deny or grant privileges for a user and a role. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC">Example: Using the DBA_HOST_ACES View to Show Granted Privileges</a><br>The <code class="codeph">DBA_HOST_ACE</code> data dictionary view shows privileges that have been granted to users.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B">Example: Configuring ACL Access Using Passwords in a Non-Shared Wallet</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> and <code class="codeph">UTL_HTTP</code> PL/SQL packages can configure ACL access using passwords in a non-shared wallet.
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4">Example: Configuring ACL Access for a Wallet in a Shared Database Session</a><br>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> and <code class="codeph">UTL_HTTP</code> PL/SQL packages can configure ACL access for a wallet in a shared database session.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG99997"></a><a id="DBSEG99996"></a><div class="props_rev_3"><a id="GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18" name="GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18"></a><h4 id="DBSEG-GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18" class="sect4">Example: Configuring Access Control for a Single Role and Network Connection</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure can configure access control for a single role and network connection.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18__CIHIGIBE">Example 8-3</a> shows how you would configure access control for a single role (<code class="codeph">acct_mgr</code>) and grant this role the <code class="codeph">http</code> privilege for access to the <code class="codeph">www.us.example.com</code> host. The privilege expires January 1, 2013.
                     </p>
                     <div class="example" id="GUID-43AFFFF5-AF28-4CB6-9634-4DA6A5FC3E18__CIHIGIBE">
                        <p class="titleinexample">Example 8-3 Configuring Access Control for a Single Role and Network Connection</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
  host       =&gt; 'www.us.example.com',
  lower_port =&gt; 80,
  ace        =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list('http'),
                           principal_name =&gt; 'acct_mgr',
                           principal_type =&gt; xs_acl.ptype_db,
                           end_date =&gt; TIMESTAMP '2013-01-01 00:00:00.00 -08:00');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" title="You can configure access control for a variety of situations, such as for a single role and network connection.">Examples of Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG99999"></a><a id="DBSEG99998"></a><div class="props_rev_3"><a id="GUID-661EF731-B70B-43B5-917E-BD4434AE6062" name="GUID-661EF731-B70B-43B5-917E-BD4434AE6062"></a><h4 id="DBSEG-GUID-661EF731-B70B-43B5-917E-BD4434AE6062" class="sect4">Example: Configuring Access Control for a User and Role</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> can configure access control to deny or grant privileges for a user and a role. 
                     </p>
                     <p>Afterwards, you can query the <code class="codeph">DBA_HOST_ACES</code> data dictionary view to find information about the privilege grants.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-661EF731-B70B-43B5-917E-BD4434AE6062__CIHFGHGJ">Example 8-4</a> grants to a database role (<code class="codeph">acct_mgr</code>) but denies a particular user (<code class="codeph">psmith</code>) even if he has the role. The order is important because ACEs are evaluated in the given order. In this case, the deny ACE (<code class="codeph">granted =&gt; false</code>) must be appended first or else the user cannot be denied. 
                     </p>
                     <div class="example" id="GUID-661EF731-B70B-43B5-917E-BD4434AE6062__CIHFGHGJ">
                        <p class="titleinexample">Example 8-4 Configuring Access Control Using a Grant and a Deny for User and Role</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
  host       =&gt; 'www.us.example.com',
  lower_port =&gt; 80,
  upper_port =&gt; 80,
  ace        =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list('http'),
                             principal_name =&gt; 'psmith',
                             principal_type =&gt; xs_acl.ptype_db,
                             granted        =&gt; false));

 DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
  host       =&gt; 'www.us.example.com',
  lower_port =&gt; 80,
  upper_port =&gt; 80,
  ace        =&gt;  xs$ace_type(privilege_list =&gt; xs$name_list('http'),
                             principal_name =&gt; 'acct_mgr',
                             principal_type =&gt; xs_acl.ptype_db,
                             granted        =&gt; true));
END; 
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" title="You can configure access control for a variety of situations, such as for a single role and network connection.">Examples of Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG100"></a><div class="props_rev_3"><a id="GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC" name="GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC"></a><h4 id="DBSEG-GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC" class="sect4">Example: Using the DBA_HOST_ACES View to Show Granted Privileges</h4>
                  <div>
                     <p>The <code class="codeph">DBA_HOST_ACE</code> data dictionary view shows privileges that have been granted to users.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC__BABDEDIF">Example 8-5</a> shows how the <code class="codeph">DBA_HOST_ACES</code> data dictionary view displays the privilege granted in the previous access control list.
                     </p>
                     <div class="example" id="GUID-D88F0DA8-5228-4A75-84D8-6A3D97685CEC__BABDEDIF">
                        <p class="titleinexample">Example 8-5 Using the DBA_HOST_ACES View to Show Granted Privileges</p><pre class="oac_no_warn" dir="ltr">SELECT PRINCIPAL, PRIVILEGE, GRANT_TYPE FROM DBA_HOST_ACE WHERE PRIVILEGE = 'HTTP';

PRINCIPAL    PRIVILEGE  GRANT_TYPE
------------ ---------- --------------------
PSMITH       HTTP       FALSE
ACCT_MGR     HTTP       TRUE</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" title="You can configure access control for a variety of situations, such as for a single role and network connection.">Examples of Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG103"></a><a id="DBSEG102"></a><div class="props_rev_3"><a id="GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B" name="GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B"></a><h4 id="DBSEG-GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B" class="sect4">Example: Configuring ACL Access Using Passwords in a Non-Shared Wallet</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> and <code class="codeph">UTL_HTTP</code> PL/SQL packages can configure ACL access using passwords in a non-shared wallet.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B__BABHFGGA">Example 8-6</a> configures wallet access for two Human Resources department roles, <code class="codeph">hr_clerk</code> and <code class="codeph">hr_manager</code>. These roles use the <code class="codeph">use_passwords</code> privilege to access passwords stored in the wallet. In this example, the wallet will not be shared with other applications within the same database session. 
                     </p>
                     <div class="example" id="GUID-A79B54B4-CC5E-40C0-A719-59F4E2AA282B__BABHFGGA">
                        <p class="titleinexample">Example 8-6 Configuring ACL Access Using Passwords in a Non-Shared Wallet</p><pre class="oac_no_warn" dir="ltr"><span class="bold">/* 1. At a command prompt, create the wallet. The following example uses the </span>
<span class="bold">      user name hr_access as the alias to identify the user name and password </span>
<span class="bold">      stored in the wallet. You must use this alias name when you call the</span>
<span class="bold">      SET_AUTHENTICATION_FROM_WALLET procedure later on. */ </span>
$ mkstore -wrl $ORACLE_HOME/wallets/hr_wallet -create
Enter password: <span class="italic">password</span>
Enter password again: <span class="italic">password</span>
$ mkstore -wrl $ORACLE_HOME/wallets/hr_wallet -createCredential hr_access hr_usr 
Your secret/Password is missing in the command line
Enter your secret/Password: <span class="italic">password</span>
Re-enter your secret/Password: <span class="italic">password</span>
Enter wallet password: <span class="italic">password</span>

<span class="bold">/* 2. In SQL*Plus, create an access control list to grant privileges for the </span>
<span class="bold">      wallet. The following example grants the use_passwords privilege to the</span>
<span class="bold">      hr_clerk role.*/</span> 
BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE (
  wallet_path =&gt; 'file:/oracle/wallets/hr_wallet',
  ace         =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('use_passwords'),
                             principal_name =&gt; 'hr_clerk',
                             principal_type =&gt; xs_acl.ptype_db));
END;
/

<span class="bold">/* 3. Create a request context and request object, and then set the authentication </span>
<span class="bold">      for the wallet. */</span>
DECLARE
  req_context  UTL_HTTP.REQUEST_CONTEXT_KEY;
  req          UTL_HTTP.REQ;

BEGIN
 req_context := UTL_HTTP.CREATE_REQUEST_CONTEXT(
     wallet_path          =&gt; 'file:/oracle/wallets/hr_wallet',
     wallet_password      =&gt; NULL,
     enable_cookies       =&gt; TRUE,
     max_cookies          =&gt; 300,
     max_cookies_per_site =&gt; 20);
  req := UTL_HTTP.BEGIN_REQUEST(
     url                  =&gt; 'www.hr_access.example.com',
     request_context      =&gt; req_context);
  UTL_HTTP.SET_AUTHENTICATION_FROM_WALLET(
     r                    =&gt; req,
     alias                =&gt; 'hr_access'),
     scheme               =&gt; 'Basic', 
     for_proxy            =&gt; FALSE);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" title="You can configure access control for a variety of situations, such as for a single role and network connection.">Examples of Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG105"></a><a id="DBSEG104"></a><div class="props_rev_3"><a id="GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4" name="GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4"></a><h4 id="DBSEG-GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4" class="sect4">Example: Configuring ACL Access for a Wallet in a Shared Database Session</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> and <code class="codeph">UTL_HTTP</code> PL/SQL packages can configure ACL access for a wallet in a shared database session.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4__BABIDGBG">Example 8-7</a> configures the wallet to be used for a shared database session; that is, all applications within the current database session will have access to this wallet. 
                     </p>
                     <div class="example" id="GUID-E30C7C41-9EFB-4806-BAFF-2DDD8B4F21D4__BABIDGBG">
                        <p class="titleinexample">Example 8-7 Configuring ACL Access for a Wallet in a Shared Database Session</p><pre class="oac_no_warn" dir="ltr"><span class="bold">/* Follow these steps:</span>
<span class="bold">   1. Use Oracle Wallet Manager to create the wallet and add the client</span>
<span class="bold">      certificate. </span> 

<span class="bold">   2. In SQL*Plus, configure access control to grant privileges for the wallet.</span>
<span class="bold">      The following example grants the use_client_certificates privilege </span>
<span class="bold">      to the hr_clerk and hr_mgr roles. */ </span>
BEGIN
 DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE (
  wallet_path =&gt; 'file:/oracle/wallets/hr_wallet',
  ace         =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('use-client_certificates'),
                             principal_name =&gt; 'hr_clerk',
                             principal_type =&gt; xs_acl.ptype_db));

 DBMS_NETWORK_ACL_ADMIN.APPEND_WALLET_ACE (
  wallet_path =&gt; 'file:/oracle/wallets/hr_wallet',
  ace         =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('use_client_certificates'),
                             principal_name =&gt; 'hr_mgr',
                             principal_type =&gt; xs_acl.ptype_db));
END;
/
COMMIT;

<span class="bold">/* 3. Create a request object to handle the HTTP authentication for the wallet.*/</span>
DECLARE
  req  UTL_HTTP.req;
BEGIN
  UTL_HTTP.SET_WALLET(
   path            =&gt; 'file:/oracle/wallets/hr_wallet',
   password        =&gt; NULL);
 req := UTL_HTTP.BEGIN_REQUEST(
   url             =&gt; 'www.hr_access.example.com',
   method          =&gt; 'POST',
   http_version    =&gt; NULL,
   request_context =&gt; NULL);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-69ACF94E-7FF6-4967-86D9-BE151D4DC51C" title="You can configure access control for a variety of situations, such as for a single role and network connection.">Examples of Configuring Access Control for External Network Services</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG106"></a><div class="props_rev_3"><a id="GUID-5819525F-0429-4B31-BBCC-9C750F321124" name="GUID-5819525F-0429-4B31-BBCC-9C750F321124"></a><h3 id="DBSEG-GUID-5819525F-0429-4B31-BBCC-9C750F321124" class="sect3">Specifying a Group of Network Host Computers</h3>
               <div>
                  <p>You can use wildcards to specify a group of network host computers.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To assign an access control list to a group of network host computers, use the asterisk (*) wildcard character. </p>
                        </li>
                     </ul>
                     <p>For example, enter <code class="codeph">*.example.com</code> for host computers that belong to a domain or <code class="codeph">192.0.2.*</code> for IPv4 addresses that belong to an IP subnet. The asterisk wildcard must be at the beginning, before a period (.) in a domain, or at the end, after a period (.), in an IP subnet. For example, <code class="codeph">*.example.com</code> is valid, but <code class="codeph">*example.com</code> and <code class="codeph">*.example.*</code> are not. Be aware that the use of wildcard characters affects the order of precedence for multiple access control lists that are assigned to the same host computer. You cannot use wildcard characters for IPv6 addresses. 
                     </p>
                     <p>The Classless Inter-Domain Routing (<a href="glossary.html#GUID-94A8FED6-92B4-456E-9984-EC9F9C9850B9"><span class="xrefglossterm">CIDR	</span></a>) notation defines how IPv4 and IPv6 addresses are categorized for routing IP packets on the internet. The <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> package supports CIDR notation for both IPv4 and IPv6 addresses. This package considers an IPv4-mapped IPv6 address or subnet equivalent to the IPv4-native address or subnet it represents. For example, <code class="codeph">::ffff:192.0.2.1</code> is equivalent to <code class="codeph">192.0.2.1</code>, and <code class="codeph">::ffff:192.0.2.1/120</code> is equivalent to <code class="codeph">192.0.2.*</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG107"></a><div class="props_rev_3"><a id="GUID-338977CE-F909-4EB3-95DB-E5B907F90BEF" name="GUID-338977CE-F909-4EB3-95DB-E5B907F90BEF"></a><h3 id="DBSEG-GUID-338977CE-F909-4EB3-95DB-E5B907F90BEF" class="sect3">Precedence Order for a Host Computer in Multiple Access Control List Assignments</h3>
               <div>
                  <p>The access control list assigned to a domain has a lower precedence than those assigned to the subdomains.</p>
                  <p>For multiple access control lists that are assigned to the host computer and its domains, the access control list that is assigned to the host computer takes precedence over those assigned to the domains.</p>
                  <p>The access control list assigned to a domain has a lower precedence than those assigned to the subdomains.For example, Oracle Database first selects the access control list assigned to the host <code class="codeph">server.us.example.com</code>, ahead of other access control lists assigned to its domains. If additional access control lists were assigned to the sub domains, their order of precedence is as follows:
                  </p>
                  <ol>
                     <li>
                        <p><code class="codeph">server.us.example.com</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">*.us.example.com</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">*.example.com</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">*.com</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">*</code></p>
                     </li>
                  </ol>
                  <p>Similarly, for multiple access control lists that are assigned to the IP address (both IPv4 and IPv6) and the subnets it belongs to, the access control list that is assigned to the IP address takes precedence over those assigned to the subnets. The access control list assigned to a subnet has a lower precedence than those assigned to the smaller subnets it contains.</p>
                  <p>For example, Oracle Database first selects the access control list assigned to the IP address <code class="codeph">192.0.2.3</code>, ahead of other access control lists assigned to the subnets it belongs to. If additional access control lists were assigned to the subnets, their order of precedence is as follows:
                  </p>
                  <ol>
                     <li>
                        <p><code class="codeph">192.0.2.3</code> (or<code class="codeph"> ::ffff:192.0.2.3</code>)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/31</code> (or<code class="codeph"> ::ffff:192.0.2.3/127</code>) 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/30</code> (or<code class="codeph"> ::ffff:192.0.2.3/126</code>)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/29</code> (or<code class="codeph"> ::ffff:192.0.2.3/125</code>) 
                        </p>
                     </li>
                     <li>
                        <p>...</p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/24</code> (or<code class="codeph"> ::ffff:192.0.2.3/120</code> or <code class="codeph">192.0.2.*</code>)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">...</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/16</code> (or<code class="codeph"> ::ffff:192.0.2.3/112</code> or <code class="codeph">192.0.*</code>)
                        </p>
                     </li>
                     <li>
                        <p>...</p>
                     </li>
                     <li>
                        <p><code class="codeph">192.0.2.3/8</code> (or<code class="codeph"> ::ffff:192.0.2.3/104</code> or <code class="codeph">192.*</code>)
                        </p>
                     </li>
                     <li>
                        <p>...</p>
                     </li>
                     <li>
                        <p><code class="codeph">::ffff:192.0.2.3/95</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">::ffff:192.0.2.3/94</code></p>
                     </li>
                     <li>
                        <p>...</p>
                     </li>
                     <li>
                        <p><code class="codeph">*</code></p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG108"></a><div class="props_rev_3"><a id="GUID-7CB67F1C-4A40-4BEB-BCD1-D982C09561CD" name="GUID-7CB67F1C-4A40-4BEB-BCD1-D982C09561CD"></a><h3 id="DBSEG-GUID-7CB67F1C-4A40-4BEB-BCD1-D982C09561CD" class="sect3">Precedence Order for a Host in Access Control List Assignments with Port Ranges</h3>
               <div>
                  <p>The precedence order for a host in an access control list is determined by the use of port ranges. </p>
                  <p>When an access control list is assigned to a host computer, a domain, or an IP subnet with a port range, it takes precedence over the access control list assigned to the same host, domain, or IP subnet without a port range.</p>
                  <p>For example, suppose you have TCP connections to any port between port 80 and 99 at <code class="codeph">server.us.example.com</code>. Oracle Database first selects the access control list assigned to port 80 through 99 at <code class="codeph">server.us.example.com</code>, ahead of the other access control list assigned to <code class="codeph">server.us.example.com</code> that is without a port range.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG109"></a><div class="props_rev_3"><a id="GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" name="GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC"></a><h3 id="DBSEG-GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" class="sect3">Checking Privilege Assignments That Affect User Access to Network Hosts</h3>
               <div>
                  <p>Both administrators and users can check network connection and domain privileges. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-D9959260-46EB-4679-A6B9-E05DC802A29B">About Privilege Assignments that Affect User Access to Network Hosts</a><br>Oracle provides DBA-specific data dictionary views to find information about privilege assignments. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B425C8F8-82AE-4D42-9B12-57E1645C5086">How to Check User Network Connection and Domain Privileges</a><br>A database administrator can query the <code class="codeph">DBA_HOST_ACES</code> data dictionary view to find the privileges that have been granted for specific users or roles. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA">Example: Administrator Checking User Network Access Control Permissions</a><br>The <code class="codeph">DBA_HOST_ACES</code> data dictionary view can check the network access control permissions for users. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-D1315369-E406-406A-A902-24A8E621712B">How Users Can Check Their Network Connection and Domain Privileges</a><br>Users can query the <code class="codeph">USER_HOST_ACES</code> data dictionary view to check their network and domain permissions. 
                     </li>
                     <li class="ulchildlink"><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84">Example: User Checking Network Access Control Permissions</a><br>The <span class="apiname" translate="no">USER_HOST_ACES</span> data dictionary view shows network access control permissions for a host computer.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG119"></a><div class="props_rev_3"><a id="GUID-D9959260-46EB-4679-A6B9-E05DC802A29B" name="GUID-D9959260-46EB-4679-A6B9-E05DC802A29B"></a><h4 id="DBSEG-GUID-D9959260-46EB-4679-A6B9-E05DC802A29B" class="sect4">About Privilege Assignments that Affect User Access to Network Hosts</h4>
                  <div>
                     <p>Oracle provides DBA-specific data dictionary views to find information about privilege assignments. </p>
                     <p>Database administrators can use the <code class="codeph">DBA_HOST_ACES</code> data dictionary view to query network privileges that have been granted to or denied from database users and roles in the access control lists, and whether those privileges take effect during certain times only
                     </p>
                     <p>Using the information provided by the view, you may need to combine the data to determine if a user is granted the privilege at the current time, the roles the user has, the order of the access control entries, and so on. </p>
                     <p>Users without database administrator privileges do not have the privilege to access the access control lists or to invoke those <code class="codeph">DBMS_NETWORK_ACL_ADMIN</code> functions. However, they can query the <code class="codeph">USER_HOST_ACES</code> data dictionary view to check their privileges instead.
                     </p>
                     <p>Database administrators and users can use the following <code class="codeph">DBMS_NETWORK_ACL_UTILITY</code> functions to determine if two hosts, domains, or subnets are equivalent, or if a host, domain, or subnet is equal to or contained in another host, domain, or subnet:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">EQUALS_HOST</code>: Returns a value to indicate if two hosts, domains, or subnets are equivalent
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CONTAINS_HOST</code>: Returns a value to indicate if a host, domain, or subnet is equal to or contained in another host, domain, or subnet, and the relative order of precedence of the containing domain or subnet for its ACL assignments
                           </p>
                        </li>
                     </ul>
                     <p>If you do not use IPv6 addresses, database administrators and users can use the following <code class="codeph">DBMS_NETWORK_ACL_UTILITY</code> functions to generate the list of domains or IPv4 subnet a host belongs to and to sort the access control lists by their order of precedence according to their host assignments:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DOMAINS</code>: Returns a list of the domains or IP subnets whose access control lists may affect permissions to a specified network host, subdomain, or IP subnet 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DOMAIN_LEVEL</code>: Returns the domain level of a given host
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" title="Both administrators and users can check network connection and domain privileges.">Checking Privilege Assignments That Affect User Access to Network Hosts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG110"></a><div class="props_rev_3"><a id="GUID-B425C8F8-82AE-4D42-9B12-57E1645C5086" name="GUID-B425C8F8-82AE-4D42-9B12-57E1645C5086"></a><h4 id="DBSEG-GUID-B425C8F8-82AE-4D42-9B12-57E1645C5086" class="sect4">How to Check User Network Connection and Domain Privileges</h4>
                  <div>
                     <p>A database administrator can query the <code class="codeph">DBA_HOST_ACES</code> data dictionary view to find the privileges that have been granted for specific users or roles. 
                     </p>
                     <p>The <code class="codeph">DBA_HOST_ACES</code> view shows the access control lists that determine the access to the network connection or domain, and then determines if each access control list grants (<code class="codeph">GRANTED</code>), denies (<code class="codeph">DENIED</code>), or does not apply (<code class="codeph">NULL</code>) to the access privilege of the user. Only the database administrator can query this view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" title="Both administrators and users can check network connection and domain privileges.">Checking Privilege Assignments That Affect User Access to Network Hosts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG112"></a><div class="props_rev_3"><a id="GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA" name="GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA"></a><h4 id="DBSEG-GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA" class="sect4">Example: Administrator Checking User Network Access Control Permissions</h4>
                  <div>
                     <p>The <code class="codeph">DBA_HOST_ACES</code> data dictionary view can check the network access control permissions for users. 
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA__BABDCBDD">Example 8-8</a> shows how a database administrator can check the privileges for user <code class="codeph">preston</code> to connect to <code class="codeph">www.us.example.com</code>. 
                     </p>
                     <p>In this example, user <code class="codeph">preston</code> was granted privileges for all the network host connections found for <code class="codeph">www.us.example.com</code>. However, suppose <code class="codeph">preston</code> had been granted access to a host connection on port 80, but then denied access to the host connections on ports 3000&#x2013;3999. In this case, you must configure access control for the host connection on port 80, and a separate access control configuration for the host connection on ports 3000&#x2013;3999. 
                     </p>
                     <div class="example" id="GUID-BC097ED0-800F-4EFC-8008-7C6C4C34BFDA__BABDCBDD">
                        <p class="titleinexample">Example 8-8 Administrator Checking User Network Access Control Permissions</p><pre class="oac_no_warn" dir="ltr">SELECT HOST, LOWER_PORT, UPPER_PORT,
       ACE_ORDER, PRINCIPAL, PRINCIPAL_TYPE,
       GRANT_TYPE, INVERTED_PRINCIPAL, PRIVILEGE,
       START_DATE, END_DATE
  FROM (SELECT ACES.*,
DBMS_NETWORK_ACL_UTILITY.CONTAINS_HOST('www.us.example.com', HOST) PRECEDENCE
          FROM DBA_HOST_ACES ACES)
 WHERE PRECEDENCE IS NOT NULL
 ORDER BY PRECEDENCE DESC,
          LOWER_PORT NULLS LAST,
          UPPER_PORT NULLS LAST,
          ACE_ORDER;
HOST               LOWER_PORT UPPER_PORT ACE_ORDER PRINCIPAL PRINCIPAL_TYPE   GRANT_TYPE INVERTED_PRINCIPAL PRIVILEGE START_DATE END_DATE
------------------ ---------- ---------- --------- --------- ---------------- ---------- ------------------ --------- ---------- --------
www.us.example.com         80        80          1 PRESTON DATABASE USER      GRANT      NO                 HTTP
www.us.example.com         80        80          2 SEBASTIAN DATABASE USER    GRANT      NO                 HTTP
*.us.example.com                                 1 ACCT_MGR DATABASE USER     GRANT      NO                 CONNECT
*                                                1 HR_DBA DATABASE USER       GRANT      NO                 CONNECT
*                                                1 HR_DBA DATABASE USER       GRANT      NO                 RESOLVE 
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" title="Both administrators and users can check network connection and domain privileges.">Checking Privilege Assignments That Affect User Access to Network Hosts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG115"></a><div class="props_rev_3"><a id="GUID-D1315369-E406-406A-A902-24A8E621712B" name="GUID-D1315369-E406-406A-A902-24A8E621712B"></a><h4 id="DBSEG-GUID-D1315369-E406-406A-A902-24A8E621712B" class="sect4">How Users Can Check Their Network Connection and Domain Privileges</h4>
                  <div>
                     <p>Users can query the <code class="codeph">USER_HOST_ACES</code> data dictionary view to check their network and domain permissions. 
                     </p>
                     <p>The <code class="codeph">USER_HOST_ACES</code> view is <code class="codeph">PUBLIC</code>, so all users can query it. 
                     </p>
                     <p>This view hides the access control lists from the user. It evaluates the permission status for the user (<code class="codeph">GRANTED</code> or <code class="codeph">DENIED</code>) and filters out the <code class="codeph">NULL</code> case because the user does not need to know when the access control lists do not apply to him or her. In other words, Oracle Database only shows the user on the network hosts that explicitly grant or deny access to him or her. Therefore, the output does not display the <code class="codeph">*.example.com</code> and <code class="codeph">*</code> that appear in the output from the database administrator-specific <code class="codeph">DBA_HOST_ACES</code> view. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" title="Both administrators and users can check network connection and domain privileges.">Checking Privilege Assignments That Affect User Access to Network Hosts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG117"></a><div class="props_rev_3"><a id="GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84" name="GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84"></a><h4 id="DBSEG-GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84" class="sect4">Example: User Checking Network Access Control Permissions</h4>
                  <div>
                     <p>The <span class="apiname" translate="no">USER_HOST_ACES</span> data dictionary view shows network access control permissions for a host computer.
                     </p>
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84__BABBEECF">Example 8-9</a> shows how user <code class="codeph">preston</code> can check her privileges to connect to <code class="codeph">www.us.example.com</code>. 
                     </p>
                     <div class="example" id="GUID-F6240C1F-8DF6-4E0B-A34B-3983E88E1E84__BABBEECF">
                        <p class="titleinexample">Example 8-9 User Checking Network Access Control Permissions</p><pre class="oac_no_warn" dir="ltr">SELECT HOST, LOWER_PORT, UPPER_PORT, PRIVILEGE, STATUS
  FROM (SELECT ACES.*,
DBMS_NETWORK_ACL_UTILITY.CONTAINS_HOST('www.us.example.com', HOST) PRECEDENCE
          FROM USER_HOST_ACES ACES)
 WHERE PRECEDENCE IS NOT NULL
 ORDER BY PRECEDENCE DESC,
          LOWER_PORT NULLS LAST,
          UPPER_PORT NULLS LAST;
 
HOST               LOWER_PORT UPPER_PORT PRIVILEGE STATUS
------------------ ---------- ---------- --------- -------
www.us.example.com         80        80  HTTP      GRANTED </pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-84DC64BF-F256-4F87-ACEC-C69E6B5668FC" title="Both administrators and users can check network connection and domain privileges.">Checking Privilege Assignments That Affect User Access to Network Hosts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG971"></a><div class="props_rev_3"><a id="GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0" name="GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0"></a><h3 id="DBSEG-GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0" class="sect3">Configuring Network Access for Java Debug Wire Protocol Operations</h3>
               <div>
                  <p>Before you can debug Java PL/SQL procedures, you must be granted the <code class="codeph">jdwp</code> ACL privilege.
                  </p>
                  <div class="section">
                     <p>If you want to debug Java PL/SQL procedures in the database through a Java Debug Wire Protocol (JDWP)-based debugger, such as SQL Developer, JDeveloper, or Oracle Developer Tools For Visual Studio (ODT), then you must be granted the <code class="codeph">jdwp</code> ACL privilege to connect your database session to the debugger at a particular host.
                     </p>
                     <p>The <code class="codeph">jdwp</code> privilege is needed in conjunction with the <code class="codeph">DEBUG CONNECT SESSION</code> system privilege. 
                     </p>
                     <p>If you have not been granted the <code class="codeph">jdwp</code> ACL privilege, then when you try to debug your Java and PL/SQL stored procedures from a remote host, the following errors may appear:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-24247: network access denied by access control list (ACL)
ORA-06512: at "SYS.DBMS_DEBUG_JDWP", line <span class="italic">line_number</span>
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To configure network access for JDWP operations, use the <code class="codeph">DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE</code> procedure.
                           </p>
                        </li>
                     </ul>
                     <p>The following example illustrates how to configure network access for JDWP operations.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_NETWORK_ACL_ADMIN.APPEND_HOST_ACE(
    host         =&gt; '<span class="italic">host</span>',
    lower_port   =&gt; null|<span class="italic">port_number</span>,
    upper_port   =&gt; null|<span class="italic">port_number</span>,
    ace =&gt; xs$ace_type(privilege_list =&gt; xs$name_list('jdwp'),
                       principal_name =&gt; '<span class="italic">username</span>',
                       principal_type =&gt; xs_acl.ptype_db));
END;
/
</pre><p>In this specification:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">host</code></span> can be a host name, domain name, IP address, or subnet.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">port_number</code></span> enables you to specify a range of ports. If you want to use any port, then omit the <code class="codeph">lower_port</code> and <code class="codeph">upper_port</code> values.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">username</code></span> is case-insensitive unless it is quoted (for example, <code class="codeph">principal_name =&gt; '"PSMITH"'</code>).
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E1434B54-F853-4526-A4A7-211AE5AAE7E0__GUID-9E03C67B-6F16-49E2-AC1F-27314354A071">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=JJDEV13466" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a> for more information about debugging server applications with JDWP
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=RPTUG41351" target="_blank"><span><cite>Oracle SQL Developer User's Guide</cite></span></a> for information about remote debugging in SQL Developer
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG122"></a><a id="DBSEG121"></a><div class="props_rev_3"><a id="GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323" name="GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323"></a><h3 id="DBSEG-GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323" class="sect3">Data Dictionary Views for Access Control Lists Configured for User Access</h3>
               <div>
                  <p>Oracle Database provides data data dictionary views that you can use to find information about existing access control lists.</p>
                  <div class="section">
                     <p><a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323__CIHHCGHF" title="ACL views">Table 8-1</a> lists these views. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323__CIHHCGHF">
                     <p class="titleintable">Table 8-1 Data Dictionary Views That Display Information about Access Control Lists</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Data Dictionary Views That Display Information about Access Control Lists" summary="ACL views" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d72328e6307">View</th>
                              <th align="left" valign="bottom" width="67%" id="d72328e6310">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6315" headers="d72328e6307 ">
                                 <p><code class="codeph">DBA_HOST_ACES</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6315 d72328e6310 ">
                                 <p>Shows the network privileges defined for the network hosts. The <code class="codeph">SELECT</code> privilege on this view is granted to the <code class="codeph">SELECT_CATALOG_ROLE</code> role only.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6329" headers="d72328e6307 ">
                                 <p><code class="codeph">DBA_WALLET_ACES</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6329 d72328e6310 ">
                                 <p>Lists the wallet path, ACE order, start and end times, grant type, privilege, and information about principals</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6337" headers="d72328e6307 ">
                                 <p><code class="codeph">DBA_WALLET_ACLS</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6337 d72328e6310 ">
                                 <p>Shows the access control list assignments to the wallets. The <code class="codeph">SELECT</code> privilege on this view is granted to the <code class="codeph">SELECT_CATALOG_ROLE</code> role only.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6351" headers="d72328e6307 ">
                                 <p><code class="codeph">DBA_HOST_ACLS</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6351 d72328e6310 ">
                                 <p>Shows the access control list assignments to the network hosts. The <code class="codeph">SELECT</code> privilege on this view is granted to the <code class="codeph">SELECT_CATALOG_ROLE</code> role only.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6365" headers="d72328e6307 ">
                                 <p><code class="codeph">USER_HOST_ACES</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6365 d72328e6310 ">
                                 <p>Shows the status of the network privileges for the current user to access network hosts. The <code class="codeph">SELECT</code> privilege on the view is granted to <code class="codeph">PUBLIC</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d72328e6379" headers="d72328e6307 ">
                                 <p><code class="codeph">USER_WALLET_ACES</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d72328e6379 d72328e6310 ">
                                 <p>Shows the status of the wallet privileges for the current user to access contents in the wallets. The <code class="codeph">SELECT</code> privilege on the view is granted to <code class="codeph">PUBLIC</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4FF80F5B-8D48-4A53-944A-7D239EC50323__GUID-517BB41A-E906-45BB-81FD-847FFA3857B5">
                     <p class="notep1">See Also:</p> <a href="../refrn/index.html" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about these views
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-fine-grained-access-in-pl-sql-packages-and-types.html#GUID-B7DB516A-3245-417F-BB89-8E8212A97542" title="Oracle Database provides PL/SQL packages and types for fine-grained access to control access to external network services and wallets.">Managing Fine-Grained Access in&nbsp;PL/SQL&nbsp;Packages and Types</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>