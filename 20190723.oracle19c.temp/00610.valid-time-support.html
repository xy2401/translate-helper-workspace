<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">
      <meta name="description" content="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">
      <title>Workspace Manager Valid Time Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Workspace Manager Developer's Guide">
      <meta property="og:description" content="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Workspace Manager Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="workspace-manager-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T16:49:08-08:00">
      <meta name="dcterms.title" content="Workspace Manager Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="2000, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94792-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="workspace-manager-events.html" title="Previous" type="text/html">
      <link rel="next" href="workspace-manager-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADWSM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="workspace-manager-events.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="workspace-manager-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Workspace Manager Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="workspace-manager-concepts-usage.html" property="item" typeof="WebPage"><span property="name"> Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Workspace Manager Valid Time Support</li>
            </ol>
            <a id="GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" name="GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01"></a><a id="ADWSM035"></a>
            
            <h2 id="ADWSM-GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" class="sect2"><span class="enumeration_chapter">3 </span> Workspace Manager Valid Time Support
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.</p>
               <p>It contains the following major sections:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-08EB30A1-F164-400E-AAF4-024768048E90">Valid Time Support: Introduction and Example</a><br>Some applications need to store data with an associated time range that indicates the validity of the data. That is, each record is valid only within the time range associated with the record.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-4D80E810-2C1C-434F-994A-6AC6B2895825">WM_PERIOD Data Type</a><br>The <code class="codeph">WM_PERIOD</code> data type is used to specify a valid time range for the session or workspace, and for a row in a version-enabled table.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-1866ED4D-E080-4575-9B34-4A4B60FBF37B">Valid Time Constants</a><br>The following table lists constants that can be used in the <code class="codeph">validFrom</code> and <code class="codeph">validTill</code> timestamps of a <code class="codeph">WM_PERIOD</code> specification.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-04312857-D935-48AB-B91B-95FCAA07814E">API Features for Valid Time Support</a><br>The following table  lists DBMS_WM subprograms that are devoted to valid time support or that have parameters related to valid time support.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1">Operators for Valid Time Support</a><br>Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B">Queries and DML Operations with Valid Time Support</a><br>This section describes some behaviors and considerations for queries and data manipulation language (insert, update, and delete) operations related to valid time support.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD">Constraint Management for Valid Time Support</a><br>This section describes considerations related to valid time support that affect referential integrity constraints and unique constraints.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-DC322D50-5D89-4048-87E7-EE731E8701EC">Locking with Valid Time Support</a><br>If a row in a version-enabled table with valid time support is locked, it is automatically locked for its entire valid time period. There is no way to lock a row for a specified time period.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D">Static Data Dictionary Views Affected by Valid Time Support</a><br>This section describes the effect on valid time support on Workspace Manager static data dictionary views.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-D7914BBC-70C9-4929-830B-52E09A2319FA">Adding Valid Time Support to an Existing Table</a><br>You can add valid time support to an existing version-enabled table.
                  </li>
                  <li class="ulchildlink"><a href="valid-time-support.html#GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19">Merging and Refreshing Workspaces for Tables with Valid Time Support</a><br>When tables that have valid time support are merged or refreshed, you can determine the resulting rows by considering the distinct cases when there is an intersection between rows for the same primary key value.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="workspace-manager-concepts-usage.html#GUID-4364945A-B6E1-47FF-9360-273FF92D7F76">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="ADWSM99199"></a><a id="ADWSM99198"></a><div class="props_rev_3"><a id="GUID-08EB30A1-F164-400E-AAF4-024768048E90" name="GUID-08EB30A1-F164-400E-AAF4-024768048E90"></a><h3 id="ADWSM-GUID-08EB30A1-F164-400E-AAF4-024768048E90" class="sect3"><span class="enumeration_section">3.1 </span>Valid Time Support: Introduction and Example
               </h3>
               <div>
                  <p>Some applications need to store data with an associated time range that indicates the validity of the data. That is, each record is valid only within the time range associated with the record.</p>
                  <p>You can enable valid time support when you version-enable a table. (You can also add valid time support to an existing version-enabled table, as explained in <a href="valid-time-support.html#GUID-D7914BBC-70C9-4929-830B-52E09A2319FA" title="You can add valid time support to an existing version-enabled table.">Adding Valid Time Support to an Existing Table</a>.) If you enable valid time support, each row contains an added column to hold the valid time period associated with the row. You can specify a valid time range for the session, and Workspace Manager will ensure that queries and insert, update, and delete operations correctly reflect and accommodate the valid time range. The valid time range specified can be in the past or the future, or it can include the past, present, and future.
                  </p>
                  <p><a href="valid-time-support.html#GUID-08EB30A1-F164-400E-AAF4-024768048E90__I1008793">Example 3-1</a> presents a simple example of valid time support. The example does the following:
                  </p>
                  <ol>
                     <li>
                        <p>Creates a table of employees and their salaries.</p>
                     </li>
                     <li>
                        <p>Version-enables the table, specifying valid time support, which causes a column named <code class="codeph">WM_VALID</code> to be added to the table automatically.
                        </p>
                     </li>
                     <li>
                        <p>Inserts rows into the table. For each row, it specifies the employee name, salary, and valid time period.</p>
                     </li>
                     <li>
                        <p>Sets the valid time range for the session.</p>
                     </li>
                     <li>
                        <p>Updates a row, specifying a new salary and valid time period for an employee.</p>
                     </li>
                     <li>
                        <p>Disables versioning on the table.</p>
                     </li>
                  </ol>
                  <p><a href="valid-time-support.html#GUID-08EB30A1-F164-400E-AAF4-024768048E90__I1008793">Example 3-1</a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Refers to valid time support concepts and techniques that will be explained in other sections of this chapter. </p>
                     </li>
                     <li>
                        <p>Assumes that you are familiar with the Workspace Manager concepts and techniques explained in <a href="introduction-to-workspace-manager.html#GUID-CF637BD7-E00C-4495-8D83-B9C805E3BBE1" title="Oracle Workspace Manager, often referred to as Workspace Manager, provides an infrastructure that enables applications to create workspaces and group different versions of table row values in different workspaces."> Introduction to Workspace Manager</a>.
                        </p>
                     </li>
                     <li>
                        <p>Does not create workspaces or savepoints. (These are shown in <a href="introduction-to-workspace-manager.html#GUID-92E467A9-BFE9-48AD-AC83-9AD8B2A59AC1">Example: Marketing Budget Options</a> and <a href="introduction-to-workspace-manager.html#GUID-5B98545B-666D-4371-834A-87D683D2FFAB">Example: Warehouse Expansion Options</a> in <a href="introduction-to-workspace-manager.html#GUID-2EC7898E-0B22-402D-9865-3B21104F7B8A" title="This topic presents two simplified examples of using Workspace Manager to try out some scenarios and select one of them.">Simplified Examples Using Workspace Manager</a>.)
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-08EB30A1-F164-400E-AAF4-024768048E90__I1008793">
                     <p class="titleinexample">Example 3-1 Valid Time Support</p><pre class="oac_no_warn" dir="ltr">-- Create a very simple employees table (deliberately oversimplified
-- for purposes of illustration).
CREATE TABLE employees (
  name VARCHAR2(16) PRIMARY KEY,
  salary NUMBER 
);

-- Version-enable the table. Specify TRUE for valid time support.
EXECUTE DBMS_WM.EnableVersioning ('employees', 'VIEW_WO_OVERWRITE', FALSE, TRUE);

INSERT INTO employees VALUES(
  'Adams',
  30000,
  WMSYS.WM_PERIOD(TO_DATE('01-01-1990', 'MM-DD-YYYY'), 
                  TO_DATE('01-01-2005', 'MM-DD-YYYY'))
);
INSERT INTO employees VALUES(
  'Baxter',
  40000,
  WMSYS.WM_PERIOD(TO_DATE('01-01-2000', 'MM-DD-YYYY'), DBMS_WM.UNTIL_CHANGED)
);

INSERT INTO employees VALUES(
  'Coleman',
  50000,
  WMSYS.WM_PERIOD(TO_DATE('01-01-2003', 'MM-DD-YYYY'), 
                  TO_DATE('12-31-9999', 'MM-DD-YYYY'))
);

COMMIT;

-- Set valid time period to virtually all time.
EXECUTE DBMS_WM.SetValidTime(TO_DATE('01-01-1900', 'MM-DD-YYYY'),
  TO_DATE('01-01-9999', 'MM-DD-YYYY'));

-- Update the salary for an existing employee. Perform "sequenced" update, so
-- that existing time-related information is preserved. This results in two rows
-- for Baxter.
-- First, set valid time to the intended range for Baxter's raise.
EXECUTE DBMS_WM.SetValidTime(TO_DATE('01-01-2003', 'MM-DD-YYYY'), DBMS_WM.UNTIL_CHANGED);
-- Give Baxter a raise, effective 01-Jan-2003 until changed.
UPDATE employees SET salary = 45000 WHERE name = 'Baxter';

-- Disable versioning. By default (keepWMValid parameter value of TRUE),
-- the WM_VALID column is kept, with all its data. 
COMMIT;
EXECUTE DBMS_WM.DisableVersioning ('employees');</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99201"></a><a id="ADWSM99202"></a><a id="ADWSM99200"></a><div class="props_rev_3"><a id="GUID-4D80E810-2C1C-434F-994A-6AC6B2895825" name="GUID-4D80E810-2C1C-434F-994A-6AC6B2895825"></a><h3 id="ADWSM-GUID-4D80E810-2C1C-434F-994A-6AC6B2895825" class="sect3"><span class="enumeration_section">3.2 </span>WM_PERIOD Data Type
               </h3>
               <div>
                  <p>The <code class="codeph">WM_PERIOD</code> data type is used to specify a valid time range for the session or workspace, and for a row in a version-enabled table.
                  </p>
                  <p>The <code class="codeph">WM_PERIOD</code> type is defined as follows:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE WM_PERIOD AS OBJECT  (
  validFrom  TIMESTAMP WITH TIME ZONE,
  validTill  TIMESTAMP WITH TIME ZONE,
MAP member function wm_period_map return varchar2);
</pre><p>The <code class="codeph">validFrom</code> date is inclusive, and the <code class="codeph">validTill</code> period is exclusive; that is, the valid date range starts on the <code class="codeph">validFrom</code> date and extends up to but not including the <code class="codeph">validTill</code> date.
                  </p>
                  <p>The <code class="codeph">wm_period_map</code> member function enables ordering (sorting) and the use of <code class="codeph">DISTINCT</code> on columns of type <code class="codeph">WM_PERIOD</code>.
                  </p>
                  <div class="example" id="GUID-4D80E810-2C1C-434F-994A-6AC6B2895825__I1008819">
                     <p class="titleinexample">Example 3-2 Setting the Session Valid Time to a Specific Date</p>
                     <p><a href="valid-time-support.html#GUID-4D80E810-2C1C-434F-994A-6AC6B2895825__I1008819">Example 3-2</a> sets the session valid time range to 01-Jan-2003.
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_WM.SetValidTime(TO_DATE('01-01-2003', 'MM-DD-YYYY'), TO_DATE('01-02-2003', 'MM-DD-YYYY'));
</pre><p><a href="valid-time-support.html#GUID-4D80E810-2C1C-434F-994A-6AC6B2895825__I1008827">Example 3-3</a> inserts a row that is valid from 01-Jan-2003 until it is changed.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-4D80E810-2C1C-434F-994A-6AC6B2895825__I1008827">
                     <p class="titleinexample">Example 3-3 Inserting a Row Valid for a Time Range</p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees VALUES(
  'Baxter',
  40000,
  WMSYS.WM_PERIOD(TO_DATE('01-01-2003', 'MM-DD-YYYY'), DBMS_WM.UNTIL_CHANGED)
);
</pre><p>If you want the valid time range to be stored in views created on tables with valid time support, using two columns of type <code class="codeph">TIMEZONE WITH TIMESTAMP</code> instead of a single column of type <code class="codeph">WM_VALID</code>, you can set the Workspace Manager system parameter <code class="codeph">USE_SCALAR_TYPES_FOR_VALIDTIME</code> to <code class="codeph">ON</code>, as explained in <a href="introduction-to-workspace-manager.html#GUID-0163BDA5-44CE-4590-9D37-E55CA6770E64" title="Workspace Manager provides a set of system parameters that allow a user with the WM_ADMIN system privilege to enforce global Workspace Manager-specific settings for the database.">System Parameters for Workspace Manager</a>. 
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99204"></a><a id="ADWSM99203"></a><div class="props_rev_3"><a id="GUID-1866ED4D-E080-4575-9B34-4A4B60FBF37B" name="GUID-1866ED4D-E080-4575-9B34-4A4B60FBF37B"></a><h3 id="ADWSM-GUID-1866ED4D-E080-4575-9B34-4A4B60FBF37B" class="sect3"><span class="enumeration_section">3.3 </span>Valid Time Constants
               </h3>
               <div>
                  <p>The following table lists constants that can be used in the <code class="codeph">validFrom</code> and <code class="codeph">validTill</code> timestamps of a <code class="codeph">WM_PERIOD</code> specification.
                  </p>
                  <p>(Workspace Manager uses these as constants, but they are implemented as functions.)</p>
                  <div class="tblformal" id="GUID-1866ED4D-E080-4575-9B34-4A4B60FBF37B__CHDHJDHI">
                     <p class="titleintable">Table 3-1 Constants for Valid Time Support</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Constants for Valid Time Support" summary="Constants for Valid Time Support. Column 1 is Constant, and column 2 is Explanation." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d26526e406">Constant</th>
                              <th align="left" valign="bottom" width="69%" id="d26526e409">Explanation</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26526e414" headers="d26526e406 ">
                                 <p>DBMS_WM.MIN_TIME</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26526e414 d26526e409 ">
                                 <p>The minimum (earliest) timestamp value supported by Workspace Manager. Currently the beginning of the day on 01-Jan in the year -4712 (4712 BCE).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26526e421" headers="d26526e406 ">
                                 <p>DBMS_WM.MAX_TIME</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26526e421 d26526e409 ">
                                 <p>The maximum (latest) timestamp value supported by Workspace Manager. Currently the end of the day (11:59.999999000 pm) on 31-Dec-9999.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d26526e428" headers="d26526e406 ">
                                 <p>DBMS_WM.UNTIL_CHANGED</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d26526e428 d26526e409 ">
                                 <p>A timestamp that is treated as DBMS_WM.MAX_TIME until a subsequent modification overrides the value. </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99206"></a><a id="ADWSM99205"></a><div class="props_rev_3"><a id="GUID-04312857-D935-48AB-B91B-95FCAA07814E" name="GUID-04312857-D935-48AB-B91B-95FCAA07814E"></a><h3 id="ADWSM-GUID-04312857-D935-48AB-B91B-95FCAA07814E" class="sect3"><span class="enumeration_section">3.4 </span>API Features for Valid Time Support
               </h3>
               <div>
                  <p>The following table  lists DBMS_WM subprograms that are devoted to valid time support or that have parameters related to valid time support.</p>
                  <div class="tblformal" id="GUID-04312857-D935-48AB-B91B-95FCAA07814E__G1010564">
                     <p class="titleintable">Table 3-2 API Features for Valid Time Support</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="API Features for Valid Time Support" summary="API Features for Valid Time Support. Column 1 is Subprogram, and column 2 is Valid Time Support." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d26526e480">Subprogram</th>
                              <th align="left" valign="bottom" width="67%" id="d26526e483">Valid Time Support</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e488" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-41A06CC9-F3F5-40E8-9BDB-29B600DEA7F0">EnableVersioning</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e488 d26526e483 ">
                                 <p>If the <code class="codeph">validTime</code> parameter value is TRUE, the table is version-enabled <code class="codeph">with</code> valid time support. A column named <code class="codeph">WM_VALID</code> of type WM_PERIOD is added to the table. For any existing rows, the <code class="codeph">WM_VALID</code> column is set with a <code class="codeph">validFrom</code> timestamp of SYSTIMESTAMP and a <code class="codeph">validTill</code> timestamp of DBMS_WM.UNTIL_CHANGED.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e516" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-A7BBE855-07E0-46A5-AB34-22BEFE9049C7">DisableVersioning</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e516 d26526e483 ">
                                 <p>The <code class="codeph">keepWMValid</code> parameter determines whether to keep (the default) or delete the <code class="codeph">WM_VALID</code> column and its data when the table is version-disabled.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e531" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-BD736B55-5845-4A58-94E1-758385BB15DE">GetValidFrom</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e531 d26526e483 ">
                                 <p>Returns the <code class="codeph">validFrom</code> timestamp from the session valid time period.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e543" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-5DB9C2F6-E3CF-4C64-B838-4FED56363244">GetValidTill</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e543 d26526e483 ">
                                 <p>Returns the <code class="codeph">validTill</code> timestamp from the session valid time period.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e555" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-A42995A7-4941-42E7-B3FC-A812B16FF0AB">SetValidTime</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e555 d26526e483 ">
                                 <p>Sets the session valid time period to the specified range. You can execute the procedure with no parameters (to have the valid time range set as from the current time and until changed), with only the <code class="codeph">validFrom</code> parameter, or with both the <code class="codeph">validFrom</code> and <code class="codeph">validTill</code> parameters. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e573" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-65DC79C5-03C9-4B5E-9599-27CFAEFB4E96">SetValidTimeFilterOFF</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e573 d26526e483 ">
                                 <p>Removes the valid time filter for the current session. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e582" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-956A01D4-C967-4720-B8B6-3EEBBE4C1AC6">SetValidTimeFilterON</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e582 d26526e483 ">
                                 <p>Sets a valid time filter for the current session (that is, a time to be applied to version-enabled tables. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e591" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-4A3C4F86-2068-4F09-91AC-3D029A970470">SetWMValidUpdateModeOFF</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e591 d26526e483 ">
                                 <p>Disables sequenced and nonsequenced update operations and sequenced delete operations on tables that have valid time support. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d26526e600" headers="d26526e480 ">
                                 <p><a href="DBMS_WM-reference.html#GUID-3E1E6BCC-110A-4DE7-9DB2-C10C5E2362D2">SetWMValidUpdateModeON</a></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d26526e600 d26526e483 ">
                                 <p>Enables sequenced and nonsequenced update operations and sequenced delete operations on tables that have valid time support. </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99207"></a><div class="props_rev_3"><a id="GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" name="GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1"></a><h3 id="ADWSM-GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" class="sect3"><span class="enumeration_section">3.5 </span>Operators for Valid Time Support
               </h3>
               <div>
                  <p>Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.</p>
                  <p>The relationship checking operators return the integer value 1 if the relationship between the two periods exists, and 0 if the relationship does not exist. The following relationship checking operators for are provided for valid time support:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="valid-time-support.html#GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1">WM_OVERLAPS</a> checks if two periods overlap.
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3">WM_CONTAINS</a> checks if the first period contains the second period.
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB">WM_MEETS</a> checks if the end of the first period is the start of the second period.
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22">WM_EQUALS</a> checks if the two periods are equal (that is, their start and end times are the same).
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58">WM_LESSTHAN</a> checks if the end of the first period is less than (that is, earlier than) the start of the second period.
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2">WM_GREATERTHAN</a> checks if the start of the first period is greater than (that is, later than) the end of the second period.
                        </p>
                     </li>
                  </ul>
                  <p>The set operators return the period reflecting the relationship between the two periods, or a null value if the two periods do not have the specified relationship. The following set operators for are provided for valid time support:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="valid-time-support.html#GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9">WM_INTERSECTION</a> returns the intersection of the two periods, that is, the time range common to both periods.
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF">WM_LDIFF</a> returns the difference between the two periods on the left (that is, earlier in time).
                        </p>
                     </li>
                     <li>
                        <p><a href="valid-time-support.html#GUID-4F591088-5343-471C-9670-A7EDDFBC02CF">WM_RDIFF</a> returns the difference between the two periods on the right (that is, later in time).
                        </p>
                     </li>
                  </ul>
                  <p>You can use the relationship checking operators as alternatives to using the wm_valid.validFrom and wm_valid.validTill attributes of the row. For example, the following two queries, which select data valid on 01-Jan-1991, are equivalent:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e WHERE WM_CONTAINS (e.wm_valid,
   WMSYS.WM_PERIOD(TO_DATE('01-01-1991', 'MM-DD-YYYY'), 
                   TO_DATE('01-02-1991', 'MM-DD-YYYY')) = 1;
SELECT * from employees e 
   WHERE e.wm_valid.validFrom &lt;= TO_DATE('01-01-1991', 'MM-DD-YYYY')
     AND e.wm_valid.validTill &gt; TO_DATE('01-03-1991', 'MM-DD-YYYY');
</pre><p>The rest of this section contains additional information about each operator. The operators are listed in alphabetical order.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3">WM_CONTAINS</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22">WM_EQUALS</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2">WM_GREATERTHAN</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9">WM_INTERSECTION</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF">WM_LDIFF</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58">WM_LESSTHAN</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB">WM_MEETS</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1">WM_OVERLAPS</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-4F591088-5343-471C-9670-A7EDDFBC02CF">WM_RDIFF</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADWSM99209"></a><a id="ADWSM99208"></a><div class="props_rev_3"><a id="GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3" name="GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3"></a><h4 id="ADWSM-GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3" class="sect4"><span class="enumeration_section">3.5.1 </span>WM_CONTAINS
                  </h4>
                  <div>
                     <p>The WM_CONTAINS operator checks if the first period contains the second period. <code class="codeph">WM_CONTAINS(p1, p2)</code> returns <code class="codeph">1</code> only if the period <code class="codeph">p1</code> contains the period <code class="codeph">p2</code>; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_CONTAINS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1988', 'MM-DD-YYYY'))) = 1
 
WM_CONTAINS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3__i1008299">Example 3-4</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table that were valid on 01-Jan-1995 (that is, where the <code class="codeph">WM_VALID</code> column value contains the period for 01-Jan-1995).
                     </p>
                     <div class="example" id="GUID-FC68F0CA-2FE4-4053-9E0D-7B6C76A4E8E3__i1008299">
                        <p class="titleinexample">Example 3-4 WM_CONTAINS Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_CONTAINS(e.wm_valid,
    wm_period(TO_DATE('01-01-1995', 'MM-DD-YYYY'),
              TO_DATE('01-02-1995', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Adams                 30000                                                     
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00')</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99211"></a><a id="ADWSM99210"></a><div class="props_rev_3"><a id="GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22" name="GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22"></a><h4 id="ADWSM-GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22" class="sect4"><span class="enumeration_section">3.5.2 </span>WM_EQUALS
                  </h4>
                  <div>
                     <p>The WM_EQUALS operator checks if the first period is equal to (that is, the same as) the second period. <code class="codeph">WM_CONTAINS(p1, p2)</code> returns <code class="codeph">1</code> only if the period <code class="codeph">p1</code> is equal to the period <code class="codeph">p2</code>; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_EQUALS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY'))) = 1
 
WM_EQUALS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22__i1008785">Example 3-5</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table that are valid from 01-Jan-1990 until 01-Jan-2005 (that is, where the <code class="codeph">WM_VALID</code> column value is equal to that period).
                     </p>
                     <div class="example" id="GUID-B02289A5-5BF5-4B40-AEC4-69EBB1948B22__i1008785">
                        <p class="titleinexample">Example 3-5 WM_EQUALS Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_EQUALS(e.wm_valid,
    wm_period(TO_DATE('01-01-1990', 'MM-DD-YYYY'),
              TO_DATE('01-01-2005', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Adams                 30000                                                     
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00') </pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99213"></a><a id="ADWSM99212"></a><div class="props_rev_3"><a id="GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2" name="GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2"></a><h4 id="ADWSM-GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2" class="sect4"><span class="enumeration_section">3.5.3 </span>WM_GREATERTHAN
                  </h4>
                  <div>
                     <p>The WM_GREATERTHAN operator checks if the first period is greater than (that is, occurs after) the second period. <code class="codeph">WM_CONTAINS(p1, p2)</code> returns <code class="codeph">1</code> only if the entire period <code class="codeph">p1</code> is later than the period <code class="codeph">p2</code>; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_GREATERTHAN(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1970', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1980', 'MM-DD-YYYY'))) = 1
 
WM_GREATERTHAN(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1970', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1981', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2__i1008786">Example 3-6</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table that are valid only after 01-Jan-2001 (that is, where the <code class="codeph">WM_VALID</code> column timestamps are both after 01-Jan-2001).
                     </p>
                     <div class="example" id="GUID-F7E24EEE-4EE2-411A-9EDB-0EB8846350C2__i1008786">
                        <p class="titleinexample">Example 3-6 WM_GREATERTHAN Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_GREATERTHAN(e.wm_valid,
    wm_period(TO_DATE('01-01-2001', 'MM-DD-YYYY'),
              TO_DATE('01-02-2001', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Coleman               50000                                                     
WM_PERIOD('01-JAN-2003 12:00:00 -04:00', '31-DEC-9999 12:00:00 -04:00')</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99215"></a><a id="ADWSM99214"></a><div class="props_rev_3"><a id="GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9" name="GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9"></a><h4 id="ADWSM-GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9" class="sect4"><span class="enumeration_section">3.5.4 </span>WM_INTERSECTION
                  </h4>
                  <div>
                     <p>The WM_INTERSECTION operator returns the intersection of the two periods, that is, the period common to both specified periods. <code class="codeph">WM_INTERSECTION(p1, p2)</code> returns a period that is the intersection of periods <code class="codeph">p1</code> and <code class="codeph">p2</code>.
                     </p>
                     <p>The following example returns the period between 01-Jan-1985 to 01-Jan-1988:</p><pre class="oac_no_warn" dir="ltr">WM_INTERSECTION(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1988', 'MM-DD-YYYY')))
</pre><p>The following example returns the period between 01-Jan-1985 to 01-Jan-1990:</p><pre class="oac_no_warn" dir="ltr">WM_INTERSECTION(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY')))
</pre><p>The following example returns a null value, because there is no intersection of the periods:</p><pre class="oac_no_warn" dir="ltr">WM_INTERSECTION(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1992', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY')))
</pre><p><a href="valid-time-support.html#GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9__i1008787">Example 3-7</a> returns, for each row in the <code class="codeph">EMPLOYEES</code> table, the employee name and the period in which the <code class="codeph">WM_PERIOD</code> column value intersects the period on 01-Jan-1995.
                     </p>
                     <div class="example" id="GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9__i1008787">
                        <p class="titleinexample">Example 3-7 WM_INTERSECTION Operator</p><pre class="oac_no_warn" dir="ltr">SELECT e.name, WM_INTERSECTION(e.wm_valid,
  wm_period(TO_DATE('01-01-1995', 'MM-DD-YYYY'),
            TO_DATE('01-02-1995', 'MM-DD-YYYY')))
 FROM employees e;

NAME                                                                            
----------------                                                                
WM_INTERSECTION(E.WM_VALID,WM_PERIOD(TO_DATE('01-01-1995','MM-DD-
--------------------------------------------------------------------------------
Adams                                                                           
WM_PERIOD('01-JAN-1995 12:00:00 -04:00', '02-JAN-1995 12:00:00 -04:00')         
                                                                                
Baxter                                                                          
                                                                                
                                                                                
Coleman 
</pre><p>As you can see in the output of <a href="valid-time-support.html#GUID-96142D0E-7884-49A3-9E7A-3C7678B15CE9__i1008787">Example 3-7</a>, only Adams has a row that is valid on 01-Jan-1995.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99217"></a><a id="ADWSM99216"></a><div class="props_rev_3"><a id="GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF" name="GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF"></a><h4 id="ADWSM-GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF" class="sect4"><span class="enumeration_section">3.5.5 </span>WM_LDIFF
                  </h4>
                  <div>
                     <p>The WM_LDIFF operator returns the difference between the two periods on the left (that is, earlier in time). <code class="codeph">WM_LDIFF(p1, p2)</code> returns a period that is the difference between periods <code class="codeph">p1</code> and <code class="codeph">p2</code> on the left.
                     </p>
                     <p>The following example returns the period between 01-Jan-1980 to 01-Jan-1985:</p><pre class="oac_no_warn" dir="ltr">WM_LDIFF(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1988', 'MM-DD-YYYY')))
</pre><p>The following example returns a null value because <code class="codeph">p1.validFrom</code> is greater than <code class="codeph">p2.validFrom</code>:
                     </p><pre class="oac_no_warn" dir="ltr">WM_LDIFF(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1975', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY')))
</pre><p>The following example returns a null value because <code class="codeph">p2</code> is completely outside (in this case, later than) <code class="codeph">p1</code>:
                     </p><pre class="oac_no_warn" dir="ltr">WM_LDIFF(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1992', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY')))
</pre><p><a href="valid-time-support.html#GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF__i1008788">Example 3-8</a> returns, for each row in the <code class="codeph">EMPLOYEES</code> table, the employee name and the period in which the <code class="codeph">WM_PERIOD</code> column value is different on the left from 01-Jan-1995.
                     </p>
                     <div class="example" id="GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF__i1008788">
                        <p class="titleinexample">Example 3-8 WM_LDIFF Operator</p><pre class="oac_no_warn" dir="ltr">SELECT e.name, WM_LDIFF(e.wm_valid,
  wm_period(TO_DATE('01-01-1995', 'MM-DD-YYYY'),
            TO_DATE('01-02-1995', 'MM-DD-YYYY')))
 FROM employees e;

NAME                                                                            
----------------                                                                
WM_LDIFF(E.WM_VALID,WM_PERIOD(TO_DATE('01-01-1995','MM-DD-YYYY'),
--------------------------------------------------------------------------------
Adams                                                                           
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-1995 12:00:00 -04:00')         
                                                                                
Baxter                                                                          
                                                                                
                                                                                
Coleman
</pre><p>As you can see in the output of <a href="valid-time-support.html#GUID-A1C7622F-76BC-44EC-94C8-DC4EE2A096EF__i1008788">Example 3-8</a>, only Adams has a row that is valid during the period of difference on the left.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99219"></a><a id="ADWSM99218"></a><div class="props_rev_3"><a id="GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58" name="GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58"></a><h4 id="ADWSM-GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58" class="sect4"><span class="enumeration_section">3.5.6 </span>WM_LESSTHAN
                  </h4>
                  <div>
                     <p>The WM_LESSTHAN operator checks if the first period is less than (that is, occurs before) the second period. <code class="codeph">WM_CONTAINS(p1, p2)</code> returns <code class="codeph">1</code> only if the entire period <code class="codeph">p1</code> is less than the period <code class="codeph">p2</code>; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_LESSTHAN(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1991', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1992', 'MM-DD-YYYY'))) = 1
 
WM_LESSTHAN(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1989', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1992', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58__i1008789">Example 3-9</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table that are valid only before 01-Jan-2010 (that is, where the <code class="codeph">WM_VALID</code> column timestamps are both before 01-Jan-2001).
                     </p>
                     <div class="example" id="GUID-F6FAA51B-2963-4BD7-8094-0223F23D8B58__i1008789">
                        <p class="titleinexample">Example 3-9 WM_LESSTHAN Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_LESSTHAN(e.wm_valid,
    wm_period(TO_DATE('01-01-2010', 'MM-DD-YYYY'),
              TO_DATE('01-02-2010', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Adams                 30000                                                     
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00')</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99221"></a><a id="ADWSM99220"></a><div class="props_rev_3"><a id="GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB" name="GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB"></a><h4 id="ADWSM-GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB" class="sect4"><span class="enumeration_section">3.5.7 </span>WM_MEETS
                  </h4>
                  <div>
                     <p>The WM_MEETS operator checks if the end of the first period is the start of the second period. <code class="codeph">WM_MEETS(p1, p2)</code> returns <code class="codeph">1</code> only if <code class="codeph">p1.validTill = p2.validFrom</code>; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_MEETS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1990', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY'))) = 1
 
WM_MEETS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1992', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB__i1008790">Example 3-10</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table that are valid only if the ending timestamp of the valid date period is the same as the start of the period from 01-Jan-2005 until 01-Jan-2006 (that is, if <code class="codeph">WM_VALID</code>.validTill is equal to the start of the specified period).
                     </p>
                     <div class="example" id="GUID-A0289649-B322-4B79-BEB3-3B51DB40B6EB__i1008790">
                        <p class="titleinexample">Example 3-10 WM_MEETS Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_MEETS(e.wm_valid,
    wm_period(TO_DATE('01-01-2005', 'MM-DD-YYYY'),
              TO_DATE('01-01-2006', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Adams                 30000                                                     
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00')</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99223"></a><a id="ADWSM99222"></a><div class="props_rev_3"><a id="GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1" name="GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1"></a><h4 id="ADWSM-GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1" class="sect4"><span class="enumeration_section">3.5.8 </span>WM_OVERLAPS
                  </h4>
                  <div>
                     <p>The WM_OVERLAPS operator checks if two periods overlap. <code class="codeph">WM_OVERLAPS(p1, p2)</code> returns <code class="codeph">1</code> if the periods <code class="codeph">p1</code> and <code class="codeph">p2</code> overlap; otherwise, it returns <code class="codeph">0</code>.
                     </p>
                     <p>For example: </p><pre class="oac_no_warn" dir="ltr">WM_OVERLAPS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY'))) = 1
 
WM_OVERLAPS(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1970', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1980', 'MM-DD-YYYY'))) = 0
</pre><p><a href="valid-time-support.html#GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1__i1008791">Example 3-11</a> returns all rows in the <code class="codeph">EMPLOYEES</code> table whose valid date range overlaps the period from 01-Jan-1990 until 01-Jan-2000.
                     </p>
                     <div class="example" id="GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1__i1008791">
                        <p class="titleinexample">Example 3-11 WM_OVERLAPS Operator</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e
  WHERE WM_OVERLAPS(e.wm_valid,
    wm_period(TO_DATE('01-01-1990', 'MM-DD-YYYY'),
              TO_DATE('01-01-2000', 'MM-DD-YYYY'))) = 1;

NAME                 SALARY                                                     
---------------- ----------                                                     
WM_VALID(VALIDFROM, VALIDTILL)                                                  
--------------------------------------------------------------------------------
Adams                 30000                                                     
WM_PERIOD('01-JAN-1990 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00') </pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99225"></a><a id="ADWSM99224"></a><div class="props_rev_3"><a id="GUID-4F591088-5343-471C-9670-A7EDDFBC02CF" name="GUID-4F591088-5343-471C-9670-A7EDDFBC02CF"></a><h4 id="ADWSM-GUID-4F591088-5343-471C-9670-A7EDDFBC02CF" class="sect4"><span class="enumeration_section">3.5.9 </span>WM_RDIFF
                  </h4>
                  <div>
                     <p>The WM_RDIFF operator returns the difference between the two periods on the right (that is, later in time). <code class="codeph">WM_RDIFF(p1, p2)</code> returns a period that is the difference between periods <code class="codeph">p1</code> and <code class="codeph">p2</code> on the right.
                     </p>
                     <p>The following example returns the period between 01-Jan-1988 to 01-Jan-1990:</p><pre class="oac_no_warn" dir="ltr">WM_RDIFF(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1985', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1988', 'MM-DD-YYYY')))
</pre><p>The following example returns a null value because <code class="codeph">p1.validTill</code> is less than <code class="codeph">p2.validTill</code>:
                     </p><pre class="oac_no_warn" dir="ltr">WM_RDIFF(
   WM_PERIOD(
      TO_DATE('01-01-1980', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1990', 'MM-DD-YYYY')),
   WM_PERIOD(
      TO_DATE('01-01-1975', 'MM-DD-YYYY'), 
      TO_DATE('01-01-1995', 'MM-DD-YYYY')))
</pre><p><a href="valid-time-support.html#GUID-4F591088-5343-471C-9670-A7EDDFBC02CF__i1008792">Example 3-12</a> returns, for each row in the <code class="codeph">EMPLOYEES</code> table, the employee name and the period in which the <code class="codeph">WM_PERIOD</code> column value is different on the right from 01-Jan-1995.
                     </p>
                     <div class="example" id="GUID-4F591088-5343-471C-9670-A7EDDFBC02CF__i1008792">
                        <p class="titleinexample">Example 3-12 WM_RDIFF Operator</p><pre class="oac_no_warn" dir="ltr">SELECT e.name, WM_RDIFF(e.wm_valid,
  wm_period(TO_DATE('01-01-1995', 'MM-DD-YYYY'),
            TO_DATE('01-02-1995', 'MM-DD-YYYY')))
 FROM employees e;

NAME                                                                            
----------------                                                                
WM_RDIFF(E.WM_VALID,WM_PERIOD(TO_DATE('01-01-1995','MM-DD-YYYY'),
--------------------------------------------------------------------------------
Adams                                                                           
WM_PERIOD('02-JAN-1995 12:00:00 -04:00', '01-JAN-2005 12:00:00 -04:00')         
                                                                                
Baxter                                                                          
                                                                                
                                                                                
Coleman                                                                         
WM_PERIOD('01-JAN-2003 12:00:00 -04:00', '31-DEC-9999 12:00:00 -04:00') 
</pre><p>As you can see in the output of <a href="valid-time-support.html#GUID-4F591088-5343-471C-9670-A7EDDFBC02CF__i1008792">Example 3-12</a>, only Adams and Coleman have rows that are valid during the period of difference on the right.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADWSM99226"></a><div class="props_rev_3"><a id="GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B" name="GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B"></a><h3 id="ADWSM-GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B" class="sect3"><span class="enumeration_section">3.6 </span>Queries and DML Operations with Valid Time Support
               </h3>
               <div>
                  <p>This section describes some behaviors and considerations for queries and data manipulation language (insert, update, and delete) operations related to valid time support.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-07C8EBE7-6130-47EB-87EA-12BA03ADDC00">Queries</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0">Data Manipulation (DML) Operations</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADWSM99227"></a><div class="props_rev_3"><a id="GUID-07C8EBE7-6130-47EB-87EA-12BA03ADDC00" name="GUID-07C8EBE7-6130-47EB-87EA-12BA03ADDC00"></a><h4 id="ADWSM-GUID-07C8EBE7-6130-47EB-87EA-12BA03ADDC00" class="sect4"><span class="enumeration_section">3.6.1 </span>Queries
                  </h4>
                  <div>
                     <p>All queries issued against a version-enabled table with valid time support take into account the current session's valid time setting (set using the <a href="DBMS_WM-reference.html#GUID-A42995A7-4941-42E7-B3FC-A812B16FF0AB">SetValidTime</a> or <a href="DBMS_WM-reference.html#GUID-956A01D4-C967-4720-B8B6-3EEBBE4C1AC6">SetValidTimeFilterON</a> procedure). Unless the query specifies otherwise (for example, by using one of the valid time support operators described in <a href="valid-time-support.html#GUID-8FDD27F9-D900-443A-8E69-FB0BE141FFE1" title="Workspace Manager provides relationship checking operators and set operators that accept two time period parameters and that can be used to apply valid time filters in a query.">Operators for Valid Time Support</a>), each query displays all rows from the underlying table having a valid time range that overlaps the session valid time or valid time filter, and that satisfy the other conditions of the query.
                     </p>
                     <p>By default (that is, if the <a href="DBMS_WM-reference.html#GUID-A42995A7-4941-42E7-B3FC-A812B16FF0AB">SetValidTime</a> procedure has not been invoked in the session or if it was invoked with no parameters), all rows that are valid at the current time are considered valid, and the valid time period is considered to be from the current time forward without limit. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B" title="This section describes some behaviors and considerations for queries and data manipulation language (insert, update, and delete) operations related to valid time support.">Queries and DML Operations with Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99228"></a><div class="props_rev_3"><a id="GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0" name="GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0"></a><h4 id="ADWSM-GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0" class="sect4"><span class="enumeration_section">3.6.2 </span>Data Manipulation (DML) Operations
                  </h4>
                  <div>
                     <p>All DML statements (INSERT, UPDATE, and DELETE) issued against a version-enabled table with valid time support take into account the current session's valid time setting and update mode. (The update mode is controlled by the <a href="DBMS_WM-reference.html#GUID-3E1E6BCC-110A-4DE7-9DB2-C10C5E2362D2">SetWMValidUpdateModeON</a> and <a href="DBMS_WM-reference.html#GUID-4A3C4F86-2068-4F09-91AC-3D029A970470">SetWMValidUpdateModeOFF</a> procedures.) The DML statements can affect all rows that are valid for the valid time period. 
                     </p>
                     <p>By default (that is, if the <a href="DBMS_WM-reference.html#GUID-A42995A7-4941-42E7-B3FC-A812B16FF0AB">SetValidTime</a> procedure has not been invoked in the session or if it was invoked with no parameters), all rows that are valid at the current time can be affected by DML statements, and all modified rows have their valid time range timestamps set as from the current time until changed.
                     </p>
                     <p>The following sections describe additional considerations that apply to specific kinds of DML operations.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05">Update Operations</a><br></li>
                        <li class="ulchildlink"><a href="valid-time-support.html#GUID-6EA33492-7674-4F88-8561-26BA11906CB2">Insert Operations</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-2778AB34-FDCD-44CC-9B6A-75D53EC81A7B" title="This section describes some behaviors and considerations for queries and data manipulation language (insert, update, and delete) operations related to valid time support.">Queries and DML Operations with Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADWSM99230"></a><a id="ADWSM99229"></a><div class="props_rev_3"><a id="GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05" name="GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05"></a><h5 id="ADWSM-GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05" class="sect5"><span class="enumeration_section">3.6.2.1 </span>Update Operations
                     </h5>
                     <div>
                        <p>Update operations to version-enabled tables with valid time support can be sequenced or nonsequenced.</p>
                        <p><a id="d26526e1701" class="indexterm-anchor"></a>A <span class="bold">sequenced update</span> operation occurs when you do not specify a change to the <code class="codeph">WM_VALID</code> column in the UPDATE statement. In a sequenced update operation, the <code class="codeph">WM_VALID.ValidTill</code> value for the row is changed to the <code class="codeph">ValidFrom</code> timestamp of the current session valid time range, and a new row is created in which the <code class="codeph">WM_VALID</code> period reflects the current session valid time range. Sequenced updates ensure that no duplicate records are created by an UPDATE statement, because the <code class="codeph">WM_VALID</code> column values are different.
                        </p>
                        <p><a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">Example 3-13</a> shows a sequenced update operation, in which employee Baxter is given a raise. Before the update, there is one row for Baxter, with a salary of 40000 and a valid time period from 01-Jan-2000 until changed. 
                        </p>
                        <div class="example" id="GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">
                           <p class="titleinexample">Example 3-13 Sequenced Update Operation</p><pre class="oac_no_warn" dir="ltr">-- Update the salary for an existing employee. Perform "sequenced" update, so
-- that existing time-related information is preserved. This results in two rows
-- for Baxter.
-- First, set valid time to the intended range for Baxter's raise.
EXECUTE DBMS_WM.SetValidTime(TO_DATE('01-01-2003', 'MM-DD-YYYY'), 
  DBMS_WM.UNTIL_CHANGED);
-- Give Baxter a raise, effective 01-Jan-2003 until changed.
UPDATE employees SET salary = 45000 WHERE name = 'Baxter';
</pre><p>The update operation in <a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">Example 3-13</a> modifies the <code class="codeph">WM_VALID</code> value of the existing row and creates a new row with the new salary value and the <code class="codeph">WM_VALID</code> value reflecting the session valid time range, as shown by the following statements:
                           </p><pre class="oac_no_warn" dir="ltr">-- Set valid time to encompass virtually all time.
EXECUTE DBMS_WM.SetValidTime(TO_DATE('01-01-1900', 'MM-DD-YYYY'), TO_DATE('01-02-9999', 'MM-DD-YYYY'));

-- See what data exists for Baxter.
SELECT * FROM employees WHERE name = 'Baxter';

NAME                 SALARY
---------------- ----------
WM_VALID(VALIDFROM, VALIDTILL)
--------------------------------------------------------------------------------
Baxter                45000
WM_PERIOD('01-JAN-2003 12:00:00 -04:00', NULL)

Baxter                40000
WM_PERIOD('01-JAN-2000 12:00:00 -04:00', '01-JAN-2003 12:00:00 -04:00')
</pre><p><a id="d26526e1744" class="indexterm-anchor"></a>A <span class="bold">sequenced delete</span> operation deletes the portion of a row that falls within the session valid time range; that is, a new row is created in which the <code class="codeph">WM_VALID</code> period reflects the current session valid time range, and then that row is deleted. If the UPDATE statement in <a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">Example 3-13</a> had instead been <code class="codeph">DELETE FROM employees WHERE name = 'Baxter';</code>, the new row for Baxter, valid from 01-Jan-2003 until changed, would have been deleted, but any rows for Baxter valid before 01-Jan-2003 would not be affected. There is no concept of a non-sequenced delete operation; for example, if a valid time was not set in <a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">Example 3-13</a>, a delete operation <code class="codeph">WHERE name = 'Baxter'</code> would delete all rows for Baxter.
                           </p>
                           <p>Sequenced update and delete operations are enabled when a table is version-enabled with valid time support or when valid time support is added to a version-enabled table. However, you can disable support for sequenced update and delete operations (as well as for nonsequenced update operations) by using the <a href="DBMS_WM-reference.html#GUID-4A3C4F86-2068-4F09-91AC-3D029A970470">SetWMValidUpdateModeOFF</a> procedure, and you can re-enable support by using the <a href="DBMS_WM-reference.html#GUID-3E1E6BCC-110A-4DE7-9DB2-C10C5E2362D2">SetWMValidUpdateModeON</a> procedure. (Both procedures are described in <a href="DBMS_WM-reference.html#GUID-EAC6BFAC-69E2-46C3-8211-8AE8661B6A8B" title="Workspace Manager includes PL/SQL subprograms (procedures and functions), in a package named DBMS_WM, that perform the available features of the product. This chapter provides reference information on each subprogram."> DBMS_WM Package: Reference   </a>.)
                           </p>
                           <p><a id="d26526e1785" class="indexterm-anchor"></a>A <span class="bold">nonsequenced update</span> operation occurs when you specify a change to the <code class="codeph">WM_VALID</code> column in the UPDATE statement. In a nonsequenced update operation, no additional row is created, and the <code class="codeph">WM_VALID</code> column value of the updated row or rows reflects what you specified in the UPDATE statement. You must ensure that a nonsequenced update operation will not result in multiple rows with the same primary key value being valid in the period specified in the UPDATE statement; otherwise, the update fails because of a primary key constraint violation.
                           </p>
                           <p>If the UPDATE statement in <a href="valid-time-support.html#GUID-95DAA1AE-90DB-46A0-BDA2-66D5A5C2DA05__i1009191">Example 3-13</a> had been a nonsequenced update operation, the result would have been only one row for Baxter: the existing row would have had the salary set to 45000 and the <code class="codeph">WM_VALID</code> column set to the period specified in the UPDATE statement.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0">Data Manipulation (DML) Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADWSM99232"></a><a id="ADWSM99231"></a><div class="props_rev_3"><a id="GUID-6EA33492-7674-4F88-8561-26BA11906CB2" name="GUID-6EA33492-7674-4F88-8561-26BA11906CB2"></a><h5 id="ADWSM-GUID-6EA33492-7674-4F88-8561-26BA11906CB2" class="sect5"><span class="enumeration_section">3.6.2.2 </span>Insert Operations
                     </h5>
                     <div>
                        <p>When you insert a row into a version-enabled table with valid time support, you can specify a valid time period for the row. If you specify null timestamps for the period, the session valid time period is used.</p>
                        <p>When a row is inserted into a version-enabled table with valid time support, Workspace Manager checks to ensure that no existing rows with the same primary key value have a valid time range that overlaps the valid time range of the newly inserted row. If such a row is found, an exception is raised. <a href="valid-time-support.html#GUID-6EA33492-7674-4F88-8561-26BA11906CB2__i1008980">Example 3-14</a> shows an attempted insert operation that violates a primary key constraint because overlapping valid time periods.
                        </p>
                        <div class="example" id="GUID-6EA33492-7674-4F88-8561-26BA11906CB2__i1008980">
                           <p class="titleinexample">Example 3-14 Insert Operation Failing Because of Overlapping Time Periods</p><pre class="oac_no_warn" dir="ltr">-- Insert. Should violate primary key constraint, because of overlapping times:
-- existing Coleman row is valid from 01-Jan-2003 until 31-Dec-9999.
INSERT INTO employees VALUES(
  'Coleman',
  55000,
  WMSYS.WM_PERIOD(TO_DATE('01-01-2004', 'MM-DD-YYYY'),
                  TO_DATE('12-31-9999', 'MM-DD-YYYY'))
);
)
*
ERROR at line 6:
ORA-20010: unique key violation 
ORA-06512: at "WM_DEVELOPER.OVM_INSERT_10", line 1 
ORA-04088: error during execution of trigger 'WM_DEVELOPER.OVM_INSERT_10'
</pre><p>To make the statement in <a href="valid-time-support.html#GUID-6EA33492-7674-4F88-8561-26BA11906CB2__i1008980">Example 3-14</a> succeed, first change the WM_VALID.ValidTill attribute for the Coleman row to a timestamp reflecting 01-Jan-2004 or an earlier date.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-19C248F1-A3DD-4CBA-985E-9AB4FF1313B0">Data Manipulation (DML) Operations</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADWSM99233"></a><div class="props_rev_3"><a id="GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD" name="GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD"></a><h3 id="ADWSM-GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD" class="sect3"><span class="enumeration_section">3.7 </span>Constraint Management for Valid Time Support
               </h3>
               <div>
                  <p>This section describes considerations related to valid time support that affect referential integrity constraints and unique constraints.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-FCD91FB2-2067-43A2-AC0D-6C89FF8AE3CF">Referential Integrity Constraints</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-346D05BB-D25A-4EBF-89BA-D73080B705ED">Unique Constraints</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADWSM99234"></a><div class="props_rev_3"><a id="GUID-FCD91FB2-2067-43A2-AC0D-6C89FF8AE3CF" name="GUID-FCD91FB2-2067-43A2-AC0D-6C89FF8AE3CF"></a><h4 id="ADWSM-GUID-FCD91FB2-2067-43A2-AC0D-6C89FF8AE3CF" class="sect4"><span class="enumeration_section">3.7.1 </span>Referential Integrity Constraints
                  </h4>
                  <div>
                     <p>If a referential integrity constraint exists between two version-enabled tables that have valid time support, the valid time periods of rows are considered when the constraint is enforced. For example, assume that a <code class="codeph">DEPARTMENTS</code> table has a <code class="codeph">MANAGER_ID</code> column that is a foreign key referencing the <code class="codeph">EMPLOYEE_ID</code> column in an <code class="codeph">EMPLOYEES</code> table (that is, the department manager must be an existing employee). If both tables are version-enabled with valid time support, and if an insert or update operation would result in a new <code class="codeph">DEPARTMENTS.MANAGER_ID</code> value, the operation will fail if the <code class="codeph">D</code><code class="codeph">EPARTMENTS.WM_VALID</code> value is not within the range of the <code class="codeph">EMPLOYEES.WM_VALID</code> value for the employee who is being made the department manager. (That is, the operation will fail if the new department manager is not a valid employee for the time period specified or defaulted for the insert or update operation.)
                     </p>
                     <p>If either or both tables in a referential integrity constraint are not version-enabled with valid time support, valid time periods are ignored in enforcing the constraint.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD" title="This section describes considerations related to valid time support that affect referential integrity constraints and unique constraints.">Constraint Management for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99235"></a><div class="props_rev_3"><a id="GUID-346D05BB-D25A-4EBF-89BA-D73080B705ED" name="GUID-346D05BB-D25A-4EBF-89BA-D73080B705ED"></a><h4 id="ADWSM-GUID-346D05BB-D25A-4EBF-89BA-D73080B705ED" class="sect4"><span class="enumeration_section">3.7.2 </span>Unique Constraints
                  </h4>
                  <div>
                     <p>If a unique constraint exists in a version-enabled table with valid time support, the valid time periods of rows are considered when the constraint is enforced. For example, assume that an <code class="codeph">EMPLOYEES</code> table has an <code class="codeph">EMPLOYEE_ID</code> column that has a unique constraint. If an insert or update operation would result in a new <code class="codeph">EMPLOYEE_ID</code> value that is the same as an existing <code class="codeph">EMPLOYEE_ID</code> value, the operation will fail if the <code class="codeph">WM_VALID</code> values of the existing and inserted rows overlap. (That is, the operation will fail if the new employee and an existing employee have the same ID numbers and their rows are both valid at any given time. However, the operation will succeed if the valid time periods for the two employees do not overlap.)
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-F4650E9B-AEB4-4F39-969F-3EC372683FFD" title="This section describes considerations related to valid time support that affect referential integrity constraints and unique constraints.">Constraint Management for Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADWSM99236"></a><div class="props_rev_3"><a id="GUID-DC322D50-5D89-4048-87E7-EE731E8701EC" name="GUID-DC322D50-5D89-4048-87E7-EE731E8701EC"></a><h3 id="ADWSM-GUID-DC322D50-5D89-4048-87E7-EE731E8701EC" class="sect3"><span class="enumeration_section">3.8 </span>Locking with Valid Time Support
               </h3>
               <div>
                  <p>If a row in a version-enabled table with valid time support is locked, it is automatically locked for its entire valid time period. There is no way to lock a row for a specified time period.</p>
                  <p>Any updates in a pessimistically locked workspace will lock the rows seen from an ancestor workspace as the updates are performed in the workspace. The locked rows in ancestor workspaces will not be further updatable in their valid time periods as long as they are locked.</p>
                  <p>For an explanation of Workspace Manager locking, see <a href="introduction-to-workspace-manager.html#GUID-7FC3B886-7433-4D77-8CE0-44C2AD0DB3FD">Lock Management with Workspace Manager</a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99237"></a><div class="props_rev_3"><a id="GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" name="GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D"></a><h3 id="ADWSM-GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" class="sect3"><span class="enumeration_section">3.9 </span>Static Data Dictionary Views Affected by Valid Time Support
               </h3>
               <div>
                  <p>This section describes the effect on valid time support on Workspace Manager static data dictionary views.</p>
                  <p>These views are documented in <a href="workspace-manager-views.html#GUID-6CA43834-04A8-412F-9A3D-849295B7B4C5" title="Workspace Manager creates and maintains static data dictionary views to hold information about such things as version-enabled tables, workspaces, savepoints, users, privileges, locks, and conflicts."> Workspace Manager Static Data Dictionary Views   </a>.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-B31D7D71-0BA5-42B7-80A2-D62F28C9301A">xxx_CONF Views and Valid Time Support</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-A71DF657-B03F-4CDE-81E7-7E794D5A7158">xxx_DIFF Views and Valid Time Support</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-0C4C7F2D-C0FA-439B-8CB7-7E48BE09F92E">xxx_HIST Views and Valid Time Support</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-DD73683C-42B8-4EA5-AA59-A3C6D1D84B7D">xxx_LOCK Views and Valid Time Support</a><br></li>
                     <li class="ulchildlink"><a href="valid-time-support.html#GUID-8F696493-3D66-46DE-B9A1-7E3AFBD739AB">xxx_MW Views and Valid Time Support</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADWSM99238"></a><div class="props_rev_3"><a id="GUID-B31D7D71-0BA5-42B7-80A2-D62F28C9301A" name="GUID-B31D7D71-0BA5-42B7-80A2-D62F28C9301A"></a><h4 id="ADWSM-GUID-B31D7D71-0BA5-42B7-80A2-D62F28C9301A" class="sect4"><span class="enumeration_section">3.9.1 </span>xxx_CONF Views and Valid Time Support
                  </h4>
                  <div>
                     <p>For a versioned-enabled table with valid time support, the <span class="italic">xxx</span>_CONF view (described in <a href="workspace-manager-views.html#GUID-AE3D058A-EF08-4955-A38F-A3A159B0978C">xxx_CONF Views</a>) will include any temporal conflicts. Such a conflict results when the valid time of a row in a parent workspace, containing the same key as a row in its child workspace, overlaps with the valid time of that row in the child workspace. Setting the session context valid time has no effect on the results of the <span class="italic">xxx</span>_CONF views, because all applicable conflicts are displayed for the entire time dimension.
                     </p>
                     <p>For a version-enabled table with valid time support, a column named <code class="codeph">WM_VALID</code>, of type <code class="codeph">WM_PERIOD</code>, is added to the <span class="italic">xxx</span>_CONF view, to indicate the time period during which the row is valid. A column named <code class="codeph">WM_CONFLICTPERIOD</code>, of type <code class="codeph">WM_PERIOD</code>, is also added to the view, to indicate the overlapping period of the rows for which conflicts were detected.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" title="This section describes the effect on valid time support on Workspace Manager static data dictionary views.">Static Data Dictionary Views Affected by Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99239"></a><div class="props_rev_3"><a id="GUID-A71DF657-B03F-4CDE-81E7-7E794D5A7158" name="GUID-A71DF657-B03F-4CDE-81E7-7E794D5A7158"></a><h4 id="ADWSM-GUID-A71DF657-B03F-4CDE-81E7-7E794D5A7158" class="sect4"><span class="enumeration_section">3.9.2 </span>xxx_DIFF Views and Valid Time Support
                  </h4>
                  <div>
                     <p>For a version-enabled table with valid time support, the <span class="italic">xxx</span>_DIFF view (described in <a href="workspace-manager-views.html#GUID-12AF51CC-34CD-4A22-93AA-CD7944A53C57">xxx_DIFF Views</a>) will include temporal differences for a primary key between two distinct workspaces or savepoints. Such a difference occurs when a row is modified (inserted, updated, or deleted) in either a parent or child workspace. If two rows with the same primary key value are modified in both a parent and child workspace, the two rows are only correlated in the <span class="italic">xxx</span>_DIFF view when the valid time ranges of the rows overlap.   Setting the session context valid time has no effect on the results of the <span class="italic">xxx</span>_DIFF views, because all applicable differences are displayed for the entire time dimension. 
                     </p>
                     <p>For a version-enabled table with valid time support, a column named <code class="codeph">WM_VALID</code>, of type <code class="codeph">WM_PERIOD</code>, is added to the <span class="italic">xxx</span>_DIFF view, to indicate the time period during which the row is valid. A column named <code class="codeph">WM_DIFFPERIOD</code>, of type <code class="codeph">WM_PERIOD</code>, is also added to the view, to indicate the overlapping period of the rows for which a difference was detected.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" title="This section describes the effect on valid time support on Workspace Manager static data dictionary views.">Static Data Dictionary Views Affected by Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99240"></a><div class="props_rev_3"><a id="GUID-0C4C7F2D-C0FA-439B-8CB7-7E48BE09F92E" name="GUID-0C4C7F2D-C0FA-439B-8CB7-7E48BE09F92E"></a><h4 id="ADWSM-GUID-0C4C7F2D-C0FA-439B-8CB7-7E48BE09F92E" class="sect4"><span class="enumeration_section">3.9.3 </span>xxx_HIST Views and Valid Time Support
                  </h4>
                  <div>
                     <p>The <span class="italic">xxx</span>_HIST views (described in <a href="workspace-manager-views.html#GUID-B927E3B1-4339-43B9-8C97-F903664DABCD">xxx_HIST Views</a>) include information about both valid times and transaction times. It also includes audit information, such as the name of the user that created the row. For a version-enabled table with valid time support, a column named <code class="codeph">WM_VALID</code>, of type <code class="codeph">WM_PERIOD</code>, is added to the <span class="italic">xxx</span>_HIST view, to indicate the time period during which the row is valid.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" title="This section describes the effect on valid time support on Workspace Manager static data dictionary views.">Static Data Dictionary Views Affected by Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99241"></a><div class="props_rev_3"><a id="GUID-DD73683C-42B8-4EA5-AA59-A3C6D1D84B7D" name="GUID-DD73683C-42B8-4EA5-AA59-A3C6D1D84B7D"></a><h4 id="ADWSM-GUID-DD73683C-42B8-4EA5-AA59-A3C6D1D84B7D" class="sect4"><span class="enumeration_section">3.9.4 </span>xxx_LOCK Views and Valid Time Support
                  </h4>
                  <div>
                     <p>For a version-enabled table with valid time support, a column named <code class="codeph">WM_VALID</code>, of type <code class="codeph">WM_PERIOD</code>, is added to the <span class="italic">xxx</span>_LOCK view (described in <a href="workspace-manager-views.html#GUID-2628A3F5-5873-46B7-A94A-E2660A597CF5">xxx_LOCK Views</a>), to indicate the time period during which the row is valid. The row is locked for its entire valid time period, so this is also the locking period.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" title="This section describes the effect on valid time support on Workspace Manager static data dictionary views.">Static Data Dictionary Views Affected by Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADWSM99242"></a><div class="props_rev_3"><a id="GUID-8F696493-3D66-46DE-B9A1-7E3AFBD739AB" name="GUID-8F696493-3D66-46DE-B9A1-7E3AFBD739AB"></a><h4 id="ADWSM-GUID-8F696493-3D66-46DE-B9A1-7E3AFBD739AB" class="sect4"><span class="enumeration_section">3.9.5 </span>xxx_MW Views and Valid Time Support
                  </h4>
                  <div>
                     <p>For a version-enabled table with valid time support, a column named <code class="codeph">WM_VALID</code>, of type <code class="codeph">WM_PERIOD</code>, is added to the <span class="italic">xxx</span>_MW view (described in <a href="workspace-manager-views.html#GUID-2091F8E5-C052-464D-9FDD-12E99EBE523B">xxx_MW Views</a>), to indicate the time period during which the row is valid. To see only the rows that are valid during a specific period, use the <a href="valid-time-support.html#GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1">WM_OVERLAPS</a> operator.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-3D781FD0-B8CF-49C9-8FE8-AE433289968D" title="This section describes the effect on valid time support on Workspace Manager static data dictionary views.">Static Data Dictionary Views Affected by Valid Time Support</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADWSM99245"></a><a id="ADWSM99244"></a><div class="props_rev_3"><a id="GUID-D7914BBC-70C9-4929-830B-52E09A2319FA" name="GUID-D7914BBC-70C9-4929-830B-52E09A2319FA"></a><h3 id="ADWSM-GUID-D7914BBC-70C9-4929-830B-52E09A2319FA" class="sect3"><span class="enumeration_section">3.10 </span>Adding Valid Time Support to an Existing Table
               </h3>
               <div>
                  <p>You can add valid time support to an existing version-enabled table.</p>
                  <p>To do so, use the <a href="DBMS_WM-reference.html#GUID-BDD51387-78F7-426C-A753-638C7293FBA6">AlterVersionedTable</a> procedure. You can specify a valid time period to be set in the WM_VALID column of all existing rows, or you can accept the default period of the current timestamp until changed.
                  </p>
                  <p><a href="valid-time-support.html#GUID-D7914BBC-70C9-4929-830B-52E09A2319FA__I1009682">Example 3-15</a> creates a table named <code class="codeph">MY_TABLE</code>, version-enables it without valid time support, and then adds valid time support. After the valid time support is added, the <code class="codeph">WM_VALID</code> column contains the default valid time period.
                  </p>
                  <div class="example" id="GUID-D7914BBC-70C9-4929-830B-52E09A2319FA__I1009682">
                     <p class="titleinexample">Example 3-15 Adding Valid Time Support to an Existing Version-Enabled Table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_table (id NUMBER PRIMARY KEY);
EXECUTE DBMS_WM.EnableVersioning ('my_table');
INSERT INTO my_table VALUES (1);
SELECT * FROM my_table;

        ID
----------
         1

EXECUTE DBMS_WM.AlterVersionedTable('my_table', 'ADD_VALID_TIME');
SELECT * FROM my_table;

        ID
----------
WM_VALID(VALIDFROM, VALIDTILL)
--------------------------------------------------------------------------------
         1
WM_PERIOD('09-JUN-2003 10:04:13 -04:00', NULL)</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADWSM99503"></a><a id="ADWSM99502"></a><div class="props_rev_3"><a id="GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19" name="GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19"></a><h3 id="ADWSM-GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19" class="sect3"><span class="enumeration_section">3.11 </span>Merging and Refreshing Workspaces for Tables with Valid Time Support
               </h3>
               <div>
                  <p>When tables that have valid time support are merged or refreshed, you can determine the resulting rows by considering the distinct cases when there is an intersection between rows for the same primary key value.</p>
                  <p>To determine if two row intersect, you can use the <a href="valid-time-support.html#GUID-ADFA6724-E29F-4F79-8C19-0DC8D357EEA1">WM_OVERLAPS</a> operator.
                  </p>
                  <p>In the <code class="codeph">validTill</code> cases shown in <a href="valid-time-support.html#GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19__CHDIHIID" title="validTill Values and Intersection Result from Merge or Refresh Operation. Column 1 is validTill Values, and column 2 is Intersection Result.">Table 3-3</a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For a merge operation, the target workspace is the parent workspace.</p>
                     </li>
                     <li>
                        <p>For a refresh operation, the target workspace is the child workspace of the specified workspace.</p>
                     </li>
                     <li>
                        <p>Because of the intersecting nature of the rows, conflict resolution was performed before the merge or refresh operation. (A single source row might conflict with multiple target rows, and a single target row might conflict with multiple source rows.)</p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19__CHDIHIID">
                     <p class="titleintable">Table 3-3 validTill Values and Intersection Result from Merge or Refresh Operation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="validTill Values and Intersection Result from Merge or Refresh Operation" summary="validTill Values and Intersection Result from Merge or Refresh Operation. Column 1 is validTill Values, and column 2 is Intersection Result." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="51%" id="d26526e2538">validTill Values</th>
                              <th align="left" valign="bottom" width="49%" id="d26526e2541">Intersection Result</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d26526e2546" headers="d26526e2538 ">
                                 <p>Both the source and the target rows have a <code class="codeph">validTill</code> value that is not <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d26526e2546 d26526e2541 ">
                                 <p>The intersecting portion of the row is modified in the target workspace to equal that of the source row. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d26526e2559" headers="d26526e2538 ">
                                 <p>The <code class="codeph">validTill</code> value of the source row is not <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>, and the value for the target is <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d26526e2559 d26526e2541 ">
                                 <p>The intersecting portion of the row is modified and the resulting row has a <code class="codeph">validTill</code> value equal to that of the source row.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d26526e2578" headers="d26526e2538 ">
                                 <p>The <code class="codeph">validTill</code> value of the source row is <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>, and the value for the target row is not <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d26526e2578 d26526e2541 ">
                                 <p>The intersecting portion of the row is modified and the resulting row has a <code class="codeph">validTill</code> value equal to that of the target row.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d26526e2597" headers="d26526e2538 ">
                                 <p>The <code class="codeph">validTill</code> value of both the source and target rows are both <code class="codeph">DBMS_WM.UNTIL_CHANGED</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d26526e2597 d26526e2541 ">
                                 <p>The intersecting portion is modified and the resulting row has a <code class="codeph">validTill</code> value of DBMS_WM.UNTIL_CHANGED.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>For all cases in <a href="valid-time-support.html#GUID-65BA356D-F80E-4BF8-8F8E-CC9DD7128C19__CHDIHIID" title="validTill Values and Intersection Result from Merge or Refresh Operation. Column 1 is validTill Values, and column 2 is Intersection Result.">Table 3-3</a>, any non-intersecting portion of the target row is left unchanged. When there is no overlapping row in the target workspace, then no special consideration needs to be made; the row is merged or refreshed as is without any additional changes.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="valid-time-support.html#GUID-967E7CE5-A328-4BA7-AA7B-7899B6C99C01" title="This chapter describes the support for valid time, also known as effective dating, with version-enabled tables.">Workspace Manager Valid Time Support</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>