<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes cartridge services OCI external procedure functions.">
      <meta name="description" content="Lists and describes cartridge services OCI external procedure functions.">
      <title>Cartridge Services — OCI External Procedures</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes cartridge services OCI external procedure functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="intro-to-external-procedure-and-cartridge-services-functions.html" title="Previous" type="text/html">
      <link rel="next" href="cartridge-services-memory-services.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="intro-to-external-procedure-and-cartridge-services-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cartridge-services-memory-services.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-cartridge-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Cartridge Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Cartridge Services — OCI External Procedures</li>
            </ol>
            <a id="GUID-007174CE-B752-43A4-B771-575A77886496" name="GUID-007174CE-B752-43A4-B771-575A77886496"></a><a id="LNOCI17536"></a><a id="LNOCI191"></a>
            
            <h2 id="LNOCI-GUID-007174CE-B752-43A4-B771-575A77886496" class="sect2"><span class="enumeration_section">29.2 </span>Cartridge Services — OCI External Procedures
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes cartridge services OCI external procedure functions.</p>
               <div class="section">
                  <p><a href="cartridge-services-oci-external-procedures.html#GUID-007174CE-B752-43A4-B771-575A77886496__CIHJECEF" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 29-1</a> lists the OCI external procedure functions for C that are described in this section.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-007174CE-B752-43A4-B771-575A77886496__CIHJECEF">
                  <p class="titleintable">Table 29-1 External Procedures Functions</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="External Procedures Functions" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="61%" id="d284482e201">Function</th>
                           <th align="left" valign="bottom" width="39%" id="d284482e204">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d284482e209" headers="d284482e201 ">
                              <p><a href="cartridge-services-oci-external-procedures.html#GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375" title="Allocates N bytes of memory for the duration of the external procedure.">OCIExtProcAllocCallMemory()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d284482e209 d284482e204 ">
                              <p>Allocate memory for the duration of the External Procedure</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d284482e224" headers="d284482e201 ">
                              <p><a href="cartridge-services-oci-external-procedures.html#GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989" title="Gets the OCI environment, service context, and error handles.">OCIExtProcGetEnv()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d284482e224 d284482e204 ">
                              <p>Get the OCI environment, service context, and error handles</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d284482e236" headers="d284482e201 ">
                              <p><a href="cartridge-services-oci-external-procedures.html#GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A" title="Raises an Exception to PL/SQL.">OCIExtProcRaiseExcp()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d284482e236 d284482e204 ">
                              <p>Raise an Exception to PL/SQL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d284482e248" headers="d284482e201 ">
                              <p><a href="cartridge-services-oci-external-procedures.html#GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D" title="Raises an exception with a message.">OCIExtProcRaiseExcpWithMsg()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d284482e248 d284482e204 ">
                              <p>Raise an exception with a message</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17537"></a><div class="props_rev_3"><a id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375" name="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375"></a><h3 id="LNOCI-GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375" class="sect3"><span class="enumeration_section">29.2.1 </span>OCIExtProcAllocCallMemory()
               </h3>
               <div>
                  <p>Allocates <span class="italic">N</span> bytes of memory for the duration of the external procedure.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-5AA1D514-7CB1-4419-9A03-EFFCAAAC8F84">Purpose </p>
                     <p>Allocates <span class="italic">N</span> bytes of memory for the duration of the external procedure.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-90BDC3EA-F9A1-450C-A77D-6D036C59FB49">Syntax</p><pre class="oac_no_warn" dir="ltr">void  * OCIExtProcAllocCallMemory ( OCIExtProcContext    *with_context,
                                    size_t                amount );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-4C568721-DEF6-4E83-9866-C7044D0F7ABA">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-1A099A09-3FAD-49B4-BEE4-754FA90C2963">
                              <!-- --></a>with_context (IN)
                        </dt>
                        <dd>
                           <p>The <code class="codeph">with_context</code> pointer that is passed to the C external procedure. 
                           </p>
                           <p><code class="codeph">With_Context</code> Type — The C callable interface to PL/SQL external procedures requires the <code class="codeph">with_context</code> parameter to be passed. The type of this structure is <code class="codeph">OCIExtProcContext</code>, which is opaque to the user.
                           </p>
                           <p>The user can declare the <code class="codeph">with_context</code> parameter in the application as follows:
                           </p><pre class="oac_no_warn" dir="ltr">OCIExtProcContext *with_context;</pre></dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-0FF14980-1D09-436F-9746-9521BE151CB1">
                              <!-- --></a>amount (IN)
                        </dt>
                        <dd>
                           <p>The number of bytes to allocate.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-AC934C8B-7DDB-47A4-B19B-5C14CF0EBE4C">Comments</p>
                     <p>This call allocates <code class="codeph">amount</code> bytes of memory for the duration of the call of the external procedure.
                     </p>
                     <p>Any memory allocated by this call is freed by PL/SQL upon return from the external procedure. The application must not use any kind of <code class="codeph">free()</code> function on memory allocated by <code class="codeph">OCIExtProcAllocCallMemory()</code>. Use this function to allocate memory for function returns.
                     </p>
                     <p>A zero return value should be treated as an error.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-1E8D76F2-72FE-4E7B-9DEB-9B4EEE3C4280">Returns</p>
                     <p>An untyped (opaque) pointer to the allocated memory. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DE5CAC45-A11B-4C69-A922-989C6C69D375__GUID-07AB7BB2-F503-461E-885F-C1875B812C02">Example </p>
                     <p>Using OCIExtProcAllocCallMemory() to Allocate 1024 Bytes of Memory</p><pre class="oac_no_warn" dir="ltr">text *ptr = (text *)OCIExtProcAllocCallMemory(wctx, 1024)
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-memory-services.html#GUID-28AFBFE0-85BD-4940-A70B-72E3C037A59D" title="Allocates memory of a given size from a given duration.">OCIMemoryAlloc()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17540"></a><div class="props_rev_3"><a id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989" name="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989"></a><h3 id="LNOCI-GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989" class="sect3"><span class="enumeration_section">29.2.2 </span>OCIExtProcGetEnv()
               </h3>
               <div>
                  <p>Gets the OCI environment, service context, and error handles.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-346CCF57-CC23-4F7A-946A-EF4C24329BB7">Purpose</p>
                     <p>Gets the OCI environment, service context, and error handles.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-FF2A539B-77C7-4CDB-B1CC-81BCED0DB7D5">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtProcGetEnv ( OCIExtProcContext     *with_context, 
                         OCIEnv               **envh, 
                         OCISvcCtx            **svch, 
                         OCIError             **errh );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-800890F2-90A8-44AA-9693-B3A0B9B015C4">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-BDCE4FFB-394F-4E40-BC76-7D4CEEC4B852">
                              <!-- --></a>with_context (IN)
                        </dt>
                        <dd>
                           <p>The <code class="codeph">with_context</code> pointer that is passed to the C external procedure.
                           </p>
                           <p><code class="codeph">With_Context</code> Type — The C callable interface to PL/SQL external procedures requires the <code class="codeph">with_context</code> parameter to be passed. The type of this structure is <code class="codeph">OCIExtProcContext</code>, which is opaque to the user.
                           </p>
                           <p>The user can declare the <code class="codeph">with_context</code> parameter in the application as follows:
                           </p><pre class="oac_no_warn" dir="ltr">OCIExtProcContext *with_context;</pre></dd>
                        <dt class="dlterm"><a name="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-92EE0D17-8A75-450F-AF49-B1A1B5FBACBD">
                              <!-- --></a>envh (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a variable to store the OCI environment handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-3B5448A0-16AD-4800-98D4-7CFD44058DD9">
                              <!-- --></a>svch (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a variable to store the OCI service handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-135C7946-185E-4E46-A09E-9EE345604A10">
                              <!-- --></a>errh (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a variable to store the OCI error handle.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-B2116265-2D27-44B0-AB34-6A725C7C873B">Comments</p>
                     <p>The primary purpose of this function is to allow OCI callbacks to use the database in the same transaction. The OCI handles obtained by this function should be used in OCI callbacks to the database. If these handles are obtained through standard OCI calls, then these handles use a new connection to the database and cannot be used for callbacks in the same transaction. In one external procedure you can use either callbacks or a new connection, but not both.</p>
                     <p>Example of a call:</p><pre class="oac_no_warn" dir="ltr">OCIEnv    *envh;
OCISvcCtx *svch;
OCIError  *errh;
...
OCIExtProcGetEnv(ctx,&amp;envh,&amp;svch,&amp;errh);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D00BD91A-A9BA-4FA1-8EBB-5D028EDD1989__GUID-95EED298-E9D0-4DF2-BBBD-F13680685BB8">Returns</p>
                     <p>This function returns <code class="codeph">OCI_SUCCESS</code> if the call succeeds; otherwise, it returns <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="Allocates an array of descriptors.">OCIArrayDescriptorAlloc()</a></li>
                        <li><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17538"></a><div class="props_rev_3"><a id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A" name="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A"></a><h3 id="LNOCI-GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A" class="sect3"><span class="enumeration_section">29.2.3 </span>OCIExtProcRaiseExcp()
               </h3>
               <div>
                  <p>Raises an Exception to PL/SQL.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-82E1BFEF-BDB9-4F7E-982F-2E30A20BBE48">Purpose</p>
                     <p>Raises an Exception to PL/SQL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-66DE2057-9B18-45B0-A479-E528D5DD4D5A">Syntax</p><pre class="oac_no_warn" dir="ltr">size_t OCIExtProcRaiseExcp ( OCIExtProcContext    *with_context, 
                             int                   errnum );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-3D957895-1EA3-42C2-B168-0DABF2F24595">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-7078C4E4-41DA-4A41-9F6D-97021C661966">
                              <!-- --></a>with_context (IN)
                        </dt>
                        <dd>
                           <p>The <code class="codeph">with_context</code> pointer that is passed to the C external procedure. 
                           </p>
                           <p><code class="codeph">With_Context</code> Type — The C callable interface to PL/SQL external procedures requires the <code class="codeph">with_context</code> parameter to be passed. The type of this structure is <code class="codeph">OCIExtProcContext</code>, which is opaque to the user.
                           </p>
                           <p>The user can declare the <code class="codeph">with_context</code> parameter in the application as follows:
                           </p><pre class="oac_no_warn" dir="ltr">OCIExtProcContext *with_context;</pre></dd>
                     </dl>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-A8DF317D-7AB6-43B7-8C55-96AF990BBB20">
                              <!-- --></a>errnum (IN)
                        </dt>
                        <dd>
                           <p>Oracle Database error number to signal to PL/SQL. The <code class="codeph">errnum</code> value must be a positive number and in the range 1 to 32767.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-2F7E9FCC-5A5D-4067-8AF8-E42D7AD6817E">Comments</p>
                     <p>Calling this function signals an exception to PL/SQL. After a successful return from this function, the external procedure must start its exit handling and return to PL/SQL. Once an exception is signaled to PL/SQL, IN/OUT and OUT arguments, if any, are not processed at all. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A__GUID-F26BE7E1-2304-40C4-80CF-963E98550416">Returns</p>
                     <p>This function returns <code class="codeph">OCIEXTPROC_SUCCESS</code> if the call succeeds. It returns <code class="codeph">OCIEXTPROC_ERROR</code> if the call fails.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-oci-external-procedures.html#GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D" title="Raises an exception with a message.">OCIExtProcRaiseExcpWithMsg()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17539"></a><div class="props_rev_3"><a id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D" name="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D"></a><h3 id="LNOCI-GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D" class="sect3"><span class="enumeration_section">29.2.4 </span>OCIExtProcRaiseExcpWithMsg()
               </h3>
               <div>
                  <p>Raises an exception with a message.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-9587738D-17D0-4B36-95C7-91F8FFD1D25A">Purpose</p>
                     <p>Raises an exception with a message.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-7AB171ED-94C7-44C9-8EAD-3E30164215C7">Syntax</p><pre class="oac_no_warn" dir="ltr">size_t OCIExtProcRaiseExcpWithMsg ( OCIExtProcContext    *with_context,
                                    int                   errnum, 
                                    char                 *errmsg, 
                                    size_t                msglen );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-6B2B6CBD-A7DA-446E-8D70-3D6AD1423CD2">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-CFE601C8-CC31-4CD9-8908-0184E64F0271">
                              <!-- --></a>with_context (IN)
                        </dt>
                        <dd>
                           <p>The <code class="codeph">with_context</code> pointer that is passed to the C external procedure. 
                           </p>
                           <p><code class="codeph">With_Context</code> Type — The C callable interface to PL/SQL external procedures requires the <code class="codeph">with_context</code> parameter to be passed. The type of this structure is <code class="codeph">OCIExtProcContext</code>, which is opaque to the user.
                           </p>
                           <p>The user can declare the <code class="codeph">with_context</code> parameter in the application as follows:
                           </p><pre class="oac_no_warn" dir="ltr">OCIExtProcContext *with_context;</pre></dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <dl>
                        <dt class="dlterm"><a name="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-377EB83D-BAAE-4FF8-ACA3-E7FF87480A4B">
                              <!-- --></a>errnum (IN)
                        </dt>
                        <dd>
                           <p>Oracle Database error number to signal to PL/SQL. The value of <code class="codeph">errnum</code> must be a positive number and in the range 1 to 32767
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-60070D13-F81D-4E1E-AD8B-E44DB6565867">
                              <!-- --></a>errmsg (IN)
                        </dt>
                        <dd>
                           <p>The error message associated with <code class="codeph">errnum</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-6E63F862-38CD-4BEA-9C4F-CDB312450666">
                              <!-- --></a>msglen (IN)
                        </dt>
                        <dd>
                           <p>The length of the error message. Pass zero if <code class="codeph">errmsg</code> is a <code class="codeph">NULL</code>-terminated string.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-F32198ED-9B83-41BC-BC06-A6CF11BD9590">Comments</p>
                     <p>This call raises an exception to PL/SQL. In addition, it substitutes the following error message string within the standard Oracle Database error message string. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70DBA75B-CF79-4486-9EFE-5B8A5E4BFF2D__GUID-7207953F-81B4-4C46-8EDD-4AE4E27E4208">Returns</p>
                     <p>This function returns <code class="codeph">OCIEXTPROC_SUCCESS</code> if the call succeeds. It returns <code class="codeph">OCIEXTPROC_ERROR</code> if the call fails.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-oci-external-procedures.html#GUID-4EF61D85-E770-4C46-8902-086DCD9B3B8A" title="Raises an Exception to PL/SQL.">OCIExtProcRaiseExcp()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>