<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Introduces partitioned model to organise and represent multiple models.">
      <meta name="description" content="Introduces partitioned model to organise and represent multiple models.">
      <title>About Partitioned Model</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="API Guide">
      <meta property="og:description" content="Introduces partitioned model to organise and represent multiple models.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="API Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E97869-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE_MODEL-procedure.html" title="Previous" type="text/html">
      <link rel="next" href="specifying-model-settings.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide">
    <meta name="dcterms.isVersionOf" content="DMAPI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE_MODEL-procedure.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="specifying-model-settings.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-data-mining-API.html" property="item" typeof="WebPage"><span property="name">Using the Data Mining API</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="model-creation.html" property="item" typeof="WebPage"><span property="name">Creating a Model </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="CREATE_MODEL-procedure.html" property="item" typeof="WebPage"><span property="name">The CREATE_MODEL Procedure</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">About Partitioned Model</li>
            </ol>
            <a id="GUID-02417CD8-80E8-4324-9E5E-2BE2DCE29527" name="GUID-02417CD8-80E8-4324-9E5E-2BE2DCE29527"></a>
            
            <h2 id="DMAPI-GUID-02417CD8-80E8-4324-9E5E-2BE2DCE29527" class="sect2"><span class="enumeration_section">31.2.4 </span>About Partitioned Model
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Introduces partitioned model to organise and represent multiple models. </p>
               <p>Oracle Data Mining supports building of a persistent Oracle Data Mining partitioned model. A partitioned model organizes and represents multiple models as partitions in a single model entity, enabling a user to easily build and manage models tailored to independent slices of data. Persistent means that the partitioned model has an on-disk representation. The product manages the organization of the partitioned model and simplifies the process of scoring the partitioned model. You must include the partition columns as part of the <code class="codeph">USING</code> clause when scoring.
               </p>
               <p>The partition names, key values, and the structure of the partitioned model are visible in the <code>ALL_MINING_MODEL_PARTITIONS</code> view.
               </p>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="../refrn/ALL_MINING_MODEL_PARTITIONS.html#REFRN-GUID-0CCF85F3-F89A-4E65-88DC-18ABB3B472FD" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                     <li><a href="../dmprg/partitioned-model.html#DMPRG-GUID-33B1B825-7E5C-4281-B505-F3F3A510423B" target="_blank"><span><cite>Oracle Data Mining Userâ€™s Guide</cite></span></a></li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-33B1B825-7E5C-4281-B505-F3F3A510423B" name="GUID-33B1B825-7E5C-4281-B505-F3F3A510423B"></a><h3 id="DMAPI-GUID-33B1B825-7E5C-4281-B505-F3F3A510423B" class="sect3"><span class="enumeration_section">31.2.4.1 </span>Partitioned Model Build Process
               </h3>
               <div>
                  <p>To build a Partitioned Model, Oracle Data Mining requires a partitioning key. The partition key is set through a build setting in the settings table.</p>
                  <p>The partitioning key is a comma-separated list of one or more columns (up to 16) from the input data set. The partitioning key horizontally slices the input data based on discrete values of the partitioning key. That is, partitioning is performed as list values as opposed to range partitioning against a continuous value. The partitioning key supports only columns of the data type <code class="codeph">NUMBER</code> and <code class="codeph">VARCHAR2</code>.
                  </p>
                  <p>During the build process the input data set is partitioned based on the distinct values of the specified key. Each data slice (unique key value) results in its own model partition. This resultant model partition is not separate and is not visible to you as a standalone model. The default value of the maximum number of partitions for partitioned models is <code class="codeph">1000</code> partitions. You can also set a different maximum partitions value. If the number of partitions in the input data set exceed the defined maximum, Oracle Data Mining throws an exception.
                  </p>
                  <p>The Partitioned Model organizes features common to all partitions and the partition specific features. The common features consist of the following metadata:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The model name</p>
                     </li>
                     <li>
                        <p>The mining function</p>
                     </li>
                     <li>
                        <p>The mining algorithm</p>
                     </li>
                     <li>
                        <p>A super set of all mining model attributes referenced by all partitions (signature)</p>
                     </li>
                     <li>
                        <p>A common set of user-defined column transformations</p>
                     </li>
                     <li>
                        <p>Any user-specified or default build settings that are interpreted as global. For example, the Auto Data Preparation (ADP) setting</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-7DEC2A09-F133-45D9-9749-032D4D9D33E4" name="GUID-7DEC2A09-F133-45D9-9749-032D4D9D33E4"></a><h3 id="DMAPI-GUID-7DEC2A09-F133-45D9-9749-032D4D9D33E4" class="sect3"><span class="enumeration_section">31.2.4.2 </span>DDL in Partitioned model
               </h3>
               <div>
                  <div class="p">Partitioned models are maintained through the following DDL operations:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="partitioned-model.html#GUID-3ABA6294-1257-492C-B6D3-F60AA143E431" title="Oracle Data Mining supports dropping a single model partition for a given partition name.">Drop model or drop partition</a></p>
                        </li>
                        <li>
                           <p><a href="partitioned-model.html#GUID-F532FABD-EBFF-4B07-8D2A-4B11FA87B974" title="Oracle Data Mining supports adding a single partition or multiple partitions to an existing partitioned model.">Add partition</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3ABA6294-1257-492C-B6D3-F60AA143E431" name="GUID-3ABA6294-1257-492C-B6D3-F60AA143E431"></a><h4 id="DMAPI-GUID-3ABA6294-1257-492C-B6D3-F60AA143E431" class="sect4"><span class="enumeration_section">31.2.4.2.1 </span>Drop Model or Drop Partition
                  </h4>
                  <div>
                     <p>Oracle Data Mining supports dropping a single model partition for a given partition name.</p>
                     <p>If only a single partition remains, you cannot explicitly drop that partition. Instead, you must either add additional partitions prior to dropping the partition or you may choose to drop the model itself. When dropping a partitioned model, all partitions are dropped in a single atomic operation. From a performance perspective, Oracle recommends <code class="codeph">DROP_PARTITION</code> followed by an <code class="codeph">ADD_PARTITION</code> instead of leveraging the <code class="codeph">REPLACE</code> option due to the efficient behavior of the <code class="codeph">DROP_PARTITION</code> option.
                     </p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F532FABD-EBFF-4B07-8D2A-4B11FA87B974" name="GUID-F532FABD-EBFF-4B07-8D2A-4B11FA87B974"></a><h4 id="DMAPI-GUID-F532FABD-EBFF-4B07-8D2A-4B11FA87B974" class="sect4"><span class="enumeration_section">31.2.4.2.2 </span>Add Partition
                  </h4>
                  <div>
                     <p>Oracle Data Mining supports adding a single partition or multiple partitions to an existing partitioned model.</p>
                     <p>The addition occurs based on the input data set and the name of the existing partitioned model. The operation takes the input data set and the existing partitioned model as parameters. The partition keys are extracted from the input data set and the model partitions are built against the input data set. These partitions are added to the partitioned model. In the case where partition keys for new partitions conflict with the existing partitions in the model, you can select from the following three approaches to resolve the conflicts:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ERROR</code>: Terminates the ADD operation without adding any partitions.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">REPLACE</code>: Replaces the existing partition for which the conflicting keys are found.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IGNORE</code>: Eliminates the rows having the conflicting keys.
                           </p>
                        </li>
                     </ul>
                     <p>If the input data set contains multiple keys, then the operation creates multiple partitions. If the total number of partitions in the model increases to more than the user-defined maximum specified when the model was created, then you get an error. The default threshold value for the number of partitions is <code class="codeph">1000</code>.
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-41711477-0792-4232-BCE2-74C7258E738A" name="GUID-41711477-0792-4232-BCE2-74C7258E738A"></a><h3 id="DMAPI-GUID-41711477-0792-4232-BCE2-74C7258E738A" class="sect3"><span class="enumeration_section">31.2.4.3 </span>Partitioned Model scoring
               </h3>
               <div>
                  <p>Learn about scoring of a partitioned model. </p>
                  <p>The scoring of the partitioned model is the same as that of the non-partitioned model. The syntax of the data mining function remains the same but is extended to provide an optional hint to you. The optional hint can impact the performance of a query which involves scoring a partitioned model.</p>
                  <p>For scoring a partitioned model, the signature columns used during the build for the partitioning key must be present in the scoring data set. These columns are combined to form a unique partition key. The unique key is then mapped to a specific underlying model partition, and the identified model partition is used to score that row.</p>
                  <p>The partitioned objects that are necessary for scoring are loaded on demand during the query execution and are aged out depending on the System Global Area (SGA) memory. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../sqlrf/PREDICTION.html#SQLRF-GUID-DA66A1C3-BFB2-43A1-A3FF-93D4A3DAB9C6" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>