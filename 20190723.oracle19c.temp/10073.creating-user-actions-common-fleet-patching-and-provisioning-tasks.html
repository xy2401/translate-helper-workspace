<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can install and configure any type of software using Fleet Patching and Provisioning user actions. Review this procedure to automate deployment of Apache Web Server using Fleet Patching and Provisioning.">
      <meta name="description" content="You can install and configure any type of software using Fleet Patching and Provisioning user actions. Review this procedure to automate deployment of Apache Web Server using Fleet Patching and Provisioning.">
      <title>Creating a User Action to Deploy a Web Server</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Deploying and Managing Oracle Software Using Fleet Patching and Provisioning">
      <meta property="og:description" content="You can install and configure any type of software using Fleet Patching and Provisioning user actions. Review this procedure to automate deployment of Apache Web Server using Fleet Patching and Provisioning.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Deploying and Managing Oracle Software Using Fleet Patching and Provisioning">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="deploying-and-managing-oracle-software-using-fleet-patching-and-provisioning.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-23T01:07:08-08:00">
      <meta name="dcterms.title" content="Deploying and Managing Oracle Software Using Fleet Patching and Provisioning">
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96441-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="adding-node-cluster-and-extending-oracle-rac-database-node.html" title="Previous" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="SPRHP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="adding-node-cluster-and-extending-oracle-rac-database-node.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="#" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Deploying and Managing Oracle Software Using Fleet Patching and Provisioning</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="fleet-patching-and-provisioning-use-cases.html" property="item" typeof="WebPage"><span property="name">Fleet Patching and Provisioning Use Cases</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Creating a User Action to Deploy a Web Server</li>
            </ol>
            <a id="GUID-ED72B0AF-5D45-43CC-AF03-8399D1FBC7F6" name="GUID-ED72B0AF-5D45-43CC-AF03-8399D1FBC7F6"></a>
            
            <h2 id="SPRHP-GUID-ED72B0AF-5D45-43CC-AF03-8399D1FBC7F6" class="sect2">Creating a User Action to Deploy a Web Server</h2>
         </header>
         <div class="ind">
            <div>
               <p>You can install and configure any type of software using Fleet Patching and Provisioning user actions. Review this procedure to automate deployment of Apache Web Server using Fleet Patching and Provisioning.</p>
               <div class="section">Fleet Patching and Provisioning supports creation of work flows to deploy and manage all types of software.</div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>Create the script to install Apache Web server:</span><ol type="a">
                        <li><span>On the Fleet Patching and Provisioning Server, download and extract the Apache Web server installation kit.</span></li>
                        <li><span>Create the script to install, configure, and start the Apache Web server. </span></li>
                     </ol>
                  </li>
                  <li class="stepexpand"><span>Register the script as a user action with Fleet Patching and Provisioning. Run the following command from the Fleet Patching and Provisioning Server:</span><div><pre class="pre codeblock"><code>rhpctl useraction -useraction apachestart 
-actionscript /user1/useractions/apacheinstall.sh 
-post -optype ADD_WORKINGCOPY -onerror ABORT</code></pre><p>The command adds the <code class="codeph">apachestart</code> user action for the action script stored in the specified directory. As per the specified properties, the user action runs after the <code class="codeph">ADD_WORKINGCOPY</code> operation and aborts if there is any error.
                        </p>
                     </div>
                  </li>
                  <li class="stepexpand"><span>Create an image type and associate the user action with the image type:</span><div><pre class="pre codeblock"><code>rhpctl add imagetype -imagetype apachetype -basetype SOFTWARE 
-useraction "apachestart"</code></pre><p>The command creates a new image type called <code class="codeph">apachetype</code>, a derivative of the basic image type <code class="codeph">SOFTWARE</code> with an associated user action <code class="codeph">apacherstart</code>.
                        </p>
                     </div>
                  </li>
                  <li class="stepexpand"><span>Create a gold image of the image type:</span><div><pre class="pre codeblock"><code>rhpctl import image -image apacheinstall -path /user1/apache2219_kit/ 
-imagetype apachetype</code></pre><p>The command creates a gold image <code class="codeph">apacheinstall</code> with the script for Apache Web server installation, in the specified path based on the <code class="codeph">imagetype</code> created earlier.
                        </p>
                     </div>
                     <div>To view the properties of this image, run the <code class="codeph">rhpctl query image -image apacheinstall</code> command.
                     </div>
                  </li>
                  <li class="stepexpand"><span>Deploy a working copy of the gold image on the target:</span><div><pre class="pre codeblock"><code>rhpctl add workingcopy -workingcopy apachecopy -image apacheinstall 
-path /user1/apacheinstallloc -sudouser user1 
-sudopath /usr/local/bin/sudo -node node1 -user user1 
-useractiondata "/user1/apachehome:1080:2.2.19</code></pre><p>Fleet Patching and Provisioning provisions the software to the target and runs the script <code class="codeph">apachestart</code> specified in the user action. You provide the Apache Web server configuration details such as port number with the <code class="codeph">useractiondata</code> option. If the target is a Fleet Patching and Provisioning Client, then you need not specify <code class="codeph">sudo</code> credentials.
                        </p>
                     </div>
                  </li>
               </ol>
               <div class="section">You can create other user actions and automate installation and configuration of software homes using Fleet Patching and Provisioning.</div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="fleet-patching-and-provisioning-use-cases.html" title="Review these topics for step-by-step procedures to provision, patch, and upgrade your software using Fleet Patching and Provisioning.">Fleet Patching and Provisioning Use Cases</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>