<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SQLTUNE package provides an interface to manage SQL tuning sets.">
      <meta name="description" content="The DBMS_SQLTUNE package provides an interface to manage SQL tuning sets.">
      <title>DBMS_SQLSET</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SQLTUNE package provides an interface to manage SQL tuning sets.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_SQLQ.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SQLTUNE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQLQ.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SQLTUNE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SQLSET</li>
            </ol>
            <a id="GUID-DFF30D13-6724-46FC-B711-91C0A59EB1E1" name="GUID-DFF30D13-6724-46FC-B711-91C0A59EB1E1"></a>
            
            <h2 id="ARPLS-GUID-DFF30D13-6724-46FC-B711-91C0A59EB1E1" class="sect2"><span class="enumeration_chapter">162 </span>DBMS_SQLSET
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_SQLTUNE</code> package provides an interface to manage SQL tuning sets.
               </p>
               <p>This package provides the same subprograms, although in some cases with slightly different names, as the SQL tuning set subprograms in <code class="codeph">DBMS_SQLTUNE</code>. The difference is that <code class="codeph">DBMS_SQLSET</code> does not require the Oracle Tuning Pack.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SQLSET.html#GUID-69FACBF6-81B2-4023-8B7C-F057B2936AF1" title="Use this package to manage SQL tuning sets.">DBMS_SQLSET Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLSET.html#GUID-2690BA8B-3598-4304-927C-2012BF4647C2" title="This package is available to PUBLIC and performs its own security checking.">DBMS_SQLSET Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLSET.html#GUID-97984C4A-BACE-4FAC-A9C2-5D872BF2B7C9" title="The SELECT_* subprograms in the DBMS_SQLTUNE package return objects of the SQLSET_ROW type.">DBMS_SQLSET Data Structures</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLSET.html#GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31" title="This table lists the DBMS_SQLSET subprograms and briefly describes them.">Summary of DBMS_SQLSET Subprograms</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-69FACBF6-81B2-4023-8B7C-F057B2936AF1" name="GUID-69FACBF6-81B2-4023-8B7C-F057B2936AF1"></a><h3 id="ARPLS-GUID-69FACBF6-81B2-4023-8B7C-F057B2936AF1" class="sect3"><span class="enumeration_section">162.1 </span>DBMS_SQLSET Overview
               </h3>
               <div>
                  <p>Use this package to manage SQL tuning sets. </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-69FACBF6-81B2-4023-8B7C-F057B2936AF1__GUID-5EB347B3-6508-4895-BC70-815D432844B0">
                        <p class="notep1">Note:</p>
                        <p>All <code class="codeph">DBMS_SQLSET</code> subprograms have equivalents in the <code class="codeph">DBMS_SQLTUNE</code> package.
                        </p>
                     </div>
                     <p>SQL tuning sets store SQL statements along with the following information:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The execution context, such as the parsing schema name and bind values</p>
                        </li>
                        <li>
                           <p>Execution statistics such as average elapsed time and execution count</p>
                        </li>
                        <li>
                           <p>Execution plans, which are the sequence of operations that the database performs to run SQL statements</p>
                        </li>
                        <li>
                           <p>Row source statistics such as the number of rows processed for each operation executed within the plan</p>
                        </li>
                     </ul>
                     <p>You can create SQL tuning sets by filtering or ranking SQL statements from several sources:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The shared SQL area using the <a href="DBMS_SQLSET.html#GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57" title="This function collects SQL statements from the shared SQL area.">SELECT_CURSOR_CACHE Function</a></p>
                        </li>
                        <li>
                           <p>Top SQL statements from the Automatic Workload Repository using the <a href="DBMS_SQLSET.html#GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8" title="This function collects SQL statements from the workload repository.">SELECT_WORKLOAD_REPOSITORY Function</a></p>
                        </li>
                        <li>
                           <p>Other SQL tuning sets using the <a href="DBMS_SQLSET.html#GUID-9D995019-91AB-4B1E-9EAF-031050789B21" title="This is a table function that reads the contents of a SQL tuning set.">SELECT_SQLSET Function</a></p>
                        </li>
                        <li>
                           <p>SQL Performance Analyzer task comparison results using the <a href="DBMS_SQLSET.html#GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0" title="This function collects SQL statements from a SQL Performance Analyzer comparison task.">SELECT_SQLPA_TASK Function</a></p>
                        </li>
                        <li>
                           <p>SQL Trace files using the <a href="DBMS_SQLSET.html#GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649" title="This table function reads the content of one or more trace files and returns the SQL statements it finds in the format of sqlset_row.">SELECT_SQL_TRACE Function</a></p>
                        </li>
                        <li>
                           <p>A user-defined workload</p>
                        </li>
                     </ul>
                     <p>The complete group of subprograms listed in <a href="DBMS_SQLSET.html#GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31" title="This table lists the DBMS_SQLSET subprograms and briefly describes them.">Summary of DBMS_SQLSET Subprograms</a> facilitates this functionality. As examples:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <a href="DBMS_SQLSET.html#GUID-86F56216-7D47-4889-96D6-FC817E8AF44C" title="This procedure or function creates a SQL tuning set object in the database.">CREATE_SQLSET Procedure and Function</a> creates a SQL tuning set object in the database.
                           </p>
                        </li>
                        <li>
                           <p>The <a href="DBMS_SQLSET.html#GUID-75C4DB0B-519B-47B5-B42B-AF021F876428" title="This procedure populates the SQL tuning set with a set of selected SQL statements. You can call the procedure multiple times to add new SQL statements or replace attributes of existing statements.">LOAD_SQLSET Procedure</a> populates the SQL tuning set with a set of selected SQL.
                           </p>
                        </li>
                        <li>
                           <p>The <a href="DBMS_SQLSET.html#GUID-33AEFA37-9383-443E-8621-03711438430F" title="This procedure captures a workload from the shared SQL area into a SQL tuning set.">CAPTURE_CURSOR_CACHE Procedure</a> collects SQL statements from the shared SQL area over a specified time interval, attempting to build a realistic picture of database workload.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-2690BA8B-3598-4304-927C-2012BF4647C2" name="GUID-2690BA8B-3598-4304-927C-2012BF4647C2"></a><h3 id="ARPLS-GUID-2690BA8B-3598-4304-927C-2012BF4647C2" class="sect3"><span class="enumeration_section">162.2 </span>DBMS_SQLSET Security Model
               </h3>
               <div>
                  <p>This package is available to <code class="codeph">PUBLIC</code> and performs its own security checking.
                  </p>
                  <div class="section">
                     <p>SQL tuning set subprograms require either the <code class="codeph">ADMINISTER SQL TUNING SET</code> or the <code class="codeph">ADMINISTER ANY SQL TUNING SET</code> privilege. Users having the <code class="codeph">ADMINISTER SQL TUNING SET</code> privilege can only create and modify a SQL tuning set that they own. The <code class="codeph">ADMINISTER ANY SQL TUNING SET</code> privilege allows users to manipulate all SQL tuning sets, even those owned by other users. For example, you can use <a href="DBMS_SQLSET.html#GUID-86F56216-7D47-4889-96D6-FC817E8AF44C" title="This procedure or function creates a SQL tuning set object in the database.">CREATE_SQLSET Procedure and Function</a> to create a SQL tuning set to be owned by a different user. In this case, the different user need not have the <code class="codeph">ADMINISTER SQL TUNING SET</code> privilege to manipulate the SQL tuning set.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-97984C4A-BACE-4FAC-A9C2-5D872BF2B7C9" name="GUID-97984C4A-BACE-4FAC-A9C2-5D872BF2B7C9"></a><h3 id="ARPLS-GUID-97984C4A-BACE-4FAC-A9C2-5D872BF2B7C9" class="sect3"><span class="enumeration_section">162.3 </span>DBMS_SQLSET Data Structures
               </h3>
               <div>
                  <p>The <code class="codeph">SELECT_<span class="codeinlineitalic">*</span></code> subprograms in the <code class="codeph">DBMS_SQLTUNE</code> package return objects of the <code class="codeph">SQLSET_ROW</code> type.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-97984C4A-BACE-4FAC-A9C2-5D872BF2B7C9__GUID-821BE719-B8A5-43DB-BCCA-8D49306ACF68">Object Types</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_SQLTUNE.html#GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C" title="The SQLSET_ROW object models the content of a SQL tuning set for the user.">SQLSET_ROW Object Type</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS68385"></a><a id="ARPLS68386"></a><a id="ARPLS68386"></a><a id="ARPLS68385"></a><div class="props_rev_3"><a id="GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C" name="GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C"></a><h4 id="ARPLS-GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C" class="sect4"><span class="enumeration_section">162.3.1 </span>SQLSET_ROW Object Type
                  </h4>
                  <div>
                     <p>The <code class="codeph">SQLSET_ROW</code> object models the content of a SQL tuning set for the user.
                     </p>
                     <div class="section">
                        <p>Logically, a SQL tuning set is a collection of <code class="codeph">SQLSET_ROW</code> objects. Each <code class="codeph">SQLSET_ROW</code> contains a single SQL statement along with its execution context, statistics, binds, and plan. The <code class="codeph">SELECT_<span class="codeinlineitalic">*</span></code> subprograms each model a data source as a collection of <code class="codeph">SQLSET_ROW</code> objects, with each object uniquely identified by (<code class="codeph">sql_id</code>, <code class="codeph">plan_hash_value</code>). Similarly, the <code class="codeph">LOAD_SQLSET</code> procedure takes as input a cursor whose row type is <code class="codeph">SQLSET_ROW</code>, treating each <code class="codeph">SQLSET_ROW</code> in isolation according to the policies requested by the user.
                        </p>
                        <p>Several subprograms package accept basic filters on the content of a SQL tuning set or data source. These filters are expressed in terms of the attributes within the <code class="codeph">SQLSET_ROW</code> as defined.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C__GUID-CD530571-1772-407A-B5DB-86B3DAF88175">Syntax</p><pre class="pre codeblock"><code>CREATE TYPE sqlset_row AS object (
  sql_id                   VARCHAR(13),
  force_matching_signature NUMBER,
  sql_text                 CLOB,
  object_list              sql_objects,
  bind_data                RAW(2000),
  parsing_schema_name      VARCHAR2(30),
  module                   VARCHAR2(48),
  action                   VARCHAR2(32),
  elapsed_time             NUMBER,
  cpu_time                 NUMBER,
  buffer_gets              NUMBER,
  disk_reads               NUMBER,
  direct_writes            NUMBER,
  rows_processed           NUMBER,
  fetches                  NUMBER,
  executions               NUMBER,
  end_of_fetch_count       NUMBER,
  optimizer_cost           NUMBER,
  optimizer_env            RAW(2000),
  priority                 NUMBER,
  command_type             NUMBER,
  first_load_time          VARCHAR2(19),
  stat_period              NUMBER,
  active_stat_period       NUMBER,
  other                    CLOB,
  plan_hash_value          NUMBER,
  sql_plan                 sql_plan_table_type,
  bind_list                sql_binds,
  con_dbid                 NUMBER,
  last_exec_start_time     VARCHAR2(19))</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C__GUID-01650B47-07E4-4203-BFBB-BF3825608295">Attributes</p>
                        <div class="tblformal" id="GUID-1F4AFB03-7B29-46FC-B3F2-CB01EC36326C__GUID-B159696E-3E91-4C70-9913-ADA275EDBE5F">
                           <p class="titleintable">Table 162-1 SQLSET_ROW Attributes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQLSET_ROW Attributes" summary="This table describes the fields of the SQLSET_ROW Object Type and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e811">Attribute</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e814">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e819" headers="d917986e811 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e819 d917986e814 ">
                                       <p>Unique SQL ID.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e827" headers="d917986e811 ">
                                       <p><code class="codeph">forcing_matching_signature</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e827 d917986e814 ">
                                       <p>Signature with literals, case, and whitespace removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e835" headers="d917986e811 ">
                                       <p><code class="codeph">sql_text</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e835 d917986e814 ">
                                       <p>Full text for the SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e843" headers="d917986e811 ">
                                       <p><code class="codeph">object_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e843 d917986e814 ">
                                       <p>Currently not implemented.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e851" headers="d917986e811 ">
                                       <p><code class="codeph">bind_data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e851 d917986e814 ">
                                       <p>Bind data as captured for this SQL. Note that you cannot stipulate an argument for this parameter and also for <code class="codeph">bind_list</code> - they are mutually exclusive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e862" headers="d917986e811 ">
                                       <p><code class="codeph">parsing_schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e862 d917986e814 ">
                                       <p>Schema where the SQL is parsed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e870" headers="d917986e811 ">
                                       <p><code class="codeph">module</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e870 d917986e814 ">
                                       <p>Last application module for the SQL.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e878" headers="d917986e811 ">
                                       <p><code class="codeph">action</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e878 d917986e814 ">
                                       <p>Last application action for the SQL.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e886" headers="d917986e811 ">
                                       <p><code class="codeph">elapsed_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e886 d917986e814 ">
                                       <p>Sum total elapsed time for this SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e894" headers="d917986e811 ">
                                       <p><code class="codeph">cpu_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e894 d917986e814 ">
                                       <p>Sum total CPU time for this SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e902" headers="d917986e811 ">
                                       <p><code class="codeph">buffer_gets</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e902 d917986e814 ">
                                       <p>Sum total number of buffer gets.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e911" headers="d917986e811 ">
                                       <p><code class="codeph">disk_reads</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e911 d917986e814 ">
                                       <p>Sum total number of disk reads.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e919" headers="d917986e811 ">
                                       <p><code class="codeph">direct_writes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e919 d917986e814 ">
                                       <p>Sum total number of direct path writes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e927" headers="d917986e811 ">
                                       <p><code class="codeph">rows_processed</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e927 d917986e814 ">
                                       <p>Sum total number of rows processed by this SQL.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e935" headers="d917986e811 ">
                                       <p><code class="codeph">fetches</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e935 d917986e814 ">
                                       <p>Sum total number of fetches.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e943" headers="d917986e811 ">
                                       <p><code class="codeph">executions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e943 d917986e814 ">
                                       <p>Total executions of this SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e951" headers="d917986e811 ">
                                       <p><code class="codeph">end_of_fetch_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e951 d917986e814 ">
                                       <p>Number of times the SQL statement was fully executed with all of its rows fetched.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e959" headers="d917986e811 ">
                                       <p><code class="codeph">optimizer_cost</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e959 d917986e814 ">
                                       <p>Optimizer cost for this SQL.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e967" headers="d917986e811 ">
                                       <p><code class="codeph">optimizer_env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e967 d917986e814 ">
                                       <p>Optimizer environment for this SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e975" headers="d917986e811 ">
                                       <p><code class="codeph">priority</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e975 d917986e814 ">
                                       <p>User-defined priority (1,2,3).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e983" headers="d917986e811 ">
                                       <p><code class="codeph">command_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e983 d917986e814 ">
                                       <p>Statement type, such as <code class="codeph">INSERT</code> or <code class="codeph">SELECT</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e997" headers="d917986e811 ">
                                       <p><code class="codeph">first_load_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e997 d917986e814 ">
                                       <p>Load time of the parent cursor.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1006" headers="d917986e811 ">
                                       <p><code class="codeph">stat_period</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1006 d917986e814 ">
                                       <p>Period of time (seconds) when the statistics of this SQL statement were collected.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1014" headers="d917986e811 ">
                                       <p><code class="codeph">active_stat_period</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1014 d917986e814 ">
                                       <p>Effective period of time (in seconds) during which the SQL statement was active.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1022" headers="d917986e811 ">
                                       <p><code class="codeph">other</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1022 d917986e814 ">
                                       <p>Other column for user-defined attributes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1030" headers="d917986e811 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1030 d917986e814 ">
                                       <p>Plan hash value of the plan.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1038" headers="d917986e811 ">
                                       <p><code class="codeph">sql_plan</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1038 d917986e814 ">
                                       <p>Execution plan for the SQL statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1047" headers="d917986e811 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1047 d917986e814 ">
                                       <p>List of user-specified binds for the SQL statement. This is used for user-specified workloads. Note that you cannot stipulate an argument for this parameter and also for <code class="codeph">bind_data</code>: they are mutually exclusive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1058" headers="d917986e811 ">
                                       <p><code class="codeph">con_dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1058 d917986e814 ">
                                       <p>DBID of the PDB or CDB root.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1066" headers="d917986e811 ">
                                       <p><code class="codeph">last_exec_start_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1066 d917986e814 ">
                                       <p>Most recent execution start time of this SQL statement.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31" name="GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31"></a><h3 id="ARPLS-GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31" class="sect3"><span class="enumeration_section">162.4 </span>Summary of DBMS_SQLSET Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_SQLSET</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-89A098DD-7445-46A5-BF71-E0DCE85BEC31__GUID-5AD6863C-549E-48A2-AE60-77CB02ABF121">
                     <p class="titleintable">Table 162-2 DBMS_SQLSET Package Subprograms </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLSET Package Subprograms " summary="This table lists the DBMS_SQLSET subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="51%" id="d917986e1176">Subprogram</th>
                              <th align="left" valign="bottom" width="49%" id="d917986e1179">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1184" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3" title="This procedure adds a new reference to an existing SQL tuning set to indicate its use by a client.">ADD_REFERENCE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1184 d917986e1179 ">
                                 <p><span>This procedure adds a new reference to an existing SQL tuning set to indicate its use by a client.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1197" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-33AEFA37-9383-443E-8621-03711438430F" title="This procedure captures a workload from the shared SQL area into a SQL tuning set.">CAPTURE_CURSOR_CACHE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1197 d917986e1179 ">
                                 <p><span>This procedure captures a workload from the shared SQL area into a SQL tuning set.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1210" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-86F56216-7D47-4889-96D6-FC817E8AF44C" title="This procedure or function creates a SQL tuning set object in the database.">CREATE_SQLSET Procedure and Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1210 d917986e1179 ">
                                 <p><span>This procedure or function creates a SQL tuning set object in the database.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1223" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF" title="This procedure creates a staging table through which SQL tuning sets are imported and exported.">CREATE_STGTAB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1223 d917986e1179 ">
                                 <p><span>This procedure creates a staging table through which SQL tuning sets are imported and exported.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1236" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5" title="This procedure deletes a set of SQL statements from a SQL tuning set.">DELETE_SQLSET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1236 d917986e1179 ">
                                 <p><span>This procedure deletes a set of SQL statements from a SQL tuning set.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1249" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82" title="This procedure drops a SQL tuning set if it is not active.">DROP_SQLSET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1249 d917986e1179 ">
                                 <p><span>This procedure drops a SQL tuning set if it is not active.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1262" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-75C4DB0B-519B-47B5-B42B-AF021F876428" title="This procedure populates the SQL tuning set with a set of selected SQL statements. You can call the procedure multiple times to add new SQL statements or replace attributes of existing statements.">LOAD_SQLSET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1262 d917986e1179 ">
                                 <p><span>This procedure populates the SQL tuning set with a set of selected SQL statements. You can call the procedure multiple times to add new SQL statements or replace attributes of existing statements.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1275" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789" title="This procedure copies one or more SQL tuning sets from their location in the SYS schema to a staging table created by the CREATE_STGTAB procedure.">PACK_STGTAB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1275 d917986e1179 ">
                                 <p>This procedure copies one or more SQL tuning sets from their location in the <code class="codeph">SYS</code> schema to a staging table created by the <code class="codeph">CREATE_STGTAB</code> procedure.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1298" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-B912E8F4-ECC6-460D-B154-0551474A0717" title="This procedure changes the tuning set names and owners in the staging table so that they can be unpacked with different values.">REMAP_STGTAB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1298 d917986e1179 ">
                                 <p><span>This procedure changes the tuning set names and owners in the staging table so that they can be unpacked with different values.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1311" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10" title="This procedure deactivates a SQL tuning set to indicate that it is no longer used by the client.">REMOVE_REFERENCE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1311 d917986e1179 ">
                                 <p><span>This procedure deactivates a SQL tuning set to indicate that it is no longer used by the client.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1324" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57" title="This function collects SQL statements from the shared SQL area.">SELECT_CURSOR_CACHE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1324 d917986e1179 ">
                                 <p><span>This function collects SQL statements from the workload repository.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1338" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649" title="This table function reads the content of one or more trace files and returns the SQL statements it finds in the format of sqlset_row.">SELECT_SQL_TRACE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1338 d917986e1179 ">
                                 <p><span>This table function reads the content of one or more trace files and returns the SQL statements it finds in the format of <code class="codeph">sqlset_row</code>.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1357" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0" title="This function collects SQL statements from a SQL Performance Analyzer comparison task.">SELECT_SQLPA_TASK Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1357 d917986e1179 ">
                                 <p><span>This function collects SQL statements from a SQL Performance Analyzer comparison task.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1370" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-9D995019-91AB-4B1E-9EAF-031050789B21" title="This is a table function that reads the contents of a SQL tuning set.">SELECT_SQLSET Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1370 d917986e1179 ">
                                 <p><span>This is a table function that reads the contents of a SQL tuning set.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1383" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8" title="This function collects SQL statements from the workload repository.">SELECT_WORKLOAD_REPOSITORY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1383 d917986e1179 ">
                                 <p><span>This function collects SQL statements from the workload repository.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1396" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF" title="This procedure copies one or more SQL tuning sets from their location in the staging table into the SQL tuning sets schema, making them proper SQL tuning sets.">UNPACK_STGTAB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1396 d917986e1179 ">
                                 <p><span>This procedure copies one or more SQL tuning sets from their location in the staging table into the SQL tuning sets schema, making them proper SQL tuning sets.</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="51%" id="d917986e1409" headers="d917986e1176 ">
                                 <p><a href="DBMS_SQLSET.html#GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA" title="This overloaded procedure updates selected fields for SQL statements in a SQL tuning set.">UPDATE_SQLSET Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="49%" headers="d917986e1409 d917986e1179 ">
                                 <p><span>This overloaded procedure updates selected fields for SQL statements in a SQL tuning set.</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3" name="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3"></a><h4 id="ARPLS-GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3" class="sect4"><span class="enumeration_section">162.4.1 </span>ADD_REFERENCE Function
                  </h4>
                  <div>
                     <p><span>This procedure adds a new reference to an existing SQL tuning set to indicate its use by a client.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__GUID-067D79CC-B165-457D-A709-0CBF1F895B53">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.ADD_REFERENCE (
   sqlset_name  IN  VARCHAR2,
   description  IN  VARCHAR2 := NULL,
   sqlset_owner IN  VARCHAR2 :=NULL)
 RETURN NUMBER;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__d5e3355">Parameters</p>
                        <p>The parameters are identical for <code class="codeph">DBMS_SQLTUNE.ADD_SQLSET_REFERENCE</code> and <code class="codeph">DBMS_SQLSET.ADD_REFERENCE</code>.
                        </p>
                        <div class="tblformal" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__d5e3366">
                           <p class="titleintable">Table 162-3 ADD_SQLSET_REFERENCE and ADD_REFERENCE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_SQLSET_REFERENCE and ADD_REFERENCE Function Parameters " summary="This table describes Parameters used by the DBMS_SQLTUNE.ADD_SQLSET_REFERENCE and DBMS_SQLSET.ADD_REFERENCE subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e1540">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e1543">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1548" headers="d917986e1540 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1548 d917986e1543 ">
                                       <p>Specifies the name of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1556" headers="d917986e1540 ">
                                       <p><code class="codeph">description</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1556 d917986e1543 ">
                                       <p>Provides an optional description of the usage of SQL tuning set.</p>
                                       <p>The description is truncated if longer than 256 characters.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1566" headers="d917986e1540 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1566 d917986e1543 ">
                                       <p>Specifies the owner of the SQL tuning set, or <code class="codeph">NULL</code> for the current schema owner.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__d5e3413">Return Values</p>
                        <p>The identifier of the added reference.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__GUID-6BC6B1AC-D695-4A8F-8F0B-035C1F92D435">Usage Notes</p>
                        <p>Adding a reference to a SQL tuning set prevents the tuning set from being modified while it is being used. Invoking SQL Tuning Advisor on the SQL tuning set adds a reference automatically, so use <code class="codeph">ADD_REFERENCE</code> only when the automatically generated reference is not sufficient. The <code class="codeph">ADD_REFERENCE</code> function returns a reference ID that you can later supply to the <code class="codeph">REMOVE_SQLSET_REFERENCE</code> procedure. Query the <code class="codeph">DBA_SQLSET_REFERENCES</code> view to find all references to a specified SQL tuning set.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EAD90F2-D2E2-4F9D-9376-2238DE6934E3__GUID-AF087DEA-3E62-430B-A59B-BA597CA8895B">Examples</p>
                        <p>This example generates a reference to the SQL tuning set named <code class="codeph">my_workload</code> and stores it in the <code class="codeph">b_rid</code> variable.
                        </p><pre class="pre codeblock"><code>VARIABLE b_rid NUMBER; 
EXEC :b_rid := DBMS_SQLSET.ADD_REFERENCE(sqlset_name =&gt; 'my_workload', description =&gt; 'my sts ref');
</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-33AEFA37-9383-443E-8621-03711438430F" name="GUID-33AEFA37-9383-443E-8621-03711438430F"></a><h4 id="ARPLS-GUID-33AEFA37-9383-443E-8621-03711438430F" class="sect4"><span class="enumeration_section">162.4.2 </span>CAPTURE_CURSOR_CACHE Procedure
                  </h4>
                  <div>
                     <p><span>This procedure captures a workload from the shared SQL area into a SQL tuning set.</span></p>
                     <div class="section">
                        <p>The procedure polls the cache multiple times over a time period, and updates the workload data stored there. It can execute over as long a period as required to capture an entire system workload.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33AEFA37-9383-443E-8621-03711438430F__GUID-E5B08BC6-7628-41CB-8D7D-4C2A83B4E129">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.CAPTURE_CURSOR_CACHE (
    sqlset_name         IN VARCHAR2, 
    time_limit          IN POSITIVE := 1800,
    repeat_interval     IN POSITIVE := 300,
    capture_option      IN VARCHAR2 := 'MERGE',
    capture_mode        IN NUMBER   := MODE_REPLACE_OLD_STATS,
    basic_filter        IN VARCHAR2 := NULL,
    sqlset_owner        IN VARCHAR2 := NULL,
    recursive_sql       IN VARCHAR2 := HAS_RECURSIVE_SQL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33AEFA37-9383-443E-8621-03711438430F__d5e3195">Parameters</p>
                        <p>The parameters are the same for both <code class="codeph">DBMS_SQLTUNE.CAPTURE_CURSOR_CACHE_SQLSET</code> and <code class="codeph">DBMS_SQLSET.CAPTURE_CURSOR_CACHE</code>.
                        </p>
                        <div class="tblformal" id="GUID-33AEFA37-9383-443E-8621-03711438430F__d5e3206">
                           <p class="titleintable">Table 162-4 CAPTURE_CURSOR_CACHE_SQLSET and CAPTURE_CURSOR_CACHE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CAPTURE_CURSOR_CACHE_SQLSET and CAPTURE_CURSOR_CACHE Procedure Parameters" summary="This table describes Parameters used by the DBMS_SQLTUNE.CAPTURE_CURSOR_CACHE_SQLSET and DBMS_SQLSET.CAPTURE_CURSOR_CACHE subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e1734">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e1737">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1742" headers="d917986e1734 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1742 d917986e1737 ">
                                       <p>Specifies the SQL tuning set name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1750" headers="d917986e1734 ">
                                       <p><code class="codeph">time_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1750 d917986e1737 ">
                                       <p>Defines the total amount of time, in seconds, to execute.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1758" headers="d917986e1734 ">
                                       <p><code class="codeph">repeat_interval</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1758 d917986e1737 ">
                                       <p>Defines the amount of time, in seconds, to pause between sampling.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1766" headers="d917986e1734 ">
                                       <p><code class="codeph">capture_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1766 d917986e1737 ">
                                       <p>Specifies whether to insert new statements, update existing statements, or both. </p>
                                       <p>Values are <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">MERGE</code>. The values are the same as for <code class="codeph">load_option</code> in <code class="codeph">load_sqlset</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1791" headers="d917986e1734 ">
                                       <p><code class="codeph">capture_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1791 d917986e1737 ">
                                       <p>Specifies the capture mode (<code class="codeph">UPDATE</code> and <code class="codeph">MERGE</code> capture options). Possible values:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">MODE_REPLACE_OLD_STATS</code> — Replaces statistics when the number of executions is greater than the number stored in the SQL tuning set
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MODE_ACCUMULATE_STATS</code> — Adds new values to current values for SQL that is already stored. Note that this mode detects if a statement has been aged out, so the final value for a statistics is the sum of the statistics of all cursors that statement existed under.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1816" headers="d917986e1734 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1816 d917986e1737 ">
                                       <p>Defines a filter to apply to the shared SQL area for each sample. </p>
                                       <p>If <code class="codeph">basic_filter</code> is not set by the caller, then the subprogram captures only statements of type <code class="codeph">CREATE TABLE</code>, <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1848" headers="d917986e1734 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1848 d917986e1737 ">
                                       <p>Specifies the owner of the SQL tuning set or <code class="codeph">NULL</code> for current schema owner
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e1859" headers="d917986e1734 ">
                                       <p><code class="codeph">recursive_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e1859 d917986e1737 ">
                                       <p>Defines a filter that includes recursive SQL in the SQL tuning set (<code class="codeph">HAS_RECURSIVE_SQL</code>) or excludes it (<code class="codeph">NO_RECURSIVE_SQL</code>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33AEFA37-9383-443E-8621-03711438430F__GUID-BF19A40B-B809-4A9A-9912-A6C52C667E7A">Examples</p>
                        <p>In this example capture takes place over a 30-second period, polling the cache once every five seconds. This captures all statements run during that period but not before or after. If the same statement appears a second time, the process replaces the stored statement with the new occurrence.</p>
                        <p>Note that in production systems the time limit and repeat interval would be set much higher. You should tune the <code class="codeph">time_limit</code> and <code class="codeph">repeat_interval</code> parameters based on the workload time and shared SQL area turnover properties of your system.
                        </p><pre class="pre codeblock"><code> 
EXEC DBMS_SQLSET.CAPTURE_CURSOR_CACHE( -
                                        sqlset_name     =&gt; 'my_workload', -
                                        time_limit      =&gt;  30, -
                                        repeat_interval =&gt;  5);
</code></pre><p>In the following call you accumulate execution statistics as you go. This option produces an accurate picture of the cumulative activity of each cursor, even across age-outs, but it is more expensive than the previous example.</p><pre class="pre codeblock"><code>EXEC DBMS_SQLSET.CAPTURE_CURSOR_CACHE( -
                         sqlset_name     =&gt; 'my_workload', -
                         time_limit      =&gt; 30, -
                         repeat_interval =&gt; 5, -
                         capture_mode    =&gt; DBMS_SQLSET.MODE_ACCUMULATE_STATS);
 </code></pre><p>This call performs a very inexpensive capture where you only insert new statements and do not update their statistics once they have been inserted into the SQL tuning set</p><pre class="pre codeblock"><code>EXEC DBMS_SQLSET.CAPTURE_CURSOR_CACHE( -
                                    sqlset_name     =&gt; 'my_workload', -
                                    time_limit      =&gt; 30, -
                                    repeat_interval =&gt; 5, -
                                    capture_option  =&gt; 'INSERT');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C" name="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C"></a><h4 id="ARPLS-GUID-86F56216-7D47-4889-96D6-FC817E8AF44C" class="sect4"><span class="enumeration_section">162.4.3 </span>CREATE_SQLSET Procedure and Function
                  </h4>
                  <div>
                     <p><span>This procedure or function creates a SQL tuning set object in the database.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C__GUID-C4AA163C-214F-472E-A0EA-711AB97DA5E5">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.CREATE_SQLSET (
   sqlset_name  IN  VARCHAR2,
   description  IN  VARCHAR2 := NULL
   sqlset_owner IN  VARCHAR2 := NULL);
</code></pre><pre class="pre codeblock"><code>DBMS_SQLSET.CREATE_SQLSET (
   sqlset_name  IN  VARCHAR2 := NULL,
   description  IN  VARCHAR2 := NULL,
   sqlset_owner IN  VARCHAR2 := NULL)
 RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C__d5e1663">Parameters</p>
                        <div class="tblformal" id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C__d5e1666">
                           <p class="titleintable">Table 162-5 CREATE_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_SQLSET Procedure Parameters " summary="This table describes Parameters used by the CREATE_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e2008">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e2011">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2016" headers="d917986e2008 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2016 d917986e2011 ">
                                       <p>Specifies the name of the created SQL tuning set. The name is the name passed to the function. If no name is passed to the function, then the function generates an automatic name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2024" headers="d917986e2008 ">
                                       <p><code class="codeph">description</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2024 d917986e2011 ">
                                       <p>Provides an optional description of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2032" headers="d917986e2008 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2032 d917986e2011 ">
                                       <p>Specifies the owner of the SQL tuning set, or <code class="codeph">NULL</code> for the current schema owner.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C__GUID-86EC7C18-A06B-4EAF-A931-7B5A559DA94F">Return Values</p>
                        <p>Specifies the name of the created SQL tuning set. The name is the name passed to the function. If no name is passed to the function, then the function generates an automatic name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86F56216-7D47-4889-96D6-FC817E8AF44C__GUID-2F00856A-526F-4A2A-8E70-CD18B505C47D">Examples</p><pre class="pre codeblock"><code>EXEC DBMS_SQLSET.CREATE_SQLSET(- 
  sqlset_name =&gt; 'my_workload', -
  description =&gt; 'complete application workload');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF" name="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF"></a><h4 id="ARPLS-GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF" class="sect4"><span class="enumeration_section">162.4.4 </span>CREATE_STGTAB Procedure
                  </h4>
                  <div>
                     <p><span>This procedure creates a staging table through which SQL tuning sets are imported and exported.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF__GUID-4CF3C20E-2A1F-4298-AF38-2C58A05D4D5C">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.CREATE_STGTAB (
   table_name        IN VARCHAR2,
   schema_name       IN VARCHAR2 := NULL,
   tablespace_name   IN VARCHAR2 := NULL,
   db_version        IN NUMBER   := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF__d5e3515">Parameters</p>
                        <div class="tblformal" id="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF__d5e3518">
                           <p class="titleintable">Table 162-6 CREATE_STGTAB_SQLSET and CREATE_STGTAB Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_STGTAB_SQLSET and CREATE_STGTAB Procedure Parameters " summary="This table describes Parameters used by the DBMS_SQLTUNE.CREATE_STGTAB_SQLSET and DBMS_SQLSET.CREATE_STGTAB subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d917986e2163">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d917986e2166">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e2171" headers="d917986e2163 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e2171 d917986e2166 ">
                                       <p>Specifies the of the table to create. The name is case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e2179" headers="d917986e2163 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e2179 d917986e2166 ">
                                       <p>Defines the schema in which to create the table, or <code class="codeph">NULL</code> for the current schema. The name is case sensitive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e2190" headers="d917986e2163 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e2190 d917986e2166 ">
                                       <p>Specifies the tablespace in which to store the staging table, or <code class="codeph">NULL</code> for the default tablespace of the current user. The name is case sensitive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e2201" headers="d917986e2163 ">
                                       <p><code class="codeph">db_version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e2201 d917986e2166 ">
                                       <p>Specifies the database version that determines the format of the staging table. </p>
                                       <p>You can also create an older database version staging table to export an STS to an older database version. Use one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">NULL</code> (default) — Specifies the current database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_10_2_VERSION</code> — Specifies the 10.2 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_11_1_VERSION</code> — Specifies the 11.1 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_11_2_VERSION</code> — Specifies the 11.2 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_12_1_VERSION</code> — Specifies the 12.1 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_12_2_VERSION</code> — Specifies the 12.2 database version.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-99F4A1D9-A23B-448B-A833-1E29DCE010AF__GUID-F7BF432F-BC3D-4503-9F94-899617684563">Examples</p>
                        <p>Create a staging table for packing and eventually exporting a SQL tuning sets:</p><pre class="pre codeblock"><code>EXEC DBMS_SQLSET.CREATE_STGTAB(table_name =&gt; 'STGTAB_SQLSET');
</code></pre><p>Create a staging table to pack a SQL tuning set in Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2) format:
                        </p><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQLSET.CREATE_STGTAB(
      table_name =&gt; 'STGTAB_SQLSET_121'
  ,   db_version =&gt; DBMS_SQLSET.STS_STGTAB_12_1_VERSION );
END;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5" name="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5"></a><h4 id="ARPLS-GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5" class="sect4"><span class="enumeration_section">162.4.5 </span>DELETE_SQLSET Procedure
                  </h4>
                  <div>
                     <p><span>This procedure deletes a set of SQL statements from a SQL tuning set.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5__GUID-38A9A4F5-37F3-46C3-BCB6-D08C6652BD5C">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.DELETE_SQLSET (
   sqlset_name   IN  VARCHAR2,
   basic_filter  IN  VARCHAR2 := NULL,
   sqlset_owner  IN  VARCHAR2 := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5__d5e1710">Parameters</p>
                        <div class="tblformal" id="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5__d5e1713">
                           <p class="titleintable">Table 162-7 DELETE_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_SQLSET Procedure Parameters " summary="This table describes parameters used by the DELETE_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e2367">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e2370">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2375" headers="d917986e2367 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2375 d917986e2370 ">
                                       <p>Specifies the name of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2383" headers="d917986e2367 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2383 d917986e2370 ">
                                       <p>Specifies the SQL predicate to filter the SQL from the SQL tuning set. This basic filter is used as a where clause on the SQL tuning set content to select a desired subset of SQL from the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2391" headers="d917986e2367 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2391 d917986e2370 ">
                                       <p>Specifies the owner of the SQL tuning set, or <code class="codeph">NULL</code> for current schema owner.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-90DEBB07-C668-46AD-9F4F-96B636E541C5__GUID-0FF33B09-BFED-4F20-B4F4-B34D19641A80">Examples</p><pre class="pre codeblock"><code>-- Delete all statements in a sql tuning set.
EXEC DBMS_SQLSET.DELETE_SQLSET(sqlset_name   =&gt; 'my_workload');
 
-- Delete all statements in a sql tuning set which ran for less than a second
EXEC DBMS_SQLSET.DELETE_SQLSET(sqlset_name   =&gt; 'my_workload', -
                               basic_filter  =&gt; 'elapsed_time &lt; 1000000');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82" name="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82"></a><h4 id="ARPLS-GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82" class="sect4"><span class="enumeration_section">162.4.6 </span>DROP_SQLSET Procedure
                  </h4>
                  <div>
                     <p><span>This procedure drops a SQL tuning set if it is not active.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82__GUID-D529DDA9-1198-4EC3-AF31-DCD38B36C8ED">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.DROP_SQLSET (
   sqlset_name   IN  VARCHAR2,
   sqlset_owner  IN  VARCHAR2 := NULL); </code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82__d5e1758">Parameters</p>
                        <div class="tblformal" id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82__d5e1761">
                           <p class="titleintable">Table 162-8 DROP_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_SQLSET Procedure Parameters " summary="This table describes Parameters used by the DROP_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e2517">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e2520">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2525" headers="d917986e2517 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2525 d917986e2520 ">
                                       <p>Specifies the name of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2533" headers="d917986e2517 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2533 d917986e2520 ">
                                       <p>Specifies the owner of the SQL tuning set, or <code class="codeph">NULL</code> for current schema owner.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82__d5e1798">Usage Notes</p>
                        <p>You cannot drop a SQL tuning set when it is referenced by one or more clients.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A2EAD94A-8142-46FB-A5BD-470E77CC1B82__GUID-69149682-3BC5-4396-9224-A58F64A68585">Examples</p><pre class="pre codeblock"><code>-- Drop the sqlset.
EXEC DBMS_SQLSET.DROP_SQLSET ('my_workload');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428" name="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428"></a><h4 id="ARPLS-GUID-75C4DB0B-519B-47B5-B42B-AF021F876428" class="sect4"><span class="enumeration_section">162.4.7 </span>LOAD_SQLSET Procedure
                  </h4>
                  <div>
                     <p><span>This procedure populates the SQL tuning set with a set of selected SQL statements. You can call the procedure multiple times to add new SQL statements or replace attributes of existing statements.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__GUID-908F4329-79F8-4B3B-9D9E-BDF13E345CEB">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.LOAD_SQLSET (
   sqlset_name       IN  VARCHAR2,
   populate_cursor   IN  sqlset_cursor,
   load_option       IN VARCHAR2 := 'INSERT', 
   update_option     IN VARCHAR2 := 'REPLACE', 
   update_condition  IN VARCHAR2 :=  NULL,
   update_attributes IN VARCHAR2 :=  NULL,
   ignore_null       IN BOOLEAN  :=  TRUE,
   commit_rows       IN POSITIVE :=  NULL,
   sqlset_owner      IN VARCHAR2 := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__d5e1805">Parameters</p>
                        <div class="tblformal" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__d5e1807">
                           <p class="titleintable">Table 162-9 LOAD_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOAD_SQLSET Procedure Parameters " summary="This table describes parameters used by the LOAD_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e2664">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e2667">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2672" headers="d917986e2664 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2672 d917986e2667 ">
                                       <p>Specifies the name of SQL tuning set to be loaded.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2680" headers="d917986e2664 ">
                                       <p><code class="codeph">populate_cursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2680 d917986e2667 ">
                                       <p>Specifies the cursor reference to the SQL tuning set to be loaded.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2688" headers="d917986e2664 ">
                                       <p><code class="codeph">load_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2688 d917986e2667 ">
                                       <p>Specifies which statements are loaded into the SQL tuning set. The possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">INSERT</code> (default) — Adds only new statements.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UPDATE</code> — Updates existing the SQL statements and ignores any new statements.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MERGE</code> — Inserts new statements and updates the information of the existing ones.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2712" headers="d917986e2664 ">
                                       <p><code class="codeph">update_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2712 d917986e2667 ">
                                       <p>Specifies how existing SQL statements are updated.</p>
                                       <p>This parameter is considered only if <code class="codeph">load_option</code> is specified with <code class="codeph">UPDATE</code> or <code class="codeph">MERGE</code> as an option. The possible values are:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">REPLACE</code> (default) — Updates the statement using the new statistics, bind list, object list, and so on.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ACCUMULATE</code> — Combines attributes when possible (for example, statistics such as <code class="codeph">elapsed_time</code>), and otherwise replaces the existing values (for example, module and action) with the provided values. The SQL statement attributes that can be accumulated are: <code class="codeph">elapsed_time</code>, <code class="codeph">buffer_gets</code>, <code class="codeph">direct_writes</code>, <code class="codeph">disk_reads</code>, <code class="codeph">row_processed</code>, <code class="codeph">fetches</code>, <code class="codeph">executions</code>, <code class="codeph">end_of_fetch_count</code>, <code class="codeph">stat_period</code> and <code class="codeph">active_stat_period</code>.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2776" headers="d917986e2664 ">
                                       <p><code class="codeph">update_condition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2776 d917986e2667 ">
                                       <p>Specifies when to perform the update. </p>
                                       <p>The procedure only performs the update when the specified condition is satisfied. The condition can refer to either the data source or destination. The condition must use the following prefixes to refer to attributes from the source or the destination:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">OLD</code> — Refers to statement attributes from the SQL tuning set (destination).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NEW</code> — Refers to statement attributes from the input statements (source).
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2797" headers="d917986e2664 ">
                                       <p><code class="codeph">update_attributes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2797 d917986e2667 ">
                                       <p>Specifies the list of SQL statement attributes to update during a merge or update.</p>
                                       <p>The possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">NULL</code> (default) — Specifies the content of the input cursor except the execution context. On other terms, it is equivalent to <code class="codeph">ALL</code> without execution contexts such as module and action.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> — Specifies statistics and binds only.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> — Specifies <code class="codeph">BASIC</code> with SQL plans (without row source statistics) and without an object reference list.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> — Specifies all attributes, including the execution context attributes such as module and action.
                                             </p>
                                          </li>
                                          <li>
                                             <p>List of comma separated attribute names to update:</p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><code class="codeph">EXECUTION_CONTEXT</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">EXECUTION_STATISTICS</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_BINDS</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_PLAN</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_PLAN_STATISTICS</code> (similar to <code class="codeph">SQL_PLAN</code> with added row source statistics)
                                                   </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2862" headers="d917986e2664 ">
                                       <p><code class="codeph">ignore_null</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2862 d917986e2667 ">
                                       <p>Specifies whether to update attributes when the new value is <code class="codeph">NULL</code>. 
                                       </p>
                                       <p>If <code class="codeph">TRUE</code>, then the procedure does not update an attribute when the new value is <code class="codeph">NULL</code>. That is, do not override with <code class="codeph">NULL</code> values unless intentional.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2884" headers="d917986e2664 ">
                                       <p><code class="codeph">commit_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2884 d917986e2667 ">
                                       <p>Specifies whether to commit statements after DML.</p>
                                       <p>If a value is provided, then the load commits after each specified number of statements is inserted. If <code class="codeph">NULL</code> is provided, then the load commits only once, at the end of the operation. 
                                       </p>
                                       <p>Providing a value for this argument enables you to monitor the progress of a SQL tuning set load operation in the <code class="codeph">DBA_SQLSET</code> views. The <code class="codeph">STATEMENT_COUNT</code> value increases as new SQL statements are loaded.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e2905" headers="d917986e2664 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e2905 d917986e2667 ">
                                       <p>Defines the owner of the SQL tuning set, or the current schema owner (or <code class="codeph">NULL</code> for the current owner).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__d5e2070">Exceptions</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This procedure returns an error when <code class="codeph">sqlset_name</code> is invalid, or a corresponding SQL tuning set does not exist, or the <code class="codeph">populate_cursor</code> is incorrect and cannot be executed. 
                              </p>
                           </li>
                           <li>
                              <p>Exceptions are also raised when invalid filters are provided. Filters can be invalid either because they don't parse (for example, they refer to attributes not in <code class="codeph">sqlset_row</code>), or because they violate the user's privileges.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__d5e2090">Usage Notes</p>
                        <p>Rows in the input <code class="codeph">populate_cursor</code> must be of type <code class="codeph">SQLSET_ROW</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-75C4DB0B-519B-47B5-B42B-AF021F876428__GUID-A22DCD06-336E-4DBB-ABE3-3EBE2347C53D">Examples</p>
                        <p>In this example, you create and populate a SQL tuning set with all shared SQL area statements with an elapsed time of 5 seconds or more, excluding statements that belong to <code class="codeph">SYS</code> schema. You select all attributes of the SQL statements and load them in the tuning set using the default mode. The default mode loads only new statements because the SQL tuning set is empty.
                        </p><pre class="pre codeblock"><code>-- create the tuning set
EXEC DBMS_SQLSET.CREATE_SQLSET('my_workload');

-- populate the tuning set from the shared SQL area
DECLARE
 cur DBMS_SQLSET.SQLSET_CURSOR;
BEGIN
 OPEN cur FOR
   SELECT VALUE(P)
     FROM table(
       DBMS_SQLSET.SELECT_CURSOR_CACHE(
         'parsing_schema_name &lt;&gt; ''SYS'' AND elapsed_time &gt; 5000000',
          NULL, NULL, NULL, NULL, 1, NULL,
         'ALL')) P;
 
DBMS_SQLSET.LOAD_SQLSET(sqlset_name     =&gt; 'my_workload',
                        populate_cursor =&gt; cur);
 
END;
/ 
</code></pre><p>Now you want to augment this information with what is stored in the workload repository (AWR). You populate the tuning set with <code class="codeph">'ACCUMULATE'</code> as your <code class="codeph">update_option</code> because it is assumed the cursors currently in the cache have aged out since the snapshot was taken.
                        </p>
                        <p>You omit the <code class="codeph">elapsed_time</code> filter because it is assumed that any statement captured in AWR is important, but still you throw away the <code class="codeph">SYS</code>-parsed cursors to avoid recursive SQL.
                        </p><pre class="pre codeblock"><code>DECLARE
  cur DBMS_SQLSET.SQLSET_CURSOR;
BEGIN
  OPEN cur FOR
    SELECT VALUE(P)
      FROM table(
        DBMS_SQLSET.SELECT_WORKLOAD_REPOSITORY(1,2,
                                                'parsing_schema_name &lt;&gt; ''SYS''',
                                                NULL, NULL,NULL,NULL,
                                                1,
                                                NULL,
                                                'ALL')) P;

  DBMS_SQLSET.LOAD_SQLSET(sqlset_name     =&gt; 'my_workload',
                          populate_cursor =&gt; cur,
                          load_option     =&gt; 'MERGE',
                          update_option   =&gt; 'ACCUMULATE');
END;
</code></pre><p>The following example is a simple load that only inserts new statements from the workload repository, skipping existing ones (in the SQL tuning set). Note that <code class="codeph">'INSERT'</code> is the default value for the <code class="codeph">load_option</code> argument of the <code class="codeph">LOAD_SQLSET</code> procedure. 
                        </p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
  SELECT VALUE(P)
  FROM table(DBMS_SQLSET.SELECT_WORKLOAD_REPOSITORY(1,2)) P;
  DBMS_SQLSET.LOAD_SQLSET(sqlset_name =&gt; 'my_workload', populate_cursor =&gt; cur);
END;
/
</code></pre><p>The next example demonstrates a load with <code class="codeph">UPDATE</code> option. This updates statements that already exist in the SQL tuning set but does not add new ones. By default, old statistics are replaced by their new values. 
                        </p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(P)
    FROM table(DBMS_SQLSET.SELECT_CURSOR_CACHE) P;
  
  DBMS_SQLSET.LOAD_SQLSET(sqlset_name     =&gt; 'my_workload',
                          populate_cursor =&gt; cur,
                          load_option     =&gt; 'UPDATE');
END;
/</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789" name="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789"></a><h4 id="ARPLS-GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789" class="sect4"><span class="enumeration_section">162.4.8 </span>PACK_STGTAB Procedure
                  </h4>
                  <div>
                     <p>This procedure copies one or more SQL tuning sets from their location in the <code class="codeph">SYS</code> schema to a staging table created by the <code class="codeph">CREATE_STGTAB</code> procedure.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789__GUID-D9F94183-9D35-4F62-96D9-3DAA7E22579E">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.PACK_STGTAB (
   sqlset_name          IN VARCHAR2,
   sqlset_owner         IN VARCHAR2 := NULL,
   staging_table_name   IN VARCHAR2,
   staging_schema_owner IN VARCHAR2 := NULL,
   db_version           IN NUMBER   := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789__d5e3633">Parameters</p>
                        <p>The parameters are identical for the <code class="codeph">DBMS_SQLTUNE.PACK_STGTAB_SQLSET</code> and <code class="codeph">DBMS_SQLSET.PACK_STGTAB</code> procedures.
                        </p>
                        <div class="tblformal" id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789__d5e3644">
                           <p class="titleintable">Table 162-10 PACK_STGTAB_SQLSET and PACK_STGTAB Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PACK_STGTAB_SQLSET and PACK_STGTAB Procedure Parameters " summary="This table describes Parameters used by the PACK_STGTAB_SQLSET and PACK_STGTAB subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d917986e3118">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d917986e3121">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3126" headers="d917986e3118 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3126 d917986e3121 ">
                                       <p>Specifies the name of the SQL tuning set to pack. The name is case sensitive. Wildcard characters (<code class="codeph">%</code>) are permitted.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3137" headers="d917986e3118 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3137 d917986e3121 ">
                                       <p>Specifies the category from which to pack SQL tuning sets. The name is case sensitive. Wildcard characters (<code class="codeph">%</code>) are permitted.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3148" headers="d917986e3118 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3148 d917986e3121 ">
                                       <p>Specifies the name of the table to use. The value is case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3156" headers="d917986e3118 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3156 d917986e3121 ">
                                       <p>Specifies the schema where the table resides, or <code class="codeph">NULL</code> for the current schema. The value is case sensitive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3167" headers="d917986e3118 ">
                                       <p><code class="codeph">db_version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3167 d917986e3121 ">
                                       <p>Specifies the database version that determines the format of the staging table. You can also create an older database version staging table to export an STS to an older database version. Use any of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">NULL</code> (default) — Specifies the current database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_10_2_VERSION</code> — Specifies the 10.2 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_11_1_VERSION</code> — Specifies the 11.1 database version.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">STS_STGTAB_11_2_VERSION</code> — Specifies the 11.2 database version.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789__d5e3732">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To move more than one SQL tuning set, call this procedure multiple times. You can then move the populated staging table to a destination database using any method, such as a database link or Oracle Data Pump, and then unpack the SQL tuning set in the destination database.</p>
                           </li>
                           <li>
                              <p>This function issues a <code class="codeph">COMMIT</code> after packing each SQL tuning set. If an error is raised mid-execution, then clear the staging table by deleting its rows.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCDE7F8-6363-4082-9E76-B9A976F95789__GUID-7B4D7AA3-6A40-489D-9184-4AE21AD0267B">Examples</p>
                        <p>Put all SQL tuning sets on the database in the staging table:</p><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQLSET.PACK_STGTAB(
      sqlset_name        =&gt; '%'
  ,   sqlset_owner       =&gt; '%'
  ,   staging_table_name =&gt; 'STGTAB_SQLSET');
END;</code></pre><p>Put only those SQL tuning sets owned by the current user in the staging table:</p><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQLSET.PACK_STGTAB(
      sqlset_name        =&gt; '%'
  ,   staging_table_name =&gt; 'STGTAB_SQLSET');
END;</code></pre><p>Pack a specific SQL tuning set:</p><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQLSET.PACK_STGTAB(
      sqlset_name         =&gt; 'my_workload'
  ,   staging_table_name  =&gt; 'STGTAB_SQLSET');
END;</code></pre><p>Pack a second SQL tuning set:</p><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQLSET.PACK_STGTAB(
      sqlset_name         =&gt; 'workload_subset'
  ,   staging_table_name  =&gt; 'STGTAB_SQLSET');
END;</code></pre><p>Pack the STS <code class="codeph">my_workload_subset</code> into a staging table <code class="codeph">stgtab_sqlset</code> created for Oracle Database 11<span class="italic">g</span> Release 2 (11.2):
                        </p><pre class="pre codeblock"><code>BEGIN
  DBMS_SQLSET.PACK_STGTAB(
      sqlset_name          =&gt; 'workload_subset'
  ,   staging_table_name   =&gt; 'STGTAB_SQLSET'
  ,   db_version           =&gt; DBMS_SQLSET.STS_STGTAB_11_2_VERSION);
END;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717" name="GUID-B912E8F4-ECC6-460D-B154-0551474A0717"></a><h4 id="ARPLS-GUID-B912E8F4-ECC6-460D-B154-0551474A0717" class="sect4"><span class="enumeration_section">162.4.9 </span>REMAP_STGTAB Procedure
                  </h4>
                  <div>
                     <p><span>This procedure changes the tuning set names and owners in the staging table so that they can be unpacked with different values.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717__GUID-46B40BB7-9A3B-401B-8FEF-149E7DC4D21A">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.REMAP_STGTAB (
   old_sqlset_name        IN VARCHAR2,
   old_sqlset_owner       IN VARCHAR2 := NULL,
   new_sqlset_name        IN VARCHAR2 := NULL,
   new_sqlset_owner       IN VARCHAR2 := NULL,
   staging_table_name     IN VARCHAR2,
   staging_schema_owner   IN VARCHAR2 := NULL
   old_con_dbid           IN NUMBER   := NULL,
   new_con_dbid           IN NUMBER   := NULL);
);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717__d5e3842">Parameters</p>
                        <p>The parameters are identical for the DBMS_SQLTUNE.REMAP_STGTAB_SQLSET and DBMS_SQLSET.REMAP_SQLSET procedures.</p>
                        <div class="tblformal" id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717__d5e3847">
                           <p class="titleintable">Table 162-11 REMAP_STGTAB_SQLSET and REMAP_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMAP_STGTAB_SQLSET and REMAP_SQLSET Procedure Parameters " summary="This table describes parameters used by the DBMS_SQLTUNE.REMAP_STGTAB_SQLSET and DBMS_SQLSET.REMAP_SQLSET procedures." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d917986e3353">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d917986e3356">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3361" headers="d917986e3353 ">
                                       <p><code class="codeph">old_sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3361 d917986e3356 ">
                                       <p>Specifies the name of the tuning set to target for a remap operation. Wildcard characters (<code class="codeph">%</code>) are not supported.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3372" headers="d917986e3353 ">
                                       <p><code class="codeph">old_sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3372 d917986e3356 ">
                                       <p>Specifies the new name of the tuning set owner to target for a remap operation. <code class="codeph">NULL</code> for current schema owner
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3383" headers="d917986e3353 ">
                                       <p><code class="codeph">new_sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3383 d917986e3356 ">
                                       <p>Specifies the new name for the tuning set, or <code class="codeph">NULL</code> to keep the same tuning set name.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3394" headers="d917986e3353 ">
                                       <p><code class="codeph">new_sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3394 d917986e3356 ">
                                       <p>Specifies the new owner for the tuning set, or <code class="codeph">NULL</code> to keep the same owner name.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3405" headers="d917986e3353 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3405 d917986e3356 ">
                                       <p>Specifies the name of the table on which to perform the remap operation. The value is case sensitive.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3413" headers="d917986e3353 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3413 d917986e3356 ">
                                       <p>Specifies the name of staging table owner, or <code class="codeph">NULL</code> for the current schema owner. The value is case sensitive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3424" headers="d917986e3353 ">
                                       <p><code class="codeph">old_con_dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3424 d917986e3356 ">
                                       <p>Specifies the old container DBID to be remapped to a new container DBID.</p>
                                       <p>Specify <code class="codeph">NULL</code> to use the same container DBID. You must provide both <code class="codeph">old_con_dbid</code> and <code class="codeph">new_con_dbid</code> for the remap to succeed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e3443" headers="d917986e3353 ">
                                       <p><code class="codeph">new_con_dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e3443 d917986e3356 ">
                                       <p>Specifies the new container DBID to replace with the old container DBID.</p>
                                       <p>Specify <code class="codeph">NULL</code> to use the same container DBID. You must provide both <code class="codeph">old_con_dbid</code> and <code class="codeph">new_con_dbid</code> for the remap to succeed.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717__d5e3966">Usage Notes</p>
                        <p>Call this procedure multiple times to remap more than one tuning set name or owner. This procedure only handles one tuning set per call.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B912E8F4-ECC6-460D-B154-0551474A0717__GUID-43D1122A-A863-4382-9119-FEEB2A19BDD9">Examples</p><pre class="pre codeblock"><code>-- Change the name of an STS in the staging table before unpacking it.
BEGIN 
  DBMS_SQLSET.REMAP_STGTAB(
      old_sqlset_name    =&gt; 'my_workload'                                      
  ,   old_sqlset_owner   =&gt; 'SH'
  ,   new_sqlset_name    =&gt; 'imp_workload'                                      
  ,   staging_table_name =&gt; 'STGTAB_SQLSET');
 
-- Change the owner of an STS in the staging table before unpacking it.
  DBMS_SQLSET.REMAP_STGTAB(
      old_sqlset_name    =&gt; 'imp_workload'
  ,   old_sqlset_owner   =&gt; 'SH'
  ,   new_sqlset_owner   =&gt; 'SYS'
  ,   staging_table_name =&gt; 'STGTAB_SQLSET');
END;</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10" name="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10"></a><h4 id="ARPLS-GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10" class="sect4"><span class="enumeration_section">162.4.10 </span>REMOVE_REFERENCE Procedure
                  </h4>
                  <div>
                     <p><span>This procedure deactivates a SQL tuning set to indicate that it is no longer used by the client.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10__GUID-8980312A-9935-466A-A0ED-155F5DE6E564">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.REMOVE_REFERENCE (
   sqlset_name   IN  VARCHAR2,
   reference_id  IN  NUMBER,
   sqlset_owner  IN  VARCHAR2 := NULL,
   force_remove  IN  NUMBER   := 0);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10__d5e3420">Parameters</p>
                        <p>The parameters are identical for the <code class="codeph">DBMS_SQLTUNE.REMOVE_SQLSET_REFERENCE</code> and <code class="codeph">DBMS_SQLSET.REMOVE_REFERENCE</code> procedures.
                        </p>
                        <div class="tblformal" id="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10__d5e3431">
                           <p class="titleintable">Table 162-12 REMOVE_SQLSET_REFERENCE and REMOVE_REFERENCE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_SQLSET_REFERENCE and REMOVE_REFERENCE Procedure Parameters" summary="This table describes Parameters used by the REMOVE_SQLSET_REFERENCE and REMOVE_REFERENCE subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e3590">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e3593">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3598" headers="d917986e3590 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3598 d917986e3593 ">
                                       <p>Specifies the name of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3606" headers="d917986e3590 ">
                                       <p><code class="codeph">reference_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3606 d917986e3593 ">
                                       <p>Specifies the identifier of the reference to remove.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3614" headers="d917986e3590 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3614 d917986e3593 ">
                                       <p>Specifies the owner of the SQL tuning set (or <code class="codeph">NULL</code> for the current schema owner).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3625" headers="d917986e3590 ">
                                       <p><code class="codeph">force_remove</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3625 d917986e3593 ">
                                       <p>Specifies whether references can be removed for other users (<code class="codeph">1</code>) or whether they cannot be removed (<code class="codeph">0</code>).
                                       </p>
                                       <p>Setting this parameter to <code class="codeph">1</code> only takes effect when the user has the <code class="codeph">ADMINISTER ANY SQL TUNING SET</code> privilege. Otherwise, the database only removes references owned by the user.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31126D7E-4F52-404A-9B66-DFB5B1929E10__GUID-3B149B2D-44CA-413E-A87F-195C3FE392E3">Examples</p>
                        <p>You can remove references on a given SQL tuning set when you finish using it and want to make it writable again. The following example removes the reference to <code class="codeph">my_workload</code>:
                        </p><pre class="pre codeblock"><code>EXEC DBMS_SQLSET.REMOVE_REFERENCE(sqlset_name   =&gt; 'my_workload', -
                                  reference_id  =&gt; :rid);
</code></pre><p>Use the <code class="codeph">DBA_SQLSET_REFERENCES</code> view to find all references to a given SQL tuning set.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57" name="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57"></a><h4 id="ARPLS-GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57" class="sect4"><span class="enumeration_section">162.4.11 </span>SELECT_CURSOR_CACHE Function
                  </h4>
                  <div>
                     <p><span>This function collects SQL statements from the shared SQL area.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-0EC6BE0B-A27D-45A9-9203-D139D2B33BCD">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.SELECT_CURSOR_CACHE (
  basic_filter        IN   VARCHAR2 := NULL,
  object_filter       IN   VARCHAR2 := NULL,
  ranking_measure1    IN   VARCHAR2 := NULL,
  ranking_measure2    IN   VARCHAR2 := NULL,
  ranking_measure3    IN   VARCHAR2 := NULL,
  result_percentage   IN   NUMBER   := 1,
  result_limit        IN   NUMBER   := NULL,
  attribute_list      IN   VARCHAR2 := 'TYPICAL',
  recursive_sql       IN   VARCHAR2 := HAS_RECURSIVE_SQL)
 RETURN sys.sqlset PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__d5e2102">Parameters</p>
                        <div class="tblformal" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__d5e2105">
                           <p class="titleintable">Table 162-13 SELECT_CURSOR_CACHE Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_CURSOR_CACHE Function Parameters" summary="This table describes Parameters used by the SELECT_CURSOR_CACHE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e3773">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e3776">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3781" headers="d917986e3773 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3781 d917986e3776 ">
                                       <p>Specifies the SQL predicate that filters the SQL from the shared SQL area defined on attributes of the <code class="codeph">SQLSET_ROW</code>. 
                                       </p>
                                       <p>If <code class="codeph">basic_filter</code> is not set by the caller, then the subprogram captures only statements of the type <code class="codeph">CREATE TABLE</code>, <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3816" headers="d917986e3773 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3816 d917986e3776 ">
                                       <p>Currently not supported.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3824" headers="d917986e3773 ">
                                       <p><code class="codeph">ranking_measure(n)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3824 d917986e3776 ">
                                       <p>Defines an <code class="codeph">ORDER BY</code> clause on the selected SQL.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3835" headers="d917986e3773 ">
                                       <p><code class="codeph">result_percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3835 d917986e3776 ">
                                       <p>Specifies a filter that picks the top <span class="italic">n</span>% according to the supplied ranking measure.
                                       </p>
                                       <p>The value applies only if one ranking measure is supplied.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3848" headers="d917986e3773 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3848 d917986e3776 ">
                                       <p>Defines the top limit SQL from the filtered source ranked by the ranking measure.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3856" headers="d917986e3773 ">
                                       <p><code class="codeph">attribute_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3856 d917986e3776 ">
                                       <p>Specifies the list of SQL statement attributes to return in the result. </p>
                                       <p>Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> — Specifies <code class="codeph">BASIC</code> plus SQL plan (without row source statistics) and without object reference list (default).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> — Specifies all attributes (such as execution statistics and binds) except the plans. The execution context is always part of the result.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> — Specifies all attributes.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Comma-separated list of attribute names.</p>
                                             <p>This values returns only a subset of SQL attributes:</p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><code class="codeph">EXECUTION_STATISTICS</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">BIND_LIST</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">OBJECT_LIST</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_PLAN</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_PLAN_STATISTICS</code> — Similar to <code class="codeph">SQL_PLAN</code> plus row source statistics
                                                   </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e3915" headers="d917986e3773 ">
                                       <p><code class="codeph">recursive_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e3915 d917986e3776 ">
                                       <p>Specifies that the filter must include recursive SQL in the SQL tuning set (<code class="codeph">HAS_RECURSIVE_SQL</code>, which is the default) or exclude it (<code class="codeph">NO_RECURSIVE_SQL</code>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__d5e2271">Return Values</p>
                        <p>This function returns a one <code class="codeph">SQLSET_ROW</code> per <code class="codeph">SQL_ID</code> or <code class="codeph">PLAN_HASH_VALUE</code> pair found in each data source.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__d5e2286">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Filters provided to this function are evaluated as part of a SQL run by the current user. As such, they are executed with that user's security privileges and can contain any constructs and subqueries that user can access, but no more.</p>
                           </li>
                           <li>
                              <p>Users need privileges on the shared SQL area views. </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-B615217F-C8F0-4171-9130-71C3BF272D48">
                        <p class="titleinexample">Example 162-1 Statements with 500 or More Buffer Gets</p>
                        <p>This query obtains the SQL IDs and SQL text for statements with 500 buffer gets:</p><pre class="pre codeblock"><code>SELECT SQL_ID, SQL_TEXT 
FROM   TABLE(DBMS_SQLSET.SELECT_CURSOR_CACHE('buffer_gets &gt; 500')) 
ORDER BY sql_id;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-3C71F8FE-1964-48C9-BD64-B39D813EAF2E">
                        <p class="titleinexample">Example 162-2 All Information About a Statement</p>
                        <p>The following query obtains all information about the SQL statement with the SQL ID <code class="codeph">4rm4183czbs7j</code>:
                        </p><pre class="pre codeblock"><code>SELECT * FROM TABLE(DBMS_SQLSET.SELECT_CURSOR_CACHE('sql_id = ''4rm4183czbs7j'''));
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-737FE0FA-687B-4019-9668-D86ED5C87CBD">
                        <p class="titleinexample">Example 162-3 Multiple Plans for a SQL Statement</p>
                        <p>A data source may store multiple plans for each SQL statement. The output of the <code class="codeph">SELECT_CURSOR_CACHE</code> function is a SQL row set object that is uniquely identified by SQL ID and plan hash value. This example queries the plan hash values for the statement with the SQL ID <code class="codeph">ay1m3ssvtrh24</code>:
                        </p><pre class="pre codeblock"><code>SELECT sql_id, plan_hash_value
FROM table(DBMS_SQLSET.select_cursor_cache('sql_id = ''ay1m3ssvtrh24'''))
ORDER BY sql_id, plan_hash_value;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-A588C682-4E30-45DF-88A1-B7ED72F36DFF">
                        <p class="titleinexample">Example 162-4 Processing All Statements in the Shared SQL Area</p>
                        <p>This example processes all statements in the shared SQL area:</p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(p) 
    FROM TABLE(DBMS_SQLSET.SELECT_CURSOR_CACHE) p;
 
  -- Process each statement in cursor (or pass cursor to load_sqlset).
 
  CLOSE cur;
END;
/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-03E35FFE-F29C-4B88-98B5-C116CC02FB46">
                        <p class="titleinexample">Example 162-5 Process Statements Not Parsed by SYS</p>
                        <p>This example processes all statements not parsed in the <code class="codeph">SYS</code> schema:
                        </p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur for
    SELECT VALUE(p) 
    FROM TABLE(
     DBMS_SQLSET.SELECT_CURSOR_CACHE('parsing_schema_name &lt;&gt; ''SYS''')) p;
 
  -- Process each statement (or pass cursor to load_sqlset).
 
  CLOSE cur;
end;
/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-A86724B8-BCF2-4F02-808E-A2A6184D61C8">
                        <p class="titleinexample">Example 162-6 All Statements from an Application Module and Action</p>
                        <p>This example processes all statements from a specified application module and action:</p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(p) 
    FROM TABLE(
      DBMS_SQLSET.SELECT_CURSOR_CACHE(
         'module = ''MY_APPLICATION'' and action = ''MY_ACTION''')) p;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-174A2B98-05C9-45DB-BDA6-25EB99125883">
                        <p class="titleinexample">Example 162-7 All Statements Whose Elapsed Time Is At Least Five Seconds</p>
                        <p>This example processes all statements that ran for at least five seconds:</p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(P) 
    FROM table(DBMS_SQLSET.SELECT_CURSOR_CACHE('elapsed_time &gt; 5000000')) P;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;
/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-D5AA7C0A-0FC3-4C16-8680-A54F4370357E">
                        <p class="titleinexample">Example 162-8 Statements Parsed in the APPS Schema</p>
                        <p>This example processes all SQL statements that were parsed in the <code class="codeph">APPS</code> schema and had more than 100 buffer gets:
                        </p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(p) 
    FROM TABLE(
      DBMS_SQLSET.SELECT_CURSOR_CACHE(
        'buffer_gets &gt; 100 and parsing_schema_name = ''APPS'''))p;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;
/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-E5458115-D3D6-48E0-B9C7-AB7FA560AB8F">
                        <p class="titleinexample">Example 162-9 Plans and SQL Statements</p>
                        <p>This example processes all SQL statements exceeding 5 seconds. It also selects the plans for these statements. For performance reasons, the example selects execution statistics and SQL binds. The <code class="codeph">SQL_PLAN</code> attribute of <code class="codeph">sqlset_row</code> is <code class="codeph">NULL</code>.
                        </p><pre class="pre codeblock"><code>-- select all statements exceeding 5 seconds in elapsed time, but also
-- select the plans (by default we only select execution stats and binds
-- for performance reasons - in this case the SQL_PLAN attribute of sqlset_row
-- is NULL) 
DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(p) 
    FROM TABLE(DBMS_SQLSET.SELECT_CURSOR_CACHE(
      basic_filter      =&gt; 'elapsed_time &gt; 5000000', 
      object_filter     =&gt; NULL, 
      ranking_measure1  =&gt; NULL, 
      ranking_measure2  =&gt; NULL, 
      ranking_measure3  =&gt; NULL, 
      result_percentage =&gt; 1, 
      result_limit      =&gt; NULL,
      attribute_list    =&gt; 'EXECUTION_STATISTICS, SQL_BINDS, SQL_PLAN',
      recursive_sql     =&gt; HAS_RECURSIVE_SQL)) p;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-E9BAD0F6-B459-4770-A49C-1A3E84A0FB73">
                        <p class="titleinexample">Example 162-10 Top 100 Statements Ordered by Elapsed Time</p>
                        <p>This example selects the top 100 statements in the shared SQL area, ordered by elapsed time:</p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(p) 
    FROM TABLE(DBMS_SQLSET.SELECT_CURSOR_CACHE(
      basic_filter      =&gt; NULL,
      object_filter     =&gt; NULL,
      ranking_measure_1 =&gt; 'ELAPSED_TIME', 
      ranking_measure_2 =&gt; NULL, 
      ranking_measure_3 =&gt; NULL,
      result_percentage =&gt; 1,
      result_limit      =&gt; 100,
      attribute_list    =&gt; 'TYPICAL',
      recursive_sql     =&gt; HAS_RECURSIVE_SQL))) p;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;
/
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AA538760-6B33-4A86-A4F5-85C049A3BD57__GUID-52131506-7157-47ED-9955-CF625D03FE00">
                        <p class="titleinexample">Example 162-11 Statements Responsible for Most Buffer Gets</p>
                        <p>This example processes statements that cumulatively account for 90% of the buffer gets in the shared SQL area. The buffer gets of all statements added together is approximately 90% of the sum of all statements currently in the shared SQL area.</p><pre class="pre codeblock"><code>DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE(P) 
    FROM table(DBMS_SQLSET.SELECT_CURSOR_CACHE(
      basic_filter      =&gt; NULL,
      object_filter     =&gt; NULL,
      ranking_measure_1 =&gt; 'BUFFER_GETS', 
      ranking_measure_2 =&gt; NULL, 
      ranking_measure_3 =&gt; NULL,
      result_percentage =&gt; .9,
      result_limit      =&gt; NULL,
      attribute_list    =&gt; 'TYPICAL',
      recursive_sql     =&gt; HAS_RECURSIVE_SQL))) p;
 
  -- Process each statement (or pass cursor to load_sqlset).
 
  CLOSE cur;
END;
/</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649" name="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649"></a><h4 id="ARPLS-GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649" class="sect4"><span class="enumeration_section">162.4.12 </span>SELECT_SQL_TRACE Function
                  </h4>
                  <div>
                     <p><span>This table function reads the content of one or more trace files and returns the SQL statements it finds in the format of <code class="codeph">sqlset_row</code>.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__GUID-0473FE78-DD9A-43CC-A70B-B281801E14E0">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.SELECT_SQL_TRACE (
  directory              IN VARCHAR2,
  file_name              IN VARCHAR2 := NULL,
  mapping_table_name     IN VARCHAR2 := NULL,
  mapping_table_owner    IN VARCHAR2 := NULL,,
  select_mode            IN POSITIVE := SINGLE_EXECUTION,
  options                IN BINARY_INTEGER := LIMITED_COMMAND_TYPE,
  pattern_start          IN VARCHAR2 := NULL,
  pattern_end            IN VARCHAR2 := NULL,
  result_limit           IN POSITIVE := NULL)
 RETURN sys.sqlset PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__d5e2297">Parameters</p>
                        <div class="tblformal" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__d5e2300">
                           <p class="titleintable">Table 162-14 SELECT_SQL_TRACE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_SQL_TRACE Function Parameters " summary="This table describes Parameters used by the SELECT_SQL_TRACE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e4168">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e4171">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4176" headers="d917986e4168 ">
                                       <p><code class="codeph">directory</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4176 d917986e4171 ">
                                       <p>Defines the directory object containing the trace files. This field is mandatory.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4184" headers="d917986e4168 ">
                                       <p><code class="codeph">file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4184 d917986e4171 ">
                                       <p>Specifies all or part of the name of the trace files. </p>
                                       <p>If <code class="codeph">NULL</code>, then the function uses the current or most recent file in the specified location or path. <code class="codeph">'%'</code> wildcards are supported for matching trace file names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4200" headers="d917986e4168 ">
                                       <p><code class="codeph">mapping_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4200 d917986e4171 ">
                                       <p>Specifies the mapping table name. </p>
                                       <p>Note that the mapping table name is case insensitive. If the mapping table name is <code class="codeph">NULL</code>, then the function uses the mappings in the current database.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4213" headers="d917986e4168 ">
                                       <p><code class="codeph">mapping_table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4213 d917986e4171 ">
                                       <p>Specifies the mapping table owner. </p>
                                       <p>If it is <code class="codeph">NULL</code>, then the function uses the current user.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4226" headers="d917986e4168 ">
                                       <p><code class="codeph">select_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4226 d917986e4171 ">
                                       <p>Specifies the mode for selecting SQL from the trace.</p>
                                       <p>Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SINGLE_EXECUTION</code> — Returns one execution of a SQL. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL_EXECUTIONS</code> — Returns all executions.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4247" headers="d917986e4168 ">
                                       <p><code class="codeph">options</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4247 d917986e4171 ">
                                       <p>Specifies which types of SQL statements are returned.</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">LIMITED_COMMAND_TYPE</code> — Returns the SQL statements with the command types <code class="codeph">CREATE</code>, <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code>. This value is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL_COMMAND_TYPE</code> — Returns the SQL statements with all command types.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4285" headers="d917986e4168 ">
                                       <p><code class="codeph">pattern_start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4285 d917986e4171 ">
                                       <p>Specifies the delimiting pattern of the trace file sections to consider. CURRENTLY INOPERABLE.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4293" headers="d917986e4168 ">
                                       <p><code class="codeph">pattern_end</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4293 d917986e4171 ">
                                       <p>Specifies the closing delimiting pattern of the trace file sections to process. CURRENTLY INOPERABLE.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4301" headers="d917986e4168 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4301 d917986e4171 ">
                                       <p>Specifies the top SQL from the filtered source. Default to <code class="codeph">MAXSB4</code> if <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__d5e2457">Return Values</p>
                        <p>This function returns a <code class="codeph">SQLSET_ROW</code> object.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__GUID-D589CB3B-4954-4D4C-8B82-BA19CDE846AC">Usage Notes</p>
                        <p>The ability to create a directory object for the system directory creates a potential security issue. For example, in a CDB, all containers write trace files to the same directory. A local user with <code class="codeph">SELECT</code> privileges on this directory can read the contents of trace files belonging to any container.
                        </p>
                        <p>To prevent this type of unauthorized access, copy the files from the default SQL trace directory into a different directory, and then create a directory object. Use the <code class="codeph">PATH_PREFIX</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to ensure that all directory object paths associated with the PDB are restricted to the specified directory or its subdirectories.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__GUID-05F20254-64DD-4621-AB06-4DB1A00097CC">Examples</p>
                        <p>The following code shows how to enable SQL trace for a few SQL statements and load the results into a SQL tuning set:</p><pre class="pre codeblock"><code>-- turn on the SQL trace in the capture database
ALTER SESSION SET EVENTS '10046 TRACE NAME CONTEXT FOREVER, LEVEL 4'

-- run sql statements
SELECT 1 FROM DUAL;
SELECT COUNT(*) FROM dba_tables WHERE table_name = :mytab;
 
ALTER SESSION SET EVENTS '10046 TRACE NAME CONTEXT OFF';
 
-- create mapping table from the capture database
CREATE TABLE mapping AS
SELECT object_id id, owner, substr(object_name, 1, 30) name
   FROM dba_objects
   WHERE object_type NOT IN ('CONSUMER GROUP', 'EVALUATION CONTEXT',
                             'FUNCTION', 'INDEXTYPE', 'JAVA CLASS',
                             'JAVA DATA', 'JAVA RESOURCE', 'LIBRARY',
                             'LOB', 'OPERATOR', 'PACKAGE',
                             'PACKAGE BODY', 'PROCEDURE', 'QUEUE',
                             'RESOURCE PLAN', 'TRIGGER', 'TYPE',
                             'TYPE BODY')
UNION ALL
SELECT user_id id, username owner, NULL name
   FROM dba_users;
 
-- create the directory object where the SQL traces are stored
CREATE DIRECTORY SQL_TRACE_DIR as '/home/foo/trace';

-- create the STS
EXEC DBMS_SQLSET.CREATE_SQLSET('my_sts', 'test purpose');
 
-- load the SQL statements into STS from SQL TRACE
DECLARE
   cur sys_refcursor;
BEGIN
   OPEN cur FOR
   SELECT value(p)
     FROM TABLE(
        DBMS_SQLSET.SELECT_SQL_TRACE(
           directory=&gt;'SQL_TRACE_DIR',
           file_name=&gt;'%trc',
           mapping_table_name=&gt;'mapping')) p;
   DBMS_SQLSET.LOAD_SQLSET('my_sts', cur);
   CLOSE cur;
END;
/ </code></pre><div class="infoboxnotealso" id="GUID-98BE5AFB-C5B6-4495-AC53-5F8952A48649__GUID-38B15980-9AA1-4331-8878-9A5B1917D34B">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/CREATE-PLUGGABLE-DATABASE.html#SQLRF55686" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">PATH_PREFIX</code> clause
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0" name="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0"></a><h4 id="ARPLS-GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0" class="sect4"><span class="enumeration_section">162.4.13 </span>SELECT_SQLPA_TASK Function
                  </h4>
                  <div>
                     <p><span>This function collects SQL statements from a SQL Performance Analyzer comparison task.</span></p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__GUID-23E1DE01-14F4-4BC7-80CA-1D1830EDAA8D">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ratug/comparing-sql-trials.html#GUID-0B629FA1-FF45-44D0-BB2D-28FF762BC102" target="_blank"><span><cite>Oracle Database Testing Guide</cite></span></a> for a <code class="codeph">SELECT_SQLPA_TASK</code> example
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__GUID-9DF15692-D0DA-4476-B5BE-5EA8A9971DEC">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.SELECT_SQLPA_TASK(
    task_name         IN VARCHAR2,
    task_owner        IN VARCHAR2 := NULL,
    execution_name    IN VARCHAR2 := NULL,
    level_filter      IN VARCHAR2 := 'REGRESSED',
    basic_filter      IN VARCHAR2 := NULL,
    object_filter     IN VARCHAR2 := NULL,
    attribute_list    IN VARCHAR2 := 'TYPICAL')
RETURN sys.sqlset PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__d5e2466">Parameters</p>
                        <div class="tblformal" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__d5e2469">
                           <p class="titleintable">Table 162-15 SELECT_SQLPA_TASK Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_SQLPA_TASK Function Parameters " summary="This table describes Parameters used by the SELECT_SQLPA_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d917986e4479">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d917986e4482">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4487" headers="d917986e4479 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4487 d917986e4482 ">
                                       <p>Specifies the name of the SQL Performance Analyzer task.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4495" headers="d917986e4479 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4495 d917986e4482 ">
                                       <p>Specifies the owner of the SQL Performance Analyzer task. If <code class="codeph">NULL</code>, then assume the current user.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4506" headers="d917986e4479 ">
                                       <p><code class="codeph">execution_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4506 d917986e4482 ">
                                       <p>Specifies the name of the SQL Performance Analyzer task execution (type <code class="codeph">COMPARE PERFORMANCE</code>) from which the provided filters will be applied. If <code class="codeph">NULL</code>, then assume the most recent <code class="codeph">COMPARE PERFORMANCE</code> execution.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4523" headers="d917986e4479 ">
                                       <p><code class="codeph">level_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4523 d917986e4482 ">
                                       <p>Specifies which subset of SQL statements to include. Same format as <code class="codeph">DBMS_SQLPA.REPORT_ANALYSIS_TASK.LEVEL</code>, with some possible strings removed.
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">IMPROVED</code> includes only improved SQL.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">REGRESSED</code> includes only regressed SQL (default).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CHANGED</code> includes only SQL with changed performance.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNCHANGED</code> includes only SQL with unchanged performance.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CHANGED_PLANS</code> includes only SQL with plan changes.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">UNCHANGED_PLANS</code> includes only SQL with unchanged plans.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ERRORS</code> includes only SQL with errors only.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MISSING_SQL</code> includes only missing SQL statements (across STS).
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NEW_SQL</code> includes only new SQL statements (across STS).
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4580" headers="d917986e4479 ">
                                       <p><code class="codeph">basic filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4580 d917986e4482 ">
                                       <p>Specifies the SQL predicate to filter the SQL in addition to the level filters.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4588" headers="d917986e4479 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4588 d917986e4482 ">
                                       <p>Currently not supported.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e4596" headers="d917986e4479 ">
                                       <p><code class="codeph">attribute_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e4596 d917986e4482 ">
                                       <p>Defines the SQL statement attributes to return in the result. </p>
                                       <p>Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> — Returns <code class="codeph">BASIC</code> plus the SQL plan (without row source statistics) and without an object reference list. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> — Returns all attributes (such as execution statistics and binds) except the plans. The execution context is always part of the result.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> — Returns all attributes. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>Comma-separated list of attribute names this allows to return only a subset of SQL attributes:<code class="codeph"> EXECUTION_STATISTICS</code>, <code class="codeph">SQL_BINDS</code>, <code class="codeph">SQL_PLAN_STATISTICS</code> (similar to <code class="codeph">SQL_PLAN</code> + row source statistics).
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__d5e2640">Return Values</p>
                        <p>This function returns a SQL tuning set object.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DAAA4DAE-9694-4530-BD2A-01EC33515BA0__d5e2646">Usage Notes</p>
                        <p>For example, you can use this function to create a SQL tuning set containing the subset of SQL statements that regressed during a SQL Performance Analyzer (SPA) experiment. You can also specify other arbitrary filters.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21" name="GUID-9D995019-91AB-4B1E-9EAF-031050789B21"></a><h4 id="ARPLS-GUID-9D995019-91AB-4B1E-9EAF-031050789B21" class="sect4"><span class="enumeration_section">162.4.14 </span>SELECT_SQLSET Function
                  </h4>
                  <div>
                     <p><span>This is a table function that reads the contents of a SQL tuning set.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__GUID-A67AF322-8F5C-445B-93B5-1AA6B4F47AD5">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.SELECT_SQLSET (
  sqlset_name         IN   VARCHAR2,
  basic_filter        IN   VARCHAR2 := NULL,
  object_filter       IN   VARCHAR2 := NULL,
  ranking_measure1    IN   VARCHAR2 := NULL,
  ranking_measure2    IN   VARCHAR2 := NULL,
  ranking_measure3    IN   VARCHAR2 := NULL,
  result_percentage   IN   NUMBER   := 1,
  result_limit        IN   NUMBER   := NULL)
  attribute_list      IN   VARCHAR2 := 'TYPICAL',
  plan_filter         IN   VARCHAR2 := NULL,
  sqlset_owner        IN   VARCHAR2 := NULL,
  recursive_sql       IN   VARCHAR2 := HAS_RECURSIVE_SQL)
 RETURN sys.sqlset PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__d5e2652">Parameters</p>
                        <div class="tblformal" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__d5e2655">
                           <p class="titleintable">Table 162-16 SELECT_SQLSET Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_SQLSET Function Parameters " summary="This table describes Parameters used by the SELECT_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e4761">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e4764">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4769" headers="d917986e4761 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4769 d917986e4764 ">
                                       <p>Specifies the name of the SQL tuning set to query.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4777" headers="d917986e4761 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4777 d917986e4764 ">
                                       <p>Specifies the SQL predicate to filter the SQL from the SQL tuning set defined on attributes of the <code class="codeph">SQLSET_ROW</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4788" headers="d917986e4761 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4788 d917986e4764 ">
                                       <p>Currently not supported.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4796" headers="d917986e4761 ">
                                       <p><code class="codeph">ranking_measure(n)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4796 d917986e4764 ">
                                       <p>Specifies an <code class="codeph">ORDER BY</code> clause on the selected SQL.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4807" headers="d917986e4761 ">
                                       <p><code class="codeph">result_percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4807 d917986e4764 ">
                                       <p>Specifies a filter that picks the top <span class="italic">n</span>% according to the supplied ranking measure. 
                                       </p>
                                       <p>Note that this parameter applies only if one ranking measure is supplied.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4820" headers="d917986e4761 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4820 d917986e4764 ">
                                       <p>The top limit SQL from the filtered source, ranked by the ranking measure.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4828" headers="d917986e4761 ">
                                       <p><code class="codeph">attribute_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4828 d917986e4764 ">
                                       <p>Defines the SQL statement attributes to return in the result.</p>
                                       <p>The possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">BASIC</code> — Returns all attributes (such as execution statistics and binds) except the plans. The execution context is included in the result.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> — Returns <code class="codeph">BASIC</code> plus the SQL plan, but without row source statistics and without the object reference list. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> — Returns all attributes.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Comma-separated list of attribute names. This value enables the function to return only a subset of SQL attributes:</p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><code class="codeph">EXECUTION_STATISTICS</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_BINDS</code></p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">SQL_PLAN_STATISTICS</code> (similar to <code class="codeph">SQL_PLAN</code> plus row source statistics)
                                                   </p>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4877" headers="d917986e4761 ">
                                       <p><code class="codeph">plan_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4877 d917986e4764 ">
                                       <p>Specifies the plan filter.</p>
                                       <p>This parameter enables you to select a single plan when a statement has multiple plans. Possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">LAST_GENERATED</code> — Returns the plan with the most recent timestamp.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_GENERATED</code> — Returns the plan with the least recent timestamp.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LAST_LOADED</code> — Returns the plan with the most recent <code class="codeph">FIRST_LOAD_TIME</code> statistical information.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_LOADED</code> — Returns the plan with the least recent <code class="codeph">FIRST_LOAD_TIME</code> statistical information.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_ELAPSED TIME</code> — Returns the plan with the maximum elapsed time.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_BUFFER_GETS</code> — Returns the plan with the maximum buffer gets.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DISK_READS</code> — Returns the plan with the maximum disk reads.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DIRECT_WRITES</code> — Returns the plan with the maximum direct writes.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_OPTIMIZER_COST</code> — Returns the plan with the maximum optimizer cost value.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4939" headers="d917986e4761 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4939 d917986e4764 ">
                                       <p>Specifies the owner of the SQL tuning set, or <code class="codeph">NULL</code> for the current schema owner.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e4950" headers="d917986e4761 ">
                                       <p><code class="codeph">recursive_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e4950 d917986e4764 ">
                                       <p>Specifies that the filter must include recursive SQL in the SQL tuning set (<code class="codeph">HAS_RECURSIVE_SQL</code>, which is the default) or exclude it (<code class="codeph">NO_RECURSIVE_SQL</code>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__d5e2869">Return Values</p>
                        <p>This function returns one <code class="codeph">SQLSET_ROW</code> per <code class="codeph">SQL_ID</code> or <code class="codeph">PLAN_HASH_VALUE</code> pair found in each data source.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__d5e2884">Usage Notes</p>
                        <p>Filters provided to this function are evaluated as part of a SQL run by the current user. As such, they are executed with that user's security privileges and can contain any constructs and subqueries that user can access, but no more.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9D995019-91AB-4B1E-9EAF-031050789B21__GUID-630B7620-11F5-4417-B958-48E747C0473B">Examples</p><pre class="pre codeblock"><code>-- select from a sql tuning set
DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE (P) 
    FROM table(DBMS_SQLSET.SELECT_SQLSET('my_workload')) P;
 
  -- Process each statement (or pass cursor to load_sqlset) 

  CLOSE cur;
END;
/</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8" name="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8"></a><h4 id="ARPLS-GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8" class="sect4"><span class="enumeration_section">162.4.15 </span>SELECT_WORKLOAD_REPOSITORY Function
                  </h4>
                  <div>
                     <p><span>This function collects SQL statements from the workload repository.</span></p>
                     <div class="section">
                        <p>The overloaded forms enable you to collect SQL statements from the following sources:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Snapshots between <code class="codeph">begin_snap</code> and <code class="codeph">end_snap</code></p>
                           </li>
                           <li>
                              <p>A workload repository baseline</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__GUID-AD27DBE5-782D-4584-9DEC-7EB1640706C3">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.SELECT_WORKLOAD_REPOSITORY (
  begin_snap        IN NUMBER,
  end_snap          IN NUMBER,
  basic_filter      IN VARCHAR2 := NULL,
  object_filter     IN VARCHAR2 := NULL,
  ranking_measure1  IN VARCHAR2 := NULL,
  ranking_measure2  IN VARCHAR2 := NULL,
  ranking_measure3  IN VARCHAR2 := NULL,
  result_percentage IN NUMBER   := 1,
  result_limit      IN NUMBER   := NULL,
  attribute_list    IN VARCHAR2 := 'TYPICAL',
  recursive_sql     IN VARCHAR2 := HAS_RECURSIVE_SQL,
  dbid              IN NUMBER   := NULL)
 RETURN sys.sqlset PIPELINED;

DBMS_SQLSET.SELECT_WORKLOAD REPOSITORY (
  baseline_name     IN VARCHAR2,
  basic_filter      IN VARCHAR2 := NULL,
  object_filter     IN VARCHAR2 := NULL,
  ranking_measure1  IN VARCHAR2 := NULL,
  ranking_measure2  IN VARCHAR2 := NULL,
  ranking_measure3  IN VARCHAR2 := NULL,
  result_percentage IN NUMBER   := 1,
  result_limit      IN NUMBER   := NULL,
  attribute_list    IN VARCHAR2 := 'TYPICAL',
  recursive_sql     IN VARCHAR2 := HAS_RECURSIVE_SQL,
  dbid              IN NUMBER   := NULL)
 RETURN sys.sqlset PIPELINED;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__d5e2905">Parameters</p>
                        <div class="tblformal" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__d5e2908">
                           <p class="titleintable">Table 162-17 SELECT_WORKLOAD_REPOSITORY Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_WORKLOAD_REPOSITORY Function Parameters " summary="This table describes Parameters used by the SELECT_WORKLOAD_REPOSITORY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e5113">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e5116">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5121" headers="d917986e5113 ">
                                       <p><code class="codeph">begin_snap</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5121 d917986e5116 ">
                                       <p>Defines the beginning AWR snapshot (non-inclusive).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5129" headers="d917986e5113 ">
                                       <p><code class="codeph">end_snap</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5129 d917986e5116 ">
                                       <p>Defines the ending AWR snapshot (inclusive).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5137" headers="d917986e5113 ">
                                       <p><code class="codeph">baseline_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5137 d917986e5116 ">
                                       <p>Specifies the name of the AWR baseline period.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5145" headers="d917986e5113 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5145 d917986e5116 ">
                                       <p>Specifies the SQL predicate to filter the SQL from the workload repository. The filter is defined on attributes of the <code class="codeph">SQLSET_ROW</code>.
                                       </p>
                                       <p>If <code class="codeph">basic_filter</code> is not set by the caller, then the subprogram captures only statements of type <code class="codeph">CREATE TABLE</code>, <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5180" headers="d917986e5113 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5180 d917986e5116 ">
                                       <p>Currently not supported.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5188" headers="d917986e5113 ">
                                       <p><code class="codeph">ranking_measure(n)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5188 d917986e5116 ">
                                       <p>Defines an <code class="codeph">ORDER BY</code> clause on the selected SQL.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5199" headers="d917986e5113 ">
                                       <p><code class="codeph">result_percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5199 d917986e5116 ">
                                       <p>Specifies a filter that picks the top <span class="italic">n</span>% according to the supplied ranking measure. Note that this percentage applies only if one ranking measure is given.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5210" headers="d917986e5113 ">
                                       <p><code class="codeph">result_limit</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5210 d917986e5116 ">
                                       <p>Specifies the top limit SQL from the source according to the supplied ranking measure.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5218" headers="d917986e5113 ">
                                       <p><code class="codeph">attribute_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5218 d917986e5116 ">
                                       <p>Specifies the SQL statement attributes to return in the result. The possible values are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TYPICAL</code> — Returns <code class="codeph">BASIC</code> plus SQL plan (without row source statistics) and without object reference list. This is the default.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BASIC</code> — Returns all attributes (such as execution statistics and binds) are returned except the plans. The execution context is always part of the result.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code> — Returns all attributes 
                                             </p>
                                          </li>
                                          <li>
                                             <p>Comma-separated list of attribute names this allows to return only a subset of SQL attributes: <code class="codeph">EXECUTION_STATISTICS</code>, <code class="codeph">SQL_BINDS</code>, <code class="codeph">SQL_PLAN_STATISTICS</code> (similar to <code class="codeph">SQL_PLAN</code> plus row source statistics).
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5260" headers="d917986e5113 ">
                                       <p><code class="codeph">recursive_sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5260 d917986e5116 ">
                                       <p>Specifies the filter that includes recursive SQL in the SQL tuning set (<code class="codeph">HAS_RECURSIVE_SQL</code>) or excludes it (<code class="codeph">NO_RECURSIVE_SQL</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5274" headers="d917986e5113 ">
                                       <p><code class="codeph">dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5274 d917986e5116 ">
                                       <p>Specifies the DBID for imported or PDB-level AWR data. If <code class="codeph">NULL</code>, then the function uses the current database DBID.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__d5e3090">Return Values</p>
                        <p>This function returns one <code class="codeph">SQLSET_ROW</code> per <code class="codeph">SQL_ID</code> or <code class="codeph">PLAN_HASH_VALUE</code> pair found in each data source.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__d5e3105">Usage Notes</p>
                        <p>Filters provided to this function are evaluated as part of a SQL run by the current user. As such, they are executed with that user's security privileges and can contain any constructs and subqueries that user can access, but no more.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96E5E452-023E-4198-9E1E-496B92FBE7C8__GUID-C2EF0DBE-BC94-4C67-AC72-85C807D7123E">Examples</p><pre class="pre codeblock"><code>-- select statements from snapshots 1-2
DECLARE
  cur sys_refcursor;
BEGIN
  OPEN cur FOR
    SELECT VALUE (P) 
    FROM table(DBMS_SQLSET.SELECT_WORKLOAD_REPOSITORY(1,2)) P;
 
  -- Process each statement (or pass cursor to load_sqlset)
 
  CLOSE cur;
END;
/</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF" name="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF"></a><h4 id="ARPLS-GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF" class="sect4"><span class="enumeration_section">162.4.16 </span>UNPACK_STGTAB Procedure
                  </h4>
                  <div>
                     <p><span>This procedure copies one or more SQL tuning sets from their location in the staging table into the SQL tuning sets schema, making them proper SQL tuning sets.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF__GUID-899FC5EB-6308-412D-8F18-337F2D6433AE">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.UNPACK_STGTAB (
   sqlset_name          IN VARCHAR2 := '%',
   sqlset_owner         IN VARCHAR2 := NULL,
   replace              IN BOOLEAN,
   staging_table_name   IN VARCHAR2,
   staging_schema_owner IN VARCHAR2 := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF__d5e3746">Parameters</p>
                        <p>The parameters are identical for <code class="codeph">DBMS_SQLTUNE.UNPACK_STGTAB_SQLSET</code> and <code class="codeph">DBMS_SQLSET.UNPACK_STGTAB</code>.
                        </p>
                        <div class="tblformal" id="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF__d5e3757">
                           <p class="titleintable">Table 162-18 UNPACK_STGTAB_SQLSET and UNPACK_STGTAB Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNPACK_STGTAB_SQLSET and UNPACK_STGTAB Procedure Parameters " summary="This table describes Parameters used by the DBMS_SQLTUNE.UNPACK_STGTAB_SQLSET and DBMS_SQLSET.UNPACK_STGTAB subprograms." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d917986e5423">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d917986e5426">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e5431" headers="d917986e5423 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e5431 d917986e5426 ">
                                       <p>Specifies the name of the tuning set to unpack (not null). </p>
                                       <p>Wildcard characters (<code class="codeph">%</code>) are supported to unpack multiple tuning sets in a single call. For example, specify <code class="codeph">%</code> to unpack all tuning sets from the staging table.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e5447" headers="d917986e5423 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e5447 d917986e5426 ">
                                       <p>Specifies the name of tuning set owner, or <code class="codeph">NULL</code> for the current schema owner. Wildcard characters (<code class="codeph">%</code>) are supported.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e5461" headers="d917986e5423 ">
                                       <p><code class="codeph">replace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e5461 d917986e5426 ">
                                       <p>Specifies whether to replace an existing SQL tuning set. If <code class="codeph">FALSE</code>, then this procedure raises errors when you try to create a tuning set that already exists.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e5472" headers="d917986e5423 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e5472 d917986e5426 ">
                                       <p>Specifies the name of the staging table, moved after a call to the <code class="codeph">DBMS_SQLTUNE.PACK_STGTAB_SQLSET</code> or <code class="codeph">DBMS_SQLSET.PACK_STGTAB</code> procedure (case-sensitive).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d917986e5486" headers="d917986e5423 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d917986e5486 d917986e5426 ">
                                       <p>Specifies the name of staging table owner, or <code class="codeph">NULL</code> for the current schema owner (case-sensitive).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DF822AB-9D21-4DFB-8946-0C2C07BD9EAF__GUID-293569F9-9B5D-4352-B042-8175059479E7">Examples</p><pre class="pre codeblock"><code> -- unpack all STS in the staging table
EXEC DBMS_SQLSET.UNPACK_STGTAB(sqlset_name         =&gt; '%', -
                               sqlset_owner        =&gt; '%', -
                               replace             =&gt; FALSE, -
                               staging_table_name  =&gt; 'STGTAB_SQLSET');
 
-- errors can arise during STS unpack when a STS in the staging table has the
-- same name/owner as STS on the system.  In this case, users should call
-- remap_stgtab_sqlset to patch the staging table and with which to call unpack
-- Replace set to TRUE.
EXEC DBMS_SQLSET.UNPACK_STGTAB(sqlset_name         =&gt; '%', -
                               sqlset_owner        =&gt; '%', -
                               replace             =&gt; TRUE, -
                               staging_table_name  =&gt; 'STGTAB_SQLSET');</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA" name="GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA"></a><h4 id="ARPLS-GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA" class="sect4"><span class="enumeration_section">162.4.17 </span>UPDATE_SQLSET Procedures
                  </h4>
                  <div>
                     <p><span>This overloaded procedure updates selected fields for SQL statements in a SQL tuning set.</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA__GUID-E0BF9E66-F046-4F51-B7EA-0BE8E9996BD4">Syntax</p><pre class="pre codeblock"><code>DBMS_SQLSET.UPDATE_SQLSET (
   sqlset_name      IN  VARCHAR2,
   sql_id           IN  VARCHAR2,
   plan_hash_value  IN  NUMBER := NULL,
   attribute_name   IN  VARCHAR2,
   attribute_value  IN  VARCHAR2 := NULL,
   sqlset_owner     IN  VARCHAR2 := NULL);

DBMS_SQLSET.UPDATE_SQLSET (
   sqlset_name      IN  VARCHAR2,
   sql_id           IN  VARCHAR2,
   plan_hash_value  IN  NUMBER := NULL,
   attribute_name   IN  VARCHAR2,
   attribute_value  IN  NUMBER := NULL,
   sqlset_owner     IN  VARCHAR2 := NULL);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA__d5e3111">Parameters</p>
                        <div class="tblformal" id="GUID-F2831B8D-135B-46B5-BCAE-788CCFC9F7DA__d5e3114">
                           <p class="titleintable">Table 162-19 UPDATE_SQLSET Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATE_SQLSET Procedure Parameters " summary="This table describes parameters used by the UPDATE_SQLSET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d917986e5609">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d917986e5612">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5617" headers="d917986e5609 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5617 d917986e5612 ">
                                       <p>Specifies the name of the SQL tuning set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5625" headers="d917986e5609 ">
                                       <p><code class="codeph">sql_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5625 d917986e5612 ">
                                       <p>Specifies the identifier of the SQL statement to be updated.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5633" headers="d917986e5609 ">
                                       <p><code class="codeph">plan_hash value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5633 d917986e5612 ">
                                       <p>Specifies the hash value of the execution plan for a SQL statement.</p>
                                       <p>Use this parameter when you want to update the attribute for a specific plan for a statement, but not all plans for the statement.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5643" headers="d917986e5609 ">
                                       <p><code class="codeph">attribute_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5643 d917986e5612 ">
                                       <p>Specifies the name of the attribute to be modified.</p>
                                       <p>You can update the text field for <code class="codeph">MODULE</code>, <code class="codeph">ACTION</code>, <code class="codeph">PARSING_SCHEMA_NAME</code>, and <code class="codeph">OTHER</code>. The only numerical field that you can update is <code class="codeph">PRIORITY</code>.
                                       </p>
                                       <p>If a statement has multiple plans, then the procedure changes the attribute value for all plans.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d917986e5670" headers="d917986e5609 ">
                                       <p><code class="codeph">attribute_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d917986e5670 d917986e5612 ">
                                       <p>Specifies the new value of the attribute.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>