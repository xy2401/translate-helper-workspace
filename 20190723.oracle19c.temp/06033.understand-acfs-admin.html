<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Understanding Oracle ACFS Administration</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="understand-acfs-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="overview-advm.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understand-acfs-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="overview-advm.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle Automatic Storage Management Cluster File System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="intro-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Introducing Oracle ACFS and Oracle ADVM </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Understanding Oracle ACFS Administration</li>
            </ol>
            <a id="GUID-DFB6295E-0065-41F1-A9D1-41BF417EBC18" name="GUID-DFB6295E-0065-41F1-A9D1-41BF417EBC18"></a><a id="OSTMG34000"></a>
            
            <h2 id="OSTMG-GUID-DFB6295E-0065-41F1-A9D1-41BF417EBC18" class="sect2">Understanding Oracle ACFS Administration</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d109608e136" class="indexterm-anchor"></a><a id="d109608e140" class="indexterm-anchor"></a>This section describes Oracle ACFS administration and contains the following topics:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0" title="Oracle ACFS supports both traditional Unix-style file access control classes (user, group, other) for Linux environments and the Windows Security Model including file access control lists (ACLs) for Windows platforms.">Oracle ACFS and File Access and Administration Security</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-DC550AE4-E3E4-410C-8838-252A848CE77E">Oracle ACFS and Grid Infrastructure Installation</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-529A3262-32EA-4C6D-901A-AB9F8B43EED8">Oracle ACFS Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11" title="This topic describes the Oracle ACFS features enabled by valid combinations of the disk group compatibility attribute settings.">Oracle ACFS Features Enabled by Compatibility Attribute Settings</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B">Oracle Clusterware Resources and Oracle ACFS Administration</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-F1170720-3244-4F99-ADB3-799439ADD089">Oracle ACFS and Dismount or Shutdown Operations</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" title="Oracle ACFS security provides realm-based security for Oracle ACFS file systems, enabling you to create realms to specify security policies for users and groups to determine access on file system objects.">Oracle ACFS Security</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS encryption enables you to encrypt data stored on disk (data-at-rest).">Oracle ACFS Encryption</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-7E372847-D7BA-4872-8A79-03300AF500C5" title="Oracle ACFS compression is enabled on a specified Oracle ACFS file system for general purpose files. Oracle ACFS compression is not supported for Oracle Database files.">Oracle ACFS Compression</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9" title="Both Oracle ACFS security and encryption are also audit sources, and these sources can be enabled and disabled by an Oracle ACFS audit manager. These sources generate events as a result of the execution of Oracle ACFS security or encryption commands.">Oracle ACFS Auditing</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS snapshot-based replication enables replication of Oracle ACFS file systems across a network to a remote site, providing disaster recovery capability for the file system.">Oracle ACFS Replication</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" title="Oracle ACFS tagging assigns a common naming attribute to a group of files.">Oracle ACFS Tagging</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE">Oracle ACFS Replication with Auditing, Encryption, and Security</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD" title="The Oracle ACFS plugin functionality enables a user space application to collect just-in-time Oracle ACFS file and Oracle ADVM volume metrics from the operating system environment.">Oracle ACFS Plugins</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A">Oracle ACFS Accelerator Volume</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" title="Oracle ACFS NAS Maximum Availability eXtensions (Oracle ACFS NAS MAX) is a set of extensions that provide High Availability Extensions for Common NAS Protocols, such as NFS and SMB.">Oracle ACFS NAS Maximum Availability eXtensions</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-admin.html#GUID-348D994A-196F-41C9-A675-71AA58D7CA02">Oracle ACFS Remote Service in the Cluster Domain</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94171"></a><div class="props_rev_3"><a id="GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0" name="GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0"></a><h3 id="OSTMG-GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0" class="sect3">Oracle ACFS and File Access and Administration Security</h3>
               <div>
                  <p>Oracle ACFS supports both traditional Unix-style file access control classes (user, group, other) for Linux environments and the Windows Security Model including file access control lists (ACLs) for Windows platforms. </p>
                  <p>Most Oracle ACFS administrative actions are performed by users with either root or Oracle ASM administration privileges for Linux environments and by users with Windows Administrative privileges on Windows platforms. General Oracle ACFS information for file systems can be accessed by any system user. </p>
                  <p>In support of Oracle ACFS administration, Oracle recommends that the Oracle ASM administrator role is given to a root privileged user, as many common Oracle ACFS file system management tasks including mount, umount, fsck, driver load, and driver unload are root privileged operations. Other privileged Oracle ACFS file system operations that do not require root privileges can be performed by the Oracle ASM administrator. If the Oracle ASM administrator role is not given to a root privileged user, access to Oracle ACFS file systems can be restricted with the <code class="codeph">norootsuid</code> and <code class="codeph">nodev</code> mount options.
                  </p>
                  <p>Additional fine grain access control is provided for Oracle ACFS file systems with the security infrastructure feature. </p>
                  <div class="infoboxnotealso" id="GUID-EC577A31-256E-4FD2-9E9F-749D78B378D0__GUID-83A74020-6936-46FC-89EC-7EB49A0231B5">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" title="Oracle ACFS security provides realm-based security for Oracle ACFS file systems, enabling you to create realms to specify security policies for users and groups to determine access on file system objects.">Oracle ACFS Security</a> for information about Oracle ACFS security infrastructure
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS encryption enables you to encrypt data stored on disk (data-at-rest).">Oracle ACFS Encryption</a> for information about Oracle ACFS encryption
                           </p>
                        </li>
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-7396FD18-628B-4026-AA55-79C6D6205EAE">About Privileges for Oracle ASM</a> for information about Oracle ASM privileges
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="Numerous command-line tools are provided for managing Oracle ASM Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Managing Oracle ACFS with Command-Line Tools</a> for information about administering Oracle ACFS
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94172"></a><div class="props_rev_3"><a id="GUID-DC550AE4-E3E4-410C-8838-252A848CE77E" name="GUID-DC550AE4-E3E4-410C-8838-252A848CE77E"></a><h3 id="OSTMG-GUID-DC550AE4-E3E4-410C-8838-252A848CE77E" class="sect3">Oracle ACFS and Grid Infrastructure Installation</h3>
               <div>
                  <p><a id="d109608e582" class="indexterm-anchor"></a><a id="d109608e586" class="indexterm-anchor"></a>Oracle Grid Infrastructure includes Oracle Clusterware, Oracle ASM, Oracle ACFS, Oracle ADVM, and driver resources software components, which are installed into the Grid Infrastructure home using the Oracle Universal Installation (OUI) tool.
                  </p>
               </div>
            </div><a id="OSTMG94173"></a><div class="props_rev_3"><a id="GUID-529A3262-32EA-4C6D-901A-AB9F8B43EED8" name="GUID-529A3262-32EA-4C6D-901A-AB9F8B43EED8"></a><h3 id="OSTMG-GUID-529A3262-32EA-4C6D-901A-AB9F8B43EED8" class="sect3">Oracle ACFS Configuration</h3>
               <div>
                  <p>After a Grid Infrastructure installation and with an operational Oracle Clusterware, you can use Oracle ASM Configuration Assistant (ASMCA) to start the Oracle ASM instance and create Oracle ASM disk groups, Oracle ADVM volumes, and Oracle ACFS file systems. Alternatively, Oracle ASM disk groups and Oracle ADVM volumes can be created using SQL*Plus and ASMCMD command line tools. File systems can be created using operating system command-line tools.</p>
                  <p>Oracle ACFS file systems are configured with Oracle ADVM based operating system storage devices that are created automatically following the creation of an Oracle ADVM dynamic volume file. After a volume file and its associated volume device file are created, a file system can be created and bound to that operating system storage device. Following creation, an Oracle ACFS file system can be mounted, after which it is accessible to authorized users and applications executing file and file system operations. </p>
                  <div class="infoboxnotealso" id="GUID-529A3262-32EA-4C6D-901A-AB9F8B43EED8__GUID-51E8EFF6-3F1B-4111-B304-E697199A253A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="steps-manage-acfs.html#GUID-14BA3BA5-088D-4395-A22F-43F84006649B" title="This topic provides an overview of the basic steps when managing Oracle ACFS file systems using command-line utilities.">Basic Steps to Manage Oracle ACFS Systems</a> for an example of the specific actions required to create a file system
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-asmca.html#GUID-74A49C55-C793-42F2-8147-B4EAB962D957" title="Oracle ASM Configuration Assistant enables you to create or configure an Oracle ACFS file system. Oracle ASM Configuration Assistant enables you to configure security and encryption for an Oracle ACFS file system.">ASMCA GUI Tool for Managing Oracle ACFS and Oracle ADVM</a> for information about managing Oracle ACFS file systems with ASMCA
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="Numerous command-line tools are provided for managing Oracle ASM Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Managing Oracle ACFS with Command-Line Tools</a> for information about using Oracle ACFS commands to create a file system
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B">Oracle Clusterware Resources and Oracle ACFS Administration</a> for information about configuring Oracle Clusterware resources for use with the database
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11" name="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11"></a><h3 id="OSTMG-GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11" class="sect3">Oracle ACFS Features Enabled by Compatibility Attribute Settings</h3>
               <div>
                  <p>This topic describes the Oracle ACFS features enabled by valid combinations of the disk group compatibility attribute settings.</p>
                  <p>The following list applies to Oracle ACFS features enabled by disk group compatibility attribute settings.</p>
                  <ul style="list-style-type: disc;" id="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11__UL_ULG_XNQ_1GB">
                     <li>
                        <p>The value of <code class="codeph">COMPATIBLE.ASM</code> must always be greater than or equal to the value of <code class="codeph">COMPATIBLE.RDBMS</code> and <code class="codeph">COMPATIBLE.ADVM</code>.
                        </p>
                     </li>
                     <li>
                        <p>Starting with Oracle Grid Infrastructure 12.2.0.1 software, the minimum setting for <code class="codeph">COMPATIBLE.ASM</code> is <code class="codeph">11.2.0.2</code>.
                        </p>
                     </li>
                     <li>
                        <p>A value of not applicable (n/a) means that the setting of the attribute has no effect on the feature.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS features not explicitly listed in the following table do not require advancing the disk group compatibility attribute settings.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS features explicitly identified by an operating system in the following table are available on that operating system starting with the associated disk group attribute settings.</p>
                     </li>
                     <li>
                        <p>If encryption is configured for the first time on Oracle ASM 11<span class="italic">g </span>Release 2 (11.2.0.3) on Linux or if encryption parameters must be changed or a new volume encryption key must be created following a software upgrade to Oracle ASM 11<span class="italic">g </span>Release 2 (11.2.0.3) on Linux, then the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher.
                        </p>
                     </li>
                     <li>
                        <p>Using replication or encryption with database files on Oracle ACFS is not supported.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS on Oracle Exadata storage is supported starting with Oracle Grid Infrastructure 12.1.0.2 on Linux.</p>
                     </li>
                  </ul>
                  <p>The following table describes the Oracle ACFS features enabled by valid combinations of the disk group compatibility attribute settings.</p>
                  <div class="tblformalwide" id="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11__CHDGAGAG">
                     <p class="titleintable">Table 11-1 Oracle ACFS features enabled by disk group compatibility attribute settings</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle ACFS features enabled by disk group compatibility attribute settings" summary="Compatibility attributes table for features" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d109608e991">Disk Group Features Enabled</th>
                              <th align="left" valign="bottom" width="21%" id="d109608e994">COMPATIBLE.ASM</th>
                              <th align="left" valign="bottom" width="22%" id="d109608e997">COMPATIBLE.RDBMS</th>
                              <th align="left" valign="bottom" width="21%" id="d109608e1000">COMPATIBLE.ADVM</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1005" headers="d109608e991 ">
                                 <p><a id="d109608e1007" class="indexterm-anchor"></a>Volumes in disk groups
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1005 d109608e994 ">
                                 <p>&gt;= 11.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1005 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1005 d109608e1000 ">
                                 <p>&gt;= 11.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1022" headers="d109608e991 ">
                                 <p><a id="d109608e1024" class="indexterm-anchor"></a><a id="d109608e1028" class="indexterm-anchor"></a><a id="d109608e1032" class="indexterm-anchor"></a><a id="d109608e1036" class="indexterm-anchor"></a>Encryption, replication, security, tagging (Linux systems)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1022 d109608e994 ">
                                 <p>&gt;= 11.2.0.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1022 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1022 d109608e1000 ">
                                 <p>&gt;= 11.2.0.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1051" headers="d109608e991 ">
                                 <p><a id="d109608e1053" class="indexterm-anchor"></a>Read-only snapshots
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1051 d109608e994 ">
                                 <p>&gt;= 11.2.0.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1051 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1051 d109608e1000 ">
                                 <p>&gt;= 11.2.0.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1068" headers="d109608e991 ">
                                 <p><a id="d109608e1070" class="indexterm-anchor"></a><a id="d109608e1074" class="indexterm-anchor"></a><a id="d109608e1078" class="indexterm-anchor"></a><a id="d109608e1082" class="indexterm-anchor"></a>Encryption, replication, security, tagging (Windows systems)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1068 d109608e994 ">
                                 <p>&gt;= 11.2.0.3</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1068 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1068 d109608e1000 ">
                                 <p>&gt;= 11.2.0.3</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1097" headers="d109608e991 ">
                                 <p><a id="d109608e1099" class="indexterm-anchor"></a>Read-write snapshots
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1097 d109608e994 ">
                                 <p>&gt;= 11.2.0.3</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1097 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1097 d109608e1000 ">
                                 <p>&gt;= 11.2.0.3</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1114" headers="d109608e991 ">
                                 <p><a id="d109608e1116" class="indexterm-anchor"></a>Unlimited file system expansion
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1114 d109608e994 ">
                                 <p>&gt;= 11.2.0.4</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1114 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1114 d109608e1000 ">
                                 <p>&gt;= 11.2.0.4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1131" headers="d109608e991 ">
                                 <p><a id="d109608e1133" class="indexterm-anchor"></a>Performance and scalability improvements in <code class="codeph">ls</code> and <code class="codeph">find</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1131 d109608e994 ">
                                 <p>&gt;= 11.2.0.4</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1131 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1131 d109608e1000 ">
                                 <p>&gt;= 11.2.0.4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1153" headers="d109608e991 ">
                                 <p><a id="d109608e1155" class="indexterm-anchor"></a>Storing database files in Oracle ACFS for Oracle RAC configurations. On Windows, the Oracle Grid Infrastructure release must be 12.1.0.2 or higher and <code class="codeph">COMPATIBLE.ADVM</code> must be 12.1.0.2 or higher.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1153 d109608e994 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1153 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1153 d109608e1000 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1173" headers="d109608e991 ">
                                 <p><a id="d109608e1175" class="indexterm-anchor"></a><a id="d109608e1179" class="indexterm-anchor"></a><a id="d109608e1183" class="indexterm-anchor"></a><a id="d109608e1187" class="indexterm-anchor"></a>Encryption, replication, security, tagging (Solaris systems) 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1173 d109608e994 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1173 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1173 d109608e1000 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1202" headers="d109608e991 ">
                                 <p><a id="d109608e1204" class="indexterm-anchor"></a><a id="d109608e1208" class="indexterm-anchor"></a>Replication and tagging (AIX systems)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1202 d109608e994 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1202 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1202 d109608e1000 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1223" headers="d109608e991 ">
                                 <p><a id="d109608e1225" class="indexterm-anchor"></a><a id="d109608e1229" class="indexterm-anchor"></a>Creation from an existing snapshot and conversion of a snapshot
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1223 d109608e994 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1223 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1223 d109608e1000 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1245" headers="d109608e991 ">
                                 <p><a id="d109608e1247" class="indexterm-anchor"></a>Support for 1023 snapshots
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1245 d109608e994 ">
                                 <p>&gt;= 12.1</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1245 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1245 d109608e1000 ">
                                 <p>&gt;= 12.1.0.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1262" headers="d109608e991 ">
                                 <p><a id="d109608e1264" class="indexterm-anchor"></a>Storing database files in Oracle ACFS for Oracle Restart configurations
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1262 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1262 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1262 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1279" headers="d109608e991 ">
                                 <p><a id="d109608e1281" class="indexterm-anchor"></a>Accelerator volume for Oracle ACFS file system
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1279 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1279 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1279 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1296" headers="d109608e991 ">
                                 <p><a id="d109608e1298" class="indexterm-anchor"></a>Metadata storage on accelerator volume for Oracle ACFS file system
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1296 d109608e994 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1296 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1296 d109608e1000 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1313" headers="d109608e991 ">
                                 <p><a id="d109608e1315" class="indexterm-anchor"></a>Logical sector size of the Oracle ADVM volume
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1313 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1313 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1313 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1330" headers="d109608e991 ">
                                 <p><a id="d109608e1332" class="indexterm-anchor"></a>Oracle ACFS support for 4 K sectors
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1330 d109608e994 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1330 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1330 d109608e1000 ">
                                 <p>&gt;=12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1347" headers="d109608e991 ">
                                 <p><a id="d109608e1349" class="indexterm-anchor"></a>Oracle ACFS automatic resize
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1347 d109608e994 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1347 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1347 d109608e1000 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1364" headers="d109608e991 ">
                                 <p><a id="d109608e1366" class="indexterm-anchor"></a>Oracle ACFS sparse files
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1364 d109608e994 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1364 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1364 d109608e1000 ">
                                 <p>&gt;=12.2, or &gt;=12.1.0.2 on Oracle Data Appliance (ODA)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1381" headers="d109608e991 ">
                                 <p><a id="d109608e1383" class="indexterm-anchor"></a>Oracle ACFS compression
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1381 d109608e994 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1381 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1381 d109608e1000 ">
                                 <p>&gt;=12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1398" headers="d109608e991 ">
                                 <p><a id="d109608e1400" class="indexterm-anchor"></a>Oracle ACFS snapshot quotas
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1398 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1398 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1398 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1415" headers="d109608e991 ">
                                 <p><a id="d109608e1417" class="indexterm-anchor"></a>Oracle ACFS snapshot duplication
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1415 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1415 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1415 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1433" headers="d109608e991 ">
                                 <p><a id="d109608e1435" class="indexterm-anchor"></a>Oracle ACFS snapshot remastering
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1433 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1433 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1433 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1450" headers="d109608e991 ">
                                 <p><a id="d109608e1452" class="indexterm-anchor"></a>Space usage information by individual Oracle ACFS snapshots
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1450 d109608e994 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1450 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1450 d109608e1000 ">
                                 <p>&gt;= 12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1467" headers="d109608e991 ">
                                 <p><a id="d109608e1469" class="indexterm-anchor"></a>Oracle ACFS snaphot-based replication
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1467 d109608e994 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1467 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1467 d109608e1000 ">
                                 <p>&gt;=12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1484" headers="d109608e991 ">
                                 <p><a id="d109608e1486" class="indexterm-anchor"></a>Oracle ACFS Defragger
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1484 d109608e994 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1484 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1484 d109608e1000 ">
                                 <p>&gt;=12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1501" headers="d109608e991 ">
                                 <p><a id="d109608e1503" class="indexterm-anchor"></a>Oracle ADVM volume on a flex disk group
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1501 d109608e994 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1501 d109608e997 ">
                                 <p>&gt;=12.2</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1501 d109608e1000 ">
                                 <p>&gt;=12.2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1518" headers="d109608e991 ">
                                 <p><a id="d109608e1520" class="indexterm-anchor"></a>Oracle ACFS replication role reversal
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1518 d109608e994 ">
                                 <p>&gt;=18.0</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1518 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1518 d109608e1000 ">
                                 <p>&gt;=18.0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1535" headers="d109608e991 ">
                                 <p><a id="d109608e1537" class="indexterm-anchor"></a>Reducing the size of an Oracle ACFS file system
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1535 d109608e994 ">
                                 <p>&gt;=18.0</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1535 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1535 d109608e1000 ">
                                 <p>&gt;=18.0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d109608e1552" headers="d109608e991 ">
                                 <p><a id="d109608e1554" class="indexterm-anchor"></a>Oracle ACFS snapshot links
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1552 d109608e994 ">
                                 <p>&gt;=18.0</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d109608e1552 d109608e997 ">
                                 <p>n/a</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d109608e1552 d109608e1000 ">
                                 <p>&gt;=18.0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11__GUID-6734A91A-2DA5-4114-8D0F-E4437078B555">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;" id="GUID-A4ACA26F-5C02-4AFB-B7FA-E114A13DDE11__UL_TTT_P4Q_1GB">
                           <li>
                              <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a> for more information about disk group compatibility attributes
                              </p>
                           </li>
                           <li>
                              <p><a href="overview-acfs-advm.html#GUID-C91D3A8E-F329-44BE-97B7-8AB41897D8E1" title="Oracle Automatic Storage Management Cluster File System (Oracle ACFS) is a multi-platform, scalable file system, and storage management technology that extends Oracle Automatic Storage Management (Oracle ASM) functionality to support all customer files.">Overview of Oracle ACFS</a> for information, including any limitations or restrictions, about storing data files in an Oracle ACFS file system
                              </p>
                           </li>
                           <li>
                              <p><a href="init-params-asm-instance.html#GUID-BCA97B38-50AB-4B71-8D09-C67D8530D7BD" title="The ASM_POWER_LIMIT initialization parameter specifies the default power for disk rebalancing in a disk group.">ASM_POWER_LIMIT</a> for information about the rebalancing process and the <code class="codeph">ASM_POWER_LIMIT</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG34100"></a><div class="props_rev_3"><a id="GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B" name="GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B"></a><h3 id="OSTMG-GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B" class="sect3">Oracle Clusterware Resources and Oracle ACFS Administration</h3>
               <div>
                  <p><a id="d109608e1739" class="indexterm-anchor"></a><a id="d109608e1743" class="indexterm-anchor"></a><a id="d109608e1747" class="indexterm-anchor"></a><a id="d109608e1751" class="indexterm-anchor"></a>Oracle Clusterware resources support all aspects of Oracle ACFS. The resources are responsible for enabling and disabling volumes, loading drivers and mounting and unmounting file systems. 
                  </p>
                  <p>This section discusses the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-8B0F73BD-7509-4AFD-95A1-299E12E81E6B">Summary of Oracle ACFS Resource-based Management</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-9DA83069-9DDC-4524-9F6D-CF22AEA98C24">High Availability Actions</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796">Creating Oracle ACFS Resources</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-E2F78508-F163-43E5-8950-32D197E680FF">Node-Local or Clusterwide File Systems</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-A4ABCBA8-78DC-47E3-A5BB-E01262828AAE">Monitoring Oracle ACFS resources</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-AC49EF62-2F73-4D65-8518-1C66E41ACA1D">Stopping Oracle ACFS resources</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-793CCA05-F0F8-4DD9-83AF-77876752D585">Oracle ACFS resource Limitations</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG95965"></a><div class="props_rev_3"><a id="GUID-8B0F73BD-7509-4AFD-95A1-299E12E81E6B" name="GUID-8B0F73BD-7509-4AFD-95A1-299E12E81E6B"></a><h4 id="OSTMG-GUID-8B0F73BD-7509-4AFD-95A1-299E12E81E6B" class="sect4">Summary of Oracle ACFS Resource-based Management</h4>
                  <div>
                     <p>The following list provides a summary of Oracle ACFS resource-based management.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The Oracle ACFS, Oracle Kernel Services (OKS), and Oracle ADVM drivers are dynamically loaded when the Oracle ASM instance is started.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle ACFS</p>
                                 <p>This driver processes all Oracle ACFS file and directory operations.</p>
                              </li>
                              <li>
                                 <p>Oracle ADVM</p>
                                 <p>This driver provides block device services for Oracle ADVM volume files that are used by file systems for creating file systems.</p>
                              </li>
                              <li>
                                 <p>Oracle Kernel Services Driver (OKS)</p>
                                 <p>This driver provides portable driver services for memory allocation, synchronization primitives, and distributed locking services to Oracle ACFS and Oracle ADVM. </p>
                              </li>
                           </ul>
                           <p>The drivers are managed as a single resource set. For additional information, see <span class="q">"<a href="acfs-advanced-topics.html#GUID-86621B17-67AC-4126-AC78-648F1320DDFF">Oracle ACFS Drivers Resource Management</a>"</span> and <span class="q">"<a href="acfs-advanced-topics.html#GUID-7BA2C715-2575-43C7-B38D-A0D2FF6D4E45">Oracle ACFS Driver Commands</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>When a volume is created, Oracle ADVM creates a resource with the name of <code class="codeph">ora.</code><span class="italic"><code class="codeph">DISKGROUP</code></span><code class="codeph">.</code><span class="italic"><code class="codeph">VOLUME</code></span><code class="codeph">.advm</code>. This resource is usually managed through transparent high availability calls from Oracle ASM and requires no user interaction. However, the user may choose to use the SRVCTL command interface to start and stop volumes as well as control the default state of the volume after an Oracle ASM restart. This is especially beneficial in a large cluster or an Oracle Flex ASM cluster, as volumes on other nodes may be operated upon.
                           </p>
                           <p>In addition, these Oracle ADVM resources can be used by other resources in the Oracle Clusterware stack to maintain dependency chains. Dependency chains ensure that the resources a program requires to run are available. For instance, if a resource was monitoring a backup application that was backing up to Oracle ADVM volume, the backup application would want to ensure that it specified the Oracle ADVM volume resource in it's <code class="codeph">START</code> and <code class="codeph">STOP</code> dependency list. Because the Oracle ADVM volume resource will enable the volume, this ensures that the volume is available before the backup begins.
                           </p>
                        </li>
                        <li>
                           <p><a id="d109608e2001" class="indexterm-anchor"></a><a id="d109608e2005" class="indexterm-anchor"></a>Oracle ACFS file systems are either manually mounted or dismounted using an Oracle ACFS or Oracle Clusterware command-line tool, or automatically mounted or dismounted based on an Oracle Clusterware resource action. 
                           </p>
                           <p>For example, a file system hosting an Oracle Database home is named in the dependency list of the associated Oracle Database resource such that issuing a start on the database resource results in mounting the dependent Oracle ACFS hosted database home file system. </p>
                           <p>Oracle ACFS file system resources provide the following actions:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>MOUNT</p>
                                 <p>During the <code class="codeph">START</code> operation the resource mounts the file system on the path configured in the resource. The Oracle ACFS file system resource requires all components of the Oracle ASM stack to be active (volume device, ASM) and ensures that they are active before attempting the mount.
                                 </p>
                              </li>
                              <li>
                                 <p>UNMOUNT</p>
                                 <p>During the <code class="codeph">STOP</code> operation, the resource attempts to unmount a file system. 
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Oracle provides two resource types for Oracle Highly Available NFS. For more information, refer to <a href="understand-acfs-admin.html#GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" title="Oracle ACFS NAS Maximum Availability eXtensions (Oracle ACFS NAS MAX) is a set of extensions that provide High Availability Extensions for Common NAS Protocols, such as NFS and SMB.">Oracle ACFS NAS Maximum Availability eXtensions</a>.
                           </p>
                        </li>
                     </ul>
                     <p>As with all Oracle Clusterware resources, these resources provide for high availability by monitoring the underlying device, file system, or driver to ensure that the object remains available. In the event that the underlying object becomes unavailable, each resource attempts to make the underlying object available again. </p>
                  </div>
               </div><a id="OSTMG95966"></a><div class="props_rev_3"><a id="GUID-9DA83069-9DDC-4524-9F6D-CF22AEA98C24" name="GUID-9DA83069-9DDC-4524-9F6D-CF22AEA98C24"></a><h4 id="OSTMG-GUID-9DA83069-9DDC-4524-9F6D-CF22AEA98C24" class="sect4">High Availability Actions</h4>
                  <div>
                     <p>The following are the actions of the High Availability resources:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS resource </p>
                           <p>This resource attempts to unmount the file system. After the unmount has succeeded, the resource remounts the file system, making the file system available again. If processes are active on the file system during unmount, the resource identifies and terminates those processes.</p>
                        </li>
                        <li>
                           <p>Oracle ADVM resource</p>
                           <p>This resource attempts to disable any volume device, and then reenable the volume device. At that point, any configured Oracle ACFS resource can remount the file system. If processes are active on the volume during this period, the resource identifies and terminates the processes.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95967"></a><div class="props_rev_3"><a id="GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796" name="GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796"></a><h4 id="OSTMG-GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796" class="sect4">Creating Oracle ACFS Resources</h4>
                  <div>
                     <p>Oracle ACFS resources can be created with the following methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ASM Configuration Assistant (ASMCA) provides a GUI that exposes the most common functionality. In all cases, creating a file system resource does not format the underlying file system. Attempts to start the resource require the user to format the file system either manually or with ASMCA.</p>
                        </li>
                        <li>
                           <p>SRVCTL provides a highly flexible command line utility for creating Oracle ACFS file system resources through the <span class="italic"><code class="codeph">filesystem</code></span> object. Oracle ACFS resources created through this mechanism have access to the full feature set, including server pools.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">acfsutil</code> commands provide an alternative method to create Oracle ACFS file system resources using the <span class="italic"><code class="codeph">registry</code></span> object. Oracle ACFS resources created through this methodology have access to a limited set of options.
                           </p>
                        </li>
                     </ul>
                     <p>The differences between SRVCTL and <code class="codeph">acfsutil</code> commands are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS resources created through SRVCTL and specifying a server pool or list of nodes are only mounted on one of those nodes. (node-local)</p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through SRVCTL can take advantage of Oracle Server Pools.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through <code class="codeph">acfsutil</code> commands and specifying a list of nodes are mounted on all listed nodes. (node-local)
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through <code class="codeph">acfsutil</code> commands are created with <code class="codeph">AUTOSTART</code> set to <code class="codeph">ALWAYS</code>.
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through SRVCTL allow for advanced Application ID functionality. Using this functionality enables the resource type to be set by the administrator. After the type is set, other resources can depend on this type, allowing different node-local file systems to be used to fulfill dependencies on each node. In a simplified example, this would allow the administrator to have a different device mounted on the <code class="codeph">/log</code> directory on each node of the cluster, and be able to run an Apache resource. The Apache resource would specify the new type in its resource dependency structure, rather than specifying an individual resource.
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through SRVCTL can specify additional <code class="codeph">AUTOSTART</code> parameters. These parameters can be used to prevent the resource from starting on stack startup, to always force the resource to start, or to only start the resource if it was previously running.
                           </p>
                        </li>
                        <li>
                           <p>Oracle ACFS resources created through SRVCTL have access to functionality such as accelerator volumes.</p>
                        </li>
                     </ul>
                     <p>The common elements of both SRVCTL and <code class="codeph">acfsutil</code> commands are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>User</p>
                           <p>This is an additional user that can act upon the resource. By default, you must be the <code class="codeph">root</code> user to start and stop an Oracle ACFS resource.
                           </p>
                        </li>
                        <li>
                           <p>Options</p>
                           <p>These are mount options that should be used to mount the file system when the resource is starting.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95968"></a><div class="props_rev_3"><a id="GUID-E2F78508-F163-43E5-8950-32D197E680FF" name="GUID-E2F78508-F163-43E5-8950-32D197E680FF"></a><h4 id="OSTMG-GUID-E2F78508-F163-43E5-8950-32D197E680FF" class="sect4">Node-Local or Clusterwide File Systems</h4>
                  <div>
                     <p>When creating Oracle ACFS file system resources, you can create a node-local file system or to create a clusterwide file system.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Node-local</p>
                           <p>This file system type is limited to the number of nodes it can mount on. Depending on if it is created with SRVCTL or <code class="codeph">acfsutil</code> commands, it may only mount on one node, a subset of nodes, or all the configured nodes. In some cases, this could look the same as a full cluster configuration, but if new nodes are added to the cluster, the file system is not automatically mounted on them without modifying the list of allowable nodes.
                           </p>
                        </li>
                        <li>
                           <p>Clusterwide</p>
                           <p>This type of file system mounts on all nodes of the cluster, with no exceptions. When new members are added to the cluster, the file system is automatically available on them. This type of resource is required for certain configurations, such as Oracle Database or Oracle HANFS.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95969"></a><div class="props_rev_3"><a id="GUID-A4ABCBA8-78DC-47E3-A5BB-E01262828AAE" name="GUID-A4ABCBA8-78DC-47E3-A5BB-E01262828AAE"></a><h4 id="OSTMG-GUID-A4ABCBA8-78DC-47E3-A5BB-E01262828AAE" class="sect4">Monitoring Oracle ACFS resources</h4>
                  <div>
                     <p>Similar to all Oracle Clusterware resources, Oracle ACFS resources enables you to monitor the state of the system. You can do this monitoring with the following commands:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using SRVCTL commands</p>
                           <p>When the command <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">filesystem</code> or <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">volume</code> is run, the output of the command reports if the file system is mounted or the volume is enabled, and which nodes this is true on.
                           </p>
                        </li>
                        <li>
                           <p>Using CRSCTL commands</p>
                           <p>When the <code class="codeph">crsctl</code> <code class="codeph">status</code> <code class="codeph">resource</code> command is run, a state of <code class="codeph">ONLINE</code> is reported for each resource that is available, whether through a mounted file system or an enabled volume. A state of <code class="codeph">OFFLINE</code> is reported for each resource that is not available, whether through an unmounted file system or a disabled volume. Additional status may be presented in the <code class="codeph">STATUS</code> field of this output.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95970"></a><div class="props_rev_3"><a id="GUID-AC49EF62-2F73-4D65-8518-1C66E41ACA1D" name="GUID-AC49EF62-2F73-4D65-8518-1C66E41ACA1D"></a><h4 id="OSTMG-GUID-AC49EF62-2F73-4D65-8518-1C66E41ACA1D" class="sect4">Stopping Oracle ACFS resources</h4>
                  <div>
                     <p>You can be stop Oracle ACFS file system resources with the following methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can stop the entire Oracle Clusterware stack. When the Oracle Clusterware stack is stopped, all Oracle ACFS resources are automatically stopped.</p>
                        </li>
                        <li>
                           <p>To stop individual resources, you can use SRVCTL management commands with the Oracle ACFS files system or volume object. If there are other resources that are depending on the resource that you are attempting to stop, then the command may require the <code class="codeph">-force</code> option.
                           </p>
                        </li>
                        <li>
                           <p>You may engage a manual action, such as running <code class="codeph">unmount</code> on a file system or by manually stopping a volume using ASMCMD or SQL*Plus commands. In this case, the Oracle ACFS resource transitions to the <code class="codeph">OFFLINE</code> state automatically.
                           </p>
                        </li>
                     </ul>
                     <p>Non-Oracle Grid Infrastructure usage of mount points can prevent unmounting and disabling of volumes in the kernel for some situations. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Network File System (NFS) </p>
                        </li>
                        <li>
                           <p>Samba/Common Internet File System (CIFS) </p>
                        </li>
                     </ul>
                     <p>If either of the previous examples reflects your situation, then ensure that you discontinue the use of the functionality before initiating a stack shutdown, file system unmount, or volume disable.</p>
                     <p>Additionally, some user space processes and system processes may use the file system or volume device in a manner that prevents the Oracle Grid Infrastructure stack from shutting down during a patch or upgrade. If this problem occurs, then use the <code class="codeph">lsof</code> and <code class="codeph">fuser</code> commands (Linux and UNIX) or the <code class="codeph">handle</code> and <code class="codeph">wmic</code> commands (Windows) to identify processes which are active on the Oracle ACFS file systems and Oracle ADVM volumes. To ensure that these processes are no longer active, dismount all Oracle ACFS file systems or Oracle ADVM volumes and issue an Oracle Clusterware shutdown. Otherwise, errors may be raised during an Oracle Clusterware shutdown relating to activity on Oracle ACFS file systems or Oracle ADVM volumes, preventing the successful shutdown of Oracle Clusterware. 
                     </p>
                  </div>
               </div><a id="OSTMG95971"></a><div class="props_rev_3"><a id="GUID-793CCA05-F0F8-4DD9-83AF-77876752D585" name="GUID-793CCA05-F0F8-4DD9-83AF-77876752D585"></a><h4 id="OSTMG-GUID-793CCA05-F0F8-4DD9-83AF-77876752D585" class="sect4">Oracle ACFS resource Limitations</h4>
                  <div>
                     <p>Oracle ACFS has the following resource limitations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All Oracle ACFS resources require <code class="codeph">root</code> privileges to create.
                           </p>
                        </li>
                        <li>
                           <p>All Oracle ACFS resources require <code class="codeph">root</code> privileges to remove.
                           </p>
                        </li>
                        <li>
                           <p>All Oracle ACFS file system resources require <code class="codeph">root</code> privileges to act upon, such as starting and stopping the resources, but can be configured to allow another user, such as a database user, to do so. In this case, the <code class="codeph">root</code> user must be used to configure the resource.
                           </p>
                        </li>
                        <li>
                           <p>All Oracle ADVM volume resources allow the <code class="codeph">ASMADMIN</code> user to act upon them.
                           </p>
                        </li>
                        <li>
                           <p>All Oracle ACFS resources are only available in Oracle RAC mode. Oracle ACFS resources are not supported in Oracle Restart configurations. For more information about Oracle ACFS and Oracle Restart, refer to <a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS and Oracle Restart</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG34400"></a><div class="props_rev_3"><a id="GUID-F1170720-3244-4F99-ADB3-799439ADD089" name="GUID-F1170720-3244-4F99-ADB3-799439ADD089"></a><h3 id="OSTMG-GUID-F1170720-3244-4F99-ADB3-799439ADD089" class="sect3">Oracle ACFS and Dismount or Shutdown Operations</h3>
               <div>
                  <p>It is important to dismount any active file system configured with an Oracle ADVM volume device file before an Oracle ASM instance is shutdown or a disk group is dismounted. After the file systems are dismounted, all open references to Oracle ASM files are removed and associated disk groups can be dismounted or the instance shut down.</p>
                  <p>If the Oracle ASM instance or disk group is forcibly shut down or fails while an associated Oracle ACFS is active, the file system is placed into an offline error state. If any file systems are currently mounted on Oracle ADVM volume files, the <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> command should not be used to terminate the Oracle ASM instance without first dismounting those file systems. Otherwise, applications encounter IO errors and Oracle ACFS user data and metadata being written at the time of the termination may not be flushed to storage before the Oracle ASM storage is fenced. If it is not possible to dismount the file system, then you should run two <code class="codeph">sync</code> (1) commands to flush cached file system data and metadata to persistent storage before issuing the <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> operation.
                  </p>
                  <p>Any subsequent attempt to access an offline file system returns an error. Recovering a file system from that state requires dismounting and remounting the Oracle ACFS file system. Dismounting an active file system, even one that is <span>offline</span>, requires stopping all applications using the file system, including any shell references. For example, a previous change directory (<code class="codeph">cd</code>) into a file system directory. The Linux <code class="codeph">fuser</code> or <code class="codeph">lsof</code> commands or Windows <code class="codeph">handle</code> command list information about processes and open files.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F1170720-3244-4F99-ADB3-799439ADD089__GUID-B9BD18AA-D320-476B-AB82-8629A8B09C76">Microsoft Handle Utility For Use With Oracle ACFS</p>
                     <p>To ensure the proper operation of Oracle ACFS High Availability resources managed by Oracle Clusterware, the Microsoft <code class="codeph">Handle</code> utility must be downloaded and installed in the Oracle Grid Infrastructure home on Windows. Oracle Clusterware resources may not shut down properly if the <code class="codeph">Handle</code> utility is not included in the Oracle Grid Infrastructure home.
                     </p>
                     <p>You can download the Microsoft <code class="codeph">Handle</code> utility from the Microsoft website. After downloading the utility, place the Handle utility in the <code class="codeph">/bin</code> directory of the Grid Infrastructure home. Ensure that the Grid Infrastructure home is included in the <code class="codeph">PATH</code> environment variable for your current session.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F1170720-3244-4F99-ADB3-799439ADD089__FORINFORMATIONABOUTSHUTTINGDOWNANOR-2F5FB3F5">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="admin-asm-instance.html#GUID-9C2208C8-B436-4A18-A5D7-0CE854751529" title="You can initiate the Oracle ASM shutdown process by running the SHUTDOWN command in SQL*Plus.">About Shutting Down an Oracle ASM Instance</a> for information about shutting down an Oracle ASM instance
                              </p>
                           </li>
                           <li>
                              <p><a href="maintain-diskgroups.html#GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA">Mounting and Dismounting Disk Groups</a> for information about dismounting a disk group
                              </p>
                           </li>
                           <li>
                              <p><a href="https://docs.microsoft.com/en-us/sysinternals/downloads/handle" target="_blank"><code class="codeph">https://docs.microsoft.com/en-us/sysinternals/downloads/handle</code></a> for information about and downloading instructions for the Microsoft <code class="codeph">Handle</code> utility
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG34500"></a><div class="props_rev_3"><a id="GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" name="GUID-41F44E7A-7547-4D04-A8E7-072C3A697867"></a><h3 id="OSTMG-GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" class="sect3">Oracle ACFS Security</h3>
               <div>
                  <p>Oracle ACFS security provides realm-based security for Oracle ACFS file systems, enabling you to create realms to specify security policies for users and groups to determine access on file system objects. </p>
                  <p>This security feature provides a finer-grained access control on top of the access control provided by the operating system. Oracle ACFS security can use the encryption feature to protect the contents of realm-secured files stored in Oracle ACFS file systems.</p>
                  <p>Oracle ACFS security uses realms, rules, rule sets, and command rules to enforce security policies.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An Oracle ACFS security realm is a group of files or directories that are secured for access by a user or a group of users. Realms are defined with rule sets which contain groups of rules that apply fine grain access control. Oracle ACFS security realms can also be used as containers to enable encryption.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS security rules are Boolean expressions that evaluate to true or false based on a system parameter on which the rule is based.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS rule sets are collection of rules. Rule sets evaluate to <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code> based on the evaluation of the rules a rule set contains.
                        </p>
                     </li>
                     <li>
                        <p>Oracle ACFS command rules are associations of the file system operation to a rule set. For example, the association of a file system create, delete, or rename operation to a rule set. Command rules are associated with an Oracle ACFS realm.</p>
                     </li>
                  </ul>
                  <p>An existing operating system user must be designated as the first Oracle ACFS security administrator and an existing operating system group must be designated as the security administrator <span class="italic"><code class="codeph">admin</code></span> group. Security administrators must be members of the designated security group. Additional users can be designated as security administrators. An Oracle ACFS security administrator can manage encryption for an Oracle ACFS file system on a per-realm basis. An Oracle ACFS security administrator is authenticated for security operations with a security realm password, not the operating system password of the user. 
                  </p>
                  <p>The first security administrator is created during the initialization of Oracle ACFS security with the <code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">init</code> command which is run by the root user. When the first security administrator is created, the administrator is assigned a password that can be changed by the administrator. Each time a security administrator runs an <code class="codeph">acfsutil</code> <code class="codeph">sec</code> command, the administrator is prompted for the security password. The security realm passwords for administrators are stored in a wallet created during the security initialization process. This wallet is located in the Oracle Cluster Registry (OCR).
                  </p>
                  <p>Auditing and diagnostic data are logged for Oracle ACFS security. The log files include information such as <code class="codeph">acfsutil</code> commands that have been run, the use of security or system administrator privileges, and run-time failures such as realm check authorization failures. 
                  </p>
                  <p>Auditing events, such as realm creation or encryption enabled, are written to these log files only if auditing is not enabled for on the file system. If auditing is enabled, these events are written into the audit trail. Diagnostic messages related to security and encryption are always written to the sec-<span class="italic"><code class="codeph">hostname_fsid</code></span><code class="codeph">.log</code> file regardless of whether auditing is enabled or not. 
                  </p>
                  <p>Logs are written to the following files:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">mount_point</code></span><code class="codeph">/.Security</code><code class="codeph">/realm/logs/sec-</code><span class="italic"><code class="codeph">hostname_fsid</code></span><code class="codeph">.log</code></p>
                        <p>The directory is created with <code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">prepare</code> command and protected by Oracle ACFS security. 
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">GRID_HOME</code></span><code class="codeph">/log/</code><span class="italic"><code class="codeph">hostname</code></span><code class="codeph">/acfs/security/acfssec.log</code></p>
                        <p>The messages that are logged to this file are for commands that are not associated with a specific file system, such as <code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">init</code>. The directory is created during installation and is owned by the root user.
                        </p>
                     </li>
                  </ul>
                  <p>When an active log file grows to a pre-defined maximum size (10 MB), the file is automatically moved to <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code>, the administrator is notified, and logging continues to the regular log file name. When the administrator is notified, the administrator must archive and remove the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file. If an active log file grows to the maximum size and the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file exists, logging stops until the backup file is removed. After the backup log file is removed, logging restarts automatically.
                  </p>
                  <p>Oracle ACFS security protects the following objects from unauthorized accesses:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Realm-secured directories and user files</p>
                        <p>The directories and files reside on a file system secured by Oracle ACFS security.</p>
                     </li>
                     <li>
                        <p>The Oracle ACFS security directory (<span class="italic"><code class="codeph">mount_point</code></span><code class="codeph">/.Security</code>) and its contents
                        </p>
                        <p>The security directory contains the log files in plain-text format and a security metadata backup file in XML format. The log files generated by Oracle ACFS security can only be accessed by valid Oracle ACFS security administrators.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS security objects</p>
                        <p>These objects are the security realms, rules, and rule sets used to manage Oracle ACFS security.</p>
                     </li>
                  </ul>
                  <p>Access to files in a security realm of an Oracle ACFS file system must be authorized by both the security realm and the underlying operating system permissions, such as (owner, group, other) permissions on Linux and Access Control Lists (ACLs) on Windows. Each access to a realm-secured file is first checked for security realm authorization. If the access is authorized by the security realm, then access to the files is checked by the underlying operating system access control checks. If both checks pass, access is allowed to the realm-secured file. </p>
                  <p>Note the following when working with Oracle ACFS security:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle ACFS security does not provide any protection for data sent on the network.</p>
                     </li>
                     <li>
                        <p>A copy of a realm-protected file is not realm-protected unless the copy is made in a security realm-protected directory.</p>
                        <p>Some applications, such as the <code class="codeph">vi</code> editor, re-create a file when the file is modified. The modified file is saved as a temporary file, the original file is removed, and temporary file is copied with the original file name as the destination name. This process creates a new file. If the new file is created in a realm-protected directory, the security policies of the realm also apply to the new file. If the new file is not created in a realm-protected directory, then the new file is not realm-protected. If you are planning to copy a realm-protected file, you should ensure that the parent directory is also security realm protected. 
                        </p>
                        <p>Security policies also apply to any temporary files created in a realm-protected directory.</p>
                     </li>
                  </ul>
                  <p>To use Oracle ACFS security functionality on Linux, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.2</code> or higher. To use Oracle ACFS security functionality on Windows, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher. .
                  </p>
                  <p>Security information for Oracle ACFS file systems is displayed in the <code class="codeph">V$ASM_ACFS_SECURITY_INFO</code> view. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-41F44E7A-7547-4D04-A8E7-072C3A697867__GUID-EA3B9A79-762C-42E8-A4D9-473A2737F182">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9" title="Both Oracle ACFS security and encryption are also audit sources, and these sources can be enabled and disabled by an Oracle ACFS audit manager. These sources generate events as a result of the execution of Oracle ACFS security or encryption commands.">Oracle ACFS Auditing</a> for information about Oracle ACFS auditing
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-security.html#GUID-FA4C734F-B9DF-4DB2-9FA6-A7C718F97FC1">acfsutil sec prepare</a> for information about preparing Oracle ACFS file systems
                           </p>
                        </li>
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a> for information about disk group compatibility
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system.">About Oracle ACFS Snapshots</a> for information about Oracle ACFS security and snapshots
                           </p>
                        </li>
                        <li>
                           <p><a href="views-acfs-advm-info.html#GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8" title="Dynamic views display important information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Using Views to Display Oracle ACFS Information</a> for information about <code class="codeph">V$ASM_ACFS</code> views
                           </p>
                        </li>
                        <li>
                           <p><a href="steps-manage-acfs.html#GUID-30627065-670B-4477-B504-B41D50D476DF" title="The basic operations to manage security for an Oracle ACFS file system on Linux are discussed in this topic.">Securing Oracle ACFS File Systems</a> and <a href="acfs-commands-security.html#GUID-07912FD9-DDF7-4511-B69F-A7B4BE8025FA" title="This topic provides a summary of the commands for Oracle ACFS security.">Oracle ACFS Command-Line Tools for Security</a> for information about the <code class="codeph">acfsutil</code> <code class="codeph">sec</code> command-line functions to configure security for Oracle ACFS file systems
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-asmca.html#GUID-8509E5ED-59FE-4F9B-9696-D7B1FA338533" title="Oracle ASM Configuration Assistant enables you to configure security and encryption for an Oracle ACFS file system.">Managing Security and Encryption for Oracle ACFS with ASMCA</a> for information about using ASMCA to configure Oracle ACFS security
                           </p>
                        </li>
                        <li>
                           <p> Your operating system-specific (OS) documentation for information about setting up OS users and OS groups</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG34510"></a><div class="props_rev_3"><a id="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" name="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2"></a><h3 id="OSTMG-GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" class="sect3">Oracle ACFS Encryption</h3>
               <div>
                  <p>Oracle ACFS encryption enables you to encrypt data stored on disk (data-at-rest). </p>
                  <p>The encryption feature protects data in an Oracle ACFS file system in encrypted format to prevent unauthorized use of data in the case of data loss or theft. Both encrypted and non-encrypted files can exist in the same Oracle ACFS file system.</p>
                  <p>Some encryption functionality requires system administrator privileges. This functionality incudes the commands for initiating, setting, and reconfiguring encryption. </p>
                  <p>System administrators and Oracle ACFS security administrators can initiate encryption operations. Also, unprivileged users can initiate encryption for files they own.</p>
                  <p>Oracle ACFS encryption provides two type of encryption keys:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>File Encryption Key</p>
                        <p>This is a key for a file and is used to encrypt the data in the file.</p>
                     </li>
                     <li>
                        <p>Volume Encryption Key</p>
                        <p>This is a key for a file system and is used to encrypt the file encryption keys.</p>
                     </li>
                  </ul>
                  <p>You must first create the encryption key store, then specify file system-level encryption parameters and identify the directories. No extra steps are required for a user to read encrypted files if the user has the appropriate privileges for accessing the file data. </p>
                  <p>Oracle ACFS encryption supports both Oracle Cluster Registry (OCR) and Oracle Key Vault as a key store. Both OCR and Oracle Key Vault can be used in the same cluster. However, a single file system uses either OCR or Oracle Key Vault as a key store, but not both. Oracle Key Vault is currently only available with file systems on Linux.</p>
                  <p>If you are using OCR as a key store, you should back up the OCR after creating or updating an encryption key to ensure there is an OCR backup that contains all of the volume encryption keys (VEKs) for the file system.</p>
                  <p>Oracle ACFS encryption protects data stored on secondary storage against the threat of theft or direct access to the storage medium. Data is never written to secondary storage in plaintext. Even if physical storage is stolen, the data stored cannot be accessed without the encryption keys. The encryption keys are never stored in plaintext. The keys are either obfuscated, or encrypted using a user-supplied password. </p>
                  <p>An Oracle ACFS security administrator can manage encryption parameters on a per-realm basis. After a file is placed under realm security, file-level encryption operations are not allowed on that file. Even if the realm security allows the file owner or the root user to open the file, file-level encryption operations are blocked. Encryption of realm-protected files is managed entirely by the Oracle ACFS security administrator, who can enable and disable encryption for files at a security realm level.</p>
                  <p>After a directory has been added to a security realm, all files created in the directory inherit the realm-level encryption parameters, not the directory or file system-level parameters. When a file is removed from its last security realm, the file is encrypted or decrypted to match the file system-level encryption status. The file is not re-encrypted to match file system-level parameters if it has been encrypted with security realm parameters.</p>
                  <p>A system administrator cannot rekey realm-secured files at the file system or file level. To ensure all realm-secured files are encrypted with the most recent volume encryption key (VEK), you must first remove encryption from all realms, and then re-enable encryption. This action re-encrypts all files with the most recent VEK.</p>
                  <p>Auditing and diagnostic data are logged for Oracle ACFS encryption. The log files include information such as <code class="codeph">acfsutil</code> commands that have been run, the use of security or system administrator privileges, and run-time failures. Logs are written to the following files:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">mount_point</code></span><code class="codeph">/.Security</code><code class="codeph">/encryption/logs/encr-</code><span class="italic"><code class="codeph">hostname_fsid</code></span><code class="codeph">.log</code></p>
                        <p>The directory is created with <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> command and protected by Oracle ACFS security if security is enabled. 
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">GRID_HOME</code></span><code class="codeph">/log/</code><span class="italic"><code class="codeph">hostname</code></span><code class="codeph">/acfs/security/acfssec.log</code></p>
                        <p>The messages that are logged to this file are for commands that are not associated with a specific file system, such as <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code>. The directory is created during installation and is owned by the root user.
                        </p>
                     </li>
                  </ul>
                  <p>When an active log file grows to a pre-defined maximum size (10 MB), the file is automatically moved to <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code>, the administrator is notified, and logging continues to the regular log file name. When the administrator is notified, the administrator must archive and remove the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file. If an active log file grows to the maximum size and the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file exists, logging stops until the backup file is removed. After the backup log file is removed, logging restarts automatically.
                  </p>
                  <p>Note the following when working with Oracle ACFS encryption:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A copy of an encrypted file is not encrypted unless the copy of the file is made in an encrypted directory.</p>
                        <p>Some applications, such as the <code class="codeph">vi</code> editor, re-create a file when the file is modified. The modified file is saved as a temporary file, the original file is removed, and temporary file is copied with the original file name as the destination name. This process creates a new file. The new file is not encrypted unless it is created in an encrypted directory. If you are planning to copy an encrypted file, you should ensure that the parent directory is also encrypted.
                        </p>
                     </li>
                     <li>
                        <p>Using encryption with database files on Oracle ACFS is not supported.</p>
                     </li>
                     <li>
                        <p>Oracle ACFS encryption cannot be used with password-protected (PKCS) wallets if any of the file systems using encryption are configured to be mounted with the Oracle ACFS mount registry.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">on</code>, <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">off</code>, and <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">rekey</code> commands are not supported on files greater than 128 megabytes. The operation of those commands on a file greater than 128 megabytes fails and the resulting error message displays alternative actions.
                        </p>
                     </li>
                  </ul>
                  <p>To use Oracle ACFS encryption functionality on Linux, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.2</code> or higher. The disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher on Linux for the following cases:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If encryption is configured for the first time on Oracle ASM 11<span class="italic">g </span>Release 2 (11.2.0.3).
                        </p>
                     </li>
                     <li>
                        <p>If encryption parameters must be changed or a new volume encryption key must be created following a software upgrade to Oracle ASM 11<span class="italic">g </span>Release 2 (11.2.0.3). .
                        </p>
                     </li>
                  </ul>
                  <p>To use Oracle ACFS encryption functionality on Windows, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher.
                  </p>
                  <p>Encryption information for Oracle ACFS file systems is displayed in the <code class="codeph">V$ASM_ACFS_ENCRYPTION_INFO</code> view. To configure encryption and manage encrypted Oracle ACFS file systems, you can use the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> command-line functions and Oracle ASM Configuration Assistant. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2__GUID-D1BA7E43-AD7D-4D54-B46A-2B1EA9D0C2FF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-commands-encryption.html#GUID-4714B6EF-28B7-4318-A209-ADF7A2546586">acfsutil encr set</a> and <a href="acfs-commands-encryption.html#GUID-98BB05D6-361A-41CF-99DF-989F3BF43921">acfsutil encr rekey</a> for information about changing or creating a volume encryption key
                           </p>
                        </li>
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a> for information about disk group compatibility
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="An Oracle ACFS snapshot is an online, read-only or read-write, point in time copy of an Oracle ACFS file system.">About Oracle ACFS Snapshots</a> for information about Oracle ACFS encryption and snapshots
                           </p>
                        </li>
                        <li>
                           <p><a href="views-acfs-advm-info.html#GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8" title="Dynamic views display important information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).">Using Views to Display Oracle ACFS Information</a> for information about <code class="codeph">V$ASM_ACFS</code> views
                           </p>
                        </li>
                        <li>
                           <p><a href="steps-manage-acfs.html#GUID-01EA8FA1-C136-4968-86D4-9F54B39F903C" title="Basic operations to manage encryption on an Oracle ACFS file system on Linux are discussed in this topic.">Encrypting Oracle ACFS File Systems</a> and <a href="acfs-commands-encryption.html#GUID-0F0E925E-5C94-4697-A78B-7BFBC274C83B" title="This topic provides a summary of the commands for Oracle ACFS encryption.">Oracle ACFS Command-Line Tools for Encryption</a> for information about managing encryption with Oracle ACFS command-line tools
                           </p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-asmca.html#GUID-8509E5ED-59FE-4F9B-9696-D7B1FA338533" title="Oracle ASM Configuration Assistant enables you to configure security and encryption for an Oracle ACFS file system.">Managing Security and Encryption for Oracle ACFS with ASMCA</a> for information about using Oracle ASMCA with encryption features
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=OKVAG10489" target="_blank"><span><cite>Oracle Key Vault Administrator's Guide</cite></span></a> for information about Oracle Key Vault
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-7E372847-D7BA-4872-8A79-03300AF500C5" name="GUID-7E372847-D7BA-4872-8A79-03300AF500C5"></a><h3 id="OSTMG-GUID-7E372847-D7BA-4872-8A79-03300AF500C5" class="sect3">Oracle ACFS Compression</h3>
               <div>
                  <p>Oracle ACFS compression is enabled on a specified Oracle ACFS file system for general purpose files. Oracle ACFS compression is not supported for Oracle Database files.</p>
                  <p>Cached IO compression is performed asynchronously, after the application has written to the file. When enabling compression on a file system, existing files are not compressed, only newly-created files are compressed. When compression is disabled, compressed files are not uncompressed. Compressed files are associated with a compression unit and the compression algorithm operates on this unit. The default unit size is currently 32 K. <code class="codeph">lzo</code> is the default compression algorithm and the only compression algorithm currently supported. 
                  </p>
                  <p>The <code class="codeph">acfsutil</code> <code class="codeph">compress</code> command sets and resets the compression state of a file system with <code class="codeph">acfsutil</code> <code class="codeph">compress</code> <code class="codeph">on</code> and <code class="codeph">acfsutil</code> <code class="codeph">compress</code> <code class="codeph">off</code>. To display the compression state and effectiveness of the compression operation, use the <code class="codeph">acfsutil</code> <code class="codeph">compress</code> <code class="codeph">info</code> command. The <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code> and <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code> commands have been enhanced to report on Oracle ACFS compression status.
                  </p>
                  <p>Compressed files consume less disk space than non-compressed files. However, for applications using the file, the size reported is equal to the uncompressed file size, not the smaller compressed size. Some utilities, such as <code class="codeph">ls</code> <code class="codeph">-l</code>, report the uncompressed size of the file. Utilities such as <code class="codeph">du</code>, <code class="codeph">acfsutil</code> <code class="codeph">compress</code> <code class="codeph">info</code>, and <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>, report the actual disk allocation of the compressed file.
                  </p>
                  <p>Note the following about Oracle ACFS compression.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle ACFS compression is not supported for Oracle ACFS file systems which are intended to hold database files. Instead, use Oracle Advanced Compression.</p>
                     </li>
                     <li>
                        <p>Loopback mounts are not supported with compressed files. This includes files intended for use by Oracle ACFS remote service. If a loopback device is associated with a compressed file, read and write operations to the loopback device fail.</p>
                     </li>
                     <li>
                        <p>A loopback device can be associated with an uncompressed file on an Oracle ACFS file system that has been enabled for compression.</p>
                     </li>
                     <li>
                        <p>For Oracle Grid Infrastructure 12<span class="italic">c</span> release 2 (12.2.0.1), Oracle ACFS compression is supported on Linux and AIX.
                        </p>
                     </li>
                     <li>
                        <p>Oracle ACFS compression is only supported with Oracle ACFS snapshot-based replication that is available starting with Oracle Grid Infrastructure 12c release 2 (12.2.0.1).</p>
                     </li>
                     <li>
                        <p>ADVM disk group compatibility must be set to <code class="codeph">12.2</code> or higher.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-7E372847-D7BA-4872-8A79-03300AF500C5__GUID-771524D3-3052-4B41-8666-5DFB13A6C770">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-commands-compression.html#GUID-6E9EE86D-5FC9-4255-8F6F-3F56E6DEE9CE" title="This topic provides a summary of commands to manage Oracle ACFS compression.">Oracle ACFS Command-Line Tools for Compression</a> for information about the Oracle ACFS compression commands
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="This topic provides a summary of the Oracle ACFS command-line utilities.">Oracle ACFS Command-Line Utilities</a> for information about the <code class="codeph">acfsutil</code> <code class="codeph">info</code> commands
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG95482"></a><div class="props_rev_3"><a id="GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9" name="GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9"></a><h3 id="OSTMG-GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9" class="sect3">Oracle ACFS Auditing</h3>
               <div>
                  <p><a id="d109608e4634" class="indexterm-anchor"></a><a id="d109608e4638" class="indexterm-anchor"></a>Oracle ACFS auditing provides auditing capabilities for Oracle ACFS security and encryption. This auditing framework produces a separate audit trail for each Oracle ACFS file system on each individual node, and enforces separation of duties regarding the management and review of this audit source. 
                  </p>
                  <p>Audit sources are the source of events, such as Oracle ACFS security and Oracle ACFS encryption. Audit trails are the logs where the audit records are written. </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-45B1DAE8-9908-4522-B697-03F7A44CA176" title="Both Oracle ACFS security and encryption are also audit sources, and these sources can be enabled and disabled by an Oracle ACFS audit manager. These sources generate events as a result of the execution of Oracle ACFS security or encryption commands.">About Oracle ACFS Auditing</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-3D418380-1715-400C-89D6-0D0C9703F274">Audit Trail File</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819">File Access Events</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928">Privilege Use Events</a></p>
                     </li>
                     <li>
                        <p><a href="understand-acfs-admin.html#GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75">Evaluation Result Events</a></p>
                     </li>
                  </ul>
               </div><a id="OSTMG132"></a><div class="props_rev_3"><a id="GUID-45B1DAE8-9908-4522-B697-03F7A44CA176" name="GUID-45B1DAE8-9908-4522-B697-03F7A44CA176"></a><h4 id="OSTMG-GUID-45B1DAE8-9908-4522-B697-03F7A44CA176" class="sect4">About Oracle ACFS Auditing</h4>
                  <div>
                     <p>Both Oracle ACFS security and encryption are also audit sources, and these sources can be enabled and disabled by an Oracle ACFS audit manager. These sources generate events as a result of the execution of Oracle ACFS security or encryption commands.</p>
                     <p>The Oracle ACFS security administrator can enable auditing at the realm level so that security violations and authorizations can also be audited as well as enabling auditing on security to audit all the events executed by a security administrator. An Oracle ACFS security source must be enabled before Oracle ACFS realm security auditing can be used.</p>
                     <p>Setting the realm auditing policy to audit all authorizations and violations for all command rules can cause the audit trail to quickly increase to its maximum size. Administrators should carefully adjust the auditing level to their requirements and be aware that auditing policies generating more verbose auditing output require additional active monitoring and management, such as archiving and purging, of the audit trail and audit trail backup files.</p>
                     <p>Along with the generation of a file system audit source, Oracle ACFS auditing allows fine-grained auditing policies to be set separately on each realm basis. The Oracle ACFS auditing capability provides the infrastructure for an audit vault collector to import data into Oracle Audit Vault and Database Firewall. The collector is separate from Oracle ACFS and functions as means for Oracle ACFS auditing data to be imported into Audit Vault Server. </p>
                     <p>The responsibilities for configuration and management of the audit source are separated into the Oracle ACFS audit manager and Oracle ACFS auditor roles. The system administrator has the authority to add and remove users to and from the Oracle ACFS audit manager and Oracle ACFS auditor operating system (OS) groups.</p>
                     <p>The Oracle ACFS audit managers have access to the contents of audit sources and can read audit data; however, the audit managers cannot modify the audit sources. The set of Oracle ACFS audit managers is the same across a cluster.</p>
                     <p>The Oracle ACFS auditors are responsible for viewing and analyzing the contents of the audit source, such as indicating to the Oracle ACFS audit managers which records have been analyzed and archived and are safe to purge. The Oracle ACFS auditors should be the only users on the system with access to the contents of the audit source. The Oracle ACFS auditor do not have the required permissions to remove or purge audit records. The set of Oracle ACFS auditors is the same across a cluster.</p>
                     <p>The audit archiving process renames audit trail log files (.log) to a audit trail backup file (.log.bak) and generates an XML file, which can be imported by Audit Vault Server. Audit Vault Server has only read access to the audit trail directory and functions as an auditor in this case. After the data from the XML file is imported in the Audit Vault Server, the auditor function marks the audit trail backup file as <code class="codeph">read</code>, and then audit manager can execute a purge to remove audit trail backup files and XML files.
                     </p>
                     <p>To configure auditing for an Oracle ACFS file system, run the <code class="codeph">acfsutil</code> <code class="codeph">audit</code> <code class="codeph">init</code> command to initialize auditing for Oracle ACFS and then run <code class="codeph">acfsutil</code> <code class="codeph">audit</code> <code class="codeph">enable</code> to enable auditing for Oracle ACFS encryption or security on the specified file system. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-45B1DAE8-9908-4522-B697-03F7A44CA176__GUID-8E363EFB-F60E-4D05-9C4E-ED465ABDE9B1">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="acfs-commands-audit.html#GUID-9DCB02C4-D01E-4266-B13E-9EC7DFD5F557" title="This topic provides a summary of the commands for Oracle ACFS auditing.">Oracle ACFS Command-Line Tools for Auditing</a> for information about the <code class="codeph">acfsutil</code> <code class="codeph">audit</code> commands
                              </p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-security.html#GUID-07912FD9-DDF7-4511-B69F-A7B4BE8025FA" title="This topic provides a summary of the commands for Oracle ACFS security.">Oracle ACFS Command-Line Tools for Security</a> for information about enabling or disabling auditing for specific commands in an Oracle ACFS security realm with the <code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">realm</code> <code class="codeph">audit</code> <code class="codeph">enable</code> and <code class="codeph">acfsutil</code> <code class="codeph">sec</code> <code class="codeph">realm</code> <code class="codeph">audit</code> <code class="codeph">disable</code> commands
                              </p>
                           </li>
                           <li>
                              <p><a href="views-acfs-advm-info.html#GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10">Views Containing Oracle ACFS Information</a> for information about views that are relevant to Oracle ACFS auditing
                              </p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Audit Vault and Database Firewall Administrator's Guide</cite></span> for information about the Audit Vault Server
                              </p>
                           </li>
                           <li>
                              <p>Your operating system-specific (OS) documentation for information about setting up OS users and OS groups</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="OSTMG95484"></a><a id="OSTMG95483"></a><div class="props_rev_3"><a id="GUID-3D418380-1715-400C-89D6-0D0C9703F274" name="GUID-3D418380-1715-400C-89D6-0D0C9703F274"></a><h4 id="OSTMG-GUID-3D418380-1715-400C-89D6-0D0C9703F274" class="sect4">Audit Trail File</h4>
                  <div>
                     <p><a id="d109608e5071" class="indexterm-anchor"></a>Audit trail files consist of a set of audit records. Each audit record represents a single event. Audit trail files are located in the <span class="italic"><code class="codeph">mount_point</code></span><code class="codeph">/.Security/audit</code> directory.
                     </p>
                     <p>Audit trail files generated by Oracle ACFS auditing are meant to be available for the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Manual review by an Oracle ACFS auditor using text viewing tools</p>
                        </li>
                        <li>
                           <p>Import into Oracle Audit Vault and Database Firewall</p>
                        </li>
                        <li>
                           <p>Third party products that can parse and import the audit sources</p>
                        </li>
                     </ul>
                     <p>The audit trail file consists of audit records. There are several different types of audit records, each of which represent a unique type of event and contain different information relevant to diagnosing the event. The types of events are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819">File Access Events</a></p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928">Privilege Use Events</a></p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75">Evaluation Result Events</a></p>
                        </li>
                     </ul>
                     <p>The combination of audit record fields entered in the audit trail file depends on the event type.</p>
                     <p>Each record is written to the audit trail file as a set of field names and values. Depending on the type of record, the number and type of fields may vary. Fields consist of a name and value pair, in the form <span class="italic">field</span> <span class="italic">name</span>:<span class="italic">value</span>, followed by an end of line character. 
                     </p>
                     <p>The audit record fields that can be present in the audit trail file are described in the following list. The string in parenthesis is the field name that appears in the audit trail log file. </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Timestamp (<code class="codeph">Timestamp</code>): The time at which the event occurred, always specified in UTC. The format for the time stamp is: <code class="codeph">MM/DD/YYYY HH:MM:SS UTC</code></p>
                        </li>
                        <li>
                           <p>Event Code (<code class="codeph">Event</code>): A code identifying the type of event. For the list of evaluation result codes, refer to <span class="q">"<a href="understand-acfs-admin.html#GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819">File Access Events</a>"</span> and <span class="q">"<a href="understand-acfs-admin.html#GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928">Privilege Use Events</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Source (<code class="codeph">Source</code>): <code class="codeph">Oracle ACFS</code></p>
                        </li>
                        <li>
                           <p>User identification (<code class="codeph">User</code>): The user who triggered the event. On Linux platforms this is a user ID and on Windows this is the user SID.
                           </p>
                        </li>
                        <li>
                           <p>Group identification (<code class="codeph">Group</code>): The primary group of the user who triggered the event. On Linux platforms this is the ID the primary group of the user and on Windows this is the SID of the primary group of the user.
                           </p>
                        </li>
                        <li>
                           <p>Process identification (<code class="codeph">Process</code>): The current process ID.
                           </p>
                        </li>
                        <li>
                           <p>Host name (<code class="codeph">Host</code>): The host which recorded the event.
                           </p>
                        </li>
                        <li>
                           <p>Application name (<code class="codeph">Application</code>): The application name for the current process.
                           </p>
                        </li>
                        <li>
                           <p>Realm name (<code class="codeph">Realm</code>): The name of the realm which was violated, or the realm that is authorized and is protecting the file.
                           </p>
                        </li>
                        <li>
                           <p>File name (<code class="codeph">File</code>): The file name which the user was accessing.
                           </p>
                        </li>
                        <li>
                           <p>Evaluation Result (<code class="codeph">Evaluation</code> <code class="codeph">Result</code>): This field contains the information about the result of the command executed. For the list of evaluation result codes, refer to <span class="q">"<a href="understand-acfs-admin.html#GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75">Evaluation Result Events</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>File system Id (<code class="codeph">FileSystem-ID</code>): 
                           </p>
                        </li>
                        <li>
                           <p>Message (<code class="codeph">Message</code>): The message field has the information about the command executed and its result.
                           </p>
                        </li>
                     </ul>
                     <p><a href="understand-acfs-admin.html#GUID-3D418380-1715-400C-89D6-0D0C9703F274__CBBCFJIJ">Example 11-1</a> shows an example of an audit trail file.
                     </p>
                     <div class="example" id="GUID-3D418380-1715-400C-89D6-0D0C9703F274__CBBCFJIJ">
                        <p class="titleinexample">Example 11-1 Sample audit trail file</p><pre class="oac_no_warn" dir="ltr">Timestamp: 06/08/12 11:00:37:616 UTC
Event: ACFS_AUDIT_READ_OP
Source: Oracle_ACFS
User: 0
Group: 0
Process: 1234
Host: slc01hug
Application: cat
Realm: MedicalDataRealm
File: f2.txt
Evaluation Result: ACFS_AUDIT_REALM_VIOLATION
FileSystem-ID: 1079529531
Message: Realm authorization failed for file ops READ

Timestamp: 06/08/12 11:00:37:616 UTC
Event: ACFS_AUDIT_WRITE_OP
Source: Oracle_ACFS
User: 102
Group: 102
Process: 4567
Host: slc01hug
Application: vi
Realm: PayrollRealm,SecuredFiles
File: f2.txt
Evaluation Result: ACFS_AUDIT_REALM_AUTH
FileSystem-ID: 1079529531
Message: Realm authorization succeeded for file ops WRITE

Timestamp: 06/08/12 10:42:20:977 UTC
Event: ACFS_SEC_PREPARE
Source: Oracle_ACFS
User: 507867
Group: 8500
Process: 603
Host: slc01hug
Application: acfsutil.bin
Evaluation Result: ACFS_CMD_SUCCESS
FileSystem-ID: 1079529531
Message: acfsutil sec prepare: ACFS-10627: Mount point '/mnt' is now
prepared for security operations.
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OSTMG95485"></a><div class="props_rev_3"><a id="GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819" name="GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819"></a><h4 id="OSTMG-GUID-B0577288-EFD6-4ECE-AA49-912B8D02B819" class="sect4">File Access Events</h4>
                  <div>
                     <p><a id="d109608e5376" class="indexterm-anchor"></a>File access events include both realm authorization and violation records. These events share a similar structure with all events, but have a different event code. The Evaluation Result (<code class="codeph">Evaluation</code> <code class="codeph">Result</code>) field can contain either <code class="codeph">ACFS_AUDIT_REALM_VIOLATION</code> or <code class="codeph">ACFS_AUDIT_REALM_AUTH</code>.
                     </p>
                     <p>The possible event code (<code class="codeph">Event</code>) for file access events include the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_APPENDFILE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_CHGRP_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_CHMOD_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_CHOWN_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_CREATEFILE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_DELETEFILE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_EXTEND_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_GET_EXTATTR_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_LINKFILE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_MKDIR_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_MMAPREAD_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_MMAPWRITE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_MUTABLE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_OPENFILE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_OVERWRITE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_READ_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_READDIR_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_RENAME_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_RMDIR_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_SET_EXTATTR_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_SYMLINK_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_TRUNCATE_OP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_WRITE_OP</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95486"></a><div class="props_rev_3"><a id="GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928" name="GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928"></a><h4 id="OSTMG-GUID-8941F2DB-E744-4800-B433-E7ACBBA5F928" class="sect4">Privilege Use Events</h4>
                  <div>
                     <p><a id="d109608e5631" class="indexterm-anchor"></a>Privilege use events include security commands run by the security administrator or system administrator, and encryption commands run by the system administrator or file owners. 
                     </p>
                     <p>The <code class="codeph">ACFS_AUDIT_INIT</code>, <code class="codeph">ACFS_SEC_INIT</code>, and <code class="codeph">ACFS_ENCR_INIT</code> events are written into the global log that is located in Oracle Grid Infrastructure home.
                     </p>
                     <p>The possible event code (<code class="codeph">Event</code>) for privilege use events include the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_ARCHIVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_DISABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_ENABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_INIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_PURGE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_READ</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_FILE_OFF</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_FILE_ON</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_FILE_REKEY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_FS_OFF</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_FS_ON</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_INIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_SET</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_SET_UNDO</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_VOL_REKEY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_WALLET_STORE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_REALM_AUDIT_DISABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_REALM_EDIT_ENCR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_REALM_AUDIT_ENABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_LOAD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_PREPARE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_PREPARE_UNDO</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_REALM_ADD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_REALM_CLONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_REALM_CREATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_REALM_DELETE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_REALM_DESTROY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULE_CREATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULE_DESTROY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULE_EDIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULESET_CREATE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULESET_DESTROY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_RULESET_EDIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_SAVE</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95487"></a><div class="props_rev_3"><a id="GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75" name="GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75"></a><h4 id="OSTMG-GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75" class="sect4">Evaluation Result Events</h4>
                  <div>
                     <p><a id="d109608e5930" class="indexterm-anchor"></a>Evaluation result event codes provide information about the execution status of a command. 
                     </p>
                     <p>The evaluation result event codes can be one of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_REALM_VIOLATION</code> &#x2013; The user executing the command does not have the proper realm access permission to execute the command.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_REALM_AUTH</code> - Indicates the result of a realm evaluation.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDIT_MGR_PRIV</code> &#x2013; Audit manager privileges are required, but have not been granted to the user.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_AUDITOR_PRIV</code> &#x2013; Auditor privileges are required, but have not been granted to the user.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_CMD_SUCCESS</code> - The command has been successful in performing the task.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_CMD_FAILURE</code> - The command has failed in performing the task.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_ENCR_WALLET_AUTH_FAIL</code> &#x2013; A system administrator provides an incorrect password when opening an encryption wallet.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_INSUFFICIENT_PRIV</code> &#x2013; Either file owner or system administrator privileges are required, but have not been granted to the user.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_ADMIN_PRIV</code> &#x2013; Security administrator privileges are required, but the user is not a security administrator
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SEC_ADMIN_AUTH_FAIL</code> &#x2013; A valid security administrator fails to authenticate properly using their Oracle ACFS security administration password
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ACFS_SYS_ADMIN_PRIV</code> &#x2013; System administrator privileges are required, but have not been granted to the user.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG34600"></a><div class="props_rev_3"><a id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" name="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C"></a><h3 id="OSTMG-GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" class="sect3">Oracle ACFS Replication</h3>
               <div>
                  <p>Oracle ACFS snapshot-based replication enables replication of Oracle ACFS file systems across a network to a remote site, providing disaster recovery capability for the file system. </p>
                  <p>Oracle ACFS replication enables either a mounted file system or a snapshot of a mounted file system to be designated as a replication <span class="italic">storage</span> <span class="italic">location</span>. The source Oracle ACFS location of an Oracle ACFS replication relationship is referred to as a primary location. The target Oracle ACFS location of an Oracle ACFS replication relationship is referred to as a standby location.
                  </p>
                  <div class="infoboxnote" id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C__GUID-CFF2BDEC-3787-4E66-B237-3D91A2D436F9">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS replication functionality supports only one standby location for each primary location.</p>
                        </li>
                        <li>
                           <p>The standby location is read-only for as long as replication is active on it. Read-write snapshots may be created of the standby.</p>
                        </li>
                        <li>
                           <p>A primary site running Linux, Solaris or AIX can replicate to a standby site running any of those operating systems where Oracle ACFS is supported. A primary site running Windows can replicate only to a standby site running Windows. </p>
                           <p>Note that application data is not modified in any cross-platform use of Oracle ACFS replication. Oracle ACFS replication only ensures the validity of its metadata when transferring between different operating systems.</p>
                        </li>
                        <li>
                           <p>The primary and standby sites should be running the same version of the Oracle Grid Infrastructure software. When upgrading the sites, update the standby site first.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS replication is not supported with Oracle Restart. </p>
                        </li>
                        <li>
                           <p>An Oracle Key Vault keystore is not supported on a standby file system containing replication locations.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS encryption cannot be undone on a primary file system containing replication locations.</p>
                           <p>You cannot undo encryption on a file system having active snapshots. If you want to undo encryption on primary file system containing active replication locations, then first terminate replication. After replication has stopped, then undo encryption and start replication again.</p>
                        </li>
                     </ul>
                  </div>
                  <p>A site can host both primary and standby locations. For example, if there are cluster sites <code class="codeph">A</code> and <code class="codeph">B</code>, a primary file system hosted at site <code class="codeph">A</code> can be replicated to a standby snapshot at site <code class="codeph">B</code>. At the same time, a primary snapshot hosted at site <code class="codeph">B</code> can be replicated to a standby file system at site <code class="codeph">A</code>. However, an Oracle ACFS file system or snapshot cannot be used simultaneously as a primary and a standby location.
                  </p>
                  <p>Oracle ACFS snapshot-based replication operates by recording snapshots of the primary location. After the initial snapshot is transferred to the standby location, replication continues by transferring the changes between successive snapshots of the primary to the standby location. These replication operations can occur either in <span class="italic">constant</span> <span class="italic">mode</span> (enabling a new operation to start as soon as the previous one completes), or can be scheduled to occur at fixed intervals. This replication solution is by nature asynchronous.
                  </p>
                  <p>Oracle ACFS replication uses snapshot functionality on the primary site initially to externalize both the contents of the initial snapshot, and later the differences between two specified snapshots. The result is called a snapshot duplication stream. The replication process then uses snapshot functionality on the standby site to apply this stream to the standby location, creating a duplicate of the primary location.</p>
                  <p>On the primary, because replication works by comparing successive snapshots, it is critical that there is enough disk space available on the site hosting the primary to contain the version of the primary recorded in each snapshot, as well as the current primary contents. In addition, there must always be enough space to create the snapshots required. Each replication snapshot is deleted when no longer needed.</p>
                  <p>On the standby, a backup snapshot is created at the end of each replication operation. This snapshot records the latest consistent contents of the standby, and can be used to recover those contents if a permanent outage occurs during the current replication operation.  Each backup snapshot is deleted when the following replication operation is complete, so it must always be possible to create a backup snapshot. In addition, enough space must exist for the version of the standby captured in the snapshot and the current standby contents.</p>
                  <p>You should ensure that the primary and standby file systems do not run out of disk space. If either file system runs out of available storage, you should either expand the file system or free up space by removing files from the file system or any read-write snapshots present. You can also configure automatic resize to avoid running out of space.</p>
                  <p>If the primary file system runs out of space and you decide to free up space by removing files, then you should only remove files that are not being replicated. Replicated files have been stored in a snapshot pending transfer to the standby file system and are not deleted. You can delete any Oracle ACFS snapshots not created by replication. </p>
                  <p>Oracle ACFS replication uses the <code class="codeph">ssh</code> utility as the transport between the primary and standby clusters. To enable the automated use of <code class="codeph">ssh</code>, replication requires two kinds of <span class="italic">keys</span> to be configured. These keys must be available on each node where replication is enabled to run.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>On each node in each cluster, the system administrator user (the user root on non-Windows systems or local <code class="codeph">SYSTEM</code> on Windows) must have a <span class="italic">host</span> <span class="italic">key</span> stored for each node in the other cluster.
                        </p>
                     </li>
                     <li>
                        <p>On each node in each cluster, a designated unprivileged user, the <span class="italic">apply</span> <span class="italic">user</span>, must have a public key stored for root, or local <code class="codeph">SYSTEM</code>, that is authorized to log in as the <span class="italic">apply</span> <span class="italic">user</span> on that node. Usually this public key is defined as part of a public/private key pair for root (or local <code class="codeph">SYSTEM</code>) on nodes of the other cluster.
                        </p>
                     </li>
                  </ul>
                  <p>These <span class="italic">keys</span> are needed because replication running on a primary host must be able to authenticate the standby host to which it is sending data using the host keys. Also, replication running on a primary host must be able to log in as the <span class="italic">apply</span> <span class="italic">user</span> on a standby host with the user keys to update the standby location. In addition, replication has the ability to reverse the roles being played by primary and standby. For this role reversal operation to be successful, primary and standby hosts require the same types of <code class="codeph">ssh</code> keys to be configured. For more information, refer to <a href="configure-acfs-replication.html#GUID-C1CB3914-E278-473A-ACCC-FD1BA7CDC0B4">Configuring ssh for Use With Oracle ACFS Replication</a>.
                  </p>
                  <p>Note that <code class="codeph">ssh</code> is not provided natively on Windows. For more information about the needed keys and how to configure them, and about installing and configuring <code class="codeph">ssh</code> on Windows, refer to <a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="The requirements for Oracle ACFS snapshot-based replication are discussed in this section.">Configuring Oracle ACFS Snapshot-Based Replication</a>.
                  </p>
                  <p>Before using replication on a file system or snapshot, ensure that you have checked the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>There is sufficient network bandwidth to support replication between the primary and standby locations.</p>
                     </li>
                     <li>
                        <p>The configuration of the sites hosting the primary and standby locations enable the standby file system to keep up with the rate of change on the primary location.</p>
                     </li>
                     <li>
                        <p>Host keys and user keys for <code class="codeph">ssh</code> have been configured properly.
                        </p>
                     </li>
                  </ul>
                  <p>Directories and files in an Oracle ACFS file system or snapshot can be tagged to select specific objects that you want to replicate in a file system.</p>
                  <p>Before replicating a given location, a replication configuration must be created to identify any necessary information, such as the site hosting the primary location, the site hosting the standby location, the file system to be replicated, the mount point of the file system for the location, and a list of tags.</p>
                  <p>The primary and standby sites must share the same user and group configurations, including all <code class="codeph">uids</code> and <code class="codeph">gids</code> in use in the two locations. The <span class="italic">apply</span> <span class="italic">user</span> described previously must be configured on each standby node where replication is enabled. This user should be a member of the Oracle ASM administration group. 
                  </p>
                  <div class="infoboxnote" id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C__THESAMEUSERANDGROUPIDENTITIESMUSTBE-C4B1C844">
                     <p class="notep1">Note:</p>
                     <p>The mappings between user names and numeric <code class="codeph">uids</code>, and between group names and numeric <code class="codeph">gids</code>, must be identical on both the primary cluster and the standby cluster.&nbsp;This is required to ensure that the numeric values are used in the same manner on both clusters because replication transfers only the numeric values from the primary to standby.
                     </p>
                  </div>
                  <p>Oracle ACFS replication provides replication <span class="italic">role</span> <span class="italic">reversal</span> functionality, which enables the original primary and standby locations to reverse roles. Using the <code class="codeph">acfsutil</code> <code class="codeph">repl</code> <code class="codeph">reverse</code> command, you can change the original primary to the new standby, and the original standby to the new primary. The <span class="italic">role</span> <span class="italic">reversal</span> functionality enhances replication to provide additional disaster recovery capabilities.
                  </p>
                  <p>To use Oracle ACFS replication functionality, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">12.2</code> or higher for the disk groups that contain the file systems for the primary and standby locations. To use Oracle ACFS role reversal replication functionality, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">18.0</code> or higher for the disk groups that contain the file systems for the primary and standby locations.
                  </p>
                  <p>To use Oracle ACFS replication on Solaris Sparc hardware, the system must be running Solaris 10 update 8 or later.</p>
                  <p>To configure replication and manage replicated Oracle ACFS locations, use the <code class="codeph">acfsutil</code> <code class="codeph">repl</code> command-line functions.
                  </p>
                  <p>Using Oracle ACFS replication with database files on Oracle ACFS is supported in Oracle ASM 18c and Oracle ASM 12<span class="italic">c</span> , release 2 (12.2.0.1).
                  </p>
                  <div class="infoboxnotealso" id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C__GUID-DFBDBB6C-F4D5-4EFB-82E6-548117E26C88">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-commands-replication.html#GUID-F40FA4A4-2ED0-461F-A1E0-5F886DA7FC0A" title="This topic provides a summary of the commands for Oracle ACFS snapshot-based replication.">Oracle ACFS Command-Line Tools for Replication</a> for information about Oracle ACFS <code class="codeph">acfsutil</code> replication commands
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE">Oracle ACFS Replication with Auditing, Encryption, and Security</a> for information about using Oracle ACFS replication with other Oracle ACFS features
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-utilities.html#GUID-79A8333D-4E1C-4788-944D-EC86E4278C00">acfsutil size</a> for information about resizing an Oracle ACFS file system
                           </p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" title="Oracle ACFS tagging assigns a common naming attribute to a group of files.">Oracle ACFS Tagging</a> for information on tagging
                           </p>
                        </li>
                        <li>
                           <p><a href="authenticate-access-asm-instance.html#GUID-7396FD18-628B-4026-AA55-79C6D6205EAE">About Privileges for Oracle ASM</a> for information about user privileges for Oracle ASM
                           </p>
                        </li>
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a> for information about disk group compatibility
                           </p>
                        </li>
                        <li>
                           <p><a href="steps-manage-acfs.html#GUID-13F8260D-7549-475E-A701-A12386FE7048" title="The operations to manage Oracle ACFS snapshot-based replication on an Oracle ACFS file system on Linux are discussed in this topic.">Replicating Oracle ACFS File Systems</a> for information about using the <code class="codeph">acfsutil</code> <code class="codeph">repl</code> command-line functions to configure replication and manage replicated Oracle ACFS file systems
                           </p>
                        </li>
                        <li>
                           <p><a href="configure-acfs-replication.html#GUID-1BB7CD34-399B-496C-B458-DA3E68F48D31" title="The requirements for Oracle ACFS snapshot-based replication are discussed in this section.">Configuring Oracle ACFS Snapshot-Based Replication</a> for information about converting an existing Oracle ACFS replication environment to the snapshot-based replication introduced in release 12.2.0.1
                           </p>
                        </li>
                        <li>
                           <p>Information about tuning your network on the Oracle Maximum Availability Architecture (MAA) website at <a href="https://www.oracle.com/database/technologies/high-availability/maa.html" target="_blank"><code class="codeph">https://www.oracle.com/database/technologies/high-availability/maa.html</code></a></p>
                        </li>
                        <li>
                           <p><span class="italic">Data Guard Redo Transport &amp; Network Configuration</span> document for relevant information about tuning your network
                           </p>
                        </li>
                        <li>
                           <p>Additional information on the Oracle ACFS website at <a href="https://www.oracle.com/database/technologies/rac/acfs.html" target="_blank"><code class="codeph">https://www.oracle.com/database/technologies/rac/acfs.html</code></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG34700"></a><div class="props_rev_3"><a id="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" name="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2"></a><h3 id="OSTMG-GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" class="sect3">Oracle ACFS Tagging</h3>
               <div>
                  <p>Oracle ACFS tagging assigns a common naming attribute to a group of files. </p>
                  <p>Oracle ACFS Replication can use this tag to select files with a unique tag name for replication to a different remote cluster site. The tagging option avoids having to replicate an entire Oracle ACFS file system.</p>
                  <p>Oracle ACFS implements tagging with Extended Attributes. Some editing tools and backup utilities do not retain the Extended Attributes of the original file by default; you must set a specific switch. The following list describes the necessary requirements and switch settings for some common utilities to ensure Oracle ACFS tag names are preserved on the original file.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">cp</code> command requires flags to preserve tag names.
                        </p>
                        <p>Install the <code class="codeph">coreutils</code> library (version <code class="codeph">coreutils-5.97-23.el5_4.1.src.rpm</code> or <code class="codeph">coreutils-5.97-23.el5_4.2.x86_64.rpm</code> or later) on Linux to install versions of the <code class="codeph">cp</code> command that supports Extended Attribute preservation with the <code class="codeph">--preserve=xattr</code> switch and the <code class="codeph">mv</code> command that supports Extended Attribute preservation without any switches. 
                        </p>
                        <p><code class="codeph">cp</code> does not preserve tag names assigned to symbolic link files.
                        </p>
                        <p>The <code class="codeph">cp</code> switches required to preserve tag names on files and directories are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <code class="codeph">--preserve=xattr</code></p>
                           </li>
                           <li>
                              <p>Solaris: <code class="codeph">-@</code></p>
                           </li>
                           <li>
                              <p>AIX: <code class="codeph">-U</code></p>
                           </li>
                           <li>
                              <p>Windows: no switch necessary</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <code class="codeph">cpio</code> file transfer utility requires flags to preserve tag names.
                        </p>
                        <p>The <code class="codeph">cpio</code> switches required to preserve tag names on files and directories are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <code class="codeph">cpio</code> does not preserve tag names
                              </p>
                           </li>
                           <li>
                              <p>Solaris: <code class="codeph">-@</code> is required to preserve or restore tag names for files and directories, but does not preserve tag names for symbolic link files
                              </p>
                           </li>
                           <li>
                              <p>AIX: <code class="codeph">-U</code> is required to preserve or restore tag names for files and directories, but does not preserve tag names for symbolic link files
                              </p>
                           </li>
                           <li>
                              <p>Windows: not available</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">emacs</code> requires that the <code class="codeph">backup-by-copying</code> option is set to a non-nil value to preserve tag names on the original file name rather than a backup copy. This option must be added to the <code class="codeph">.emacs</code> file.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">pax</code> file transfer utility requires flags to preserve tag names.
                        </p>
                        <p>The <code class="codeph">pax</code> switches required to preserve tag names on files and directories are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <code class="codeph">pax</code> does not preserve tag names
                              </p>
                           </li>
                           <li>
                              <p>Solaris: <code class="codeph">-@</code> is required to preserve or restore tag names for files and directories, but does not preserve tag names for symbolic link files
                              </p>
                           </li>
                           <li>
                              <p>AIX: <code class="codeph">-U</code> is required to preserve or restore tag names for files and directories, but does not preserve tag names for symbolic link files
                              </p>
                           </li>
                           <li>
                              <p>Windows: not available</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <code class="codeph">rsync</code> file transfer utility requires flags to preserve tag names.
                        </p>
                        <p>The <code class="codeph">rsync</code> switches required to preserve tag names on files and directories are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <code class="codeph">-X</code> <code class="codeph">-l</code> are required to preserve tag names for files and directories, but these switches do not preserve tag names for symbolic link files
                              </p>
                           </li>
                           <li>
                              <p>Solaris: <code class="codeph">rsync</code> does not preserve tag names
                              </p>
                           </li>
                           <li>
                              <p>AIX: not available</p>
                           </li>
                           <li>
                              <p>Windows: not available</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <code class="codeph">tar</code> backup utility can have flags set on the command line to preserve tag names on a file. However, <code class="codeph">tar</code> does not retain the tag names assigned to symbolic link files.
                        </p>
                        <p>The <code class="codeph">tar</code> backup utility on Windows currently provides no support to retain tag names as no switch exists to save Extended Attributes.
                        </p>
                        <p>The <code class="codeph">tar</code> switches required to preserve tag names on files and directories are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <code class="codeph">--xattrs</code></p>
                           </li>
                           <li>
                              <p>Solaris: <code class="codeph">-@</code></p>
                           </li>
                           <li>
                              <p>AIX: <code class="codeph">-U</code></p>
                           </li>
                           <li>
                              <p>Windows: <code class="codeph">tar</code> does not preserve tag names
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <code class="codeph">vim</code> or <code class="codeph">vi</code> editors require the <code class="codeph">set bkc=yes</code> option in the <code class="codeph">.vimrc</code> (Linux) or <code class="codeph">_vimrc</code> (Windows) file to make a backup copy of a file and overwrite the original. This preserves tag names on the original file.
                        </p>
                     </li>
                  </ul>
                  <p>To use Oracle ACFS tagging functionality on Linux, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.2</code> or higher. To use Oracle ACFS tagging functionality on Windows, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher. To use Oracle ACFS tagging functionality on Solaris or AIX, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">12.1</code> or higher.
                  </p>
                  <div class="infoboxnotealso" id="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2__GUID-2346C0E5-D139-4F4C-A439-4D3C5DE05183">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a> for information about disk group compatibility
                           </p>
                        </li>
                        <li>
                           <p><a href="steps-manage-acfs.html#GUID-1C351316-3D71-4520-A412-95AE85F56453" title="The operations to manage tagging on directories and files in an Oracle ACFS file system on Linux are discussed in this topic.">Tagging Oracle ACFS File Systems</a> and <a href="acfs-commands-tagging.html#GUID-1C47A766-E9A0-4D53-84FF-F29E5609A419" title="This topic provides a summary of the Oracle ACFS tagging commands.">Oracle ACFS Command-Line Tools for Tagging</a> for information about using the <code class="codeph">acfsutil</code> <code class="codeph">tag</code> command-line functions to configure tagging and manage tagged Oracle ACFS file systems
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-advanced-topics.html#GUID-95892F53-3082-4567-8C3A-4F66402F278D">Oracle ACFS Tagging Generic Application Programming Interface</a> for information about Oracle ACFS tagging application programming interfaces (APIs)
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG133"></a><div class="props_rev_3"><a id="GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE" name="GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE"></a><h3 id="OSTMG-GUID-5D3A265C-C7B4-4D9B-B2E8-F529C15B23BE" class="sect3">Oracle ACFS Replication with Auditing, Encryption, and Security</h3>
               <div>
                  <p>Auditing, encryption, and realm-based security features can be enabled on an Oracle ACFS file system on which replication has been configured. The replicated standby file system is secured with the same auditing, security, or encryption policies as the primary file system. For this replicated environment, the primary and standby file systems must both be 12.1 or higher installations. For more information about Oracle ACFS replication, refer to <span class="q">"<a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS snapshot-based replication enables replication of Oracle ACFS file systems across a network to a remote site, providing disaster recovery capability for the file system.">Oracle ACFS Replication</a>"</span>.
                  </p>
                  <p>To ensure successful replication, the standby file system must be a generic file system without auditing, encryption, or security metadata on it. Oracle ACFS does not support using a standby file system that once had security or encryption and then had security or encryption removed. Additional conditions that must be met for Oracle ACFS auditing, encryption, and security are listed in this section.</p>
                  <p>Note the following about Oracle ACFS audited file systems:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Before replicating an audit-enabled file system or auditing a replicated file system, auditing must be initialized on the standby file system.</p>
                     </li>
                     <li>
                        <p>Auditing policies present on the primary file system are replicated to the standby and any policy actions taken on the primary file system are enacted on the standby file system.</p>
                     </li>
                     <li>
                        <p>Two sets of audit trails are present on the standby file system. Trails from primary file system are replicated to the standby file system as ordinary files. File system activity may generate events on the standby file system, which are recorded in the audit trail for the standby file system. Audit trail names help distinguish the two sets of trails because they contain both the host name and FSID.</p>
                     </li>
                  </ul>
                  <p>Note the following about Oracle ACFS encrypted file systems:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Encrypted files on the primary file system remain encrypted on the standby file system with the same key and encryption parameters (algorithm and key length).</p>
                     </li>
                     <li>
                        <p>Encryption operations done on the primary file system are replayed on the standby file system - on, off, and rekey.</p>
                     </li>
                     <li>
                        <p>Encryption may be enabled before or after a file system is replicated. In either case, an encryption wallet is transparently created on the standby file system if one does not exist because <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code> has not been run on the standby file system.
                        </p>
                     </li>
                     <li>
                        <p>A password-protected wallet is not supported on the standby file system. If a PKCS wallet already exists on a site that is to be used as a standby file system, the administrator must use the <code class="codeph">acfsutil</code> <code class="codeph">keystore</code> <code class="codeph">migrate</code> command to transfer all keys to an SSO wallet.
                        </p>
                     </li>
                  </ul>
                  <p>Note the following about Oracle ACFS secured file systems:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Standby file systems should be initialized for security before replicating a security enabled file system.</p>
                     </li>
                     <li>
                        <p>The rules, rule sets and realms are replicated to the standby file system and same policies exist on the standby file system. In terms of the policies and protection of files, the standby file system is exactly same.</p>
                     </li>
                     <li>
                        <p>Replication can be enabled on a security enabled file system or security can be enabled on a replicated file system. As part of security preparation, security is also enabled on the standby file system.</p>
                     </li>
                     <li>
                        <p>Having security and replication together on a file system does not require any extra user intervention or additional steps.</p>
                     </li>
                     <li>
                        <p>A different set of security administrators or security administrator groups can be set up on the standby file system.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG95488"></a><div class="props_rev_3"><a id="GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD" name="GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD"></a><h3 id="OSTMG-GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD" class="sect3">Oracle ACFS Plugins</h3>
               <div>
                  <p>The Oracle ACFS plugin functionality enables a user space application to collect <span class="italic">just-in-time</span> Oracle ACFS file and Oracle ADVM volume metrics from the operating system environment. 
                  </p>
                  <p>Applications can use the Oracle ACFS plug-in infrastructure to create customized solutions that extend the general application file metric interfaces to include detailed Oracle ACFS file system and volume data. </p>
                  <p>The Oracle ACFS plug-in functionality can be enabled on separate Oracle ACFS file systems mounted on a standalone host or on one or more nodes of an Oracle Grid cluster where the Oracle ACFS file system is mounted. This functionality enables message communication between a node-local plugin enabled Oracle ACFS file system and an associated user space application module using Oracle ACFS plug-in application programming interfaces (APIs).</p>
                  <p>The plugin message APIs support both polling and posting message delivery models and multiple message payload types.</p>
                  <div class="infoboxnotealso" id="GUID-B342F29C-20E9-4B10-AC41-BA0AB8D902DD__GUID-0E790E6E-16D1-4486-B702-80AD69C2ED1A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="This topic provides a summary of the Oracle ACFS command-line utilities.">Oracle ACFS Command-Line Utilities</a> for information about Oracle ACFS plugin commands
                           </p>
                        </li>
                        <li>
                           <p><a href="acfs-advanced-topics.html#GUID-67360198-D34F-4FBE-98A0-FAB1458FAABB">Oracle ACFS Plug-in Generic Application Programming Interface</a> for information about the Oracle ACFS plug-in application programming interface
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A" name="GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A"></a><h3 id="OSTMG-GUID-2CFD8CD2-E639-4431-B1FF-69390084D07A" class="sect3">Oracle ACFS Accelerator Volume</h3>
               <div>
                  <p></p>
                  <p>Using an accelerator volume can improve performance by reducing the time to access and update Oracle ACFS metadata. You should create the accelerator volume on a disk group with storage that is significantly faster than the storage of the primary volume. For example, Solid State Disk (SSD) storage could be used. Oracle ADVM volumes are created with the ASMCMD <code class="codeph">volcreate</code> command. For information about the <code class="codeph">volcreate</code> command, refer to <a href="manage-advm-asmcmd.html#GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6">volcreate</a>.
                  </p>
                  <p>The recommended size of the accelerator volume depends on the workload.  It is especially helpful for files with many extents, especially if that extent metadata is updated frequently. You can use the <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code> command to view a report on a file's extents. Database files generally have many extents and when Oracle ACFS snapshots are in use, the extent metadata is updated frequently.  A workload that greatly benefits from an accelerator is a compressed file system.
                  </p>
                  <p> If Oracle ACFS cannot allocate space on the accelerator for critical metadata, then that metadata is stored on the primary volume instead. Depending on the frequency of metadata updates, it can have a disproportionate impact on performance. If the slow metadata is written in the same transaction as the fast metadata, then the slow metadata brings the performance of the entire operation down. </p>
                  <p>The recommended starting accelerator size is minimally 0.6% of the size of the file system.  If many snapshots are in use representing several points in time for a database workload, the recommendation is an additional 0.4% per snapshot. For example, a file system with 5 snapshots may need an accelerator whose size is 2.6% of the size of the primary volume.  <code class="codeph">acfsutil</code> <code class="codeph">size</code> can be configured to automatically grow the accelerator as needed along with the primary volume.  The accelerator increases in units of 64 mega bytes.  The minimum size of the accelerator volume is 256 M. <code class="codeph">mkfs</code> requires that the initial accelerator size be at least 0.4% of the size of the primary volume
                  </p>
                  <p>The accelerator volume is linked to the primary volume specified with the <code class="codeph">mkfs</code> command. When mounting a file system, only the primary volume is specified. If the accelerator volume becomes inaccessible for any reason after a file system with the volume is mounted, then the file system is taken offline. Only one storage accelerator volume can be associated with an Oracle ACFS file system. After an accelerator volume is associated with a file system, the volume cannot be disassociated from the file system.
                  </p>
                  <p>The accelerator volume can be created on Linux environments with the <code class="codeph">-a</code> option of the <code class="codeph">mkfs</code> command. To create an accelerator volume on Linux, the value of <code class="codeph">COMPATIBLE.ADVM</code> must be at least <code class="codeph">12.2</code>. For information about the commands used to manage accelerator volumes, refer to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="acfs-commands-utilities.html#GUID-3DBF9FFC-7D9E-480D-AE08-07C5D5CFFAAE">acfsutil accel replace</a> for information about replacing an existing accelerator volume
                        </p>
                     </li>
                     <li>
                        <p><a href="acfs-commands-linux.html#GUID-A972A122-D434-415D-A8B5-BCCBCDD0BC8C" title="This topic provides a summary of the Oracle ACFS commands for Linux environments.">Oracle ACFS Command-Line Tools for Linux Environments</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG95489"></a><div class="props_rev_3"><a id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" name="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E"></a><h3 id="OSTMG-GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E" class="sect3">Oracle ACFS NAS Maximum Availability eXtensions</h3>
               <div>
                  <p>Oracle ACFS NAS Maximum Availability eXtensions (Oracle ACFS NAS MAX) is a set of extensions that provide High Availability Extensions for Common NAS Protocols, such as NFS and SMB. </p>
                  <p> When using these extensions, the protocol in question is running in high availability mode, enabling the protocol to move between nodes in an Oracle RAC cluster. This functionality provides a way to address a single point of failure for a given protocol, so that if at least one node of the cluster is available, then the protocol is available. In addition to providing for high availability, the extensions provide for integration with common NAS protocols and the Oracle ACFS stack, enabling administrators to easily utilize these protocols without creating additional infrastructure. Note that the Oracle ACFS NAS Maximum Availability eXtensions functionality adds value to existing OS NAS protocol implementations, but does not replace them.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-2BCC8F21-A173-4A39-A52E-FDF01BC5A5B2">Oracle ACFS High Availability Network File System</p>
                     <p>High Availability Network File System (HANFS) for Oracle Grid Infrastructure provides uninterrupted service of NFS v2, v3, or v4 exported paths by exposing NFS exports on Highly Available Virtual IPs (HAVIP) and using Oracle Clusterware agents to ensure that the VIPs and NFS exports are always online. While base NFS supports file locking, HANFS does not support NFS file locking.</p>
                     <div class="infoboxnote" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-7FF8433E-F662-4D63-BA3F-8C04FCACC128">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This functionality relies on a working NFS server configuration available on the host computer. You must configure the NFS server before attempting to use the Oracle ACFS NFS export functionality.</p>
                           </li>
                           <li>
                              <p>This functionality is not available on Windows. </p>
                           </li>
                           <li>
                              <p>This functionality is not supported in Oracle Restart configurations.</p>
                           </li>
                           <li>
                              <p>The HAVIP cannot be started until at least one file system export resource has been created for it. </p>
                           </li>
                        </ul>
                     </div>
                     <p>To set up High Availability NFS for Oracle Grid Infrastructure, perform the following steps:</p>
                     <ol>
                        <li>
                           <p>Add and register a new HAVIP resource.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr"># srvctl add havip -id <span class="italic">hrexports</span> -address <span class="italic">my_havip_name</span> 
</pre><p>In the example, <span class="italic"><code class="codeph">my_havip_name</code></span> is mapped in the domain name server (DNS) to the VIP address and is used by the client systems when mounting the file system.
                           </p>
                           <p>The initial processing of <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">havip</code> ensures that:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The address being used is static, not dynamic</p>
                              </li>
                              <li>
                                 <p>Any DNS names resolve to only one host, not round-robin multiple DNS resolutions</p>
                              </li>
                              <li>
                                 <p>The network resource and provided IP address and resolved name are in the same subnet</p>
                              </li>
                              <li>
                                 <p>The name is not in use</p>
                              </li>
                           </ul>
                           <p>SRVCTL creates the appropriate HAVIP name using the <span class="italic"><code class="codeph">id</code></span>, ensuring it is unique. As a final validation step, SRVCTL ensures that the <span class="italic"><code class="codeph">network</code></span> resource (if provided) of <code class="codeph">ora.net#.network</code> exists. After this step, SRVCTL adds a new <code class="codeph">havip</code> of type <code class="codeph">ora.havip.type</code> with the name of <code class="codeph">ora.</code><span class="italic"><code class="codeph">id</code></span><code class="codeph">.havip</code>. In this example, the name is <code class="codeph">ora.</code><span class="italic"><code class="codeph">hrexports</code></span><code class="codeph">.havip</code>. 
                           </p>
                           <p>Next SRVCTL modifies HAVIP start dependencies, such as <code class="codeph">active</code> <code class="codeph">dispersion</code>; sets the stop dependencies; and ensures the <span class="italic"><code class="codeph">description</code></span> attribute (if provided) is appropriately set.
                           </p>
                        </li>
                        <li>
                           <p>Create a shared Oracle ACFS file system. </p>
                           <p>High Availability NFS for Oracle Grid Infrastructure operates only with Oracle ACFS file systems configured for clusterwide accessibility and does not support Oracle ACFS file systems configured for access on particular subsets of cluster nodes. High Availability NFS is not supported with non-Oracle ACFS file systems.</p>
                        </li>
                        <li>
                           <p>Register the Oracle ACFS file system.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ srvctl add filesystem -device /dev/asm/d1volume1-295 -volume VOLUME1 \
  -diskgroup HR_DATA -mountpath /oracle/cluster1/acfs1
</pre></li>
                        <li>
                           <p> Create an Oracle ACFS file system export resource.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr"># srvctl add exportfs -id hrexports -path /oracle/cluster1/acfs1 -name hrexport1
</pre><p>After the file system export resource has been created, then you can start the HAVIP created in step 1 to export the file system using the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">havip</code> command.
                           </p>
                           <p>The NFS mount option FSID is added to any export options, utilizing the FSID of the underlying Oracle ACFS file system plus a unique identifier. This FSID option provides for reliable fail over between nodes and allows the usage of snapshot mounting. </p>
                           <p>The default mount and export options for configured exports are the defaults for the NFS server.</p>
                           <p>Relative paths that are fully-qualified are converted to absolute paths. Relative paths that are not fully-qualified are not accepted as an export path.</p>
                           <p>VIPs attempts to find the best server to run on based on available file systems and other running VIPs, but this dispersion only occurs during CSS membership change events, such as a node joining or leaving the cluster.</p>
                           <div class="infoboxnote" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-6AC48B9F-CDC5-41CF-A0E0-ACC2A02FFF0E">
                              <p class="notep1">Note:</p>
                              <p>It is not recommended to start and stop exports individually; this functionality should be provided through the start and stop operations of HAVIP. </p>
                              <p>When HAVIP is not running, exports can exist on different nodes. After the associated HAVIP is started, the exports gather on a single node. </p>
                              <p>Clients that are using an export that is stopped while HAVIP is running raise the NFS error <code class="codeph">estale</code>, and must dismount and remount the file system.
                              </p>
                              <p>When mounting an HANFS exported file system on a client, the following <code class="codeph">CLIENT</code> mount options are recommended:
                              </p><pre class="oac_no_warn" dir="ltr">hard,intr,retrans=10000</pre></div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-88B2814E-0ABB-4F84-A549-3635056A5D98">Oracle ACFS HANFS with NFS Locks</p>
                     <p>Oracle ACFS HANFS now supports HANFS NFS v4 with NFS Locks. This functionality is only available on specific operating system (OS) platforms. To activate this functionality, additional steps must be performed after the Oracle Grid Infrastructure software is installed.  Note that after these steps are completed, the OS NFS server functionality of the cluster is managed by the Oracle Clusterware stack.  In addition, the location of certain OS NFS configuration files will be moved from their default location to a designated Oracle ACFS file system.</p>
                     <p>Some common tasks are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Activate:<code class="codeph"> acfshanfs addnode</code> 
                           </p>
                        </li>
                        <li>
                           <p>Uninstall: <code class="codeph">acfshanfs uninstall</code> 
                           </p>
                        </li>
                        <li>
                           <p>Check the installation status: <code class="codeph">acfshanfs installed</code></p>
                        </li>
                        <li>
                           <p>Check if this platform is supported: <code class="codeph">acfshanfs supported</code></p>
                        </li>
                     </ul>
                     <p>When activating the HANFS v4 lock functionality, the following command must be run on each node:</p><pre class="oac_no_warn" dir="ltr"># <span class="italic">grid_home</span>/bin/acfshanfs addnode -nfsv4lock -volume <span class="italic">volume_device</span>
</pre><p>The volume is formatted with an Oracle ACFS file system and mounted on a designated Oracle ACFS clusterware mount point For example on Linux:</p><pre class="oac_no_warn" dir="ltr">/dev/asm/nfs-81 on /var/lib/nfs type acfs (rw)</pre><p>Restrictions on the Oracle ADVM volume include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>No previously existing Oracle ACFS resource should exist for this new Oracle ADVM volume.</p>
                        </li>
                        <li>
                           <p>No Oracle ACFS file system should exist on this Oracle ADVM volume.</p>
                        </li>
                        <li>
                           <p>This Oracle ADVM volume should not be in use anywhere in the cluster.</p>
                        </li>
                     </ul>
                     <p>When Oracle HANFS v4 lock functionality is activated, there are differences from normal HANFS operations. The differences are noted in the following list:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The OS NFS server is under Oracle Clusterware control through the <code class="codeph">ora.netstorageservice</code> resource. When starting and stopping the Oracle Clusterware stack, the OS NFS server is also started and stopped.
                           </p>
                        </li>
                        <li>
                           <p>This resource has a dependency on an Oracle ACFS file system: <code class="codeph">ora.data_<span class="codeinlineitalic">hostname</span>.nfs.acfs</code></p>
                           <p>The <span class="italic">hostname</span> is the hostname of the first node on which the setup for Oracle HANFS locking has been run.
                           </p>
                        </li>
                        <li>
                           <p>Only Oracle HANFS should be used to export NFS file systems from the Oracle RAC cluster. The NFS server is configured and moved around the Oracle RAC cluster; only file systems exported by Oracle HANFS are accessible when the NFS server has migrated to an alternate cluster node.</p>
                        </li>
                        <li>
                           <p>When locking is initialized, Oracle HANFS exports are run from only a single node, unlike non-locking mode, where Oracle HANFS exports are distributed throughout the cluster. </p>
                        </li>
                        <li>
                           <p>On client nodes, mount the file system specifying NFS v4 as the NFS version. This prevents the server from defaulting to NFS v3, and enables support for the NFS v4 locking functionality.</p>
                        </li>
                     </ul>
                     <p>After High Availability Locking is activated, control of HANFS with locking is the same as described previously in this section.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-304BAFCA-A629-45FE-9A0A-72B559D105EF">Oracle ACFS HANFS with High Availability SMB</p>
                     <p>Oracle ACFS supports High Availability Samba (SMB), also known as CIFS (Common Internet File System) in previous Microsoft implementations. This protocol is commonly used to interface with Microsoft servers and Active Directory Domains and is supported by various operating system (OS) implementations. However, Oracle ACFS High Availability SMB requires the Microsoft SMB implementation or Samba.</p>
                     <p>Note the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Samba is available from www.samba.org</p>
                        </li>
                        <li>
                           <p>Ensure that Samba or SMB is correctly configured on your host OS before attempting to utilize High Availability SMB.</p>
                        </li>
                        <li>
                           <p>High Availability SMB is not supported in Oracle Restart mode.</p>
                        </li>
                        <li>
                           <p>After adding an HAVIP resource, an SMB Export resource must also be added; otherwise, the HAVIP resource does not start.</p>
                        </li>
                        <li>
                           <p>For highest performance and best results, ensure that both server and client are using SMB3. Note the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the newest version of Samba, v4 or later.</p>
                              </li>
                              <li>
                                 <p>Use the latest Microsoft OS version (2012 or later). To check the SMB version, use the Powershell <code class="codeph">cmdlet Get-SmbConnection</code> command.
                                 </p>
                              </li>
                              <li>
                                 <p>Previous versions of SMB require that the client must remount the SMB export after a storage failure.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Similar to HANFS, options may be specified on the command line and are passed to the host operating system.  Appropriate error messages are passed back.  If no options are provided to the SRVCTL command, the following default options apply:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Windows: READ Access for Everyone</p>
                              </li>
                              <li>
                                 <p>Linux, Solaris, and AIX: Read Only, Browsable = True</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Supported Option Sets:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Windows: Any options supported by the <code class="codeph">net.exe</code> command.
                                 </p>
                              </li>
                              <li>
                                 <p>Linux, Solaris, or AIX: Any options supported by the Samba configuration stanza.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>To set up High Availability SMB for Oracle Grid Infrastructure, perform the following steps:</p>
                     <ol>
                        <li>
                           <p>Add and register a new HAVIP resource.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr"># srvctl add havip -id <span class="italic">hrexports</span> -address <span class="italic">my_havip_name</span> 
</pre><p>In the example, <span class="italic"><code class="codeph">my_havip_name</code></span> is mapped in the domain name server (DNS) to the VIP address and is used by the client systems when mounting the file system.
                           </p>
                           <p>The initial processing of <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">havip</code> ensures that:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The address being used is static, not dynamic</p>
                              </li>
                              <li>
                                 <p>Any DNS names resolve to only one host, not round-robin multiple DNS resolutions</p>
                              </li>
                              <li>
                                 <p>The network resource and provided IP address and resolved name are in the same subnet</p>
                              </li>
                              <li>
                                 <p>The name is not in use</p>
                              </li>
                           </ul>
                           <p>SRVCTL creates the appropriate HAVIP name using the <span class="italic"><code class="codeph">id</code></span>, ensuring it is unique. As a final validation step, SRVCTL ensures that the <span class="italic"><code class="codeph">network</code></span> resource (if provided) of <code class="codeph">ora.net#.network</code> exists. After this step, SRVCTL adds a new <code class="codeph">havip</code> of type <code class="codeph">ora.havip.type</code> with the name of <code class="codeph">ora.</code><span class="italic"><code class="codeph">id</code></span><code class="codeph">.havip</code>. In this example, the name is <code class="codeph">ora.</code><span class="italic"><code class="codeph">hrexports</code></span><code class="codeph">.havip</code>. 
                           </p>
                           <p>Next SRVCTL modifies HAVIP start dependencies, such as <code class="codeph">active</code> <code class="codeph">dispersion</code>; sets the stop dependencies; and ensures the <span class="italic"><code class="codeph">description</code></span> attribute (if provided) is appropriately set.
                           </p>
                        </li>
                        <li>
                           <p>Create a shared Oracle ACFS file system.</p>
                           <p>High Availability SMB for Oracle Grid Infrastructure operates only with Oracle ACFS file systems configured for clusterwide accessibility and does not support Oracle ACFS file systems configured for access on particular subsets of cluster nodes. High Availability NFS is not supported with non-Oracle ACFS file systems.</p>
                        </li>
                        <li>
                           <p>Register the Oracle ACFS file system.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ srvctl add filesystem -device /dev/asm/d1volume1-295 -volume VOLUME1 \
  -diskgroup HR_DATA -mountpath /oracle/cluster1/acfs1
</pre></li>
                        <li>
                           <p>Create an Oracle ACFS file system export resource.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr"># srvctl add exportfs -id hrexports -path /oracle/cluster1/acfs1 -name hrexport1 &#x2013;type SMB</pre><p>After the file system export resource has been created, then you can start the HAVIP created in step 1 to export the file system using the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">havip</code> command.
                           </p>
                           <p>During the start of the resource, the Oracle ACFS Export resource creates a Samba configuration file (Linux, Solaris, or AIX) or runs the <code class="codeph">net.exe</code> binary to export the file system.
                           </p>
                           <p>VIPs attempts to find the best server to run on based on available file systems and other running VIPs, but this operation only occurs during CSS membership change events, such as a node joining or leaving the cluster.</p>
                           <div class="infoboxnote" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-0E31DD6E-66DA-4CD6-87FC-604801E71462">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>It is not recommended to start and stop exports individually; this functionality should be provided through the start and stop operations of HAVIP.</p>
                                 </li>
                                 <li>
                                    <p>When HAVIP is not running, exports can exist on different nodes. After the associated HAVIP is started, the exports gather on a single node.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-4D7A5911-8FA6-47DC-98BB-593B2C90D43E__GUID-F20963CD-EE7E-4C81-B8F5-B0E86F30559E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="steps-manage-acfs.html#GUID-4C98CF06-8CCC-45F1-9316-C40FB3EFF268" title="You can create an Oracle ACFS file system using the steps in this topic.">Creating an Oracle ACFS File System</a> for information about creating an Oracle ACFS file system
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-BF490C0F-C9AA-4A90-8DCD-B5A047AE9BBF" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code> command
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD1111" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about Oracle Clusterware resources
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> and <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02" name="GUID-348D994A-196F-41C9-A675-71AA58D7CA02"></a><h3 id="OSTMG-GUID-348D994A-196F-41C9-A675-71AA58D7CA02" class="sect3">Oracle ACFS Remote Service in the Cluster Domain</h3>
               <div>
                  <p></p>
                  <p>Oracle ACFS provides Oracle ACFS remote service for native Oracle ACFS functionality on Oracle Database member clusters with no attached local storage (InDirect Storage Member Cluster). Using an Oracle ACFS deployment on the Oracle Domain Services Cluster (DSC), Oracle ACFS remote service can be used for both Oracle application clusters and Oracle Database member clusters to enable a flexible and file system-based deployment of applications and databases. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-5615B5D7-6C78-4022-9466-A545776DAC5C">Supported Systems for Oracle ACFS Remote Service </p>
                     <p>The requirements for Oracle Database member clusters with Oracle ACFS remote service include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS remote service requires an Open-iSCSI iSCSI initiator for transport configuration. The latest release of Open-iSCSI is recommended.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS remote service supports Linux only. The supported versions are RedHat Enterprise Linux 6 and 7, and Oracle Linux 6 and 7.</p>
                        </li>
                     </ul>
                     <p>The requirements for DSCs with Oracle ACFS remote service are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS remote service supports only Oracle Linux 7 and RedHat Linux 7.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS remote service requires UEK3, UEK4, or later versions of the kernel.</p>
                        </li>
                        <li>
                           <p>Oracle ACFS remote service requires at least the minimum versions of the following packages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>python-2.7.5-34.0.1.el7.x86_64</p>
                              </li>
                              <li>
                                 <p>python-rtslib-2.1.fb57-3.el7.noarch</p>
                              </li>
                              <li>
                                 <p>python-configshell-1.1.fb18-1.el7.noarch</p>
                              </li>
                              <li>
                                 <p>targetcli-2.1.fb41-3.el7.noarch</p>
                              </li>
                              <li>
                                 <p>python-six-1.9.0-2.el7.noarch</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>You can run the <code class="codeph">acfsremote</code> <code class="codeph">supported</code> command to determine whether your current system is supported for Oracle ACFS remote service.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-A760F8B5-C245-4115-A562-68F75AEE6B7E"><span class="bold">Setup and Best Practices for Oracle ACFS Remote Service</span></p>
                     <p>The setup for Oracle ACFS remote service includes the following:</p>
                     <ol>
                        <li>
                           <p>Creating a transport</p>
                           <p>Create a transport on the DSC to provide the method that enables the Oracle Database member cluster to access the exports. Oracle ACFS remote service supports iSCSI transports, creating exports and assigning iSCSI targets to specific member cluster node initiators (IQNs), and providing access for only that specified member cluster node.</p>
                           <p>Ensure that every Oracle Database member cluster has its own isolated transport. You can accomplish this through the use of VLANs or multiple networks. This setup provides for isolation of network activity over the transport network, similar to an iSCSI network. For full redundancy, multiple transports for each member cluster should be configured, enabling transport link failure to be mitigated. In addition, multiple transports for each Oracle Database member cluster enable multipathing. Oracle Database member clusters can be configured to share a single transport. Note that the <code class="codeph">advmutil</code> <code class="codeph">transport</code> command does not enforce isolation.
                           </p>
                        </li>
                        <li>
                           <p>Creating a repository</p>
                           <p>Create a repository on the DSC for storage used by Oracle ACFS remote service. This repository starts as a single Oracle ACFS file system. For an optimal setup, create a separate Oracle ASM flex redundancy disk group for use by Oracle ACFS remote service. The group should contain one high redundancy Oracle ADVM volume and one normal redundancy volume for each Oracle Database member cluster. This configuration represents a trade-off between isolation, management, and space efficiency. With this setup, repositories are isolated from other member clusters at the volume level and there is only a single disk group to manage. Further isolation can be achieved using one disk group per member cluster. Space efficiency is achieved by using both normal and high redundancy volumes, enabling critical files to be stored in the high redundancy volume.</p>
                           <p>After you have created the volumes, format them with an Oracle ACFS file system. Then run <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code> to register the file system for automount during the stack startup. The automount ensures that repositories are available immediately after the stack is started so that Oracle Database member clusters can utilize their storage. A repository can be configured for automatic resizing, which provides resizing for the Oracle ACFS file system if the file system should run out of space. If automatic resizing is enabled, ensure that a single member cluster does not use all available disk group space.
                           </p>
                           <p>You can perform the steps for administering the Oracle ADVM volumes using the ASMCA GUI tool.</p>
                        </li>
                        <li>
                           <p>Creating an export</p>
                           <p>Run <code class="codeph">advmutil</code> <code class="codeph">export</code> commands on the Domain Services Cluster (DSC) to create exports in the repository on the DSC. If the member cluster is running, then the member cluster picks up the new export.  If the Oracle Clusterware stack is not running on the member cluster, or the member cluster is not booted, then the member cluster finds and uses the new export the next time the Oracle Clusterware stack is started. This typically occurs at the boot time of the member cluster. Because of the manner in which targets are exported, it could take a few minutes for the export to display on the member cluster as a volume. Exports reflect the same redundancy protection level (High, Normal, External) on the member cluster as the underlying Oracle ACFS remote service repository where they are stored on the Domain Services Cluster.
                           </p>
                        </li>
                        <li>
                           <p>Using the Export on the Member Cluster</p>
                           <p>After an export has been added, the member cluster displays a new volume device in the <code class="codeph">/dev/asm/</code> directory after a delay. The name associated with this volume device can be found in the <code class="codeph">advmutil</code> <code class="codeph">export</code> <code class="codeph">list</code> output on the DSC under the <span class="bold">client</span> <span class="bold">ADVM</span> <span class="bold">device</span> field. This volume device can be formatted with Oracle ACFS commands, mounted using the standard Oracle ACFS commands, and added to the Oracle Clusterware stack using <code class="codeph">srvctl</code> commands. The export is a full Oracle ADVM volume that can host an Oracle ACFS file system, and can be managed with any of the standard Oracle ACFS commands. For a simple example on creating an Oracle ACFS file system, refer to <a href="steps-manage-acfs.html#GUID-4C98CF06-8CCC-45F1-9316-C40FB3EFF268" title="You can create an Oracle ACFS file system using the steps in this topic.">Creating an Oracle ACFS File System</a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-D28335D7-6CF3-411C-92F4-DEB6DC972C6F">Performance Tuning for Oracle ACFS Remote Service</p>
                     <p>Performance tuning for Oracle ACFS remote service includes the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle ACFS remote service uses iSCSI as a standard transport so any applicable site-specific tuning that is required for iSCSI can be used in your environment. Generally this includes the standard private transport network and limiting the number of hosts on that network. Oracle ACFS remote service enables longer timeouts and higher queue depths for each export as a component of configuring Oracle ACFS remote service exports.</p>
                        </li>
                        <li>
                           <p>System tuning considerations must be taken into account when consolidating storage for Oracle ACFS remote service. </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You are effectively aggregating the IO of several client member clusters into the DSC, which is acting as a storage array for these member clusters. Ensure that your storage setup on the DSC can handle the aggregate load of all attached member clusters. </p>
                              </li>
                              <li>
                                 <p>The DSC needs appropriate network bandwidth to service all connected clients. Together with iSCSI tuning, additional network taps may be required to provide additional network bandwidth to handle all member cluster requests. </p>
                              </li>
                              <li>
                                 <p>The IO service of iSCSI utilizes CPU, so ensuring that enough available CPU is free is a high priority. Generally, a DSC serving Oracle ACFS remote service should run minimal processing loads for other activities, and should be considered a utility cluster, serving the needs of others.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-294EBE62-DE78-421E-AC7E-94099A363B78"><span class="bold">Oracle Clusterware Changes for Oracle ACFS Remote Service</span></p>
                     <p>Changes to Oracle Clusterware for Oracle ACFS remote service include:</p>
                     <p>On the Domain Services Cluster, Oracle ACFS remote service enables one new resource type. This type is a variant of the HAVIP, the <span class="italic">transport_vip</span> type. The resource enables the iSCSI Transport VIP to move around the DSC. Multiple Oracle Database member cluster transports can share a single VIP, although this is not a recommended practice. When using multiple transport VIPs, they attempt to spread out throughout the cluster to reduce an overload of the network on a single node. When the transport VIP is created, it has a dependency on the network and on any Oracle ACFS resources that are hosting storage repositories. Subsequent storage repository creation modifies the dependencies to include the new repository. This modification ensures that repositories and transport VIPs work together for availability during cluster service relocation and recovery. Transport VIPs are created and deleted automatically with <code class="codeph">advmutil</code> <code class="codeph">transport</code>, but can be viewed and managed using the <code class="codeph">srvctl</code> * <code class="codeph">havip</code> commands. 
                     </p>
                     <p>On InDirect Storage Member Clusters, Oracle ACFS remote service provides four new resources: <code class="codeph">ora.acfsrm</code>, <code class="codeph">ora.ccmb</code>, <code class="codeph">ora.acfsremote</code>, and <code class="codeph">ora.acfsrd</code>. These resources work together to manage Oracle ACFS remote services on the member clusters. The status of these resources can be viewed using the <code class="codeph">srvctl</code> * <code class="codeph">acfsrapps</code> commands. On the member cluster, there is no volume resource. Volume high availability is managed by the Oracle ACFS remote service feature set, so the Oracle ACFS resource does not have a dependency on the ADVM volume resource. Instead, the Oracle ACFS resource has a dependency on the new resource. Oracle ACFS resources are created using <code class="codeph">srvctl</code> * <code class="codeph">filesystem</code> commands.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-7BB93300-C1B1-4279-80F6-9C5639C5E4B5">Supporting Commands for Oracle ACFS Remote Service</p>
                     <p>In addition to the Oracle ACFS commands described in <a href="acfs-commands-cluster-domain.html#GUID-865D4267-5F79-4241-ADF4-2292FC34778D" title="This topic provides a summary of commands to manage Oracle ACFS in the cluster domain.">Oracle ACFS Command-Line Tools for Oracle ACFS in the Cluster Domain</a>, the following commands also support Oracle ACFS remote service functionality.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">acfsutil</code> <code class="codeph">compat</code> 
                           </p>
                           <p>Oracle ACFS primarily uses the compatibility setting of the disk group to determine which functionality to enable. In an InDirect Storage Member Cluster, there is no associated disk group to control this compatibility setting. Each file system controls their features using the <code class="codeph">acfsutil</code> <code class="codeph">compat</code> command. For information about <code class="codeph">acfsutil</code> <code class="codeph">compat</code>, refer to <a href="acfs-commands-utilities.html#GUID-07348A85-D67E-4826-81E4-863BF4A089EB">acfsutil compat get</a> and <a href="acfs-commands-utilities.html#GUID-E0898E97-98E4-433D-8CB3-609FD90A2A58">acfsutil compat set</a>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code></p>
                           <p>When running <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code> against a file configured to be used by Oracle ACFS remote service, the file displays the additional file attribute <code class="codeph">Remote</code>. This attribute identifies the file as the file as in use by Oracle ACFS remote service, and until the file is deconfigured, some actions; such as truncate, modify attributes, and delete using normal file system commands; are disallowed. This action prevents disruption of services to the member cluster using this file. For information about <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>, refer to <a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil info file</a>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">storage</code></p>
                           <p>When running on the Oracle Database member cluster, <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">storage</code> does not display information about the Domain Services Cluster (DSC) disk groups and file systems. Only information about the member cluster itself is displayed. Because the DSC is servicing multiple member clusters, this action prevents excessive sharing of information. For information about <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">storage</code>, refer to <a href="acfs-commands-utilities.html#GUID-6EDE8973-E5FA-4A42-BDE2-DC05CE1216AF">acfsutil info storage</a>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">crsctl</code> <code class="codeph">create</code> <span class="italic">member_cluster_configuration</span></p>
                           <p>The <code class="codeph">acfs</code> option is available for the <code class="codeph">crsctl</code> <code class="codeph">create</code> <span class="italic">member_cluster_configuration</span> command. The <code class="codeph">acfs</code> option is required to create a member cluster with Oracle ACFS remote service. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__GUID-F5C0970F-5CCF-4796-9903-86E8E8F24B2C">
                     <p class="titleinexample">Example 11-2 Adding an Oracle ACFS remote service to an already existing member cluster</p>
                     <p>In the following example, an Oracle ACFS remote service is added to an existing Oracle Database member cluster. The commands are run from the Grid Infrastructure home on the Oracle Database member cluster (MC) or Domain Services Cluster (DSC).</p>
                     <ol>
                        <li>
                           <p>On the DSC, add Oracle ACFS to the cluster manifest file.</p><pre class="oac_no_warn" dir="ltr">#/bin/crsctl create member_cluster_configuration mc3 -file /tmp/mc3.xml -member_type database -domain_services asm_storage indirect acfs

ORA-15365: member cluster 'mc3' already configured
MGTCA-1149 : member cluster 'mc3' already exists.
TFA-00516 This client is already registered in receiver
--------------------------------------------------------------------------------
ASM GIMR TFA ACFS RHP GNS
========================================================
YES YES  YES YES  NO  NO</pre></li>
                        <li>
                           <p>On the DSC, copy the cluster manifest file (mc3.xml) to the member cluster. For this example, assume that the file is copied to the member cluster with the same file name (mc3.xml).</p>
                        </li>
                        <li>
                           <p>On the MC, set up the OCR for Oracle ACFS remote service access.</p><pre class="oac_no_warn" dir="ltr">#/sbin/acfsutil cluster credential -s grid_user:asm_group
#/sbin/acfsutil cluster credential &#x2013;s grid2:oinstall
#/sbin/acfsutil cluster credential -i <span class="italic">path_name/</span>mc3.xml</pre><p><code class="codeph"><span class="codeinlineitalic">path_name/</span>mc3.xml</code> is the full path to the cluster manifest file copied from the DSC to the member cluster in step 2.
                           </p>
                        </li>
                        <li>
                           <p> On the MC, run the following commands as <code class="codeph">root</code> to complete the operation. 
                           </p><pre class="oac_no_warn" dir="ltr">#/bin/srvctl add acfsrapps
#/bin/srvctl start acfsrapps
#/bin/srvctl status acfsrapps

Oracle ACFS client cluster node membership and barrier resource is enabled.
Oracle ACFS client cluster node membership and barrier resource is running on nodes nshga2603.
Oracle ACFS acfsremote resource is enabled.
Oracle ACFS acfsremote resource is running on nodes nshga2603.
Oracle ACFS rolling migration resource is enabled.
Oracle ACFS rolling migration resource is running on nodes nshga2603.</pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-348D994A-196F-41C9-A675-71AA58D7CA02__NOTE-1481-1EF4009B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">About Oracle ACFS in the Cluster Domain</a></p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-cluster-domain.html#GUID-865D4267-5F79-4241-ADF4-2292FC34778D" title="This topic provides a summary of commands to manage Oracle ACFS in the cluster domain.">Oracle ACFS Command-Line Tools for Oracle ACFS in the Cluster Domain</a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="This topic provides a summary of the ASMCMD member cluster management commands that are used with Oracle ASM remote instances.">ASMCMD Member Cluster Management Commands</a></p>
                           </li>
                           <li>
                              <p><a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.">Managing Oracle Flex ASM</a></p>
                           </li>
                           <li>
                              <p>For information about CRSCTL commands, refer to <a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>