<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Understanding Schema Object Dependency</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="identity-code.html" title="Previous" type="text/html">
      <link rel="next" href="editions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="identity-code.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="editions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">Advanced Topics for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Understanding Schema Object Dependency</li>
            </ol>
            <a id="GUID-488AF7D9-EDEB-4589-A503-FDE31CE55B60" name="GUID-488AF7D9-EDEB-4589-A503-FDE31CE55B60"></a><a id="ADFNS1265"></a><a id="ADFNS99967"></a>
            
            <h2 id="ADFNS-GUID-488AF7D9-EDEB-4589-A503-FDE31CE55B60" class="sect2"><span class="enumeration_chapter">26 </span>Understanding Schema Object Dependency
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='schema-object-dependency'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>If the definition of object A references object B, then A depends on B. This chapter explains dependencies among schema objects, and how Oracle Database automatically tracks and manages these dependencies. Because of this automatic dependency management, A never uses an obsolete version of B, and you almost never have to explicitly recompile A after you change B.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-488AF7D9-EDEB-4589-A503-FDE31CE55B60__GUID-BA3EFC75-810E-4BC3-B809-DF6B35C67028">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-68D487A4-6E48-4F48-8D97-AF560B93883E">Overview of Schema Object Dependency</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-59F717D6-1DD8-4D75-B14E-775E165BFE0A">Querying Object Dependencies</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-5795239E-C70B-424E-9757-710A37AD6F51">Object Status</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810">Invalidation of Dependent Objects</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-48B8583D-A1F9-4B09-AE64-A5116D50B34F">Guidelines for Reducing Invalidation</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-7FC0ABCA-52B1-4244-AD12-017F6E89AB99">Object Revalidation</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0">Name Resolution in Schema Scope</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-0E05699C-604F-41A5-B76E-7216CF25C913">Local Dependency Management</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-D89D3306-9B7A-443F-BD64-81D4808E8EFC">Remote Dependency Management</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-B99E885E-900F-4F29-A188-A617A301FDCE">Remote Procedure Call (RPC) Dependency Management</a></p>
                  </li>
                  <li>
                     <p><a href="schema-object-dependency.html#GUID-FEDD8B95-890A-43B2-BB6D-C2D2C17E8278">Shared SQL Dependency Management</a></p>
                  </li>
               </ul>
            </div><a id="ADFNS887"></a><a id="ADFNS888"></a><a id="ADFNS889"></a><a id="ADFNS99966"></a><div class="props_rev_3"><a id="GUID-68D487A4-6E48-4F48-8D97-AF560B93883E" name="GUID-68D487A4-6E48-4F48-8D97-AF560B93883E"></a><h3 id="ADFNS-GUID-68D487A4-6E48-4F48-8D97-AF560B93883E" class="sect3">Overview of Schema Object Dependency</h3>
               <div>
                  <p>Some types of schema objects can reference other objects in their definitions. For example, a view is defined by a query that references tables or other views, and the body of a subprogram can include SQL statements that reference other objects. If the definition of object A references object B, then A is a <span class="bold">dependent object</span> (of B) and B is a <span class="bold">referenced object</span> (of A).
                  </p>
               </div>
               <div class="sect3"><a id="GUID-6909F672-2934-406C-91DB-1E003CCA35E3" name="GUID-6909F672-2934-406C-91DB-1E003CCA35E3"></a><h4 id="ADFNS-GUID-6909F672-2934-406C-91DB-1E003CCA35E3" class="sect4">Example: Displaying Dependent and Referenced Object Types</h4>
                  <div>
                     <p><a href="schema-object-dependency.html#GUID-6909F672-2934-406C-91DB-1E003CCA35E3__BABJDJDE">Example 26-1</a> shows how to display the dependent and referenced object types in your database (if you are logged in as DBA).
                     </p>
                     <div class="example" id="GUID-6909F672-2934-406C-91DB-1E003CCA35E3__BABJDJDE">
                        <p class="titleinexample">Example 26-1 Displaying Dependent and Referenced Object Types</p>
                        <p>Display dependent object types:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT TYPE
FROM DBA_DEPENDENCIES
ORDER BY TYPE;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">TYPE
------------------
DIMENSION
EVALUATION CONTXT
FUNCTION
INDEX
INDEXTYPE
JAVA CLASS
JAVA DATA
MATERIALIZED VIEW
OPERATOR
PACKAGE
PACKAGE BODY
PROCEDURE
RULE
RULE SET
SYNONYM
TABLE
TRIGGER
TYPE
TYPE BODY
UNDEFINED
VIEW
XML SCHEMA
 
22 rows selected.
</pre><p>Display referenced object types:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT REFERENCED_TYPE
FROM DBA_DEPENDENCIES
ORDER BY REFERENCED_TYPE;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">REFERENCED_TYPE
------------------
EVALUATION CONTXT
FUNCTION
INDEX
INDEXTYPE
JAVA CLASS
LIBRARY
OPERATOR
PACKAGE
PROCEDURE
SEQUENCE
SYNONYM
TABLE
TYPE
VIEW
XML SCHEMA

14 rows selected.
</pre><p>If you alter the definition of a referenced object, dependent objects might not continue to function without error, depending on the type of alteration. For example, if you drop a table, no view based on the dropped table is usable.</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C7E7C5EA-51C7-4C39-B290-CB37FB7F6642" name="GUID-C7E7C5EA-51C7-4C39-B290-CB37FB7F6642"></a><h4 id="ADFNS-GUID-C7E7C5EA-51C7-4C39-B290-CB37FB7F6642" class="sect4">Example: Schema Object Change that Invalidates Some Dependents</h4>
                  <div>
                     <p>As an example of a schema object change that invalidates some dependents but not others, consider the two views in the following example, which are based on the <code class="codeph">HR</code>.<code class="codeph">EMPLOYEES</code> table.
                     </p>
                     <p><a href="schema-object-dependency.html#GUID-C7E7C5EA-51C7-4C39-B290-CB37FB7F6642__BABJEGJA">Example 26-2</a> creates two views from the <code class="codeph">EMPLOYEES</code> table: <code class="codeph">SIXFIGURES</code>, which selects all columns in the table, and <code class="codeph">COMMISSIONED</code>, which does not include the <code class="codeph">EMAIL</code> column. As the example shows, changing the <code class="codeph">EMAIL</code> column invalidates <code class="codeph">SIXFIGURES</code>, but not <code class="codeph">COMMISSIONED</code>.
                     </p>
                     <div class="example" id="GUID-C7E7C5EA-51C7-4C39-B290-CB37FB7F6642__BABJEGJA">
                        <p class="titleinexample">Example 26-2 Schema Object Change That Invalidates Some Dependents</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW sixfigures AS
SELECT * FROM employees
WHERE salary &gt;= 100000;

CREATE OR REPLACE VIEW commissioned AS
SELECT first_name, last_name, commission_pct
FROM employees
WHERE commission_pct &gt; 0.00;
 </pre><p>SQL*Plus formatting command:</p><pre class="oac_no_warn" dir="ltr">COLUMN object_name FORMAT A16
</pre><p>Query:</p><pre class="oac_no_warn" dir="ltr">SELECT object_name, status
FROM user_objects
WHERE object_type = 'VIEW'
ORDER BY object_name;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">OBJECT_NAME      STATUS
---------------- -------
COMMISSIONED     VALID
EMP_DETAILS_VIEW VALID
SIXFIGURES       INVALID

3 rows selected.
</pre><p>Lengthen <code class="codeph">EMAIL</code> column of <code class="codeph">EMPLOYEES</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE employees MODIFY email VARCHAR2(<span class="bold">100</span>);
</pre><p>Query:</p><pre class="oac_no_warn" dir="ltr">SELECT object_name, status
FROM user_objects
WHERE object_type = 'VIEW'
ORDER BY object_name;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">OBJECT_NAME      STATUS
---------------- -------
COMMISSIONED     VALID
EMP_DETAILS_VIEW INVALID
SIXFIGURES       VALID
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-326F840E-2A72-4C0E-85E6-16BA983453FF" name="GUID-326F840E-2A72-4C0E-85E6-16BA983453FF"></a><h4 id="ADFNS-GUID-326F840E-2A72-4C0E-85E6-16BA983453FF" class="sect4">Example: View That Depends on Multiple Objects</h4>
                  <div>
                     <p>A view depends on every object referenced in its query. The view in <a href="schema-object-dependency.html#GUID-326F840E-2A72-4C0E-85E6-16BA983453FF__CHDEECCI">Example 26-3</a> depends on the tables <code class="codeph">employees</code> and <code class="codeph">departments</code>.
                     </p>
                     <div class="example" id="GUID-326F840E-2A72-4C0E-85E6-16BA983453FF__CHDEECCI">
                        <p class="titleinexample">Example 26-3 View that Depends on Multiple Objects</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW v AS
  SELECT last_name, first_name, department_name
  FROM <span class="bold">employees</span> e, <span class="bold">departments</span> d
  WHERE e.department_id = d.department_id
  ORDER BY last_name;</pre><p>Note the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CREATE</code> statements automatically update all dependencies.
                              </p>
                           </li>
                           <li>
                              <p>Dynamic SQL statements do not create dependencies. For example, this statement does not create a dependency on <code class="codeph">tab1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">EXECUTE IMMEDIATE 'SELECT * FROM tab1'</pre></li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADFNS99994"></a><div class="props_rev_3"><a id="GUID-59F717D6-1DD8-4D75-B14E-775E165BFE0A" name="GUID-59F717D6-1DD8-4D75-B14E-775E165BFE0A"></a><h3 id="ADFNS-GUID-59F717D6-1DD8-4D75-B14E-775E165BFE0A" class="sect3">Querying Object Dependencies</h3>
               <div>
                  <p>The static data dictionary views <code class="codeph">USER_DEPENDENCIES</code>, <code class="codeph">ALL_DEPENDENCIES</code>, and <code class="codeph">DBA_DEPENDENCIES</code> describe dependencies between database objects.
                  </p>
                  <p>The <code class="codeph">utldtree.sql</code> SQL script creates the view <code class="codeph">DEPTREE</code>, which contains information on the object dependency tree, and the view <code class="codeph">IDEPTREE</code>, a presorted, pretty-print version of <code class="codeph">DEPTREE</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-59F717D6-1DD8-4D75-B14E-775E165BFE0A__GUID-163B42C7-76DB-44CC-BB2C-3E02C027B1A5">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic">Oracle Database Reference</span> for more information about the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN29083" target="_blank"><code class="codeph">DEPTREE</code></a>, <a href="../refrn/DEPTREE.html#REFRN29083" target="_blank"><code class="codeph">IDEPTREE</code></a>, and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-571DA1D1-5274-4763-99B4-B1FF60E79F9F" target="_blank"><code class="codeph">utldtree.sql</code></a> script
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS890"></a><a id="ADFNS99993"></a><div class="props_rev_3"><a id="GUID-5795239E-C70B-424E-9757-710A37AD6F51" name="GUID-5795239E-C70B-424E-9757-710A37AD6F51"></a><h3 id="ADFNS-GUID-5795239E-C70B-424E-9757-710A37AD6F51" class="sect3">Object Status</h3>
               <div>
                  <div class="section">
                     <p>Every database object has a status value described in <a href="schema-object-dependency.html#GUID-5795239E-C70B-424E-9757-710A37AD6F51__CHDHHDAG" title="This table summarizes the status values that database objects can have.">Table 26-1</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5795239E-C70B-424E-9757-710A37AD6F51__CHDHHDAG">
                     <p class="titleintable">Table 26-1 Database Object Status</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Database Object Status" summary="This table summarizes the status values that database objects can have." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d156312e962">Status</th>
                              <th align="left" valign="bottom" width="74%" id="d156312e965">Meaning</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d156312e970" headers="d156312e962 ">
                                 <p>Valid</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d156312e970 d156312e965 ">
                                 <p>The object was successfully compiled, using the current definition in the data dictionary.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d156312e977" headers="d156312e962 ">
                                 <p>Compiled with errors</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d156312e977 d156312e965 ">
                                 <p>The most recent attempt to compile the object produced errors.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d156312e984" headers="d156312e962 ">
                                 <p>Invalid</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d156312e984 d156312e965 ">
                                 <p>The object is marked invalid because an object that it references has changed. (Only a dependent object can be invalid.)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d156312e991" headers="d156312e962 ">
                                 <p>Unauthorized</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d156312e991 d156312e965 ">
                                 <p>An access privilege on a referenced object was revoked. (Only a dependent object can be unauthorized.)</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-5795239E-C70B-424E-9757-710A37AD6F51__GUID-596615B0-B7AC-4074-9EB1-15FDB51322CB">
                        <p class="notep1">Note:</p>
                        <p>The static data dictionary views <code class="codeph">USER_OBJECTS</code>, <code class="codeph">ALL_OBJECTS</code>, and <code class="codeph">DBA_OBJECTS</code> do not distinguish between "Compiled with errors," "Invalid," and "Unauthorized"â€”they describe all of these as <code class="codeph">INVALID</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS891"></a><a id="ADFNS1266"></a><a id="ADFNS99992"></a><div class="props_rev_3"><a id="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810" name="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810"></a><h3 id="ADFNS-GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810" class="sect3">Invalidation of Dependent Objects</h3>
               <div>
                  <p>If object A depends on object B, which depends on object C, then A is a <span class="bold">direct dependent</span> of B, B is a direct dependent of C, and A is an <span class="bold">indirect dependent</span> of C.
                  </p>
                  <p>Direct dependents are invalidated only by changes to the referenced object that affect them (changes to the signature of the referenced object).</p>
                  <p>Indirect dependents can be invalidated by changes to the reference object that do not affect them. If a change to C invalidates B, it invalidates A (and all other direct and indirect dependents of B). This is called <span class="bold">cascading invalidation</span>.
                  </p>
                  <p>With <span class="bold">coarse-grained invalidation</span>, a data definition language (DDL) statement that changes a referenced object invalidates all of its dependents.
                  </p>
                  <p>With <span class="bold">fine-grained invalidation</span>, a DDL statement that changes a referenced object invalidates only dependents for which either of these statements is true:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The dependent relies on the attribute of the referenced object that the DDL statement changed.</p>
                     </li>
                     <li>
                        <p>The compiled metadata of the dependent is no longer correct for the changed referenced object.</p>
                     </li>
                  </ul>
                  <p>For example, if view <code class="codeph">v</code> selects columns <code class="codeph">c1</code> and <code class="codeph">c2</code> from table <code class="codeph">t</code>, a DDL statement that changes only column <code class="codeph">c3</code> of <code class="codeph">t</code> does not invalidate <code class="codeph">v</code>.
                  </p>
                  <p>The DDL statement <code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <span class="italic"><code class="codeph">object</code></span> has no effect under these conditions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">object</code></span> is a PL/SQL object, the new PL/SQL source text is identical to the existing PL/SQL source text, and the PL/SQL compilation parameter settings stored with <span class="italic"><code class="codeph">object</code></span> are identical to those in the session environment.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">object</code></span> is a synonym and the statement does not change the target object.
                        </p>
                     </li>
                  </ul>
                  <p>The operations in the left column of <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a> cause fine-grained invalidation, except in the cases in the right column. The cases in the right column, and all operations not listed in <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a>, cause coarse-grained invalidation.
                  </p>
                  <div class="tblformal" id="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856">
                     <p class="titleintable">Table 26-2 Operations that Cause Fine-Grained Invalidation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Operations that Cause Fine-Grained Invalidation" summary="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object,  and column 3 shows the corresponding resulting status of dependent objects." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="52%" id="d156312e1267">Operation</th>
                              <th align="left" valign="bottom" width="48%" id="d156312e1270">Exceptions</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1275" headers="d156312e1267 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">ADD</code> <span class="italic"><code class="codeph">column</code></span></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1275 d156312e1270 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Dependent object (except a view) uses <code class="codeph">SELECT</code> <code class="codeph">*</code> on <span class="italic"><code class="codeph">table</code></span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object uses <span class="italic"><code class="codeph">table</code></span><code class="codeph">%rowtype</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object performs <code class="codeph">INSERT</code> on <span class="italic"><code class="codeph">table</code></span> without specifying column list.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object references <span class="italic"><code class="codeph">table</code></span> in query that contains a join.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object references <span class="italic"><code class="codeph">table</code></span> in query that references a PL/SQL variable.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1342" headers="d156312e1267 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span> {<code class="codeph">MODIFY</code>|<code class="codeph">RENAME</code>|<code class="codeph">DROP</code>|<code class="codeph">SET</code> <code class="codeph">UNUSED</code>} <span class="italic"><code class="codeph">column</code></span></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">DROP</code> <code class="codeph">CONSTRAINT</code> <span class="italic"><code class="codeph">not_null_constraint</code></span></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1342 d156312e1270 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Dependent object directly references <span class="italic"><code class="codeph">column</code></span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object uses <code class="codeph">SELECT</code> <code class="codeph">*</code> on <span class="italic"><code class="codeph">table</code></span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object uses <span class="italic"><code class="codeph">table</code></span><code class="codeph">%ROWTYPE</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object performs <code class="codeph">INSERT</code> on <span class="italic"><code class="codeph">table</code></span> without specifying column list.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object is a trigger that depends on an entire row (that is, it does not specify a column in its definition).</p>
                                    </li>
                                    <li>
                                       <p>Dependent object is a trigger that depends on a column to the right of the dropped column.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1441" headers="d156312e1267 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <code class="codeph">VIEW</code> <span class="italic"><code class="codeph">view</code></span></p>
                                 <p>Online Table Redefinition (<code class="codeph">DBMS_REDEFINITION</code>)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1441 d156312e1270 ">
                                 <p>Column lists of new and old definitions differ, and at least one of these is true:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Dependent object references column that is modified or dropped in new view or table definition.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object uses <span class="italic"><code class="codeph">view</code></span><code class="codeph">%rowtype</code> or <span class="italic"><code class="codeph">table</code></span><code class="codeph">%rowtype</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object performs <code class="codeph">INSERT</code> on view or table without specifying column list.
                                       </p>
                                    </li>
                                    <li>
                                       <p>New view definition introduces new columns, and dependent object references view or table in query that contains a join.</p>
                                    </li>
                                    <li>
                                       <p>New view definition introduces new columns, and dependent object references view or table in query that references a PL/SQL variable.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object references view or table in <code class="codeph">RELIES</code> <code class="codeph">ON</code> clause.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1507" headers="d156312e1267 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <code class="codeph">SYNONYM</code> <span class="italic"><code class="codeph">synonym</code></span></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1507 d156312e1270 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>New and old <span class="italic"><code class="codeph">synonym</code></span> targets differ, and one is not a table.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Both old and new <span class="italic"><code class="codeph">synonym</code></span> targets are tables, and the tables have different column lists or different privilege grants.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Both old and new <span class="italic"><code class="codeph">synonym</code></span> targets are tables, and dependent object is a view that references a column that participates in a unique index on the old target but not in a unique index on the new target.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1548" headers="d156312e1267 ">
                                 <p><code class="codeph">DROP</code> <code class="codeph">INDEX</code></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1548 d156312e1270 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The index is a function-based index and the dependent object is a trigger that depends either on an entire row or on a column that was added to <span class="italic"><code class="codeph">table</code></span> after a function-based index was created.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The index is a unique index, the dependent object is a view, and the view references a column participating in the unique index.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1568" headers="d156312e1267 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <code class="codeph">{PROCEDURE|FUNCTION}</code></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1568 d156312e1270 ">
                                 <p>Call signature changes. Call signature is the parameter list (order, names, and types of parameters), return type, <code class="codeph">ACCESSIBLE</code> <code class="codeph">BY</code> clause ("white list"), purity<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "Purity refers to a set of rules for preventing side effects (such as unexpected data changes) when invoking PL/SQL functions within SQL queries. Package purity refers to the purity of the code in the package initialization block.")"><sup>Foot&nbsp;1</sup></a>, determinism, parallelism, pipelining, and (if the procedure or function is implemented in C or Java) implementation properties.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="52%" id="d156312e1600" headers="d156312e1267 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <code class="codeph">PACKAGE</code></p>
                              </td>
                              <td align="left" valign="top" width="48%" headers="d156312e1600 d156312e1270 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ACCESSIBLE</code> <code class="codeph">BY</code> clause ("white list") changes.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Dependent object references a dropped or renamed package item.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object references a package procedure or function whose call signature or entry-point number<a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, "The entry-point number of a procedure or function is determined by its location in the PL/SQL package code. A procedure or function added to the end of a PL/SQL package is given a new entry-point number.")"><sup>Foot&nbsp;2</sup></a>, changed.
                                       </p>
                                       <p>If referenced procedure or function has multiple overload candidates, dependent object is invalidated if any overload candidate's call signature or entry point number changed, or if a candidate was added or dropped.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object references a package cursor whose call signature, rowtype, or entry point number changed.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object references a package type or subtype whose definition changed.</p>
                                    </li>
                                    <li>
                                       <p>Dependent object references a package variable or constant whose name, data type, initial value, or offset number changed.</p>
                                    </li>
                                    <li>
                                       <p>Package purity<sup>1</sup> changed.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p><span class="bold">Purity</span> refers to a set of rules for preventing side effects (such as unexpected data changes) when invoking PL/SQL functions within SQL queries. <span class="bold">Package purity</span> refers to the purity of the code in the package initialization block.
                     </p>
                  <p></p>
                  <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p>The <span class="bold">entry-point number</span> of a procedure or function is determined by its location in the PL/SQL package code. A procedure or function added to the end of a PL/SQL package is given a new entry-point number.
                     </p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__GUID-C3EC59D9-3545-43E3-83D9-CF2137C7FBE1">
                     <p class="notep1">Note:</p>
                     <p>A dependent object that is invalidated by an operation in <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a> appears in the static data dictionary views <code class="codeph">*_OBJECTS</code> and <code class="codeph">*_OBJECTS_AE</code> only after an attempt to reference it (either during compilation or execution) or after invoking one of these subprograms:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DBMS_UTILITY</code>.<code class="codeph">COMPILE_SCHEMA</code> 
                           </p>
                        </li>
                        <li>
                           <p>Any <code class="codeph">UTL_RECOMP</code> subprogram 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__GUID-CCB0D7FC-2163-4AF3-94B5-DEFAC540A840">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-99888CC1-1F5F-41A3-8889-2D94F4CB03CA">Session State and Referenced Packages</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-88DA1853-BAF1-4A3F-AF25-657A2A37ABFE">Security Authorization</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__NOTE-13142-CB50CC2E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS00103" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about PL/SQL compilation parameter settings
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">COMPILE_SCHEMA</code> 
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/UTL_RECOMP.html#ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">UTL_RECOMP</code> subprogram
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99991"></a><div class="props_rev_3"><a id="GUID-99888CC1-1F5F-41A3-8889-2D94F4CB03CA" name="GUID-99888CC1-1F5F-41A3-8889-2D94F4CB03CA"></a><h4 id="ADFNS-GUID-99888CC1-1F5F-41A3-8889-2D94F4CB03CA" class="sect4">Session State and Referenced Packages</h4>
                  <div>
                     <p>Each session that references a package construct has its own instantiation of that package, including a persistent state of any public and private variables, cursors, and constants. All of a session's package instantiations, including state, can be lost if any of the session's instantiated packages are subsequently invalidated and revalidated.</p>
                     <div class="infoboxnotealso" id="GUID-99888CC1-1F5F-41A3-8889-2D94F4CB03CA__GUID-9DF7D12C-19A0-4EA4-ACE5-FE2A2770DD64">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-packages.html#LNPLS99926" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about package instantiation
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-packages.html#LNPLS804" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about package state
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS99990"></a><div class="props_rev_3"><a id="GUID-88DA1853-BAF1-4A3F-AF25-657A2A37ABFE" name="GUID-88DA1853-BAF1-4A3F-AF25-657A2A37ABFE"></a><h4 id="ADFNS-GUID-88DA1853-BAF1-4A3F-AF25-657A2A37ABFE" class="sect4">Security Authorization</h4>
                  <div>
                     <p>When a data manipulation language (DML) object or system privilege is granted to, or revoked from, a user or <code class="codeph">PUBLIC</code>, Oracle Database invalidates all the owner's dependent objects, to verify that an owner of a dependent object continues to have the necessary privileges for all referenced objects.
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS99989"></a><div class="props_rev_3"><a id="GUID-48B8583D-A1F9-4B09-AE64-A5116D50B34F" name="GUID-48B8583D-A1F9-4B09-AE64-A5116D50B34F"></a><h3 id="ADFNS-GUID-48B8583D-A1F9-4B09-AE64-A5116D50B34F" class="sect3">Guidelines for Reducing Invalidation</h3>
               <div>
                  <p>To reduce invalidation of dependent objects, follow these guidelines:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="schema-object-dependency.html#GUID-7D0D81FB-5764-467A-BE1D-FA7280C758EE">Add Items to End of Package</a></p>
                     </li>
                     <li>
                        <p><a href="schema-object-dependency.html#GUID-A4422004-08A7-4202-81D2-286121E5F31F">Reference Each Table Through a View</a></p>
                     </li>
                  </ul>
               </div><a id="ADFNS99988"></a><div class="props_rev_3"><a id="GUID-7D0D81FB-5764-467A-BE1D-FA7280C758EE" name="GUID-7D0D81FB-5764-467A-BE1D-FA7280C758EE"></a><h4 id="ADFNS-GUID-7D0D81FB-5764-467A-BE1D-FA7280C758EE" class="sect4">Add Items to End of Package</h4>
                  <div>
                     <p>When adding items to a package, add them to the end of the package. This preserves the entry point numbers of existing top-level package items, preventing their invalidation.</p>
                     <p>For example, consider this package:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE pkg1 AUTHID DEFINER IS
  FUNCTION get_var RETURN VARCHAR2;
END;
/
</pre><p>Adding an item to the end of <code class="codeph">pkg1</code>, as follows, does not invalidate dependents that reference the <code class="codeph">get_var</code> function:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE pkg1 AUTHID DEFINER IS
  FUNCTION get_var RETURN VARCHAR2;
  <span class="bold">PROCEDURE set_var (v VARCHAR2);</span>
END;
/
</pre><p>Inserting an item between the <code class="codeph">get_var</code> function and the <code class="codeph">set_var</code> procedure, as follows, invalidates dependents that reference the <code class="codeph">set_var</code> function:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE pkg1 AUTHID DEFINER IS
  FUNCTION get_var RETURN VARCHAR2;
  <span class="bold">PROCEDURE assert_var (v VARCHAR2);</span>
  PROCEDURE set_var (v VARCHAR2);
END;
/</pre></div>
               </div><a id="ADFNS99987"></a><div class="props_rev_3"><a id="GUID-A4422004-08A7-4202-81D2-286121E5F31F" name="GUID-A4422004-08A7-4202-81D2-286121E5F31F"></a><h4 id="ADFNS-GUID-A4422004-08A7-4202-81D2-286121E5F31F" class="sect4">Reference Each Table Through a View</h4>
                  <div>
                     <p>Reference tables indirectly, using views, enabling you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Add columns to the table without invalidating dependent views or dependent PL/SQL objects</p>
                        </li>
                        <li>
                           <p>Modify or delete columns not referenced by the view without invalidating dependent objects</p>
                        </li>
                     </ul>
                     <p>The statement <code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <code class="codeph">VIEW</code> does not invalidate an existing view or its dependents if the new <code class="codeph">ROWTYPE</code> matches the old <code class="codeph">ROWTYPE</code>.
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS1267"></a><a id="ADFNS99986"></a><div class="props_rev_3"><a id="GUID-7FC0ABCA-52B1-4244-AD12-017F6E89AB99" name="GUID-7FC0ABCA-52B1-4244-AD12-017F6E89AB99"></a><h3 id="ADFNS-GUID-7FC0ABCA-52B1-4244-AD12-017F6E89AB99" class="sect3">Object Revalidation</h3>
               <div>
                  <p>An object that is not valid when it is referenced must be validated before it can be used. Validation occurs automatically when an object is referenced; it does not require explicit user action.</p>
                  <p>If an object is not valid, its status is either compiled with errors, unauthorized, or invalid. For definitions of these terms, see <a href="schema-object-dependency.html#GUID-5795239E-C70B-424E-9757-710A37AD6F51__CHDHHDAG" title="This table summarizes the status values that database objects can have.">Table 26-1</a>.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7FC0ABCA-52B1-4244-AD12-017F6E89AB99__GUID-BD2CF25B-45D1-416B-B715-31EA7989EE3F">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-5EE5D90E-49EC-4183-A6E2-FA5F2A21619A">Revalidation of Objects that Compiled with Errors</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-535A5C33-90D2-4F85-BDAC-732313AA622F">Revalidation of Unauthorized Objects</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-562E4506-6F2C-4C07-BEBA-A67F605FF9DF">Revalidation of Invalid SQL Objects</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-10DF60EA-4AD7-424D-8A2C-43A2CA8B8BC8">Revalidation of Invalid PL/SQL Objects</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS892"></a><div class="props_rev_3"><a id="GUID-5EE5D90E-49EC-4183-A6E2-FA5F2A21619A" name="GUID-5EE5D90E-49EC-4183-A6E2-FA5F2A21619A"></a><h4 id="ADFNS-GUID-5EE5D90E-49EC-4183-A6E2-FA5F2A21619A" class="sect4">Revalidation of Objects that Compiled with Errors</h4>
                  <div>
                     <p>The compiler cannot automatically revalidate an object that compiled with errors. The compiler recompiles the object, and if it recompiles without errors, it is revalidated; otherwise, it remains invalid.</p>
                  </div>
               </div><a id="ADFNS893"></a><div class="props_rev_3"><a id="GUID-535A5C33-90D2-4F85-BDAC-732313AA622F" name="GUID-535A5C33-90D2-4F85-BDAC-732313AA622F"></a><h4 id="ADFNS-GUID-535A5C33-90D2-4F85-BDAC-732313AA622F" class="sect4">Revalidation of Unauthorized Objects</h4>
                  <div>
                     <p>The compiler checks whether the unauthorized object has access privileges to all of its referenced objects. If so, the compiler revalidates the unauthorized object without recompiling it. If not, the compiler issues appropriate error messages.</p>
                  </div>
               </div><a id="ADFNS894"></a><div class="props_rev_3"><a id="GUID-562E4506-6F2C-4C07-BEBA-A67F605FF9DF" name="GUID-562E4506-6F2C-4C07-BEBA-A67F605FF9DF"></a><h4 id="ADFNS-GUID-562E4506-6F2C-4C07-BEBA-A67F605FF9DF" class="sect4">Revalidation of Invalid SQL Objects</h4>
                  <div>
                     <p>The SQL compiler recompiles the invalid object. If the object recompiles without errors, it is revalidated; otherwise, it remains invalid.</p>
                  </div>
               </div><a id="ADFNS895"></a><div class="props_rev_3"><a id="GUID-10DF60EA-4AD7-424D-8A2C-43A2CA8B8BC8" name="GUID-10DF60EA-4AD7-424D-8A2C-43A2CA8B8BC8"></a><h4 id="ADFNS-GUID-10DF60EA-4AD7-424D-8A2C-43A2CA8B8BC8" class="sect4">Revalidation of Invalid PL/SQL Objects</h4>
                  <div>
                     <p>For an invalid PL/SQL program unit (procedure, function, or package), the PL/SQL compiler checks whether any referenced object changed in a way that affects the invalid object. If so, the compiler recompiles the invalid object. If the object recompiles without errors, it is revalidated; otherwise, it remains invalid. If not, the compiler revalidates the invalid object without recompiling it.</p>
                  </div>
               </div>
            </div><a id="ADFNS99985"></a><div class="props_rev_3"><a id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0" name="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0"></a><h3 id="ADFNS-GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0" class="sect3">Name Resolution in Schema Scope</h3>
               <div>
                  <p>Object names referenced in SQL statements have one or more pieces. Pieces are separated by periodsâ€”for example, <code class="codeph">hr</code>.<code class="codeph">employees</code>.<code class="codeph">department_id</code> has three pieces.
                  </p>
                  <p>Oracle Database uses the following procedure to try to resolve an object name.</p>
                  <div class="infoboxnote" id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__GUID-D81F71E0-4D79-48F9-8D2B-BBF551978B72">
                     <p class="notep1">Note:</p>
                     <p>For the procedure to succeed, all pieces of the object name must be visible in the current edition.</p>
                  </div>
                  <ol>
                     <li>
                        <p>Try to qualify the first piece of the object name.</p>
                        <p>If the object name has only one piece, then that piece is the first piece. Otherwise, the first piece is the piece to the left of the leftmost period; for example, in <code class="codeph">hr</code>.<code class="codeph">employees</code>.<code class="codeph">department_id</code>, the first piece is <code class="codeph">hr</code>.
                        </p>
                        <p>The procedure for trying to qualify the first piece is:</p>
                        <ol type="a">
                           <li>
                              <p>If the object name is a table name that appears in the <code class="codeph">FROM</code> clause of a <code class="codeph">SELECT</code> statement, and the object name has multiple pieces, go to step&nbsp;d. Otherwise, go to step&nbsp;b.
                              </p>
                              <p>Search the current schema for an object whose name matches the first piece.</p>
                              <p>If found, go to step&nbsp;2. Otherwise, go to step&nbsp;c.</p>
                           </li>
                           <li id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__CHDIEDGI">
                              <p>Search for a public synonym that matches the first piece.</p>
                              <p>If found, go to step&nbsp;2. Otherwise, go to step&nbsp;d.</p>
                           </li>
                           <li id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__CHDFBGIA">
                              <p>Search for a schema whose name matches the first piece.</p>
                              <p>If found, and if the object name has a second piece, go to step&nbsp;e. Otherwise, return an errorâ€”the object name cannot be qualified.</p>
                           </li>
                           <li id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__BABEBBHJ">
                              <p>Search the schema found at step&nbsp;d for a table or SQL function whose name matches the second piece of the object name.</p>
                              <p>If found, go to step&nbsp;2. Otherwise, return an errorâ€”the object name cannot be qualified.</p>
                              <div class="infoboxnote" id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__GUID-59BE832A-8670-4AD3-964E-73B34349A1B7">
                                 <p class="notep1">Note:</p>
                                 <p>A SQL function found at this step has been redefined by the schema found at step&nbsp;d.</p>
                              </div>
                           </li>
                        </ol>
                     </li>
                     <li id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__CHDBEBHE">
                        <p>A schema object has been qualified. Any remaining pieces of the object name must match a valid part of this schema object.</p>
                        <p>For example, if the object name is <code class="codeph">hr</code>.<code class="codeph">employees</code>.<code class="codeph">department_id</code>, <code class="codeph">hr</code> is qualified as a schema. If <code class="codeph">employees</code> is qualified as a table, <code class="codeph">department_id</code> must correspond to a column of that table. If <code class="codeph">employees</code> is qualified as a package, <code class="codeph">department_id</code> must correspond to a public constant, variable, procedure, or function of that package.
                        </p>
                     </li>
                  </ol>
                  <p>Because of how Oracle Database resolves references, an object can depend on the nonexistence of other objects. This situation occurs when the dependent object uses a reference that would be interpreted differently if another object were present.</p>
                  <div class="infoboxnotealso" id="GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0__GUID-5C98AC16-6177-46EC-91AA-A53B412E508B">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../lnpls/plsql-name-resolution.html#LNPLS01703" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about how name resolution differs in SQL and PL/SQL
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/distributed-database-concepts.html#ADMIN02803" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about name resolution in a distributed database system
                           </p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121">Name Resolution for Editioned and Noneditioned Objects</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS99984"></a><div class="props_rev_3"><a id="GUID-0E05699C-604F-41A5-B76E-7216CF25C913" name="GUID-0E05699C-604F-41A5-B76E-7216CF25C913"></a><h3 id="ADFNS-GUID-0E05699C-604F-41A5-B76E-7216CF25C913" class="sect3">Local Dependency Management</h3>
               <div>
                  <p><span class="bold">Local dependency management</span> occurs when Oracle Database manages dependencies among the objects in a single database. For example, a statement in a procedure can reference a table in the same database.
                  </p>
               </div>
            </div><a id="ADFNS1268"></a><a id="ADFNS99983"></a><div class="props_rev_3"><a id="GUID-D89D3306-9B7A-443F-BD64-81D4808E8EFC" name="GUID-D89D3306-9B7A-443F-BD64-81D4808E8EFC"></a><h3 id="ADFNS-GUID-D89D3306-9B7A-443F-BD64-81D4808E8EFC" class="sect3">Remote Dependency Management</h3>
               <div>
                  <p><span class="bold">Remote dependency management</span> occurs when Oracle Database manages dependencies in distributed environments across a network. For example, an Oracle Forms trigger can depend on a schema object in the database. In a distributed database, a local view can reference a remote table.
                  </p>
                  <p>Oracle Database also manages distributed database dependencies. For example, an Oracle Forms application might contain a trigger that references a table. The database system must account for dependencies among such objects. Oracle Database uses different mechanisms to manage remote dependencies, depending on the objects involved.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D89D3306-9B7A-443F-BD64-81D4808E8EFC__GUID-A08F82B0-FCCF-4A36-BD6F-A2F912A0F2AB">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-5DDF2B74-A9B4-40D4-ABFE-175F11544F3D">Dependencies Among Local and Remote Database Procedures</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-9560707C-6607-4E5E-841E-07BDDC218212">Dependencies Among Other Remote Objects</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-5EF4E3BF-0206-47B7-8E31-A3B11D437356">Dependencies of Applications</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99982"></a><div class="props_rev_3"><a id="GUID-5DDF2B74-A9B4-40D4-ABFE-175F11544F3D" name="GUID-5DDF2B74-A9B4-40D4-ABFE-175F11544F3D"></a><h4 id="ADFNS-GUID-5DDF2B74-A9B4-40D4-ABFE-175F11544F3D" class="sect4">Dependencies Among Local and Remote Database Procedures</h4>
                  <div>
                     <p>Dependencies among stored procedures (including functions, packages, and triggers) in a distributed database system are managed using either time-stamp checking or signature checking.</p>
                     <p>The dynamic initialization parameter <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> determines whether time stamps or signatures govern remote dependencies.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5DDF2B74-A9B4-40D4-ABFE-175F11544F3D__GUID-434ECF95-6679-44DD-BAE9-F268503273FC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS912" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-FDBE05D0-4742-40B1-943D-A3937B380BD7">Time-Stamp Dependency Mode</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-6DB81CA9-0712-4627-9294-1EE21109D044">RPC-Signature Dependency Mode</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS99981"></a><div class="props_rev_3"><a id="GUID-9560707C-6607-4E5E-841E-07BDDC218212" name="GUID-9560707C-6607-4E5E-841E-07BDDC218212"></a><h4 id="ADFNS-GUID-9560707C-6607-4E5E-841E-07BDDC218212" class="sect4">Dependencies Among Other Remote Objects</h4>
                  <div>
                     <p>Oracle Database does not manage dependencies among remote schema objects other than local-procedure-to-remote-procedure dependencies.</p>
                     <p>For example, assume that a local view is created and defined by a query that references a remote table. Also assume that a local procedure includes a SQL statement that references the same remote table. Later, the definition of the table is altered.</p>
                     <p>Therefore, the local view and procedure are never invalidated, even if the view or procedure is used after the table is altered, and even if the view or procedure now returns errors when used. In this case, the view or procedure must be altered manually so that errors are not returned. In such cases, lack of dependency management is preferable to unnecessary recompilations of dependent objects.</p>
                  </div>
               </div><a id="ADFNS99980"></a><div class="props_rev_3"><a id="GUID-5EF4E3BF-0206-47B7-8E31-A3B11D437356" name="GUID-5EF4E3BF-0206-47B7-8E31-A3B11D437356"></a><h4 id="ADFNS-GUID-5EF4E3BF-0206-47B7-8E31-A3B11D437356" class="sect4">Dependencies of Applications</h4>
                  <div>
                     <p>Code in database applications can reference objects in the connected database. For example, Oracle Call Interface (OCI) and precompiler applications can submit anonymous PL/SQL blocks. Triggers in Oracle Forms applications can reference a schema object.</p>
                     <p>Such applications are dependent on the schema objects they reference. Dependency management techniques vary, depending on the development environment. Oracle Database does not automatically track application dependencies.</p>
                     <div class="infoboxnotealso" id="GUID-5EF4E3BF-0206-47B7-8E31-A3B11D437356__GUID-07DA0932-4696-4E0B-8997-D865BBB8B3E7">
                        <p class="notep1">See Also:</p>
                        <p>Manuals for your application development tools and your operating system for more information about managing the remote dependencies within database applications</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1269"></a><a id="ADFNS99979"></a><div class="props_rev_3"><a id="GUID-B99E885E-900F-4F29-A188-A617A301FDCE" name="GUID-B99E885E-900F-4F29-A188-A617A301FDCE"></a><h3 id="ADFNS-GUID-B99E885E-900F-4F29-A188-A617A301FDCE" class="sect3">Remote Procedure Call (RPC) Dependency Management</h3>
               <div>
                  <p><span class="bold">Remote procedure call (RPC) dependency management</span> occurs when a local stored procedure calls a remote procedure in a distributed database system. The dynamic initialization parameter <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> controls the dependency mode. The choice is either time-stamp dependency mode or RPC-signature dependency mode.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B99E885E-900F-4F29-A188-A617A301FDCE__GUID-7E5426E0-3611-433B-B6B4-8413017A1B77">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-FDBE05D0-4742-40B1-943D-A3937B380BD7">Time-Stamp Dependency Mode</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-6DB81CA9-0712-4627-9294-1EE21109D044">RPC-Signature Dependency Mode</a></p>
                        </li>
                        <li>
                           <p><a href="schema-object-dependency.html#GUID-EC3E3CF1-03EF-40A0-86FF-78D19403DF1F">Controlling Dependency Mode</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99978"></a><div class="props_rev_3"><a id="GUID-FDBE05D0-4742-40B1-943D-A3937B380BD7" name="GUID-FDBE05D0-4742-40B1-943D-A3937B380BD7"></a><h4 id="ADFNS-GUID-FDBE05D0-4742-40B1-943D-A3937B380BD7" class="sect4">Time-Stamp Dependency Mode</h4>
                  <div>
                     <p>Whenever a procedure is compiled, its <span class="bold">time stamp</span> is recorded in the data dictionary. The time stamp shows when the procedure was created, altered, or replaced.
                     </p>
                     <p>A compiled procedure contains information about each remote procedure that it calls, including the schema, package name, procedure name, and time stamp of the remote procedure.</p>
                     <p>In time-stamp dependency mode, when a local stored procedure calls a remote procedure, Oracle Database compares the time stamp that the local procedure has for the remote procedure to the current time stamp of the remote procedure. If the two time stamps match, both the local and remote procedures run. Neither is recompiled.</p>
                     <p>If the two time stamps do not match, the local procedure is invalidated and an error is returned to the calling environment. All other local procedures that depend on the remote procedure with the new time stamp are also invalidated.</p>
                     <p>Time stamp comparison occurs when a statement in the body of the local procedure calls the remote procedure. Therefore, statements in the local procedure that precede the invalid call might run successfully. Statements after the invalid call do not run. The local procedure must be recompiled.</p>
                     <p>If DML statements precede the invalid call, they roll back only if they and the invalid call are in the same PL/SQL block. For example, the <code class="codeph">UPDATE</code> statement rolls back in this code:
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN</pre><pre class="oac_no_warn" dir="ltr">  UPDATE table SET ...
  invalid_proc;
  COMMIT;</pre><pre class="oac_no_warn" dir="ltr">END;
</pre><p>But the <code class="codeph">UPDATE</code> statement does not roll back in this code:
                     </p><pre class="oac_no_warn" dir="ltr">UPDATE table SET ...
EXECUTE invalid_proc;
COMMIT;
</pre><p>The disadvantages of time-stamp dependency mode are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Dependent objects across the network are often recompiled unnecessarily, degrading performance.</p>
                        </li>
                        <li>
                           <p>If the client-side application uses PL/SQL, this mode can cause situations that prevent the application from running on the client side.</p>
                           <p>An example of such an application is Oracle Forms. During installation, you must recompile the client-side PL/SQL procedures that Oracle Forms uses at the client site. Also, if a client-side procedure depends on a server procedure, and if the server procedure changes or is automatically recompiled, you must recompile the client-side PL/SQL procedure. However, no PL/SQL compiler is available on the client. Therefore, the developer of the client application must distribute new versions of the application to all customers.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS1270"></a><a id="ADFNS99977"></a><div class="props_rev_3"><a id="GUID-6DB81CA9-0712-4627-9294-1EE21109D044" name="GUID-6DB81CA9-0712-4627-9294-1EE21109D044"></a><h4 id="ADFNS-GUID-6DB81CA9-0712-4627-9294-1EE21109D044" class="sect4">RPC-Signature Dependency Mode</h4>
                  <div>
                     <p>Oracle Database provides <span class="bold">RPC signatures</span> to handle remote dependencies. RPC signatures do not affect local dependencies, because recompilation is always possible in the local environment.
                     </p>
                     <p>An RPC signature is associated with each compiled stored program unit. It identifies the unit by these characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Name</p>
                        </li>
                        <li>
                           <p>Number of parameters</p>
                        </li>
                        <li>
                           <p>Data type class of each parameter</p>
                        </li>
                        <li>
                           <p>Mode of each parameter</p>
                        </li>
                        <li>
                           <p>Data type class of return value (for a function)</p>
                        </li>
                     </ul>
                     <p>An RPC signature changes only when at least one of the preceding characteristics changes.</p>
                     <div class="infoboxnote" id="GUID-6DB81CA9-0712-4627-9294-1EE21109D044__GUID-AF0A1A70-0623-4563-913A-D54B7825C8DD">
                        <p class="notep1">Note:</p>
                        <p>An RPC signature does not include <code class="codeph">DETERMINISTIC</code>, <code class="codeph">PARALLEL_ENABLE</code>, or purity information. If these settings change for a function on remote system, optimizations based on them are not automatically reconsidered. Therefore, calling the remote function in a SQL statement or using it in a function-based index might cause incorrect query results.
                        </p>
                     </div>
                     <p>A compiled program unit contains the RPC signature of each remote procedure that it calls (and the schema, package name, procedure name, and time stamp of the remote procedure).</p>
                     <p>In RPC-signature dependency mode, when a local program unit calls a subprogram in a remote program unit, the database ignores time-stamp mismatches and compares the RPC signature that the local unit has for the remote subprogram to the current RPC signature of the remote subprogram. If the RPC signatures match, the call succeeds; otherwise, the database returns an error to the local unit, and the local unit is invalidated.</p>
                     <p>For example, suppose that this procedure, <code class="codeph">get_emp_name</code>, is stored on a server in Boston (<code class="codeph">BOSTON_SERVER</code>):
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE get_emp_name (
  emp_number  IN  NUMBER,
  hiredate    OUT VARCHAR2,
  emp_name    OUT VARCHAR2) AUTHID DEFINER AS
BEGIN
  SELECT last_name, TO_CHAR(hire_date, 'DD-MON-YY')
  INTO emp_name, hiredate
  FROM employees
  WHERE employee_id = emp_number;
END;
/
</pre><p>When <code class="codeph">get_emp_name</code> is compiled on <code class="codeph">BOSTON_SERVER</code>, Oracle Database records both its RPC signature and its time stamp.
                     </p>
                     <p>Suppose that this PL/SQL procedure, <code class="codeph">print_name</code>, which calls <code class="codeph">get_emp_name</code>, is on a server in California:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_ename (emp_number IN NUMBER) AUTHID DEFINER AS
  hiredate  VARCHAR2(12);
  ename     VARCHAR2(10);
BEGIN
  <span class="bold">get_emp_name@BOSTON_SERVER(emp_number, hiredate, ename);</span>
  dbms_output.put_line(ename);
  dbms_output.put_line(hiredate);
END;
/
</pre><p>When <code class="codeph">print_name</code> is compiled on the California server, the database connects to the Boston server, sends the RPC signature of <code class="codeph">get_emp_name</code> to the California server, and records the RPC signature of <code class="codeph">get_emp_name</code> in the compiled state of <code class="codeph">print_ename</code>.
                     </p>
                     <p>At runtime, when <code class="codeph">print_name</code> calls <code class="codeph">get_emp_name</code>, the database sends the RPC signature of <code class="codeph">get_emp_name</code> that was recorded in the compiled state of <code class="codeph">print_ename</code> to the Boston server. If the recorded RPC signature matches the current RPC signature of <code class="codeph">get_emp_name</code> on the Boston server, the call succeeds; otherwise, the database returns an error to <code class="codeph">print_name</code>, which is invalidated.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6DB81CA9-0712-4627-9294-1EE21109D044__GUID-85F61907-9C29-45A9-A855-189CAD62F9DF">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-4F745FCF-A34A-4967-B8E8-64BE0DA3E532">Changing Names and Default Values of Parameters</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-BC482BD0-D3EB-435F-A553-1131CA549E43">Changing Specification of Parameter Mode IN</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906">Changing Subprogram Body</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB">Changing Data Type Classes of Parameters</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-012C4634-98BF-455A-9A68-74736A640263">Changing Package Types</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1271"></a><div class="props_rev_3"><a id="GUID-4F745FCF-A34A-4967-B8E8-64BE0DA3E532" name="GUID-4F745FCF-A34A-4967-B8E8-64BE0DA3E532"></a><h5 id="ADFNS-GUID-4F745FCF-A34A-4967-B8E8-64BE0DA3E532" class="sect5">Changing Names and Default Values of Parameters</h5>
                     <div>
                        <p>Changing the name or default value of a subprogram parameter does not change the RPC signature of the subprogram. For example, procedure <code class="codeph">P1</code> has the same RPC signature in these two examples:
                        </p><pre class="oac_no_warn" dir="ltr">PROCEDURE P1 (<span class="bold">Param1</span> IN NUMBER := <span class="bold">100</span>);
PROCEDURE P1 (<span class="bold">Param2</span> IN NUMBER := <span class="bold">200</span>);
</pre><p>However, if your application requires that callers get the new default value, you must recompile the called procedure.</p>
                     </div>
                  </div><a id="ADFNS1272"></a><div class="props_rev_3"><a id="GUID-BC482BD0-D3EB-435F-A553-1131CA549E43" name="GUID-BC482BD0-D3EB-435F-A553-1131CA549E43"></a><h5 id="ADFNS-GUID-BC482BD0-D3EB-435F-A553-1131CA549E43" class="sect5">Changing Specification of Parameter Mode IN</h5>
                     <div>
                        <p>Because the subprogram parameter mode <code class="codeph">IN</code> is the default, you can specify it either implicitly or explicitly. Changing its specification from implicit to explicit, or the reverse, does not change the RPC signature of the subprogram. For example, procedure <code class="codeph">P1</code> has the same RPC signature in these two examples:
                        </p><pre class="oac_no_warn" dir="ltr">PROCEDURE P1 (Param1 NUMBER);    -- implicit specification
PROCEDURE P1 (Param1 <span class="bold">IN</span> NUMBER);  -- explicit specification</pre></div>
                  </div><a id="ADFNS1274"></a><a id="ADFNS1273"></a><div class="props_rev_3"><a id="GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906" name="GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906"></a><h5 id="ADFNS-GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906" class="sect5">Changing Subprogram Body</h5>
                     <div>
                        <p>Changing the body of a subprogram does not change the RPC signature of the subprogram.</p>
                        <p><a href="schema-object-dependency.html#GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906__BABGFBHJ">Example 26-4</a> changes only the body of the procedure <code class="codeph">get_hire_date</code>; therefore, it does not change the RPC signature of <code class="codeph">get_hire_date</code>.
                        </p>
                        <div class="example" id="GUID-B6229DA4-45B0-49C3-9CBA-5EF2A1415906__BABGFBHJ">
                           <p class="titleinexample">Example 26-4 Changing Body of Procedure get_hire_date</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE get_hire_date (
  emp_number  IN  NUMBER,
  hiredate    OUT VARCHAR2,
  emp_name    OUT VARCHAR2) AUTHID DEFINER AS
BEGIN
  SELECT last_name, TO_CHAR(hire_date, '<span class="bold">DD-MON-YY</span>')
  INTO emp_name, hiredate
  FROM employees
  WHERE employee_id = emp_number;
END;
/

CREATE OR REPLACE PROCEDURE get_hire_date (
  emp_number  IN  NUMBER,
  hiredate    OUT VARCHAR2,
  emp_name    OUT VARCHAR2) AUTHID DEFINER AS
BEGIN
  <span class="bold">-- Change date format model</span>
  SELECT last_name, TO_CHAR(hire_date, '<span class="bold">DD/MON/YYYY</span>')
  INTO emp_name, hiredate
  FROM employees
  WHERE employee_id = emp_number;
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS897"></a><a id="ADFNS1275"></a><a id="ADFNS99976"></a><div class="props_rev_3"><a id="GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB" name="GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB"></a><h5 id="ADFNS-GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB" class="sect5">Changing Data Type Classes of Parameters</h5>
                     <div>
                        <p>Changing the data type of a parameter to another data type in the same class does not change the RPC signature, but changing the data type to a data type in another class does.</p>
                        <p><a href="schema-object-dependency.html#GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB__g4951307" title="This table summarizes the classes of datatypes.">Table 26-3</a> lists the data type classes and the data types that comprise them. Data types not listed in <a href="schema-object-dependency.html#GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB__g4951307" title="This table summarizes the classes of datatypes.">Table 26-3</a>, such as <code class="codeph">NCHAR</code>, do not belong to a data type class. Changing their type always changes the RPC signature.
                        </p>
                        <div class="tblformal" id="GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB__g4951307">
                           <p class="titleintable">Table 26-3 Data Type Classes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Data Type Classes" summary="This table summarizes the classes of datatypes." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d156312e4667">Data Type Class</th>
                                    <th align="left" valign="bottom" width="78%" id="d156312e4670">Data Types in Class</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4675" headers="d156312e4667 ">
                                       <p>Character</p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4675 d156312e4670 "><pre class="oac_no_warn" dir="ltr">CHAR
CHARACTER</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4682" headers="d156312e4667 ">
                                       <p><code class="codeph">VARCHAR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4682 d156312e4670 "><pre class="oac_no_warn" dir="ltr">VARCHAR
VARCHAR2
STRING
LONG
ROWID</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4690" headers="d156312e4667 ">
                                       <p>Raw</p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4690 d156312e4670 "><pre class="oac_no_warn" dir="ltr">RAW
LONG RAW</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4697" headers="d156312e4667 ">
                                       <p>Integer</p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4697 d156312e4670 "><pre class="oac_no_warn" dir="ltr">BINARY_INTEGER
PLS_INTEGER
SIMPLE_INTEGER
BOOLEAN
NATURAL
NATURALN
POSITIVE
POSITIVEN</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4704" headers="d156312e4667 ">
                                       <p>Number</p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4704 d156312e4670 "><pre class="oac_no_warn" dir="ltr">NUMBER
INT
INTEGER
SMALLINT
DEC
DECIMAL
REAL
FLOAT
NUMERIC
DOUBLE PRECISION</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d156312e4711" headers="d156312e4667 ">
                                       <p>Datetime</p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d156312e4711 d156312e4670 "><pre class="oac_no_warn" dir="ltr">DATE
TIMESTAMP
TIMESTAMP WITH TIME ZONE
TIMESTAMP WITH LOCAL TIME ZONE
INTERVAL YEAR TO MONTH
INTERVAL DAY TO SECOND</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="schema-object-dependency.html#GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB__BABGICDI">Example 26-5</a> changes the data type of the parameter <code class="codeph">hiredate</code> from <code class="codeph">VARCHAR2</code> to <code class="codeph">DATE</code>. <code class="codeph">VARCHAR2</code> and <code class="codeph">DATE</code> are not in the same data type class, so the RPC signature of the procedure <code class="codeph">get_hire_date</code> changes.
                        </p>
                        <div class="example" id="GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB__BABGICDI">
                           <p class="titleinexample">Example 26-5 Changing Data Type Class of get_hire_date Parameter</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE get_hire_date (
  emp_number  IN  NUMBER,
  hiredate    OUT <span class="bold">DATE</span>,
  emp_name    OUT VARCHAR2) AS
BEGIN
  SELECT last_name, TO_CHAR(hire_date, 'DD/MON/YYYY')
  INTO emp_name, hiredate
  FROM employees
  WHERE employee_id = emp_number;
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS1276"></a><a id="ADFNS99973"></a><div class="props_rev_3"><a id="GUID-012C4634-98BF-455A-9A68-74736A640263" name="GUID-012C4634-98BF-455A-9A68-74736A640263"></a><h5 id="ADFNS-GUID-012C4634-98BF-455A-9A68-74736A640263" class="sect5">Changing Package Types</h5>
                     <div>
                        <p>Changing the name of a package type, or the names of its internal components, does not change the RPC signature of the package.</p>
                        <p><a href="schema-object-dependency.html#GUID-012C4634-98BF-455A-9A68-74736A640263__BABFCGDJ">Example 26-6</a> defines a record type, <code class="codeph">emp_data_type</code>, inside the package <code class="codeph">emp_package</code>. Next, it changes the names of the record fields, but not their types. Finally, it changes the name of the type, but not its characteristics. The RPC signature of the package does not change.
                        </p>
                        <div class="example" id="GUID-012C4634-98BF-455A-9A68-74736A640263__BABFCGDJ">
                           <p class="titleinexample">Example 26-6 Changing Names of Fields in Package Record Type</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE emp_package AUTHID DEFINER AS
  TYPE emp_data_type IS RECORD (
    <span class="bold">emp_number  NUMBER</span>,
    <span class="bold">hiredate    VARCHAR2(12)</span>,
    <span class="bold">emp_name    VARCHAR2(10)</span>
  );
  PROCEDURE get_emp_data (
    emp_data  IN OUT emp_data_type
  );
END;
/

CREATE OR REPLACE PACKAGE emp_package AUTHID DEFINER AS
  TYPE emp_data_type IS RECORD (
    <span class="bold">emp_num   NUMBER</span>,
    <span class="bold">hire_dat  VARCHAR2(12)</span>,
    <span class="bold">empname   VARCHAR2(10)</span>
  );
  PROCEDURE get_emp_data (
    emp_data  IN OUT emp_data_type
  );
END;
/

CREATE OR REPLACE PACKAGE emp_package AUTHID DEFINER AS
  TYPE <span class="bold">emp_data_record_type</span> IS RECORD (
    emp_num   NUMBER,
    hire_dat  VARCHAR2(12),
    empname   VARCHAR2(10)
  );
  PROCEDURE get_emp_data (
    emp_data  IN OUT <span class="bold">emp_data_record_type</span>
  );
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADFNS1277"></a><a id="ADFNS99972"></a><div class="props_rev_3"><a id="GUID-EC3E3CF1-03EF-40A0-86FF-78D19403DF1F" name="GUID-EC3E3CF1-03EF-40A0-86FF-78D19403DF1F"></a><h4 id="ADFNS-GUID-EC3E3CF1-03EF-40A0-86FF-78D19403DF1F" class="sect4">Controlling Dependency Mode</h4>
                  <div>
                     <div class="section">
                        <p>The dynamic initialization parameter <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> controls the dependency mode. If the initialization parameter file contains this specification, then only time stamps are used to resolve dependencies (if this is not explicitly overridden dynamically):
                        </p><pre class="oac_no_warn" dir="ltr">REMOTE_DEPENDENCIES_MODE = TIMESTAMP
</pre><p>If the initialization parameter file contains this parameter specification, then RPC signatures are used to resolve dependencies (if this not explicitly overridden dynamically):</p><pre class="oac_no_warn" dir="ltr">REMOTE_DEPENDENCIES_MODE = SIGNATURE
</pre><p>You can alter the mode dynamically by using the DDL statements. For example, this example alters the dependency mode for the current session:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET REMOTE_DEPENDENCIES_MODE = {SIGNATURE | TIMESTAMP}
</pre><p>This example alters the dependency mode systemwide after startup:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET REMOTE_DEPENDENCIES_MODE = {SIGNATURE | TIMESTAMP}
</pre><p>If the <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> parameter is not specified, either in the <code class="codeph">init.ora</code> parameter file or using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> or <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statements, <code class="codeph">TIMESTAMP</code> is the default value. Therefore, unless you explicitly use the <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> parameter, or the appropriate DDL statement, your server is operating using the time-stamp dependency mode.
                        </p>
                        <p>When you use <code class="codeph">REMOTE_DEPENDENCIES_MODE</code>=<code class="codeph">SIGNATURE</code>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you change the initial value of a parameter of a remote procedure, then the local procedure calling the remote procedure is not invalidated. If the call to the remote procedure does not supply the parameter, then the initial value is used. In this case, because invalidation and recompilation does not automatically occur, the old initial value is used. To see the new initial values, recompile the calling procedure manually.</p>
                           </li>
                           <li>
                              <p>If you add an overloaded procedure in a package (a procedure with the same name as an existing one), then local procedures that call the remote procedure are not invalidated. If it turns out that this overloading results in a rebinding of existing calls from the local procedure under the time-stamp mode, then this rebinding does not happen under the RPC signature mode, because the local procedure does not get invalidated. You must recompile the local procedure manually to achieve the rebinding.</p>
                           </li>
                           <li>
                              <p>If the types of parameters of an existing package procedure are changed so that the new types have the same shape as the old ones, then the local calling procedure is not invalidated or recompiled automatically. You must recompile the calling procedure manually to get the semantics of the new type.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3E3CF1-03EF-40A0-86FF-78D19403DF1F__GUID-138E02E7-E95C-4D9D-B23C-8EFB0C54F76C">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-352768D5-D2F0-472D-92D8-10B1000857DC">Dependency Resolution</a></p>
                           </li>
                           <li>
                              <p><a href="schema-object-dependency.html#GUID-974AB35A-99A1-4011-9FBC-CB573297FB27">Suggestions for Managing Dependencies</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS99971"></a><div class="props_rev_3"><a id="GUID-352768D5-D2F0-472D-92D8-10B1000857DC" name="GUID-352768D5-D2F0-472D-92D8-10B1000857DC"></a><h5 id="ADFNS-GUID-352768D5-D2F0-472D-92D8-10B1000857DC" class="sect5">Dependency Resolution</h5>
                     <div>
                        <p>When <code class="codeph">REMOTE_DEPENDENCIES_MODE = TIMESTAMP</code> (the default value), dependencies among program units are handled by comparing time stamps at runtime. If the time stamp of a called remote procedure does not match the time stamp of the called procedure, then the calling (dependent) unit is invalidated and must be recompiled. In this case, if there is no local PL/SQL compiler, then the calling application cannot proceed.
                        </p>
                        <p>In the time-stamp dependency mode, RPC signatures are not compared. If there is a local PL/SQL compiler, then recompilation happens automatically when the calling procedure is run.</p>
                        <p>When <code class="codeph">REMOTE_DEPENDENCIES_MODE = SIGNATURE</code>, the recorded time stamp in the calling unit is first compared to the current time stamp in the called remote unit. If they match, then the call proceeds. If the time stamps do not match, then the RPC signature of the called remote subprogram, as recorded in the calling subprogram, is compared with the current RPC signature of the called subprogram. If they do not match (using the criteria described in <a href="schema-object-dependency.html#GUID-F1AEAA97-05B5-4B08-9233-D061E80000EB">Changing Data Type Classes of Parameters</a>), then an error is returned to the calling session.
                        </p>
                     </div>
                  </div><a id="ADFNS99970"></a><div class="props_rev_3"><a id="GUID-974AB35A-99A1-4011-9FBC-CB573297FB27" name="GUID-974AB35A-99A1-4011-9FBC-CB573297FB27"></a><h5 id="ADFNS-GUID-974AB35A-99A1-4011-9FBC-CB573297FB27" class="sect5">Suggestions for Managing Dependencies</h5>
                     <div>
                        <p>Follow these guidelines for setting the <code class="codeph">REMOTE_DEPENDENCIES_MODE</code> parameter:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Server-side PL/SQL users can set the parameter to <code class="codeph">TIMESTAMP</code> (or let it default to that) to get the time-stamp dependency mode.
                              </p>
                           </li>
                           <li>
                              <p>Server-side PL/SQL users can use RPC-signature dependency mode if they have a distributed system and they want to avoid possible unnecessary recompilations.</p>
                           </li>
                           <li>
                              <p>Client-side PL/SQL users must set the parameter to <code class="codeph">SIGNATURE</code>. This allows:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Installation of applications at client sites without recompiling procedures.</p>
                                 </li>
                                 <li>
                                    <p>Ability to upgrade the server, without encountering time stamp mismatches.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>When using RPC signature mode on the server side, add procedures to the end of the procedure (or function) declarations in a package specification. Adding a procedure in the middle of the list of declarations can cause unnecessary invalidation and recompilation of dependent procedures.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS99969"></a><div class="props_rev_3"><a id="GUID-FEDD8B95-890A-43B2-BB6D-C2D2C17E8278" name="GUID-FEDD8B95-890A-43B2-BB6D-C2D2C17E8278"></a><h3 id="ADFNS-GUID-FEDD8B95-890A-43B2-BB6D-C2D2C17E8278" class="sect3">Shared SQL Dependency Management</h3>
               <div>
                  <p>In addition to managing dependencies among schema objects, Oracle Database also manages dependencies of each shared SQL area in the shared pool. If a table, view, synonym, or sequence is created, altered, or dropped, or a procedure or package specification is recompiled, all dependent shared SQL areas are invalidated. At a subsequent execution of the cursor that corresponds to an invalidated shared SQL area, Oracle Database reparses the SQL statement to regenerate the shared SQL area.</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>