<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SQL Processing for Application Developers</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="sql-for-application-developers.html" title="Previous" type="text/html">
      <link rel="next" href="sql-data-types.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-for-application-developers.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="sql-data-types.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-for-application-developers.html" property="item" typeof="WebPage"><span property="name">SQL for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL Processing for Application Developers</li>
            </ol>
            <a id="GUID-912124B7-0F39-47BD-863C-320ED61014E9" name="GUID-912124B7-0F39-47BD-863C-320ED61014E9"></a><a id="ADFNS959"></a><a id="ADFNS007"></a>
            
            <h2 id="ADFNS-GUID-912124B7-0F39-47BD-863C-320ED61014E9" class="sect2"><span class="enumeration_chapter">8 </span>SQL Processing for Application Developers
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains what application developers must know about how Oracle Database processes SQL statements.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-912124B7-0F39-47BD-863C-320ED61014E9__GUID-A0EB436B-091D-4B6F-B20C-06854F6059E5">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-76B6885C-488A-4CF8-98CE-B6C5EEEA2AE6">Description of SQL Statement Processing</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8">Grouping Operations into Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-78285196-33AF-45E9-BDB6-8AE38648C838">Ensuring Repeatable Reads with Read-Only Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-23991569-1E18-47E5-8549-42925C82A25A">Locking Tables Explicitly</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-57365E45-5F85-471B-81D9-F52EA16F1E85">Using Oracle Lock Management Services (User Locks)</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA">Using Serializable Transactions for Concurrency Control</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2">Nonblocking and Blocking DDL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26">Autonomous Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="sql-processing-for-application-developers.html#GUID-A6585190-E64C-4799-B554-26A2B8433E26">Resuming Execution After Storage Allocation Errors</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-912124B7-0F39-47BD-863C-320ED61014E9__GUID-13DE77AC-D5CC-4FA2-BAA2-22C402ABCAAE">
                  <p class="notep1">See Also:</p>
                  <p><a href="../cncpt/sql.html#CNCPT015" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
               </div>
            </div><a id="ADFNS1343"></a><a id="ADFNS99995"></a><div class="props_rev_3"><a id="GUID-76B6885C-488A-4CF8-98CE-B6C5EEEA2AE6" name="GUID-76B6885C-488A-4CF8-98CE-B6C5EEEA2AE6"></a><h3 id="ADFNS-GUID-76B6885C-488A-4CF8-98CE-B6C5EEEA2AE6" class="sect3">Description of SQL Statement Processing</h3>
               <div>
                  <p>This topic explains what happens during each stage of processing the execution of a SQL statement, using a data manipulation language (DML) statement as an example.</p>
                  <p>Assume that you are using a Pro*C program to increase the salary for all employees in a department. The program has connected to Oracle Database and you are connected to the HR schema, which owns the <code class="codeph">employees</code> table. You can embed this SQL statement in your program:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE employees SET salary = 1.10 * salary
  WHERE department_id = :department_id;
</pre><p>The program provides a value for the bind variable placeholder <code class="codeph">:department_id</code>, which the SQL statement uses when it runs.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-76B6885C-488A-4CF8-98CE-B6C5EEEA2AE6__GUID-6E034F55-FDC9-46A6-BAF2-944BFC66DDCB">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086">Stages of SQL Statement Processing</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA">Shared SQL Areas</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS134"></a><div class="props_rev_3"><a id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086" name="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086"></a><h4 id="ADFNS-GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086" class="sect4">Stages of SQL Statement Processing</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__GUID-95CC19E7-A050-44C8-8640-E0864B5E6C6F">
                        <p class="notep1">Note:</p>
                        <p>DML statements use all stages. Transaction management, session management, and system management SQL statements use only <code class="codeph">stage&nbsp;2</code> and <code class="codeph">stage&nbsp;8</code>.
                        </p>
                     </div>
                     <ol>
                        <li>
                           <p><span class="bold">Open or create a cursor.</span></p>
                           <p>A program interface call opens or creates a cursor, in expectation of a SQL statement. Most applications create the cursor implicitly (automatically). Precompiler programs can create the cursor either implicitly or explicitly.</p>
                        </li>
                        <li id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__BEJFIGBJ">
                           <p><span class="bold">Parse the statement.</span></p>
                           <p>The user process passes the SQL statement to Oracle Database, which loads a parsed representation of the statement into the shared SQL area. Oracle Database can catch many errors during parsing.</p>
                           <div class="infoboxnote" id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__GUID-88B2D436-B19B-4BE2-BCF5-0BF63B99DD56">
                              <p class="notep1">Note:</p>
                              <p>For a data definition language (DDL) statement, parsing includes data dictionary lookup and execution.</p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Determine if the statement is a query.</span></p>
                        </li>
                        <li>
                           <p><span class="bold">If the statement is a query, describe its results.</span></p>
                           <div class="infoboxnote" id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__GUID-29C7EA1F-A9E5-48E0-A7E1-B49C52408910">
                              <p class="notep1">Note:</p>
                              <p>This stage is necessary only if the characteristics of the result are unknown; for example, when a user enters the query interactively.</p>
                           </div>
                           <p>Oracle Database determines the characteristics (data types, lengths, and names) of the result.</p>
                        </li>
                        <li>
                           <p><span class="bold">If the statement is a query, define its output.</span></p>
                           <p>You specify the location, size, and data type of variables defined to receive each fetched value. These variables are called <strong class="term">define variables</strong>. Oracle Database performs data type conversion if necessary.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Bind any variables.</span></p>
                           <p>Oracle Database has determined the meaning of the SQL statement but does not have enough information to run it. Oracle Database needs values for any bind variable placeholders in the statement. In the example, Oracle Database needs a value for <code class="codeph">:department_id</code>. The process of obtaining these values is called <span class="bold">binding variables</span>.
                           </p>
                           <p>A program must specify the location (memory address) of the value. End users of applications may be unaware that they are specifying values for bind variable placeholders, because the Oracle Database utility can prompt them for the values.</p>
                           <p>Because the program specifies the location of the value (that is, binds by reference), it need not rebind the variable before rerunning the statement, even if the value changes. Each time Oracle Database runs the statement, it gets the value of the variable from its address.</p>
                           <p>You must also specify a data type and length for each value (unless they are implied or defaulted) if Oracle Database must perform data type conversion.</p>
                        </li>
                        <li>
                           <p><span class="bold">(Optional) Parallelize the statement.</span></p>
                           <p>Oracle Database can parallelize queries and some data definition language (DDL) operations (for example, index creation, creating a table with a subquery, and operations on partitions). Parallelization causes multiple server processes to perform the work of the SQL statement so that it can complete faster.</p>
                        </li>
                        <li id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__BEJCJIBH">
                           <p><span class="bold">Run the statement.</span></p>
                           <p>Oracle Database runs the statement. If the statement is a query or an <code class="codeph">INSERT</code> statement, the database locks no rows, because no data is changing. If the statement is an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> statement, the database locks all rows that the statement affects, until the next <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, or <code class="codeph">SAVEPOINT</code> for the transaction, thereby ensuring data integrity.
                           </p>
                           <p>For some statements, you can specify multiple executions to be performed. This is called <span class="bold">array processing</span>. Given<span class="italic"> n</span> number of executions, the bind and define locations are assumed to be the beginning of an array of size <span class="italic">n</span>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">If the statement is a query, fetch its rows.</span></p>
                           <p>Oracle Database selects rows and, if the query has an <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause, orders the rows. Each successive fetch retrieves another row of the result set, until the last row has been fetched.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Close the cursor.</span></p>
                           <p>Oracle Database closes the cursor.</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__GUID-61452D85-F1F1-479F-B014-231FA61E170D">
                        <p class="notep1">Note:</p>
                        <p>To rerun a transaction management, session management, or system management SQL statement, use another <code class="codeph">EXECUTE</code> statement.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-87581760-8AEF-4F72-B5F6-7584BD9AA086__GUID-9AF97C9D-4BA2-4C3D-A5D0-DCFBF7565E87">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1740" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about parsing
                              </p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA">Shared SQL Areas</a></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/sql.html#CNCPT1741" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about the <code class="codeph">DEFINE</code> stage
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnoci/introduction.html#LNOCI-GUID-27645179-6957-4004-8BB8-38775266B038" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpcc/Oracle-dynamic-SQL-method-4.html#LNPCC015" target="_blank"><span class="italic">Pro*C/C++ Programmer's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS99965"></a><div class="props_rev_3"><a id="GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA" name="GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA"></a><h4 id="ADFNS-GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA" class="sect4">Shared SQL Areas</h4>
                  <div>
                     <p>Oracle Database automatically detects when applications send similar SQL statements to the database. The SQL area used to process the first occurrence of the statement is <span class="italic">shared</span>—that is, used for processing subsequent occurrences of that same statement. Therefore, only one shared SQL area exists for a unique statement. Because shared SQL areas are shared memory areas, any Oracle Database process can use a shared SQL area. The sharing of SQL areas reduces memory use on the database server, thereby increasing system throughput.
                     </p>
                     <p>In determining whether statements are similar or identical, Oracle Database compares both SQL statements issued directly by users and applications and recursive SQL statements issued internally by DDL statements.</p>
                     <div class="infoboxnotealso" id="GUID-CAAFBF05-4718-4096-A2BC-A98541F5DEBA__GUID-F762DB74-FDDB-4EF1-A4E3-6AB2A4422F0B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/memory-architecture.html#CNCPT1226" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about shared SQL areas
                              </p>
                           </li>
                           <li>
                              <p><a href="../tgsql/introduction-to-sql-tuning.html#TGSQL-GUID-B653E5F3-F078-4BBC-9516-B892960046A2" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for more information about shared SQL
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS960"></a><a id="ADFNS00201"></a><div class="props_rev_3"><a id="GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8" name="GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8"></a><h3 id="ADFNS-GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8" class="sect3">Grouping Operations into Transactions</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8__GUID-0A848C51-149A-4601-A2A5-9B6F42361F0B">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-4DD5AD3D-E5E2-4EBB-997D-46CD68ED71A3">Deciding How to Group Operations in Transactions</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-8C63D793-6F54-40E2-8A0E-52C11689AEF1">Improving Transaction Performance</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-035F187D-844C-4014-84C1-F44F02DDF42C">Managing Commit Redo Action</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5">Determining Transaction Outcome After a Recoverable Outage</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-5C8249A4-D870-4FBA-A3F7-DCEC42DF86F8__GUID-13B9D0EA-3A97-4EEF-B3A0-DB0D2EB9FF01">
                        <p class="notep1">See Also:</p>
                        <p> <a href="../cncpt/introduction-to-oracle-database.html#CNCPT016" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for basic information about transactions
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99953"></a><div class="props_rev_3"><a id="GUID-4DD5AD3D-E5E2-4EBB-997D-46CD68ED71A3" name="GUID-4DD5AD3D-E5E2-4EBB-997D-46CD68ED71A3"></a><h4 id="ADFNS-GUID-4DD5AD3D-E5E2-4EBB-997D-46CD68ED71A3" class="sect4">Deciding How to Group Operations in Transactions</h4>
                  <div>
                     <div class="section">
                        <p>Typically, deciding how to group operations in transactions is the concern of application developers who use programming interfaces to Oracle Database. When deciding how to group transactions:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Define transactions such that work is accomplished in logical units and data remains consistent.</p>
                           </li>
                           <li>
                              <p>Ensure that data in all referenced tables is in a consistent state before the transaction begins and after it ends.</p>
                           </li>
                           <li>
                              <p>Ensure that each transaction consists only of the SQL statements or PL/SQL blocks that comprise one consistent change to the data.</p>
                           </li>
                        </ul>
                        <p>For example, suppose that you write a web application that lets users transfer funds between accounts. The transaction must include the debit to one account, executed by one SQL statement, and the credit to another account, executed by another SQL statement. Both statements must fail or succeed as a unit of work; one statement must not be committed without the other. Do not include unrelated actions, such as a deposit to one account, in the transaction.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS99952"></a><div class="props_rev_3"><a id="GUID-8C63D793-6F54-40E2-8A0E-52C11689AEF1" name="GUID-8C63D793-6F54-40E2-8A0E-52C11689AEF1"></a><h4 id="ADFNS-GUID-8C63D793-6F54-40E2-8A0E-52C11689AEF1" class="sect4">Improving Transaction Performance</h4>
                  <div>
                     <div class="section">
                        <p>As an application developer, you must try to improve performance. Consider using these performance enhancement techniques when designing and writing your application:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For each transaction:</p>
                              <ol>
                                 <li>
                                    <p>If you can use a single SQL statement, then do so.</p>
                                 </li>
                                 <li>
                                    <p>If you cannot use a single SQL statement but you can use PL/SQL, then use as little PL/SQL as possible.</p>
                                 </li>
                                 <li>
                                    <p>If you cannot use PL/SQL (because it cannot do what you must do; for example, read a directory), then use Java.</p>
                                 </li>
                                 <li>
                                    <p>If you cannot use Java (for example, if it is too slow) or you have existing third-generation language (3GL) code, then use an external C subprogram.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Establish standards for writing SQL statements so that you can take advantage of shared SQL areas.</p>
                              <p>Oracle Database recognizes identical SQL statements and lets them share memory areas, reducing memory usage on the database server and increasing system throughput.</p>
                           </li>
                           <li>
                              <p>Collect statistics that Oracle Database can use to implement a cost-based approach to SQL statement optimization, and use additional hints to the optimizer as needed.</p>
                              <p>To collect most statistics, use the <code class="codeph">DBMS_STATS</code> package, which lets you collect statistics in parallel, collect global statistics for partitioned objects, and tune your statistics collection in other ways. 
                              </p>
                              <p>To collect statistics unrelated to the cost-based optimizer (such as information about free list blocks), use the SQL statement <code class="codeph">ANALYZE</code>.
                              </p>
                           </li>
                           <li>
                              <p>Before beginning a transaction, invoke <code class="codeph">DBMS_APPLICATION_INFO</code> procedures to record the name of the transaction in the database for later use when tracking its performance with Oracle Trace and the SQL trace facility. 
                              </p>
                           </li>
                           <li>
                              <p>Increase user productivity and query efficiency by including user-written PL/SQL functions in SQL expressions. For details, see.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-8C63D793-6F54-40E2-8A0E-52C11689AEF1__GUID-0B5EA645-6FE5-4536-B830-1B2BE0EBEFAD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/introduction-to-oracle-database.html#CNCPT016" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about transaction management
                                 </p>
                              </li>
                              <li>
                                 <p><a href="plsql-for-application-developers.html#GUID-1B947FC8-DFE9-4490-8655-1F0CA6EAD6B5">PL/SQL for Application Developers</a></p>
                              </li>
                              <li>
                                 <p><a href="external-procedures.html#GUID-230B2B41-2A6F-4756-AEC0-DBC99DCA8A37">Developing Applications with Multiple Programming Languages</a></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about hints and <code class="codeph">ANALYZE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS-GUID-4AA6AA30-CAEE-4DCD-B214-9AD51D0229B4" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_STATS</code> package and <code class="codeph">DBMS_APPLICATION_INFO</code> package
                                 </p>
                              </li>
                              <li>
                                 <p> <a href="coding-subprograms-and-packages.html#GUID-C35B709B-EE78-4DB4-9B63-54EB8B4D639F" title="You can use the PRAGMA RESTRICT_REFERENCES clause when you create a PL/SQL package.">Invoking Stored PL/SQL Functions from SQL Statements</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS135"></a><a id="ADFNS99951"></a><div class="props_rev_3"><a id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C" name="GUID-035F187D-844C-4014-84C1-F44F02DDF42C"></a><h4 id="ADFNS-GUID-035F187D-844C-4014-84C1-F44F02DDF42C" class="sect4">Managing Commit Redo Action</h4>
                  <div>
                     <div class="section">
                        <p>When a transaction updates Oracle Database, it generates a corresponding redo entry. Oracle Database buffers the redo entry to the redo log until the transaction completes. When the transaction commits, the log writer process (LGWR) writes redo records to disk for the buffered redo entries of all changes in the transaction. By default, Oracle Database writes the redo entries to disk before the call returns to the client. This action causes a latency in the commit, because the application must wait for the redo entries to be persistent on disk.</p>
                        <p>Oracle Database lets you change the handling of commit redo to fit the needs of your application. If your application requires very high transaction throughput and you are willing to trade commit durability for lower commit latency, then you can change the default <code class="codeph">COMMIT</code> options so that the application need not wait for the database to write data to the online redo logs.
                        </p>
                        <p><a href="sql-processing-for-application-developers.html#GUID-035F187D-844C-4014-84C1-F44F02DDF42C__CIHGDFJC" title="This table lists and describes the options that you can use for both the COMMIT statement and the COMMIT_WRITE initialization parameter.">Table 8-1</a> describes the <code class="codeph">COMMIT</code> options.
                        </p>
                        <div class="infoboxnote" id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C__GUID-FA4F3AD7-C468-4037-AA70-B7B112280DC9">
                           <p class="notep1">Caution:</p>
                           <p>With the <code class="codeph">NOWAIT</code> option, a failure that occurs after the commit message is received, but before the redo log records are written, can falsely indicate to a transaction that its changes are persistent.
                           </p>
                        </div>
                        <div class="tblformal" id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C__CIHGDFJC">
                           <p class="titleintable">Table 8-1 COMMIT Statement Options</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COMMIT Statement Options" summary="This table lists and describes the options that you can use for both the COMMIT statement and the COMMIT_WRITE initialization parameter." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d22101e1321">Option</th>
                                    <th align="left" valign="bottom" width="86%" id="d22101e1324">Effect</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d22101e1329" headers="d22101e1321 ">
                                       <p><code class="codeph">WAIT</code> (default)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d22101e1329 d22101e1324 ">
                                       <p>Ensures that the <code class="codeph">COMMIT</code> statement returns only after the corresponding redo information is persistent in the online redo log. When the client receives a successful return from this <code class="codeph">COMMIT</code> statement, the transaction has been committed to durable media.
                                       </p>
                                       <p>A failure that occurs after a successful write to the log might prevent the success message from returning to the client, in which case the client cannot tell whether the transaction committed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d22101e1347" headers="d22101e1321 ">
                                       <p><code class="codeph">NOWAIT</code> (alternative to <code class="codeph">WAIT</code>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d22101e1347 d22101e1324 ">
                                       <p>The <code class="codeph">COMMIT</code> statement returns to the client regardless of whether the write to the redo log has completed. This behavior can increase transaction throughput.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d22101e1365" headers="d22101e1321 ">
                                       <p><code class="codeph">BATCH</code> (alternative to <code class="codeph">IMMEDIATE</code>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d22101e1365 d22101e1324 ">
                                       <p>Buffers the redo information to the redo log with concurrently running transactions. After collecting sufficient redo information, initiates a disk write to the redo log. This behavior is called <span class="bold">group commit</span>, because it writes redo information for multiple transactions to the log in a single I/O operation.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d22101e1383" headers="d22101e1321 ">
                                       <p><code class="codeph">IMMEDIATE</code> (default)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="86%" headers="d22101e1383 d22101e1324 ">
                                       <p>LGWR writes the transaction redo information to the log. Because this operation option forces a disk I/O, it can reduce transaction throughput.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To change the <code class="codeph">COMMIT</code> options, use either the <code class="codeph">COMMIT</code> statement or the appropriate initialization parameter.
                        </p>
                        <div class="infoboxnote" id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C__GUID-17859322-263B-4D99-8733-298C8350E1F8">
                           <p class="notep1">Note:</p>
                           <p>You cannot change the default <code class="codeph">IMMEDIATE</code> and <code class="codeph">WAIT</code> action for distributed transactions.
                           </p>
                        </div>
                        <p>If your application uses Oracle Call Interface (OCI), then you can modify redo action by setting these flags in the <code class="codeph">OCITransCommit</code> function in your application:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCI_TRANS_WRITEWAIT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_TRANS_WRITENOWAIT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_TRANS_WRITEBATCH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_TRANS_WRITEIMMED</code></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C__GUID-F56F0714-BEE8-42B3-9E78-D8E1F69121E9">
                           <p class="notep1">Caution:</p>
                           <p><code class="codeph">OCI_TRANS_WRITENOWAIT</code> can cause silent transaction loss with shutdown termination, startup force, and any instance or node failure. On an Oracle RAC system, asynchronously committed changes might not be immediately available to read on other instances.
                           </p>
                        </div>
                        <p>The specification of the <code class="codeph">NOWAIT</code> and <code class="codeph">BATCH</code> options has a small window of vulnerability in which Oracle Database can roll back a transaction that your application views as committed. Your application must be able to tolerate these scenarios:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The database host fails, which causes the database to lose redo entries that were buffered but not yet written to the online redo logs.</p>
                           </li>
                           <li>
                              <p>A file I/O problem prevents LGWR from writing buffered redo entries to disk. If the redo logs are not multiplexed, then the commit is lost.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-035F187D-844C-4014-84C1-F44F02DDF42C__GUID-EF7C1C5C-1FBF-4D64-8CDB-6E5F0DC02098">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnoci/transaction-functions.html#LNOCI13112" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for information about the <code class="codeph">OCITransCommit</code> function
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/COMMIT.html#SQLRF01110" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about initialization parameters
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS962"></a><a id="ADFNS961"></a><div class="props_rev_3"><a id="GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5" name="GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5"></a><h4 id="ADFNS-GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5" class="sect4">Determining Transaction Outcome After a Recoverable Outage</h4>
                  <div>
                     <div class="section">
                        <p>A <span class="bold">recoverable outage</span> is a system, hardware, communication, or storage failure that breaks the connection between your application (the client) and Oracle Database (the server). After an outage, your application receives a disconnection error message. The transaction that was running when the connection broke is the <span class="bold">in-flight transaction</span>, which may or may not have been committed or run to completion.
                        </p>
                        <p>To recover from the outage, your application must determine the outcome of the in-flight transaction—whether it was committed and whether it made its intended session state changes. If the transaction was not committed, then the application can either resubmit the transaction or return the uncommitted status to the end user. If the transaction was committed, then the application can return the committed status, rather than the disconnection error, to the end user. If the transaction was both committed and completed, then the application may be able to continue by taking a new session and re-establishing the session state.</p>
                        <p>The Oracle Database feature that provides your application with the outcome of the in-flight transaction and can be used to ensure that it is not duplicated is Transaction Guard, and its application program interface (API) is the PL/SQL procedure <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0D79C66F-A106-412F-9EE6-7D43CBFE2AB5__GUID-2E0C1683-2A51-4173-83F9-5EA3FC6BC91C">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-09E66BB5-DF82-4183-876A-DA10187EE637">Understanding Transaction Guard</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-76315E18-AEB8-4978-AC9E-A4535A883616">Understanding DBMS_APP_CONT.GET_LTXID_OUTCOME</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6">Using Transaction Guard</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS963"></a><div class="props_rev_3"><a id="GUID-09E66BB5-DF82-4183-876A-DA10187EE637" name="GUID-09E66BB5-DF82-4183-876A-DA10187EE637"></a><h5 id="ADFNS-GUID-09E66BB5-DF82-4183-876A-DA10187EE637" class="sect5">Understanding Transaction Guard</h5>
                     <div>
                        <p><span class="bold">Transaction Guard</span> is an Oracle Database tool that you can use to provide your application with the outcome of the in-flight transaction after an outage. The application can use Transaction Guard to provide the end user with a known outcome after an outage—committed or not committed—and, optionally, to replay the transaction if it did not commit and the states are correct.
                        </p>
                        <p>Transaction Guard provides the transaction outcome through its API, the PL/SQL procedure <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>.
                        </p>
                        <p>Transaction Guard relies on the <span class="bold">logical transaction identifier (LTXID)</span>, a globally unique identifier that identifies the last in-flight transaction on a session that failed. The database records the LTXID when the transaction is committed, and returns a new LTXID to the client with the commit message (for each client round trip). The client driver always holds the LTXID that will be used at the next <code class="codeph">COMMIT</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-09E66BB5-DF82-4183-876A-DA10187EE637__GUID-089975E1-795B-4AC5-934C-3C82B941DB6B">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use Transaction Guard only to find the outcome of a session that failed due to a recoverable error, to replace the communication error with the real outcome.</p>
                              </li>
                              <li>
                                 <p>Do not use Transaction Guard on your own session.</p>
                              </li>
                              <li>
                                 <p>Do not use Transaction Guard on a live session.</p>
                                 <p>To stop a live session, use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">KILL</code> <code class="codeph">SESSION</code> <code class="codeph">IMMEDIATE</code> at the local or remote instance.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-09E66BB5-DF82-4183-876A-DA10187EE637__GUID-8E39FAA8-59ED-453F-BADE-90EE7E418EFC">
                           <p class="notep1">See Also:</p><a href="sql-processing-for-application-developers.html#GUID-76315E18-AEB8-4978-AC9E-A4535A883616">Understanding DBMS_APP_CONT.GET_LTXID_OUTCOME</a></div>
                     </div><a id="ADFNS965"></a><div class="props_rev_3"><a id="GUID-2C8B1E1B-6388-4059-8D49-2A8D21CAFA64" name="GUID-2C8B1E1B-6388-4059-8D49-2A8D21CAFA64"></a><h6 id="ADFNS-GUID-2C8B1E1B-6388-4059-8D49-2A8D21CAFA64" class="sect6">How Transaction Guard Uses the LTXID</h6>
                        <div>
                           <p>Transaction Guard uses the LTXID as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>While a transaction is running, both Oracle Database (the server) and your application (the client) hold the LTXID to be used at the next <code class="codeph">COMMIT</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>When the transaction is committed, Oracle Database records the LTXID with the transaction. If the LTXID has already been committed or has been blocked, then the database raises error, preventing duplication of the transaction.</p>
                              </li>
                              <li>
                                 <p>The LTXID persists in Oracle Database for the time specified by the <code class="codeph">RETENTION_TIMEOUT</code> parameter. The default is 24 hours. To change this value:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>When running Real Application Clusters, use Server Control Utility (SRVCTL).</p>
                                    </li>
                                    <li>
                                       <p>When not using Real Application Clusters, use the <code class="codeph">DBMS_SERVICE</code> package.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>If the transaction is remote or distributed, then its LTXID persists in the local database.</p>
                                 <p>The LTXID is transferred to Data Guard and Active Data Guard in the standard redo apply.</p>
                              </li>
                              <li>
                                 <p>After a recoverable error:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If the transaction has not been committed, then Oracle Database blocks its LTXID to ensure that an earlier in-flight transaction with the same LTXID cannot be committed.</p>
                                       <p>This behavior allows the application to return the uncommitted result to the user, who can then decide what to do, and also allows the application to safely replay the application if desirable.</p>
                                    </li>
                                    <li>
                                       <p>If the transaction has been committed, then the application can return this result to the end user, and if the state is correct, the application may be able to continue.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>If the transaction is rolled back, then Oracle Database reuses its LTXID.</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-2C8B1E1B-6388-4059-8D49-2A8D21CAFA64__GUID-B0D40280-B8DC-47D4-A1BF-C8C91F6658E1">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="transaction-guard.html#GUID-2EA7BC0E-FA8B-43D6-89D5-45AFA040CCC4">Transaction Guard Coverage</a>, for a list of the sources whose commits Transaction Guard supports
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-guard.html#GUID-25E7E67C-49F6-4C1C-8227-075C2450ED85">Transaction Guard Exclusions</a>, for a list of the sources whose commits Transaction Guard does not support
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RACAD005" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about SRVCTL
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_SERVICE.html#ARPLS092" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_SERVICE</code> package
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADFNS969"></a><a id="ADFNS968"></a><div class="props_rev_3"><a id="GUID-76315E18-AEB8-4978-AC9E-A4535A883616" name="GUID-76315E18-AEB8-4978-AC9E-A4535A883616"></a><h5 id="ADFNS-GUID-76315E18-AEB8-4978-AC9E-A4535A883616" class="sect5">Understanding DBMS_APP_CONT.GET_LTXID_OUTCOME</h5>
                     <div>
                        <p>The PL/SQL procedure <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> is the API of Transaction Guard. After an outage, your application can reconnect to Oracle Database and then invoke this procedure to determine the outcome of the in-flight transaction.
                        </p>
                        <p><code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> has these parameters:
                        </p>
                        <div class="tblformal" id="GUID-76315E18-AEB8-4978-AC9E-A4535A883616__GUID-C1B34416-3EE0-43AC-9050-E14D289345D4">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Gives the name, data type, mode, and value of each parameter of the DBMS_APP_CONT.GET_LTXID_OUTCOME procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d22101e2070">Parameter Name</th>
                                    <th align="left" valign="bottom" width="11%" id="d22101e2073">Data Type</th>
                                    <th align="left" valign="bottom" width="11%" id="d22101e2076">Parameter Mode</th>
                                    <th align="left" valign="bottom" width="56%" id="d22101e2079">Value</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d22101e2084" headers="d22101e2070 ">
                                       <p><code class="codeph">CLIENT_LTXID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2084 d22101e2073 ">
                                       <p><code class="codeph">RAW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2084 d22101e2076 ">
                                       <p><code class="codeph">IN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d22101e2084 d22101e2079 ">
                                       <p>LTXID of the in-flight transaction</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d22101e2100" headers="d22101e2070 ">
                                       <p><code class="codeph">COMMITTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2100 d22101e2073 ">
                                       <p><code class="codeph">BOOLEAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2100 d22101e2076 ">
                                       <p><code class="codeph">OUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d22101e2100 d22101e2079 ">
                                       <p><code class="codeph">TRUE</code> if the in-flight transaction was committed, <code class="codeph">FALSE</code> otherwise
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d22101e2121" headers="d22101e2070 ">
                                       <p><code class="codeph">USER_CALL_COMPLETED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2121 d22101e2073 ">
                                       <p><code class="codeph">BOOLEAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d22101e2121 d22101e2076 ">
                                       <p><code class="codeph">OUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d22101e2121 d22101e2079 ">
                                       <p><code class="codeph">TRUE</code> if the in-flight transaction completed, <code class="codeph">FALSE</code> otherwise
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-76315E18-AEB8-4978-AC9E-A4535A883616__GUID-8A6EA4E3-6D43-4DE5-BE08-A9FAA0C5D5CC">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-6497F766-86A4-4B76-95D5-582060E5475D">CLIENT_LTXID Parameter</a></p>
                              </li>
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-8A9FC096-4DF2-4725-B52C-51B66FD666C7">COMMITTED Parameter</a></p>
                              </li>
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-21B51362-CABE-4E31-AB8B-25D428C632B0">USER_CALL_COMPLETED Parameter</a></p>
                              </li>
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-6D3590B6-C02F-456B-8076-7DB81E792A62">Exceptions</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-76315E18-AEB8-4978-AC9E-A4535A883616__GUID-8283E7B2-7A9C-4E41-848D-F79021954341">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_APP_CONT.html#ARPLS73456" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS970"></a><div class="props_rev_3"><a id="GUID-6497F766-86A4-4B76-95D5-582060E5475D" name="GUID-6497F766-86A4-4B76-95D5-582060E5475D"></a><h6 id="ADFNS-GUID-6497F766-86A4-4B76-95D5-582060E5475D" class="sect6">CLIENT_LTXID Parameter</h6>
                        <div>
                           <p>Before your application (the client) can invoke <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> with the LTXID of the in-flight transaction, it must get the last LTXID in use at the client driver by using a client driver. The client driver holds the LTXID of the transaction next to be committed. In this case, the LTXID is for the in-flight transaction at the time of the outage. Use <code class="codeph">getLTXID</code> for JDBC-Thin driver, <code class="codeph">LogicalTransactionId</code> for ODP.NET, and <code class="codeph">OCI_ATTR_GET</code> with LTXID for OCI and OCCI.
                           </p>
                           <p>The JDBC-Thin driver also provides a callback that is triggered each time the LTXID at the client driver changes. The callback can be used to maintain the current LTXID to be used. The callback is particularly useful for application servers and applications that must block repeated executions.</p>
                           <div class="infoboxnote" id="GUID-6497F766-86A4-4B76-95D5-582060E5475D__GUID-88CC7CE8-A19A-4547-AEEC-169EFAA08A7C">
                              <p class="notep1">Note:</p>
                              <p>Your application must get the LTXID immediately before passing it to <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>. Getting the LTXID in advance could lead to passing an earlier LTXID to <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>, causing the request to be rejected.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-6497F766-86A4-4B76-95D5-582060E5475D__GUID-6F94EFFE-0E65-4FA2-94FB-789B1310A339">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../jjdbc/introducing-JDBC.html#JJDBC28026" target="_blank"><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../lnoci/index.html" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ODPNT-GUID-635BAE6C-7D0B-4CF2-ADD8-8DB531B9C52E" target="_blank"><span><cite>Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="ADFNS971"></a><div class="props_rev_3"><a id="GUID-8A9FC096-4DF2-4725-B52C-51B66FD666C7" name="GUID-8A9FC096-4DF2-4725-B52C-51B66FD666C7"></a><h6 id="ADFNS-GUID-8A9FC096-4DF2-4725-B52C-51B66FD666C7" class="sect6">COMMITTED Parameter</h6>
                        <div>
                           <p>After <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> returns control to your application, your application can check the value of the actual parameter that corresponds to the formal parameter <code class="codeph">COMMITTED</code> to determine whether the in-flight transaction was committed.
                           </p>
                           <p>If the value of the actual parameter is <code class="codeph">TRUE</code>, then the transaction was committed.
                           </p>
                           <p>If the value of the actual parameter is <code class="codeph">FALSE</code>, then the transaction was not committed. Therefore, it is safe for the application to return the code <code class="codeph">UNCOMMITTED</code> to the end user or use it to replay the transaction.
                           </p>
                           <p>To ensure that an earlier session does not commit the transaction after the application returns <code class="codeph">UNCOMMITTED</code>, <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> blocks the LTXID. Blocking the LTXID allows the end user to make a decision based on the uncommitted status, or the application to replay the transaction, and prevents duplicate transactions.
                           </p>
                        </div>
                     </div><a id="ADFNS972"></a><div class="props_rev_3"><a id="GUID-21B51362-CABE-4E31-AB8B-25D428C632B0" name="GUID-21B51362-CABE-4E31-AB8B-25D428C632B0"></a><h6 id="ADFNS-GUID-21B51362-CABE-4E31-AB8B-25D428C632B0" class="sect6">USER_CALL_COMPLETED Parameter</h6>
                        <div>
                           <p>Some transactions return information upon completion. For example: A transaction that uses commit on success (auto-commit) might returns the number of affected rows, or for a <code class="codeph">SELECT</code> statement, the rows themselves; a transaction that invokes a PL/SQL subprogram that has <code class="codeph">OUT</code> parameters returns the values of those parameters; and a transaction that invokes a PL/SQL function returns the function value. Also, a transaction that invokes a PL/SQL subprogram might execute a <code class="codeph">COMMIT</code> statement and then do more work.
                           </p>
                           <p>If your application needs information that the in-flight transaction returns upon completion, or session state changes that the transaction does after committing its database changes, then your application must determine whether the in-flight transaction completed, which it can do by checking the value of the actual parameter that corresponds to the formal parameter <code class="codeph">USER_CALL_COMPLETED</code>.
                           </p>
                           <p>If the value of the actual parameter is <code class="codeph">TRUE</code>, then the transaction completed, and your application has the information and work that it must continue.
                           </p>
                           <p>If the value of the actual parameter is <code class="codeph">FALSE</code>, then the call from the client may not have completed. Therefore, your application might not have the information and work that it must continue.
                           </p>
                        </div>
                     </div><a id="ADFNS973"></a><div class="props_rev_3"><a id="GUID-6D3590B6-C02F-456B-8076-7DB81E792A62" name="GUID-6D3590B6-C02F-456B-8076-7DB81E792A62"></a><h6 id="ADFNS-GUID-6D3590B6-C02F-456B-8076-7DB81E792A62" class="sect6">Exceptions</h6>
                        <div>
                           <p>If your application (the client) and Oracle Database (the server) are no longer synchronized, then the <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> procedure raises one of these exceptions:
                           </p>
                           <div class="tblformal" id="GUID-6D3590B6-C02F-456B-8076-7DB81E792A62__GUID-A7ACF666-0D85-442C-B1F3-885052BD159C">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists and explains the exceptions that the DBMS_APP_CONT.GET_LTXID_OUTCOME procedure can raise." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="21%" id="d22101e2672">Exception</th>
                                       <th align="left" valign="bottom" width="79%" id="d22101e2675">Explanation</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d22101e2680" headers="d22101e2672 ">
                                          <p><code class="codeph">ORA-14950 - SERVER_AHEAD</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d22101e2680 d22101e2675 ">
                                          <p>The server is ahead of the client; that is, the LTXID that your application passed to <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> identifies a transaction that is older than the in-flight transaction.
                                          </p>
                                          <p>Your application must get the LTXID immediately before passing it to <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d22101e2696" headers="d22101e2672 ">
                                          <p><code class="codeph">ORA-14951 - CLIENT_AHEAD</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d22101e2696 d22101e2675 ">
                                          <p>The client is ahead of the server. Either the server was "flashed back" to an earlier state, was recovered using media recovery, or is a standby database that was opened earlier and has lost data.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d22101e2704" headers="d22101e2672 ">
                                          <p><code class="codeph">ORA-14906 - SAME_SESSION</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d22101e2704 d22101e2675 ">
                                          <p>Executing <code class="codeph">GET_LTXID_OUTCOME</code> is not supported on the session that owns the LTXID, because the execution would block further processing on that session.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d22101e2715" headers="d22101e2672 ">
                                          <p><code class="codeph">ORA-14909 - COMMIT_BLOCKED</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d22101e2715 d22101e2675 ">
                                          <p>Your session has been blocked from committing by another user with the same username using <code class="codeph">GET_LTXID_OUTCOME</code>. <code class="codeph">GET_LTXID_OUTCOME</code> should be called only on dead sessions. Blocking a live session is better achieved using <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">KILL</code> <code class="codeph">SESSION</code> <code class="codeph">IMMEDIATE</code>. For help, contact your application administrator.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d22101e2745" headers="d22101e2672 ">
                                          <p><code class="codeph">ORA-14952 GENERAL ERROR</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d22101e2745 d22101e2675 ">
                                          <p><code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> cannot determine the outcome of the in-flight transaction. An error occurred during transaction processing, and the error stack shows the error detail.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-6D3590B6-C02F-456B-8076-7DB81E792A62__GUID-6AB078AC-49B3-4573-BBC5-DC41EEF94326">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="flashback.html#GUID-03D1CAAE-D940-444A-8771-B1BC636D105D">Using Oracle Flashback Technology</a></p>
                                 </li>
                                 <li>
                                    <p><a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#SBYDB-GUID-5E73667D-4A56-445E-911F-1E99092DD8D7" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for information about media recovery and standby databases
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADFNS974"></a><div class="props_rev_3"><a id="GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6" name="GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6"></a><h5 id="ADFNS-GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6" class="sect5">Using Transaction Guard</h5>
                     <div>
                        <div class="section">
                           <p>After your application (the client) receives an error message, it must follow these steps to use Transaction Guard:</p>
                           <ol>
                              <li>
                                 <p>Determine if the error is due to an outage (<span class="bold">recoverable</span>).
                                 </p>
                                 <p>For instructions, see the documentation for your client driver—<code class="codeph">OCI_ATTRIBUTE</code> for OCI, OCCI, and ODP.NET; <code class="codeph">isRecoverable</code> for JDBC.
                                 </p>
                              </li>
                              <li id="GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6__BEJGHDBC">
                                 <p>If the error is recoverable, then use the API of the client driver to get the logical transaction identifier (LTXID) of the in-flight transaction.</p>
                                 <p>For instructions, see the documentation for your client driver.</p>
                              </li>
                              <li>
                                 <p>Reconnect to the database.</p>
                                 <p>The session that your application acquires can be either new or pooled.</p>
                              </li>
                              <li>
                                 <p>Invoke <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> with the LTXID from step&nbsp;<a href="sql-processing-for-application-developers.html#GUID-CD278F30-E49B-4F55-89E2-CB2DCF5DEEE6__BEJGHDBC">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Check the value of the actual parameter that corresponds to the formal parameter <code class="codeph">COMMITTED</code>.
                                 </p>
                                 <p>If the value is <code class="codeph">TRUE</code>, then tell the application that the in-flight transaction was committed. The application can return this result to the user, or continue if the state is correct.
                                 </p>
                                 <p>If the value is <code class="codeph">FALSE</code>, then the application can return <code class="codeph">UNCOMMITTED</code> or a similar message to the user so that the user can choose the next step. Optionally, the application can replay the transaction for the user. For example:
                                 </p>
                                 <ol type="a">
                                    <li>
                                       <p>If necessary, clean up state changes on the client side.</p>
                                    </li>
                                    <li>
                                       <p>Resubmit the in-flight transaction.</p>
                                    </li>
                                 </ol>
                                 <p>If you do not resubmit the in-flight transaction, and the application needs neither information that the in-flight transaction returns upon completion nor work that the transaction does after committing its database changes, then continue. Otherwise, check the value of the actual parameter that corresponds to the formal parameter <code class="codeph">USER_CALL_COMPLETED</code>.
                                 </p>
                                 <p>If the value is <code class="codeph">TRUE</code>, then continue.
                                 </p>
                                 <p>If the value is <code class="codeph">FALSE</code>, then tell the application user that the application cannot continue.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS00202"></a><div class="props_rev_3"><a id="GUID-78285196-33AF-45E9-BDB6-8AE38648C838" name="GUID-78285196-33AF-45E9-BDB6-8AE38648C838"></a><h3 id="ADFNS-GUID-78285196-33AF-45E9-BDB6-8AE38648C838" class="sect3">Ensuring Repeatable Reads with Read-Only Transactions</h3>
               <div>
                  <div class="section">
                     <p>By default, Oracle Database guarantees statement-level read consistency, but not transaction-level read consistency. With <span class="bold">statement-level read consistency</span>, queries in a statement produce consistent data for the duration of the statement, not reflecting changes by other statements. With <span class="bold">transaction-level read consistency</span> (<span class="bold">repeatable reads</span>), queries in the transaction produce consistent data for the duration of the transaction, not reflecting changes by other transactions.
                     </p>
                     <p>To ensure transaction-level read consistency for a transaction that does not include DML statements, specify that the transaction is read-only. The queries in a read-only transaction see only changes committed before the transaction began, so query results are consistent for the duration of the transaction.</p>
                     <p>A read-only transaction provides transaction-level read consistency without acquiring additional data locks. Therefore, while the read-only transaction is querying data, other transactions can query and update the same data.</p>
                     <p>A read-only transaction begins with this statement:</p><pre class="oac_no_warn" dir="ltr">SET TRANSACTION READ ONLY [ NAME <span class="italic">string</span> ];
</pre><p>Only DDL statements can precede the <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code> statement. After the <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code> statement successfully runs, the transaction can include only <code class="codeph">SELECT</code> (without <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>), <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, or non-DML statements (such as <code class="codeph">SET</code> <code class="codeph">ROLE</code>, <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>, and <code class="codeph">LOCK</code> <code class="codeph">TABLE</code>). A <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, or DDL statement ends the read-only transaction.
                     </p>
                     <div class="infoboxnotealso" id="GUID-78285196-33AF-45E9-BDB6-8AE38648C838__GUID-7350E0BC-45BA-40C9-940A-A0CE7B622EE9">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/SET-TRANSACTION.html#SQLRF01705" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> statement
                        </p>
                     </div>
                     <p>Long-running queries sometimes fail because undo information required for consistent read (CR) operations is no longer available. This situation occurs when active transactions overwrite committed undo blocks.</p>
                     <p>Automatic undo management lets your database administrator (DBA) explicitly control how long the database retains undo information, using the parameter <code class="codeph">UNDO_RETENTION</code>. For example, if <code class="codeph">UNDO_RETENTION</code> is 30 minutes, then the database retains all committed undo information for at least 30 minutes, ensuring that all queries running for 30 minutes or less do not encounter the OER error "snapshot too old."
                     </p>
                     <div class="infoboxnotealso" id="GUID-78285196-33AF-45E9-BDB6-8AE38648C838__GUID-E4683961-5C45-4F96-8BA7-9CDA3655A31A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT221" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about read consistency
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-space-for-schema-objects.html#ADMIN014" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about long-running queries and resumable space allocation
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS976"></a><a id="ADFNS00203"></a><div class="props_rev_3"><a id="GUID-23991569-1E18-47E5-8549-42925C82A25A" name="GUID-23991569-1E18-47E5-8549-42925C82A25A"></a><h3 id="ADFNS-GUID-23991569-1E18-47E5-8549-42925C82A25A" class="sect3">Locking Tables Explicitly</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database has default locking mechanisms that ensure data concurrency, data integrity, and statement-level read consistency. However, you can override these mechanisms by locking tables explicitly. Locking tables explicitly is useful in situations such as these:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A transaction in your application needs exclusive access to a resource, so that the transaction does not have to wait for other transactions to complete.</p>
                        </li>
                        <li>
                           <p>Your application needs transaction-level read consistency (repeatable reads).</p>
                        </li>
                     </ul>
                     <p>To override default locking at the transaction level, use any of these SQL statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">LOCK</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SELECT</code> with the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> with the <code class="codeph">READ</code> <code class="codeph">ONLY</code> or <code class="codeph">ISOLATION</code> <code class="codeph">LEVEL</code> <code class="codeph">SERIALIZABLE</code> option
                           </p>
                        </li>
                     </ul>
                     <p>Locks acquired by these statements are released after the transaction is committed or rolled back.</p>
                     <p>The initialization parameter <code class="codeph">DML_LOCKS</code> determines the maximum number of DML locks. Although its default value is usually enough, you might need to increase it if you use explicit locks.
                     </p>
                     <div class="infoboxnote" id="GUID-23991569-1E18-47E5-8549-42925C82A25A__GUID-14DC57C1-C79B-4F20-88E9-64CED310725B">
                        <p class="notep1">Note:</p>
                        <p>If you override the default locking of Oracle Database at any level, ensure that data integrity is guaranteed, data concurrency is acceptable, and deadlocks are either impossible or appropriately handled.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-23991569-1E18-47E5-8549-42925C82A25A__GUID-70A85590-2F8D-4FA8-B3F1-4DE481762FCB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1331" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-78285196-33AF-45E9-BDB6-8AE38648C838">Ensuring Repeatable Reads with Read-Only Transactions</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA">Using Serializable Transactions for Concurrency Control</a></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Introduction-to-Oracle-SQL.html#SQLRF-GUID-049B7AE8-11E1-4110-B3E4-D117907D77AC" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-23991569-1E18-47E5-8549-42925C82A25A__GUID-30D08EF0-FA67-4F93-9012-F57C262B9C7E">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-F68DF91E-76FB-4D5D-849B-BB4D6CC757DB">Privileges Required to Acquire Table Locks</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68">Choosing a Locking Strategy</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-D75EFDA7-DBE5-4E35-A856-75859CAAECDE">Letting Oracle Database Control Table Locking</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF">Explicitly Acquiring Row Locks</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6">Examples of Concurrency Under Explicit Locking</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99944"></a><div class="props_rev_3"><a id="GUID-F68DF91E-76FB-4D5D-849B-BB4D6CC757DB" name="GUID-F68DF91E-76FB-4D5D-849B-BB4D6CC757DB"></a><h4 id="ADFNS-GUID-F68DF91E-76FB-4D5D-849B-BB4D6CC757DB" class="sect4">Privileges Required to Acquire Table Locks</h4>
                  <div>
                     <p>No special privileges are required to acquire any type of table lock on a table in your own schema. To acquire a table lock on a table in another schema, you must have either the <code class="codeph">LOCK</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege or any object privilege (for example, <code class="codeph">SELECT</code> or <code class="codeph">UPDATE</code>) for the table.
                     </p>
                  </div>
               </div><a id="ADFNS977"></a><a id="ADFNS99943"></a><div class="props_rev_3"><a id="GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68" name="GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68"></a><h4 id="ADFNS-GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68" class="sect4">Choosing a Locking Strategy</h4>
                  <div>
                     <div class="section">
                        <p>A transaction explicitly acquires the specified table locks when a <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement is executed. A <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement explicitly overrides default locking. When a <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement is issued on a view, the underlying base tables are locked. This statement acquires exclusive table locks for the <code class="codeph">employees</code> and <code class="codeph">departments</code> tables on behalf of the containing transaction:
                        </p><pre class="oac_no_warn" dir="ltr">LOCK TABLE employees, departments IN EXCLUSIVE MODE NOWAIT;
</pre><p>You can specify several tables or views to lock in the same mode; however, only a single lock mode can be specified for each <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement.
                        </p>
                        <div class="infoboxnote" id="GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68__GUID-8456BA88-5520-46B1-BDD3-9ED5D5228848">
                           <p class="notep1">Note:</p>
                           <p>When a table is locked, all rows of the table are locked. No other user can modify the table.</p>
                        </div>
                        <p>In the <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement, you can also indicate how long you want to wait for the table lock:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you do not want to wait, specify either <code class="codeph">NOWAIT</code> or <code class="codeph">WAIT 0</code>.
                              </p>
                              <p>You acquire the table lock only if it is immediately available; otherwise, an error notifies you that the lock is unavailable now.</p>
                           </li>
                           <li>
                              <p>To wait up to <span class="italic">n</span> seconds to acquire the table lock, specify <code class="codeph">WAIT</code>&nbsp;<span class="italic"><code class="codeph">n</code></span>, where <span class="italic">n</span> is greater than 0 and less than or equal to 100000.
                              </p>
                              <p>If the table lock is still unavailable after <span class="italic">n</span> seconds, an error notifies you that the lock is unavailable now.
                              </p>
                           </li>
                           <li>
                              <p>To wait indefinitely to acquire the lock, specify neither <code class="codeph">NOWAIT</code> nor <code class="codeph">WAIT</code>.
                              </p>
                              <p>The database waits indefinitely until the table is available, locks it, and returns control to you. When the database is running DDL statements concurrently with DML statements, a timeout or deadlock can sometimes result. The database detects such timeouts and deadlocks and returns an error.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68__EXPLICITLYACQUIRINGROWLOCKSORACLEDA-C873CAA2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF">Explicitly Acquiring Row Locks</a></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/LOCK-TABLE.html#SQLRF01605" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13B1103C-3E0E-4877-9CAF-A8D6337EDC68__GUID-660417FF-871B-4FCE-8C24-2B33BEA3C09E">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-A8754599-DD11-426D-B25A-F751D15DCC89">When to Lock with ROW SHARE MODE and ROW EXCLUSIVE MODE</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B">When to Lock with SHARE MODE</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-D6A96082-F790-499A-B1E8-5DA7392B741F">When to Lock with SHARE ROW EXCLUSIVE MODE</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-39749020-AE59-41BA-B42D-FB6A2242F9CA">When to Lock with EXCLUSIVE MODE</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS99942"></a><div class="props_rev_3"><a id="GUID-A8754599-DD11-426D-B25A-F751D15DCC89" name="GUID-A8754599-DD11-426D-B25A-F751D15DCC89"></a><h5 id="ADFNS-GUID-A8754599-DD11-426D-B25A-F751D15DCC89" class="sect5">When to Lock with ROW SHARE MODE and ROW EXCLUSIVE MODE</h5>
                     <div>
                        <p><code class="codeph">ROW</code> <code class="codeph">SHARE</code> <code class="codeph">MODE</code> and <code class="codeph">ROW</code> <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code> table locks offer the highest degree of concurrency. You might use these locks if:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Your transaction must prevent another transaction from acquiring an intervening share, share row, or exclusive table lock for a table before your transaction can update that table.</p>
                              <p>If another transaction acquires an intervening share, share row, or exclusive table lock, no other transactions can update the table until the locking transaction commits or rolls back.</p>
                           </li>
                           <li>
                              <p>Your transaction must prevent a table from being altered or dropped before your transaction can modify that table.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS137"></a><a id="ADFNS99941"></a><div class="props_rev_3"><a id="GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B" name="GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B"></a><h5 id="ADFNS-GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B" class="sect5">When to Lock with SHARE MODE</h5>
                     <div>
                        <p><code class="codeph">SHARE</code> <code class="codeph">MODE</code> table locks are rather restrictive data locks. You might use these locks if:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Your transaction only queries the table, and requires a consistent set of the table data for the duration of the transaction.</p>
                           </li>
                           <li>
                              <p>You can hold up other transactions that try to update the locked table, until all transactions that hold <code class="codeph">SHARE</code> <code class="codeph">MODE</code> locks on the table either commit or roll back.
                              </p>
                           </li>
                           <li>
                              <p>Other transactions might acquire concurrent <code class="codeph">SHARE</code> <code class="codeph">MODE</code> table locks on the same table, also giving them the option of transaction-level read consistency.
                              </p>
                              <div class="infoboxnote" id="GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B__GUID-D5F3DACA-C334-4FA7-9098-8EADFE2F5944">
                                 <p class="notep1">Caution:</p>
                                 <p>Your transaction might not update the table later in the same transaction. However, if multiple transactions concurrently hold share table locks for the same table, no transaction can update the table (even if row locks are held as the result of a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement). Therefore, if concurrent share table locks on the same table are common, updates cannot proceed and deadlocks are common. In this case, use share row exclusive or exclusive table locks instead.
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p><span class="bold">Scenario:</span> Tables <code class="codeph">employees</code> and <code class="codeph">budget_tab</code> require a consistent set of data in a third table, <code class="codeph">departments</code>. For a given department number, you want to update the information in <code class="codeph">employees</code> and <code class="codeph">budget_tab</code>, and ensure that no members are added to the department between these two transactions.
                        </p>
                        <p><span class="bold">Solution:</span> Lock the <code class="codeph">departments</code> table in <code class="codeph">SHARE</code> <code class="codeph">MODE</code>, as shown in <a href="sql-processing-for-application-developers.html#GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B__CHDBHJJD">Example 8-1</a>. Because the <code class="codeph">departments</code> table is rarely updated, locking it probably does not cause many other transactions to wait long.
                        </p>
                        <div class="example" id="GUID-FE946AE2-5663-4DB2-94A7-10B9D8E9690B__CHDBHJJD">
                           <p class="titleinexample">Example 8-1 LOCK TABLE with SHARE MODE</p><pre class="oac_no_warn" dir="ltr">-- Create and populate table:
 
DROP TABLE budget_tab;
CREATE TABLE budget_tab (
  sal     NUMBER(8,2),
  deptno  NUMBER(4)
);
 
INSERT INTO budget_tab (sal, deptno)
  SELECT salary, department_id
  FROM employees;
 
-- Lock departments and update employees and budget_tab:
 
<span class="bold">LOCK TABLE departments IN SHARE MODE;</span>
 
<span class="bold">UPDATE employees</span>
  SET salary = salary * 1.1
  WHERE department_id IN
    (SELECT department_id FROM departments WHERE location_id = 1700);
 
<span class="bold">UPDATE budget_tab</span>
SET sal = sal * 1.1
WHERE deptno IN
  (SELECT department_id FROM departments WHERE location_id = 1700);
 
<span class="bold">COMMIT;</span>  -- COMMIT releases lock</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS99940"></a><div class="props_rev_3"><a id="GUID-D6A96082-F790-499A-B1E8-5DA7392B741F" name="GUID-D6A96082-F790-499A-B1E8-5DA7392B741F"></a><h5 id="ADFNS-GUID-D6A96082-F790-499A-B1E8-5DA7392B741F" class="sect5">When to Lock with SHARE ROW EXCLUSIVE MODE</h5>
                     <div>
                        <p>You might use a <code class="codeph">SHARE</code> <code class="codeph">ROW</code> <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code> table lock if:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Your transaction requires both transaction-level read consistency for the specified table and the ability to update the locked table.</p>
                           </li>
                           <li>
                              <p>You do not care if other transactions acquire explicit row locks (using <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>), which might make <code class="codeph">UPDATE</code> and <code class="codeph">INSERT</code> statements in the locking transaction wait and might cause deadlocks.
                              </p>
                           </li>
                           <li>
                              <p>You want only a single transaction to have this action.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADFNS99939"></a><div class="props_rev_3"><a id="GUID-39749020-AE59-41BA-B42D-FB6A2242F9CA" name="GUID-39749020-AE59-41BA-B42D-FB6A2242F9CA"></a><h5 id="ADFNS-GUID-39749020-AE59-41BA-B42D-FB6A2242F9CA" class="sect5">When to Lock with EXCLUSIVE MODE</h5>
                     <div>
                        <p>You might use an <code class="codeph">EXCLUSIVE</code> <code class="codeph">MODE</code> table if:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Your transaction requires immediate update access to the locked table. When your transaction holds an exclusive table lock, other transactions cannot lock specific rows in the locked table.</p>
                           </li>
                           <li>
                              <p>Your transaction also ensures transaction-level read consistency for the locked table until the transaction is committed or rolled back.</p>
                           </li>
                           <li>
                              <p>You are not concerned about low levels of data concurrency, making transactions that request exclusive table locks wait in line to update the table sequentially.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS99938"></a><div class="props_rev_3"><a id="GUID-D75EFDA7-DBE5-4E35-A856-75859CAAECDE" name="GUID-D75EFDA7-DBE5-4E35-A856-75859CAAECDE"></a><h4 id="ADFNS-GUID-D75EFDA7-DBE5-4E35-A856-75859CAAECDE" class="sect4">Letting Oracle Database Control Table Locking</h4>
                  <div>
                     <div class="section">
                        <p>If you let Oracle Database control table locking, your application needs less programming logic, but also has less control than if you manage the table locks yourself.</p>
                        <p>Issuing the statement <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> <code class="codeph">ISOLATION</code> <code class="codeph">LEVEL</code> <code class="codeph">SERIALIZABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">ISOLATION</code> <code class="codeph">LEVEL</code> <code class="codeph">SERIALIZABLE</code> preserves ANSI serializability without changing the underlying locking protocol. This technique gives concurrent access to the table while providing ANSI serializability. Getting table locks greatly reduces concurrency.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D75EFDA7-DBE5-4E35-A856-75859CAAECDE__GUID-2CDA16A1-84CD-412E-94EA-6F2E63FA2929">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01705" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00901" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statements
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>Change the settings for these parameters only when an instance is shut down. If multiple instances are accessing a single database, then all instances must use the same setting for these parameters.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS99937"></a><div class="props_rev_3"><a id="GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF" name="GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF"></a><h4 id="ADFNS-GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF" class="sect4">Explicitly Acquiring Row Locks</h4>
                  <div>
                     <div class="section">
                        <p>You can override default locking with a <code class="codeph">SELECT</code> statement that includes the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause. This statement acquires exclusive row locks for selected rows (as an <code class="codeph">UPDATE</code> statement does), in anticipation of updating the selected rows in a subsequent statement.
                        </p>
                        <p>You can use a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement to lock a row without changing it. For example, several triggers in <span>Oracle Database PL/SQL Language Reference</span> show how to implement referential integrity. In the <code class="codeph">EMP_DEPT_CHECK</code> trigger, the row that contains the referenced parent key value is locked to guarantee that it remains for the duration of the transaction; if the parent key is updated or deleted, referential integrity is violated.
                        </p>
                        <p><code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statements are often used by interactive programs that let a user modify fields of one or more specific rows (which might take some time); row locks are acquired so that only a single interactive program user is updating the rows at any given time.
                        </p>
                        <p>If a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement is used when defining a cursor, the rows in the return set are locked when the cursor is opened (before the first fetch) rather than being locked as they are fetched from the cursor. Locks are released only when the transaction that opened the cursor is committed or rolled back, not when the cursor is closed.
                        </p>
                        <p>Each row in the return set of a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement is locked individually; the <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement waits until the other transaction releases the conflicting row lock. If a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement locks many rows in a table, and if the table experiences much update activity, it might be faster to acquire an <code class="codeph">EXCLUSIVE</code> table lock instead.
                        </p>
                        <div class="infoboxnote" id="GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF__GUID-F39EDFD4-3745-4D92-96AD-BE26242B5799">
                           <p class="notep1">Note:</p>
                           <p>The return set for a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> might change while the query is running; for example, if columns selected by the query are updated or rows are deleted after the query started. When this happens, <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> acquires locks on the rows that did not change, gets a read-consistent snapshot of the table using these locks, and then restarts the query to acquire the remaining locks.
                           </p>
                           <p>If your application uses the <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement and cannot guarantee that a conflicting locking request will not result in user-caused deadlocks—for example, through ensuring that concurrent DML statements on a table never affect the return set of the query of a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement—then code the application always to handle such a deadlock (ORA-00060) in an appropriate manner.
                           </p>
                        </div>
                        <p>By default, the <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement waits until the requested row lock is acquired. To change this behavior, use the <code class="codeph">NOWAIT</code>, <code class="codeph">WAIT</code>, or <code class="codeph">SKIP</code> <code class="codeph">LOCKED</code> clause of the <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement. For information about these clauses, see <span>Oracle Database SQL Language Reference</span>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-F91A26B7-2C41-4CC5-BB07-AA7E9ED58CAF__ORACLEDATABASEPLSQLLANGUAGEREFERENC-C874A80F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS020" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS138"></a><a id="ADFNS99936"></a><div class="props_rev_3"><a id="GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6" name="GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6"></a><h4 id="ADFNS-GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6" class="sect4">Examples of Concurrency Under Explicit Locking</h4>
                  <div>
                     <p><a href="sql-processing-for-application-developers.html#GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6__BEJHACAH" title="This table shows how Oracle Database maintains data concurrency, integrity, and consistency when the LOCK TABLE statement and the SELECT statement with the FOR UPDATE clause are used. For brevity, the message text for ORA-00054 ("resource busy and acquire with NOWAIT specified") is not included. User-entered text is bold.">Table 8-2</a> shows how Oracle Database maintains data concurrency, integrity, and consistency when the <code class="codeph">LOCK</code> <code class="codeph">TABLE</code> statement and the <code class="codeph">SELECT</code> statement with the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause are used. For brevity, the message text for ORA-00054 ("resource busy and acquire with <code class="codeph">NOWAIT</code> specified") is not included. User-entered text is <span class="bold">bold</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6__GUID-D1038ABD-8AFB-49D9-A97D-C171A7720A6A">
                        <p class="notep1">Note:</p>
                        <p>In tables compressed with Hybrid Columnar Compression (HCC), DML statements lock compression units rather than rows.</p>
                     </div>
                     <div class="tblformal" id="GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6__BEJHACAH">
                        <p class="titleintable">Table 8-2 Examples of Concurrency Under Explicit Locking</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Examples of Concurrency Under Explicit Locking" summary="This table shows how Oracle Database maintains data concurrency, integrity, and consistency when the LOCK TABLE statement and the SELECT statement with the FOR UPDATE clause are used. For brevity, the message text for ORA-00054 ("resource busy and acquire with NOWAIT specified") is not included. User-entered text is bold." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d22101e5024">Time Point</th>
                                 <th align="left" valign="bottom" width="37%" id="d22101e5027">Transaction 1</th>
                                 <th align="left" valign="bottom" width="38%" id="d22101e5030">Transaction 2</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5035" headers="d22101e5024 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5035 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW SHARE MODE;</span>

Statement processed.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5035 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5049" headers="d22101e5024 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5049 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5049 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">DROP TABLE hr.departments;</span>

DROP TABLE hr.departments
* 
ORA-00054
</pre><p>(Exclusive DDL lock not possible because Transaction 1 has table locked.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5062" headers="d22101e5024 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5062 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5062 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5079" headers="d22101e5024 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5079 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5079 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20</span>
<span class="bold">FOR UPDATE OF location_id;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5099" headers="d22101e5024 ">
                                    <p>5</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5099 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
</pre><p>(Waits because Transaction 2 locked same rows.)</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5099 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5118" headers="d22101e5024 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5118 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5118 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span>
</pre><p>(Releases row locks.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5131" headers="d22101e5024 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5131 d22101e5027 "><pre class="oac_no_warn" dir="ltr">1 row processed.

<span class="bold">ROLLBACK;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5131 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5142" headers="d22101e5024 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5142 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW EXCLUSIVE MODE;</span>
 
Statement processed.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5142 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5156" headers="d22101e5024 ">
                                    <p>9</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5156 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5156 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5173" headers="d22101e5024 ">
                                    <p>10</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5173 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5173 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5190" headers="d22101e5024 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5190 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5190 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5208" headers="d22101e5024 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5208 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5208 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
 
1 row processed.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5225" headers="d22101e5024 ">
                                    <p>13</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5225 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5225 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5235" headers="d22101e5024 ">
                                    <p>14</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5235 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20</span>
<span class="bold">FOR UPDATE OF location_id;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5235 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5255" headers="d22101e5024 ">
                                    <p>15</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5255 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5255 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
 
1 row processed.
</pre><p>(Waits because Transaction 1 locked same rows.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5274" headers="d22101e5024 ">
                                    <p>16</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5274 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5274 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5284" headers="d22101e5024 ">
                                    <p>17</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5284 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5284 d22101e5030 "><pre class="oac_no_warn" dir="ltr">1 row processed.
</pre><p>(Conflicting locks were released.)</p><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5298" headers="d22101e5024 ">
                                    <p>18</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5298 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW SHARE MODE</span>
 
Statement processed.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5298 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5312" headers="d22101e5024 ">
                                    <p>19</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5312 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5312 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5329" headers="d22101e5024 ">
                                    <p>20</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5329 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5329 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5346" headers="d22101e5024 ">
                                    <p>21</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5346 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5346 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE MODE;</span>
 
Statement processed.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5360" headers="d22101e5024 ">
                                    <p>22</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5360 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5360 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5378" headers="d22101e5024 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5378 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5378 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20</span>
<span class="bold">FOR UPDATE OF location_id;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5398" headers="d22101e5024 ">
                                    <p>24</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5398 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5398 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
</pre><p>(Waits because Transaction 1 has conflicting table lock.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5417" headers="d22101e5024 ">
                                    <p>25</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5417 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5417 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5427" headers="d22101e5024 ">
                                    <p>26</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5427 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5427 d22101e5030 "><pre class="oac_no_warn" dir="ltr">1 row processed.
</pre><p>(Conflicting table lock released.)</p><pre class="oac_no_warn" dir="ltr"><span class="bold">ROLLBACK;</span></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5441" headers="d22101e5024 ">
                                    <p>27</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5441 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE ROW EXCLUSIVE MODE;</span>
 
Statement processed.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5441 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5455" headers="d22101e5024 ">
                                    <p>28</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5455 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5455 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5472" headers="d22101e5024 ">
                                    <p>29</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5472 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5472 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5489" headers="d22101e5024 ">
                                    <p>30</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5489 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5489 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5506" headers="d22101e5024 ">
                                    <p>31</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5506 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5506 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5523" headers="d22101e5024 ">
                                    <p>32</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5523 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5523 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE MODE</span>
<span class="bold">NOWAIT;</span>
 
ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5540" headers="d22101e5024 ">
                                    <p>33</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5540 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5540 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5558" headers="d22101e5024 ">
                                    <p>34</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5558 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5558 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20</span>
<span class="bold">FOR UPDATE OF location_id;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5578" headers="d22101e5024 ">
                                    <p>35</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5578 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5578 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
</pre><p>(Waits because Transaction 1 has conflicting table lock.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5597" headers="d22101e5024 ">
                                    <p>36</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5597 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 20;</span>
</pre><p>(Waits because Transaction 2 locked same rows.)</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5597 d22101e5030 ">
                                    <p>(Deadlock.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5617" headers="d22101e5024 ">
                                    <p>37</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5617 d22101e5027 "><pre class="oac_no_warn" dir="ltr">Cancel operation.

<span class="bold">ROLLBACK;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5617 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5628" headers="d22101e5024 ">
                                    <p>38</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5628 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5628 d22101e5030 "><pre class="oac_no_warn" dir="ltr">1 row processed.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5637" headers="d22101e5024 ">
                                    <p>39</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5637 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5637 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5650" headers="d22101e5024 ">
                                    <p>40</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5650 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5650 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN EXCLUSIVE MODE;</span>

ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5664" headers="d22101e5024 ">
                                    <p>41</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5664 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5664 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>

ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5681" headers="d22101e5024 ">
                                    <p>42</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5681 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5681 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN SHARE MODE;</span>

ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5695" headers="d22101e5024 ">
                                    <p>43</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5695 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5695 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW EXCLUSIVE MODE</span>
<span class="bold">NOWAIT;</span>

ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5712" headers="d22101e5024 ">
                                    <p>44</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5712 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5712 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">LOCK TABLE hr.departments</span>
<span class="bold">IN ROW SHARE MODE</span>
<span class="bold">NOWAIT;</span>

ORA-00054</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5730" headers="d22101e5024 ">
                                    <p>45</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5730 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5730 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20;</span>
 
LOCATION_ID
-----------
DALLAS
 
1 row selected.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5747" headers="d22101e5024 ">
                                    <p>46</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5747 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5747 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 20</span>
<span class="bold">FOR UPDATE OF location_id;</span>
</pre><p>(Waits because Transaction 1 has conflicting table lock.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5769" headers="d22101e5024 ">
                                    <p>47</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5769 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET department_id = 30</span>
<span class="bold">WHERE department_id = 20;</span>
 
1 row processed.</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5769 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5786" headers="d22101e5024 ">
                                    <p>48</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5786 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">COMMIT;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5786 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5796" headers="d22101e5024 ">
                                    <p>49</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5796 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5796 d22101e5030 "><pre class="oac_no_warn" dir="ltr">0 rows selected.
</pre><p>(Transaction 1 released conflicting lock.)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5807" headers="d22101e5024 ">
                                    <p>50</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5807 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SET TRANSACTION READ ONLY;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5807 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5817" headers="d22101e5024 ">
                                    <p>51</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5817 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 10;</span>
 
LOCATION_ID
-----------
BOSTON</pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5817 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5834" headers="d22101e5024 ">
                                    <p>52</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5834 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5834 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE hr.departments</span>
<span class="bold">SET location_id = 'NEW YORK'</span>
<span class="bold">WHERE department_id = 10</span>;
 
1 row processed.</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5851" headers="d22101e5024 ">
                                    <p>53</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5851 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 10;</span>
 
LOCATION_ID
-----------
BOSTON
</pre><p>(Transaction 1 does not see uncommitted data.)</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5851 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5870" headers="d22101e5024 ">
                                    <p>54</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5870 d22101e5027 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5870 d22101e5030 "><pre class="oac_no_warn" dir="ltr"><span class="bold">COMMIT;</span></pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5880" headers="d22101e5024 ">
                                    <p>55</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5880 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 10;</span>
 
LOCATION_ID
-----------
BOSTON
</pre><p>(Same result even after Transaction 2 commits.)</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5880 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5900" headers="d22101e5024 ">
                                    <p>56</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5900 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">COMMIT;</span></pre></td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5900 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d22101e5910" headers="d22101e5024 ">
                                    <p>57</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e5910 d22101e5027 "><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT location_id</span>
<span class="bold">FROM hr.departments</span>
<span class="bold">WHERE department_id = 10;</span>
 
LOCATION_ID
-----------
NEW YORK
</pre><p>(Sees committed data.)</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d22101e5910 d22101e5030 ">
                                    <p></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-545CF5D2-1C85-470D-8D8A-CBF86EE95DA6__GUID-C2AB77C0-C192-469A-A3B5-A5B7D01AF17B">
                        <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT89198" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a></div>
                  </div>
               </div>
            </div><a id="ADFNS978"></a><a id="ADFNS1002"></a><div class="props_rev_3"><a id="GUID-57365E45-5F85-471B-81D9-F52EA16F1E85" name="GUID-57365E45-5F85-471B-81D9-F52EA16F1E85"></a><h3 id="ADFNS-GUID-57365E45-5F85-471B-81D9-F52EA16F1E85" class="sect3">Using Oracle Lock Management Services (User Locks)</h3>
               <div>
                  <div class="section">
                     <p>Your applications can use Oracle Lock Management services (user locks) by invoking subprograms the <code class="codeph">DBMS_LOCK</code> package. An application can request a lock of a specific mode, give it a unique name (recognizable in another subprogram in the same or another instance), change the lock mode, and release it. Because a reserved user lock is an Oracle Database lock, it has all the features of a database lock, such as deadlock detection. Ensure that any user locks used in distributed transactions are released upon <code class="codeph">COMMIT</code>, otherwise an undetected deadlock can occur.
                     </p>
                     <div class="infoboxnotealso" id="GUID-57365E45-5F85-471B-81D9-F52EA16F1E85__GUID-8B91392F-3A40-47E7-9294-F53C6FDDC1FB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_LOCK.html#ARPLS021" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about the <code class="codeph">DBMS_LOCK</code> package
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-57365E45-5F85-471B-81D9-F52EA16F1E85__GUID-5BA4D1BC-C515-4D8B-AA34-3FA75A02843A">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A">When to Use User Locks</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6">Viewing and Monitoring Locks</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS139"></a><a id="ADFNS99935"></a><div class="props_rev_3"><a id="GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A" name="GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A"></a><h4 id="ADFNS-GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A" class="sect4">When to Use User Locks</h4>
                  <div>
                     <p>User locks can help:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Provide exclusive access to a device, such as a terminal</p>
                        </li>
                        <li>
                           <p>Provide application-level enforcement of read locks</p>
                        </li>
                        <li>
                           <p>Detect when a lock is released and clean up after the application</p>
                        </li>
                        <li>
                           <p>Synchronize applications and enforce sequential processing</p>
                        </li>
                     </ul>
                     <p><a href="sql-processing-for-application-developers.html#GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A__BEJFEIIH">Example 8-2</a> shows how the Pro*COBOL precompiler uses locks to ensure that there are no conflicts when multiple people must access a single device.
                     </p>
                     <div class="example" id="GUID-11942D2D-9C1B-478C-BDD6-11FC1533CB3A__BEJFEIIH">
                        <p class="titleinexample">Example 8-2 How the Pro*COBOL Precompiler Uses Locks</p><pre class="oac_no_warn" dir="ltr">****************************************************************** 
* Print Check                                                    * 
* Any cashier may issue a refund to a customer returning goods.  * 
* Refunds under $50 are given in cash, more than $50 by check.   * 
* This code prints the check. One printer is opened by all       * 
* the cashiers to avoid the overhead of opening and closing it   * 
* for every check, meaning that lines of output from multiple    * 
* cashiers can become interleaved if you do not ensure exclusive * 
* access to the printer. The DBMS_LOCK package is used to        * 
* ensure exclusive access.                                       * 
****************************************************************** 
CHECK-PRINT 
*    Get the lock "handle" for the printer lock. 
   MOVE "CHECKPRINT" TO LOCKNAME-ARR. 
   MOVE 10 TO LOCKNAME-LEN. 
   EXEC SQL EXECUTE 
      BEGIN DBMS_LOCK.ALLOCATE_UNIQUE ( :LOCKNAME, :LOCKHANDLE ); 
      END; END-EXEC. 
*   Lock the printer in exclusive mode (default mode).
   EXEC SQL EXECUTE 
      BEGIN DBMS_LOCK.REQUEST ( :LOCKHANDLE ); 
      END; END-EXEC. 
*   You now have exclusive use of the printer, print the check. 
  ... 
*   Unlock the printer so other people can use it 
EXEC SQL EXECUTE 
      BEGIN DBMS_LOCK.RELEASE ( :LOCKHANDLE ); 
      END; END-EXEC.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS140"></a><a id="ADFNS99934"></a><div class="props_rev_3"><a id="GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6" name="GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6"></a><h4 id="ADFNS-GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6" class="sect4">Viewing and Monitoring Locks</h4>
                  <div>
                     <div class="section">
                        <p><a href="sql-processing-for-application-developers.html#GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6__BEJFHIIJ" title="This table describes the Oracle Database facilities that display locking information for on-going transactions within an instance.">Table 8-3</a> describes the Oracle Database facilities that display locking information for ongoing transactions within an instance.
                        </p>
                        <div class="tblformal" id="GUID-7970D35C-4236-4CBD-8440-63A52FDA08A6__BEJFHIIJ">
                           <p class="titleintable">Table 8-3  Ways to Display Locking Information</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title=" Ways to Display Locking Information" summary="This table describes the Oracle Database facilities that display locking information for on-going transactions within an instance." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d22101e6312">Tool</th>
                                    <th align="left" valign="bottom" width="74%" id="d22101e6315">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d22101e6320" headers="d22101e6312 ">
                                       <p>Performance Monitoring Data Dictionary Views</p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d22101e6320 d22101e6315 ">
                                       <p>See <a href="../admin/monitoring-the-database.html#ADMIN11256" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d22101e6332" headers="d22101e6312 ">
                                       <p><code class="codeph">UTLLOCKT</code>.<code class="codeph">SQL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d22101e6332 d22101e6315 ">
                                       <p>The <code class="codeph">UTLLOCKT</code>.<code class="codeph">SQL</code> script displays a simple character lock wait-for graph in tree structured fashion. Using any SQL tool (such as SQL*Plus) to run the script, it prints the sessions in the system that are waiting for locks and the corresponding blocking locks. The location of this script file is operating system dependent. (You must have run the <code class="codeph">CATBLOCK</code>.<code class="codeph">SQL</code> script before using <code class="codeph">UTLLOCKT</code>.<code class="codeph">SQL</code>.)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS979"></a><a id="ADFNS00204"></a><div class="props_rev_3"><a id="GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA" name="GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA"></a><h3 id="ADFNS-GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA" class="sect3">Using Serializable Transactions for Concurrency Control</h3>
               <div>
                  <div class="section">
                     <p>By default, Oracle Database permits concurrently running transactions to modify, add, or delete rows in the same table, and in the same data block. When transaction A changes a table, the changes are invisible to concurrently running transactions until transaction A commits them. If transaction A tries to update or delete a row that transaction B has locked (by issuing a DML or <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement), then the DML statement that A issued waits until B either commits or rolls back the transaction. This concurrency model, which provides higher concurrency and thus better performance, is appropriate for most applications.
                     </p>
                     <p>However, some rare applications require serializable transactions. <span class="bold">Serializable transactions</span> run concurrently in serialized mode. In <span class="bold">serialized mode</span>, concurrent transactions can make only the database changes that they could make if they were running serially (that is, one at a time). If a serialized transaction tries to change data that another transaction changed after the serialized transaction began, then error ORA-08177 occurs.
                     </p>
                     <p>When a serializable transaction fails with ORA-08177, the application can take any of these actions:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Commit the work executed to that point.</p>
                        </li>
                        <li>
                           <p>Run additional, different, statements, perhaps after rolling back to a prior savepoint in the transaction.</p>
                        </li>
                        <li>
                           <p>Roll back the transaction and then rerun it.</p>
                           <p>The transaction gets a transaction snapshot and the operation is likely to succeed.</p>
                           <div class="infobox-tip" id="GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA__GUID-6C6B6B51-9534-47C7-8872-034DF06FAF8D">
                              <p class="notep1">Tip:</p>
                              <p>To minimize the performance overhead of rolling back and re running transactions, put DML statements that might conflict with concurrent transactions near the beginning of the transaction.</p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA__GUID-CAF0D3BF-9466-4A6B-B7A6-1D08CA48AAFD">
                        <p class="notep1">Note:</p>
                        <p>Serializable transactions do not work with deferred segment creation or interval partitioning. Trying to insert data into an empty table with no segment created, or into a partition of an interval partitioned table that does not yet have a segment, causes an error.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8280E670-B337-4D6D-8BF4-861B8B3947AA__GUID-6C6AC8BF-EA07-4CCA-A148-AC425B694C50">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-6F888B25-FB84-456F-BF6E-675C955D3E52">Transaction Interaction and Isolation Level</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7">Setting Isolation Levels</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C">Serializable Transactions and Referential Integrity</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-A64426E3-1A1E-48CF-BF6B-1452BA76E179">READ COMMITTED and SERIALIZABLE Isolation Levels</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS141"></a><a id="ADFNS142"></a><a id="ADFNS143"></a><a id="ADFNS99871"></a><div class="props_rev_3"><a id="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52" name="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52"></a><h4 id="ADFNS-GUID-6F888B25-FB84-456F-BF6E-675C955D3E52" class="sect4">Transaction Interaction and Isolation Level</h4>
                  <div>
                     <p>The ANSI/ISO SQL standard defines three kinds of transaction interaction:</p>
                     <div class="tblformal" id="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__GUID-FF7D9FCC-FF29-487C-8CA1-90D9479E7DE4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists and defines the three kinds of transaction interactions that the ANSI/ISO SQL standard defines." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d22101e6727">Transaction Interaction</th>
                                 <th align="left" valign="bottom" width="70%" id="d22101e6730">Definition</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d22101e6735" headers="d22101e6727 ">
                                    <p>Dirty read</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d22101e6735 d22101e6730 ">
                                    <p>Transaction A reads uncommitted changes made by transaction B.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d22101e6742" headers="d22101e6727 ">
                                    <p>Unrepeatable read</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d22101e6742 d22101e6730 ">
                                    <p>Transaction A reads data, transaction B changes the data and commits the changes, and transaction A rereads the data and sees the changes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d22101e6749" headers="d22101e6727 ">
                                    <p>Phantom read</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d22101e6749 d22101e6730 ">
                                    <p>Transaction A runs a query, transaction B inserts new rows and commits the change, and transaction A repeats the query and sees the new rows.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The kinds of interactions that a transaction can have is determined by its isolation level. The ANSI/ISO SQL standard defines four transaction isolation levels. <a href="sql-processing-for-application-developers.html#GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__G1026777" title="This table lists the four transaction isolation levels that the ANSI/ISO SQL standard defines and shows the kinds of transaction interactions possible at each level.">Table 8-4</a> shows what kind of interactions are possible at each isolation level.
                     </p>
                     <div class="tblformal" id="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__G1026777">
                        <p class="titleintable">Table 8-4  ANSI/ISO SQL Isolation Levels and Possible Transaction Interactions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title=" ANSI/ISO SQL Isolation Levels and Possible Transaction Interactions" summary="This table lists the four transaction isolation levels that the ANSI/ISO SQL standard defines and shows the kinds of transaction interactions possible at each level." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d22101e6774">Isolation Level</th>
                                 <th align="left" valign="bottom" width="15%" id="d22101e6777">Dirty Read</th>
                                 <th align="left" valign="bottom" width="24%" id="d22101e6780">Unrepeatable Read</th>
                                 <th align="left" valign="bottom" width="37%" id="d22101e6783">Phantom Read</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6788" headers="d22101e6774 ">
                                    <p><code class="codeph">READ</code> <code class="codeph">UNCOMMITTED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d22101e6788 d22101e6777 ">
                                    <p>Possible</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d22101e6788 d22101e6780 ">
                                    <p>Possible</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e6788 d22101e6783 ">
                                    <p>Possible</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6805" headers="d22101e6774 ">
                                    <p><code class="codeph">READ</code> <code class="codeph">COMMITTED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d22101e6805 d22101e6777 ">
                                    <p>Not possible</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d22101e6805 d22101e6780 ">
                                    <p>Possible</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e6805 d22101e6783 ">
                                    <p>Possible</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6822" headers="d22101e6774 ">
                                    <p><code class="codeph">REPEATABLE</code> <code class="codeph">READ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d22101e6822 d22101e6777 ">
                                    <p>Not possible</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d22101e6822 d22101e6780 ">
                                    <p>Not possible</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e6822 d22101e6783 ">
                                    <p>Possible</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6839" headers="d22101e6774 ">
                                    <p><code class="codeph">SERIALIZABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d22101e6839 d22101e6777 ">
                                    <p>Not possible</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d22101e6839 d22101e6780 ">
                                    <p>Not possible</p>
                                 </td>
                                 <td align="left" valign="top" width="37%" headers="d22101e6839 d22101e6783 ">
                                    <p>Not possible</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="sql-processing-for-application-developers.html#GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__G1026806" title="This table describes the action of Oracle Database with respect to the isolation levels that the ANSI/ISO SQL standard SQL92 defines.">Table 8-5</a> shows which ANSI/ISO SQL transaction isolation levels Oracle Database provides.
                     </p>
                     <div class="tblformal" id="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__G1026806">
                        <p class="titleintable">Table 8-5  ANSI/ISO SQL Isolation Levels Provided by Oracle Database</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title=" ANSI/ISO SQL Isolation Levels Provided by Oracle Database" summary="This table describes the action of Oracle Database with respect to the isolation levels that the ANSI/ISO SQL standard SQL92 defines." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d22101e6868">Isolation Level</th>
                                 <th align="left" valign="bottom" width="76%" id="d22101e6871">Provided by Oracle Database</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6876" headers="d22101e6868 ">
                                    <p><code class="codeph">READ</code> <code class="codeph">UNCOMMITTED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d22101e6876 d22101e6871 ">
                                    <p>No. Oracle Database never permits "dirty reads." Some other database products use this undesirable technique to improve throughput, but it is not required for high throughput with Oracle Database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6887" headers="d22101e6868 ">
                                    <p><code class="codeph">READ</code> <code class="codeph">COMMITTED</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d22101e6887 d22101e6871 ">
                                    <p>Yes, by default. In fact, because an Oracle Database query sees only data that was committed at the beginning of the query (the snapshot time), Oracle Database offers more consistency than the ANSI/ISO SQL standard for <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> isolation requires.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6904" headers="d22101e6868 ">
                                    <p><code class="codeph">REPEATABLE</code> <code class="codeph">READ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d22101e6904 d22101e6871 ">
                                    <p>Yes, if you set the transaction isolation level to <code class="codeph">SERIALIZABLE</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d22101e6918" headers="d22101e6868 ">
                                    <p><code class="codeph">SERIALIZABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d22101e6918 d22101e6871 ">
                                    <p>Yes, if you set the transaction isolation level to <code class="codeph">SERIALIZABLE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="sql-processing-for-application-developers.html#GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__I1025588">Figure 8-1</a> shows how an arbitrary transaction (that is, one that is either <code class="codeph">SERIALIZABLE</code> or <code class="codeph">READ</code> <code class="codeph">COMMITTED</code>) interacts with a serializable transaction.
                     </p>
                     <div class="figure" id="GUID-6F888B25-FB84-456F-BF6E-675C955D3E52__I1025588">
                        <p class="titleinfigure">Figure 8-1 Interaction Between Serializable Transaction and Another Transaction</p><img src="img/adfns053.gif" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/adfns053.html"><br><a href="img_text/adfns053.html">Description of "Figure 8-1 Interaction Between Serializable Transaction and Another Transaction"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADFNS99932"></a><div class="props_rev_3"><a id="GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7" name="GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7"></a><h4 id="ADFNS-GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7" class="sect4">Setting Isolation Levels</h4>
                  <div>
                     <div class="section">
                        <p>To set the transaction isolation level for every transaction in your session, use the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                        </p>
                        <p>To set the transaction isolation level for a specific transaction, use the <code class="codeph">ISOLATION</code> <code class="codeph">LEVEL</code> clause of the <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> statement. The <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> statement, must be the first statement in the transaction.
                        </p>
                        <div class="infoboxnote" id="GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7__GUID-1933FF5D-C495-4C7F-86D1-1171209840D6">
                           <p class="notep1">Note:</p>
                           <p>If you set the transaction isolation level to <code class="codeph">SERIALIZABLE</code>, then you must use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement to set the <code class="codeph">INITRANS</code> parameter to at least 3. Use higher values for tables for which many transactions update the same blocks. For more information about <code class="codeph">INITRANS</code>.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-E79D04D4-6543-49B3-BAEB-D6585EE67AD7__GUID-56ABCF23-EAEC-428A-978C-E3DA47DC62B2">
                           <p class="notep1">See Also:</p><a href="../sqlrf/Introduction-to-Oracle-SQL.html#SQLRF-GUID-049B7AE8-11E1-4110-B3E4-D117907D77AC" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS144"></a><a id="ADFNS99996"></a><div class="props_rev_3"><a id="GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C" name="GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C"></a><h4 id="ADFNS-GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C" class="sect4">Serializable Transactions and Referential Integrity</h4>
                  <div>
                     <p>Because Oracle Database does not use read locks, even in <code class="codeph">SERIALIZABLE</code> transactions, data read by one transaction can be overwritten by another. Therefore, transactions that perform database consistency checks at the application level must not assume that the data they read does not change during the transaction (even though such changes are invisible to the transaction). Code your application-level consistency checks carefully, even when using <code class="codeph">SERIALIZABLE</code> transactions.
                     </p>
                     <p>In <a href="sql-processing-for-application-developers.html#GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C__I1020116">Figure 8-2</a>, transactions A and B (which are either <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> or <code class="codeph">SERIALIZABLE</code>) perform application-level checks to maintain the referential integrity of the parent/child relationship between two tables. Transaction A queries the parent table to check that it has a row with a specific primary key value before inserting corresponding child rows into the child table. Transaction B queries the child table to check that no child rows exist for a specific primary key value before deleting the corresponding parent row from the parent table. Both transactions assume (but do not ensure) that the data they read does not change before the transaction completes.
                     </p>
                     <div class="figure" id="GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C__I1020116">
                        <p class="titleinfigure">Figure 8-2 Referential Integrity Check</p><img src="img/adfns054.gif" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/adfns054.html"><br><a href="img_text/adfns054.html">Description of "Figure 8-2 Referential Integrity Check"</a></div>
                     <!-- class="figure" -->
                     <p>The query by transaction A does not prevent transaction B from deleting the parent row, and the query by transaction B does not prevent transaction A from inserting child rows. Therefore, this can happen:</p>
                     <ol>
                        <li>
                           <p>Transaction A queries the parent table and finds the specified parent row.</p>
                        </li>
                        <li>
                           <p>Transaction B queries the child table and finds no child rows for the specified parent row.</p>
                        </li>
                        <li id="GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C__BEJDJJFC">
                           <p>Having found the specified parent row, transaction A inserts the corresponding child rows into the child table.</p>
                        </li>
                        <li>
                           <p>Having found no child rows for the specified parent row, transaction B deletes the specified parent row from the parent table.</p>
                           <p>Now the child rows that transaction A inserted in step&nbsp;<a href="sql-processing-for-application-developers.html#GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C__BEJDJJFC">3</a> have no parent row.
                           </p>
                        </li>
                     </ol>
                     <p>The preceding result can occur even if both A and B are <code class="codeph">SERIALIZABLE</code> transactions, because neither transaction prevents the other from changing the data that it reads to check consistency.
                     </p>
                     <p>Ensuring that data queried by one transaction is not concurrently changed or deleted by another requires more transaction isolation than the ANSI/ISO SQL standard <code class="codeph">SERIALIZABLE</code> isolation level provides. However, in Oracle Database:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Transaction A can use a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement to query and lock the parent row, thereby preventing transaction B from deleting it.
                           </p>
                        </li>
                        <li>
                           <p>Transaction B can prevent transaction A from finding the parent row (thereby preventing A from inserting the child rows) by reversing the order of its processing steps. That is, transaction B can:</p>
                           <ol>
                              <li>
                                 <p>Delete the parent row.</p>
                              </li>
                              <li>
                                 <p>Query the child table.</p>
                              </li>
                              <li>
                                 <p>If the deleted parent row has child rows in the child table, then roll back the deletion of the parent row.</p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                     <p>Alternatively, you can enforce referential integrity with a trigger. Instead of having transaction A query the parent table, define on the child table a row-level <code class="codeph">BEFORE</code> <code class="codeph">INSERT</code> trigger that does this:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Queries the parent table with a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement, thereby ensuring that if the parent row exists, then it remains in the database for the duration of the transaction that inserts the child rows.
                           </p>
                        </li>
                        <li>
                           <p>Rejects the insertion of the child rows if the parent row does not exist.</p>
                        </li>
                     </ul>
                     <p>A trigger runs SQL statements in the context of the triggering statement (that is, the triggering and triggered statements see the database in the same state). Therefore, if a <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> transaction runs the triggering statement, then the triggered statements see the database as it was when the triggering statement began to execute. If a <code class="codeph">SERIALIZABLE</code> transaction runs the triggering statement, then the triggered statements see the database as it was at the beginning of the transaction. In either case, using <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> in the trigger correctly enforces referential integrity.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C__GUID-46889C84-5771-48D2-A18E-9B8117411FA8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/SELECT.html#SQLRF55370" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause of the <code class="codeph">SELECT</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-triggers.html#LNPLS770" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using triggers to maintain referential integrity between parent and child tables
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS980"></a><a id="ADFNS99999"></a><div class="props_rev_3"><a id="GUID-A64426E3-1A1E-48CF-BF6B-1452BA76E179" name="GUID-A64426E3-1A1E-48CF-BF6B-1452BA76E179"></a><h4 id="ADFNS-GUID-A64426E3-1A1E-48CF-BF6B-1452BA76E179" class="sect4">READ COMMITTED and SERIALIZABLE Isolation Levels</h4>
                  <div>
                     <p>Oracle Database provides two transaction isolation levels, <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> and <code class="codeph">SERIALIZABLE</code>. Both levels provide a high degree of consistency and concurrency, reduce contention, and are designed for real-world applications. This topic compares them and explains how to choose between them.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A64426E3-1A1E-48CF-BF6B-1452BA76E179__GUID-EA46ACB1-5941-4C98-9AC8-367113BF17ED">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-AA59261B-EAA7-40F1-AAF4-D38A921B4AC7">Transaction Set Consistency Differences</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1">Choosing Transaction Isolation Levels</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS981"></a><a id="ADFNS99997"></a><div class="props_rev_3"><a id="GUID-AA59261B-EAA7-40F1-AAF4-D38A921B4AC7" name="GUID-AA59261B-EAA7-40F1-AAF4-D38A921B4AC7"></a><h5 id="ADFNS-GUID-AA59261B-EAA7-40F1-AAF4-D38A921B4AC7" class="sect5">Transaction Set Consistency Differences</h5>
                     <div>
                        <p>An operation (query or transaction) is <strong class="term">transaction set consistent</strong> if all of its read operations return data written by the same set of committed transactions. When an operation is not transaction set consistent, some of its read operations reflect the changes of one set of transactions and others reflect the changes of other sets of transactions; that is, the operation sees the database in a state that reflects no single set of committed transactions.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AA59261B-EAA7-40F1-AAF4-D38A921B4AC7__GUID-1DBF254E-F7CB-42B5-B87A-BDC8483338ED">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-1293D396-CE63-46E7-BAAB-B140709C15B1">Oracle Database</a></p>
                              </li>
                              <li>
                                 <p><a href="sql-processing-for-application-developers.html#GUID-90BB830A-DC7E-49DD-B778-5FEEE7FDF00F">Other Database Systems</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS982"></a><div class="props_rev_3"><a id="GUID-1293D396-CE63-46E7-BAAB-B140709C15B1" name="GUID-1293D396-CE63-46E7-BAAB-B140709C15B1"></a><h6 id="ADFNS-GUID-1293D396-CE63-46E7-BAAB-B140709C15B1" class="sect6">Oracle Database</h6>
                        <div>
                           <p>Oracle Database transactions with <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> isolation level are transaction set consistent on an individual-statement basis, because all rows that a query reads must be committed before the query begins.
                           </p>
                           <p>Oracle Database transactions with <code class="codeph">SERIALIZABLE</code> isolation level are transaction set consistent on an individual-transaction basis, because all statements in a <code class="codeph">SERIALIZABLE</code> transaction run on an image of the database as it was at the beginning of the transaction.
                           </p>
                        </div>
                     </div><a id="ADFNS983"></a><div class="props_rev_3"><a id="GUID-90BB830A-DC7E-49DD-B778-5FEEE7FDF00F" name="GUID-90BB830A-DC7E-49DD-B778-5FEEE7FDF00F"></a><h6 id="ADFNS-GUID-90BB830A-DC7E-49DD-B778-5FEEE7FDF00F" class="sect6">Other Database Systems</h6>
                        <div>
                           <p>In other database systems, a single query with <code class="codeph">READ</code> <code class="codeph">UNCOMMITTED</code> isolation level is not transaction set consistent, because it might see only a subset of the changes made by another transaction. For example, a join of a master table with a detail table can see a master record inserted by another transaction, but not the corresponding details inserted by that transaction (or the reverse). <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> isolation level avoids this problem, providing more consistency than read-locking systems do.
                           </p>
                           <p>In read-locking systems, at the cost of preventing concurrent updates, the <code class="codeph">REPEATABLE</code> <code class="codeph">READ</code> isolation level provides transaction set consistency at the statement level, but not at the transaction level. Due to the absence of phantom read protection, two queries in the same transaction can see data committed by different sets of transactions. In these systems, only the throughput-limiting and deadlock-susceptible <code class="codeph">SERIALIZABLE</code> isolation level provides transaction set consistency at the transaction level.
                           </p>
                        </div>
                     </div>
                  </div><a id="ADFNS145"></a><a id="ADFNS99998"></a><div class="props_rev_3"><a id="GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1" name="GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1"></a><h5 id="ADFNS-GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1" class="sect5">Choosing Transaction Isolation Levels</h5>
                     <div>
                        <div class="section">
                           <p>The choice of transaction isolation level depends on performance and consistency needs and application coding requirements. There is a trade-off between concurrency (transaction throughput) and consistency. Consider the application and workload when choosing isolation levels for its transactions. Different transactions can have different isolation levels.</p>
                           <p>For environments with many concurrent users rapidly submitting transactions, consider expected transaction arrival rate, response time demands, and required degree of consistency.</p>
                           <p><code class="codeph">READ</code> <code class="codeph">COMMITTED</code> isolation can provide considerably more concurrency with a somewhat increased risk of inconsistent results (from unrepeatable and phantom reads) for some transactions.
                           </p>
                           <p><code class="codeph">SERIALIZABLE</code> isolation provides somewhat more consistency (by protecting against phantoms and unrepeatable reads), which might be important where a read/write transaction runs a query more than once. However, <code class="codeph">SERIALIZABLE</code> isolation requires applications to check for the "cannot serialize access" error, and this checking can significantly reduce throughput in an environment with many concurrent transactions accessing the same data for update.
                           </p>
                           <p>As explained in <span>Serializable Transactions and Referential Integrity</span> reads do not block writes in either <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> or <code class="codeph">SERIALIZABLE</code> transactions. 
                           </p>
                           <p><a href="sql-processing-for-application-developers.html#GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1__G1026829" title="This table summarizes the key similarities and differences between READ COMMITTED and SERIALIZABLE transactions.">Table 8-6</a> summarizes the similarities and differences between <code class="codeph">READ</code> <code class="codeph">COMMITTED</code> and <code class="codeph">SERIALIZABLE</code> transactions.
                           </p>
                           <div class="tblformal" id="GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1__G1026829">
                              <p class="titleintable">Table 8-6  Comparison of READ COMMITTED and SERIALIZABLE Transactions</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title=" Comparison of READ COMMITTED and SERIALIZABLE Transactions" summary="This table summarizes the key similarities and differences between READ COMMITTED and SERIALIZABLE transactions." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="47%" id="d22101e8027">Operation</th>
                                       <th align="left" valign="bottom" width="20%" id="d22101e8030">READ COMMITTED</th>
                                       <th align="left" valign="bottom" width="33%" id="d22101e8033">SERIALIZABLE</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8038" headers="d22101e8027 ">
                                          <p>Dirty write</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8038 d22101e8030 ">
                                          <p>Not Possible</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8038 d22101e8033 ">
                                          <p>Not Possible</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8048" headers="d22101e8027 ">
                                          <p>Dirty read</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8048 d22101e8030 ">
                                          <p>Not Possible</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8048 d22101e8033 ">
                                          <p>Not Possible</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8058" headers="d22101e8027 ">
                                          <p>Unrepeatable read</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8058 d22101e8030 ">
                                          <p>Possible</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8058 d22101e8033 ">
                                          <p>Not Possible</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8068" headers="d22101e8027 ">
                                          <p>Phantom read</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8068 d22101e8030 ">
                                          <p>Possible</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8068 d22101e8033 ">
                                          <p>Not Possible</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8078" headers="d22101e8027 ">
                                          <p>Compliant with ANSI/ISO SQL 92</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8078 d22101e8030 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8078 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8088" headers="d22101e8027 ">
                                          <p>Read snapshot time</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8088 d22101e8030 ">
                                          <p>Statement</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8088 d22101e8033 ">
                                          <p>Transaction</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8098" headers="d22101e8027 ">
                                          <p>Transaction set consistency</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8098 d22101e8030 ">
                                          <p>Statement level</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8098 d22101e8033 ">
                                          <p>Transaction level</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8108" headers="d22101e8027 ">
                                          <p>Row-level locking</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8108 d22101e8030 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8108 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8118" headers="d22101e8027 ">
                                          <p>Readers block writers</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8118 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8118 d22101e8033 ">
                                          <p>No</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8128" headers="d22101e8027 ">
                                          <p>Writers block readers</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8128 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8128 d22101e8033 ">
                                          <p>No</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8138" headers="d22101e8027 ">
                                          <p>Different-row writers block writers</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8138 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8138 d22101e8033 ">
                                          <p>No</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8149" headers="d22101e8027 ">
                                          <p>Same-row writers block writers</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8149 d22101e8030 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8149 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8159" headers="d22101e8027 ">
                                          <p>Waits for blocking transaction</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8159 d22101e8030 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8159 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8169" headers="d22101e8027 ">
                                          <p>Subject to "cannot serialize access" error</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8169 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8169 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8179" headers="d22101e8027 ">
                                          <p>Error after blocking transaction terminates</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8179 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8179 d22101e8033 ">
                                          <p>No</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d22101e8189" headers="d22101e8027 ">
                                          <p>Error after blocking transaction commits</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d22101e8189 d22101e8030 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d22101e8189 d22101e8033 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-AFD88739-88E5-446F-8FAA-0B56473A43E1__NOTE-1318-C87A91D3">
                              <p class="notep1">See Also:</p>
                              <p><a href="sql-processing-for-application-developers.html#GUID-0D8BC3FD-832F-4CF2-B6E0-75DD1D3D5A4C">Serializable Transactions and Referential Integrity</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS187"></a><div class="props_rev_3"><a id="GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2" name="GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2"></a><h3 id="ADFNS-GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2" class="sect3">Nonblocking and Blocking DDL Statements</h3>
               <div>
                  <p>The distinction between nonblocking and blocking DDL statements matters only for DDL statements that change either tables or indexes (which depend on tables).</p>
                  <p>When a session issues a DDL statement that affects object X, the session waits until every concurrent DML statement that references X is either committed or rolled back.</p>
                  <p>While the session waits, concurrent sessions might issue new DML statements. If the DDL statement is nonblocking, then the new DML statements execute immediately. If the DDL statement is blocking, then the new DML statements execute after the DDL statement completes, either successfully or with an error.</p>
                  <p>The <code class="codeph">DDL_LOCK_TIMEOUT</code> parameter affects blocking DDL statements (but not nonblocking DDL statements). Therefore, a blocking DDL statement can complete with error <code class="codeph">ORA-00054</code> (resource busy and acquire with <code class="codeph">NOWAIT</code> specified or timeout expired). 
                  </p>
                  <p>A DDL statement that applies to a partition of a table is blocking for that partition but nonblocking for other partitions of the same table.</p>
                  <div class="infoboxnote" id="GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2__GUID-88A6F615-73C3-4E1B-8D26-BD8BC51FE434">
                     <p class="notep1">Note:</p>
                     <p>If supplemental logging is enabled at database level (for a  multitenant container database or pluggable database), then the database treats nonblocking DDL statements like blocking DDL statements.</p>
                  </div>
                  <div class="infoboxnote" id="GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2__GUID-370DBF89-9963-4EF8-ABE6-9824AD65EC79">
                     <p class="notep1">Caution:</p>
                     <p>Do not issue a nonblocking DDL statement in an autonomous transaction. See <a href="sql-processing-for-application-developers.html#GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26">Autonomous Transactions</a> for information about autonomous transactions
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2__NOTE-139-C8AC6E69">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/DDL_LOCK_TIMEOUT.html#REFRN10267" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">DDL_LOCK_TIMEOUT</code> parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Automatic-and-Manual-Locking-Mechanisms-During-SQL-Operations.html#SQLRF55501" target="_blank">B Automatic and Manual Locking Mechanisms During SQL Operations</a> for a list of nonblocking DDL statements
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52506" target="_blank">ALTER DATABASE</a> for information about enabling and disabling supplemental logging
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS146"></a><a id="ADFNS147"></a><a id="ADFNS984"></a><a id="ADFNS00205"></a><div class="props_rev_3"><a id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26" name="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26"></a><h3 id="ADFNS-GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26" class="sect3">Autonomous Transactions</h3>
               <div>
                  <div class="infoboxnote" id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__GUID-C34247C5-19EA-4935-B7A5-83B57261809C">
                     <p class="notep1">Caution:</p>
                     <p>Do not issue a nonblocking DDL statement in an autonomous transaction.</p>
                  </div>
                  <p>An <strong class="term">autonomous transaction</strong> (AT) is an independent transaction started by another transaction, the <strong class="term">main transaction</strong> (MT). An autonomous transaction lets you suspend the main transaction, do SQL operations, commit or roll back those operations, and then resume the main transaction.
                  </p>
                  <p>For example, in a stock purchase transaction, you might want to commit customer information regardless of whether the purchase succeeds. Or, you might want to log error messages to a debug table even if the transaction rolls back. Autonomous transactions let you do such tasks.</p>
                  <p>An autonomous transaction runs within an <strong class="term">autonomous scope</strong>; that is, within the scope of an <span class="bold">autonomous routine</span>—a routine that you mark with the <code class="codeph">AUTONOMOUS_TRANSACTION</code> pragma. In this context, a <span class="bold">routine</span> is one of these:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Schema-level (not nested) anonymous PL/SQL block</p>
                     </li>
                     <li>
                        <p>Standalone, package, or nested subprogram</p>
                     </li>
                     <li>
                        <p>Method of an ADT</p>
                     </li>
                     <li>
                        <p>Noncompound trigger</p>
                     </li>
                  </ul>
                  <p>An autonomous routine can commit multiple autonomous transactions.</p>
                  <p><a href="sql-processing-for-application-developers.html#GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__I1025816">Figure 8-3</a> shows how control flows from the main transaction (<code class="codeph">proc1</code>) to an autonomous routine (<code class="codeph">proc2</code>) and back again. The autonomous routine commits two transactions (AT1 and AT2) before control returns to the main transaction.
                  </p>
                  <div class="figure" id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__I1025816">
                     <p class="titleinfigure">Figure 8-3 Transaction Control Flow</p><img src="img/adfns055.gif" alt="Description of Figure 8-3 follows" title="Description of Figure 8-3 follows" longdesc="img_text/adfns055.html"><br><a href="img_text/adfns055.html">Description of "Figure 8-3 Transaction Control Flow"</a></div>
                  <!-- class="figure" -->
                  <p>When you enter the executable section of an autonomous transaction, the main transaction suspends. When you exit the transaction, the main transaction resumes. <code class="codeph">COMMIT</code> and <code class="codeph">ROLLBACK</code> end the active autonomous transaction but do not exit the autonomous transaction. As <a href="sql-processing-for-application-developers.html#GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__I1025816">Figure 8-3</a> shows, when one transaction ends, the next SQL statement begins another transaction.
                  </p>
                  <p>More characteristics of autonomous transactions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The changes an autonomous transaction effects do not depend on the state or the eventual disposition of the main transaction. For example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An autonomous transaction does not see changes made by the main transaction.</p>
                           </li>
                           <li>
                              <p>When an autonomous transaction commits or rolls back, it does not affect the outcome of the main transaction.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The changes an autonomous transaction effects are visible to other transactions as soon as that autonomous transaction commits. Therefore, users can access the updated information without having to wait for the main transaction to commit.</p>
                     </li>
                     <li>
                        <p>Autonomous transactions can start other autonomous transactions.</p>
                     </li>
                  </ul>
                  <p><a href="sql-processing-for-application-developers.html#GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__I1020443">Figure 8-4</a> shows some possible sequences that autonomous transactions can follow.
                  </p>
                  <div class="figure" id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__I1020443">
                     <p class="titleinfigure">Figure 8-4 Possible Sequences of Autonomous Transactions</p><img src="img/adfns056.gif" alt="Description of Figure 8-4 follows" title="Description of Figure 8-4 follows" longdesc="img_text/adfns056.html"><br><a href="img_text/adfns056.html">Description of "Figure 8-4 Possible Sequences of Autonomous Transactions"</a></div>
                  <!-- class="figure" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__GUID-B5261063-6B28-468C-B649-F0B150D5209A">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36">Examples of Autonomous Transactions</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE">Declaring Autonomous Routines</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BA46A896-4998-4E3C-ACAE-334B8716BC26__GUID-B723A11B-F002-4A69-B150-B502E23CB826">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/static-sql.html#LNPLS00609" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for detailed information about autonomous transactions
                              </p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2">Nonblocking and Blocking DDL Statements</a> for information about nonblocking DDL statements
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1053"></a><a id="ADFNS148"></a><a id="ADFNS99929"></a><div class="props_rev_3"><a id="GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36" name="GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36"></a><h4 id="ADFNS-GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36" class="sect4">Examples of Autonomous Transactions</h4>
                  <div>
                     <p>This section shows examples of autonomous transactions.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36__GUID-E5A59F9D-F2A3-4939-8650-A26E68E96B4A">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30">Ordering a Product</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-515E6E30-6FAB-4C45-AB6F-85614EB6BC05">Withdrawing Money from a Bank Account</a></p>
                           </li>
                        </ul>
                        <p>As these examples show, there are four possible outcomes when you use autonomous and main transactions (see <a href="sql-processing-for-application-developers.html#GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36__g1026901" title="This table summarizes the four possible outcomes of autonomous and main transactions.">Table 8-7</a>). There is no dependency between the outcome of an autonomous transaction and that of a main transaction.
                        </p>
                        <div class="tblformal" id="GUID-1B7FC7F4-DD72-43C1-B93A-BD6DBF450A36__g1026901">
                           <p class="titleintable">Table 8-7  Possible Transaction Outcomes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title=" Possible Transaction Outcomes" summary="This table summarizes the four possible outcomes of autonomous and main transactions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d22101e8756">Autonomous Transaction</th>
                                    <th align="left" valign="bottom" width="70%" id="d22101e8759">Main Transaction</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d22101e8764" headers="d22101e8756 ">
                                       <p>Commits</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d22101e8764 d22101e8759 ">
                                       <p>Commits</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d22101e8771" headers="d22101e8756 ">
                                       <p>Commits</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d22101e8771 d22101e8759 ">
                                       <p>Rolls back</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d22101e8778" headers="d22101e8756 ">
                                       <p>Rolls back</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d22101e8778 d22101e8759 ">
                                       <p>Commits</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d22101e8785" headers="d22101e8756 ">
                                       <p>Rolls back</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d22101e8785 d22101e8759 ">
                                       <p>Rolls back</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS149"></a><a id="ADFNS99928"></a><div class="props_rev_3"><a id="GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30" name="GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30"></a><h5 id="ADFNS-GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30" class="sect5">Ordering a Product</h5>
                     <div>
                        <div class="section">
                           <p><a href="sql-processing-for-application-developers.html#GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30__I1019975">Figure 8-5</a> shows an example of a customer ordering a product. The customer information (such as name, address, phone) is committed to a customer information table—even though the sale does not go through.
                           </p>
                           <div class="figure" id="GUID-02B23DF5-14DD-4960-89D2-FE573E20CE30__I1019975">
                              <p class="titleinfigure">Figure 8-5 Example: A Buy Order</p><img src="img/adfns057.gif" alt="Description of Figure 8-5 follows" title="Description of Figure 8-5 follows" longdesc="img_text/adfns057.html"><br><a href="img_text/adfns057.html">Description of "Figure 8-5 Example: A Buy Order"</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS99927"></a><div class="props_rev_3"><a id="GUID-515E6E30-6FAB-4C45-AB6F-85614EB6BC05" name="GUID-515E6E30-6FAB-4C45-AB6F-85614EB6BC05"></a><h5 id="ADFNS-GUID-515E6E30-6FAB-4C45-AB6F-85614EB6BC05" class="sect5">Withdrawing Money from a Bank Account</h5>
                     <div>
                        <p>In this example, a customer tries to withdraw money from a bank account. In the process, a main transaction invokes one of two autonomous transaction scopes (AT Scope&nbsp;1 or AT Scope 2).</p>
                        <p>The possible scenarios for this transaction are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A">Scenario 1: Sufficient Funds</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C">Scenario 2: Insufficient Funds with Overdraft Protection</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-079D9D3B-5C15-4240-9718-75E009CC9B82">Scenario 3: Insufficient Funds Without Overdraft Protection</a></p>
                           </li>
                        </ul>
                     </div><a id="ADFNS151"></a><a id="ADFNS150"></a><div class="props_rev_3"><a id="GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A" name="GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A"></a><h6 id="ADFNS-GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A" class="sect6">Scenario 1: Sufficient Funds</h6>
                        <div>
                           <p>There are sufficient funds to cover the withdrawal, so the bank releases the funds (see <a href="sql-processing-for-application-developers.html#GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A__I1007457">Figure 8-6</a>).
                           </p>
                           <div class="figure" id="GUID-7F0751EF-2319-4A2E-A0C7-2BABC22FA11A__I1007457">
                              <p class="titleinfigure">Figure 8-6 Bank Withdrawal—Sufficient Funds</p><img src="img/adfns058.gif" alt="Description of Figure 8-6 follows" title="Description of Figure 8-6 follows" longdesc="img_text/adfns058.html"><br><a href="img_text/adfns058.html">Description of "Figure 8-6 Bank Withdrawal—Sufficient Funds"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div><a id="ADFNS153"></a><a id="ADFNS152"></a><div class="props_rev_3"><a id="GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C" name="GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C"></a><h6 id="ADFNS-GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C" class="sect6">Scenario 2: Insufficient Funds with Overdraft Protection</h6>
                        <div>
                           <p>There are insufficient funds to cover the withdrawal, but the customer has overdraft protection, so the bank releases the funds (see <a href="sql-processing-for-application-developers.html#GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C__I1007467">Figure 8-7</a>).
                           </p>
                           <div class="figure" id="GUID-944437AA-49F7-4D45-804A-B6D73EFC9B5C__I1007467">
                              <p class="titleinfigure">Figure 8-7 Bank Withdrawal—Insufficient Funds with Overdraft Protection</p><img src="img/adfns059.gif" alt="Description of Figure 8-7 follows" title="Description of Figure 8-7 follows" longdesc="img_text/adfns059.html"><br><a href="img_text/adfns059.html">Description of "Figure 8-7 Bank Withdrawal—Insufficient Funds with Overdraft Protection"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div><a id="ADFNS155"></a><a id="ADFNS154"></a><div class="props_rev_3"><a id="GUID-079D9D3B-5C15-4240-9718-75E009CC9B82" name="GUID-079D9D3B-5C15-4240-9718-75E009CC9B82"></a><h6 id="ADFNS-GUID-079D9D3B-5C15-4240-9718-75E009CC9B82" class="sect6">Scenario 3: Insufficient Funds Without Overdraft Protection</h6>
                        <div>
                           <p>There are insufficient funds to cover the withdrawal and the customer does not have overdraft protection, so the bank withholds the requested funds (see <a href="sql-processing-for-application-developers.html#GUID-079D9D3B-5C15-4240-9718-75E009CC9B82__I1007477">Figure 8-8</a>).
                           </p>
                           <div class="figure" id="GUID-079D9D3B-5C15-4240-9718-75E009CC9B82__I1007477">
                              <p class="titleinfigure">Figure 8-8 Bank Withdrawal—Insufficient Funds Without Overdraft Protection</p><img src="img/adfns060.gif" alt="Description of Figure 8-8 follows" title="Description of Figure 8-8 follows" longdesc="img_text/adfns060.html"><br><a href="img_text/adfns060.html">Description of "Figure 8-8 Bank Withdrawal—Insufficient Funds Without Overdraft Protection"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS156"></a><a id="ADFNS99926"></a><div class="props_rev_3"><a id="GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE" name="GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE"></a><h4 id="ADFNS-GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE" class="sect4">Declaring Autonomous Routines</h4>
                  <div>
                     <div class="section">
                        <p>To declare an autonomous routine, use <code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code>, which instructs the PL/SQL compiler to mark the routine as autonomous.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE__GUID-5EE6C366-F574-499A-AC60-22425DB9743A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnpls/AUTONOMOUS_TRANSACTION-pragma.html#LNPLS01302" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about <code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code></p>
                        </div>
                        <p>In <a href="sql-processing-for-application-developers.html#GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE__BEJHCBDJ">Example 8-3</a>, the function <code class="codeph">balance</code> is autonomous.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E39BBE66-50F9-4F5F-925F-19EFD2E3CFFE__BEJHCBDJ">
                        <p class="titleinexample">Example 8-3 Marking a Package Subprogram as Autonomous</p><pre class="oac_no_warn" dir="ltr">-- Create table for package to use:
 
DROP TABLE accounts;
CREATE TABLE accounts (account INTEGER, balance REAL);
 
-- Create package:
 
CREATE OR REPLACE PACKAGE banking AS
  FUNCTION balance (acct_id INTEGER) RETURN REAL;
  -- Additional functions and packages
END banking;
/
CREATE OR REPLACE PACKAGE BODY banking AS
  FUNCTION balance (acct_id INTEGER) RETURN REAL IS
    <span class="bold">PRAGMA AUTONOMOUS_TRANSACTION</span>;
    my_bal  REAL;
  BEGIN
    SELECT balance INTO my_bal FROM accounts WHERE account=acct_id;
    RETURN my_bal;
  END;
  -- Additional functions and packages
END banking;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADFNS985"></a><a id="ADFNS00206"></a><div class="props_rev_3"><a id="GUID-A6585190-E64C-4799-B554-26A2B8433E26" name="GUID-A6585190-E64C-4799-B554-26A2B8433E26"></a><h3 id="ADFNS-GUID-A6585190-E64C-4799-B554-26A2B8433E26" class="sect3">Resuming Execution After Storage Allocation Errors</h3>
               <div>
                  <div class="section">
                     <p>When a long-running transaction is interrupted by a storage allocation error, the application can suspend the statement that encountered the problem, correct the problem, and then resume executing the statement. This capability, called <strong class="term">resumable storage allocation</strong>, avoids time-consuming rollbacks. It also makes it unnecessary to split the operation into smaller pieces and write code to track its progress.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A6585190-E64C-4799-B554-26A2B8433E26__GUID-5B12AE77-19F2-44AD-95E4-22C04431AB4A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-space-for-schema-objects.html#ADMIN014" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about resumable storage allocation
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6585190-E64C-4799-B554-26A2B8433E26__GUID-5A98C511-CDDB-4221-9573-494AB01C0B56">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-F8271F52-9D89-45A4-895D-39737A47D342">What Operations Have Resumable Storage Allocation?</a></p>
                        </li>
                        <li>
                           <p><a href="sql-processing-for-application-developers.html#GUID-B2D2C768-DE44-4DF1-8E2F-EB9B453B1524">Handling Suspended Storage Allocation</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99925"></a><div class="props_rev_3"><a id="GUID-F8271F52-9D89-45A4-895D-39737A47D342" name="GUID-F8271F52-9D89-45A4-895D-39737A47D342"></a><h4 id="ADFNS-GUID-F8271F52-9D89-45A4-895D-39737A47D342" class="sect4">What Operations Have Resumable Storage Allocation?</h4>
                  <div>
                     <p>Queries, DML statements, and some DDL statements have resumable storage allocation after these kinds of errors:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Out-of-space errors, such as ORA-01653.</p>
                        </li>
                        <li>
                           <p>Space-limit errors, such as ORA-01628.</p>
                        </li>
                        <li>
                           <p>Space-quota errors, such as ORA-01536.</p>
                        </li>
                     </ul>
                     <p>Resumable storage allocation is possible whether the operation is performed directly by a SQL statement or within SQL*Loader, a stored subprogram, an anonymous PL/SQL block, or an OCI call such as <code class="codeph">OCIStmtExecute</code>.
                     </p>
                     <p>In dictionary-managed tablespaces, you cannot resume an index- or table-creating operation that encounters the limit for rollback segments or the maximum number of extents. You must use locally managed tablespaces and automatic undo management in combination with resumable storage allocation.</p>
                  </div>
               </div><a id="ADFNS986"></a><a id="ADFNS99924"></a><div class="props_rev_3"><a id="GUID-B2D2C768-DE44-4DF1-8E2F-EB9B453B1524" name="GUID-B2D2C768-DE44-4DF1-8E2F-EB9B453B1524"></a><h4 id="ADFNS-GUID-B2D2C768-DE44-4DF1-8E2F-EB9B453B1524" class="sect4">Handling Suspended Storage Allocation</h4>
                  <div>
                     <div class="section">
                        <p>When a statement in an application is suspended because of a storage allocation error, the application does not receive an error code. Therefore, either the application must use an <code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code> trigger or the DBA must periodically check for suspended statements.
                        </p>
                        <p>After the problem is corrected (usually by the DBA), the suspended statement automatically resumes execution. If the timeout period expires before the problem is corrected, then the statement raises a <code class="codeph">SERVERERROR</code> exception.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2D2C768-DE44-4DF1-8E2F-EB9B453B1524__GUID-D04E97B6-9BFB-4CA6-AC1C-04E7B5394E87">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-40B6AD12-05C0-4B61-811E-244B186A94A3">Using an AFTER SUSPEND Trigger in the Application</a></p>
                           </li>
                           <li>
                              <p><a href="sql-processing-for-application-developers.html#GUID-805211A4-BD67-4BEE-B6B2-29165C42EFCC">Checking for Suspended Statements</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS157"></a><a id="ADFNS99870"></a><div class="props_rev_3"><a id="GUID-40B6AD12-05C0-4B61-811E-244B186A94A3" name="GUID-40B6AD12-05C0-4B61-811E-244B186A94A3"></a><h5 id="ADFNS-GUID-40B6AD12-05C0-4B61-811E-244B186A94A3" class="sect5">Using an AFTER SUSPEND Trigger in the Application</h5>
                     <div>
                        <div class="section">
                           <p>In the application, an <code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code> trigger can get information about the problem by invoking subprograms in the <code class="codeph">DBMS_RESUMABLE</code> package. Then the trigger can send the information to an operator, using email (for example).
                           </p>
                           <p>To reduce the chance of out-of-space errors within the trigger itself, declare the trigger as an autonomous transaction. As an autonomous transaction, the trigger uses a rollback segment in the <code class="codeph">SYSTEM</code> tablespace. If the trigger encounters a deadlock condition because of locks held by the suspended statement, then the trigger terminates and the application receives the original error code, as if the statement were never suspended. If the trigger encounters an out-of-space condition, then both the trigger and the suspended statement are rolled back. To prevent rollback, use an exception handler in the trigger to wait for the statement to resume.
                           </p>
                           <p>The trigger in <a href="sql-processing-for-application-developers.html#GUID-40B6AD12-05C0-4B61-811E-244B186A94A3__CHDFBBJE">Example 8-4</a> handles storage errors within the database. For some kinds of errors, the trigger terminates the statement and alerts the DBA, using e‐mail. For other errors, which might be temporary, the trigger specifies that the statement waits for eight hours before resuming, expecting the storage problem to be fixed by then. To run this example, you must connect to the database as <code class="codeph">SYSDBA</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-40B6AD12-05C0-4B61-811E-244B186A94A3__GUID-CF7B9B89-D434-4D69-8098-94F499D3AF3C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../arpls/DBMS_RESUMABLE.html#ARPLS143" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../lnpls/plsql-triggers.html#LNPLS020" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-40B6AD12-05C0-4B61-811E-244B186A94A3__CHDFBBJE">
                           <p class="titleinexample">Example 8-4 AFTER SUSPEND Trigger Handles Suspended Storage Allocation</p><pre class="oac_no_warn" dir="ltr">-- Create table used by trigger body
 
DROP TABLE rbs_error;
CREATE TABLE rbs_error (
  SQL_TEXT VARCHAR2(64),
  ERROR_MSG VARCHAR2(64),
  SUSPEND_TIME VARCHAR2(64)
);
 
-- Resumable Storage Allocation

CREATE OR REPLACE TRIGGER suspend_example
  <span class="bold">AFTER SUSPEND</span>
  <span class="bold">ON DATABASE</span>
DECLARE
  cur_sid           NUMBER;
  cur_inst          NUMBER;
  err_type          VARCHAR2(64);
  object_owner      VARCHAR2(64);
  object_type       VARCHAR2(64);
  table_space_name  VARCHAR2(64);
  object_name       VARCHAR2(64);
  sub_object_name   VARCHAR2(64);
  msg_body          VARCHAR2(64);
  ret_value         BOOLEAN;
  error_txt         VARCHAR2(64);
  mail_conn         UTL_SMTP.CONNECTION;
BEGIN
 SELECT DISTINCT(SID) INTO cur_sid FROM V$MYSTAT;
 cur_inst := USERENV('instance');
 ret_value := <span class="bold">DBMS_RESUMABLE.SPACE_ERROR_INFO</span>
              <span class="bold">(err_type,</span>
              <span class="bold">object_owner,</span>
              <span class="bold">object_type,</span>
              <span class="bold">table_space_name,</span>
              <span class="bold">object_name,</span>
              <span class="bold">sub_object_name);</span>
 IF object_type = 'ROLLBACK SEGMENT' THEN
   INSERT INTO rbs_error
     (SELECT SQL_TEXT, ERROR_MSG, SUSPEND_TIME
      FROM DBA_RESUMABLE
      WHERE SESSION_ID = cur_sid
      AND INSTANCE_ID = cur_inst);

    SELECT ERROR_MSG INTO error_txt
    FROM DBA_RESUMABLE
    WHERE SESSION_ID = cur_sid
    AND INSTANCE_ID = cur_inst;

    msg_body :=
     'Space error occurred: Space limit reached for rollback segment '
     || object_name || ' on ' || to_char(SYSDATE, 'Month dd, YYYY, HH:MIam')
     || '. Error message was: ' || error_txt;

    mail_conn := UTL_SMTP.OPEN_CONNECTION('localhost', 25);
    UTL_SMTP.HELO(mail_conn, 'localhost');
    UTL_SMTP.MAIL(mail_conn, 'sender@localhost');
    UTL_SMTP.RCPT(mail_conn, 'recipient@localhost');
    UTL_SMTP.DATA(mail_conn, msg_body);
    UTL_SMTP.QUIT(mail_conn);
    <span class="bold">DBMS_RESUMABLE.ABORT(cur_sid);</span>
  ELSE
    <span class="bold">DBMS_RESUMABLE.SET_TIMEOUT(3600*8);</span>
  END IF;
  COMMIT;
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS99869"></a><div class="props_rev_3"><a id="GUID-805211A4-BD67-4BEE-B6B2-29165C42EFCC" name="GUID-805211A4-BD67-4BEE-B6B2-29165C42EFCC"></a><h5 id="ADFNS-GUID-805211A4-BD67-4BEE-B6B2-29165C42EFCC" class="sect5">Checking for Suspended Statements</h5>
                     <div>
                        <div class="section">
                           <p>If the application does not use an <code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code> trigger, then the DBA must periodically check for suspended statements, using the static data dictionary view <code class="codeph">DBA_RESUMABLE</code> .
                           </p>
                           <p>The DBA can get additional information from the dynamic performance view <code class="codeph">V$_SESSION_WAIT</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-805211A4-BD67-4BEE-B6B2-29165C42EFCC__DBA_RESUMABLEV_SESSION_WAIT-C8B4C07A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph"><a href="../refrn/DBA_RESUMABLE.html#REFRN23228" target="_blank">DBA_RESUMABLE</a></code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><a href="../refrn/V-SESSION_WAIT.html#REFRN30229" target="_blank">V$_SESSION_WAIT</a></code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>