<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports.">
      <meta name="description" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports.">
      <title>Decision Tree</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts">
      <meta property="og:description" content="Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-mining-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T04:37:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E97867-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="cur-matrix-decomposition.html" title="Previous" type="text/html">
      <link rel="next" href="expectation-maximization.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining Concepts">
    <meta name="dcterms.isVersionOf" content="DMCON">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cur-matrix-decomposition.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="expectation-maximization.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="algorithms.html" property="item" typeof="WebPage"><span property="name"> Algorithms</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Decision Tree</li>
            </ol>
            <a id="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63" name="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63"></a><a id="DMCON019"></a>
            
            <h2 id="DMCON-GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63" class="sect2"><span class="enumeration_chapter">13 </span> Decision Tree
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Learn how to use Decision Tree algorithm. Decision Tree is one of the Classification algorithms that the Oracle Data Mining supports.</p>
               <p><a id="d17304e19" class="indexterm-anchor"></a><a id="d17304e21" class="indexterm-anchor"></a><a id="d17304e25" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="decision-tree.html#GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" title="Introduces Decision Tree rules.Learn about the advantages of Decision Tree.Learn about generating XML representation of Decision Tree models.">About Decision Tree</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-542B8B8C-0327-46E3-873A-7C71C6855531" title="Predicting a target value by a sequence of questions to form or grow a Decision Tree.">Growing a Decision Tree</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" title="Fine tune the Decision Tree algorithm with various parameters.">Tuning the Decision Tree Algorithm</a></p>
                  </li>
                  <li>
                     <p><a href="decision-tree.html#GUID-D971596B-1AD0-4639-8398-05090A49835E" title="Learn how to prepare data for Decision Tree.">Data Preparation for Decision Tree</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="classification.html#GUID-3D51EC47-E686-4468-8F49-A27B5F8E8FE4" title="Learn how to predict a categorical target through Classification - the supervised mining function.">Classification</a></li>
                  </ul>
               </div>
            </div><a id="DMCON296"></a><div class="props_rev_3"><a id="GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" name="GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16"></a><h3 id="DMCON-GUID-7ABEA3A8-126C-42A3-BD3B-95DFF2F69A16" class="sect3"><span class="enumeration_section">13.1 </span>About Decision Tree
               </h3>
               <div>
                  <p>The Decision Tree algorithm, like Naive Bayes, is based on conditional probabilities. Unlike Naive Bayes, decision trees generate <strong class="term">rules</strong>. A rule is a conditional statement that can be understood by humans and used within a database to identify a set of records. 
                  </p>
                  <p>In some applications of data mining, the reason for predicting one outcome or another may not be important in evaluating the overall quality of a model. In others, the ability to explain the reason for a decision can be crucial. For example, a Marketing professional requires complete descriptions of customer segments to launch a successful marketing campaign. The Decision Tree algorithm is ideal for this type of application.</p>
                  <p>Use Decision Tree rules to validate models. If the rules make sense to a subject matter expert, then this validates the model.</p>
               </div><a id="DMCON298"></a><a id="DMCON297"></a><div class="props_rev_3"><a id="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7" name="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7"></a><h4 id="DMCON-GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7" class="sect4"><span class="enumeration_section">13.1.1 </span>Decision Tree Rules
                  </h4>
                  <div>
                     <p>Introduces Decision Tree rules.</p>
                     <p>Oracle Data Mining supports several algorithms that provide <a id="d17304e122" class="indexterm-anchor"></a>rules. In addition to decision trees, clustering algorithms provide rules that describe the conditions shared by the members of a cluster, and association rules provide rules that describe associations between attributes.
                     </p>
                     <p>Rules provide <strong class="term">model transparency</strong>, a window on the inner workings of the model. Rules show the basis for the model's predictions. Oracle Data Mining supports a high level of model transparency. While some algorithms provide rules, <span class="italic">all</span> algorithms provide <strong class="term">model details</strong>. You can examine model details to determine how the algorithm handles the attributes internally, including transformations and reverse transformations. Transparency is discussed in the context of data preparation and in the context of model building in <span><cite>Oracle Data Mining Userâ€™s Guide</cite></span>.
                     </p>
                     <p>The following figure shows a rule generated by a Decision Tree model. This rule comes from a decision tree that predicts the probability that customers increase spending if given a loyalty card. A target value of 0 means not likely to increase spending; 1 means likely to increase spending.</p>
                     <div class="figure" id="GUID-D0C6B5AC-A75D-4AA4-8809-F416D66D33C7__BGBDGCFI">
                        <p class="titleinfigure">Figure 13-1 Sample Decision Tree Rule</p><img src="img/tree_rule.gif" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/tree_rule.html"><br><a href="img_text/tree_rule.html">Description of "Figure 13-1 Sample Decision Tree Rule"</a></div>
                     <!-- class="figure" -->
                     <p>The rule shown in the figure represents the conditional statement:</p><pre class="oac_no_warn" dir="ltr">IF 
          (current residence &gt; 3.5 and has college degree and is single) 
THEN
          predicted target value = 0
</pre><p>This rule is a full rule. A surrogate rule is a related attribute that can be used at apply time if the attribute needed for the split is missing.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dmapi/understanding-reverse-transformations.html#DMPRG580" target="_blank">Understanding Reverse Transformations</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-796F787A-1F6E-4439-BB4A-928510BD0994" target="_blank">Model Detail Views for Decision Tree</a></li>
                           <li><a href="clustering.html#GUID-7FB17270-54F6-4898-A4F9-319CD94B450B" title="Learn how to discover natural groupings in the data through Clustering - the unsupervised mining function.">Clustering</a></li>
                           <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="Learn how to discover Association Rules through Association - an unsupervised mining function.">Association</a></li>
                        </ul>
                     </div>
                  </div><a id="DMCON299"></a><div class="props_rev_3"><a id="GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A" name="GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A"></a><h5 id="DMCON-GUID-5AE37A6A-BC38-411E-92B4-A9065A568B2A" class="sect5"><span class="enumeration_section">13.1.1.1 </span>Confidence and Support
                     </h5>
                     <div>
                        <p>Confidence and support are properties of rules. These statistical measures can be used to rank the rules and hence the predictions.</p>
                        <p><strong class="term">Support</strong>: The number of records in the training data set that satisfy the rule.
                        </p>
                        <p><strong class="term">Confidence</strong>: The likelihood of the predicted outcome, given that the rule has been satisfied.
                        </p>
                        <p>For example, consider a list of 1000 customers (1000 cases). Out of all the customers, 100 satisfy a given rule. Of these 100, 75 are likely to increase spending, and 25 are not likely to increase spending. The <strong class="term">support of the rule</strong> is 100/1000 (10%). The <strong class="term">confidence of the prediction</strong> (likely to increase spending) for the cases that satisfy the rule is 75/100 (75%).
                        </p>
                     </div>
                  </div>
               </div><a id="DMCON300"></a><div class="props_rev_3"><a id="GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680" name="GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680"></a><h4 id="DMCON-GUID-2A83D176-3B04-4C04-90C1-96F64AB4B680" class="sect4"><span class="enumeration_section">13.1.2 </span>Advantages of Decision Trees
                  </h4>
                  <div>
                     <p>Learn about the advantages of Decision Tree.</p>
                     <p>The Decision Tree algorithm produces accurate and interpretable models with relatively little user intervention. The algorithm can be used for both binary and multiclass classification problems.</p>
                     <p>The algorithm is fast, both at build time and apply time. The build process for Decision Tree supports <a id="d17304e238" class="indexterm-anchor"></a>parallel execution. (Scoring supports parallel execution irrespective of the algorithm.)
                     </p>
                     <p>Decision Tree scoring is especially fast. The tree structure, created in the model build, is used for a series of simple tests, (typically 2-7). Each test is based on a single predictor. It is a membership test: either IN or NOT IN a list of values (categorical predictor); or LESS THAN or EQUAL TO some value (numeric predictor). </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON306"></a><div class="props_rev_3"><a id="GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28" name="GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28"></a><h4 id="DMCON-GUID-B25FBEC2-1B4D-49EE-95E1-2E7D6A4F8E28" class="sect4"><span class="enumeration_section">13.1.3 </span>XML for Decision Tree Models
                  </h4>
                  <div>
                     <p>Learn about generating XML representation of Decision Tree models.</p>
                     <p>You can generate XML representing a Decision Tree model; the generated XML satisfies the definition specified in the Data Mining Group Predictive Model Markup Language (PMML) version 2.1 specification. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dmcon&amp;id=dmg" target="_blank">http://www.dmg.org</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="DMCON302"></a><a id="DMCON301"></a><div class="props_rev_3"><a id="GUID-542B8B8C-0327-46E3-873A-7C71C6855531" name="GUID-542B8B8C-0327-46E3-873A-7C71C6855531"></a><h3 id="DMCON-GUID-542B8B8C-0327-46E3-873A-7C71C6855531" class="sect3"><span class="enumeration_section">13.2 </span>Growing a Decision Tree
               </h3>
               <div>
                  <p>Predicting a target value by a sequence of questions to form or grow a Decision Tree.</p>
                  <p>A Decision Tree predicts a target value by asking a sequence of questions. At a given stage in the sequence, the question that is asked depends upon the answers to the previous questions. The goal is to ask questions that, taken together, uniquely identify specific target values. Graphically, this process forms a tree structure.</p>
                  <div class="figure" id="GUID-542B8B8C-0327-46E3-873A-7C71C6855531__BGBBGCGF">
                     <p class="titleinfigure">Figure 13-2 Sample Decision Tree</p><img src="img/treediagram.gif" alt="Description of Figure 13-2 follows" title="Description of Figure 13-2 follows" longdesc="img_text/treediagram.html"><br><a href="img_text/treediagram.html">Description of "Figure 13-2 Sample Decision Tree"</a></div>
                  <!-- class="figure" -->
                  <p>The figure is a Decision Tree with nine nodes (and nine corresponding rules). The target attribute is binary: 1 if the customer increases spending, 0 if the customer does not increase spending. The first split in the tree is based on the <code class="codeph">CUST_MARITAL_STATUS</code> attribute. The root of the tree (node 0) is split into nodes 1 and 3. Married customers are in node 1; single customers are in node 3. 
                  </p>
                  <p>The rule associated with node 1 is: </p><pre class="oac_no_warn" dir="ltr">Node 1 recordCount=712,0 Count=382, 1 Count=330
CUST_MARITAL_STATUS isIN  "Married",surrogate:HOUSEHOLD_SIZE isIn "3""4-5"
</pre><p>Node 1 has 712 records (cases). In all 712 cases, the <code class="codeph">CUST_MARITAL_STATUS</code> attribute indicates that the customer is married. Of these, 382 have a target of 0 (not likely to increase spending), and 330 have a target of 1 (likely to increase spending).
                  </p>
               </div><a id="DMCON303"></a><div class="props_rev_3"><a id="GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0" name="GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0"></a><h4 id="DMCON-GUID-17616E59-425C-4D69-9E60-8C2F38E44CD0" class="sect4"><span class="enumeration_section">13.2.1 </span>Splitting
                  </h4>
                  <div>
                     <p>During the training process, the Decision Tree algorithm must repeatedly find the most efficient way to split a set of cases (records) into two child nodes. Oracle Data Mining offers two homogeneity metrics, <strong class="term">gini</strong> and <strong class="term">entropy</strong>, for calculating the splits. The default metric is gini.
                     </p>
                     <p>Homogeneity metrics asses the quality of alternative split conditions and select the one that results in the most homogeneous child nodes. Homogeneity is also called <strong class="term">purity</strong>; it refers to the degree to which the resulting child nodes are made up of cases with the same target value. The objective is to maximize the purity in the child nodes. For example, if the target can be either yes or no (does or does not increase spending), the objective is to produce nodes where most of the cases either increase spending or most of the cases do not increase spending.
                     </p>
                  </div>
               </div><a id="DMCON304"></a><div class="props_rev_3"><a id="GUID-D851A92F-67C2-4CA3-A427-615881A38AE3" name="GUID-D851A92F-67C2-4CA3-A427-615881A38AE3"></a><h4 id="DMCON-GUID-D851A92F-67C2-4CA3-A427-615881A38AE3" class="sect4"><span class="enumeration_section">13.2.2 </span>Cost Matrix
                  </h4>
                  <div>
                     <p>Learn about Cost Matrix for Decision Tree.</p>
                     <p>All classification algorithms, including Decision Tree, support a <a id="d17304e379" class="indexterm-anchor"></a>cost-benefit matrix at apply time. You can use the same cost matrix for building and scoring a Decision Tree model, or you can specify a different cost/benefit matrix for scoring. 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="classification.html#GUID-F28D1480-ED10-4634-A566-F4D3CD17BDD7" title="Compares Cost matrix and Confusion matrix for costs and accuracy to evaluate model quality.Discusses the importance of positive and negative classes in a confusion matrix.">Costs</a></li>
                           <li><a href="classification.html#GUID-590DD2C5-1BA5-40A3-9E3E-92AA2AE1D0EC" title="Learn about Priors and Class Weights in a Classification model to produce a useful result.">Priors and Class Weights</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON305"></a><div class="props_rev_3"><a id="GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD" name="GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD"></a><h4 id="DMCON-GUID-D42FB994-F4A6-4CD3-899C-0696DB4D25BD" class="sect4"><span class="enumeration_section">13.2.3 </span>Preventing Over-Fitting
                  </h4>
                  <div>
                     <p>In principle, Decision Tree algorithms can grow each branch of the tree just deeply enough to perfectly classify the training examples. While this is sometimes a reasonable strategy, in fact it can lead to difficulties when there is noise in the data, or when the number of training examples is too small to produce a representative sample of the true target function. In either of these cases, this simple algorithm can produce trees that over-fit the training examples. Over-fit is a condition where a model is able to accurately predict the data used to create the model, but does poorly on new data presented to it. </p>
                     <p>To prevent over-fitting, Oracle Data Mining supports automatic <strong class="term">pruning</strong> and configurable <strong class="term">limit conditions</strong> that control tree growth. Limit conditions prevent further splits once the conditions have been satisfied. Pruning removes branches that have insignificant predictive power.
                     </p>
                  </div>
               </div>
            </div><a id="DMCON307"></a><div class="props_rev_3"><a id="GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" name="GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9"></a><h3 id="DMCON-GUID-A04498CC-C4C2-415D-80B5-B02629EAF1E9" class="sect3"><span class="enumeration_section">13.3 </span>Tuning the Decision Tree Algorithm
               </h3>
               <div>
                  <p>Fine tune the Decision Tree algorithm with various parameters.</p>
                  <p>The Decision Tree algorithm is implemented with reasonable defaults for splitting and termination criteria. However several build settings are available for fine tuning.</p>
                  <p>You can specify a homogeneity metric for finding the optimal split condition for a tree. The default metric is gini. The entropy metric is also available.</p>
                  <p>Settings for controlling the growth of the tree are also available. You can specify the maximum depth of the tree, the minimum number of cases required in a child node, the minimum number of cases required in a node in order for a further split to be possible, the minimum number of cases in a child node, and the minimum number of cases required in a node in order for a further split to be possible.</p>
                  <p>The training data attributes are binned as part of the algorithm's data preparation. You can alter the number of bins used by the binning step. There is a trade-off between the number of bins used and the time required for the build.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-03435110-D723-42FD-B4EA-39C86A039566" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMCON308"></a><div class="props_rev_3"><a id="GUID-D971596B-1AD0-4639-8398-05090A49835E" name="GUID-D971596B-1AD0-4639-8398-05090A49835E"></a><h3 id="DMCON-GUID-D971596B-1AD0-4639-8398-05090A49835E" class="sect3"><span class="enumeration_section">13.4 </span>Data Preparation for Decision Tree 
               </h3>
               <div>
                  <p>Learn how to prepare data for Decision Tree.</p>
                  <p>The Decision Tree algorithm manages its own data preparation internally. It does not require pretreatment of the data. Decision Tree is not affected by Automatic Data Preparation.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../dmprg/preparing-data.html#DMPRG-GUID-E1AB599C-1921-4BD7-B06B-FC466180A460" target="_blank">Preparing the Data</a></li>
                        <li><a href="../dmprg/transforming-data.html#DMPRG-GUID-C3FDDEC7-8CC9-4AC1-A6C3-75D91E26B703" target="_blank">Transforming the Data</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>