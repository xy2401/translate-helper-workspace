<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Disk discovery is the mechanism used to find the operating system names for disks Oracle ASM can access.">
      <meta name="description" content="Disk discovery is the mechanism used to find the operating system names for disks Oracle ASM can access.">
      <title>Oracle ASM Disk Discovery</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Disk discovery is the mechanism used to find the operating system names for disks Oracle ASM can access.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="alter-diskgroups.html" title="Previous" type="text/html">
      <link rel="next" href="capacity-diskgroups.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="alter-diskgroups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="capacity-diskgroups.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM Instances and Disk Groups</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name"> Administering Oracle ASM Disk Groups</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle ASM Disk Discovery</li>
            </ol>
            <a id="GUID-75533657-85B0-4614-B489-C25DC150CA1D" name="GUID-75533657-85B0-4614-B489-C25DC150CA1D"></a><a id="OSTMG94120"></a>
            
            <h2 id="OSTMG-GUID-75533657-85B0-4614-B489-C25DC150CA1D" class="sect2">Oracle ASM Disk Discovery</h2>
         </header>
         <div class="ind">
            <div>
               <p>Disk discovery is the mechanism used to find the operating system names for disks Oracle ASM can access. </p>
               <p>This mechanism finds all the disks that comprise a disk group to be mounted, the disks an administrator wants to add to a disk group, or the disks the administrator might consider adding to a disk group. This section contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="asm-disk-discovery.html#GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D" title="When an Oracle ASM instance is initialized, Oracle ASM discovers and examines the contents of all of the disks that are in the paths that you designated with values in the ASM_DISKSTRING initialization parameter.">How A Disk is Discovered</a></p>
                  </li>
                  <li>
                     <p><a href="asm-disk-discovery.html#GUID-DC9D242F-9ECC-445C-9CDE-67B358B9748B">Disk Discovery Rules</a></p>
                  </li>
                  <li>
                     <p><a href="asm-disk-discovery.html#GUID-11333D13-0E68-4779-85F5-BF5F6F32434C">Improving Disk Discovery Time</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-75533657-85B0-4614-B489-C25DC150CA1D__GUID-78702BE0-6652-4652-820E-D6760F012B98">
                  <p class="notep1">See Also:</p>
                  <p><a href="init-params-asm-instance.html#GUID-03BD4335-FEF9-4147-B8E4-E63F2D80F863" title="The ASM_DISKSTRING initialization parameter specifies a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers.">ASM_DISKSTRING</a> for additional information about disk discovery and the <code class="codeph">ASM_DISKSTRING</code> initialization parameter
                  </p>
               </div>
            </div><a id="OSTMG94122"></a><a id="OSTMG94121"></a><div class="props_rev_3"><a id="GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D" name="GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D"></a><h3 id="OSTMG-GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D" class="sect3">How A Disk is Discovered</h3>
               <div>
                  <p>When an Oracle ASM instance is initialized, Oracle ASM discovers and examines the contents of all of the disks that are in the paths that you designated with values in the <code class="codeph">ASM_DISKSTRING</code> initialization parameter. 
                  </p>
                  <p>Disk discovery also occurs when you:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Run the following SQL statements</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Mount a disk group with <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">MOUNT</code></p>
                           </li>
                           <li>
                              <p>Online a disk with <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ONLINE</code> <code class="codeph">DISK</code> 
                              </p>
                           </li>
                           <li>
                              <p>Add a disk to a disk group with <code class="codeph">CREATE</code> or <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>...<code class="codeph">ADD</code> <code class="codeph">DISK</code></p>
                           </li>
                           <li>
                              <p>Resize a disk in a disk group with <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>...<code class="codeph">RESIZE</code> <code class="codeph">DISK</code> 
                              </p>
                           </li>
                           <li>
                              <p>Query with <code class="codeph">SELECT</code> <code class="codeph">FROM</code> <code class="codeph">V$ASM_DISKGROUP</code> or <code class="codeph">V$ASM_DISK</code> views
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Run Oracle ASM Configuration Assistant (ASMCA) operations or ASMCMD commands that perform the same operations as the SQL statements previously listed</p>
                     </li>
                  </ul>
                  <p>After Oracle ASM successfully discovers a disk, the disk appears in the <code class="codeph">V$ASM_DISK</code> view. Disks that belong to a disk group, that is, disks that have a disk group name in the disk header, show a header status of <code class="codeph">MEMBER</code>. Disks that were discovered, but that have not yet been assigned to a disk group, have a status of either <code class="codeph">CANDIDATE</code> or <code class="codeph">PROVISIONED</code>. Disks that previously belonged to a disk group and were dropped cleanly from the disk group have a status of <code class="codeph">FORMER</code>.
                  </p>
                  <p>The <code class="codeph">PROVISIONED</code> status implies that an additional platform-specific action has been taken by an administrator to make the disk available for Oracle ASM. For example, on Windows computers, the administrator might have used <code class="codeph">asmtool</code> or <code class="codeph">asmtoolg</code> to stamp the disk with a header. For example, on Linux computers, the administrator might have used Oracle ASM Filter Driver or ASMLIB to prepare the disk for Oracle ASM.
                  </p>
                  <p><a href="asm-disk-discovery.html#GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D__CHDBIFBD">Example 4-10</a> shows a SQL query on <code class="codeph">V$ASM_DISK</code> that displays the header status of a group of disks.
                  </p>
                  <div class="example" id="GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D__CHDBIFBD">
                     <p class="titleinexample">Example 4-10 Querying V$ASM_DISK for header status</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT name, header_status, path FROM V$ASM_DISK 
     WHERE path LIKE '/devices/disk0%';

NAME      HEADER_STATUS PATH
--------- ------------- ---------------------
          FORMER        /devices/disk02
          FORMER        /devices/disk01
          CANDIDATE     /devices/disk07
DISK06    MEMBER        /devices/disk06
DISK05    MEMBER        /devices/disk05
DISK04    MEMBER        /devices/disk04
DISK03    MEMBER        /devices/disk03
7 rows selected.
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-CD6B3821-FF1A-4882-BF10-97CE138C800D__GUID-0872A226-766E-4515-B608-C0633A36D117">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-ASM_DISK.html#REFRN30170" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the header status of an Oracle ASM disk that is displayed in the <code class="codeph">V$ASM_DISK</code> view
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG94123"></a><div class="props_rev_3"><a id="GUID-DC9D242F-9ECC-445C-9CDE-67B358B9748B" name="GUID-DC9D242F-9ECC-445C-9CDE-67B358B9748B"></a><h3 id="OSTMG-GUID-DC9D242F-9ECC-445C-9CDE-67B358B9748B" class="sect3">Disk Discovery Rules</h3>
               <div>
                  <p><a id="d30208e619" class="indexterm-anchor"></a>The rules for discovering Oracle ASM disks are as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle ASM can discover up to 10,000 disks. That is, if more than 10,000 disks match the <code class="codeph">ASM_DISKSTRING</code> initialization parameter, then Oracle ASM discovers only the first 10,000. 
                        </p>
                     </li>
                     <li>
                        <p>Oracle ASM only discovers disk partitions. Oracle ASM does not discover partitions that include the partition table.</p>
                     </li>
                     <li>
                        <p>From the perspective of the installation, candidate disks are those that have the <code class="codeph">CANDIDATE</code>, <code class="codeph">PROVISIONED</code>, or <code class="codeph">FORMER</code> header status. These disks with a <code class="codeph">CANDIDATE</code>, <code class="codeph">PROVISIONED</code>, or <code class="codeph">FORMER</code> status can be added to Oracle ASM disk groups without using the <code class="codeph">FORCE</code> flag.
                        </p>
                     </li>
                     <li>
                        <p>When adding a disk, the <code class="codeph">FORCE</code> option must be used if Oracle ASM recognizes that the disk was managed by Oracle. Such a disk appears in the <code class="codeph">V$ASM_DISK</code> view with a status of <code class="codeph">FOREIGN</code>. In this case, you can only add the disk to a disk group by using the <code class="codeph">FORCE</code> keyword.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">MEMBER</code> disks can usually be added to a disk group by specifying the <code class="codeph">FORCE</code> flag, if the disks are not part of a currently mounted disk group.
                        </p>
                     </li>
                  </ul>
                  <p>In addition, Oracle ASM identifies the following configuration errors during discovery:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Multiple paths to the same disk</p>
                        <p>In this case, if the disk is part of a disk group, then disk group mount fails. If the disk is being added to a disk group with the <code class="codeph">ADD DISK</code> or <code class="codeph">CREATE DISKGROUP</code> command, then the command fails. To correct the error, adjust the <code class="codeph">ASM_DISKSTRING</code> value so that Oracle ASM does not discover multiple paths to the same disk. Or if you are using multipathing software, then ensure that you include only the pseudo-device name in the <code class="codeph">ASM_DISKSTRING</code> value. See <a href="considerations-asm-storage.html#GUID-DA8FBBB8-9831-44D1-AA41-5890B829CAEE" title="Multipathing solutions provide failover by using redundant physical path components.">Oracle ASM and Multipathing</a>.
                        </p>
                     </li>
                     <li>
                        <p>Multiple Oracle ASM disks with the same disk header</p>
                        <p>This can be caused by having copied one disk onto another. In this case, the disk group mount operation fails. </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG94124"></a><div class="props_rev_3"><a id="GUID-11333D13-0E68-4779-85F5-BF5F6F32434C" name="GUID-11333D13-0E68-4779-85F5-BF5F6F32434C"></a><h3 id="OSTMG-GUID-11333D13-0E68-4779-85F5-BF5F6F32434C" class="sect3">Improving Disk Discovery Time</h3>
               <div>
                  <p>The value for the <code class="codeph">ASM_DISKSTRING</code> initialization parameter is an operating system&#x2013;dependent value that Oracle ASM uses to limit the set of paths that the discovery process uses to search for disks. When a new disk is added to a disk group, each Oracle ASM instance that has the disk group mounted must be able to discover the new disk using its <code class="codeph">ASM_DISKSTRING</code>.
                  </p>
                  <p>In many cases, the default value (<code class="codeph">NULL</code>) is sufficient. Using a more restrictive value might reduce the time required for Oracle ASM to perform discovery, and thus improve disk group mount time or the time for adding a disk to a disk group. Oracle may dynamically change the <code class="codeph">ASM_DISKSTRING</code> before adding a disk so that the new disk is discovered through this parameter. 
                  </p>
                  <p>The default value of <code class="codeph">ASM_DISKSTRING</code> might not find all disks in all situations. If your site is using Oracle ASM Filter Driver or a third-party vendor, then you may have discovery string conventions that you must use for <code class="codeph">ASM_DISKSTRING</code>.
                  </p>
                  <p>In addition, if your installation uses multipathing software, then the software might place pseudo-devices in a path that is different from the operating system default. </p>
                  <div class="infoboxnotealso" id="GUID-11333D13-0E68-4779-85F5-BF5F6F32434C__GUID-3A1203ED-B7B1-467B-BE8A-C3DDFBCE6B64">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administer-filter-driver.html#GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" title="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">Administering Oracle ASM Filter Driver</a> for information about Oracle ASM Filter Driver
                           </p>
                        </li>
                        <li>
                           <p><a href="considerations-asm-storage.html#GUID-DA8FBBB8-9831-44D1-AA41-5890B829CAEE" title="Multipathing solutions provide failover by using redundant physical path components.">Oracle ASM and Multipathing</a>and your multipathing vendor documentation for information about multipathing
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>