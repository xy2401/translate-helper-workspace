<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CONFIGURE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CHANGE.html" title="Previous" type="text/html">
      <link rel="next" href="CONNECT.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CHANGE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CONNECT.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-at-sign-to-quit.html" property="item" typeof="WebPage"><span property="name"> RMAN Commands: @ (at sign) to QUIT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CONFIGURE</li>
            </ol>
            <a id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A" name="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A"></a><a id="RCMRF90071"></a><a id="RCMRF90072"></a><a id="RCMRF90073"></a><a id="RCMRF90074"></a><a id="RCMRF90075"></a><a id="RCMRF90076"></a><a id="RCMRF90077"></a><a id="RCMRF90079"></a><a id="RCMRF90080"></a><a id="RCMRF90081"></a><a id="RCMRF90082"></a><a id="RCMRF90083"></a><a id="RCMRF90084"></a><a id="RCMRF90085"></a><a id="RCMRF90086"></a><a id="RCMRF90087"></a><a id="RCMRF90088"></a><a id="RCMRF90089"></a><a id="RCMRF90090"></a><a id="RCMRF90091"></a><a id="RCMRF90092"></a><a id="RCMRF90093"></a><a id="RCMRF90094"></a><a id="RCMRF90095"></a><a id="RCMRF90514"></a><a id="RCMRF113"></a>
            
            <h2 id="RCMRF-GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A" class="sect2"><span class="enumeration_section">2.9 </span>CONFIGURE
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-4F9C3B03-597E-433A-9E15-F60D033EA560">Purpose</p>
                  <p>Use the <code class="codeph">CONFIGURE</code> command to create or change a persistent configuration affecting RMAN backup, restore, duplication, and maintenance jobs on a particular database. A configuration is in effect for any RMAN session on this database until the configuration is explicitly cleared or changed. You can use the <code class="codeph"><a href="SHOW.html#GUID-6C2AF43B-FADD-41AF-9408-852A69538E2F">SHOW</a></code> command to display the configurations for one or more databases.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-38280D82-4E07-485F-897F-90942607C590">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/configuring-rman-client-basic.html#BRADV8002" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide </span></a>to learn how to configure the RMAN environment
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-781A68AD-6969-425D-8163-3A9CB259AE25">Additional Topics</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDCACAG">Prerequisites</a></p>
                     </li>
                     <li>
                        <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHFHDB">Usage Notes</a></p>
                     </li>
                     <li>
                        <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDBHBBA">Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDJDIEA">Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDDCBH">Examples</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDCACAG">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-4238CD57-8FB0-4777-8997-46BE9E4E282F">Prerequisites</p>
                  <p>Execute this command only at the RMAN prompt.</p>
                  <p>Unless you specify the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause, an RMAN connection to a target database is required. The target database must be mounted or open.
                  </p>
                  <p>In CDBs, you must connect to the root to create or change configuration settings. You cannot configure settings when connected to a PDB.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHFHDB">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-6B29A62A-8AE9-4A8F-A3CE-35C5432FB1A1">Usage Notes</p>
                  <p>The <code class="codeph">CONFIGURE</code> command always stores a configuration for a target database in the target database control file. If you use RMAN with a recovery catalog, then RMAN also stores persistent configuration settings for each registered database in the catalog.
                  </p>
                  <p><span class="bold">Default RMAN Configuration Settings</span></p>
                  <p><a id="d28529e243" class="indexterm-anchor"></a>The RMAN <code class="codeph">CONFIGURE</code> settings have defaults. You can return to the default for any <code class="codeph">CONFIGURE</code> command by rerunning the command with the <code class="codeph">CLEAR</code> option, but you cannot clear individual parameters in this way. For example, the following command is valid:
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE sbt CLEAR
</pre><p>However, the following command is invalid: </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE sbt MAXPIECESIZE 5M CLEAR</pre><p><span class="bold">RMAN Configuration in a Data Guard Environment</span></p>
                  <p><a id="d28529e267" class="indexterm-anchor"></a><a id="d28529e271" class="indexterm-anchor"></a>In a Data Guard environment, Oracle recommends that you always use RMAN with a recovery catalog. You can use the <code class="codeph">CONFIGURE</code> command to create persistent RMAN configurations for any individual primary or standby database in the Data Guard environment, except settings for backup retention policy, tablespace exclusion, and auxiliary names. Thus, the primary and standby databases can have different channel configurations, control file autobackup locations, and so on.
                  </p>
                  <p>You can use the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause to configure a database to which RMAN is not connected as <code class="codeph">TARGET</code>. You can use <code class="codeph">CONFIGURE DB_UNIQUE_NAME</code> to make a new physical standby database known to the recovery catalog and implicitly register it.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDBHBBA">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-612E56B4-3537-43F8-9DF3-6E4D3E46E38C">Syntax</p>
                  <p><a id="d28529e294" class="indexterm-anchor"></a><a id="d28529e298" class="indexterm-anchor"></a><span class="bold"><span class="italic">configure</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-B9A6D832-3EFA-4451-80BF-3D32CC249577"><img src="img/configure.gif" alt="Description of configure.eps follows" title="Description of configure.eps follows" longdesc="img_text/configure.html"><br><a href="img_text/configure.html">Description of the illustration configure.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec::=</a></span>, <span class="italic"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDIHIEG">backupConf::=</a></span>, <span class="italic"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHEECI">cfauConf::=</a></span>, <span class="italic"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHIHDH">deviceConf::=</a></span>, <span class="italic"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE__BABBBGBC">forDbUniqueNameOption::=</a></span>)
                  </p>
                  <p><a id="d28529e332" class="indexterm-anchor"></a><a id="d28529e336" class="indexterm-anchor"></a><span class="bold"><span class="italic">delalConf</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-EA67CAB9-FE67-48BC-9984-29E1D47B6A33"><img src="img/delalconf.gif" alt="Description of delalconf.eps follows" title="Description of delalconf.eps follows" longdesc="img_text/delalconf.html"><br><a href="img_text/delalconf.html">Description of the illustration delalconf.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>)
                  </p>
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDIHIEG"><a id="d28529e354" class="indexterm-anchor"></a><a id="d28529e358" class="indexterm-anchor"></a><span class="bold"><span class="italic">backupConf</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-BD3D52F8-766C-4DFC-8AD9-A0FEBD0E768E"><img src="img/backupconf.gif" alt="Description of backupconf.eps follows" title="Description of backupconf.eps follows" longdesc="img_text/backupconf.html"><br><a href="img_text/backupconf.html">Description of the illustration backupconf.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577__BABHAICB">sizeSpec::=</a></span>)
                  </p>
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHEECI"><a id="d28529e380" class="indexterm-anchor"></a><a id="d28529e384" class="indexterm-anchor"></a><span class="bold"><span class="italic">cfauConf</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-758799D0-DFCC-4EE1-8EAA-8696EBC1C0F5"><img src="img/cfauconf.gif" alt="Description of cfauconf.eps follows" title="Description of cfauconf.eps follows" longdesc="img_text/cfauconf.html"><br><a href="img_text/cfauconf.html">Description of the illustration cfauconf.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec::=</a></span>)
                  </p>
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHIHDH"><a id="d28529e407" class="indexterm-anchor"></a><a id="d28529e411" class="indexterm-anchor"></a><span class="bold"><span class="italic">deviceConf</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-88A4112F-F9CE-4635-9CA6-C210659551AB"><img src="img/deviceconf.gif" alt="Description of deviceconf.eps follows" title="Description of deviceconf.eps follows" longdesc="img_text/deviceconf.html"><br><a href="img_text/deviceconf.html">Description of the illustration deviceconf.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA__BABFFJCH">allocOperandList::=</a></span>)
                  </p>
                  <p><a id="d28529e433" class="indexterm-anchor"></a><a id="d28529e437" class="indexterm-anchor"></a><span class="bold"><span class="italic">forDbUniqueNameOption</span>::=</span></p>
                  <div class="figure" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-ADB071A8-5C0E-4C1B-9A81-2125D82040C9"><img src="img/fordbuniquenameoption.gif" alt="Description of fordbuniquenameoption.eps follows" title="Description of fordbuniquenameoption.eps follows" longdesc="img_text/fordbuniquenameoption.html"><br><a href="img_text/fordbuniquenameoption.html">Description of the illustration fordbuniquenameoption.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDJDIEA">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-3E4B26DF-0300-4F9E-87D5-84D9D2394E00">Semantics</p>
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1017464"><a id="d28529e452" class="indexterm-anchor"></a><a id="d28529e456" class="indexterm-anchor"></a><span class="bold"><span class="italic">configure</span></span> 
                  </p>
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-98D50301-81B1-4410-8E2E-88A1A12733FE">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONFIGURE command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d28529e472">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d28529e475">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e480" headers="d28529e472 "><code class="codeph">DB_UNIQUE_NAME</code> <span class="italic"><code class="codeph">db_unique_name</code> <code class="codeph">CONNECT IDENTIFIER</code></span> <code class="codeph">'</code><span class="italic"><code class="codeph">connect_string</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e480 d28529e475 ">
                                 <p>Specifies the net service name for the physical standby database specified by <code class="codeph">DB_UNIQUE_NAME</code>. The <code class="codeph">CONNECT IDENTIFIER</code> string must not include the database user name and password.
                                 </p>
                                 <p>RMAN must also be connected to the primary database as <code class="codeph">TARGET</code>. RMAN must be connected to a recovery catalog.
                                 </p>
                                 <p>When you run the <code class="codeph"><a href="RESYNC-CATALOG.html#GUID-DF91BD12-A00D-49CC-99C5-E8EDD0094CCE">RESYNC CATALOG</a></code> <code class="codeph">FROM DB_UNIQUE_NAME</code> command, databases in a Data Guard environment use the net service name to connect with the <span class="italic"><code class="codeph">db_unique_name</code></span> database. For example, assume that a standby database has the unique name <code class="codeph">standby1</code> and the net service name <code class="codeph">sby1</code>. You connect RMAN as <code class="codeph">TARGET</code> to the primary database and execute <code class="codeph">CONFIGURE DB_UNIQUE_NAME 'standby1' CONNECT IDENTIFIER 'sby1'</code>. Every primary and standby database in the environment uses the net service name <code class="codeph">sby1</code> when it needs to make an Oracle Net connection to <code class="codeph">standby1</code>.
                                 </p>
                                 <p><span class="bold">Note:</span> When the target database needs to connect to other standby or primary databases, it connects as the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> user by using the existing Data Guard authentication mechanisms.
                                 </p>
                                 <p>Suppose that you recently connected RMAN as <code class="codeph">TARGET</code> to the primary database and used <code class="codeph">CONFIGURE ... FOR DB_UNIQUE_NAME standby_new</code> to configure backup settings for standby database <code class="codeph">standby_new</code>. However, you have not yet connected RMAN as <code class="codeph">TARGET</code> to <code class="codeph">standby_new</code>. In this case, you can execute <code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME standby_new</code>. The primary database uses the connect identifier to make an Oracle Net connection to the standby database. When you later connect RMAN to the standby database, RMAN pushes the configuration from the recovery catalog to the mounted control file.
                                 </p>
                                 <p><span class="bold">Note:</span> If the database specified by <code class="codeph">CONFIGURE DB_UNIQUE_NAME</code> is not registered in the recovery catalog, then RMAN implicitly registers it.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e584" headers="d28529e472 ">
                                 <p><code class="codeph">CLEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e584 d28529e475 ">
                                 <p>Returns a parameter to its default setting. See the Usage Notes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e592" headers="d28529e472 ">
                                 <p><span class="italic"><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDIFEEE">delalConf</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e592 d28529e475 ">
                                 <p>Configures an archived redo log deletion policy.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e602" headers="d28529e472 "><code class="codeph">AUXNAME&nbsp;FOR&nbsp;DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a> </code></span><code class="codeph">CLEAR | TO </code><code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e602 d28529e475 ">
                                 <p>Configures the auxiliary file name for the specified target data file to <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code> (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHHHDF">Example 2-54</a>). Specify <code class="codeph">CLEAR</code> to unspecify the auxiliary file name.
                                 </p>
                                 <p>If you are performing TSPITR or using <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code>, then you can set <code class="codeph">AUXNAME</code> to preconfigure the file names for use on the auxiliary database without manually specifying the auxiliary file names during the procedure. You cannot use <code class="codeph">CONFIGURE AUXNAME</code> for recovery set, you must use <code class="codeph">SET NEWNAME</code>.
                                 </p>
                                 <p>For example, use this command during TSPITR if the data files are on raw disk and you must restore auxiliary data files to raw disk for performance reasons. Typically, you set the <code class="codeph">AUXNAME</code> parameter in TSPITR for the data files of the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces and the tablespaces containing rollback or undo segments. Do not overlay files which are in use by the production database and can be discarded after TSPITR completes. In essence, the <code class="codeph">AUXNAME</code> of a data file is the location where TSPITR can create a temporary copy of it.
                                 </p>
                                 <p>When renaming files with the <code class="codeph">DUPLICATE</code> command, <code class="codeph">CONFIGURE</code><span class="bold"> </span><code class="codeph">AUXNAME</code> is an alternative to <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code>. The difference is that after you set the <code class="codeph">AUXNAME</code> the first time, you do not need to reset the file name when you issue another <code class="codeph">DUPLICATE</code> command: the <code class="codeph">AUXNAME</code> setting remains in effect until you issue <code class="codeph">CONFIGURE AUXNAME ... CLEAR</code>. In contrast, you must reissue the <code class="codeph">SET NEWNAME</code> command every time you execute the <code class="codeph">DUPLICATE</code> command.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/performing-rman-tspitr.html#BRADV009" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to perform RMAN TSPITR, and <a href="../bradv/rman-duplicating-databases.html#BRADV-GUID-F31F9FCE-B610-49EB-B9DB-44B9AA4E838F" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to duplicate a database with RMAN
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e723" headers="d28529e472 ">
                                 <p><span class="italic"><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1017487">backupConf</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e723 d28529e475 ">
                                 <p>Configures default backup options such as duplexing, optimization, excluding tablespaces, backup set sizes, and retention policies.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e733" headers="d28529e472 ">
                                 <p><span class="italic"><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1017491">cfauConf</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e733 d28529e475 ">
                                 <p>Configures control file autobackup settings.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e743" headers="d28529e472 "><code class="codeph">COMPRESSION&nbsp;ALGORITHM</code> <code class="codeph">'</code><span class="italic"><code class="codeph">algorithm_name</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e743 d28529e475 ">
                                 <p>Specifies the algorithm that RMAN uses to create compressed backup sets.</p>
                                 <p>The default compression algorithm setting is <code class="codeph">BASIC</code> and does not require the Advanced Compression Option. 
                                 </p>
                                 <p>If, however, you have enabled the Advanced Compression Option, you can choose from the following compression levels:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">HIGH - </code><a id="d28529e769" class="indexterm-anchor"></a>Best suited for backups over slower networks where the limiting factor is network speed
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">MEDIUM -</code><a id="d28529e778" class="indexterm-anchor"></a>Recommended for most environments. Good combination of compression ratios and speed 
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOW</code> -<a id="d28529e788" class="indexterm-anchor"></a> Least impact on backup throughput and suited for environments where CPU resources are the limiting factor.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note: </span>The compression ratio generally increases from LOW to HIGH, with a trade-off of potentially consuming more CPU resources.
                                 </p>
                                 <p>Since the performance of the various compression levels depends on the nature of the data in the database, network configuration, system resources and the type of computer system and its capabilities, Oracle cannot document universally applicable performance statistics. The decision about which level is best must factor in on how balanced your system is regarding bandwidth into the CPU and the actual speed of the CPU. It is highly recommended that you run tests with the different compression levels on the data in your environment. Choosing a compression level based on your environment, network traffic characteristics (workload) and data set is the only way to ensure that the backup set compression level can satisfy your organization's performance requirements and any applicable service level agreements.</p>
                                 <p><span class="bold">Note:</span> The <a id="d28529e803" class="indexterm-anchor"></a><a id="d28529e805" class="indexterm-anchor"></a><code class="codeph">V$RMAN_COMPRESSION_ALGORITHM</code> view describes the supported algorithms.
                                 </p>
                                 <p><span class="bold">See Also</span>: <span class="italic">Oracle Database Reference</span> entry for <code class="codeph">V$RMAN_COMPRESSION_ALGORITHM</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e823" headers="d28529e472 ">
                                 <p>   <code class="codeph">   OPTIMIZE FOR LOAD</code>  
                                 </p>
                                 <p> <code class="codeph">    {TRUE|FALSE}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e823 d28529e475 ">
                                 <p>Specifies whether Oracle Database performs pre-compression block processing when compressed backups have been requested. <code class="codeph">TRUE</code> is the default and <code class="codeph">FALSE</code> enables pre-compression processing. The default behavior is not to perform pre-compression block processing. Such processing can consume extra CPU resources, and is not needed for blocks that contain all originally loaded data, and have never been the subject of single-row inserts and deletes. Specifying <code class="codeph">FALSE</code> uses additional CPU resources to perform pre-compression block processing which consists of internal block cleanups and defragmentation that can result in improved levels of binary compression.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic">Oracle Database Backup and Recovery User's Guide </span>to learn more about this option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e853" headers="d28529e472 ">
                                 <p>   <code class="codeph"> AS OF RELEASE  </code>  
                                 </p>
                                 <p><span class="italic">    'version'</span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e853 d28529e475 ">
                                 <p>Specifies the release version. The version number uses the release number format and may use as many as 5 numbers to fully qualify the release. For example, 10.2.0.3.0 and 11.2 are acceptable values. This option ensures compression algorithm stability across future releases.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e866" headers="d28529e472 ">
                                 <p><span class="italic"><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1019177">deviceConf</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e866 d28529e475 ">
                                 <p>Configures default backup settings for devices, such as the default backup device, channel configurations for devices, default backup types for each device, and parallelism.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e876" headers="d28529e472 ">
                                 <p><code class="codeph">ENCRYPTION</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e876 d28529e475 ">
                                 <p>Specifies transparent-mode encryption settings for the database or tablespaces.</p>
                                 <p>This configuration applies unless overridden with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ENCRYPTION</code> command. Options specified for an individual tablespace take precedence over options specified for the whole database.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span> to learn about the different modes of backup encryption, and <a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG10139" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> to learn about transparent data encryption
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e908" headers="d28529e472 "><code class="codeph">&nbsp;&nbsp;&nbsp;ALGORITHM</code> <code class="codeph">'</code><span class="italic"><code class="codeph">algorithm_name</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e908 d28529e475 ">
                                 <p><a id="d28529e921" class="indexterm-anchor"></a>Specifies the default algorithm to use for encryption when writing backup sets. Possible values are listed in <a id="d28529e924" class="indexterm-anchor"></a><a id="d28529e926" class="indexterm-anchor"></a><a id="d28529e930" class="indexterm-anchor"></a><a id="d28529e934" class="indexterm-anchor"></a><code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code>. The <code class="codeph">CLEAR</code> option resets the database to the default value.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e945" headers="d28529e472 "><code class="codeph">&nbsp;&nbsp;&nbsp;FOR&nbsp;DATABASE</code> <code class="codeph">[ON&nbsp;|&nbsp;OFF&nbsp;|&nbsp;CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e945 d28529e475 ">
                                 <p><a id="d28529e953" class="indexterm-anchor"></a><a id="d28529e957" class="indexterm-anchor"></a><a id="d28529e959" class="indexterm-anchor"></a>Specifies whether to enable transparent encryption for the entire database. The options are as follows:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ON</code> enables encryption for all database files.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OFF</code> turns off encryption for all database files.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLEAR</code> restores the default setting of <code class="codeph">OFF</code>.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> You must use the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ENCRYPTION IDENTIFIED BY</code> command to enable password encryption.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e996" headers="d28529e472 "><code class="codeph">&nbsp;&nbsp;&nbsp;FOR&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> <code class="codeph">[ON&nbsp;|&nbsp;OFF&nbsp;|&nbsp;CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e996 d28529e475 ">
                                 <p><a id="d28529e1008" class="indexterm-anchor"></a>Specifies whether to enable transparent encryption for one or more tablespaces. Configured settings for a tablespace always override configuration set at the database level. The options are as follows:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ON</code> enables encryption for the specified tablespace unless <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ENCRYPTION OFF FOR ALL TABLESPACES</code> is used.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OFF</code> disables encryption for the specified tablespace unless <code class="codeph">SET ENCRYPTION ON FOR ALL TABLESPACES</code> is used.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLEAR</code> means that encryption for the specified tablespace is determined by the current default for the whole database.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> You must use the <code class="codeph">SET ENCRYPTION IDENTIFIED BY</code> command to enable password encryption.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1048" headers="d28529e472 "><code class="codeph">FOR TABLESPACE</code> <span class="italic"><code class="codeph">pdb_name:tablespace_name</code></span> <code class="codeph">[ON | OFF | CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1048 d28529e475 ">
                                 <p>The name of the tablespace in a CDB. Multiple databases can have tablespaces with the same name. A qualifier before the name uniquely identifies the tablespace. <span class="italic"><code class="codeph">pdb-name</code></span> is the name of a PDB.
                                 </p>
                                 <p>See the previous description of <code class="codeph">FOR TABLESPACE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1071" headers="d28529e472 ">
                                 <p><code class="codeph">RMAN OUTPUT TO KEEP FOR </code><span class="italic"><code class="codeph">integer</code></span><code class="codeph"> DAYS</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e1071 d28529e475 ">
                                 <p>Configures RMAN output logging to the number of days specified by <span class="italic"><code class="codeph">integer</code></span>. Information regarding the output of RMAN commands is stored in two views, <code class="codeph">RC_RMAN_OUTPUT</code> and <code class="codeph">V$RMAN_OUTPUT</code>. When you configure output logging to <span class="italic"><code class="codeph">integer</code></span> days, any logging entry that is older than <span class="italic"><code class="codeph">integer</code></span> days is deleted from both the <code class="codeph">RC_RMAN_OUTPUT</code> and <code class="codeph">V$RMAN_OUTPUT</code> views.
                                 </p>
                                 <p>For example, assume that the existing output logging configuration is set to 20 days. You use the <code class="codeph">CONFIGURE</code> command to change output logging to 10 days. Any logging entries that are older than 10 days are deleted from <code class="codeph">RC_RMAN_OUTPUT</code> and <code class="codeph">V$_RMAN_OUTPUT</code>.
                                 </p>
                                 <p>To disable RMAN output logging, set <span class="italic"><code class="codeph">integer</code></span> to zero, as shown in the following example.
                                 </p><pre class="oac_no_warn" dir="ltr">CONFIGURE RMAN OUTPUT TO KEEP FOR 0 DAYS; 
</pre><p>When you disable output logging, no logging information is stored in the <code class="codeph">RC_RMAN_OUTPUT</code> and <code class="codeph">V$RMAN_OUTPUT</code> views. Existing logging entries in <code class="codeph">RC_RMAN_OUTPUT</code> are deleted.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1139" headers="d28529e472 ">
                                 <p>      <code class="codeph">CLEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e1139 d28529e475 ">
                                 <p>Clears the existing RMAN output logging configuration and resets it to 7 days, which is the default.</p>
                                 <p>RMAN stores output logging information in the <code class="codeph">RC_RMAN_OUTPUT</code> and <code class="codeph">V$RMAN_OUTPUT</code> views. When you clear the output logging configuration, any logging entry that is older than 7 days (the default value) is deleted from the <code class="codeph">RC_RMAN_OUTPUT</code> view. Entries older than 7 days in the <code class="codeph">V$RMAN_RMAN_OUTPUT</code> view are not deleted immediately. They are deleted only when the maximum number of rows permitted for this view is exceeded.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1162" headers="d28529e472 "><code class="codeph">SNAPSHOT&nbsp;CONTROLFILE</code> <code class="codeph">NAME&nbsp;TO '</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1162 d28529e475 ">
                                 <p><a id="d28529e1175" class="indexterm-anchor"></a>Configures the snapshot control file name and location to <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code>. If you run <code class="codeph">CONFIGURE SNAPSHOT CONTROLFILE NAME CLEAR</code>, then RMAN sets the snapshot control file name to its default.
                                 </p>
                                 <p>The default value for the snapshot control file name is platform-specific and dependent on Oracle home. For example, the default on some UNIX systems is <code class="codeph">?/dbs/snapcf_@.f</code>. If you clear the control file name, and if you change Oracle home, then the default location of the snapshot control file changes as well.
                                 </p>
                                 <p>The snapshot control file name is valid for this database only. Assume that you configure the snapshot control file name to a nondefault value on the primary database. If you use <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> to create a standby database, then the snapshot control file location on the standby database is set to the default value. If desired, you can then configure the snapshot location on the standby database to a nondefault value.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/configuring-rman-client-advanced.html#BRADV141" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about snapshot control files
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1213" headers="d28529e472 ">
                                 <p><span class="italic"><code class="codeph"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e1213 d28529e475 ">
                                 <p><a id="d28529e1222" class="indexterm-anchor"></a><a id="d28529e1226" class="indexterm-anchor"></a>Creates an RMAN configuration in the recovery catalog for the database in a Data Guard environment specified by <code class="codeph">DB_UNIQUE_NAME</code>. You can specify a single database with <span class="italic"><code class="codeph">db_unique_name</code></span> or use <code class="codeph">ALL</code> for all databases in the recovery catalog that share the DBID of the target database (or DBID specified by the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> command).
                                 </p>
                                 <p>A recovery catalog is required when performing operations in a Data Guard environment. RMAN must be connected as <code class="codeph">TARGET</code> to a mounted or open database (which can be a primary or standby database), <span class="italic">or</span> you must identify the target database with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> command. Thus, you can use this clause to create a persistent configuration for a standby database <span class="italic">without</span> connecting as <code class="codeph">TARGET</code> to the standby or primary database. For example, you can create a configuration for a standby database before its creation so that the configuration applies after the database is created (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDEIDFD">Example 2-56</a>).
                                 </p>
                                 <p>When you specify <code class="codeph">FOR DB_UNIQUE_NAME</code>, RMAN directly updates the configuration metadata in the recovery catalog. When RMAN connects as <code class="codeph">TARGET</code> to a database whose configurations were changed with <code class="codeph">FOR DB_UNIQUE_NAME</code>, RMAN updates the mounted control file with the configuration metadata from the recovery catalog.
                                 </p>
                                 <p><span class="bold">Note:</span> It is possible to run <code class="codeph">CONFIGURE</code> locally on a standby database and then run <code class="codeph">CONFIGURE FOR DB_UNIQUE_NAME</code> for the same database while RMAN is not connected to this database as <code class="codeph">TARGET</code>. In this case, the configuration in the recovery catalog overrides the configuration in the control file for the specific database.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDIFEEE"><span class="bold"><span class="italic">delalConf</span></span> 
                  </p>
                  <p><a id="d28529e1305" class="indexterm-anchor"></a>This subclause manages persistent configurations for archived redo log deletion policy.
                  </p>
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-79CFB88F-8245-40EA-9BA2-72115130030C">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONFIGURE command delalConf parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d28529e1318">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d28529e1321">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1326" headers="d28529e1318 ">
                                 <p><code class="codeph" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHCEEH">ARCHIVELOG&nbsp;DELETION&nbsp;POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e1326 d28529e1321 ">
                                 <p>Determines when archived redo log files are eligible for deletion. </p>
                                 <p>The archived log deletion policy applies to all log archiving destinations, including the fast recovery area. The policy does not apply to archived redo log files in backup sets.</p>
                                 <p>Only archived redo log files in the fast recovery area are automatically deleted by the database. You can execute the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">... DELETE INPUT</code>, <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">ARCHIVELOG</code>, or <code class="codeph">DELETE OBSOLETE</code> commands to delete logs manually from log archiving destinations, including the recovery area. If <code class="codeph">FORCE</code> is not specified on the deletion commands, then these deletion commands obey the archived log deletion policy. If <code class="codeph">FORCE</code> is specified, then the deletion commands ignore the archived log deletion policy.
                                 </p>
                                 <p>In the recovery area, the database retains logs eligible for deletion if possible. The database deletes the oldest logs first when disk space is required. When the recovery area is under disk pressure, the database may delete archived redo log files that are reclaimable according to the fast recovery area rules.</p>
                                 <p><span class="bold">Note:</span> The deletion policy does not apply to foreign archived redo log files, which are logs received by a logical standby database for a <a id="d28529e1369" class="indexterm-anchor"></a>LogMiner session. These logs are transferred from a primary database, but unlike ordinary archived redo log files they have a different DBID. Foreign archived redo log files cannot be backed up or restored on a logical standby database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1373" headers="d28529e1318 "><code class="codeph">&nbsp;TO&nbsp;APPLIED&nbsp;ON</code> <code class="codeph">[ALL]&nbsp;STANDBY</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1373 d28529e1321 ">
                                 <p>Archived redo log files are eligible for deletion if <span class="italic">both</span> of the following conditions are met:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The archived redo log files have been applied to the required standby databases.</p>
                                    </li>
                                    <li>
                                       <p>The logs are not needed by the <code class="codeph">BACKED UP ... TIMES TO DEVICE TYPE</code> deletion policy. If the <code class="codeph">BACKED UP</code> policy is not set, then this condition is always met.
                                       </p>
                                    </li>
                                 </ul>
                                 <p></p>
                                 <p>When valid standby remote databases exist, this policy is applicable to primary databases, standby databases, and <code class="codeph">FAR SYNC</code> standby databases.
                                 </p>
                                 <p>For primary databases, the archived redo log files are eligible for deletion after they are applied on the standby. If no valid standby database exists, then RMAN uses <code class="codeph">TO NONE</code> as the policy. For standby databases, the archived redo log files are eligible for deletion after they are applied on the standby database and on any cascading standby databases. 
                                 </p>
                                 <p>Which remote destinations are considered depends on the following criteria:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If you do not specify <code class="codeph">ALL</code>, then archived redo log files are eligible for deletion after being applied to all mandatory remote destinations.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you specify <code class="codeph">ALL</code>, then archived redo log files are eligible after being applied or consumed on all remote destinations, whether mandatory or not. 
                                       </p>
                                       <p>For example, standby database <code class="codeph">sby1</code> may be the only remote destination receiving logs, but other remote destinations may apply logs by referring to the same location on <code class="codeph">sby1</code>. With <code class="codeph">ALL</code>, <code class="codeph">sby1</code> marks the log on the primary database as consumed as soon as it is not required at <code class="codeph">sby1</code>, but does not permit deletion of this log until it is applied or consumed by all other dependent remote destinations referring to the same location.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> It is invalid to specify the <code class="codeph">TO APPLIED</code> clause in combination with either <code class="codeph">NONE</code> or the <code class="codeph">TO SHIPPED</code> clause.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for details
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1464" headers="d28529e1318 "><code class="codeph">&nbsp;&nbsp;&nbsp;BACKED&nbsp;UP&nbsp;</code><span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES&nbsp;TO&nbsp;DEVICE</code> <code class="codeph">TYPE&nbsp;</code><span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1464 d28529e1321 ">
                                 <p>Archived redo log files are eligible for deletion if <span class="italic">both</span> of the following conditions are met:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The specified number of archived log backups exist on the specified device type.</p>
                                    </li>
                                    <li>
                                       <p>The logs are not needed by the <code class="codeph">TO SHIPPED TO ... STANDBY</code> or <code class="codeph">TO APPLIED ON ... STANDBY</code> deletion policy. If the <code class="codeph">TO SHIPPED TO</code> policy is not set, then this condition is always met.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>If you configure the deletion policy with this clause, then a <code class="codeph">BACKUP ARCHIVELOG</code> command copies the logs unless <span class="italic"><code class="codeph">integer</code></span> backups exist on the specified device type. If <span class="italic"><code class="codeph">integer</code></span> backups of the logs exist, then the <code class="codeph">BACKUP ARCHIVELOG</code> command skips the logs. In this way, the archived log deletion policy functions as a default <code class="codeph">NOT BACKED UP</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">TIMES</code> clause on the <code class="codeph">BACKUP ARCHIVELOG</code> command. You can override this deletion policy by specifying <code class="codeph">FORCE</code> option on the <code class="codeph">BACKUP</code> command.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1549" headers="d28529e1318 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO&nbsp;NONE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e1549 d28529e1321 ">
                                 <p>Disables the archived log deletion policy. This is the default setting.</p>
                                 <p>Archived redo log files can be located inside or outside of the fast recovery area. Logs in any location can be deleted by manual commands. Only logs in the fast recovery area can be deleted automatically by the database.</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>When remote destinations are configured for the target database, archived redo log files, whether in the fast recovery area or outside of it, are eligible for deletion if have been transferred to the required remote destinations specified by <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>When no remote destinations are configured, archived redo log files in the fast recovery area are eligible for deletion if they have been backed up at least once to disk or SBT <span class="italic">or</span> the logs are obsolete according to the backup retention policy.
                                       </p>
                                       <p>The backup retention policy considers logs obsolete <span class="italic">only if</span> the logs are not needed by a guaranteed restore point <span class="italic">and</span> the logs are not needed by Flashback Database. Archived redo log files are needed by Flashback Database if the logs were created later than <code class="codeph">SYSDATE-'DB_FLASHBACK_RETENTION_TARGET'</code>.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>For example, suppose that archived redo log files have been transferred to required remote destinations. The logs are obsolete according to the recovery window retention policy, but have not been backed up. In this case, the logs are eligible for deletion. Alternatively, suppose that the logs are obsolete and have been backed up to SBT, but have <span class="italic">not</span> been transferred to required remote destinations. In this case, the logs are not eligible for deletion.
                                 </p>
                                 <p>If the deletion policy is set to <code class="codeph">NONE</code>, and if you execute a deletion command for archived redo log files outside the fast recovery area, then RMAN obeys only the conditions specified on the deletion command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1597" headers="d28529e1318 "><code class="codeph"> TO&nbsp;SHIPPED&nbsp;TO</code> <code class="codeph">&nbsp;[ALL]&nbsp;STANDBY</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1597 d28529e1321 ">
                                 <p>Archived redo log files are eligible for deletion if <span class="italic">both</span> of the following conditions are met:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The archived redo log files have been transferred to the required remote destinations.</p>
                                    </li>
                                    <li>
                                       <p>The logs are not needed by the <code class="codeph">BACKED UP ... TIMES TO DEVICE TYPE</code> deletion policy. If the <code class="codeph">BACKED UP</code> deletion policy is not set, then this condition is always met.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>When valid standby remote databases exist, this policy is applicable to primary databases, standby databases, and <code class="codeph">FAR SYNC</code> standby databases.
                                 </p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>For primary databases:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>If valid standby configurations exist, then the archived redo log files are eligible for deletion after they are shipped to the standby. </p>
                                          </li>
                                          <li>
                                             <p>If no valid standby database exists, then RMAN uses <code class="codeph">TO NONE</code> as the default policy. 
                                             </p>
                                          </li>
                                       </ul>
                                    </li>
                                    <li>
                                       <p>For standby databases:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>If valid cascading standby configurations exist, then the archived redo log files are eligible for deletion after they are shipped to the cascading standby database.</p>
                                          </li>
                                          <li>
                                             <p>If no valid cascading standby configurations exist, then RMAN uses <code class="codeph">TO NONE</code> as the default policy.
                                             </p>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                                 <p>Which remote destinations are considered depends on the following criteria:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If you do not specify <code class="codeph">ALL</code>, then the archived redo log files are eligible for deletion after transfer to mandatory remote destinations only.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If you specify <code class="codeph">ALL</code>, then the logs are eligible for deletion after transfer to all remote destinations, whether mandatory or not.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> It is invalid to specify the <code class="codeph">TO SHIPPED</code> clause in combination with <code class="codeph">NONE</code> or the <code class="codeph">TO APPLIED</code> clause.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for details
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1017487"><span class="bold"><span class="italic">backupConf</span></span></p>
                  <p>This subclause manages persistent configurations relating to the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command. One configuration is backup optimization. If you enable backup optimization, then RMAN does not back up a file to a device type if the identical file is already backed up on the device type.
                  </p>
                  <p><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__G1028761" title="Describes criteria for skipping backups because the files are identical">Table 2-3</a> explains the criteria used by backup optimization to determine whether a file is identical and can potentially be skipped. The table also explains the algorithm that RMAN uses when backup optimization is enabled and it needs to determine whether to skip the backup of an identical file. If RMAN does not skip a backup, then it makes the backup exactly as specified.
                  </p>
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__G1028761">
                     <p class="titleintable">Table 2-3 Backup Optimization Algorithm</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Backup Optimization Algorithm" summary="Describes criteria for skipping backups because the files are identical" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="14%" id="d28529e1720">File Type</th>
                              <th align="left" valign="bottom" width="29%" id="d28529e1723">Criteria for an Identical File</th>
                              <th align="left" valign="bottom" width="57%" id="d28529e1726">Backup Algorithm When Backup Optimization Is Enabled</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="14%" id="d28529e1731" headers="d28529e1720 ">
                                 <p>Data file</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d28529e1731 d28529e1723 ">
                                 <p>The data file must have the same DBID, checkpoint SCN, creation SCN, and <code class="codeph">RESETLOGS</code> SCN and time as a data file already in a backup. The data file must be offline-normal, read-only, or closed normally.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d28529e1731 d28529e1726 ">
                                 <p>If a recovery window-based retention policy is enabled, then whether RMAN skips a data file depends on the backup media. </p>
                                 <p>For backups to tape, if the most recent backup is older than the recovery window, then RMAN takes another backup of a data file even if a backup of an identical data file exists. In this way, tapes can be recycled after they expire. </p>
                                 <p>For backups to disk, RMAN skips the backup if an identical data file is available on disk, even if that backup is older than the beginning of the recovery window. The window-based retention policy causes RMAN to retain the old backup if it is needed.</p>
                                 <p><a id="d28529e1748" class="indexterm-anchor"></a>If a retention policy is enabled with <code class="codeph">CONFIGURE</code> <code class="codeph">RETENTION</code> <code class="codeph">POLICY</code> <code class="codeph">TO</code> <code class="codeph">REDUNDANCY</code> <span class="italic"><code class="codeph">r</code></span>, then RMAN skips backups only if at least <span class="italic">n</span> backups of an identical file exist on the specified device, where <span class="italic"><code class="codeph">n</code></span>=<span class="italic"><code class="codeph">r</code></span>+1.
                                 </p>
                                 <p>If no retention policy is enabled, then RMAN skips a backup only if at least <span class="italic">n</span> backups of an identical file exist on the specified device. RMAN searches for values of <span class="italic">n</span> in this order of precedence (that is, values higher on the list override values lower on the list):
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">BACKUP ... COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SET BACKUP COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE ... TO</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><span class="italic">n</span>=1
                                       </p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="14%" id="d28529e1823" headers="d28529e1720 ">
                                 <p>Archived redo log</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d28529e1823 d28529e1723 ">
                                 <p>The archived redo log must have the same thread, sequence number, and <code class="codeph">RESETLOGS</code> SCN and time as an archived log already in a backup.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d28529e1823 d28529e1726 ">
                                 <p>RMAN skips a backup only if at least <span class="italic">n</span> backups of an identical file exist on the specified device. RMAN searches for values of <span class="italic">n</span> in this order of precedence (that is, values higher on the list override values lower on the list):
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">BACKUP ... COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SET BACKUP COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE ... TO</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><span class="italic">n</span>=1
                                       </p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="14%" id="d28529e1872" headers="d28529e1720 ">
                                 <p>Backup set</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d28529e1872 d28529e1723 ">
                                 <p>The backup set must have the same record ID and stamp as an existing backup set.</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d28529e1872 d28529e1726 ">
                                 <p>RMAN skips a backup only if at least <span class="italic">n</span> backups of an identical file exist on the specified device. By default, <span class="italic">n</span><code class="codeph">=1</code>. RMAN searches for other values of <span class="italic">n</span> in this order of precedence (that is, values higher on the list override values lower on the list):
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">BACKUP ... COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SET BACKUP COPIES</code> <span class="italic"><code class="codeph">n</code></span></p>
                                    </li>
                                    <li>
                                       <p><span class="italic">n</span>=1
                                       </p>
                                    </li>
                                 </ol>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-5E779EDD-1DCA-47D0-AC1F-6573AF950107">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONFIGURE command backupConf parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d28529e1922">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d28529e1925">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e1930" headers="d28529e1922 "><code class="codeph">{ARCHIVELOG&nbsp;|&nbsp;DATAFILE}</code> <code class="codeph">BACKUP&nbsp;COPIES FOR&nbsp;DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span><code class="codeph"> TO </code><span class="italic"><code class="codeph">integer</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e1930 d28529e1925 ">
                                 <p><a id="d28529e1949" class="indexterm-anchor"></a><a id="d28529e1953" class="indexterm-anchor"></a><a id="d28529e1957" class="indexterm-anchor"></a><a id="d28529e1961" class="indexterm-anchor"></a>Specifies the number of copies of each backup set for <code class="codeph">DATAFILE</code> (both data files and control files) or <code class="codeph">ARCHIVELOG</code> files on the specified device type (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHFJJE">Example 2-51</a>). You can create from <code class="codeph">1</code> (default) to <code class="codeph">4</code> copies. 
                                 </p>
                                 <p>RMAN can duplex backups to either disk or tape, but cannot duplex backups to tape and disk simultaneously. When backing up to tape, ensure that the number of copies does not exceed the number of available tape devices. Also, if <code class="codeph">COPIES</code> is greater than 1, then the <a id="d28529e1986" class="indexterm-anchor"></a><a id="d28529e1988" class="indexterm-anchor"></a><a id="d28529e1992" class="indexterm-anchor"></a><code class="codeph">BACKUP_TAPE_IO_SLAVES</code> initialization parameter must be enabled on the target database.
                                 </p>
                                 <p>Control file autobackups are never duplexed. Also, duplexing is not permitted in the fast recovery area.</p>
                                 <p>If duplexing is specified in the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command or in a <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">BACKUP</code> <code class="codeph">COPIES</code> command, then the <code class="codeph">CONFIGURE</code> setting is overridden.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2021" headers="d28529e1922 "><code class="codeph">BACKUP&nbsp;OPTIMIZATION</code> <code class="codeph">[ON&nbsp;|&nbsp;OFF&nbsp;|&nbsp;CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2021 d28529e1925 ">
                                 <p>Toggles backup optimization <code class="codeph">ON</code> or <code class="codeph">OFF</code> (default). Specify <code class="codeph">CLEAR</code> to return optimization to its default value of <code class="codeph">OFF</code>. 
                                 </p>
                                 <p>Backup optimization is enabled when all of the following conditions are met:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">CONFIGURE</code> <code class="codeph">BACKUP</code> <code class="codeph">OPTIMIZATION</code> <code class="codeph">ON</code> command has been run.
                                       </p>
                                    </li>
                                    <li>
                                       <p>You run <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">DATABASE</code>, <code class="codeph">BACKUP ARCHIVELOG</code> with the <code class="codeph">ALL</code> or <code class="codeph">LIKE</code> options, <code class="codeph">BACKUP BACKUPSET ALL</code>, <code class="codeph">BACKUP RECOVERY AREA</code>, <code class="codeph">BACKUP RECOVERY FILES</code>, or <code class="codeph">BACKUP DATAFILECOPY</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The RMAN job uses a channel of only one device type.</p>
                                    </li>
                                 </ul>
                                 <p>Optimization prevents RMAN from backing up a file to a device type if the identical file is already backed up on the device type. RMAN does not signal an error if backup optimization causes all files to be skipped during a backup. The backup retention policy affects which files backup optimization skips. </p>
                                 <p><a id="d28529e2099" class="indexterm-anchor"></a><a id="d28529e2101" class="indexterm-anchor"></a>For two files to be identical, their content must meet the requirements described in <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__G1028761" title="Describes criteria for skipping backups because the files are identical">Table 2-3</a>. When you create backup pieces on disk or on media managed by Oracle Secure Backup, optimization excludes undo data from the backup when the data does not belong to an active transaction.
                                 </p>
                                 <p><span class="bold">Note:</span> <code class="codeph">BACKUP ... DELETE INPUT</code> deletes all specified archived redo log whether or not optimization would skip these files during a backup.
                                 </p>
                                 <p><span class="bold">Note:</span> <a id="d28529e2122" class="indexterm-anchor"></a><a id="d28529e2124" class="indexterm-anchor"></a>You can override backup optimization with the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDGFFBB">FORCE</a></code> option of the <code class="codeph">BACKUP</code> command.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/configuring-rman-client-basic.html#BRADV113" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for a description of how RMAN determines that it can skip the backup of a file
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2146" headers="d28529e1922 "><code class="codeph">EXCLUDE&nbsp;FOR&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> <code class="codeph">[CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2146 d28529e1925 ">
                                 <p>Excludes the specified tablespace from <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">DATABASE</code> and <code class="codeph">RESTORE DATABASE</code> commands (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDDFAA">Example 2-53</a>). You cannot exclude the <code class="codeph">SYSTEM</code> tablespace. 
                                 </p>
                                 <p>The <code class="codeph">BACKUP</code> command default does not exclude tablespaces. You must declare the option to use it. The exclusion is stored as an attribute of the tablespace and not to the individual data files. In this manner, the exclusion applies not only to the present set of data files but also to any files that are added to this tablespace in the future. If you run <code class="codeph">CONFIGURE ... CLEAR</code> on a tablespace after excluding it, then it returns to the default configuration of nonexclusion.
                                 </p>
                                 <p>You can still back up an excluded tablespace by explicitly specifying it in a <code class="codeph">BACKUP</code> command or by specifying the <code class="codeph">NOEXCLUDE</code> option on a <code class="codeph">BACKUP</code> <code class="codeph">DATABASE</code> command. Similarly, you can restore an excluded tablespace by specifying it in the <code class="codeph">RESTORE TABLESPACE</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2201" headers="d28529e1922 "><code class="codeph">EXCLUDE&nbsp;FOR&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">pdb_name:tablespace_name</code></span> <code class="codeph">[CLEAR]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2201 d28529e1925 ">
                                 <p>The name of the tablespace in a PDB. Multiple PDBs can have tablespaces with the same name. A qualifier before the name uniquely identifies the tablespace. <span class="italic"><code class="codeph">pdb-name</code></span> is the name of a PDB.
                                 </p>
                                 <p>See the previous description of <code class="codeph">EXCLUDE FOR TABLESPACE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2224" headers="d28529e1922 ">
                                 <p><code class="codeph">MAXSETSIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2224 d28529e1925 ">
                                 <p>Specifies the maximum size of each backup set created on a channel. Use the <code class="codeph">CLEAR</code> option to return <code class="codeph">MAXSETSIZE</code> to the default value of <code class="codeph">UNLIMITED</code>.
                                 </p>
                                 <p><span class="bold">Note: </span>This option is ignored by <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">AS</code> <code class="codeph">COPY</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2256" headers="d28529e1922 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <span class="italic"><code class="codeph">sizeSpec</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2256 d28529e1925 ">
                                 <p>Specifies the maximum size of each backup set as <span class="italic"><code class="codeph">integer</code></span> gigabytes, kilobytes, or megabytes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2272" headers="d28529e1922 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO&nbsp;UNLIMITED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2272 d28529e1925 ">
                                 <p>Specifies no size limit for backup sets.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2280" headers="d28529e1922 ">
                                 <p><code class="codeph" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__BGBDJIHJ">RETENTION&nbsp;POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2280 d28529e1925 ">
                                 <p>Specifies a persistent, ongoing policy for backup sets and copies that RMAN marks as obsolete, that is, not needed and eligible for deletion. </p>
                                 <p>As time passes, RMAN marks backup sets and copies as obsolete according to the criteria specified in the retention policy. RMAN automatically deletes obsolete backup sets and copies in the fast recovery area when space is needed. RMAN does not automatically delete obsolete files outside the fast recovery area: you must manually execute <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">OBSOLETE</code> to remove them.
                                 </p>
                                 <p>For backups, the basic unit of the retention policy is a backup set (not a backup piece) or image copy. For example, <code class="codeph">BACKUP AS BACKUPSET COPIES 4 TABLESPACE users</code> creates a single backup set that is duplexed into four identical backup pieces. The retention policy considers this as <span class="italic">one</span> backup, not four separate backups.
                                 </p>
                                 <p><span class="bold">Note:</span> Use the <code class="codeph">CLEAR</code> option to return <code class="codeph">RETENTION POLICY</code> to its default of <code class="codeph">REDUNDANCY 1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2319" headers="d28529e1922 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO&nbsp;NONE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2319 d28529e1925 ">
                                 <p>Disables the retention policy feature. RMAN does not consider any backup sets or copies as obsolete.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2327" headers="d28529e1922 "><code class="codeph">&nbsp;&nbsp;&nbsp;TO&nbsp;RECOVERY&nbsp;WINDOW&nbsp;OF</code> <span class="italic"><code class="codeph">integer</code></span><code class="codeph">&nbsp;DAYS</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2327 d28529e1925 ">
                                 <p>Specifies a time window in which RMAN can recover the database. </p>
                                 <p>The window stretches from the current time (<code class="codeph">SYSDATE</code>) to the point of recoverability, which is the earliest date to which you want to recover. The point of recoverability is <code class="codeph">SYSDATE</code> - <span class="italic"><code class="codeph">integer</code></span> days in the past. Use this setting to restore or recover dropped tablespaces or data files.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">REDUNDANCY</code> and <code class="codeph">RECOVERY WINDOW</code> options are mutually exclusive. Only one type of retention policy can be in effect at any time.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2362" headers="d28529e1922 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO&nbsp;REDUNDANCY</code>&nbsp;<span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2362 d28529e1925 ">
                                 <p>Retains <span class="italic"><code class="codeph">integer</code></span> full or level 0 backups of each data file and control file. The default retention policy setting is <code class="codeph">REDUNDANCY 1</code>. This setting considers only the current set of data files.
                                 </p>
                                 <p>If more than <span class="italic"><code class="codeph">integer</code></span> full or level 0 backups of a data file or control file exist, then RMAN marks these extra files as obsolete. RMAN then determines the oldest of the retained backups and marks all archived redo log files and log backups older than this backup as obsolete. The <code class="codeph">DELETE OBSOLETE</code> command removes obsolete data file backups (full or incremental), control file backups, and archived log backups or image copies.
                                 </p>
                                 <p>The following scenario illustrates how redundancy works in an incremental backup strategy. Assume that the redundancy level is 1. You run a level 0 database backup at noon Monday, a level 1 cumulative backup at noon on Tuesday and Wednesday, and a level 0 backup at noon on Thursday. Immediately after each daily backup you run a <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> <code class="codeph">OBSOLETE</code>. The Wednesday <code class="codeph">DELETE</code> command does not remove the Tuesday level 1 backup because this backup is not redundant: the Tuesday level 1 backup could be used to recover the Monday level 0 backup to a time between noon on Tuesday and noon on Wednesday. However, the <code class="codeph">DELETE</code> command on Thursday removes the previous level 0 and level 1 backups.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">REDUNDANCY</code> and <code class="codeph">RECOVERY WINDOW</code> options are mutually exclusive. Only one type of retention policy can be in effect at any time.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1017491"><span class="bold"><span class="italic">cfauConf</span></span></p>
                  <p>This subclause creates persistent configurations relating to control file autobackups.</p>
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-C55486B3-E675-484C-8261-AA71845F050E">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONFIGURE command cfauConf parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d28529e2430">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d28529e2433">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2438" headers="d28529e2430 ">
                                 <p><code class="codeph" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDCAHE">CONTROLFILE&nbsp;AUTOBACKUP</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2438 d28529e2433 ">
                                 <p>Controls the control file autobackup feature.</p>
                                 <p>By default, <a id="d28529e2447" class="indexterm-anchor"></a><a id="d28529e2453" class="indexterm-anchor"></a>control file autobackup is turned on for CDBs and standalone databases with the <code class="codeph">COMPATIBLE</code> initialization parameter set to 12.2 or higher.
                                 </p>
                                 <p><span class="bold">Note:</span> Oracle recommends that you enable the control file autobackup feature.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2466" headers="d28529e2430 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;ON</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2466 d28529e2433 ">
                                 <p>Performs a control file autobackup in the following circumstances:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>After every <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> or <code class="codeph"><a href="CREATE-CATALOG.html#GUID-9CFE47C7-2273-48C4-8056-6A4042AF3CDC">CREATE CATALOG</a></code> command issued at the RMAN prompt.
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d28529e2489" class="indexterm-anchor"></a><a id="d28529e2493" class="indexterm-anchor"></a><a id="d28529e2495" class="indexterm-anchor"></a>Whenever a <code class="codeph">BACKUP</code> command within a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block is followed by a command that is not <code class="codeph">BACKUP</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>At the end of every <code class="codeph">RUN</code> block if the last command in the block was <code class="codeph">BACKUP</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>After structural changes for databases in <code class="codeph">ARCHIVELOG</code> mode. The autobackup after structural changes does not occur for databases in <code class="codeph">NOARCHIVELOG</code> mode.
                                       </p>
                                       <p>Structural changes include adding tablespaces, altering the state of a tablespace or data file (for example, bringing it online), adding a new online redo log, renaming a file, adding a new redo thread, enabling or disabling Flashback Database, and so on. This type of autobackup, unlike autobackups that occur in the preceding circumstances, is only to disk. You can run <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FOR DEVICE TYPE DISK</code> to set a nondefault disk location.
                                       </p>
                                       <p>Starting with Oracle 11<span class="italic">g</span> Release 2, RMAN creates a single autobackup file encompassing all of the structural changes that have occurred within a few minutes of each other rather than creating a new backup of the controlfile on each structural change to the database.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>The first channel allocated during the backup or copy job creates the autobackup and places it into its own backup set; for post-structural autobackups, the default disk channel makes the backup. RMAN writes the control file and server parameter file to the same backup piece. After the control file autobackup completes, the database writes a message containing the complete path of the backup piece and the device type to the alert log.</p>
                                 <p>The default location for the autobackup on disk is the fast recovery area (if configured) or a platform-specific location (if not configured). RMAN automatically backs up the current control file using the default format of <a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABBCDDA">%F</a>. You can change the location and file name format with the <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FORMAT</code> and <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">CONTROLFILE AUTOBACKUP FORMAT</code> commands.
                                 </p>
                                 <p>You cannot configure RMAN to write the autobackup to multiple locations. To create multiple control file backups, you can make the last command in your backup job a <code class="codeph">BACKUP CURRENT CONTROLFILE FORMAT</code> command, which backs up the control file to the specified <code class="codeph">FORMAT</code> location and then executes an autobackup.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">CONTROLFILE AUTOBACKUP FORMAT</code> command, which you can specify either within a <code class="codeph">RUN</code> block or at the RMAN prompt, overrides the configured autobackup format in the session only. The order of precedence is:
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">SET</code> within a <code class="codeph">RUN</code> block
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SET</code> at <code class="codeph">RMAN</code> prompt
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FORMAT</code></p>
                                    </li>
                                 </ol>
                                 <p>You can configure the autobackup format even when<code class="codeph"> CONFIGURE CONTROLFILE AUTOBACKUP</code> is set to <code class="codeph">OFF</code>, but RMAN does not generate autobackups in this case. For RMAN to make autobackups, you must set <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP</code> to <code class="codeph">ON</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2614" headers="d28529e2430 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2614 d28529e2433 ">
                                 <p>Disables the autobackup feature (default). </p>
                                 <p>Any <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command that includes data file <code class="codeph">1</code> automatically includes the current control file and server parameter file in the backup set. Otherwise, RMAN does not include these files.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2632" headers="d28529e2430 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;CLEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e2632 d28529e2433 ">
                                 <p>Returns this configuration to its default setting of <code class="codeph">OFF</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2643" headers="d28529e2430 "><code class="codeph">&nbsp;&nbsp;&nbsp;FORMAT&nbsp;FOR</code> <code class="codeph">&nbsp;DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span> <code class="codeph">&nbsp;TO</code><span class="italic"><code class="codeph">&nbsp;<a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2643 d28529e2433 ">
                                 <p><a id="d28529e2666" class="indexterm-anchor"></a>Configures the default location and file name format for the control file autobackup on the specified device type (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDFCFBB">Example 2-55</a>). 
                                 </p>
                                 <p>By default, the format is <a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABBCDDA">%F</a> for all devices. Any default format string specified with <code class="codeph">CONFIGURE</code> must include the <code class="codeph">%F</code> substitution variable. Use of any other substitution variable is an error. Specify <code class="codeph">CLEAR</code> to return the format to the default <code class="codeph">%F</code>.
                                 </p>
                                 <p><a id="d28529e2689" class="indexterm-anchor"></a>If a fast recovery area is enabled, and if the format is the default <code class="codeph">'%F'</code>, then RMAN creates the autobackup in the recovery area in a directory named <code class="codeph">autobackup</code>. Otherwise, the default autobackup location is an operating system-specific location (<code class="codeph">?/dbs</code> on UNIX, Linux, and Windows).
                                 </p>
                                 <p>The string <code class="codeph"># default</code> in the output of the <code class="codeph">SHOW</code> command indicates when RMAN is using the default format. If you manually configure the disk format to <code class="codeph">'%F'</code>, then RMAN creates the autobackups in the operating system-specific default location even though the recovery area is enabled. To change the format back to its default so that RMAN creates the autobackups in the recovery area, run <code class="codeph">CONFIGURE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK CLEAR</code>. 
                                 </p>
                                 <p>The <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> can specify an <a id="d28529e2725" class="indexterm-anchor"></a>Automatic Storage Management disk group. The following example configures a channel for an ASM disk group:
                                 </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP FOR DEVICE TYPE DISK TO '+dgroup1';</pre><p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> for the semantics of the <code class="codeph">%F</code> substitution variable
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1019177"><span class="bold"><span class="italic">deviceConf</span></span></p>
                  <p>This subclause creates persistent configurations relating to channels and devices.</p>
                  <p><span class="bold">Names for Configured Channels</span></p>
                  <p><a id="d28529e2755" class="indexterm-anchor"></a>RMAN determines the names for configured channels. RMAN uses the following convention: <code class="codeph">ORA_</code><span class="italic"><code class="codeph">devicetype</code></span><code class="codeph">_</code><span class="italic"><code class="codeph">n</code></span>, where <span class="italic"><code class="codeph">devicetype</code></span> refers to the user device type (such as <code class="codeph">DISK</code> or <code class="codeph">sbt_tape</code>) and <span class="italic"><code class="codeph">n</code></span> refers to the channel number. Channel names beginning with the <code class="codeph">ORA_</code> prefix are reserved by RMAN for its own use. You cannot manually allocate a channel with a name that begins with <code class="codeph">ORA_</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-BEB78C24-B06C-4FA2-9FAB-C02C6241D772">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">sbt</code> and <code class="codeph">sbt_tape</code> device types are synonymous, but RMAN output always displays <code class="codeph">sbt_tape</code> whether the input is <code class="codeph">sbt</code> or <code class="codeph">sbt_tape</code>.
                     </p>
                  </div>
                  <p>RMAN names the first <code class="codeph">DISK</code> channel <code class="codeph">ORA_DISK_1</code>, the second <code class="codeph">ORA_DISK_2</code>, and so on. RMAN names the first <code class="codeph">sbt</code> channel <code class="codeph">ORA_SBT_TAPE_1</code>, the second <code class="codeph">ORA_SBT_TAPE_2</code>, and so on. When you parallelize channels, RMAN always allocates channels in numeric order, starting with 1 and ending with the parallelism setting (<code class="codeph">CONFIGURE DEVICE TYPE ... PARALLELISM</code> <span class="italic"><code class="codeph">n</code></span>).
                  </p>
                  <p>To run <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> or jobs on specific configured channels, use the system-generated channel names. If you specify channel numbers in the <code class="codeph">CONFIGURE&nbsp;CHANNEL</code> command (see the <span class="italic"><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__I1019177">deviceConf</a></code></span> clause), then RMAN uses the same numbers in the system-generated channel names.
                  </p>
                  <p>Automatic channel allocation also applies to maintenance commands. If RMAN allocates an automatic maintenance channel, then it uses the same naming convention as any other automatically allocated channel. </p>
                  <p><span class="bold">Configured Channels in an Oracle RAC Environment</span></p>
                  <p>When using RMAN in an Oracle RAC environment, Oracle recommends that you specify a <code class="codeph">TARGET</code> connect string that establishes sessions on various instances in the cluster, depending on their load and availability.
                  </p>
                  <p>Oracle does not recommend using the <code class="codeph">CONNECT</code> option to configure individual channels to connect to specific Oracle RAC instances, because they make your RMAN script dependent on the particular instances named in the channel configuration. If just one of those instances is unavailable, then your backup script fails to run. Using a load-balancing connect string makes your RMAN scripts both easier to code and more resilient to individual instance failures.
                  </p>
                  <p>If you decide to use the <code class="codeph">CONNECT</code> option to direct RMAN channels to specific nodes, then Oracle strongly recommends that you not use passwords in your channel configuration. If the password for the user with <code class="codeph">SYSACKUP</code> privilege for every instance is the same as the password in the <code class="codeph">TARGET</code> connection, you only need to configure your channels with <code class="codeph">CONNECT "@</code><span class="italic"><code class="codeph">nodename</code></span><code class="codeph">"</code>. RMAN connects to that channel with the user ID and password from the <code class="codeph">TARGET</code> connection.
                  </p>
                  <div class="tblformalwide" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-2C72BC97-C9F3-4967-80B2-813D2447F8E3">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CONFIGURE command deviceConf parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d28529e2900">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d28529e2903">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e2908" headers="d28529e2900 "><code class="codeph">[AUXILIARY] CHANNEL [</code> <span class="italic"><code class="codeph">integer</code></span><code class="codeph">]</code> <code class="codeph">DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e2908 d28529e2903 ">
                                 <p>Specifies the standard or <code class="codeph">AUXILIARY</code> channel that you are configuring or clearing, and the device type of the channel. 
                                 </p>
                                 <p><span class="bold">Note:</span> Channels allocated with <code class="codeph"><a href="ALLOCATE-CHANNEL.html#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE">ALLOCATE CHANNEL</a></code> within a <code class="codeph">RUN</code> command override configured automatic channels.
                                 </p>
                                 <p>Either configure a generic channel or specify a channel number, where <span class="italic"><code class="codeph">integer</code></span> is less than <code class="codeph">255</code>. See <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDDFAA">Example 2-53</a> for an illustration of numbered channels.
                                 </p>
                                 <p><a id="d28529e2956" class="indexterm-anchor"></a><a id="d28529e2958" class="indexterm-anchor"></a>If <code class="codeph">AUXILIARY</code> is specified, then this configuration is used only for channels allocated at the auxiliary instance. Specify configuration information for auxiliary channels if they require different parameters from the channels allocated at the target instance. If no auxiliary device configuration is specified, then RMAN configures any auxiliary channels using the target database device configuration.
                                 </p>
                                 <p>You must specify at least one channel option. For example, you cannot issue a command such as <code class="codeph">CONFIGURE CHANNEL 2 DEVICE TYPE DISK</code>, but you can issue a command such as <code class="codeph">CONFIGURE CHANNEL 2 DEVICE TYPE DISK MAXPIECESIZE 2500K</code>.
                                 </p>
                                 <p>For generic channels of a specified device type, a new command erases previous settings for this device type. Assume that you run these commands:</p><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE sbt MAXPIECESIZE 1G;
CONFIGURE CHANNEL DEVICE TYPE sbt FORMAT 'bkup_%U';
</pre><p>The second command erases the <code class="codeph">MAXPIECESIZE</code> setting of the first command. 
                                 </p>
                                 <p><span class="bold">Note:</span> RMAN does not simultaneously allocate automatic channels for multiple device types in the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/configuring-rman-client-advanced.html#BRADV134" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide </span></a>to learn how configure automatic channels specified by channel number
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3000" headers="d28529e2900 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA">allocOperandList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e3000 d28529e2903 ">
                                 <p>Specifies control options for the configured channel.</p>
                                 <p>If you configure channels by using the nondefault <code class="codeph">CONNECT</code> or <code class="codeph">PARMS</code> options to create backups or copies, then you must either use the same configured channels or manually allocate channels with the same options to restore or cross-check these backups.
                                 </p>
                                 <p>The <code class="codeph">FORMAT</code> parameter can specify an Automatic Storage Management disk group. The following example configures a channel for an ASM disk group:
                                 </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT '+dgroup1';</pre><p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA">allocOperandList</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3037" headers="d28529e2900 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;CLEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e3037 d28529e2903 ">
                                 <p>Clears the specified channel. For example, <code class="codeph">CONFIGURE CHANNEL 1 DEVICE TYPE DISK CLEAR</code> returns only channel 1 to its default, whereas <code class="codeph">CONFIGURE CHANNEL DEVICE TYPE DISK CLEAR</code> returns the generic disk channel to its default. You cannot specify any other channel options (for example, <code class="codeph">PARMS</code>) when you specify <code class="codeph">CLEAR</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3057" headers="d28529e2900 "><code class="codeph">DEFAULT&nbsp;DEVICE&nbsp;TYPE&nbsp;TO</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e3057 d28529e2903 ">
                                 <p>Specifies the default device type for automatic channels. By default, <code class="codeph">DISK</code> is the default device type. <code class="codeph">CLEAR</code> returns the default device type to <code class="codeph">DISK</code>.
                                 </p>
                                 <p>By default, the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command only allocates channels of the default device type. For example, if you configure automatic channels for <code class="codeph">DISK</code> and <code class="codeph">sbt</code> and set the default device type to <code class="codeph">sbt</code>, then RMAN only allocates tape channels when you run the <code class="codeph">BACKUP DATABASE</code> command. You can override this behavior either by manually allocating channels in a <code class="codeph">RUN</code> command, or by specifying <code class="codeph">DEVICE TYPE</code> on the <code class="codeph">BACKUP</code> command itself (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHFJJE">Example 2-51</a>).
                                 </p>
                                 <p>The <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> command allocates automatic channels of all configured device types, regardless of the default device type. The <code class="codeph">RESTORE</code> command obeys the <code class="codeph">PARALLELISM</code> setting for each configured device type.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3123" headers="d28529e2900 "><code class="codeph">DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d28529e3123 d28529e2903 ">
                                 <p>Specifies the device type (disk or sbt) to which to apply the settings specified in this <code class="codeph">CONFIGURE</code> command. The <code class="codeph">CLEAR</code> option resets backup type and parallelism settings for this device to their defaults.
                                 </p>
                                 <p>If you run the <code class="codeph">CONFIGURE DEVICE TYPE</code> command to configure default settings for a device type and do not run <code class="codeph">CONFIGURE CHANNEL</code> for this device type, then RMAN allocates all channels without other channel control options. Assume that you configure the <code class="codeph">sbt</code> device and run a backup as follows:
                                 </p><pre class="oac_no_warn" dir="ltr">CONFIGURE DEVICE TYPE sbt PARALLELISM 1;
BACKUP DEVICE TYPE sbt DATABASE;</pre><p>In effect, RMAN does the following when executing this backup:</p><pre class="oac_no_warn" dir="ltr">RUN 
{
  ALLOCATE CHANNEL ORA_SBT_TAPE_1 DEVICE TYPE sbt;
  BACKUP DATABASE;
}</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3159" headers="d28529e2900 "><code class="codeph">&nbsp;&nbsp;&nbsp;BACKUP&nbsp;TYPE&nbsp;TO</code> <code class="codeph">[[COMPRESSED]</code> <code class="codeph">BACKUPSET&nbsp;|&nbsp;COPY]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e3159 d28529e2903 ">
                                 <p>Configures the default backup type for disk or tape backups. For SBT devices the <code class="codeph">COPY</code> option is not supported. The default for disk is <code class="codeph">BACKUPSET</code>.
                                 </p>
                                 <p>If <code class="codeph">BACKUP TYPE</code> is set to <code class="codeph">BACKUPSET</code>, then the <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command always produces backup sets regardless of which media the backup is created on. With the <code class="codeph">COMPRESSED</code> option, the backup sets produced use binary compression.
                                 </p>
                                 <p>The default location for disk backups is the fast recovery area, if one is configured; otherwise, RMAN stores backups in a platform-specific location. The default format for backup file names is <code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABGHHGH">%U</a></code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3200" headers="d28529e2900 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;PARALLELISM</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d28529e3200 d28529e2903 ">
                                 <p>Configures the number of automatic channels of the specified device type allocated for RMAN jobs. By default, <code class="codeph">PARALLELISM</code> is set to <code class="codeph">1</code>.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">CONFIGURE ... PARALLELISM</code> parameter specifies channel parallelism, that is, the number of channels that RMAN allocates during backup and restore operations. The <code class="codeph">RECOVERY_PARALLELISM</code> initialization parameter specifies the number of processes used in instance recovery.
                                 </p>
                                 <p>Suppose you set <code class="codeph">PARALLELISM</code> for disk backups to <code class="codeph">2</code> (see <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHAFGH">Example 2-52</a>). If you set the default device type as disk, then RMAN allocates two disk channels when you run <code class="codeph">BACKUP DATABASE</code> at the RMAN prompt. RMAN always allocates the number of channels set by <code class="codeph">PARALLELISM</code>, although it may use only a subset of these channels.
                                 </p>
                                 <p><span class="bold">Note:</span> If you configure <span class="italic"><code class="codeph">n</code></span> manually numbered channels, then the <code class="codeph">PARALLELISM</code> setting can be greater than or less than <span class="italic"><code class="codeph">n</code></span>. For example, you can manually number 10 automatic channels and configure <code class="codeph">PARALLELISM</code> to <code class="codeph">2</code> or <code class="codeph">12</code>.
                                 </p>
                                 <p>To change the parallelism for a device type to <span class="italic"><code class="codeph">n</code></span>, run a new <code class="codeph">CONFIGURE DEVICE TYPE ... PARALLELISM</code> <span class="italic"><code class="codeph">n</code></span> command. For example, you can change configure <code class="codeph">PARALLELISM</code> to <code class="codeph">3</code> for <code class="codeph">sbt</code> and then change it to <code class="codeph">2</code> as follows:
                                 </p><pre class="oac_no_warn" dir="ltr">CONFIGURE DEVICE TYPE sbt PARALLELISM 3;
CONFIGURE DEVICE TYPE sbt PARALLELISM 2;</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d28529e3297" headers="d28529e2900 "><code class="codeph">SPARSE [ON|OFF]</code></td>
                              <td align="left" valign="top" width="71%" headers="d28529e3297 d28529e2903 ">Configures the device type of the database as sparse or non-sparse before performing backup and recovery on sparse datafiles. This setting can only be used if the <code class="codeph">COMPATIBLE</code> initialization parameter for the database is set to 12.2 or higher.
                                 <p>If the <code class="codeph">SPARSE</code> setting is set to <code class="codeph">ON</code>, then the <code class="codeph">BACKUP</code> command creates sparse backups and the <code class="codeph">RESTORE</code> command performs restore operations from sparse backups. If the <code class="codeph">SPARSE</code> setting for the device is set to <code class="codeph">OFF</code>, then RMAN continues to perform database backup and restore operations as before.
                                 </p>
                                 <p>If <code class="codeph">COMPATIBLE</code> is set to 12.2 or higher for the database, then <code class="codeph">ON</code> is the default setting. This setting overrides the default sparseness mode of the database.
                                 </p>
                                 <p>See <span class="italic">Oracle Database Backup and Recovery User’s Guide</span> for more information on sparse databases
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDDCBH">
                  <p class="subhead1" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-6316B87B-E743-47B5-9D45-93AE0AB4D908">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-DAA9FDB0-1FF7-4368-B901-853525704C73">
                  <p class="titleinexample">Example 2-50 Configuring Device and Backup Options</p>
                  <p>This example configures channels of device type <code class="codeph">DISK</code> and <code class="codeph">sbt</code> and sets the default device type as <code class="codeph">sbt</code>. The example also enables backup optimization and configures a recovery windows of two weeks.
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT '/disk1/backups/%U';
CONFIGURE CHANNEL DEVICE TYPE sbt PARMS 'ENV=(OB_DEVICE_1=tape1)';
CONFIGURE DEFAULT DEVICE TYPE TO sbt;
CONFIGURE BACKUP OPTIMIZATION ON;
CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF 14 DAYS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHFJJE">
                  <p class="titleinexample">Example 2-51 Overriding the Default Device Type</p>
                  <p><a id="d28529e3362" class="indexterm-anchor"></a><a id="d28529e3366" class="indexterm-anchor"></a>This example configures duplexing to <code class="codeph">2</code> for <code class="codeph">DISK</code> backups of data files and control files (control file autobackups on disk are a special case and are never duplexed), then configures <code class="codeph">sbt</code> as the default device.
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 2;
CONFIGURE CHANNEL DEVICE TYPE sbt PARMS 'ENV=(OB_DEVICE_1=tape1)';
CONFIGURE DEFAULT DEVICE TYPE TO sbt;
</pre><p>The first <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> command backs up the archived redo log files on the default <code class="codeph">sbt</code> channel. The second <code class="codeph">BACKUP</code> command backs up the database to disk locations. Because duplexing is enabled for disk backups, two copies of each output backup set are created.
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP ARCHIVELOG ALL;
BACKUP DEVICE TYPE DISK 
  DATABASE
  FORMAT '/disk1/db_backup_%U','/disk2/db_backup_%U';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHAFGH">
                  <p class="titleinexample">Example 2-52 Configuring Automatic Channels Across File Systems</p>
                  <p>This example configures automatic disk channels across two file systems:</p><pre class="oac_no_warn" dir="ltr">CONFIGURE DEVICE TYPE DISK PARALLELISM 2;
CONFIGURE CHANNEL 1 DEVICE TYPE DISK FORMAT '/disk1/%U';
CONFIGURE CHANNEL 2 DEVICE TYPE DISK FORMAT '/disk2/%U';</pre><p>Because <code class="codeph">PARALLELISM</code> is set to <code class="codeph">2</code>, the following command divides the output data between two file systems:
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE DISK
  DATABASE PLUS ARCHIVELOG;
</pre><p>The following <code class="codeph">LIST</code> command shows how the data file backup was parallelized:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; LIST BACKUPSET 2031, 2032;
 
List of Backup Sets
===================
 
BS Key  Type LV Size       Device Type Elapsed Time Completion Time
------- ---- -- ---------- ----------- ------------ ---------------
2031    Full    401.99M    DISK        00:00:57     19-JAN-13
        BP Key: 2038   Status: AVAILABLE  Compressed: NO  Tag: TAG20130119T100532
        Piece Name: /disk1/24i7ssnc_1_1
  List of Datafiles in backup set 2031
  File LV Type Ckp SCN    Ckp Time  Name
  ---- -- ---- ---------- --------- ----
  1       Full 973497     19-JAN-13 /disk3/oracle/dbs/t_db1.f
  5       Full 973497     19-JAN-13 /disk3/oracle/dbs/tbs_112.f
 
BS Key  Type LV Size       Device Type Elapsed Time Completion Time
------- ---- -- ---------- ----------- ------------ ---------------
2032    Full    133.29M    DISK        00:00:57     19-JAN-13
        BP Key: 2039   Status: AVAILABLE  Compressed: NO  Tag: TAG20130119T100532
        Piece Name: /disk2/25i7ssnc_1_1
  List of Datafiles in backup set 2032
  File LV Type Ckp SCN    Ckp Time  Name
  ---- -- ---- ---------- --------- ----
  2       Full 973501     19-JAN-13 /disk3/oracle/dbs/t_ax1.f
  3       Full 973501     19-JAN-13 /disk3/oracle/dbs/t_undo1.f
  4       Full 973501     19-JAN-13 /disk3/oracle/dbs/tbs_111.f</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDDDFAA">
                  <p class="titleinexample">Example 2-53 Configuring Automatic Channels in an Oracle Real Application Clusters (Oracle RAC) Configuration</p>
                  <p><a id="d28529e3423" class="indexterm-anchor"></a><a id="d28529e3427" class="indexterm-anchor"></a>This example assumes an Oracle RAC database with two nodes. Oracle Secure Backup is the media manager. Tape drive <code class="codeph">tape1</code> is directly attached to <code class="codeph">node1</code>, while tape drive <code class="codeph">tape2</code> is directly attached to <code class="codeph">node2</code>. The example configures an automatic SBT channel for each cluster node.
                  </p>
                  <p>This example illustrates channel connections to Oracle RAC instances <code class="codeph">node1</code> and <code class="codeph">node2</code>. For both channel connections, RMAN uses the same user name and password that were entered for the target database connection. 
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE DEVICE TYPE sbt PARALLELISM 2;
CONFIGURE DEFAULT DEVICE TYPE TO sbt;
CONFIGURE CHANNEL 1 DEVICE TYPE sbt CONNECT '@node1'
  PARMS 'ENV=(OB_DEVICE=tape1)';
CONFIGURE CHANNEL 2 DEVICE TYPE sbt CONNECT '@node2'
  PARMS 'ENV=(OB_DEVICE=tape2)';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDHHHDF">
                  <p class="titleinexample">Example 2-54 Configuring Auxiliary File Names</p>
                  <p>This example uses <code class="codeph">CONFIGURE AUXNAME</code> to specify new file names for the data files. The <code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> command duplicates a database to a remote host with a different directory structure.
                  </p><pre class="oac_no_warn" dir="ltr"># set auxiliary names for the data files 
CONFIGURE AUXNAME FOR DATAFILE 1 TO '/oracle/auxfiles/aux_1.f'; 
CONFIGURE AUXNAME FOR DATAFILE 2 TO '/oracle/auxfiles/aux_2.f'; 
CONFIGURE AUXNAME FOR DATAFILE 3 TO '/oracle/auxfiles/aux_3.f'; 
CONFIGURE AUXNAME FOR DATAFILE 4 TO '/oracle/auxfiles/aux_4.f'; 

RUN
{  
  ALLOCATE AUXILIARY CHANNEL dupdb1 TYPE DISK;
  DUPLICATE TARGET DATABASE TO dupdb 
  LOGFILE
    GROUP 1 ('?/dbs/dupdb_log_1_1.f', 
             '?/dbs/dupdb_log_1_2.f') SIZE 4M,
    GROUP 2 ('?/dbs/dupdb_log_2_1.f', 
             '?/dbs/dupdb_log_2_2.f') SIZE 4M REUSE; 
}
# Unspecify the auxiliary names for the data files so that they are not 
# overwritten by mistake:
CONFIGURE AUXNAME FOR DATAFILE 1 CLEAR; 
CONFIGURE AUXNAME FOR DATAFILE 2 CLEAR; 
CONFIGURE AUXNAME FOR DATAFILE 3 CLEAR; 
CONFIGURE AUXNAME FOR DATAFILE 4 CLEAR;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDFCFBB">
                  <p class="titleinexample">Example 2-55 Specifying the Default Format for Control File Autobackup</p>
                  <p>The following example enables the autobackup feature and configures the default autobackup format for the <code class="codeph">DISK</code> and <code class="codeph">sbt</code> devices:
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP ON; 
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '/disk2/%F';
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE sbt TO 'cf_auto_%F';</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__CHDEIDFD">
                  <p class="titleinexample">Example 2-56 Creating Configurations for Standby Databases</p>
                  <p>Assume that primary database <code class="codeph">prod</code> is associated with two standby databases with the <code class="codeph">DB_UNIQUE_NAME</code> names <code class="codeph">dgprod3</code> and <code class="codeph">dgprod4</code>. Assume that you start RMAN and connect to <code class="codeph">prod</code> as <code class="codeph">TARGET</code> and connect to a recovery catalog. The following commands configure the default device type for databases <code class="codeph">dgprod3</code> and <code class="codeph">dgprod4</code>.
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE DEFAULT DEVICE TYPE TO sbt
  FOR DB_UNIQUE_NAME dgprod3;
CONFIGURE DEVICE TYPE sbt PARALLELISM 2
  FOR DB_UNIQUE_NAME dgprod3;
CONFIGURE DEFAULT DEVICE TYPE TO DISK
  FOR DB_UNIQUE_NAME dgprod4;
</pre><p>The control files of the two standby databases are updated with the configuration only after the reverse resynchronization from the recovery catalog to the control file, which occurs the first time that the user connects to <code class="codeph">dgprod3</code> and <code class="codeph">dgprod4</code>.
                  </p>
                  <p>The following <code class="codeph"><a href="SHOW.html#GUID-6C2AF43B-FADD-41AF-9408-852A69538E2F">SHOW</a></code> command displays the persistent device type configurations for the database whose unique name is <code class="codeph">dgprod3</code>:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; SHOW DEVICE TYPE FOR DB_UNIQUE_NAME dgprod3;
RMAN configuration parameters for database with db_unique_name DGPROD3 are:

CONFIGURE DEVICE TYPE 'SBT_TAPE' PARALLELISM 2 BACKUP TYPE TO BACKUPSET;
CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET; # default
</pre><p>The following <code class="codeph">SHOW</code> command displays the persistent configurations for all databases known to the recovery catalog whose DBID is 3257174182 (the value specified by the preceding <code class="codeph">SET DBID</code> command):
                  </p><pre class="oac_no_warn" dir="ltr">SHOW ALL FOR DB_UNIQUE_NAME ALL;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-684A4786-0167-4995-821E-B7E7B1789FA1">
                  <p class="titleinexample">Example 2-57 Optimizing Backups</p>
                  <p>This scenario illustrates the backup optimization behavior described in <a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__G1028761" title="Describes criteria for skipping backups because the files are identical">Table 2-3</a>. Assume that backup optimization is disabled. At 9 a.m., you back up three copies of all existing archived redo log files to tape. The <code class="codeph">BACKUP_TAPE_IO_SLAVES</code> initialization parameter must be <code class="codeph">true</code> when duplexing backups to tape.
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE sbt COPIES 3 ARCHIVELOG ALL;
</pre><p>At 11 a.m., you enable backup optimization:</p><pre class="oac_no_warn" dir="ltr">CONFIGURE BACKUP OPTIMIZATION ON;
</pre><p>At noon, you run the following archived redo log backup:</p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE sbt COPIES 2 ARCHIVELOG ALL;
</pre><pre class="oac_no_warn" dir="ltr">Starting backup at 19-JAN-13
current log archived
using channel ORA_SBT_TAPE_1
skipping archived log file /d1/db1r_605ab325_1_34_612112605.arc; already backed up 3 time(s)
skipping archived log file /d1/db1r_605ab325_1_35_612112605.arc; already backed up 3 time(s)
skipping archived log file /d1/db1r_605ab325_1_36_612112605.arc; already backed up 3 time(s)
skipping archived log file /d1/db1r_605ab325_1_37_612112605.arc; already backed up 3 time(s)
skipping archived log file /d1/db1r_605ab325_1_38_612112605.arc; already backed up 3 time(s)
skipping archived log file /d1/db1r_605ab325_1_39_612112605.arc; already backed up 3 time(s)
channel ORA_SBT_TAPE_1: starting archived log backup set
channel ORA_SBT_TAPE_1: specifying archived log(s) in backup set
input archived log thread=1 sequence=40 RECID=170 STAMP=612270506
channel ORA_SBT_TAPE_1: starting piece 1 at 19-JAN-13
channel ORA_SBT_TAPE_1: finished piece 1 at 19-JAN-13 with 2 copies and tag TAG20130119T110827
piece handle=2hi7t0db_1_1 comment=API Version 2.0,MMS Version 10.1.0.0
piece handle=2hi7t0db_1_2 comment=API Version 2.0,MMS Version 10.1.0.0
</pre><p>In this case, the <code class="codeph">BACKUP</code> <code class="codeph">...</code> <code class="codeph">COPIES</code> setting overrides the <code class="codeph">CONFIGURE</code> <code class="codeph">...</code> <code class="codeph">COPIES</code> setting, so RMAN sets <span class="italic"><code class="codeph">n</code></span><code class="codeph">=2</code>. RMAN skips the backup of a log only if at least two copies of the log exist on the <code class="codeph">sbt</code> device. Because three copies of each log exist on <code class="codeph">sbt</code> of all the logs generated on or before 9 a.m., RMAN skips the backups of these logs. However, RMAN backs up two copies of all logs generated after 9 a.m. because these logs have not yet been backed up to tape.
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-18E85E48-0512-48C9-B05B-FA4D64436A1B">
                  <p class="titleinexample">Example 2-58 Configuring a Default Compression Algorithm</p>
                  <p>This example assumes that you have a license for the Advanced Compression Option (ACO) of the database.</p>
                  <p>If you want to make the <code class="codeph">MEDIUM </code>compression algorithm the default compression algorithm for all compressed backups, issue the following:
                  </p><pre class="oac_no_warn" dir="ltr">CONFIGURE COMPRESSION ALGORITHM 'MEDIUM';
</pre><p>From this point on, you can use the <code class="codeph">MEDIUM </code>compression algorithm by issuing the following command:
                  </p><pre class="oac_no_warn" dir="ltr">BACKUP AS COMPRESSED BACKUPSET DATABASE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A__GUID-65CCC5D3-CEA4-4A42-A627-783D9DE85584">
                  <p class="titleinexample">Example 2-59 Configuring Sparse Backups</p>
                  <p>This example creates a persistent configuration that, by default, creates sparse backups to disk and in the backup set format. </p><code class="codeph">CONFIGURE DEVICE TYPE DISK BACKUP TYPE TO BACKUPSET SPARSE ON; </code></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>