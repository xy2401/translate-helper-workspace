<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Learn how to create Oracle Text indexes.">
      <meta name="description" content="Learn how to create Oracle Text indexes.">
      <title>Creating Oracle Text Indexes</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Application Developer's Guide ">
      <meta property="og:description" content="Learn how to create Oracle Text indexes.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Application Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96275-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="indexing-with-oracle-text.html" title="Previous" type="text/html">
      <link rel="next" href="maintaining-oracle-text-indexes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer's Guide">
    <meta name="dcterms.isVersionOf" content="CCAPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="indexing-with-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="maintaining-oracle-text-indexes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Application Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Creating Oracle Text Indexes</li>
            </ol>
            <a id="GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E" name="GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E"></a>
            
            <h2 id="CCAPP-GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E" class="sect2"><span class="enumeration_chapter">4 </span>Creating Oracle Text Indexes
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Learn how to create Oracle Text indexes.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-D1C75D15-761D-455D-B837-52549B2172C6">Summary of the Procedure for Creating an Oracle Text Index</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">Creating Preferences</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED">Section Searching Example: Creating HTML Sections</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-71087894-0C0B-42CF-B37E-064401C54545">Using Stopwords and Stoplists</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-11480023-8177-4971-8BA6-9C1526D56943">Creating a CONTEXT Index</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-210F00C9-8866-466F-909F-71C672CF469B">Creating a CTXCAT Index</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-32E664C4-0379-4CC0-8040-67B2CFED020C">Creating a CTXRULE Index</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-237C250A-4215-424B-8AAD-D3EA73F216B7">Creating a Search Index for JSON</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9080"></a><div class="props_rev_3"><a id="GUID-D1C75D15-761D-455D-B837-52549B2172C6" name="GUID-D1C75D15-761D-455D-B837-52549B2172C6"></a><h3 id="CCAPP-GUID-D1C75D15-761D-455D-B837-52549B2172C6" class="sect3"><span class="enumeration_section">4.1 </span>Summary of the Procedure for Creating an Oracle Text Index
               </h3>
               <div>
                  <p>With Oracle Text, you can create indexes of type <code class="codeph">CONTEXT</code>, <code class="codeph">CTXCAT</code>, and <code class="codeph">CTXRULE.</code></p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can choose to keep old index entries to search on original content by using the <code class="codeph">ASYNCHRONOUS_UPDATE</code> parameter string option.
                  </p>
                  <p>By default, the system expects your documents to be stored in a text column. After you satisfy this requirement, you can create an Oracle Text index by using the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> SQL statement as an extensible index of type <code class="codeph">CONTEXT</code>, without explicitly specifying preferences. The system automatically detects your language, the data type of the text column, and the format of the documents. Next, the system sets indexing preferences. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-D5F8241C-8D5B-41B8-86B9-E7A3C245B841">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="creating-oracle-text-indexes.html#GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1">Default CONTEXT Index Example</a>"</span></p>
                  </div>
                  <p>To create an Oracle Text index:</p>
                  <ol>
                     <li>
                        <p>(Optional) Determine your custom indexing preferences, section groups, or stoplists if you do not use the defaults. The following table describes these indexing classes:</p>
                        <div class="tblformal" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-B222BEE7-297A-4898-AB44-113CE9CBE77A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table provides questions with which you can determine your indexing preferences." width="90%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d12292e217">Class</th>
                                    <th align="left" valign="bottom" width="71%" id="d12292e220">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e225" headers="d12292e217 ">
                                       <p><a id="d12292e227" class="indexterm-anchor"></a>Datastore
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e225 d12292e220 ">
                                       <p>How are your documents stored?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e236" headers="d12292e217 ">
                                       <p><a id="d12292e238" class="indexterm-anchor"></a>Filter
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e236 d12292e220 ">
                                       <p>How can the documents be converted to plaintext?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e247" headers="d12292e217 ">
                                       <p><a id="d12292e249" class="indexterm-anchor"></a>Lexer
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e247 d12292e220 ">
                                       <p>What language is being indexed?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e258" headers="d12292e217 ">
                                       <p><a id="d12292e260" class="indexterm-anchor"></a>Wordlist
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e258 d12292e220 ">
                                       <p>How should stem and fuzzy queries be expanded?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e269" headers="d12292e217 ">
                                       <p><a id="d12292e271" class="indexterm-anchor"></a>Storage
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e269 d12292e220 ">
                                       <p>How should the index data be stored?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e280" headers="d12292e217 ">
                                       <p><a id="d12292e282" class="indexterm-anchor"></a>Stoplist
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e280 d12292e220 ">
                                       <p>What words or themes are not to be indexed?</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e291" headers="d12292e217 ">
                                       <p>Section Group<a id="d12292e294" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e291 d12292e220 ">
                                       <p>How are document sections defined?</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </li>
                     <li>
                        <p>(Optional) Create custom preferences, section groups, or stoplists.</p>
                     </li>
                     <li>
                        <p>Create the Oracle Text index with the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> SQL statement. Name your index and, if necessary, specify preferences.
                        </p>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-1283B131-6FBB-4D67-B363-97C648B76BB2">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="indexing-with-oracle-text.html#GUID-7BAD1BF9-999F-4B2E-AC7B-511D57071B93">Considerations for Oracle Text Indexing</a>"</span> and CREATE INDEX in <a href="../ccref/oracle-text-indexing-elements.html#CCREF0200" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">Creating Preferences </a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="creating-oracle-text-indexes.html#GUID-11480023-8177-4971-8BA6-9C1526D56943">Creating a CONTEXT Index</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CCAPP9081"></a><div class="props_rev_3"><a id="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E" name="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E"></a><h3 id="CCAPP-GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E" class="sect3"><span class="enumeration_section">4.2 </span>Creating Preferences 
               </h3>
               <div>
                  <p>If you want, you can create custom index preferences to override the defaults. Use the preferences to specify index information, such as where your files are stored and how to filter your documents. You create the preferences and then set the attributes.</p>
                  <div class="infoboxnotealso" id="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E__GUID-AEA67A29-6248-4D51-A229-B571449C5D9C">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="custom-index-preference-examples.html#GUID-53BE8540-EBF3-4787-8A7D-86A6CF75BC39" title="This appendix describes a few custom index preference examples.">Custom Index Preference Examples</a>"</span></p>
                  </div>
               </div>
            </div><a id="CCAPP9677"></a><a id="CCAPP9092"></a><div class="props_rev_3"><a id="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED" name="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED"></a><h3 id="CCAPP-GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED" class="sect3"><span class="enumeration_section">4.3 </span>Section Searching Example: Creating HTML Sections
               </h3>
               <div>
                  <p>When documents have internal structure such as in HTML and XML, you can define document sections by using embedded tags before you index. This approach enables you to query within the sections by using the <code class="codeph">WITHIN</code> operator. You define sections as part of a section group.
                  </p>
                  <div class="section">
                     <p>This example defines a <a id="d12292e504" class="indexterm-anchor"></a>section group called <code class="codeph">htmgroup</code><span class="italic"> </span>of type <code class="codeph">HTML_SECTION_GROUP.</code> It then creates a zone section in <code class="codeph">htmgroup</code> called <code class="codeph">heading</code> identified by the <code class="codeph">&lt;H1&gt;</code> tag:
                     </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;</pre><div class="infoboxnotealso" id="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED__GUID-19174F6D-AA6F-4BAB-8C5F-4ADBC6C6E8BD">
                        <p class="notep1">See Also:</p>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" title="You can use document sections in a text query application."> Searching Document Sections in Oracle Text</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCAPP9094"></a><div class="props_rev_3"><a id="GUID-71087894-0C0B-42CF-B37E-064401C54545" name="GUID-71087894-0C0B-42CF-B37E-064401C54545"></a><h3 id="CCAPP-GUID-71087894-0C0B-42CF-B37E-064401C54545" class="sect3"><span class="enumeration_section">4.4 </span>Using Stopwords and Stoplists
               </h3>
               <div>
                  <p>A <span class="italic">stopword</span> is a word that is not to be indexed, such as <span class="italic">this</span> or <span class="italic">that</span> in English.
                  </p>
                  <p>The system supplies a stoplist for every language. By default during indexing, the system uses the Oracle Text default stoplist for your language. </p>
                  <p>You can edit the default <code class="codeph">CTXSYS.DEFAULT_STOPLIST</code> or create your own with the following PL/SQL procedures:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">CTX_DDL.CREATE_STOPLIST</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CTX_DDL.ADD_STOPWORD</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CTX_DDL.REMOVE_STOPWORD</code></p>
                     </li>
                  </ul>
                  <p>You specify your custom stoplists in the parameter clause of <code class="codeph">CREATE INDEX.</code></p>
                  <p>You can also dynamically add stopwords after indexing with the <code class="codeph">ALTER INDEX</code> statement.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-20465B5A-A300-4941-BCAB-5495593A8D1C">Multi-Language Stoplists</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7">Stopthemes and Stopclasses</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-C8654FE7-21AD-46C9-83F9-1D9087791163">PL/SQL Procedures for Managing Stoplists</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9095"></a><div class="props_rev_3"><a id="GUID-20465B5A-A300-4941-BCAB-5495593A8D1C" name="GUID-20465B5A-A300-4941-BCAB-5495593A8D1C"></a><h4 id="CCAPP-GUID-20465B5A-A300-4941-BCAB-5495593A8D1C" class="sect4"><span class="enumeration_section">4.4.1 </span>Multilanguage Stoplists
                  </h4>
                  <div>
                     <p>You can create multilanguage stoplists to hold language-specific stopwords. This stoplist is useful when you use <code class="codeph">MULTI_LEXER</code> to index a table that contains documents in different languages, such as English, German, and Japanese.
                     </p>
                     <p>To create a multilanguage stoplist, use the <a id="d12292e738" class="indexterm-anchor"></a><code class="codeph">CTX_DDL.CREATE_STOPLIST</code> procedure and specify a stoplist type of <code class="codeph">MULTI_STOPLIST.</code> You add language-specific stopwords with <a id="d12292e746" class="indexterm-anchor"></a><code class="codeph">CTX_DDL.ADD_STOPWORD.</code></p>
                  </div>
               </div><a id="CCAPP9096"></a><div class="props_rev_3"><a id="GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7" name="GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7"></a><h4 id="CCAPP-GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7" class="sect4"><span class="enumeration_section">4.4.2 </span>Stopthemes and Stopclasses
                  </h4>
                  <div>
                     <p><a id="d12292e819" class="indexterm-anchor"></a><a id="d12292e821" class="indexterm-anchor"></a><a id="d12292e823" class="indexterm-anchor"></a>In addition to defining your own stopwords, you can define stopthemes, which are themes that are not indexed. This feature is available only for English and French.
                     </p>
                     <p>You can also specify that numbers are not indexed. A class of alphanumeric characters such a numbers that is not to be indexed is a <span class="italic">stopclass.</span></p>
                     <p>You create a single stoplist, to which you add the stopwords, stopthemes, and stopclasses, and specify the stoplist in the <a id="d12292e832" class="indexterm-anchor"></a><tt>paramstring</tt> for <code class="codeph">CREATE INDEX.</code></p>
                  </div>
               </div><a id="CCAPP9097"></a><div class="props_rev_3"><a id="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163" name="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163"></a><h4 id="CCAPP-GUID-C8654FE7-21AD-46C9-83F9-1D9087791163" class="sect4"><span class="enumeration_section">4.4.3 </span>PL/SQL Procedures for Managing Stoplists
                  </h4>
                  <div>
                     <p>Use the following procedures to manage stoplists, stopwords, stopthemes, and stopclasses:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CTX_DDL.CREATE_STOPLIST</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPWORD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPTHEME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPCLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPWORD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPTHEME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPCLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.DROP_STOPLIST</code></p>
                           <div class="infoboxnotealso" id="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163__GUID-2108EEE9-E0E0-4CDD-B41E-AF5B251BE2AE">
                              <p class="notep1">See Also:</p>
                              <p><a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using these procedures
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CCAPP9099"></a><div class="props_rev_3"><a id="GUID-11480023-8177-4971-8BA6-9C1526D56943" name="GUID-11480023-8177-4971-8BA6-9C1526D56943"></a><h3 id="CCAPP-GUID-11480023-8177-4971-8BA6-9C1526D56943" class="sect3"><span class="enumeration_section">4.5 </span>Creating a CONTEXT Index
               </h3>
               <div>
                  <p>The <code class="codeph">CONTEXT</code> index type is well suited for indexing large, coherent documents in formats such as Microsoft Word, HTML, or plain text. With a <code class="codeph">CONTEXT</code> index, you can also customize your index in a variety of ways. The documents must be loaded in a text table.
                  </p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60">CONTEXT Index and DML</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1">Default CONTEXT Index Example</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435">Incrementally Creating an Index with ALTER INDEX and CREATE INDEX </a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887">Creating a CONTEXT Index Incrementally with POPULATE_PENDING</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979">Custom CONTEXT Index Example: Indexing HTML Documents</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40">CONTEXT Index Example: Query Processing with FILTER BY and ORDER BY</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9100"></a><div class="props_rev_3"><a id="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60" name="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60"></a><h4 id="CCAPP-GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60" class="sect4"><span class="enumeration_section">4.5.1 </span>CONTEXT Index and DML
                  </h4>
                  <div>
                     <p>A <code class="codeph">CONTEXT</code> index is not <a id="d12292e1127" class="indexterm-anchor"></a>transactional. When you delete a record, the index is changed  immediately. That is, your session no longer finds the record from the moment you make the change, and other users cannot find the record after you commit. For inserts and updates, the new information is not visible to text searches until an index synchronization has occurred. Therefore, when you perform inserts or updates on the base table, you must explicitly synchronize the index with <a id="d12292e1130" class="indexterm-anchor"></a><code class="codeph">CTX_DDL.SYNC_INDEX.</code></p>
                     <div class="infoboxnotealso" id="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60__GUID-9C287DC2-B2B8-4432-A2F2-59951E7BC473">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="maintaining-oracle-text-indexes.html#GUID-99981916-B970-4AF0-AB50-0CFE78067F7E">Synchronizing the Index</a>"</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9101"></a><div class="props_rev_3"><a id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1" name="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1"></a><h4 id="CCAPP-GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1" class="sect4"><span class="enumeration_section">4.5.2 </span>Default CONTEXT Index Example
                  </h4>
                  <div>
                     <p>The following statement creates a default <code class="codeph">CONTEXT</code> index called <code class="codeph">myindex</code> on the <code class="codeph">text</code> column in the <code class="codeph">docs</code><span class="italic"> </span>table:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex ON docs(text) INDEXTYPE IS CTXSYS.CONTEXT;
</pre><p>When you use the <code class="codeph">CREATE INDEX</code> statement without explicitly specifying parameters, the system completes the following actions by default for all languages:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d12292e1238" class="indexterm-anchor"></a><a id="d12292e1242" class="indexterm-anchor"></a><a id="d12292e1246" class="indexterm-anchor"></a><a id="d12292e1250" class="indexterm-anchor"></a><a id="d12292e1254" class="indexterm-anchor"></a><a id="d12292e1258" class="indexterm-anchor"></a><a id="d12292e1260" class="indexterm-anchor"></a><a id="d12292e1262" class="indexterm-anchor"></a>Assumes that the text to be indexed is stored directly in a text column. The text column can be of type <code class="codeph">CLOB,</code> <code class="codeph">BLOB,</code> <code class="codeph">BFILE,</code> <code class="codeph">VARCHAR2,</code> or <code class="codeph">CHAR.</code></p>
                        </li>
                        <li>
                           <p><a id="d12292e1282" class="indexterm-anchor"></a>Detects the column type and uses filtering for the binary column types of <code class="codeph">BLOB</code> and <code class="codeph">BFILE.</code> Most document formats are supported for filtering. If your column is plain text, the system does not use filtering.
                           </p>
                           <div class="infoboxnote" id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1__GUID-08CADB58-18C6-4C00-8332-DB3A1BF324FD">
                              <p class="notep1">Note:</p>
                              <p>For <a id="d12292e1296" class="indexterm-anchor"></a>document filtering to work correctly in your system, you must ensure that your environment is set up correctly to support the <code class="codeph">AUTO_FILTER</code> filter. 
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d12292e1304" class="indexterm-anchor"></a>Assumes that the language of the text to index is the language specified in your database setup.
                           </p>
                        </li>
                        <li>
                           <p><a id="d12292e1311" class="indexterm-anchor"></a>Uses the default stoplist for the language specified in your database setup. Stoplists identify the words that the system ignores during indexing.
                           </p>
                        </li>
                        <li>
                           <p><a id="d12292e1318" class="indexterm-anchor"></a><a id="d12292e1322" class="indexterm-anchor"></a>Enables fuzzy and stemming queries for your language, if this feature is available for your language.
                           </p>
                        </li>
                     </ul>
                     <p>You can always change the default indexing behavior by customizing your preferences and specifying those preferences in the parameter string of <code class="codeph">CREATE</code> <code class="codeph">INDEX.</code></p>
                     <div class="infoboxnotealso" id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1__GUID-4174CFBD-E438-44E9-B9C2-B83913AC0738">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/oracle-text-supported-document-formats.html#CCREF1300" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about configuring your environment to use the <code class="codeph">AUTO_FILTER</code> filter
                        </p>
                     </div>
                  </div>
               </div><a id="CCAPP9470"></a><div class="props_rev_3"><a id="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435" name="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435"></a><h4 id="CCAPP-GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435" class="sect4"><span class="enumeration_section">4.5.3 </span>Incrementally Creating an Index with ALTER INDEX and CREATE INDEX 
                  </h4>
                  <div>
                     <p><a id="d12292e1408" class="indexterm-anchor"></a>The <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> and <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statements support incrementally creating a global <code class="codeph">CONTEXT</code> index.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d12292e1431" class="indexterm-anchor"></a><a id="d12292e1435" class="indexterm-anchor"></a>For a global index, use <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> to support the <code class="codeph">NOPOPULATE</code> keyword in the <code class="codeph">REPLACE</code> parameter of the <code class="codeph">REBUILD</code> clause. By doing so, you can create indexes incrementally. This keyword is valuable for creating Oracle Text indexes in large installations that cannot afford to have the indexing process running continuously.
                           </p>
                        </li>
                        <li>
                           <p>For a local index partition, modify the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">REBUILD</code> <code class="codeph">partition</code> ... <code class="codeph">parameters</code> ('<code class="codeph">REPLACE</code> ...') parameter string to support the <code class="codeph">NOPOPULATE</code> keyword.
                           </p>
                        </li>
                        <li>
                           <p>For a partition on a local index, <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> ... <code class="codeph">LOCAL</code> ... (<code class="codeph">partition</code> ... <code class="codeph">parameters</code> ('<code class="codeph">NOPOPULATE</code>')) is supported. The partition-level <a id="d12292e1503" class="indexterm-anchor"></a><code class="codeph">POPULATE</code> or <code class="codeph">NOPOPULATE</code> keywords override any <code class="codeph">POPULATE</code> or <code class="codeph">NOPOPULATE</code> specified at the index level.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435__GUID-26F89C14-326B-4D56-ACA9-93278167808E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF0101" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about the syntax for the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> and <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statements
                        </p>
                     </div>
                  </div>
               </div><a id="CCAPP9459"></a><div class="props_rev_3"><a id="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887" name="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887"></a><h4 id="CCAPP-GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887" class="sect4"><span class="enumeration_section">4.5.4 </span>Incrementally Creating a CONTEXT Index with POPULATE_PENDING
                  </h4>
                  <div>
                     <p>For large installations that cannot afford to have the indexing process run continuously, use the <a id="d12292e1606" class="indexterm-anchor"></a><code class="codeph">CTX_DDL.POPULATE_PENDING</code> procedure. This procedure also provides finer control over creation of the indexes. The preferred method is to create an empty index, place all rowids into the pending queue, and build the index through <code class="codeph">CTX_DDL.SYNC_INDEX.</code></p>
                     <p>This procedure populates the <a id="d12292e1615" class="indexterm-anchor"></a>pending queue with every rowid in the base table or table partition.
                     </p>
                     <div class="infoboxnotealso" id="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887__GUID-1EE83C7D-A1A7-4F92-811A-B820C5328EAB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/CTX_DDL-package.html#CCREF2110" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information about <code class="codeph">CTX_DDL.POPULATE_PENDING</code></p>
                     </div>
                  </div>
               </div><a id="CCAPP9102"></a><div class="props_rev_3"><a id="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979" name="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979"></a><h4 id="CCAPP-GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979" class="sect4"><span class="enumeration_section">4.5.5 </span>Custom CONTEXT Index Example: Indexing HTML Documents
                  </h4>
                  <div>
                     <p>To index an HTML document set located by URLs, specify the system-defined preference for the <code class="codeph">NULL_FILTER</code> in the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement.
                     </p>
                     <p>You can also specify your <code class="codeph">htmgroup</code> section group that uses <code class="codeph">HTML_SECTION_GROUP</code> and <code class="codeph">my_url</code> datastore that uses <code class="codeph">URL_DATASTORE:</code></p><pre class="oac_no_warn" dir="ltr">begin
 ctx_ddl.create_preference('my_url','URL_DATASTORE');
 ctx_ddl.set_attribute('my_url','HTTP_PROXY','www-proxy.us.example.com');
 ctx_ddl.set_attribute('my_url','NO_PROXY','us.example.com');
 ctx_ddl.set_attribute('my_url','Timeout','300');
end;

begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;
</pre><p>You can then index your documents:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex on docs(htmlfile) indextype is ctxsys.context 
parameters(
'datastore my_url filter ctxsys.null_filter section group htmgroup'
);</pre><div class="infoboxnotealso" id="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979__GUID-1E422DF9-46CE-4C79-B3CF-C39231A96060">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">Creating Preferences </a>"</span> for more examples on creating a custom <code class="codeph">CONTEXT</code> index
                        </p>
                     </div>
                  </div>
               </div><a id="CCAPP9103"></a><div class="props_rev_3"><a id="GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40" name="GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40"></a><h4 id="CCAPP-GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40" class="sect4"><span class="enumeration_section">4.5.6 </span>CONTEXT Index Example: Query Processing with FILTER BY and ORDER BY
                  </h4>
                  <div>
                     <p>To enable more efficient query processing and better response time for mixed queries, use <code class="codeph">FILTER</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses as shown in the following example:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex on docs(text) INDEXTYPE is CTXSYS.CONTEXT
FILTER BY category, publisher, pub_date
ORDER BY pub_date desc;
</pre><p>Because you specified the <code class="codeph">FILTER</code> <code class="codeph">BY</code> <code class="codeph">category,</code> <code class="codeph">publisher,</code> <code class="codeph">pub_date</code> clause at query time, Oracle Text also considers pushing a relational predicate on any of these columns into the Oracle Text index row source.
                     </p>
                     <p>Also, when the query has matching <code class="codeph">ORDER</code> <code class="codeph">BY</code> criteria, by specifying <code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">pub_date desc,</code> Oracle Text determines whether to push <code class="codeph">SORT</code> into the Oracle Text index row source for better response time.
                     </p>
                  </div>
               </div><a id="CCAPP9660"></a><div class="sect3"><a id="GUID-C300E39D-4955-444F-B257-34E970ACF4A7" name="GUID-C300E39D-4955-444F-B257-34E970ACF4A7"></a><h4 id="CCAPP-GUID-C300E39D-4955-444F-B257-34E970ACF4A7" class="sect4"><span class="enumeration_section">4.5.7 </span>DATASTORE Triggers in Release 12<span class="italic">c</span></h4>
                  <div>
                     <p>If you want to create an Oracle Text <code class="codeph">CONTEXT</code> index on multiple columns, use <code class="codeph">MULTI_COLUMN_DATASTORE</code> or <code class="codeph">USER_DATASTORE</code> to bring in the various columns for indexing. Oracle Text updates the index only when the contents of a specified column changes. 
                     </p>
                  </div>
               </div>
            </div><a id="CCAPP9104"></a><div class="props_rev_3"><a id="GUID-210F00C9-8866-466F-909F-71C672CF469B" name="GUID-210F00C9-8866-466F-909F-71C672CF469B"></a><h3 id="CCAPP-GUID-210F00C9-8866-466F-909F-71C672CF469B" class="sect3"><span class="enumeration_section">4.6 </span>Creating a CTXCAT Index
               </h3>
               <div>
                  <p><a id="d12292e2002" class="indexterm-anchor"></a>The <code class="codeph">CTXCAT</code> index type is well-suited for indexing small text fragments and related information. This index type provides better structured query performance than a <code class="codeph">CONTEXT</code> index.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9">CTXCAT Index and DML</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC">About CTXCAT Sub-Indexes and Their Costs</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1">Creating CTXCAT Sub-indexes</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0">Creating CTXCAT Index</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9105"></a><div class="props_rev_3"><a id="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9" name="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9"></a><h4 id="CCAPP-GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9" class="sect4"><span class="enumeration_section">4.6.1 </span>CTXCAT Index and DML Operations
                  </h4>
                  <div>
                     <p>A <code class="codeph">CTXCAT</code> index is <a id="d12292e2101" class="indexterm-anchor"></a>transactional. When you perform inserts, updates, and deletes on the base table, Oracle Text automatically synchronizes the index. Unlike a <code class="codeph">CONTEXT</code> index, no <code class="codeph">CTX_DDL.SYNC_INDEX</code> is necessary.
                     </p>
                     <div class="infoboxnote" id="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9__GUID-6703E5D9-C191-4659-B07D-422A94D65D0C">
                        <p class="notep1">Note:</p>
                        <p>Applications that insert without invoking triggers, such as SQL*Loader, do not result in automatic index synchronization as described in this section.</p>
                     </div>
                  </div>
               </div><a id="CCAPP9106"></a><div class="props_rev_3"><a id="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC" name="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC"></a><h4 id="CCAPP-GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC" class="sect4"><span class="enumeration_section">4.6.2 </span>About CTXCAT Subindexes and Their Costs
                  </h4>
                  <div>
                     <p><a id="d12292e2176" class="indexterm-anchor"></a>A <code class="codeph">CTXCAT</code> index contains subindexes that you define as part of your index set. You create a subindex on one or more columns to improve mixed query performance. However, the time Oracle Text takes to create a <code class="codeph">CTXCAT</code> index depends on its total size, and the total size of a <code class="codeph">CTXCAT</code> index is directly related to the following factors:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Total text to be indexed</p>
                        </li>
                        <li>
                           <p>Number of subindexes in the index set</p>
                        </li>
                        <li>
                           <p>Number of columns in the base table that make up the subindexes</p>
                        </li>
                     </ul>
                     <p>Many component indexes in your index set also degrade the performance of insert, update, and delete operations, because more indexes must be updated.</p>
                     <p>Because of the added index time and disk space costs for creating a <code class="codeph">CTXCAT</code> index, before adding it to your index set, carefully consider the query performance benefit that each component index gives your application.
                     </p>
                     <div class="infoboxnote" id="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC__GUID-783D7726-4B92-40A2-94CD-DE8AA4C6F322">
                        <p class="notep1">Note:</p>
                        <p>You can use <code class="codeph">I_ROWID_INDEX_CLAUSE</code> of <code class="codeph">BASIC_STORAGE</code> to speed up creation of a <code class="codeph">CTXCAT</code> index. This clause is described in <a href="../ccref/oracle-text-indexing-elements.html#CCREF2028" target="_blank"><span class="italic">Oracle Text Reference</span></a>.
                        </p>
                     </div>
                  </div>
               </div><a id="CCAPP9496"></a><a id="CCAPP9678"></a><a id="CCAPP9679"></a><a id="CCAPP9107"></a><div class="props_rev_3"><a id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1" name="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1"></a><h4 id="CCAPP-GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1" class="sect4"><span class="enumeration_section">4.6.3 </span>Creating CTXCAT Subindexes
                  </h4>
                  <div>
                     <p><a id="d12292e2289" class="indexterm-anchor"></a>An online auction site that must store item descriptions, prices, and bid-close dates for ordered look-up is a good example for creating a <code class="codeph">CTXCAT</code> index.
                     </p>
                     <div class="figure" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">
                        <p class="titleinfigure">Figure 4-1 Auction Table Schema and CTXCAT Index</p><img src="img/ccapp_pb_010a.png" width="403" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/ccapp_pb_010a.html"><br><a href="img_text/ccapp_pb_010a.html">Description of "Figure 4-1 Auction Table Schema and CTXCAT Index"</a></div>
                     <!-- class="figure" -->
                     <p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">Figure 4-1</a> shows a table called <code class="codeph">AUCTION</code> with the following schema:
                     </p><pre class="oac_no_warn" dir="ltr">create table auction(
item_id number,
title varchar2(100),
category_id number,
price number,
bid_close date);
</pre><p>To create your subindexes, create an index set to contain them:</p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_index_set('auction_iset');
end;</pre><p></p>
                     <p>Next, determine the structured queries that you are likely to enter. The <code class="codeph">CATSEARCH</code> query operator takes a mandatory text clause and optional structured clause. 
                     </p>
                     <p>In the example, this means that all queries include a clause for the <code class="codeph">title</code> column, which is the text column.
                     </p>
                     <p>Assume that the structured clauses fall into the following categories:</p>
                     <div class="tblformal" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-8C2C5BAC-B9C1-4A92-AF31-AA09204C2843">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes structured clauses for queries on a sample index." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d12292e2334">Structured Clauses</th>
                                 <th align="left" valign="bottom" width="30%" id="d12292e2337">Subindex Definition to Serve Query</th>
                                 <th align="left" valign="bottom" width="20%" id="d12292e2340">Category</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d12292e2345" headers="d12292e2334 ">
                                    <p>'price &lt; 200'</p>
                                    <p>'price = 150'</p>
                                    <p>'order by price'</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d12292e2345 d12292e2337 ">
                                    <p>'price'</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12292e2345 d12292e2340 ">
                                    <p>A</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d12292e2359" headers="d12292e2334 ">
                                    <p>'price = 100 order by bid_close'</p>
                                    <p>'order by price, bid_close'</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d12292e2359 d12292e2337 ">
                                    <p>'price, bid_close'</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12292e2359 d12292e2340 ">
                                    <p>B</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-F8F3E319-D4CB-4FC3-B3AB-E25C88D44CF1">Structured Query Clause Category A</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <a id="d12292e2377" class="indexterm-anchor"></a>structured query clause contains an expression only for the <code class="codeph">price</code> column as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT FROM auction WHERE CATSEARCH(title, 'camera', 'price &lt; 200')&gt; 0;
SELECT FROM auction WHERE CATSEARCH(title, 'camera', 'price = 150')&gt; 0;
SELECT FROM auction WHERE CATSEARCH(title, 'camera', 'order by price')&gt; 0;
</pre><p>These queries can be served by using subindex B. However, for efficiency, you can also create a subindex only on <code class="codeph">price</code> (subindex A):
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.add_index('auction_iset','price'); /* sub-index A */
end;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-F7D632F0-1B48-4DBD-9FFE-6EBEADFC8EBF">Structured Query Clause Category B</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The structured query clause includes an equivalent expression for <code class="codeph">price</code> ordered by <code class="codeph">bid_close,</code> and an expression for ordering by <code class="codeph">price</code> and <code class="codeph">bid_close,</code> in that order:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT FROM auction WHERE CATSEARCH(
   title, 'camera','price = 100 
   ORDER BY bid_close')&gt; 0;
SELECT FROM auction 
   WHERE CATSEARCH(
   title, 'camera','order by price, bid_close')&gt; 0;
</pre><p>These queries can be served with a subindex defined as follows:</p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.add_index('auction_iset','price, bid_close'); /* sub-index B */
end;
</pre><p>Like a combined <a id="d12292e2418" class="indexterm-anchor"></a>b-tree index, the column order that you specify with <code class="codeph">CTX_DDL.ADD_INDEX</code> affects the efficiency and viability of the index scan which Oracle Text uses to serve specific queries. For example, if two structured columns <code class="codeph">p</code> and <code class="codeph">q</code> have a b-tree index specified as <code class="codeph">'p,q'</code>, Oracle Text cannot scan this index to sort <code class="codeph">'ORDER</code> <code class="codeph">BY q,p'</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CCAPP9110"></a><div class="props_rev_3"><a id="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0" name="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0"></a><h4 id="CCAPP-GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0" class="sect4"><span class="enumeration_section">4.6.4 </span>Creating CTXCAT Index
                  </h4>
                  <div>
                     <p>This example combines the previous examples and creates the index set preference with the two subindexes:</p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_index_set('auction_iset');
ctx_ddl.add_index('auction_iset','price'); /* sub-index A */
ctx_ddl.add_index('auction_iset','price, bid_close'); /* sub-index B */
end;
</pre><p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">Figure 4-1</a> shows how the subindexes A and B are created from the auction table. Each subindex is a b-tree index on the text column and the named structured columns. For example, subindex A is an index on the <code class="codeph">title</code> column and the <code class="codeph">bid_close</code> column. 
                     </p>
                     <p>You create the <a id="d12292e2517" class="indexterm-anchor"></a>combined catalog index with the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement as follows:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX auction_titlex ON AUCTION(title) 
  INDEXTYPE IS CTXSYS.CTXCAT 
  PARAMETERS ('index set auction_iset')
;</pre><div class="infoboxnotealso" id="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0__GUID-C63091F2-3B4A-4C4D-B422-A589192B1A93">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF0105" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about creating a <code class="codeph">CTXCAT</code> index with <code class="codeph">CREATE</code><code class="codeph">INDEX</code></p>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9111"></a><div class="props_rev_3"><a id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C" name="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C"></a><h3 id="CCAPP-GUID-32E664C4-0379-4CC0-8040-67B2CFED020C" class="sect3"><span class="enumeration_section">4.7 </span>Creating a CTXRULE Index
               </h3>
               <div>
                  <p>To build a document classification application, use the <code class="codeph">CTXRULE</code> index on a table or queries. The stream of incoming documents is classified by content, and the queries define your categories. You can use the <code class="codeph">MATCHES</code> operator to classify single documents.
                  </p>
                  <p>To create a <code class="codeph">CTXRULE</code> index and a simple document classification application:
                  </p>
                  <ol>
                     <li>
                        <p>Create a table of queries.</p>
                        <p>Create a <code class="codeph">myqueries</code> table to hold the category name and query text, and then populate the table with the classifications and the queries that define each classification.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE myqueries (
queryid NUMBER PRIMARY KEY,
category VARCHAR2(30),
query VARCHAR2(2000)
);
</pre><p>For example, consider a classification for the <span class="italic">US Politics,</span> <span class="italic">Music,</span> and <span class="italic">Soccer</span> subjects:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO myqueries VALUES(1, 'US Politics', 'democrat or republican');
INSERT INTO myqueries VALUES(2, 'Music', 'ABOUT(music)');
INSERT INTO myqueries VALUES(3, 'Soccer', 'ABOUT(soccer)');</pre><div class="infobox-tip" id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C__GUID-220D5883-ACFD-4E60-9F49-4FA9E68D657C">
                           <p class="notep1">Tip:</p>
                           <p>You can also generate a table of rules (or queries) with the <code class="codeph">CTX_CLS.TRAIN</code> procedure, which takes as input a document training set.
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>Create the <code class="codeph">CTXRULE</code> index.
                        </p>
                        <p>Use the <code class="codeph">CREATE INDEX</code> statement to create the <code class="codeph">CTXRULE</code> index and specify lexer, storage, section group, and wordlist parameters if needed.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myruleindex ON myqueries(query)
     INDEXTYPE IS CTXRULE PARAMETERS
           ('lexer lexer_pref 
             storage storage_pref 
             section group section_pref 
             wordlist wordlist_pref');</pre></li>
                     <li>
                        <p>Classify a document.</p>
                        <p>Use the <code class="codeph">MATCHES</code> operator to classify a document.
                        </p>
                        <p>Assume that incoming documents are stored in the table <code class="codeph">news</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE news ( 
newsid NUMBER,
author VARCHAR2(30),
source VARCHAR2(30),
article CLOB);
</pre><p>If you want, create a "before insert" trigger with <code class="codeph">MATCHES</code> to route each document to a <code class="codeph">news_route</code> table based on its classification:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  -- find matching queries
  FOR c1 IN (select category
               from myqueries
              where MATCHES(query, :new.article)&gt;0) 
  LOOP
    INSERT INTO news_route(newsid, category)
      VALUES (:new.newsid, c1.category);
  END LOOP;
END;</pre></li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C__GUID-4E1362B7-F777-455A-9388-8D49AF29839F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="classifying-documents-in-oracle-text.html#GUID-D694A98B-3B18-48B2-B10E-FB884B436FAF" title="Oracle Text offers various approaches to document classification."> Classifying Documents in Oracle Text</a> for more information on document classification and the <code class="codeph">CTXRULE</code> index
                           </p>
                        </li>
                        <li>
                           <p><a href="../ccref/CTX_CLS-package.html#CCREF1500" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information on <code class="codeph">CTX_CLS.TRAIN</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7" name="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7"></a><h3 id="CCAPP-GUID-237C250A-4215-424B-8AAD-D3EA73F216B7" class="sect3"><span class="enumeration_section">4.8 </span>Creating a Search Index for JSON
               </h3>
               <div>
                  <p>Oracle Text supports a simpler alternative syntax for creating a search index on JavaScript Object Notation (JSON). The JSON search index is created on the table column name.</p>
                  <div class="infoboxnotealso" id="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7__GUID-7DF0667D-7681-4F6C-9575-87AFD29B596C">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adjsn/indexes-for-json-data.html#ADJSN-GUID-D7A604E1-F617-4C92-A9D9-00B6AB78EFD8" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>