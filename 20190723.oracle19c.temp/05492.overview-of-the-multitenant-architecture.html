<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes the most important components of the multitenant architecture.">
      <meta name="description" content="This chapter describes the most important components of the multitenant architecture.">
      <title>Overview of the Multitenant Architecture</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="This chapter describes the most important components of the multitenant architecture.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction-to-the-multitenant-architecture.html" title="Previous" type="text/html">
      <link rel="next" href="creating-and-configuring-a-multitenant-environment.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-to-the-multitenant-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-and-configuring-a-multitenant-environment.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="multitenant-architecture.html" property="item" typeof="WebPage"><span property="name">Multitenant Architecture </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Overview of the Multitenant Architecture </li>
            </ol>
            <a id="GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" name="GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC"></a><a id="CNCPT89248"></a>
            
            <h2 id="MULTI-GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" class="sect2"><span class="enumeration_chapter">2 </span>Overview of the Multitenant Architecture 
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='overview-of-the-multitenant-architecture'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>This chapter describes the most important components of the multitenant architecture.</p>
               <p>This part contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB">Overview of Containers in a CDB</a><br>A <span class="bold">container</span> is a collection of schemas, objects, and related structures in a <span class="bold">multitenant container database (CDB)</span>. Within a CDB, each container has a unique ID and name.
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C">Overview of Commonality in the CDB</a><br>In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01">Overview of Applications in an Application Container</a><br>Within an application container, an <strong class="term">application</strong> is the named, versioned set of common data and metadata stored in the application root.
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48">Overview of Services in a CDB</a><br>Clients must connect to PDBs or application roots using services. 
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1">Overview of Tablespaces and Database Files in a CDB</a><br>A CDB has the same structure as a non-CDB, except that each PDB and application root has its own set of tablespaces, including its own <code class="codeph">SYSTEM</code>, <code class="codeph">SYSAUX</code>, and undo tablespaces. 
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1">Overview of Availability in a CDB</a><br>Many availability features that exist for a non-CDB also exist for individual PDBs within a CDB.
                  </li>
                  <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277">Overview of Oracle Resource Manager in a CDB</a><br>Using Oracle Resource Manager (Resource Manager), you can create CDB resource plans and set initialization parameters to allocate resources to PDBs.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="multitenant-architecture.html#GUID-BBAD3448-8A5A-4397-BD3A-F05D945DB7F8" title="The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB).">Multitenant Architecture</a></p>
                  </div>
               </div>
            </div>
            <a id="CNCPT89249"></a><div class="props_rev_3"><a id="GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" name="GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB"></a><h3 id="MULTI-GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" class="sect3"><span class="enumeration_section">2.1 </span>Overview of Containers in a CDB
               </h3>
               <div>
                  <p>A <span class="bold">container</span> is a collection of schemas, objects, and related structures in a <span class="bold">multitenant container database (CDB)</span>. Within a CDB, each container has a unique ID and name.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3">The CDB Root and System Container</a><br>The <span class="bold">CDB root</span>, also called simply <span class="italic">the root</span>, is a collection of schemas, schema objects, and nonschema objects to which all PDBs belong. 
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2">PDBs</a><br>A <span class="bold">PDB</span> is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database. 
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202">Data Dictionary Architecture in a CDB</a><br>From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB. 
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C">Current Container</a><br>For a given session, the current container is the one in which the session is running. The current container can be the CDB root, an application root, or a PDB.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893">Cross-Container Operations</a><br>A <strong class="term">cross-container operation</strong> is a DDL or DML statement that affects multiple containers at once. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89250"></a><div class="props_rev_3"><a id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3" name="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3"></a><h4 id="MULTI-GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3" class="sect4"><span class="enumeration_section">2.1.1 </span>The CDB Root and System Container
                  </h4>
                  <div>
                     <p>The <span class="bold">CDB root</span>, also called simply <span class="italic">the root</span>, is a collection of schemas, schema objects, and nonschema objects to which all PDBs belong. 
                     </p>
                     <p>Every CDB has one and only one root container named <code class="codeph">CDB$ROOT</code>. The root stores the system metadata required to manage PDBs. All PDBs belong to the root. The <a href="glossary.html#GUID-0E3286DF-A941-47D6-A2C8-333D9B4644B3"><span class="xrefglossterm">system container</span></a> is the CDB root and all PDBs that belong to this root.
                     </p>
                     <p>The CDB root does not store user data. Oracle recommends that you do <span class="italic">not</span> add common objects to the root or modify Oracle-supplied schemas in the root. However, you can create common users and roles for database administration. A common user with the necessary privileges can switch between containers.
                     </p>
                     <p>Oracle recommends AL32UTF8 for the root character set. PDBs with different character sets can reside in the same CDB without requiring character set conversion.</p>
                     <div class="example" id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3__GUID-7EED704F-9B40-4930-B63F-14EE48273B7A">
                        <p class="titleinexample">Example 2-1 All Containers in a CDB</p>
                        <p>The following query, issued by an administrative user connected to the CDB root, lists all containers in the CDB (including the seed and CDB root), ordered by <code class="codeph">CON_ID</code>.
                        </p><pre class="pre codeblock"><code>SQL&gt; COL NAME FORMAT A15
SQL&gt; SELECT NAME, CON_ID, DBID, CON_UID, GUID FROM V$CONTAINERS ORDER BY CON_ID;

NAME                CON_ID       DBID    CON_UID GUID
--------------- ---------- ---------- ---------- --------------------------------
CDB$ROOT                 1 1895287725          1 2003321EDD4F60D6E0534E40E40A41C5
PDB$SEED                 2 2795386505 2795386505 200AC90679F07B55E05396C0E40A23FE
SAAS_SALES_AC            3 1239646423 1239646423 200B4CE0A8DC1D24E05396C0E40AF8EE
SALESPDB                 4 3692549634 3692549634 200B4928319C1BCCE05396C0E40A2432
HRPDB                    5 3784483090 3784483090 200B4928319D1BCCE05396C0E40A2432
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4311CC75-87D3-4548-A7CE-11FE5141C9E3__GUID-05C78509-1FE1-40AF-A8C2-B7ABFC24C922">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="Within the context of either the system container (CDB) or an application container, a common user is a database user that has the same identity in the root and in every existing and future PDB within this container.">Common Users in a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" title="Become familiar with basic concepts related to configuring and managing a multitenant environment.">Overview of Configuring and Managing a Multitenant Environment</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89251"></a><div class="props_rev_3"><a id="GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" name="GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2"></a><h4 id="MULTI-GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" class="sect4"><span class="enumeration_section">2.1.2 </span>PDBs
                  </h4>
                  <div>
                     <p>A <span class="bold">PDB</span> is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database. 
                     </p>
                     <p>Every PDB is owned by <code class="codeph">SYS</code>, regardless of which user created the PDB. <code class="codeph">SYS</code> is a <a href="glossary.html#GUID-879D936A-45FE-4E4D-8099-5060F3F55353"><span class="xrefglossterm">common user</span></a> in the CDB.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC">Types of PDBs</a><br>All PDBs are user-created with the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement except for <code class="codeph">PDB$SEED</code>, which is Oracle-supplied.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-962835F2-3DD2-4D00-8817-2E63532E00AE">Purpose of PDBs</a><br>From the point of view of an application, a PDB is a self-contained, fully functional Oracle database. You can consolidate PDBs into a single CDB to achieve economies of scale, while maintaining isolation between PDBs.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-893AB508-9113-405E-BE45-E73CC76994C3">Proxy PDBs</a><br>A <span class="bold">proxy PDB</span> refers to a remote PDB, called the <span class="bold">referenced PDB</span>. 
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6">Names for PDBs</a><br>Containers in a CDB share the same namespace, which means that they must have unique names within this namespace.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C3B11701-F23A-4781-91EE-C907F0AF2527">Database Links Between PDBs</a><br>By default, a user connected to one PDB must use database links to access objects in a different PDB. This behavior is directly analogous to a user in a non-CDB accessing objects in a different non-CDB. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC" name="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC"></a><h5 id="MULTI-GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC" class="sect5"><span class="enumeration_section">2.1.2.1 </span>Types of PDBs
                     </h5>
                     <div>
                        <p>All PDBs are user-created with the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement except for <code class="codeph">PDB$SEED</code>, which is Oracle-supplied.
                        </p>
                        <p>You can create the following types of PDBs.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-BC633CFF-FA40-4CEC-A4A0-5DB9C0156DEF">Standard PDB</p>
                           <p>This type of PDB results from running <code class="codeph">CREATE PLUGGABLE DATABASE</code> <span class="italic">without</span> specifying the PDB as a seed, proxy PDB, or <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a>. Its capabilities depend on the container in which you create it:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>PDB plugged in to the <a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB root</span></a></p>
                                 <p>This PDB belongs to the CDB root container and not an <a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">application container</span></a>. This type of PDB cannot use application common objects. See <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Application PDB</p>
                                 <p>An <a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">application PDB</span></a> belongs to exactly one application container. Unlike PDBs plugged in to the CDB root, application PDBs can share a master <a href="glossary.html#GUID-27F7A936-A99F-44F5-AA9F-03599741AB62"><span class="xrefglossterm">application</span></a> definition within an application container. For example, a <code class="codeph">usa_zipcodes</code> table in an application root might be a <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a>, which means it contains data accessible by all application PDBs plugged in to this root. PDBs that do not reside within the application container cannot access its application common objects.
                                 </p>
                              </li>
                           </ul>
                           <p>A <a href="glossary.html#GUID-AD8CD34D-E890-45AE-BA10-54888E5FEE2D"><span class="xrefglossterm">refreshable clone PDB</span></a> is a read-only clone of a source PDB that can receive incremental changes from a source PDB. You can configure the clone PDB to receive the changes automatically or only manually. 
                           </p>
                           <p>A <a href="glossary.html#GUID-1CF16750-4F79-460A-A2AC-20B838A9B345"><span class="xrefglossterm">snapshot copy PDB</span></a> is created using a storage-level snapshot. Unlike a standard PDB clone, a snapshot copy PDB cannot be unplugged.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-1A2A6181-511D-4317-9C26-0918A0C77129">Application Root</p>
                           <p>Consider an application root as an application-specific root container. It serves as a repository for a master definition of an application back end, including common data and metadata. To create an application root, connect to the CDB root and specify the <code class="codeph">AS APPLICATION CONTAINER</code> clause in a <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement. See <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" title="An application container has exactly one application root, which is the parent of the application PDBs in the container.">Application Root</a>"</span>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-EA281E34-FBEB-4DBB-9D77-0674BEC2A055">Seed PDBs</p>
                           <p>Unlike a standard PDB, a seed PDB is not intended to support an application. Rather, the seed is a <span class="italic">template</span> for the creation of PDBs that support applications. A seed can be either of the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Seed PDB plugged in the CDB root (<code class="codeph">PDB$SEED</code>)
                                 </p>
                                 <p>You can use this system-supplied template to create new PDBs either in an application container or the system container. The system container contains exactly one PDB seed. You cannot drop <code class="codeph">PDB$SEED</code>, or add objects to or modify objects within it.
                                 </p>
                              </li>
                              <li>
                                 <p>Application seed PDB</p>
                                 <p>To accelerate creation of application PDBs within an application container, you can create an optional <a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">application seed</span></a>. An application container contains either zero or one application seed.
                                 </p>
                                 <p>You create an application seed by connecting to the application container and executing the <code class="codeph">CREATE PLUGGABLE DATABASE ... AS SEED</code> statement. See <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" title="An application seed is an optional, user-created PDB within an application container. An application container has either zero or one application seed.">Application Seed</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__GUID-FF686A7D-C6C0-48BA-A380-34D96C5614EF">Proxy PDBs</p>
                           <p>A <a href="glossary.html#GUID-57D0350C-AA01-441A-AB35-E7E76065BA21"><span class="xrefglossterm">proxy PDB</span></a> is a PDB that uses a database link to reference a PDB in a remote CDB. When you issue a statement in a proxy PDB while the PDB is open, the statement executes in the referenced PDB.
                           </p>
                           <p>You must create a proxy PDB while connected to the CDB root or application root. You can alter or drop a proxy PDB just as you can a standard PDB.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D0F40745-FC70-4BE0-85D3-3745DE3312AC__ORACLEDATABASEADMINISTRATORSGUIDE-7BDE3FE7">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="overview-of-pdb-creation.html#GUID-C95E8613-C556-4818-BE64-B2129AC2F8A2" title="A CDB supports multiple techniques for creating PDBs.">Overview of PDB Creation</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89345"></a><div class="props_rev_3"><a id="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE" name="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE"></a><h5 id="MULTI-GUID-962835F2-3DD2-4D00-8817-2E63532E00AE" class="sect5"><span class="enumeration_section">2.1.2.2 </span>Purpose of PDBs
                     </h5>
                     <div>
                        <p>From the point of view of an application, a PDB is a self-contained, fully functional Oracle database. You can consolidate PDBs into a single CDB to achieve economies of scale, while maintaining isolation between PDBs.</p>
                        <p>You can use PDBs to achieve the following goals:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Store data specific to an application</p>
                              <p>For example, a sales application can have its own dedicated PDB, and a human resources application can have its own dedicated PDB. Alternatively, you can create an <a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">application container</span></a>, which is a named collection of PDBs, to store an application back end containing common data and metadata (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="An application container is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.">About Application Containers</a>"</span>).
                              </p>
                           </li>
                           <li>
                              <p>Move data into a different CDB</p>
                              <p>A database is "pluggable" because you can package it as a self-contained unit, called an <a href="glossary.html#GUID-86A738EE-AD59-4371-9E1B-7C82232520AA"><span class="xrefglossterm">unplugged PDB</span></a>, and then move it into another CDB.
                              </p>
                           </li>
                           <li>
                              <p>Perform rapid upgrades</p>
                              <p>You can unplug a PDB from CDB at a lower Oracle Database release, and then plug it in to a CDB at a higher release.</p>
                           </li>
                           <li>
                              <p>Copy data quickly without loss of availability</p>
                              <p>For testing and development, you can clone a PDB while it remains open, storing the clone in the same or a different CDB. Optionally, you can specify the PDB as a <a href="glossary.html#GUID-AD8CD34D-E890-45AE-BA10-54888E5FEE2D"><span class="xrefglossterm">refreshable clone PDB</span></a>. Alternatively, you use the Oracle-supplied <a href="glossary.html#GUID-D05C6A55-5452-4C82-942C-59DB245671BE"><span class="xrefglossterm">seed PDB</span></a> or a user-created <a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">application seed</span></a> to copy new PDBs.
                              </p>
                           </li>
                           <li>
                              <p>Reference data in a different CDB</p>
                              <p>You can create a <a href="glossary.html#GUID-57D0350C-AA01-441A-AB35-E7E76065BA21"><span class="xrefglossterm">proxy PDB</span></a> that refers to a different PDB, either in the same CDB or in a separate CDB. When you issue statements in the proxy PDB, they execute in the referenced PDB.
                              </p>
                           </li>
                           <li>
                              <p>Isolate grants within PDBs</p>
                              <p>A local or common user with appropriate privileges can grant <code class="codeph">EXECUTE</code> privileges on a schema object to <code class="codeph">PUBLIC</code> within an individual PDB.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-962835F2-3DD2-4D00-8817-2E63532E00AE__GUID-05C78509-1FE1-40AF-A8C2-B7ABFC24C922">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" title="The multitenant architecture solves several problems posed by the traditional non-CDB architecture.">Benefits of the Multitenant Architecture</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> to learn how to grant roles and privileges in a CDB
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-893AB508-9113-405E-BE45-E73CC76994C3" name="GUID-893AB508-9113-405E-BE45-E73CC76994C3"></a><h5 id="MULTI-GUID-893AB508-9113-405E-BE45-E73CC76994C3" class="sect5"><span class="enumeration_section">2.1.2.3 </span>Proxy PDBs
                     </h5>
                     <div>
                        <p>A <span class="bold">proxy PDB</span> refers to a remote PDB, called the <span class="bold">referenced PDB</span>. 
                        </p>
                        <p>Although you issue SQL statements in the proxy (referring) PDB, the statements execute in the referenced PDB. In this respect, a proxy PDB is loosely analogous to a symbolic link file in Linux.</p>
                        <p>Proxy PDBs provide the following benefits:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Aggregate data from multiple application models</p>
                              <p>Proxy PDBs enable you to build location-transparent applications that can aggregate data from multiple sources. These sources can be in the same data center or distributed across data centers.</p>
                           </li>
                           <li>
                              <p>Enable an application root in one CDB to propagate application changes to a different application root</p>
                              <p>Assume that CDBs <code class="codeph">cdb_prod</code> and <code class="codeph">cdb_test</code> have the same application model. You create a proxy PDB in an application container in <code class="codeph">cdb_prod</code> that refers to an application root in <code class="codeph">cdb_test</code>. When you run installation and upgrade scripts in the application root in <code class="codeph">cdb_prod</code>, Oracle Database propagates these statements to the proxy PDB, which in turn sends them remotely to the application root in <code class="codeph">cdb_test</code>. In this way, the application root in <code class="codeph">cdb_test</code> becomes a replica of the application root in <code class="codeph">cdb_prod</code>.
                              </p>
                           </li>
                        </ul>
                        <p>To create a proxy PDB, execute <code class="codeph">CREATE PLUGGABLE DATABASE</code> with the <code class="codeph">AS PROXY FROM</code> clause, where <code class="codeph">FROM</code> specifies the referenced PDB name and a database link. The creation statement copies only the data files belonging to the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces. 
                        </p>
                        <div class="example" id="GUID-893AB508-9113-405E-BE45-E73CC76994C3__GUID-31A83B47-C1A2-490C-830B-27CBA5E2670A">
                           <p class="titleinexample">Example 2-2 Creating a Proxy PDB</p>
                           <p>This example connects to the container <code class="codeph">saas_sales_ac</code> in a local production CDB. The <code class="codeph">sales_admin</code> common user creates a proxy PDB named <code class="codeph">sales_sync_pdb</code>. This application PDB references an application root named <code class="codeph">saas_sales_test_ac</code> in a remote development CDB, which it accesses using the <code class="codeph">cdb_dev_rem</code> database link. When an application upgrade occurs in <code class="codeph">saas_sales_ac</code> in the production CDB, the upgrade automatically propagates to the application root <code class="codeph">saas_sales_test_ac</code> in the remote development CDB.
                           </p><pre class="pre codeblock"><code>CONNECT sales_admin@saas_sales_ac
Password: ***********

CREATE PLUGGABLE DATABASE sales_sync_pdb AS PROXY FROM saas_sales_test_ac@cdb_dev_rem;</code></pre><div class="infoboxnote" id="GUID-893AB508-9113-405E-BE45-E73CC76994C3__GUID-A7CF8F0A-0219-42E0-AF48-C20445887311">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="creating-a-proxy-pdb.html#GUID-4453DF44-5D16-4581-9CBF-0C7BCA85DE82" title="Create a proxy PDB by referencing a PDB in a different CDB.">Creating a Proxy PDB</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89395"></a><div class="props_rev_3"><a id="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6" name="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6"></a><h5 id="MULTI-GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6" class="sect5"><span class="enumeration_section">2.1.2.4 </span>Names for PDBs
                     </h5>
                     <div>
                        <p>Containers in a CDB share the same namespace, which means that they must have unique names within this namespace.</p>
                        <p>Names for the following containers must not conflict within the same CDB:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The CDB root</p>
                           </li>
                           <li>
                              <p>PDBs plugged in to the CDB root</p>
                           </li>
                           <li>
                              <p>Application roots</p>
                           </li>
                           <li>
                              <p>Application PDBs</p>
                           </li>
                        </ul>
                        <p>For example, if the same CDB contains the application containers <code class="codeph">saas_sales_ac</code> and <code class="codeph">saas_sales_test_ac</code>, then two application PDBs that are both named <code class="codeph">cust1</code> cannot simultaneously reside in both containers. The namespace rules also prevent creation of a PDB named <code class="codeph">cust1pdb</code> in the CDB root and a PDB named <code class="codeph">cust1pdb</code> in an application root.
                        </p>
                        <p>PDBs and application root containers must follow the same naming rules as service names. Moreover, because a PDB or application root has a service with its own name, the container name must be unique across all CDBs whose services are exposed through a specific listener. The first character of a user-created container name must be alphanumeric, with remaining characters either alphanumeric or an underscore (<code class="codeph">_</code>). Because service names are case-insensitive, container names are case-insensitive, and are in upper case even if specified using delimited identifiers.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F3ECBB59-C43F-4C1D-93FC-80BDFE2233E6__GUID-3D4E8984-289C-4E86-A8A4-D4B5F513C78A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../netrf/syntax-rules-configuration-files.html#NETRF-GUID-6DEC930F-6A19-4C75-8E6B-61CF288A2241" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for the rules for service names
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="overview-of-pdb-creation.html#GUID-B26D56E1-B958-444F-864C-8AFDFF1566A6" title="Before creating a PDB, you must meet certain prerequisites.">General Prerequisites for PDB Creation</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89253"></a><div class="props_rev_3"><a id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527" name="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527"></a><h5 id="MULTI-GUID-C3B11701-F23A-4781-91EE-C907F0AF2527" class="sect5"><span class="enumeration_section">2.1.2.5 </span>Database Links Between PDBs
                     </h5>
                     <div>
                        <p>By default, a user connected to one PDB must use database links to access objects in a different PDB. This behavior is directly analogous to a user in a non-CDB accessing objects in a different non-CDB. </p>
                        <div class="figure" id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527__GUID-5D8CFBD3-9B15-4EDC-9F38-46DBB055B40F">
                           <p class="titleinfigure">Figure 2-1 Database Link Between PDBs</p>
                           <p>In this illustration, a PDB administrator is connected to the PDB named <code class="codeph">hrpdb1</code>. By default, during this user session, <code class="codeph">c##dba</code> cannot query the <code class="codeph">emp2</code> table in <code class="codeph">hrpdb2</code> without specifying a database link.
                           </p><img src="img/cncpt384.png" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" longdesc="img_text/cncpt384.html"><br><a href="img_text/cncpt384.html">Description of "Figure 2-1 Database Link Between PDBs"</a></div>
                        <!-- class="figure" -->
                        <p>Exceptions to the rule include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a>, which is accessible by all application PDBs that contain a <a href="glossary.html#GUID-58284157-F969-4848-92A2-6484C64A2CD3"><span class="xrefglossterm">data link</span></a> that points to this object. For example, the application container <code class="codeph">saas_sales_ac</code> might contain the data-linked table <code class="codeph">usa_zipcodes</code> within its application. In this case, common CDB user <code class="codeph">c##dba</code> can connect to an application PDB in this container, and then query <code class="codeph">usa_zipcodes</code> even though the actual table resides in the application root. In this case, no database link is required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">CONTAINERS()</code> clause in SQL issued from the CDB root or application root. Using this clause, you can query data across all PDBs plugged in to the root.
                              </p>
                           </li>
                        </ul>
                        <p>When creating a proxy PDB, you must specify a database link name in the <code class="codeph">FROM</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE ... AS PROXY</code> statement. If the proxy PDB and referenced PDB reside in separate CDBs, then the database link must be defined in the root of the CDB that will contain the proxy PDB. The database link must connect either to the remote referenced PDB or to the CDB root of the remote CDB.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C3B11701-F23A-4781-91EE-C907F0AF2527__GUID-A9FDA945-DCB3-4534-8847-27822699013B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="A common object is defined in either the CDB root or an application root, and can be referenced using metadata links or object links. A local object is every object that is not a common object.">Overview of Common and Local Objects in a CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-426C14AC-7628-4934-9C9E-0ECAEBCBF93C" title="Administering a pluggable database (PDB) involves a subset of the tasks required to administer a non-CDB.">About PDB Administration</a>"</span> to learn how to access objects in other PDBs using database links
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89255"></a><div class="props_rev_3"><a id="GUID-A356382A-413A-4A42-98DC-6C2464808202" name="GUID-A356382A-413A-4A42-98DC-6C2464808202"></a><h4 id="MULTI-GUID-A356382A-413A-4A42-98DC-6C2464808202" class="sect4"><span class="enumeration_section">2.1.3 </span>Data Dictionary Architecture in a CDB
                  </h4>
                  <div>
                     <p>From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB. </p>
                     <p>For example, the <code class="codeph">DBA_OBJECTS</code> view in each PDB can show a different number of rows. This dictionary separation enables Oracle Database to manage the PDBs separately from each other and from the root.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0AF14A64-DD38-4755-94ED-2021CE137A90">Purpose of Data Dictionary Separation</a><br>In a newly created non-CDB that does not yet contain user data, the data dictionary contains only system metadata. For example, the <code class="codeph">TAB$</code> table contains rows that describe only Oracle-supplied tables, for example, <code class="codeph">TRIGGER$</code> and <code class="codeph">SERVICE$</code>. 
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA">Metadata and Data Links</a><br>The CDB uses an internal linking mechanism to separate data dictionary information.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0">Container Data Objects in a CDB</a><br>A <span class="bold">container data object</span> is a table or view containing data pertaining to multiple containers or the whole CDB.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316">Data Dictionary Storage in a CDB</a><br>The data dictionary that stores the metadata for the CDB as a whole is stored only in the system tablespaces.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89347"></a><a id="CNCPT89346"></a><div class="props_rev_3"><a id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90" name="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90"></a><h5 id="MULTI-GUID-0AF14A64-DD38-4755-94ED-2021CE137A90" class="sect5"><span class="enumeration_section">2.1.3.1 </span>Purpose of Data Dictionary Separation
                     </h5>
                     <div>
                        <p>In a newly created non-CDB that does not yet contain user data, the data dictionary contains only system metadata. For example, the <code class="codeph">TAB$</code> table contains rows that describe only Oracle-supplied tables, for example, <code class="codeph">TRIGGER$</code> and <code class="codeph">SERVICE$</code>. 
                        </p>
                        <p>The following graphic depicts three underlying data dictionary tables, with the red bars indicating rows describing the system.</p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__GUID-647E292D-76FB-4248-A891-1FCB55388CEA">
                           <p class="titleinfigure">Figure 2-2 Unmixed Data Dictionary Metadata in a Non-CDB</p><img src="img/cncpt_vm_363.png" alt="Description of Figure 2-2 follows" title="Description of Figure 2-2 follows" longdesc="img_text/cncpt_vm_363.html"><br><a href="img_text/cncpt_vm_363.html">Description of "Figure 2-2 Unmixed Data Dictionary Metadata in a Non-CDB"</a></div>
                        <!-- class="figure" -->
                        <p>If users create their own schemas and tables in this non-CDB, then the data dictionary now contains some rows that describe Oracle-supplied entities, and other rows that describe user-created entities. For example, the <code class="codeph">TAB$</code> dictionary table now has a row describing <code class="codeph">employees</code> and a row describing <code class="codeph">departments</code>.
                        </p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__GUID-A14C0DC8-58A4-47EA-9C82-90FF2CAFA591">
                           <p class="titleinfigure">Figure 2-3 Mixed Data Dictionary Metadata in a Non-CDB</p><img src="img/cncpt_vm_362.png" alt="Description of Figure 2-3 follows" title="Description of Figure 2-3 follows" longdesc="img_text/cncpt_vm_362.html"><br><a href="img_text/cncpt_vm_362.html">Description of "Figure 2-3 Mixed Data Dictionary Metadata in a Non-CDB"</a></div>
                        <!-- class="figure" -->
                        <p>In a CDB, the data dictionary metadata is split between the root and the PDBs. In the following figure, the <code class="codeph">employees</code> and <code class="codeph">departments</code> tables reside in a PDB. The data dictionary for this user data also resides in the PDB. Thus, the <code class="codeph">TAB$</code> table in the PDB has a row for the <code class="codeph">employees</code> table and a row for the <code class="codeph">departments</code> table.
                        </p>
                        <div class="figure" id="GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__CIHBJBFA">
                           <p class="titleinfigure">Figure 2-4 Data Dictionary Architecture in a CDB</p><img src="img/cncpt_vm_361.png" alt="Description of Figure 2-4 follows" title="Description of Figure 2-4 follows" longdesc="img_text/cncpt_vm_361.html"><br><a href="img_text/cncpt_vm_361.html">Description of "Figure 2-4 Data Dictionary Architecture in a CDB"</a></div>
                        <!-- class="figure" -->
                        <p>The preceding graphic shows that the data dictionary in the PDB contains pointers to the data dictionary in the root. Internally, Oracle-supplied objects such as data dictionary table definitions and PL/SQL packages are represented <span class="italic">only</span> in the root. This architecture achieves two main goals within the CDB:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Reduction of duplication</p>
                              <p>For example, instead of storing the source code for the <code class="codeph">DBMS_ADVISOR</code> PL/SQL package in every PDB, the CDB stores it only in <code class="codeph">CDB$ROOT</code>, which saves disk space.
                              </p>
                           </li>
                           <li>
                              <p>Ease of database upgrade</p>
                              <p>If the definition of a data dictionary table existed in every PDB, and if the definition were to change in a new release, then each PDB would need to be upgraded separately to capture the change. Storing the table definition only once in the root eliminates this problem.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89348"></a><div class="props_rev_3"><a id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA" name="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA"></a><h5 id="MULTI-GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA" class="sect5"><span class="enumeration_section">2.1.3.2 </span>Metadata and Data Links
                     </h5>
                     <div>
                        <p>The CDB uses an internal linking mechanism to separate data dictionary information.</p>
                        <p>Specifically, Oracle Database uses the following automatically managed pointers:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Metadata links</p>
                              <p>Oracle Database stores metadata about dictionary objects only in the CDB root. For example, the column definitions for the <code class="codeph">OBJ$</code> dictionary table, which underlies the <code class="codeph">DBA_OBJECTS</code> data dictionary view, exist only in the root. As depicted in <a href="overview-of-the-multitenant-architecture.html#GUID-0AF14A64-DD38-4755-94ED-2021CE137A90__CIHBJBFA">Figure 2-4</a>, the <code class="codeph">OBJ$</code> table in each PDB uses an internal mechanism called a <a href="glossary.html#GUID-CFF95408-C548-4FE2-AFBA-39F647E3AC32"><span class="xrefglossterm">metadata link</span></a> to point to the definition of <code class="codeph">OBJ$</code> stored in the root.
                              </p>
                              <p>The <span class="italic">data</span> corresponding to a metadata link resides in its PDB, not in the root. For example, if you create table <code class="codeph">mytable</code> in <code class="codeph">hrpdb</code> and add rows to it, then the rows are stored in the PDB data files. The data dictionary views in the PDB and in the root contain different rows. For example, a new row describing <code class="codeph">mytable</code> exists in the <code class="codeph">OBJ$</code> table in <code class="codeph">hrpdb</code>, but not in the <code class="codeph">OBJ$</code> table in the CDB root. Thus, a query of <code class="codeph">DBA_OBJECTS</code> in the CDB root and <code class="codeph">DBA_OBJECTS</code> in <code class="codeph">hrdpb</code> shows different results.
                              </p>
                           </li>
                           <li>
                              <p>Data links</p>
                              <div class="infoboxnote" id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA__GUID-E53587C7-7F99-4F0F-B386-2C21894E9696">
                                 <p class="notep1">Note:</p>
                                 <p>Data links were called <span class="italic">object links</span> in <span>Oracle Database 12c</span> Release 1 (12.1.0.2).
                                 </p>
                              </div>
                              <p>In some cases, Oracle Database stores the data (not only metadata) for an object only once in the application root. An application PDB uses an internal mechanism called a <a href="glossary.html#GUID-58284157-F969-4848-92A2-6484C64A2CD3"><span class="xrefglossterm">data link</span></a> to refer to the objects in the application root. The application PDB in which the data link was created also stores the data link description. A data link inherits the data type of the object to which it refers.
                              </p>
                           </li>
                           <li>
                              <p>Extended data link</p>
                              <p>An extended data link is a hybrid of a data link and a metadata link. Like a data link, an extended data link refers to an object in an application root. However, the extended data link also refers to a corresponding object in the application PDB. Like a metadata link, the object in the application PDB inherits metadata from the corresponding object in the application root. </p>
                              <p>When queried in the application root, an extended data-linked object fetches rows only from the application root. However, when queried in an application PDB, an extended data-linked object fetches rows from both the application root and application PDB.</p>
                           </li>
                        </ul>
                        <p>Oracle Database automatically creates and manages metadata and data links to <code class="codeph">CDB$ROOT</code>. Users cannot add, modify, or remove these links.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C7F5F6BD-E905-4402-A685-D4A79CF565EA__GUID-4ADFA3B9-13F6-4209-A271-3240352DD3AA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/data-dictionary-and-dynamic-performance-views.html#CNCPT-GUID-9B9ABE1C-A1E3-464F-8936-978250DC3E1F" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for an overview of the data dictionary
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89350"></a><a id="CNCPT89351"></a><a id="CNCPT89349"></a><div class="props_rev_3"><a id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" name="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0"></a><h5 id="MULTI-GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0" class="sect5"><span class="enumeration_section">2.1.3.3 </span>Container Data Objects in a CDB
                     </h5>
                     <div>
                        <p>A <span class="bold">container data object</span> is a table or view containing data pertaining to multiple containers or the whole CDB.
                        </p>
                        <p>Container data privileges support a general requirement in which multiple PDBs reside in a single CDB, but with different local administration requirements. For example, if application DBAs do not want to administer locally, then they can grant container data privileges on appropriate views to the common users. In this case, the CDB administrator can access the data for these PDBs. In contrast, PDB administrators who do not want the CDB administrator accessing their data do not grant container data privileges.</p>
                        <p>Examples of container data objects are Oracle-supplied views whose names begin with <code class="codeph">V$</code> and <code class="codeph">CDB_</code>. All container data objects have a <code class="codeph">CON_ID</code> column. The following table shows the meaning of the values for this column.
                        </p>
                        <div class="tblformal" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__CIHGEJIG">
                           <p class="titleintable">Table 2-1 Container ID Values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Container ID Values" summary="This table shows the meaning of the values for the CON_ID column." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d10378e2238">Container ID</th>
                                    <th align="left" valign="bottom" width="81%" id="d10378e2241">Rows pertain to</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2246" headers="d10378e2238 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2246 d10378e2241 ">
                                       <p>Whole CDB, or non-CDB</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2254" headers="d10378e2238 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2254 d10378e2241 ">
                                       <p><code class="codeph">CDB$ROOT</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2263" headers="d10378e2238 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2263 d10378e2241 ">
                                       <p><code class="codeph">PDB$SEED</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e2272" headers="d10378e2238 ">
                                       <p>All Other IDs</p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d10378e2272 d10378e2241 ">
                                       <p>User-created PDBs, application roots, or application seeds</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>In a CDB, for every <code class="codeph">DBA_</code> view, a corresponding <code class="codeph">CDB_</code> view exists. The owner of a <code class="codeph">CDB_</code> view is the owner of the corresponding <code class="codeph">DBA_</code> view. The following graphic shows the relationship among the different categories of dictionary views:
                        </p>
                        <div class="figure" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-BD297D24-43B1-4578-B925-E525E1D2E762">
                           <p class="titleinfigure">Figure 2-5 Dictionary Views in a CDB</p><img src="img/cncpt_vm_366.png" alt="Description of Figure 2-5 follows" title="Description of Figure 2-5 follows" longdesc="img_text/cncpt_vm_366.html"><br><a href="img_text/cncpt_vm_366.html">Description of "Figure 2-5 Dictionary Views in a CDB"</a></div>
                        <!-- class="figure" -->
                        <p>When the current container is a PDB, a user can view data dictionary information for the current PDB only. To an application connected to a PDB, the data dictionary appears as it would for a non-CDB. When the current container is the root, however, a common user can query <code class="codeph">CDB_</code> views to see metadata for the root and for PDBs for which this user is privileged.
                        </p>
                        <div class="infoboxnote" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-B45166E6-CFFD-406B-BA9F-730C0A7D99CA">
                           <p class="notep1">Note:</p>
                           <p>When queried from the root container, <code class="codeph">CDB_</code> and <code class="codeph">V$</code> views implicitly convert data to the AL32UTF8 character set. If a character set needs more bytes to represent a character when converted to AL32UTF8, and if the view column width cannot accommodate data from a specific PDB, then data truncation is possible.
                           </p>
                        </div>
                        <p>The following table shows a scenario involving queries of <code class="codeph">CDB_</code> views. Each row describes an action that occurs after the action in the preceding row.
                        </p>
                        <div class="tblformalwide" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__QUERYINGCDB_VIEWS-1BFA3C28">
                           <p class="titleintable">Table 2-2 Querying CDB_ Views</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Querying CDB_ Views" summary="Querying CDB_ views" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e2326">Operation</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e2329">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2334" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM
Enter password: ********
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2334 d10378e2329 ">
                                       <p>The <code class="codeph">SYSTEM</code> user, which is common to all containers in the CDB, connects to the root (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="Within the context of either the system container (CDB) or an application container, a common user is a database user that has the same identity in the root and in every existing and future PDB within this container.">Common Users in a CDB</a>"</span>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2354" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*) FROM CDB_USERS 
WHERE CON_ID=1;

COUNT(*)
--------
      41</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2354 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code> queries <code class="codeph">CDB_USERS</code> to obtain the number of common users in the CDB. The output indicates that 41 common users exist.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2366" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(DISTINCT(CON_ID)) 
FROM CDB_USERS;
 
COUNT(DISTINCT(CON_ID))
-----------------------
                      4</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2366 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code> queries <code class="codeph">CDB_USERS</code> to determine the number of distinct containers in the CDB.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2378" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@hrdb
Enter password: ********
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2378 d10378e2329 ">
                                       <p>The <code class="codeph">SYSTEM</code> user now connects to the PDB named <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e2391" headers="d10378e2326 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*) FROM CDB_USERS;
 
  COUNT(*)
----------
        45</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e2391 d10378e2329 ">
                                       <p><code class="codeph">SYSTEM</code> queries <code class="codeph">CDB_USERS</code>. The output indicates that 45 users exist. Because <code class="codeph">SYSTEM</code> is not connected to the root, the <code class="codeph">CDB_USERS</code> view shows the same output as <code class="codeph">DBA_USERS</code>. Because <code class="codeph">DBA_USERS</code> only shows the users in the <span class="italic">current</span> container, it shows 45.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1A22B2C5-B302-450E-BB41-6CB6B1AE75B0__GUID-D1A3621E-4DA2-4421-857E-011179130C32">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="In a CDB, the metadata for data dictionary tables and view definitions is stored only in the root.">About CDB and Container Information in Views</a>"</span> to learn more about container data objects
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89456"></a><div class="props_rev_3"><a id="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316" name="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316"></a><h5 id="MULTI-GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316" class="sect5"><span class="enumeration_section">2.1.3.4 </span>Data Dictionary Storage in a CDB
                     </h5>
                     <div>
                        <p>The data dictionary that stores the metadata for the CDB as a whole is stored only in the system tablespaces.</p>
                        <p>The data dictionary that stores the metadata for a specific PDB is stored in the self-contained tablespaces dedicated to this PDB. The PDB tablespaces contain both the data and metadata for an application back end. Thus, each set of data dictionary tables is stored in its own dedicated set of tablespaces.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F9CD5EAB-66EB-4450-9136-93C7DB27E316__GUID-EA807B3E-A81D-4866-8B1D-2DF7066B81A8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/data-dictionary-and-dynamic-performance-views.html#CNCPT-GUID-9B9ABE1C-A1E3-464F-8936-978250DC3E1F" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for an overview of the data dictionary
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" title="A CDB has the same structure as a non-CDB, except that each PDB and application root has its own set of tablespaces, including its own SYSTEM, SYSAUX, and undo tablespaces.">Overview of Tablespaces and Database Files in a CDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89457"></a><div class="props_rev_3"><a id="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C" name="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C"></a><h4 id="MULTI-GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C" class="sect4"><span class="enumeration_section">2.1.4 </span>Current Container
                  </h4>
                  <div>
                     <p>For a given session, the current container is the one in which the session is running. The current container can be the CDB root, an application root, or a PDB.</p>
                     <p>Each session has exactly one current container at any point in time. Because the data dictionary in each container is separate, Oracle Database uses the data dictionary in the current container for name resolution and privilege authorization.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2278B77D-9D81-46A8-9F57-6F5F8B96964C__GUID-1F0ED68E-075B-467B-8034-EDEAEF5BC09C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization.">About the Current Container</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89304"></a><div class="props_rev_3"><a id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" name="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893"></a><h4 id="MULTI-GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" class="sect4"><span class="enumeration_section">2.1.5 </span>Cross-Container Operations
                  </h4>
                  <div>
                     <p>A <strong class="term">cross-container operation</strong> is a DDL or DML statement that affects multiple containers at once. 
                     </p>
                     <p>Only a common user connected to either the CDB root or an application root can perform cross-container operations. A cross-container operation can affect:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The CDB itself</p>
                        </li>
                        <li>
                           <p>Multiple containers within a CDB</p>
                        </li>
                        <li>
                           <p>Multiple phenomena such as common users or common roles that are represented in multiple containers</p>
                        </li>
                        <li>
                           <p>A container to which the user issuing the DDL or DML statement is currently not connected</p>
                        </li>
                     </ul>
                     <p>Examples of cross-container DDL operations include user <code class="codeph">SYSTEM</code> granting a privilege commonly to another common user (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="Privileges and common roles may be granted commonly.">Roles and Privileges Granted Commonly in a CDB</a>"</span>), and an <code class="codeph">ALTER DATABASE . . . RECOVER</code> statement that applies to the entire CDB.
                     </p>
                     <p>When you are connected to either the CDB root or an application root, you can execute a single DML statement to modify tables or views in multiple PDBs within the container. The database infers the target PDBs from the value of the <code class="codeph">CON_ID</code> column specified in the DML statement. If no <code class="codeph">CON_ID</code> is specified, then the database uses the <code class="codeph">CONTAINERS_DEFAULT_TARGET</code> property specified by the <code class="codeph">ALTER PLUGGABLE DATABASE CONTAINERS DEFAULT TARGET</code> statement.
                     </p>
                     <div class="example" id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893__GUID-6F7E5F2F-BB2F-4446-A5C8-B3F2292C94C8">
                        <p class="titleinexample">Example 2-3 Updating Multiple PDBs in a Single DML Statement</p>
                        <p>In this example, your goal is to set the <code class="codeph">country_name</code> column to the value <code class="codeph">USA</code> in the <code class="codeph">sh.sales</code> table. This table exists in two separate PDBs, with container IDs of <code class="codeph">7</code> and <code class="codeph">8</code>. Both PDBs are in the application container named <code class="codeph">saas_sales_ac</code>. You can connect to the application root as an administrator, and make the update as follows:
                        </p><pre class="pre codeblock"><code>CONNECT sales_admin@saas_sales_ac
Password: *******

UPDATE CONTAINERS(sh.sales) sal 
  SET sal.country_name = 'USA' 
  WHERE sal.CON_ID IN (7,8);</code></pre><p>In the preceding <code class="codeph">UPDATE</code> statement, <code class="codeph">sal</code> is an alias for <code class="codeph">CONTAINERS(sh.sales)</code>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893__GUID-A0F7587A-AE63-43EC-A4DF-13DFF4D1DF30">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="Within the context of either the system container (CDB) or an application container, a common user is a database user that has the same identity in the root and in every existing and future PDB within this container.">Common Users in a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts.">Administering a CDB</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89352"></a><div class="props_rev_3"><a id="GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" name="GUID-B8A0393D-EB92-4020-81EA-7773EE60330C"></a><h3 id="MULTI-GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" class="sect3"><span class="enumeration_section">2.2 </span>Overview of Commonality in the CDB
               </h3>
               <div>
                  <p>In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8">About Commonality in a CDB</a><br>A common phenomenon defined in a root is the same in all containers plugged in to this root.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF">Overview of Common and Local Users in a CDB</a><br>If a user account owns objects that define the database, then this user account is common. User accounts that are <span class="italic">not</span> Oracle-supplied are either local or common.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1">Overview of Common and Local Roles in a CDB</a><br>User-created roles are either local or common. Common roles are either common to the CDB itself or to a specific application container.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C">Overview of Privilege and Role Grants in a CDB</a><br>Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A">Overview of Common and Local Objects in a CDB</a><br>A <span class="bold">common object</span> is defined in either the CDB root or an application root, and can be referenced using metadata links or object links. A local object is every object that is not a common object.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3">Overview of Common Audit Configurations</a><br>For both mixed mode and unified auditing, a <span class="bold">common audit configuration</span> is visible and enforced across all PDBs.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE">Overview of PDB Lockdown Profiles</a><br>A <strong class="term">PDB lockdown profile</strong> is a named set of features that control operations available to users connected to a PDB. For example, a PDB lockdown profile can disable privileges that come with the <code class="codeph">ALTER SYSTEM</code> statement.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" name="GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8"></a><h4 id="MULTI-GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" class="sect4"><span class="enumeration_section">2.2.1 </span>About Commonality in a CDB
                  </h4>
                  <div>
                     <p>A common phenomenon defined in a root is the same in all containers plugged in to this root.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2">Principles of Commonality</a><br>In a CDB, a phenomenon can be common within either the system container (the CDB itself), or within a specific application container.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9">Namespaces in a CDB</a><br>In a CDB, the namespace for every object is scoped to its container.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2" name="GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2"></a><h5 id="MULTI-GUID-F90E5678-24A5-47B8-A507-FB5EAF162FB2" class="sect5"><span class="enumeration_section">2.2.1.1 </span>Principles of Commonality
                     </h5>
                     <div>
                        <p>In a CDB, a phenomenon can be common within either the system container (the CDB itself), or within a specific application container.</p>
                        <p>For example, if you create a common user account while connected to <code class="codeph">CDB$ROOT</code>, then this user account is common to all PDBs and application roots in the CDB. If you create an application common user account while connected to an application root, however, then this user account is common only to the PDBs in this application container.
                        </p>
                        <p>Within the context of <code class="codeph">CDB$ROOT</code> or an application root, the principles of commonality are as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A common phenomenon is the same in every existing and future container.</p>
                              <p>Therefore, a common user defined in the CDB root has the same identity in every PDB plugged in to the CDB root; a common user defined in an application root has the same identity in every application PDB plugged in to this application root. In contrast, a local phenomenon is scoped to exactly one existing container.</p>
                           </li>
                           <li>
                              <p>Only a common user can alter the existence of common phenomena.</p>
                              <p>More precisely, only a common user logged in to either the CDB root or an application root can create, destroy, or modify attributes of a user, role, or object that is common to the current container.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" title="A common phenomenon defined in a root is the same in all containers plugged in to this root.">About Commonality in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89396"></a><div class="props_rev_3"><a id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9" name="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9"></a><h5 id="MULTI-GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9" class="sect5"><span class="enumeration_section">2.2.1.2 </span>Namespaces in a CDB
                     </h5>
                     <div>
                        <p>In a CDB, the namespace for every object is scoped to its container.</p>
                        <p>The following principles summarize the scoping rules:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>From an application perspective, a PDB is indistinguishable from a non-CDB.</p>
                           </li>
                           <li>
                              <p>Local phenomena are created within and restricted to a single container. </p>
                              <div class="infoboxnote" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-39CA8044-DD75-47A2-A5D0-3F1EB3ED1CB5">
                                 <p class="notep1">Note:</p>
                                 <p>In this topic, the word “phenomenon” means “user account, role, or database object.” </p>
                              </div>
                           </li>
                           <li>
                              <p>Common phenomena are defined in a CDB root or application root, and exist in all PDBs that are or will be plugged into this root.</p>
                           </li>
                        </ul>
                        <p>The preceding principles have implications for local and common phenomena.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-1EA7443F-1AC0-4D7B-9E31-5CB33558E2DE">Local Phenomena</p>
                           <p>A local phenomenon must be uniquely named <span class="italic">within</span> a container, but not across all containers in the CDB. Identically named local phenomena in different containers are distinct. For example, local user <code class="codeph">sh</code> in one PDB does not conflict with local user <code class="codeph">sh</code> in another PDB.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-DDFEAFB7-FF7F-4A6E-A5FD-4721B93A8EDD">CDB$ROOT Common Phenomena</p>
                           <p>Common phenomena defined in <code class="codeph">CDB$ROOT</code> exist in multiple containers and must be unique within each of these namespaces. For example, the CDB root includes predefined common users such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYS</code>. To ensure namespace separation, Oracle Database prevents creation of a <code class="codeph">SYSTEM</code> user within another container.
                           </p>
                           <p>To ensure namespace separation, the name of user-created common phenomena in the CDB root must begin with the value specified by the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter. The default prefix is <code class="codeph">c##</code> or <code class="codeph">C##</code>. The names of all <span class="italic">other</span> user-created phenomena must <span class="italic">not</span> begin with <code class="codeph">c##</code> or <code class="codeph">C##</code>. For example, you cannot create a local user in <code class="codeph">hrpdb</code> named <code class="codeph">c##hr</code>, nor can you create a common user in the CDB root named <code class="codeph">hr</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__GUID-A5C2C9F3-302D-4BCC-B137-F25A782979D1">Application Common Phenomena</p>
                           <p>Within an application container, names for local and application common phenomena must not conflict.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Application common users and roles</p>
                                 <p>The same principles apply to application common users as to CDB common users. The difference is that for CDB common users, the default value for the common user prefix is <code class="codeph">c##</code> or <code class="codeph">C##</code>, whereas in application root the default value for the common user prefix is the empty string.
                                 </p>
                                 <p>The multitenant architecture assumes that you create application PDBs from an application root, or convert a single-tenant application to a multitenant application.</p>
                              </li>
                              <li>
                                 <p>Application common objects</p>
                                 <p>The multitenant architecture assumes that you create application common objects in the application root. Later, you add data locally within the application PDBs. However, Oracle Database supports creation of <span class="italic">local</span> tables within an application PDB. In this case, the local tables reside in the same namespace as application common objects within the application PDB.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9__ORACLEDATABASESECURITYTOLEARNMOREAB-7C55A216">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG830" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about common users and roles
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B14FD999-8FB2-428E-9122-BCB55DE516B8" title="A common phenomenon defined in a root is the same in all containers plugged in to this root.">About Commonality in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89397"></a><a id="CNCPT89257"></a><div class="props_rev_3"><a id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" name="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF"></a><h4 id="MULTI-GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" class="sect4"><span class="enumeration_section">2.2.2 </span>Overview of Common and Local Users in a CDB
                  </h4>
                  <div>
                     <p>If a user account owns objects that define the database, then this user account is common. User accounts that are <span class="italic">not</span> Oracle-supplied are either local or common.
                     </p>
                     <p>A CDB common user is a common user that is created in the <a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB root</span></a>. An <a href="glossary.html#GUID-57DA85A0-ECFD-4C16-8553-ADC602A7CCC6"><span class="xrefglossterm">application common user</span></a> is a user that is created in an application root, and is common only within this application container.
                     </p>
                     <p>The following graphic shows the possible user account types in a CDB.</p>
                     <div class="figure" id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF__CIHIDFJD">
                        <p class="titleinfigure">Figure 2-6 User Accounts in a CDB</p><img src="img/cncpt370.png" alt="Description of Figure 2-6 follows" title="Description of Figure 2-6 follows" longdesc="img_text/cncpt370.html"><br><a href="img_text/cncpt370.html">Description of "Figure 2-6 User Accounts in a CDB"</a></div>
                     <!-- class="figure" -->
                     <p>A CDB common user can connect to <span class="italic">any</span> container in the CDB to which it has sufficient privileges. In contrast, an application common user can only connect to the application root in which it was created, or a PDB that is plugged in to this application root, depending on its privileges.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13">Common Users in a CDB</a><br>Within the context of either the system container (CDB) or an application container, a <span class="bold">common user</span> is a database user that has the same identity in the root and in every existing and future PDB within this container.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-44E8518A-E02C-429C-9B06-16078EB3251A">Local Users in a CDB</a><br>A <strong class="term">local user</strong> is a database user that is not common and can operate only within a single PDB.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF__GUID-9D953C13-EA7B-4AA4-A34E-04910814EC01">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/managing-security-for-oracle-database-users.html#GUID-BBBD9904-F2F3-442B-9AFC-8ACDD9A588D8" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for an overview of common and local users
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89258"></a><a id="CNCPT89259"></a><div class="props_rev_3"><a id="GUID-19337B94-645B-45E8-842C-762BBC544B13" name="GUID-19337B94-645B-45E8-842C-762BBC544B13"></a><h5 id="MULTI-GUID-19337B94-645B-45E8-842C-762BBC544B13" class="sect5"><span class="enumeration_section">2.2.2.1 </span>Common Users in a CDB
                     </h5>
                     <div>
                        <p>Within the context of either the system container (CDB) or an application container, a <span class="bold">common user</span> is a database user that has the same identity in the root and in every existing and future PDB within this container.
                        </p>
                        <p>Every common user can connect to and perform operations within the root of its container, and within any PDB in which it has sufficient privileges. Some administrative tasks must be performed by a common user. Examples include creating a PDB and unplugging a PDB.</p>
                        <p>For example, <code class="codeph">SYSTEM</code> is a CDB common user with DBA privileges. Thus, <code class="codeph">SYSTEM</code> can connect to the CDB root and any PDB in the database. You might create a common user <code class="codeph">saas_sales_admin</code> in the <code class="codeph">saas_sales</code> application container. In this case, the <code class="codeph">saas_sales_admin</code> user could <span class="italic">only</span> connect to the <code class="codeph">saas_sales</code> application root or to an application PDB within the <code class="codeph">saas_sales</code> application container.
                        </p>
                        <p>Every common user is either Oracle-supplied or user-created. Examples of Oracle-supplied common users are <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>. Every user-created common user is either a CDB common user, or an application common user.
                        </p>
                        <p><a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">Figure 2-7</a> shows sample users and schemas in two PDBs: <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code>. <code class="codeph">SYS</code> and <code class="codeph">c##dba</code> are CDB common users who have schemas in <code class="codeph">CDB$ROOT</code>, <code class="codeph">hrpdb</code>, and <code class="codeph">salespdb</code>. Local users <code class="codeph">hr</code> and <code class="codeph">rep</code> exist in <code class="codeph">hrpdb</code>. Local users <code class="codeph">hr</code> and <code class="codeph">rep</code> also exist in <code class="codeph">salespdb</code>.
                        </p>
                        <div class="figure" id="GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">
                           <p class="titleinfigure">Figure 2-7 Users and Schemas in a CDB</p><img src="img/cncpt340.png" width="594" alt="Description of Figure 2-7 follows" title="Description of Figure 2-7 follows" longdesc="img_text/cncpt340.html"><br><a href="img_text/cncpt340.html">Description of "Figure 2-7 Users and Schemas in a CDB"</a></div>
                        <!-- class="figure" -->
                        <p>Common users have the following characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A common user can log in to any container (including <code class="codeph">CDB$ROOT</code>) in which it has the <code class="codeph">CREATE SESSION</code> privilege.
                              </p>
                              <p>A common user need not have the same privileges in every container. For example, the <code class="codeph">c##dba</code> user may have the privilege to create a session in <code class="codeph">hrpdb</code> and in the root, but <span class="italic">not</span> to create a session in <code class="codeph">salespdb</code>. Because a common user with the appropriate privileges can switch between containers, a common user in the root can administer PDBs. 
                              </p>
                           </li>
                           <li>
                              <p>An application common user does not have the <code class="codeph">CREATE SESSION</code> privilege in any container outside its own application container.
                              </p>
                              <p>Thus, an application common user is restricted to its own application container. For example, the application common user created in the <code class="codeph">saas_sales</code> application can connect only to the application root and the PDBs in the <code class="codeph">saas_sales</code> application container.
                              </p>
                           </li>
                           <li>
                              <p>The names of user-created CDB common users must follow the naming rules for other database users. Additionally, the names must begin with the characters specified by the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter, which are <code class="codeph">c##</code> or <code class="codeph">C##</code> by default. Oracle-supplied common user names and user-created application common user names do not have this restriction.
                              </p>
                              <p>No local user name may begin with the characters <code class="codeph">c##</code> or <code class="codeph">C##</code>.
                              </p>
                           </li>
                           <li>
                              <p>Every common user is uniquely named across all PDBs within the container (either the system container or a specific application container) in which it was created. </p>
                              <p>A CDB common user is defined in the CDB root, but must be able to connect to every PDB with the same identity. An application common user resides in the application root, and may connect to every application PDB <span class="italic">in its container</span> with the same identity.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-19337B94-645B-45E8-842C-762BBC544B13__GUID-E48B4236-84A7-47E4-A01D-F744986D5B78">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG580" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about common user accounts
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/COMMON_USER_PREFIX.html#GUID-516ADCCF-3661-4B54-908A-7041854EA14F" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">COMMON_USER_PREFIX</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="If a user account owns objects that define the database, then this user account is common. User accounts that are not Oracle-supplied are either local or common.">Overview of Common and Local Users in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89353"></a><a id="CNCPT89260"></a><div class="props_rev_3"><a id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A" name="GUID-44E8518A-E02C-429C-9B06-16078EB3251A"></a><h5 id="MULTI-GUID-44E8518A-E02C-429C-9B06-16078EB3251A" class="sect5"><span class="enumeration_section">2.2.2.2 </span>Local Users in a CDB
                     </h5>
                     <div>
                        <p>A <strong class="term">local user</strong> is a database user that is not common and can operate only within a single PDB.
                        </p>
                        <p>Local users have the following characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A local user is specific to a PDB and may own a schema in this PDB.</p>
                              <p>In <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">Figure 2-7</a>, local user <code class="codeph">hr</code> on <code class="codeph">hrpdb</code> owns the <code class="codeph">hr</code> schema. On <code class="codeph">salespdb</code>, local user <code class="codeph">rep</code> owns the <code class="codeph">rep</code> schema, and local user <code class="codeph">hr</code> owns the <code class="codeph">hr</code> schema.
                              </p>
                           </li>
                           <li>
                              <p>A local user can administer a PDB, including opening and closing it.</p>
                              <p>A common user with <code class="codeph">SYSDBA</code> privileges can grant <code class="codeph">SYSDBA</code> privileges to a local user. In this case, the privileged user remains local.
                              </p>
                           </li>
                           <li>
                              <p>A local user in one PDB cannot log in to another PDB or to the CDB root. </p>
                              <p>For example, when local user <code class="codeph">hr</code> connects to <code class="codeph">hrpdb</code>, <code class="codeph">hr</code> cannot access objects in the <code class="codeph">sh</code> schema that reside in the <code class="codeph">salespdb</code> database without using a database link. In the same way, when local user <code class="codeph">sh</code> connects to the <code class="codeph">salespdb</code> PDB, <code class="codeph">sh</code> cannot access objects in the <code class="codeph">hr</code> schema that resides in <code class="codeph">hrpdb</code> without using a database link.
                              </p>
                           </li>
                           <li>
                              <p>The name of a local user must not begin with the characters <code class="codeph">c##</code> or <code class="codeph">C##</code>.
                              </p>
                           </li>
                           <li>
                              <p>The name of a local user must only be unique within its PDB.</p>
                              <p>The user name and the PDB in which that user schema is contained determine a unique local user. <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">Figure 2-7</a> shows that a local user and schema named <code class="codeph">rep</code> exist on <code class="codeph">hrpdb</code>. A completely independent local user and schema named <code class="codeph">rep</code> exist on the <code class="codeph">salespdb</code> PDB. 
                              </p>
                           </li>
                        </ul>
                        <p>The following table describes a scenario involving the CDB in <a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13__CEGJAAGC">Figure 2-7</a>. Each row describes an action that occurs after the action in the preceding row. Common user <code class="codeph">SYSTEM</code> creates local users in two PDBs.
                        </p>
                        <div class="tblformalwide" id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A__OPERATIONDESCRIPTIONSQLCONNECTSYSTE-1BFC3C7B">
                           <p class="titleintable">Table 2-3 Local Users in a CDB</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Local Users in a CDB" summary="This table describes a scenario involving the CDB. Each row describes an action that occurs after the action in the preceding row. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e4104">Operation</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e4107">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4112" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@hrpdb
Enter password: ********
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4112 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code> connects to the <code class="codeph">hrpdb</code> container using the service name <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4127" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER rep IDENTIFIED BY <span class="italic">password</span>; 

User created.

SQL&gt; GRANT CREATE SESSION TO rep;

Grant succeeded.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4127 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code> now creates a local user <code class="codeph">rep</code> and grants the <code class="codeph">CREATE SESSION</code> privilege in this PDB to this user. The user is local because common users can only be created by a common user connected to the root.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4145" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT rep@salespdb
Enter password: *******
ERROR:
ORA-01017: invalid username/password; logon denied</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4145 d10378e4107 ">
                                       <p>The <code class="codeph">rep</code> user, which is local to <code class="codeph">hrpdb</code>, attempts to connect to <code class="codeph">salespdb</code>. The attempt fails because <code class="codeph">rep</code> does not exist in PDB <code class="codeph">salespdb</code>. This behavior mimics the behavior of non-CDBs. A user account on one non-CDB is independent of user accounts on a different non-CDB.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4167" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@salespdb
Enter password: ********
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4167 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code> connects to the <code class="codeph">salespdb</code> container using the service name <code class="codeph">salespdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4182" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER rep IDENTIFIED BY <span class="italic">password</span>; 

User created.

SQL&gt; GRANT CREATE SESSION TO rep;

Grant succeeded.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4182 d10378e4107 ">
                                       <p><code class="codeph">SYSTEM</code> creates a local user <code class="codeph">rep</code> in <code class="codeph">salespdb</code> and grants the <code class="codeph">CREATE SESSION</code> privilege in this PDB to this user. Because the name of a local user must only be unique within its PDB, a user named <code class="codeph">rep</code> can exist in both <code class="codeph">salespdb</code> and <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e4213" headers="d10378e4104 "><pre class="pre codeblock"><code>SQL&gt; CONNECT rep@salespdb
Enter password: *******
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e4213 d10378e4107 ">
                                       <p>The <code class="codeph">rep</code> user successfully logs in to <code class="codeph">salespdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-44E8518A-E02C-429C-9B06-16078EB3251A__GUID-2B5FD5EB-276B-4599-85C7-FE18C5AB74B2">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG581" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about local user accounts
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="If a user account owns objects that define the database, then this user account is common. User accounts that are not Oracle-supplied are either local or common.">Overview of Common and Local Users in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89398"></a><div class="props_rev_3"><a id="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" name="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1"></a><h4 id="MULTI-GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" class="sect4"><span class="enumeration_section">2.2.3 </span>Overview of Common and Local Roles in a CDB
                  </h4>
                  <div>
                     <p>User-created roles are either local or common. Common roles are either common to the CDB itself or to a specific application container.</p>
                     <p>Every Oracle-supplied role is common, for example, the predefined <code class="codeph">DBA</code> role. In Oracle-supplied scripts, every privilege or role granted to Oracle-supplied users and roles is granted commonly, with one exception: system privileges are granted locally to the common role <code class="codeph">PUBLIC</code>. 
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7">Common Roles in a CDB</a><br>A <span class="bold">common role</span> exists either in the CDB root or an application root, and applies to every PDB within the root container (either the CDB or the application container).
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892">Local Roles in a CDB</a><br>A<span class="bold"> local role</span> exists only in a single PDB, just as a role in a non-CDB exists only in the non-CDB. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1__GRANTSTOPUBLICINACDB-79A830F6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" title="In a CDB, PUBLIC is a common role. In a PDB, privileges granted locally to PUBLIC enable all local and common user account to exercise these privileges in this PDB only.">Grants to PUBLIC in a CDB</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89265"></a><div class="props_rev_3"><a id="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7" name="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7"></a><h5 id="MULTI-GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7" class="sect5"><span class="enumeration_section">2.2.3.1 </span>Common Roles in a CDB
                     </h5>
                     <div>
                        <p>A <span class="bold">common role</span> exists either in the CDB root or an application root, and applies to every PDB within the root container (either the CDB or the application container).
                        </p>
                        <p>Common roles are useful for cross-container operations, ensuring that a common user has a role in every PDB. Every common role is one of the following types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle-supplied</p>
                              <p>All Oracle-supplied roles, such as <code class="codeph">DBA</code> and <code class="codeph">PUBLIC</code>, are common to the CDB.
                              </p>
                           </li>
                           <li>
                              <p>User-created</p>
                              <p>Create a common role by executing <code class="codeph">CREATE ROLE ... CONTAINER=ALL</code> in either the CDB root or application root, which determines the container to which the role is common. The standard naming conventions apply. Additionally, the names of CDB common roles must begin with the characters specified by the <code class="codeph">COMMON_USER_PREFIX</code> initialization parameter, which are <code class="codeph">c##</code> or <code class="codeph">C##</code> by default.
                              </p>
                           </li>
                        </ul>
                        <p>The scope of the role is the scope of the root within which it is defined. If you define the role in <code class="codeph">CDB$ROOT</code>, then its scope is the entire CDB. If you define the role within application root, then its scope is the application container. 
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-41E5D1A9-30D4-4FFF-A74F-F1173D8B1BF7__GUID-D4A22D52-4971-4C0F-9850-B06341E44F16">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-05B15BE7-D8CD-4D8C-A33F-38C1BB09D893" title="A cross-container operation is a DDL or DML statement that affects multiple containers at once.">Cross-Container Operations</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to manage common roles
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-ROLE.html#SQLRF01311" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">CREATE ROLE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" title="User-created roles are either local or common. Common roles are either common to the CDB itself or to a specific application container.">Overview of Common and Local Roles in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89354"></a><div class="props_rev_3"><a id="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892" name="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892"></a><h5 id="MULTI-GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892" class="sect5"><span class="enumeration_section">2.2.3.2 </span>Local Roles in a CDB
                     </h5>
                     <div>
                        <p>A<span class="bold"> local role</span> exists only in a single PDB, just as a role in a non-CDB exists only in the non-CDB. 
                        </p>
                        <p>A local role can only contain roles and privileges that apply within the container in which the role exists. For example, if you create the local role <code class="codeph">pdbadmin</code> in <code class="codeph">hrpdb</code>, then the scope of this role is restricted to this PDB.
                        </p>
                        <p>PDBs in the same CDB, or in the same application container, may contain local roles with the same name. For example, the user-created role <code class="codeph">pdbadmin</code> may exist in both <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code>. However, these roles are completely independent of each other, just as they would be in separate non-CDBs.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-243E6C32-C69E-4829-A419-1CF1E8FE3892__GUID-71376A80-117C-4462-A08C-DBBFB2D16905">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to manage local roles
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-19E279FC-9E50-4AE7-B852-1C6409066BC1" title="User-created roles are either local or common. Common roles are either common to the CDB itself or to a specific application container.">Overview of Common and Local Roles in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89261"></a><div class="props_rev_3"><a id="GUID-16473474-7F47-4E40-A592-01836E7D911C" name="GUID-16473474-7F47-4E40-A592-01836E7D911C"></a><h4 id="MULTI-GUID-16473474-7F47-4E40-A592-01836E7D911C" class="sect4"><span class="enumeration_section">2.2.4 </span>Overview of Privilege and Role Grants in a CDB
                  </h4>
                  <div>
                     <p>Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.</p>
                     <p>A privilege or role granted locally is exercisable only in the PDB in which it was granted. A privilege or role granted commonly is exercisable in every existing and future PDB in the container—either the CDB or an application container—in which it was granted.</p>
                     <p>Users and roles may be common or local. However, a privilege is <span class="italic">in itself</span> neither common nor local. If a user grants a privilege locally using the <code class="codeph">CONTAINER=CURRENT</code> clause, then the grantee has a privilege exercisable only in the current container. If a user connects to either the CDB root or an application root, and if this user grants a privilege commonly using the <code class="codeph">CONTAINER=ALL</code> clause, then the grantee has this privilege in any existing or future PDB within the current container.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC">Principles of Privilege and Role Grants in a CDB</a><br>In a CDB, every act of granting, whether local or common, occurs within a container. The container may be the CDB root, an application root, or a PDB.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73">Privileges and Roles Granted Locally in a CDB</a><br>Roles and privileges may be granted locally to users and roles <span class="italic">regardless</span> of whether the grantees, grantors, or roles being granted are local or common.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05">Roles and Privileges Granted Commonly in a CDB</a><br>Privileges and common roles may be granted commonly.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-B0D2B368-83B2-4876-A06E-A6A86046530C">Grants to PUBLIC in a CDB</a><br>In a CDB, <code class="codeph">PUBLIC</code> is a common role. In a PDB, privileges granted locally to <code class="codeph">PUBLIC</code> enable all local and common user account to exercise these privileges in this PDB only.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7">Grants of Privileges and Roles: Scenario</a><br>In this scenario, <code class="codeph">SYSTEM</code> creates common user <code class="codeph">c##dba</code> and tries to give this user privileges to query a table in the <code class="codeph">hr</code> schema in <code class="codeph">hrpdb</code>. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-16473474-7F47-4E40-A592-01836E7D911C__GUID-A4FC120A-DCAD-470D-9444-4485760E2D05">
                        <p class="notep1">See Also:</p>
                        <p><a href="managing-security-for-a-multitenant-environment.html#GUID-C8A812E3-EF89-4273-ADA4-0633A289C82B" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to manage common privileges
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="CNCPT89355"></a><div class="props_rev_3"><a id="GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC" name="GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC"></a><h5 id="MULTI-GUID-EA93A258-63A2-481D-A1E1-B6F06EC9EDBC" class="sect5"><span class="enumeration_section">2.2.4.1 </span>Principles of Privilege and Role Grants in a CDB
                     </h5>
                     <div>
                        <p>In a CDB, every act of granting, whether local or common, occurs within a container. The container may be the CDB root, an application root, or a PDB.</p>
                        <p>If the current container is the CDB root, then granting commonly means granting to all containers in the CDB. If the current container is an application root, however, then granting commonly means granting to all PDBs in the current application container.</p>
                        <p>The basic principles of granting are as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Both common and local phenomena may grant and be granted locally.</p>
                           </li>
                           <li>
                              <p>Only common phenomena may grant or be granted commonly.</p>
                           </li>
                        </ul>
                        <p>Local users, roles, and privileges are restricted to a particular PDB. Thus, local users may not grant roles and privileges commonly, and local roles and privileges may not be granted commonly.</p>
                        <p>The following sections describe the implications of the preceding principles.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.">Overview of Privilege and Role Grants in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89356"></a><a id="CNCPT89262"></a><div class="props_rev_3"><a id="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" name="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73"></a><h5 id="MULTI-GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" class="sect5"><span class="enumeration_section">2.2.4.2 </span>Privileges and Roles Granted Locally in a CDB
                     </h5>
                     <div>
                        <p>Roles and privileges may be granted locally to users and roles <span class="italic">regardless</span> of whether the grantees, grantors, or roles being granted are local or common.
                        </p>
                        <p>The following table explains the valid possibilities for locally granted roles and privileges.</p>
                        <div class="tblformal" id="GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73__CIHIDGBB">
                           <p class="titleintable">Table 2-4 Local Grants</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Local Grants" summary="This table explains the valid possibilities for locally granted roles and privileges." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d10378e5070">Phenomenon</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5073">May Grant Locally</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5076">May Be Granted Locally</th>
                                    <th align="left" valign="bottom" width="25%" id="d10378e5079">May Receive a Role or Privilege Granted Locally</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5084" headers="d10378e5070 ">
                                       <p>Common User</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5073 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5076 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5084 d10378e5079 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5097" headers="d10378e5070 ">
                                       <p>Local User</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5073 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5076 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5097 d10378e5079 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5110" headers="d10378e5070 ">
                                       <p>Common Role</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5073 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5076 ">
                                       <p>Yes<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "Privileges in this role are available to the grantee only in the container in which the role was granted, regardless of whether the privileges were granted to the role locally or commonly.")"><sup>Foot&nbsp;1</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5110 d10378e5079 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5126" headers="d10378e5070 ">
                                       <p>Local Role</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5073 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5076 ">
                                       <p>Yes<a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, "Privileges in this role are available to the grantee only in the container in which the role was granted and created.")"><sup>Foot&nbsp;2</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5126 d10378e5079 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d10378e5142" headers="d10378e5070 ">
                                       <p>Privilege</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5073 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5076 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d10378e5142 d10378e5079 ">
                                       <p>N/A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>Privileges in this role are available to the grantee only in the container in which the role was granted, regardless of whether the privileges were granted to the role locally or commonly.</p>
                        <p></p>
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p>Privileges in this role are available to the grantee only in the container in which the role was granted and created.</p>
                        <p></p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-32330FD6-C021-4E5A-82D7-C745F58913E6">What Makes a Privilege or Role Grant Local</a><br>To grant a role or privilege locally, use the <code class="codeph">GRANT</code> statement with the <code class="codeph">CONTAINER=CURRENT</code> clause, which is the default.
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561">Roles and Privileges Granted Locally</a><br>A user or role may be locally granted a <span class="italic">privilege</span> (<code class="codeph">CONTAINER=CURRENT</code>). 
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.">Overview of Privilege and Role Grants in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89357"></a><div class="props_rev_3"><a id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6" name="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6"></a><h6 id="MULTI-GUID-32330FD6-C021-4E5A-82D7-C745F58913E6" class="sect6"><span class="enumeration_section">2.2.4.2.1 </span>What Makes a Privilege or Role Grant Local
                        </h6>
                        <div>
                           <p>To grant a role or privilege locally, use the <code class="codeph">GRANT</code> statement with the <code class="codeph">CONTAINER=CURRENT</code> clause, which is the default.
                           </p>
                           <p>Specifically, a role or privilege is granted locally only when the following criteria are met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The grantor has the necessary privileges to grant the specified role or privileges.</p>
                                 <p>For system roles and privileges, the grantor must have the <code class="codeph">ADMIN OPTION</code> for the role or privilege being granted. For object privileges, the grantor must have the <code class="codeph">GRANT OPTION</code> for the privilege being granted.
                                 </p>
                              </li>
                              <li>
                                 <p>The grant applies to only one container.</p>
                                 <p>By default, the <code class="codeph">GRANT</code> statement includes the <code class="codeph">CONTAINER=CURRENT</code> clause, which indicates that the privilege or role is granted locally.
                                 </p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6__GUID-B0B2F7E8-CA96-47ED-A20E-ED55940226FD">
                              <p class="titleinexample">Example 2-4 Granting a Privilege Locally</p>
                              <p>In this example, both <code class="codeph">SYSTEM</code> and  <code class="codeph">c##hr_admin</code> are common users. The example connects to <code class="codeph">hrpdb</code> as <code class="codeph">SYSTEM</code> (which has administrator privileges), and then locally grants read privileges on the <code class="codeph">employees</code> table to <code class="codeph">c##hr_admin</code>. This grant applies <span class="italic">only</span> to <code class="codeph">c##hr_admin</code> within <code class="codeph">hrpdb</code>, not within any other PDBs.
                              </p><pre class="pre codeblock"><code>CONNECT SYSTEM@hrpdb
Enter password: <span class="italic">password</span>
Connected.

GRANT READ ON employees TO c##hr_admin CONTAINER=CURRENT;
</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-32330FD6-C021-4E5A-82D7-C745F58913E6__GUID-D6AA2BAB-07F7-4505-9619-1BA2C79019A5">
                              <p class="notep1">See Also:</p>
                              <p><a href="managing-security-for-a-multitenant-environment.html#GUID-0EF81AD5-7102-499A-81F3-74ECCDFC2926" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about granting local roles and privileges
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" title="Roles and privileges may be granted locally to users and roles regardless of whether the grantees, grantors, or roles being granted are local or common.">Privileges and Roles Granted Locally in a CDB</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89358"></a><div class="props_rev_3"><a id="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561" name="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561"></a><h6 id="MULTI-GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561" class="sect6"><span class="enumeration_section">2.2.4.2.2 </span>Roles and Privileges Granted Locally
                        </h6>
                        <div>
                           <p>A user or role may be locally granted a <span class="italic">privilege</span> (<code class="codeph">CONTAINER=CURRENT</code>). 
                           </p>
                           <p>For example, a <code class="codeph">READ ANY TABLE</code> privilege granted locally to a local or common user in <code class="codeph">hrpdb</code> applies only to <span class="italic">this</span> user in <span class="italic">this</span> PDB. Analogously, the <code class="codeph">READ ANY TABLE</code> privilege granted to user <code class="codeph">hr</code> in a non-CDB has no bearing on the privileges of an <code class="codeph">hr</code> user that exists in a separate non-CDB.
                           </p>
                           <p>A user or role may be locally granted a <span class="italic">role</span> (<code class="codeph">CONTAINER=CURRENT</code>). As shown in <a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73__CIHIDGBB" title="This table explains the valid possibilities for locally granted roles and privileges.">Table 2-4</a>, a <span class="italic">common</span> role may receive a privilege granted <span class="italic">locally</span>. For example, the common role <code class="codeph">c##dba</code> may be granted the <code class="codeph">READ ANY TABLE</code> privilege locally in <code class="codeph">hrpdb</code>. If the <code class="codeph">c##cdb</code> common role is granted locally, then privileges in the role apply <span class="italic">only</span> in the container in which the role is granted. In this example, a common user who has the <code class="codeph">c##cdba</code> role does not, because of a privilege granted locally to this role in <code class="codeph">hrpdb</code>, have the right to exercise this privilege in any PDB other than <code class="codeph">hrpdb</code>.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-4DE0907B-4F26-450E-8A4C-1D19A2563561__GUID-EACE83F6-4C19-40B0-BBE0-B6DB0D1794CB">
                              <p class="notep1">See Also:</p>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to grant roles and privileges in a CDB
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-3E2C71F3-1B94-4D3E-A7E7-92BB76511D73" title="Roles and privileges may be granted locally to users and roles regardless of whether the grantees, grantors, or roles being granted are local or common.">Privileges and Roles Granted Locally in a CDB</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="CNCPT89360"></a><a id="CNCPT89359"></a><div class="props_rev_3"><a id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" name="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05"></a><h5 id="MULTI-GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" class="sect5"><span class="enumeration_section">2.2.4.3 </span>Roles and Privileges Granted Commonly in a CDB
                     </h5>
                     <div>
                        <p>Privileges and common roles may be granted commonly.</p>
                        <p>User accounts or roles may be granted roles and privileges commonly only if the grantees and grantors are both <span class="italic">common</span>. If a role is being granted commonly, then the role itself must be common. The following table explains the possibilities for common grants.
                        </p>
                        <div class="tblformal" id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__CIHCHGGB">
                           <p class="titleintable">Table 2-5 Common Grants</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Common Grants" summary="This table  explains the possibilities for common grants." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d10378e5667">Phenomenon</th>
                                    <th align="left" valign="bottom" width="22%" id="d10378e5670">May Grant Commonly</th>
                                    <th align="left" valign="bottom" width="23%" id="d10378e5673">May Be Granted Commonly</th>
                                    <th align="left" valign="bottom" width="35%" id="d10378e5676">May Receive Roles and Privileges Granted Commonly</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5681" headers="d10378e5667 ">
                                       <p>Common User Account</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5681 d10378e5670 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5681 d10378e5673 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5681 d10378e5676 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5694" headers="d10378e5667 ">
                                       <p>Local User Account</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5694 d10378e5670 ">
                                       <p>No</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5694 d10378e5673 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5694 d10378e5676 ">
                                       <p>No</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5707" headers="d10378e5667 ">
                                       <p>Common Role</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5707 d10378e5670 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5707 d10378e5673 ">
                                       <p>Yes<a id="fn_3" name="fn_3" href="#fn_3" onclick="footdisplay(3, "Privileges that were granted commonly to a common role are available to the grantee across all containers. In addition, any privilege granted locally to a common role is available to the grantee only in the container in which that privilege was granted to the common role.")"><sup>Foot&nbsp;3</sup></a></p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5707 d10378e5676 ">
                                       <p>Yes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5723" headers="d10378e5667 ">
                                       <p>Local Role</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5723 d10378e5670 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5723 d10378e5673 ">
                                       <p>No</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5723 d10378e5676 ">
                                       <p>No</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d10378e5736" headers="d10378e5667 ">
                                       <p>Privilege</p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d10378e5736 d10378e5670 ">
                                       <p>N/A</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d10378e5736 d10378e5673 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="35%" headers="d10378e5736 d10378e5676 ">
                                       <p>N/A</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3 </sup></p><p>Privileges that were granted commonly to a common role are available to the grantee across all containers. In addition, any privilege granted locally to a common role is available to the grantee only in the container in which that privilege was granted to the common role.</p>
                        <p></p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE">What Makes a Grant Common</a><br>The <code class="codeph">CONTAINER=ALL</code> clause specifies that the privilege or role is being granted commonly.
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F">Roles and Privileges Granted Commonly</a><br>A common user account or role may be granted a <span class="italic">privilege</span> commonly (<code class="codeph">CONTAINER=ALL</code>). 
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__GUID-5D05879E-C26F-41A5-B8E8-83EA7F5FF43C">
                           <p class="notep1">See Also:</p>
                           <p><a href="managing-security-for-a-multitenant-environment.html#GUID-0EF81AD5-7102-499A-81F3-74ECCDFC2926" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about common grants
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.">Overview of Privilege and Role Grants in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89361"></a><div class="props_rev_3"><a id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE" name="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE"></a><h6 id="MULTI-GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE" class="sect6"><span class="enumeration_section">2.2.4.3.1 </span>What Makes a Grant Common
                        </h6>
                        <div>
                           <p>The <code class="codeph">CONTAINER=ALL</code> clause specifies that the privilege or role is being granted commonly.
                           </p>
                           <p>A role or privilege is granted commonly when the following criteria are met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The grantor is a common user. </p>
                                 <p>The user that performs the grant is either common to the CDB itself, or common to a specific application container.</p>
                              </li>
                              <li>
                                 <p>The grantee is a common user or common role.</p>
                                 <p>The recipient of the grant is either common to the CDB itself, or common to a specific application container.</p>
                              </li>
                              <li>
                                 <p>The grantor has the necessary privileges to grant the specified role or privileges.</p>
                                 <p>For system roles and privileges, the grantor must have the <code class="codeph">ADMIN OPTION</code> for the role or privilege being granted. For object privileges, the grantor must have the <code class="codeph">GRANT OPTION</code> for the privilege being granted.
                                 </p>
                              </li>
                              <li>
                                 <p>The grant applies to all PDBs within the container (either CDB or application container) in which the grant occurred.</p>
                                 <p>The <code class="codeph">GRANT</code> statement includes a <code class="codeph">CONTAINER=ALL</code> clause specifying that the privilege or role is granted commonly.
                                 </p>
                              </li>
                              <li>
                                 <p>If a role is being granted, then it must be common, and if an object privilege is being granted, then the object on which the privilege is granted must be common.</p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE__GUID-B0B2F7E8-CA96-47ED-A20E-ED55940226FD">
                              <p class="titleinexample">Example 2-5 Granting a Privilege Commonly</p>
                              <p>In this example, both <code class="codeph">SYSTEM</code> and <code class="codeph">c##hr_admin</code> are common users. <code class="codeph">SYSTEM</code> connects to the CDB root, and then grants the <code class="codeph">CREATE ANY TABLE</code> privilege commonly to <code class="codeph">c##hr_admin</code>. In this case, <code class="codeph">c##hr_admin</code> can now create a table in any PDB in the CDB.
                              </p><pre class="pre codeblock"><code>CONNECT SYSTEM@root 
Enter password: password
Connected.

GRANT CREATE ANY TABLE TO c##hr_admin CONTAINER=ALL;
</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-0AD54CDC-69C9-4ED3-B98C-BD397B06D0DE__GUID-36DD9204-985C-4E27-A599-CACCAB1A4419">
                              <p class="notep1">See Also:</p>
                              <p><a href="managing-security-for-a-multitenant-environment.html#GUID-06F73CD9-A36C-47F9-86DD-643ED9DE8ABD" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to grant common privileges
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="Privileges and common roles may be granted commonly.">Roles and Privileges Granted Commonly in a CDB</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89362"></a><div class="props_rev_3"><a id="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F" name="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F"></a><h6 id="MULTI-GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F" class="sect6"><span class="enumeration_section">2.2.4.3.2 </span>Roles and Privileges Granted Commonly
                        </h6>
                        <div>
                           <p>A common user account or role may be granted a <span class="italic">privilege</span> commonly (<code class="codeph">CONTAINER=ALL</code>). 
                           </p>
                           <p>Within the context of either the CDB root or an application root, the privilege is granted to this common user account or role in all existing and future PDBs within the current container. For example, if <code class="codeph">SYSTEM</code> connects to the CDB root and grants a <code class="codeph">SELECT ANY TABLE</code> privilege commonly to CDB common user account <code class="codeph">c##dba</code>, then the <code class="codeph">c##dba</code> user has this privilege in all PDBs in the CDB. A role or privilege granted <span class="italic">commonly</span> cannot be revoked <span class="italic">locally</span>.
                           </p>
                           <p>A user or role may receive a common role granted commonly. As mentioned in a footnote on <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05__CIHCHGGB" title="This table explains the possibilities for common grants.">Table 2-5</a>, a common role may receive a privilege granted locally. Thus, a common user can be granted a common role, and this role may contain locally granted privileges. 
                           </p>
                           <p>For example, the common role <code class="codeph">c##admin</code> may be granted the <code class="codeph">SELECT ANY TABLE</code> privilege that is local to <code class="codeph">hrpdb</code>. Locally granted privileges in a common role apply <span class="italic">only</span> in the container in which the privilege was granted. Thus, the common user with the <code class="codeph">c##admin</code> role does not have the right to exercise an <code class="codeph">hrpdb</code>-contained privilege in <code class="codeph">salespdb</code> or any PDB other than <code class="codeph">hrpdb</code>.
                           </p>
                           <p></p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-13FAB488-8475-4B7B-A153-5C4BF61D834F__GUID-C56B0D25-0458-4FE5-B2D3-5853EFDAF22C">
                              <p class="notep1">See Also:</p>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG588" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to grant roles and privileges in a CDB
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-30BAB0BC-3FCA-469C-A578-161271EAEB05" title="Privileges and common roles may be granted commonly.">Roles and Privileges Granted Commonly in a CDB</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="CNCPT89363"></a><div class="props_rev_3"><a id="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" name="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C"></a><h5 id="MULTI-GUID-B0D2B368-83B2-4876-A06E-A6A86046530C" class="sect5"><span class="enumeration_section">2.2.4.4 </span>Grants to PUBLIC in a CDB
                     </h5>
                     <div>
                        <p>In a CDB, <code class="codeph">PUBLIC</code> is a common role. In a PDB, privileges granted locally to <code class="codeph">PUBLIC</code> enable all local and common user account to exercise these privileges in this PDB only.
                        </p>
                        <p>Every privilege and role granted to Oracle-supplied users and roles is granted commonly except for system privileges granted to <code class="codeph">PUBLIC</code>, which are granted locally. This exception exists because you may want to revoke some grants included by default in Oracle Database, such as <code class="codeph">EXECUTE</code> on the <code class="codeph">SYS.UTL_FILE</code> package.
                        </p>
                        <p>Assume that local user account <code class="codeph">hr</code> exists in <code class="codeph">hrpdb</code>. This user locally grants the <code class="codeph">SELECT</code> privilege on <code class="codeph">hr.employees</code> to <code class="codeph">PUBLIC</code>. Common and local users in <code class="codeph">hrpdb</code> may exercise the privilege granted to <code class="codeph">PUBLIC</code>. User accounts in <code class="codeph">salespdb</code> or any other PDB do not have the privilege to query <code class="codeph">hr.employees</code> in <code class="codeph">hrpdb</code>.
                        </p>
                        <p>Privileges granted commonly to <code class="codeph">PUBLIC</code> enable all local users to exercise the granted privilege in their respective PDBs and enable all common users to exercise this privilege in the PDBs to which they have access. Oracle recommends that users do not commonly grant privileges and roles to <code class="codeph">PUBLIC</code>.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B0D2B368-83B2-4876-A06E-A6A86046530C__GUID-B9F2FF6E-D53E-4326-803C-47B48E4C5745">
                           <p class="notep1">See Also:</p>
                           <p><a href="managing-security-for-a-multitenant-environment.html#GUID-8386733A-6F0E-41D0-9E77-4E767FFE91C9" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how the <code class="codeph">PUBLIC</code> role works in a multitenant environment
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.">Overview of Privilege and Role Grants in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="CNCPT89365"></a><a id="CNCPT89364"></a><div class="props_rev_3"><a id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7" name="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7"></a><h5 id="MULTI-GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7" class="sect5"><span class="enumeration_section">2.2.4.5 </span>Grants of Privileges and Roles: Scenario
                     </h5>
                     <div>
                        <p>In this scenario, <code class="codeph">SYSTEM</code> creates common user <code class="codeph">c##dba</code> and tries to give this user privileges to query a table in the <code class="codeph">hr</code> schema in <code class="codeph">hrpdb</code>. 
                        </p>
                        <p>The scenario shows how the <code class="codeph">CONTAINER</code> clause affects grants of roles and privileges. The first column shows operations in <code class="codeph">CDB$ROOT</code>. The second column shows operations in <code class="codeph">hrpdb</code>.
                        </p>
                        <div class="tblformalwide" id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7__GRANTINGROLESANDPRIVILEGES-1BFD50E8">
                           <p class="titleintable">Table 2-6 Granting Roles and Privileges in a CDB</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Granting Roles and Privileges in a CDB" summary="This table shows the grants of roles and privileges in a CDB. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e6409">t</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6412">Operations in CDB$ROOT</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6415">Operations in hrpdb</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e6418">Explanation</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6423" headers="d10378e6409 ">
                                       <p>t1</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@root
Enter password: *******
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6423 d10378e6418 ">
                                       <p>Common user <code class="codeph">SYSTEM</code> connects to the root container.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6439" headers="d10378e6409 ">
                                       <p>t2</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CREATE USER c##dba 
IDENTIFIED BY <span class="italic">password</span> 
CONTAINER=ALL;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6439 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> creates common user <code class="codeph">c##dba</code>. The clause <code class="codeph">CONTAINER=ALL</code> makes the user a common user.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6463" headers="d10378e6409 ">
                                       <p>t3</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT CREATE SESSION 
  TO c##dba;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6463 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the <code class="codeph">CREATE SESSION</code> system privilege to <code class="codeph">c##dba</code>. Because the clause <code class="codeph">CONTAINER=ALL</code> is absent, this privilege is granted locally and thus applies <span class="italic">only</span> to the root, which is the current container.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6490" headers="d10378e6409 ">
                                       <p>t4</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CREATE ROLE c##admin 
  CONTAINER=ALL;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6490 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> creates a common role named <code class="codeph">c##admin</code>. The clause <code class="codeph">CONTAINER=ALL</code> makes the role a common role.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6511" headers="d10378e6409 ">
                                       <p>t5</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT SELECT ANY TABLE 
  TO c##admin;
Grant succeeded.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6511 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the <code class="codeph">SELECT ANY TABLE</code> privilege to the <code class="codeph">c##admin</code> role. The absence of the <code class="codeph">CONTAINER=ALL</code> clause makes the privilege local to the root. Thus, this common role contains a privilege that is exercisable only in the root.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6535" headers="d10378e6409 ">
                                       <p>t6</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT c##admin TO c##dba;
SQL&gt; EXIT;</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6535 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the <code class="codeph">c##admin</code> role to <code class="codeph">c##dba</code>. Because the <code class="codeph">CONTAINER=ALL</code> clause is absent, the role applies <span class="italic">only</span> to the current container, even though it is a common role. If <code class="codeph">c##dba</code> connects to a PDB, then <code class="codeph">c##dba</code> does not have this role.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6569" headers="d10378e6409 ">
                                       <p>t7</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT c##dba@hrpdb
Enter password: *******
ERROR: ORA-01045: user c##dba
lacks CREATE SESSION privilege;
logon denied</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6569 d10378e6418 ">
                                       <p><code class="codeph">c##dba</code> fails to connect to <code class="codeph">hrpdb</code> because the grant at t3 was local to the root.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6587" headers="d10378e6409 ">
                                       <p>t8</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@hrpdb
Enter password: *******
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6587 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> connects to <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6605" headers="d10378e6409 ">
                                       <p>t9</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; GRANT CONNECT, RESOURCE TO c##dba;
Grant succeeded.
SQL&gt; EXIT</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6605 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the <code class="codeph">CONNECT</code> and <code class="codeph">RESOURCE</code> roles to common user <code class="codeph">c##dba</code>. Because the clause <code class="codeph">CONTAINER=ALL</code> is absent, the grant is local to <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6635" headers="d10378e6409 ">
                                       <p>t10</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; CONNECT c##dba@hrpdb
Enter password: *******
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6635 d10378e6418 ">
                                       <p>Common user <code class="codeph">c##dba</code> connects to <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6654" headers="d10378e6409 ">
                                       <p>t11</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*)
FROM hr.employees;
select * from hr.employees
                 *
ERROR at line 1:
ORA-00942: table or view does
not exist</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6654 d10378e6418 ">
                                       <p>The query of <code class="codeph">hr.employees</code> still returns an error because <code class="codeph">c##dba</code> does not have select privileges on tables in <code class="codeph">hrpdb</code>. The <code class="codeph">SELECT ANY TABLE</code> privilege granted locally at t5 is restricted to the root and thus does not apply to <code class="codeph">hrpdb</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6683" headers="d10378e6409 ">
                                       <p>t12</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@root
Enter password: *******
Connected.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6683 d10378e6418 ">
                                       <p>Common user <code class="codeph">SYSTEM</code> connects to the root container.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6699" headers="d10378e6409 ">
                                       <p>t13</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT SELECT ANY TABLE
 TO c##admin CONTAINER=ALL;
Grant succeeded.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6699 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the <code class="codeph">SELECT ANY TABLE</code> privilege to the <code class="codeph">c##admin</code> role. The presence of <code class="codeph">CONTAINER=ALL</code> means the privilege is being granted commonly.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6723" headers="d10378e6409 ">
                                       <p>t14</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*) FROM 
  hr.employees;
select * from hr.employees
                 *
ERROR at line 1:
ORA-00942: table or view does
not exist</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6723 d10378e6418 ">
                                       <p>A query of <code class="codeph">hr.employees</code> still returns an error. The reason is that at t6 the <code class="codeph">c##admin</code> common role was granted to <code class="codeph">c##dba</code> in the root only.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6745" headers="d10378e6409 ">
                                       <p>t15</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6412 "><pre class="pre codeblock"><code>SQL&gt; GRANT c##admin TO c##dba
  CONTAINER=ALL;
Grant succeeded.</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6415 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6745 d10378e6418 ">
                                       <p><code class="codeph">SYSTEM</code> grants the common role named <code class="codeph">c##admin</code> to <code class="codeph">c##dba</code>, specifying <code class="codeph">CONTAINER=ALL</code>. Now user <code class="codeph">c##dba</code> has the role in <span class="italic">all</span> containers, not just the root.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e6775" headers="d10378e6409 ">
                                       <p>t17</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6412 ">
                                       <p>n/a</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6415 "><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*)
  FROM hr.employees;

  COUNT(*)
----------
       107</code></pre></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e6775 d10378e6418 ">
                                       <p>The query succeeds.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8F48CCCC-200B-46C1-8C0D-9410FF54CEA7__GUID-A1BE1E0C-89BD-4466-A30C-5EC8CA7F186F">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG761" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to manage common and local roles
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-16473474-7F47-4E40-A592-01836E7D911C" title="Just as in a non-CDB, users in a CDB can grant and be granted roles and privileges. Roles and privileges in a CDB, however, are either locally or commonly granted.">Overview of Privilege and Role Grants in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" name="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A"></a><h4 id="MULTI-GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" class="sect4"><span class="enumeration_section">2.2.5 </span>Overview of Common and Local Objects in a CDB
                  </h4>
                  <div>
                     <p>A <span class="bold">common object</span> is defined in either the CDB root or an application root, and can be referenced using metadata links or object links. A local object is every object that is not a common object.
                     </p>
                     <p>Database-supplied common objects are defined in <code class="codeph">CDB$ROOT</code> and cannot be changed. Oracle Database does not support creation of common objects in <code class="codeph">CDB$ROOT</code>.
                     </p>
                     <p>You can create most schema objects—such as tables, views, PL/SQL and Java program units, sequences, and so on—as common objects in an application root. If the object exists in an application root, then it is called an <a href="glossary.html#GUID-550AAB97-0A61-4668-B778-9DCD67B5D674"><span class="xrefglossterm">application common object</span></a>.
                     </p>
                     <p>A local user can own a common object. Also, a common user can own a local object, but only when the object is not data-linked or metadata-linked, and is also neither a metadata link nor a data link.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A__GUID-6F3E7F8F-5D8C-488B-82C9-EA56EFE66D20">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#GUID-D3336A29-71A4-42C3-BCBB-8E6738627539" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about privilege management for common objects
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89267"></a><div class="props_rev_3"><a id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3" name="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3"></a><h4 id="MULTI-GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3" class="sect4"><span class="enumeration_section">2.2.6 </span>Overview of Common Audit Configurations
                  </h4>
                  <div>
                     <p>For both mixed mode and unified auditing, a <span class="bold">common audit configuration</span> is visible and enforced across all PDBs.
                     </p>
                     <p>Audit configurations are either local or common. The scoping rules that apply to other local or common phenomena, such as users and roles, all apply to audit configurations.</p>
                     <div class="infoboxnote" id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3__GUID-681F518D-E24D-43BC-92EB-974F813DF239">
                        <p class="notep1">Note:</p>
                        <p>Audit initialization parameters exist at the CDB level and not in each PDB.</p>
                     </div>
                     <p>PDBs support the following auditing options:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Object auditing</p>
                           <p>Object auditing refers to audit configurations for specific objects. Only common objects can be part of the common audit configuration. A local audit configuration cannot contain common objects.</p>
                        </li>
                        <li>
                           <p>Audit policies</p>
                           <p>Audit policies can be local or common:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Local audit policies</p>
                                 <p>A local audit policy applies to a single PDB. You can enforce local audit policies for local and common users in this PDB only. Attempts to enforce local audit policies across all containers result in an error.</p>
                                 <p>In all cases, enforcing of a local audit policy is part of the local auditing framework.</p>
                              </li>
                              <li>
                                 <p>Common audit policies</p>
                                 <p>A common audit policy applies to all containers. This policy can only contain actions, system privileges, common roles, and common objects. You can apply a common audit policy only to common users. Attempts to enforce a common audit policy for a local user across all containers result in an error.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>A common audit configuration is stored in the <code class="codeph">SYS</code> schema of the root. A local audit configuration is stored in the <code class="codeph">SYS</code> schema of the PDB to which it applies.
                     </p>
                     <p>Audit trails are stored in the <code class="codeph">SYS</code> or <code class="codeph">AUDSYS</code> schemas of the relevant PDBs. Operating system and XML audit trails for PDBs are stored in subdirectories of the directory specified by the <code class="codeph">AUDIT_FILE_DEST</code> initialization parameter.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-232E8018-9BA8-4412-BAA6-98FC9B19D8E3__GUID-A12F38D1-D41E-4997-ACD8-FEF29578082F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/topics-for-database-administrators-and-developers.html#CNCPT-GUID-377114CE-BCB9-4135-A8EE-44FFA43F1D6E" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about database auditing
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/introduction-to-auditing.html#DBSEG617" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about common audit configurations
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE" name="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE"></a><h4 id="MULTI-GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE" class="sect4"><span class="enumeration_section">2.2.7 </span>Overview of PDB Lockdown Profiles
                  </h4>
                  <div>
                     <p>A <strong class="term">PDB lockdown profile</strong> is a named set of features that control operations available to users connected to a PDB. For example, a PDB lockdown profile can disable privileges that come with the <code class="codeph">ALTER SYSTEM</code> statement.
                     </p>
                     <p>A potential for elevation of privileges exists when PDBs share an identity. For example, identity can be shared at a network level, or when PDBs access common objects or connect through database links. To increase security, a CDB administrator may want to compartmentalize access, thereby restricting the operations that a user can perform in a PDB.</p>
                     <p>A use case might be the creation of lockdown profiles at high, medium, and low levels. The high level might greatly restrict access, whereas the low level might enable access.</p>
                     <p>You can restrict the following types of access:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Network access</p>
                           <p>For example, restrict access to <code class="codeph">UTL_HTTP</code> or <code class="codeph">UTL_MAIL</code>.
                           </p>
                        </li>
                        <li>
                           <p>Common user and common object access</p>
                           <p>For example, restrict operations in which a local user in a PDB can proxy through a common user or access objects in a common schema.</p>
                        </li>
                        <li>
                           <p>Operating system access</p>
                           <p>For example, restrict access to the <code class="codeph">UTL_FILE</code> or <code class="codeph">DBMS_FILE_TRANSFER</code> PL/SQL packages.
                           </p>
                        </li>
                        <li>
                           <p>Connections</p>
                           <p>For example, you can restrict common users from connecting to the PDB or you can restrict a local user who has the <code class="codeph">SYSOPER</code> administrative privilege from connecting to a PDB that is open in restricted mode.
                           </p>
                        </li>
                        <li>
                           <p>Administrative features</p>
                           <p>For example, you can restrict the use of <code class="codeph">ALTER SYSTEM</code>, <code class="codeph">ALTER SESSION</code>, and <code class="codeph">ALTER DATABASE</code>.
                           </p>
                        </li>
                        <li>
                           <p>Database options</p>
                           <p>For example, you can use lockdown profiles to disable access to database options such as Oracle Partitioning or Oracle Database Advanced Queuing.</p>
                        </li>
                     </ul>
                     <p>When logged in to the CDB root or application root, create a lockdown profile by issuing the <code class="codeph">CREATE LOCKDOWN PROFILE</code> statement, which supports the following optional clauses:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">FROM <span class="codeinlineitalic">static_base_profile</span></code> creates a new lockdown profile by using the values from an existing profile. Any subsequent changes to the existing profile will not affect the new profile.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INCLUDING <span class="codeinlineitalic">dynamic_base_profile</span></code> creates a new lockdown profile by using the values from an existing profile, except that this new lockdown profile inherits the <code class="codeph">DISABLE STATEMENT</code> rules that comprise the base profile, and any subsequent changes to the base profile.
                           </p>
                        </li>
                     </ul>
                     <p>The user issuing the statement must have the <code class="codeph">CREATE LOCKDOWN PROFILE</code> system privilege in the current container. You can add and remove restrictions with the <code class="codeph">ALTER LOCKDOWN PROFILE</code> statement. The user must issue the <code class="codeph">ALTER</code> statement in the CDB root or application root and must have the have <code class="codeph">ALTER LOCKDOWN PROFILE</code> system privilege in the current container.
                     </p>
                     <p>Specify a lockdown profile by using the <code class="codeph">PDB_LOCKDOWN</code> initialization parameter. This parameter determines whether the PDB lockdown profile applies to a given PDB. You can set this parameter at the following levels:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>PDB</p>
                           <p>The profile applies only to the PDB in which it is set.</p>
                        </li>
                        <li>
                           <p>Application container</p>
                           <p>The profile applies to all application PDBs in the application container. The value can be modified only by an application common user who has application common <code class="codeph">SYSDBA</code> or common <code class="codeph">ALTER SYSTEM</code> privileges or a CDB common user who has common <code class="codeph">SYSDBA</code> or common <code class="codeph">ALTER SYSTEM</code> privileges.
                           </p>
                        </li>
                        <li>
                           <p>CDB</p>
                           <p>The profile applies to all PDBs. A common user who has common <code class="codeph">SYSDBA</code> or common <code class="codeph">ALTER SYSTEM</code> privileges can override a CDB-wide setting for a specific PDB.
                           </p>
                        </li>
                     </ul>
                     <p>If the <code class="codeph">PDB_LOCKDOWN</code> parameter in a PDB is set to the name of a lockdown profile different from the container for this PDB (CDB or application container), then a set of rules govern the interaction between restrictions.
                     </p>
                     <div class="example" id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE__GUID-AD907A15-AC08-4765-AE35-EFF48AE4014E">
                        <p class="titleinexample">Example 2-6 Creating a PDB Lockdown Profile</p>
                        <p>In this example, you connect to the CDB root as a common user with the <code class="codeph">CREATE LOCKDOWN PROFILE</code> privilege. You create a profile called medium that disables all <code class="codeph">ALTER SYSTEM</code> statements except for <code class="codeph">ALTER SYSTEM FLUSH SHARED POOL</code>:
                        </p><pre class="pre codeblock"><code>CREATE LOCKDOWN PROFILE medium;
ALTER LOCKDOWN PROFILE medium DISABLE STATEMENT=('ALTER SYSTEM');
ALTER LOCKDOWN PROFILE medium ENABLE STATEMENT=('ALTER SYSTEM') CLAUSE=('FLUSH SHARED POOL');
</code></pre><p>You can connect as the same common user to each PDB that requires this profile, and then use <code class="codeph">ALTER SYSTEM</code> to set the <code class="codeph">PDB_LOCKDOWN</code> initialization parameter to <code class="codeph">medium</code>. For example, you could set <code class="codeph">PDB_LOCKDOWN</code> to <code class="codeph">medium</code> for <code class="codeph">hrpdb</code>, but not <code class="codeph">salespdb</code>.
                        </p>
                        <p>The following example creates a <code class="codeph">medium2</code> profile from <code class="codeph">medium</code>:
                        </p><pre class="pre codeblock"><code>CREATE LOCKDOWN PROFILE medium2 FROM medium;</code></pre><div class="infoboxnote" id="GUID-1F6D3E4F-786A-47A0-A36C-83BAB75FCDAE__GUID-52C97E02-DB29-4D8F-BFAD-4BA4320DBBF5">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" title="There are several ways to restrict PDB users for enhanced security.">About Restricting PDB Users for Enhanced Security</a>"</span> to learn more about PDB lockdown profiles
                                 </p>
                              </li>
                              <li>
                                 <p><a href="managing-security-for-a-multitenant-environment.html#GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to create, enable, and drop PDB lockdown profiles
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B8A0393D-EB92-4020-81EA-7773EE60330C" title="In a CDB, every user, role, or object is either common or local. Similarly, a privilege is granted either commonly or locally.">Overview of Commonality in the CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" name="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01"></a><h3 id="MULTI-GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" class="sect3"><span class="enumeration_section">2.3 </span>Overview of Applications in an Application Container
               </h3>
               <div>
                  <p>Within an application container, an <strong class="term">application</strong> is the named, versioned set of common data and metadata stored in the application root.
                  </p>
                  <p>In this context of an application container, the term “application” means “master application definition.” For example, the application might include definitions of tables, views, and packages.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6">About Application Containers</a><br><span>An <strong class="term">application container</strong> is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.</span></li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C">Application Common Objects</a><br>An <strong class="term">application common object</strong> is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254">Application Maintenance</a><br>In this context, <strong class="term">application maintenance</strong> refers to installing, uninstalling, upgrading, or patching an application. 
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458">Migration of an Existing Application</a><br>You can migrate an application that is installed in a PDB to either an application root or to an application PDB.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4">Implicitly Created Applications</a><br>In addition to user-created applications, application containers can also contain implicitly created applications.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E">Application Synchronization</a><br>Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5">Container Maps</a><br>A <strong class="term">container map</strong> enables a session connected to application root to issue SQL statements that are routed to the appropriate PDB, depending on the value of a predicate used in the SQL statement.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01__TOLEARNABOUTCOMMONOBJECTS-94797156">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="A common object is defined in either the CDB root or an application root, and can be referenced using metadata links or object links. A local object is every object that is not a common object.">Overview of Common and Local Objects in a CDB</a>"</span> to learn about application common objects
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" name="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6"></a><h4 id="MULTI-GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" class="sect4"><span class="enumeration_section">2.3.1 </span>About Application Containers
                  </h4>
                  <div>
                     <p><span>An <strong class="term">application container</strong> is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.</span></p>
                     <p>For example, you might create multiple sales-related PDBs within one application container, with these PDBs sharing an application back end that consists of a set of common tables and table definitions. You might store multiple HR-related PDBs within a separate application container, with their own common tables and table definitions. </p>
                     <p>The&nbsp;<code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE</code>&nbsp;statement with the <code class="codeph">AS APPLICATION CONTAINER</code> clause creates the application root of the application container, and thus implicitly creates the application container itself. When you first create the application container, it contains no PDBs. To create application PDBs, you must connect to the application root, and then execute the&nbsp;<code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE</code>&nbsp;statement.
                     </p>
                     <p>In the&nbsp;<code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE</code>&nbsp;statement, you must specify a container name (which is the same as the application root name), for example, <code class="codeph">saas_sales_ac</code>. The application container name must be unique within the CDB, and within the scope of all the CDBs whose instances are reached through a specific listener. Every application container has a default service with the same name as the application container. 
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D">Purpose of Application Containers</a><br>In some ways, an application container functions as an application-specific CDB <span class="italic">within</span> a CDB. An application container, like the CDB itself, can include multiple PDBs, and enables these PDBs to share metadata and data.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346">Application Root</a><br>An application container has exactly one <span class="bold">application root</span>, which is the parent of the application PDBs in the container. 
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF">Application PDBs</a><br>An <span class="bold">application PDB</span> is a PDB that resides in an application container. Every PDB in a CDB resides in either zero or one application containers.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5">Application Seed</a><br>An <strong class="term">application seed</strong> is an optional, user-created PDB within an application container. An application container has either zero or one application seed.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6__GUID-3D610F4D-C804-4FDD-85E2-313F36EB8EEC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" name="GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D"></a><h5 id="MULTI-GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" class="sect5"><span class="enumeration_section">2.3.1.1 </span>Purpose of Application Containers
                     </h5>
                     <div>
                        <p>In some ways, an application container functions as an application-specific CDB <span class="italic">within</span> a CDB. An application container, like the CDB itself, can include multiple PDBs, and enables these PDBs to share metadata and data.
                        </p>
                        <p>The application root enables application PDBs to share an <a href="glossary.html#GUID-27F7A936-A99F-44F5-AA9F-03599741AB62"><span class="xrefglossterm">application</span></a>, which in this context means a named, versioned set of common metadata and data. A typical application installs application common users, metadata-linked common objects, and data-linked common objects.
                        </p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22">Key Benefits of Application Containers</a><br>Application containers provide several benefits over storing each application in a separate PDB.
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-8C2E6389-7AFF-4071-8948-E44372E66050">Application Container Use Case: SaaS</a><br>A SaaS deployment can use multiple application PDBs, each for a separate customer, that share metadata and data.
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE">Application Containers Use Case: Logical Data Warehouse</a><br>A customer can use multiple application PDBs to address data sovereignty issues.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="An application container is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.">About Application Containers</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22" name="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22"></a><h6 id="MULTI-GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22" class="sect6"><span class="enumeration_section">2.3.1.1.1 </span>Key Benefits of Application Containers
                        </h6>
                        <div>
                           <p>Application containers provide several benefits over storing each application in a separate PDB.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The application root stores metadata and data that all application PDBs can share.</p>
                                 <p>For example, all application PDBs can share data in a central table, such as a table listed default application roles. Also, all PDBs can share a table definition to which they add PDB-specific rows.</p>
                              </li>
                              <li>
                                 <p>You maintain your master application definition in the application root, instead of maintaining a separate copy in each PDB.</p>
                                 <p>If you upgrade the application in the application root, then the changes are automatically propagated to all application PDBs. The application back end might contain the <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a> <code class="codeph">app_roles</code>, which is a table that list default roles: <code class="codeph">admin</code>, <code class="codeph">manager</code>, <code class="codeph">sales_rep</code>, and so on. A user connected to any application PDB can query this table.
                                 </p>
                              </li>
                              <li>
                                 <p>An application container can include an application seed, application PDBs, and proxy PDBs (which refer to PDBs in other CDBs).</p>
                              </li>
                              <li>
                                 <p>You can rapidly create new application PDBs from the <a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">application seed</span></a>.
                                 </p>
                              </li>
                              <li>
                                 <p>You can query views that report on all PDBs in the application container.</p>
                              </li>
                              <li>
                                 <p>While connected to the application root, you can use the <code class="codeph">CONTAINERS</code> function to perform DML on objects in multiple PDBs.
                                 </p>
                                 <p>For example, if the <code class="codeph">products</code> table exists in every application PDB, then you can connect to the application root and query the products in all application PDBs using a single <code class="codeph">SELECT</code> statement.
                                 </p>
                              </li>
                              <li>
                                 <p>You can unplug a PDB from an application root, and then plug it in to an application root in a higher Oracle database release. Thus, PDBs are useful in an Oracle database upgrade.</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-045D7B79-4BF5-465B-BCFF-E0D7DA324A22__ORACLEDATABASEADMINISTRATORSGUIDETO-7CC974AC">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="In some ways, an application container functions as an application-specific CDB within a CDB. An application container, like the CDB itself, can include multiple PDBs, and enables these PDBs to share metadata and data.">Purpose of Application Containers</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-8C2E6389-7AFF-4071-8948-E44372E66050" name="GUID-8C2E6389-7AFF-4071-8948-E44372E66050"></a><h6 id="MULTI-GUID-8C2E6389-7AFF-4071-8948-E44372E66050" class="sect6"><span class="enumeration_section">2.3.1.1.2 </span>Application Container Use Case: SaaS
                        </h6>
                        <div>
                           <p>A SaaS deployment can use multiple application PDBs, each for a separate customer, that share metadata and data.</p>
                           <p>In a pure SaaS environment, the master application definition resides in the application root, but the customer-specific data resides in its own application PDB. For example, <code class="codeph">sales_app</code> is the application model in the application root. The application PDB named <code class="codeph">cust1_pdb</code> contains sales data only for customer 1, whereas the application PDB named <code class="codeph">cust2_pdb</code> contains sales data only for customer 2. Plugging, unplugging, cloning, and other PDB-level operations are available for individual customer PDBs. 
                           </p>
                           <div class="figure" id="GUID-8C2E6389-7AFF-4071-8948-E44372E66050__GUID-9BE66397-4419-4D22-A63F-EA960C90E7A2">
                              <p class="titleinfigure">Figure 2-8 SaaS Use Case</p><img src="img/cncpt389.png" alt="Description of Figure 2-8 follows" title="Description of Figure 2-8 follows" longdesc="img_text/cncpt389.html"><br><a href="img_text/cncpt389.html">Description of "Figure 2-8 SaaS Use Case"</a></div>
                           <!-- class="figure" -->
                           <p>A pure SaaS configuration provides the following benefits:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Performance</p>
                              </li>
                              <li>
                                 <p>Security</p>
                              </li>
                              <li>
                                 <p>Support for multiple customers</p>
                                 <p>The data for each customer resides in its own container, but is consolidated so that you can manage many customers collectively. This model extends the economies of scale of managing many as one to the application administrator, not only the DBA.</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="In some ways, an application container functions as an application-specific CDB within a CDB. An application container, like the CDB itself, can include multiple PDBs, and enables these PDBs to share metadata and data.">Purpose of Application Containers</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE" name="GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE"></a><h6 id="MULTI-GUID-A3EA839E-29BC-47D1-955D-336DA34B86DE" class="sect6"><span class="enumeration_section">2.3.1.1.3 </span>Application Containers Use Case: Logical Data Warehouse
                        </h6>
                        <div>
                           <p>A customer can use multiple application PDBs to address data sovereignty issues.</p>
                           <p>In a sample use case, a company puts data specific to each financial quarter in a separate PDB. For example, the application container named <code class="codeph">sales_ac</code> includes <code class="codeph">q1_2016_pdb</code>, <code class="codeph">q2_2016_pdb</code>, <code class="codeph">q3_2016_pdb</code>, and <code class="codeph">q4_2016_pdb</code>. You define each transaction in the PDB corresponding to the associated quarter. To generate a report that aggregates performance across a year, you aggregate across the four PDBs using the <code class="codeph">CONTAINERS()</code> clause.
                           </p>
                           <p>Benefits of this logical warehouse design include:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>ETL for data specific to a single PDB does not affect the other PDBs.</p>
                              </li>
                              <li>
                                 <p>Execution plans are more efficient because they are based on actual data distribution.</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-4ED7F2E2-C649-47C0-B92A-E0050DED252D" title="In some ways, an application container functions as an application-specific CDB within a CDB. An application container, like the CDB itself, can include multiple PDBs, and enables these PDBs to share metadata and data.">Purpose of Application Containers</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" name="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346"></a><h5 id="MULTI-GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346" class="sect5"><span class="enumeration_section">2.3.1.2 </span>Application Root
                     </h5>
                     <div>
                        <p>An application container has exactly one <span class="bold">application root</span>, which is the parent of the application PDBs in the container. 
                        </p>
                        <p>The property of being an application root is established at creation time, and cannot be changed. The only container to which an application root belongs is the CDB root. An application root is like the CDB root in some ways, and like a PDB in other ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Like the CDB root, an application root serves as parent container to the PDBs plugged into it. When connected to the application root, you can manage common users and privileges, create application PDBs, switch containers, and issue DDL that applies to all PDBs in the application container.</p>
                           </li>
                           <li>
                              <p> Like a PDB, you create an application root with the&nbsp;<code class="codeph">CREATE&nbsp;PLUGGABLE&nbsp;DATABASE</code>&nbsp;statement, alter it with <code class="codeph">ALTER PLUGGABLE DATABASE</code>, and change its availability with <code class="codeph">STARTUP</code> and <code class="codeph">SHUTDOWN</code>. You can use DDL to plug, unplug, and drop application roots. The application root has its own service name, and users can connect to the application root in the same way that they connect to a PDB. 
                              </p>
                           </li>
                        </ul>
                        <p>An application root differs from both the CDB root and standard PDB because it can store<span class="italic"> user-created</span> common objects, which are called <span class="bold">application common objects</span>. Application common objects are accessible to the application PDBs plugged in to the application root. Application common objects are not visible to the CDB root, other application roots, or PDBs that do not belong to the application root.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346__GUID-98D9D9AC-CFE9-4A3F-990A-1F523CE24B0A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="example" id="GUID-CA425AC1-CA1C-498C-BC09-AD246BA67346__GUID-4ECD2B46-AFCD-414D-BC6B-4B13B3D05028">
                           <p class="titleinexample">Example 2-7 Creating an Application Root</p>
                           <p>In this example, you log in to the CDB root as administrative common user <code class="codeph">c##system</code>. You create an application container named <code class="codeph">saas_sales_ac</code>, and then open the application root, which has the same name as the container.
                           </p><pre class="pre codeblock"><code>-- Create the application container called saas_sales_ac
CREATE PLUGGABLE DATABASE saas_sales_ac AS APPLICATION CONTAINER
  ADMIN USER saas_sales_ac_adm IDENTIFIED BY manager; 

-- Open the application root
ALTER PLUGGABLE DATABASE saas_sales_ac OPEN;
</code></pre><p>You set the current container to <code class="codeph">saas_sales_ac</code>, and then verify that this container is the application root:
                           </p><pre class="pre codeblock"><code>-- Set the current container to saas_sales_ac
ALTER SESSION SET CONTAINER = saas_sales_ac;

COL NAME FORMAT a15
COL ROOT FORMAT a4
SELECT CON_ID, NAME, APPLICATION_ROOT AS ROOT, 
       APPLICATION_PDB AS PDB,
FROM   V$CONTAINERS;

    CON_ID NAME            ROOT PDB
---------- --------------- ---- ---
         3 SAAS_SALES_AC   YES	NO
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="An application container is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.">About Application Containers</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF" name="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF"></a><h5 id="MULTI-GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF" class="sect5"><span class="enumeration_section">2.3.1.3 </span>Application PDBs
                     </h5>
                     <div>
                        <p>An <span class="bold">application PDB</span> is a PDB that resides in an application container. Every PDB in a CDB resides in either zero or one application containers.
                        </p>
                        <p>For example, the <code class="codeph">saas_sales_ac</code> application container might support multiple customers, with each customer application storing its data in a separate PDB. The application PDBs <code class="codeph">cust1_sales_pdb</code> and <code class="codeph">cust2_sales_pdb</code> might reside in <code class="codeph">saas_sales_ac</code>, in which case they belong to no other application container (although as PDBs they necessarily belong also to the CDB root).
                        </p>
                        <p>Create an application PDB by executing <code class="codeph">CREATE PLUGGABLE DATABASE</code> while connected to the application root. You can either create the application PDB from a seed, or clone a PDB or plug in an unplugged PDB. Like a PDB that is plugged in to CDB root, you can clone, unplug, or drop an application PDB. However, an application PDB must always belong to an application root.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A9D4EC8D-9810-49C5-8EC7-157C1E0381BF__GUID-411EF3D3-8A59-423E-8A6E-B8CDF83BDD41">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="An application container is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.">About Application Containers</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" name="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5"></a><h5 id="MULTI-GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5" class="sect5"><span class="enumeration_section">2.3.1.4 </span>Application Seed
                     </h5>
                     <div>
                        <p>An <strong class="term">application seed</strong> is an optional, user-created PDB within an application container. An application container has either zero or one application seed.
                        </p>
                        <p>An application seed enables you to create application PDBs quickly. It serves the same role within the application container as <code class="codeph">PDB$SEED</code> serves within the CDB itself.
                        </p>
                        <p>The application seed name is always <code class="codeph"><span class="codeinlineitalic">application_container_name</span>$SEED</code>, where <code class="codeph"><span class="codeinlineitalic">application_container_name</span></code> is the name of the application container. For example, use the <code class="codeph">CREATE PDB ... AS SEED</code> statement to create <code class="codeph">saas_sales_ac$SEED</code> in the <code class="codeph">saas_sales_ac</code> application container.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-AF521189-BA10-4321-8A54-5BC2AFFD05A5__GUID-180ED461-15FC-471D-8468-061767E76007">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-93AAE6F0-7969-4D05-B10B-F2514CB39417" title="You can create application seeds in several different ways, including using the PDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application seeds from application containers.">Creating and Removing Application Seeds</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-8F8979E3-9B81-4293-B3CF-ACCF42A0B2D6" title="An application container is an optional, user-created CDB component that stores data and metadata for one or more application back ends. A CDB includes zero or more application containers.">About Application Containers</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" name="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C"></a><h4 id="MULTI-GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" class="sect4"><span class="enumeration_section">2.3.2 </span>Application Common Objects
                  </h4>
                  <div>
                     <p>An <strong class="term">application common object</strong> is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.
                     </p>
                     <p>For a <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a>, application PDBs share a single set of data. For example, an application for the <code class="codeph">saas_sales_ac</code> application container is named <code class="codeph">saas_sales_app</code>, has version <code class="codeph">1.0</code>, and includes a data-linked <code class="codeph">usa_zipcodes</code> table. In this case, the rows are stored once in the table in the application root, but are visible in all application PDBs.
                     </p>
                     <p>For a <a href="glossary.html#GUID-1EA028DA-51C5-403A-84FA-39BE3A59D6E0"><span class="xrefglossterm">metadata-linked common object</span></a>, application PDBs share only the metadata, but contain different sets of data. For example, a metadata-linked <code class="codeph">products</code> table has the same definition in every application PDB, but the rows themselves are specific to the PDB. The application PDB named <code class="codeph">cust1pdb</code> might have a <code class="codeph">products</code> table that contains books, whereas the application PDB named <code class="codeph">cust2pdb</code> might have a <code class="codeph">products</code> table that contains auto parts.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92">Creation of Application Common Objects</a><br>To create common objects, connect to an application root, and then execute a <code class="codeph">CREATE</code> statement that specifies a sharing attribute.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF">Metadata-Linked Application Common Objects</a><br>A <span class="bold">metadata link</span> is a dictionary object that supports referring to, and granting privileges on, common metadata shared by all PDBs in the application container.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8">Data-Linked Application Common Objects</a><br>A <span class="bold">data-linked object</span> is an object whose metadata and data reside in an application root, and are accessible from all application PDBs in this application container.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD">Extended Data-Linked Application Objects</a><br>An <strong class="term">extended data-linked object</strong> is a hybrid of a data-linked object and metadata-linked object. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C__GUID-A6924694-AF1D-4A93-BF06-C805059776EF">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-8B4B4F8B-1C2B-42C3-BE77-E9AA25CA397A" title="A common object is defined in either the CDB root or an application root, and can be referenced using metadata links or object links. A local object is every object that is not a common object.">Overview of Common and Local Objects in a CDB</a>"</span> to learn about common objects
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92" name="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92"></a><h5 id="MULTI-GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92" class="sect5"><span class="enumeration_section">2.3.2.1 </span>Creation of Application Common Objects
                     </h5>
                     <div>
                        <p>To create common objects, connect to an application root, and then execute a <code class="codeph">CREATE</code> statement that specifies a sharing attribute.
                        </p>
                        <p>You can only create or change application common objects as part of an application installation, upgrade, or patch. You can specify sharing in the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DEFAULT_SHARING</code> initialization parameter
                              </p>
                              <p>The setting is the default sharing attribute for all database objects of a supported type created in the root.</p>
                           </li>
                           <li>
                              <p><code class="codeph">SHARING</code> clause
                              </p>
                              <p>You specify this clause in the <code class="codeph">CREATE</code> statement itself. When a <code class="codeph">SHARING</code> clause is included in a SQL statement, it takes precedence over the value specified in the <code class="codeph">DEFAULT_SHARING</code> initialization parameter. Possible values are <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, <code class="codeph">EXTENDED DATA</code>, and <code class="codeph">NONE</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The following table shows the types of application common objects, and where the data and metadata is stored.</p>
                        <div class="tblformal" id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92__GUID-B65311EF-47DB-4D20-A3FB-21B579765223">
                           <p class="titleintable">Table 2-7 Application Common Objects</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Application Common Objects" summary="This table shows the types of application common objects, and where the data and metadata is stored." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d10378e9125">Object Type</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9127">SHARING Value</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9129">Metadata Storage</th>
                                    <th align="left" valign="bottom" width="20%" id="d10378e9131">Data Storage</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9135" headers="d10378e9125 ">Data-Linked</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9127 "><code class="codeph">DATA</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9129 ">Application root</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9135 d10378e9131 ">Application root</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9145" headers="d10378e9125 ">Extended Data-Linked</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9127 "><code class="codeph">EXTENDED DATA</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9129 ">Application root</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9145 d10378e9131 ">Application root and application PDB</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d10378e9155" headers="d10378e9125 ">Metadata-Linked</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9127 "><code class="codeph">METADATA</code></td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9129 ">Application root</td>
                                    <td align="left" valign="top" width="20%" headers="d10378e9155 d10378e9131 ">Application PDB</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D9FDDB3D-E3B8-40FA-9EC5-F88467733C92__GUID-88259161-1190-4831-8204-B2DA431F1C8E">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-388FB5AD-A2DE-4951-833B-A98239F99F50" title="You create an application common object in an application root either by ensuring that the DEFAULT_SHARING initialization parameter is set to the correct value or by including the SHARING clause in the CREATE SQL statement.">Creating Application Common Objects</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#GUID-D3336A29-71A4-42C3-BCBB-8E6738627539" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn how to manage privileges for common objects
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF" name="GUID-67FAED93-8AEE-491B-B261-29084154D5BF"></a><h5 id="MULTI-GUID-67FAED93-8AEE-491B-B261-29084154D5BF" class="sect5"><span class="enumeration_section">2.3.2.2 </span>Metadata-Linked Application Common Objects
                     </h5>
                     <div>
                        <p>A <span class="bold">metadata link</span> is a dictionary object that supports referring to, and granting privileges on, common metadata shared by all PDBs in the application container.
                        </p>
                        <p>Specifying the <code class="codeph">METADATA</code> value in either the <code class="codeph">SHARING</code> clause or the <code class="codeph">DEFAULT_SHARING</code> initialization parameter specifies a link to an object’s metadata, called a <a href="glossary.html#GUID-1EA028DA-51C5-403A-84FA-39BE3A59D6E0"><span class="xrefglossterm">metadata-linked common object</span></a>. The metadata for the object is stored once in the application root.
                        </p>
                        <p>Tables, views, and code objects (such as PL/SQL procedures) can share metadata. In this context, “metadata” includes column definitions, constraints, triggers, and code. For example, if <code class="codeph">sales_mlt</code> is a metadata-linked common table, then all application PDBs access the <span class="italic">same</span> definition of this table, which is stored in the application root, by means of a metadata link. The rows in <code class="codeph">sales_mlt</code> are different in every application PDB, but the column definitions are the same.
                        </p>
                        <p>Typically, most objects in an application will be metadata-linked. Thus, you need only maintain one master application definition. This approach centralizes management of the application in multiple application PDBs.</p>
                        <div class="example" id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">
                           <p class="titleinexample">Example 2-8 Creating a Metadata-Linked Common Object</p>
                           <p>In this example, the <code class="codeph">SYSTEM</code> user logs in to the <code class="codeph">saas_sales_ac</code> application container. <code class="codeph">SYSTEM</code> installs an application named <code class="codeph">saas_sales_app</code> at version 1.0 (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a>"</span>). This application creates a common user account named <code class="codeph">saas_sales_adm</code>. The schema contains a metadata-linked common table named <code class="codeph">sales_mlt</code>.
                           </p><pre class="pre codeblock"><code>-- Begin the install of saas_sales_app
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL '1.0';

-- Create the tablespace for the app
CREATE TABLESPACE saas_sales_tbs DATAFILE SIZE 100M AUTOEXTEND ON NEXT 10M MAXSIZE 200M;

-- Create the user account saas_sales_adm, which will own the app
CREATE USER saas_sales_adm IDENTIFIED BY ****** CONTAINER=ALL;

-- Grant necessary privileges to this user account
GRANT CREATE SESSION, DBA TO saas_sales_adm;

-- Makes the tablespace that you just created the default for saas_sales_adm
ALTER USER saas_sales_adm DEFAULT TABLESPACE saas_sales_tbs;

-- Now connect as the application owner
CONNECT saas_sales_adm/******@saas_sales_ac

-- Create a metadata-linked table
CREATE TABLE saas_sales_adm.sales_mlt SHARING=METADATA
(YEAR       NUMBER(4),
 REGION     VARCHAR2(10),
 QUARTER    VARCHAR2(4),
 REVENUE    NUMBER);

-- End the application installation
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL '1.0';
</code></pre><p>You can use the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... SYNC</code> statement to synchronize the application PDBs to use the same master application definition. In this way, every application PDB has a metadata link to the <code class="codeph">saas_sales_adm.sales_mlt</code> common table. The middle-tier code that updates <code class="codeph">sales_mlt</code> within the PDB named <code class="codeph">cust1_pdb</code> adds rows to this table in <code class="codeph">cust1_pdb</code>, whereas the middle-tier code that updates <code class="codeph">sales_mlt</code> in <code class="codeph">cust2_pdb</code> adds rows to the copy of this table in <code class="codeph">cust2_pdb</code>. Only the table metadata, which is stored in the application root, is shared.
                           </p>
                           <div class="infoboxnote" id="GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-C6B56652-3742-48EE-820F-EC87CC626E97">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="managing-security-for-a-multitenant-environment.html#GUID-A804A571-D104-451E-83E0-8CEF716DBC68" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about how commonly granted object privileges work
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA">Metadata Links</a><br>For metadata-linked application common objects, the metadata for the object is stored once in the application root. A metadata link is a dictionary object whose object type is the same as the metadata it is sharing.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA" name="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA"></a><h6 id="MULTI-GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA" class="sect6"><span class="enumeration_section">2.3.2.2.1 </span>Metadata Links
                        </h6>
                        <div>
                           <p>For metadata-linked application common objects, the metadata for the object is stored once in the application root. A metadata link is a dictionary object whose object type is the same as the metadata it is sharing.</p>
                           <p>The description of a metadata link is stored in the data dictionary of the PDB in which it is created. A metadata link must be owned by an application common user. You can only use metadata links to share metadata of common objects owned by their creator in the CDB root or an application root.</p>
                           <p>Unlike a data link, a metadata link depends <span class="italic">only</span> on common data. For example, if an application contains the local tables <code class="codeph">dow_close_lt</code> and <code class="codeph">nasdaq_close_lt</code> in the application root, then a common user cannot create metadata links to these objects. However, an application common table named <code class="codeph">sales_mlt</code> may be metadata-linked.
                           </p>
                           <p>If a privileged common user changes the metadata for <code class="codeph">sales_mlt</code>, for example, adds a column to the table, then this change propagates to the metadata links. Application PDB users may not change the metadata in the metadata link. For example, a DBA who manages the application PDB named <code class="codeph">cust1_pdb</code> cannot add a column to <code class="codeph">sales_mlt</code> in this PDB only: such metadata changes can be made only in the application root.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-778F5D33-7B90-47B1-B242-2C11CC4F13AA__GUID-7B9DC06E-7AE9-4380-BCC7-035F1A415E79">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF" title="A metadata link is a dictionary object that supports referring to, and granting privileges on, common metadata shared by all PDBs in the application container.">Metadata-Linked Application Common Objects</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8" name="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8"></a><h5 id="MULTI-GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8" class="sect5"><span class="enumeration_section">2.3.2.3 </span>Data-Linked Application Common Objects
                     </h5>
                     <div>
                        <p>A <span class="bold">data-linked object</span> is an object whose metadata and data reside in an application root, and are accessible from all application PDBs in this application container.
                        </p>
                        <p>Specifying the <code class="codeph">DATA</code> value in either the <code class="codeph">SHARING</code> clause or the <code class="codeph">DEFAULT_SHARING</code> initialization parameter specifies a link to a common object, called a <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a>. Dimension tables in a data warehouse are often good candidates for data-linked common tables.
                        </p>
                        <p>A data link is a dictionary object that functions much like a synonym. For example, if <code class="codeph">countries</code> is an application common table, then all application PDBs access the <span class="italic">same</span> copy of this table by means of a data link. If a row is added to this table, then this row is visible in all application PDBs.
                        </p>
                        <p>A data link must be owned by an application common user. The link inherits the object type from the object to which it is pointing. The description of a data link is stored in the dictionary of the PDB in which it is created. For example, if an application container contains 10 application PDBs, and if every PDB contains a link to the <code class="codeph">countries</code> application common table, then all 10 PDBs contain dictionary definitions for this link.
                        </p>
                        <div class="example" id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">
                           <p class="titleinexample">Example 2-9 Creating a Data-Linked Object</p>
                           <p>In this example, <code class="codeph">SYSTEM</code> connects to the <code class="codeph">saas_sales_ac</code> application container. <code class="codeph">SYSTEM</code> upgrades the application named <code class="codeph">saas_sales_app</code> from version <code class="codeph">1.0</code> to <code class="codeph">2.0</code>. This application upgrade logs in to the container as common user <code class="codeph">saas_sales_adm</code>, creates a data-linked table named <code class="codeph">countries_dlt</code>, and then inserts rows into it.
                           </p><pre class="pre codeblock"><code>-- Begin an upgrade of the application
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE '1.0' to '2.0';

-- Connect as application owner to application root
CONNECT saas_sales_adm/manager@saas_sales_ac

-- Create data-linked table named countries_dlt
CREATE TABLE countries_dlt SHARING=DATA
(country_id   NUMBER,
 country_name VARCHAR2(20));

-- Insert records into countries_dlt
INSERT INTO countries_dlt VALUES(1, 'USA');
INSERT INTO countries_dlt VALUES(44, 'UK');
INSERT INTO countries_dlt VALUES(86, 'China');
INSERT INTO countries_dlt VALUES(91, 'India');

-- End application upgrade
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO '2.0';
</code></pre><p>Use the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... SYNC</code> statement to synchronize application PDBs with the application root (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.">Application Synchronization</a>"</span>). In this way, every synchronized application PDB has a data link to the <code class="codeph">saas_sales_adm.countries_dlt</code> data-linked table.
                           </p>
                           <div class="infoboxnote" id="GUID-149FF4FC-114C-4D45-995C-D719D49B9AA8__GUID-A05C5156-4D8C-4A22-888E-E458042AC120">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD" name="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD"></a><h5 id="MULTI-GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD" class="sect5"><span class="enumeration_section">2.3.2.4 </span>Extended Data-Linked Application Objects
                     </h5>
                     <div>
                        <p>An <strong class="term">extended data-linked object</strong> is a hybrid of a data-linked object and metadata-linked object. 
                        </p>
                        <p>In an extended data-linked object, the data stored in the application root is common to all application PDBs, and all PDBs can access this data. However, each application PDB can create its own, PDB-specific data while sharing the common data in application root. Thus, the PDBs supplement the common data with their own data.</p>
                        <p>For example, a sales application might support several application PDBs. All application PDBs need the postal codes for the United States. In this case, you might create a <code class="codeph">zipcodes_edt</code> extended data-linked table in the application root. The application root stores the United States postal codes, so all application PDBs can access them. However, one application PDB requires the postal codes for the United States and Canada. This application PDB can store the postal codes for Canada in the extended data-linked object in the application PDB instead of in the application root.
                        </p>
                        <p>Create an extended data-linked object by connecting to the application root and specifying the <code class="codeph">SHARING=EXTENDED DATA</code> keyword in the <code class="codeph">CREATE</code> statement.
                        </p>
                        <div class="example" id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD__GUID-C8F5D1F2-0E78-494E-B6B8-AC34988AACAB">
                           <p class="titleinexample">Example 2-10 Creating an Extended-Data Object</p>
                           <p>In this example, <code class="codeph">SYSTEM</code> connects to the <code class="codeph">saas_sales_ac</code> application container, and then upgrades the application named <code class="codeph">saas_sales_app</code> (created in <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-67FAED93-8AEE-491B-B261-29084154D5BF__GUID-F8FA1E2E-F1C3-4520-A20C-1D8864223305">Example 2-8</a>"</span>) from version <code class="codeph">2.0</code> to <code class="codeph">3.0</code>. This application logs in to the container as common user <code class="codeph">saas_sales_adm</code>, creates an extended data-linked table named <code class="codeph">zipcodes_edt</code>, and then inserts rows into it.
                           </p><pre class="pre codeblock"><code>-- Begin an upgrade of the app
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE '2.0' to '3.0';

-- Connect as app owner to app root
CONNECT saas_sales_adm/manager@saas_sales_ac

-- Create a common-data table named zipcodes_edt
CREATE TABLE zipcodes_edt SHARING=EXTENDED DATA
(code       VARCHAR2(5),
 country_id NUMBER,
 region     VARCHAR2(10));

-- Load rows into zipcodes_edt
INSERT INTO zipcodes_edt VALUES ('08820','1','East');
INSERT INTO zipcodes_edt VALUES ('10005','1','East');
INSERT INTO zipcodes_edt VALUES ('44332','1','North');
INSERT INTO zipcodes_edt VALUES ('94065','1','West');
INSERT INTO zipcodes_edt VALUES ('73301','1','South');
COMMIT;

-- End app upgrade
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO '3.0';
</code></pre><p>Use the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... SYNC</code> statement to synchronize application PDBs with the application (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.">Application Synchronization</a>"</span>). In this way, every synchronized application PDB has a data link to the <code class="codeph">saas_sales_adm.zipcodes_edt</code> data-linked table. Applications that connect to these PDBs can see the postal codes that were inserted into <code class="codeph">zipcodes_edt</code> during the application upgrade, but can also insert their own postal codes into this table.
                           </p>
                           <div class="infoboxnote" id="GUID-18DA6C1F-F318-49F9-9ECA-9EF3D7C32DDD__GUID-82C08769-A483-4A8B-9B38-BF83CC8069CD">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-76B6E6D4-F478-4EBE-9D9D-D10758835192" title="Application common objects are created in an application root and are shared with the application PDBs that belong to the application root.">About Application Common Objects</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9900D18F-989B-4746-A5CE-04A8D9F9751C" title="An application common object is a common object created within an application in an application root. Common objects are either data-linked or metadata-linked.">Application Common Objects</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9327F698-36F7-45CC-9964-4685D48FF254" name="GUID-9327F698-36F7-45CC-9964-4685D48FF254"></a><h4 id="MULTI-GUID-9327F698-36F7-45CC-9964-4685D48FF254" class="sect4"><span class="enumeration_section">2.3.3 </span>Application Maintenance
                  </h4>
                  <div>
                     <p>In this context, <strong class="term">application maintenance</strong> refers to installing, uninstalling, upgrading, or patching an application. 
                     </p>
                     <p>An application must have a name and version number. This combination of properties determines which maintenance operations you can perform. In all maintenance operations, you perform the following steps:</p>
                     <ol>
                        <li>
                           <p>Begin by executing the <code class="codeph">ALTER PLUGGABLE DATABASE ... APPLICATION</code> statement with the <code class="codeph">BEGIN INSTALL</code>, <code class="codeph">BEGIN UPGRADE</code>, or <code class="codeph">BEGIN PATCH</code> clauses. 
                           </p>
                        </li>
                        <li>
                           <p>Execute statements to alter the application.</p>
                        </li>
                        <li>
                           <p>End by executing the <code class="codeph">ALTER PLUGGABLE DATABASE ... APPLICATION</code> statement with the <code class="codeph">END INSTALL</code>, <code class="codeph">END UPGRADE</code>, or <code class="codeph">END PATCH</code> clauses.
                           </p>
                        </li>
                     </ol>
                     <p>As the application evolves, the application container maintains all versions and patch changes.</p>
                     <p>This section contains the following topics:</p>
                     <div class="infoboxnote" id="GUID-9327F698-36F7-45CC-9964-4685D48FF254__GUID-1DBF92D8-F735-4DCC-8475-99873883AAD8">
                        <p class="notep1">Note:</p>
                        <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a>"</span></p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-2C40633B-3749-40D3-8ABD-F507957C8EED">About Application Maintenance</a><br>Perform application installation, upgrade, and patching operations using an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3">Application Installation</a><br>An <span class="bold">application installation</span> is the initial creation of a master application definition. A typical installation creates user accounts, tables, and PL/SQL packages.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC">Application Upgrade</a><br>An <strong class="term">application upgrade</strong> is a major change to an installed application. 
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4">Application Patch</a><br>An <span class="bold">application patch</span> is a minor change to an application.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED" name="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED"></a><h5 id="MULTI-GUID-2C40633B-3749-40D3-8ABD-F507957C8EED" class="sect5"><span class="enumeration_section">2.3.3.1 </span>About Application Maintenance
                     </h5>
                     <div>
                        <p>Perform application installation, upgrade, and patching operations using an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement.
                        </p>
                        <p>The basic steps for application maintenance are as follows:</p>
                        <ol>
                           <li>
                              <p>Log in to the application root.</p>
                           </li>
                           <li>
                              <p>Begin the operation with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... BEGIN</code> statement in the application root.
                              </p>
                           </li>
                           <li>
                              <p>Execute the application maintenance statements.</p>
                           </li>
                           <li>
                              <p>End the operation with an <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION ... END</code> statement.
                              </p>
                           </li>
                        </ol>
                        <p>Perform the maintenance using scripts, SQL statements, or GUI tools.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-2C40633B-3749-40D3-8ABD-F507957C8EED__GUID-25C4D53E-CB9E-4C87-B3C7-9F9ECA8B4D2B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3" name="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3"></a><h5 id="MULTI-GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3" class="sect5"><span class="enumeration_section">2.3.3.2 </span>Application Installation
                     </h5>
                     <div>
                        <p>An <span class="bold">application installation</span> is the initial creation of a master application definition. A typical installation creates user accounts, tables, and PL/SQL packages.
                        </p>
                        <p>To install the application, specify the following in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Name of the application</p>
                           </li>
                           <li>
                              <p>Application version number</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3__GUID-2E23E76C-0BC3-47A6-9311-87B877FB4893">
                           <p class="titleinexample">Example 2-11 Installing an Application</p>
                           <p>This example assumes that you are logged in to the application container named <code class="codeph">saas_sales_ac</code> as. The example installs an application named <code class="codeph">saas_sales_app</code> at version 1.0. Note that you specify the version with a string rather than a number. The application creates an application common user named <code class="codeph">saas_sales_adm</code>, grants necessary privileges, and then connects to the application root as this user. This user creates a metadata-linked table named <code class="codeph">sales_mlt</code>.
                           </p><pre class="pre codeblock"><code>-- Begin the install of saas_sales_app
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL '1.0';

-- Create the tablespace for the app
CREATE TABLESPACE saas_sales_tbs DATAFILE SIZE 100M AUTOEXTEND ON NEXT 10M MAXSIZE 200M;

-- Create the user account saas_sales_adm, which will own the application
CREATE USER saas_sales_adm IDENTIFIED BY manager CONTAINER=ALL;

-- Grant necessary privileges to this user account
GRANT CREATE SESSION, DBA TO saas_sales_adm;

-- Make the tablespace that you just created the default for saas_sales_adm
ALTER USER saas_sales_adm DEFAULT TABLESPACE saas_sales_tbs;

-- Now connect as the application owner
CONNECT saas_sales_adm/manager@saas_sales_ac

-- Create a metadata-linked table
CREATE TABLE saas_sales_adm.sales_mlt SHARING=METADATA
(YEAR       NUMBER(4),
 REGION     VARCHAR2(10),
 QUARTER    VARCHAR2(4),
 REVENUE    NUMBER);

-- End the application installation
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL '1.0';
</code></pre> <p><a href="glossary.html#GUID-7D57C61B-4D4A-41D2-80BF-5E9BEA806183"><span class="xrefglossterm">PDB synchronization</span></a> is the user-initiated update of an application PDB with the application in the application root. After you synchronize the application PDBs with the <code class="codeph">saas_sales_app</code> application, each application PDB will contain an empty table named <code class="codeph">products_mlt</code>. An application can connect to an application PDB, and then insert PDB-specific rows into this table.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5DBE5EE7-AE5F-43E2-AA43-9288CA5E3DA3__GUID-4BEC3B3D-F254-448F-9507-ECBDD59140FE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.">Application Synchronization</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-D06AD868-A2BA-449D-9C73-884F0378D175" title="In automated propagation, the application is installed in the application PDBs that synchronize with the application in the application root.">Installing an Application in an Application Container with Automated Propagation</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" name="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC"></a><h5 id="MULTI-GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" class="sect5"><span class="enumeration_section">2.3.3.3 </span>Application Upgrade
                     </h5>
                     <div>
                        <p>An <strong class="term">application upgrade</strong> is a major change to an installed application. 
                        </p>
                        <p>Typically, an upgrade changes the physical architecture of the application. For example, an upgrade might add new user accounts, tables, and packages, or alter the definitions of existing objects.</p>
                        <p>To upgrade the application, you must specify the following in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Name of the application</p>
                           </li>
                           <li>
                              <p>Old application version number</p>
                           </li>
                           <li>
                              <p>New application version number</p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC__UPGRADINGANAPPLICATIONUSINGTHEAUTOM-8EDB8801">
                           <p class="titleinexample">Example 2-12 Upgrading an Application Using the Automated Technique</p>
                           <p>In this example, you connect to the application root as an administrator, and then upgrade the application <code class="codeph">saas_sales_app</code> from version 1.0 to version 2.0. The upgrade creates a data-linked table named <code class="codeph">countries_dlt</code>, and then adds rows to it. It also creates an extended data-linked table named <code class="codeph">zipcodes_edt</code>, and then adds rows to it.
                           </p><pre class="pre codeblock"><code>-- Begin an upgrade of the app
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN UPGRADE '1.0' to '2.0';

-- Connect as app owner to app root
CONNECT saas_sales_adm/manager@saas_sales_ac

-- Create data-linked table named countries_dlt
CREATE TABLE countries_dlt SHARING=DATA
(country_id   NUMBER,
 country_name VARCHAR2(20));

-- Insert records into countries_dlt
INSERT INTO countries_dlt VALUES(1, 'USA');
INSERT INTO countries_dlt VALUES(44, 'UK');
INSERT INTO countries_dlt VALUES(86, 'China');
INSERT INTO countries_dlt VALUES(91, 'India');

-- Create an extended data-linked table named zipcodes_edt
CREATE TABLE zipcodes_edt SHARING=EXTENDED DATA
(code       VARCHAR2(5),
 country_id NUMBER,
 region     VARCHAR2(10));

-- Load rows into zipcodes_edt
INSERT INTO zipcodes_edt VALUES ('08820','1','East');
INSERT INTO zipcodes_edt VALUES ('10005','1','East');
INSERT INTO zipcodes_edt VALUES ('44332','1','North');
INSERT INTO zipcodes_edt VALUES ('94065','1','West');
INSERT INTO zipcodes_edt VALUES ('73301','1','South');
COMMIT;

-- End app upgrade
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END UPGRADE TO '2.0';
</code></pre><p>This section contains the following topics:</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-52FB2130-DE12-485E-81F0-835295FD4818">How an Application Upgrade Works</a><br>During an application upgrade, the application remains available. To make this availability possible, Oracle Database clones the application root.
                           </li>
                           <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1">Applications at Different Versions</a><br>Different application PDBs might use different versions of the application. 
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC__GUID-3A319A97-49D8-4DF0-94D3-EDBFC511A3DC">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="props_rev_3"><a id="GUID-52FB2130-DE12-485E-81F0-835295FD4818" name="GUID-52FB2130-DE12-485E-81F0-835295FD4818"></a><h6 id="MULTI-GUID-52FB2130-DE12-485E-81F0-835295FD4818" class="sect6"><span class="enumeration_section">2.3.3.3.1 </span>How an Application Upgrade Works
                        </h6>
                        <div>
                           <p>During an application upgrade, the application remains available. To make this availability possible, Oracle Database clones the application root.</p>
                           <p>The following figure gives an overview of the application upgrade process.</p>
                           <div class="figure" id="GUID-52FB2130-DE12-485E-81F0-835295FD4818__GUID-C25732E4-B41E-4821-92A0-34D6AD1DAA61">
                              <p class="titleinfigure">Figure 2-9 Application Upgrade</p><img src="img/admin122.png" alt="Description of Figure 2-9 follows" title="Description of Figure 2-9 follows" longdesc="img_text/admin122.html"><br><a href="img_text/admin122.html">Description of "Figure 2-9 Application Upgrade"</a></div>
                           <!-- class="figure" -->
                           <p>An upgrade occurs as follows:</p>
                           <ol>
                              <li>
                                 <p>In the initial state, the application root has an application in a specific version.</p>
                              </li>
                              <li>
                                 <p>The user executes the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION BEGIN UPGRADE</code> statement, and then issues the application upgrade statements.
                                 </p>
                                 <p>During the upgrade, the database automatically does the following:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Clones the application root</p>
                                       <p>For example, if the <code class="codeph">saas_sales_app</code> application is at version 1.0 in the application root, then the clone is also at version 1.0
                                       </p>
                                    </li>
                                    <li>
                                       <p>Points the application PDBs to the application root clone</p>
                                       <p>The clone is in read-only mode. The application remains available to the application PDBs.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The user executes the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION END UPGRADE</code> statement.
                                 </p>
                                 <p>At this stage, the application PDBs are still pointing to the application root clone, and the original application root is at a new version. For example, if the <code class="codeph">saas_sales_app</code> application is at version 1.0 in the application root, then the upgrade might bring it to version 2.0. The application root clone, however, remains at version 1.0. 
                                 </p>
                              </li>
                              <li>
                                 <p>Optionally, the user synchronizes the application PDBs with the upgraded application root by issuing <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> clause.
                                 </p>
                                 <p>For example, after the synchronization, some application PDBs are plugged in to the application root at version 2.0. However, the application root clone continues to support application PDBs that must stay on version 1.0, or any new application PDBs that are plugged in to the application root at version 1.0. </p>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-52FB2130-DE12-485E-81F0-835295FD4818__GUID-BFF47259-D1D1-43FC-A726-2DB8BD158B80">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" title="Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.">Application Synchronization</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" title="An application upgrade is a major change to an installed application.">Application Upgrade</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1" name="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1"></a><h6 id="MULTI-GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1" class="sect6"><span class="enumeration_section">2.3.3.3.2 </span>Applications at Different Versions
                        </h6>
                        <div>
                           <p>Different application PDBs might use different versions of the application. </p>
                           <p>For example, one application PDB might have version 1.0 of the <code class="codeph">saas_sales_app</code>. In the same application container, another application PDB has version 2.0 of this application.
                           </p>
                           <p>A use case is a SaaS application provided to different customers. If each customer has its own application PDB, then some customers might wait longer to upgrade the application. In this case, some application PDBs may use the latest version of the application, whereas other application PDBs use an older version.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-AF6B72CB-4BE3-4809-99A1-21DB2EACC7B1__GUID-D6E4276D-7716-44DA-8461-B39A8D078B5F">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-07C8EC31-0A4B-4F63-A40A-E87031858545" title="Major changes to an application constitute application upgrades. You can upgrade an application in an application container.">Upgrading Applications in an Application Container</a>"</span> to learn more about applications at different versions
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-99A0CCB3-7051-4C21-BAED-DB13F075CCAC" title="An application upgrade is a major change to an installed application.">Application Upgrade</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4" name="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4"></a><h5 id="MULTI-GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4" class="sect5"><span class="enumeration_section">2.3.3.4 </span>Application Patch
                     </h5>
                     <div>
                        <p>An <span class="bold">application patch</span> is a minor change to an application.
                        </p>
                        <p>Typical examples of application patching include bug fixes and security patches. New functions and packages are permitted within a patch.</p>
                        <p>In general, destructive operations are not permitted. For example, a patch cannot include <code class="codeph">DROP</code> statements, or <code class="codeph">ALTER TABLE</code> statements that drop a column or change a data type.
                        </p>
                        <p>Just as the Oracle Database patching process restricts the kinds of operations permitted in an Oracle Database patch, the application patching process restricts the operations permitted in an application patch. If a fix includes an operation that raises an “operation not supported in an application patch” error, then perform an <a href="glossary.html#GUID-6F1C59CA-F479-47B5-B122-A6BE21AF485B"><span class="xrefglossterm">application upgrade</span></a> instead.
                        </p>
                        <div class="infoboxnote" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__GUID-C3245603-0D43-4F51-B0E7-EFC49F2D31B8">
                           <p class="notep1">Note:</p>
                           <p>You cannot patch an application when another application patch or upgrade is in progress.</p>
                        </div>
                        <p>To patch the application, specify the application name and patch number in the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement. Optionally, you can specify an application minimum version.
                        </p>
                        <div class="example" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__UPGRADINGANAPPLICATIONUSINGTHEAUTOM-8EDB8801">
                           <p class="titleinexample">Example 2-13 Patching an Application Using the Automated Technique</p>
                           <p>In this example, <code class="codeph">SYSTEM</code> logs in to the application root, and then patches the application <code class="codeph">saas_sales_app</code> at version 1.0 or greater. Patch 101 logs in to the application container as <code class="codeph">saas_sales_adm</code>, and then creates a metadata-linked PL/SQL function named <code class="codeph">get_total_revenue</code>.
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN PATCH 101 MINIMUM VERSION '1.0';

-- Connect to the saas_sales_ac container as saas_sales_adm, who owns the application
CONNECT saas_sales_adm/*******@saas_sales_ac

-- Now install the get_total_revenue() function
CREATE FUNCTION get_total_revenue SHARING=METADATA (p_year IN NUMBER)
RETURN SYS_REFCURSOR
AS
c1_cursor SYS_REFCURSOR;
BEGIN
OPEN c1_cursor FOR
   SELECT a.year,sum(a.revenue)
   FROM containers(sales_data) a
   WHERE a.year = p_year
   GROUP BY a.year;
RETURN c1_cursor;
END;
/

-- End the patch
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END PATCH 101;
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0E8235B2-4BED-4A91-9F24-CE9C9174BCB4__GUID-9F12F3D1-7F39-4DB6-9E91-8258EAEBD554">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-05F9AE85-20F2-451F-92DF-6EE1BB37C397" title="Minor changes to an application constitute application patches.">Patching Applications in an Application Container</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458" name="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458"></a><h4 id="MULTI-GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458" class="sect4"><span class="enumeration_section">2.3.4 </span>Migration of an Existing Application
                  </h4>
                  <div>
                     <p>You can migrate an application that is installed in a PDB to either an application root or to an application PDB.</p>
                     <p>Typical reasons for migrating a preexisting application include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Applications that use an installation program</p>
                           <p>Some applications use an installation program rather than a script. In this case, you can run the installation program in a new application root, and then use the <code class="codeph">DBMS_PDB_ALTER_SHARING</code> package to set the objects to the appropriate sharing mode: <code class="codeph">METADATA</code>, <code class="codeph">DATA</code>, or <code class="codeph">EXTENDED DATA</code>. The root automatically propagates the changes to the application PDBs. Oracle Database creates a statement log of the installation, so PDBs with previous application versions can be plugged into the application root.
                           </p>
                        </li>
                        <li>
                           <p>Applications that are defined separately in each PDB</p>
                           <p>Some applications are defined in each PDB, but no application container exists. In this case, you can update the installation script to set the appropriate sharing mode. You create an application root, and then create the master application definition in this root. You can adopt the existing PDBs as application PDBs by plugging them into the application root, and then running a SQL script to replace the full definitions with references to the common definitions.</p>
                        </li>
                     </ul>
                     <p>For example, you can migrate an application installed in a PDB plugged into an Oracle Database 12c CDB to an application container in an Oracle Database 18c CDB.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F5FDD7A0-06D9-4EE9-87C2-9C89FA44E458__GUID-93D31F63-75F5-40FA-8FA7-2307FA9B215D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-9FE49E60-32D9-40BB-BD56-9FC53ED696AC" title="In an application container, an application is a named, versioned set of application metadata and common data. The application is stored in the application root.">About Application Management</a>"</span> to learn how to migrate an existing application
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_PDB_ALTER_SHARING.html#GUID-05B1F7C6-E827-4C13-8405-4C68EBEF30D2" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about the <code class="codeph">DBMS_PDB_ALTER_SHARING</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4" name="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4"></a><h4 id="MULTI-GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4" class="sect4"><span class="enumeration_section">2.3.5 </span>Implicitly Created Applications
                  </h4>
                  <div>
                     <p>In addition to user-created applications, application containers can also contain implicitly created applications.</p>
                     <p> An application is created implicitly in an application root when an application common user operation is issued with a <code class="codeph">CONTAINER=ALL</code> clause without being preceded by an <code class="codeph">ALTER PLUGGABLE DATABASE BEGIN</code> statement.
                     </p>
                     <p>Application common user operations include operations such as creating a common user with a <code class="codeph">CREATE USER</code> statement or altering a common user with an <code class="codeph">ALTER USER</code> statement. The database automatically names an implicit application <code class="codeph">APP$<span class="codeinlineitalic">guid</span></code>, where <code class="codeph"><span class="codeinlineitalic">guid</span></code> is the global unique ID of the application root. An implicit application is created when the application root is opened for the first time.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7E280093-E132-4C04-AEE4-883CDD25E9B4__GUID-2CDC7A0B-3E8C-4905-9A92-339EA32BF624">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a>"</span> to learn more about implicitly created applications
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" name="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E"></a><h4 id="MULTI-GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E" class="sect4"><span class="enumeration_section">2.3.6 </span>Application Synchronization
                  </h4>
                  <div>
                     <p>Within an application PDB, synchronization is the user-initiated update of the application to the latest version and patch in the application root.</p>
                     <p>When you are connected to an application PDB, synchronize an application by issuing the <code class="codeph">ALTER PLUGGABLE DATABASE APPLICATION</code> statement with the <code class="codeph">SYNC</code> keyword. If you specify the application name before <code class="codeph">SYNC</code>, then the database synchronizes only the specified application. If you do not specify the application name, or if you specify <code class="codeph">ALL SYNC</code>, then the database synchronizes all applications, including implicitly created applications.
                     </p>
                     <div class="infoboxnote" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__GUID-EA0A850A-1622-44E3-B310-485A19986904">
                        <p class="notep1">Note:</p>
                        <p>When you are connected to the application root, the operations of installing, upgrading, and patching an application do not automatically propagate changes to the application PDBs.</p>
                     </div>
                     <div class="example" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__GUID-C75C5939-7ECC-4CD9-BA64-FD2EB39F785C">
                        <p class="titleinexample">Example 2-14 Synchronizing a Specific Application in an Application PDB</p>
                        <p>This following statement synchronizes an application named <code class="codeph">saas_sales_app</code> with the latest application changes in the application root:
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__SYNCHRONIZINGASPECIFICAPPLICATIONIN-144-36C6967C">
                        <p class="titleinexample">Example 2-15 Synchronizing a Specific Application to a Patch in an Application PDB</p>
                        <p>This following statement synchronizes an application named <code class="codeph">saas_sales_app</code> with patch 100 in the application root:
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC TO PATCH 100;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-66F29699-D5C8-42B2-AEA5-E2805BA9346E__ORACLEDATABASEADMINISTRATORSGUIDETO-36C6967C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-27A78D0C-B90B-4BB9-A8D2-787353A667B1" title="Synchronizing an application updates the application in the application PDB to the latest version and patch in the application root.">Synchronizing Applications in an Application PDB</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5" name="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5"></a><h4 id="MULTI-GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5" class="sect4"><span class="enumeration_section">2.3.7 </span>Container Maps
                  </h4>
                  <div>
                     <p>A <strong class="term">container map</strong> enables a session connected to application root to issue SQL statements that are routed to the appropriate PDB, depending on the value of a predicate used in the SQL statement.
                     </p>
                     <p>A map table specifies a column in a metadata-linked common table, and uses partitions to associate different application PDBs with different column values. In this way, container maps enable the partitioning of data at the PDB level when the data is not physically partitioned at the table level.</p>
                     <p>The key components for using container maps are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Metadata-linked table</p>
                           <p>This table is intended to be queried using the container map. For example, you might create a metadata-linked table named <code class="codeph">countries_mlt</code> that stores different data in each application PDB. In <code class="codeph">amer_pdb</code>, the <code class="codeph">countries_mlt.cname</code> column stores North American country names; in <code class="codeph">euro_pdb</code>, the <code class="codeph">countries_mlt.cname</code> column stores European country names; and in <code class="codeph">asia_pdb</code>, the <code class="codeph">countries_mlt.cname</code> column stores Asian country names.
                           </p>
                        </li>
                        <li>
                           <p>Map table</p>
                           <p>In the application root, you create a single-column map table partitioned by list, hash, or range. The map table enables the metadata-linked table to be queried using the partitioning strategy that is enabled by the container map. The names of the partitions in the map object table must match the names of the application PDBs in the application container.</p>
                           <p>For example, the map table named <code class="codeph">pdb_map_tbl</code> may partition by list on the <code class="codeph">cname</code> column. The partitions named <code class="codeph">amer_pdb</code>, <code class="codeph">euro_pdb</code>, and <code class="codeph">asia_pdb</code> correspond to the names of the application PDBs. The values in each partition are the names of the countries, for example, <code class="codeph">PARTITION amer_pdb VALUES ('US','MEXICO','CANADA')</code>.
                           </p>
                           <p>Starting in <span>Oracle Database 18c</span>, for a <code class="codeph">CONTAINERS()</code> query to use a map, the partitioning column in the map table does not need to match a column in the metadata-linked table. Assume that the table <code class="codeph">sh.sales</code> is enabled for the container map <code class="codeph">pdb_map_tbl</code>, and <code class="codeph">cname</code> is the partitioning column for the map table. Even though <code class="codeph">sh.sales</code> does <span class="italic">not</span> include a <code class="codeph">cname</code> column, the map table routes the following query to the appropriate PDB: <code class="codeph">SELECT * FROM CONTAINERS(sh.sales) WHERE cname = 'US' ORDER BY time_id</code>.
                           </p>
                        </li>
                        <li>
                           <p>Container map</p>
                           <p>A container map is a database property that specifies a map table. To set the property, you connect to the application root and execute the <code class="codeph">ALTER PLUGGABLE DATABASE SET CONTAINER_MAP=<span class="codeinlineitalic">map_table</span></code> statement, where <code class="codeph"><span class="codeinlineitalic">map_table</span></code> is the name of the map table.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__CREATINGACONTAINERMAP-8E4B81D5">
                        <p class="titleinexample">Example 2-16 Creating a Metadata-Linked Table, Map Table, and Container Map: Part 1</p>
                        <p>In this example, you log in as an application administrator to the application root. Assume that an application container has three application PDBs: <code class="codeph">amer_pdb</code>, <code class="codeph">euro_pdb</code>, and <code class="codeph">asia_pdb</code>. Each application PDB stores country names for a different region. A metadata-linked table named <code class="codeph">oe.countries_mlt</code> has a <code class="codeph">cname</code> column that stores the country name. For this partitioning strategy, you use partition by list to create a map object named <code class="codeph">salesadm.pdb_map_tbl</code> that creates a partition for each region. The country name determines the region.
                        </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app BEGIN INSTALL '1.0';

-- Create the metadata-linked table.
CREATE TABLE oe.countries_mlt SHARING=METADATA (
  region    VARCHAR2(30),
  cname     VARCHAR2(30));

-- Create the partitioned map table, which is list partitioned on the cname column.
-- The names of the partitions are the names of the application PDBs.
CREATE TABLE salesadm.pdb_map_tbl (cname VARCHAR2(30) NOT NULL)
  PARTITION BY LIST (cname) (
    PARTITION amer_pdb VALUES ('US','MEXICO','CANADA'),
    PARTITION euro_pdb VALUES ('UK','FRANCE','GERMANY'),
    PARTITION asia_pdb VALUES ('INDIA','CHINA','JAPAN'));

-- Set the CONTAINER_MAP database property to the map object.
ALTER PLUGGABLE DATABASE SET CONTAINER_MAP='salesadm.pdb_map_tbl';

-- Enable the container map for the metadata-linked table to be queried.
ALTER TABLE oe.countries_mlt ENABLE CONTAINER_MAP;

-- Ensure that the table to be queried is enabled for the CONTAINERS clause.
ALTER TABLE oe.countries_mlt ENABLE CONTAINERS_DEFAULT;

-- End the application installation.
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app END INSTALL '1.0';</code></pre><div class="infoboxnote" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-998F67F5-AC26-42FE-AF8B-FAA2E82F67D0">
                           <p class="notep1">Note:</p>
                           <p>Although you create container maps using partitioning syntax, the database does not use partitioning functionality. Defining a container map does not require Oracle Partitioning.</p>
                        </div>
                        <p>In the preceding script, the <code class="codeph">ALTER TABLE oe.countries_mlt ENABLE CONTAINERS_DEFAULT</code> statement specifies that queries and DML statements issued in the application root must use the <code class="codeph">CONTAINERS()</code> clause by default for the database object.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-785D8102-83B3-4574-AF6F-3A7104B1A192">
                        <p class="titleinexample">Example 2-17 Synchronizing the Application, and Adding Data: Part 2</p>
                        <p>This example continues from the previous example. While connected to the application root, you switch the current container to each PDB in turn, synchronize the <code class="codeph">saas_sales_app</code> application, and then add PDB-specific data to the <code class="codeph">oe.countries_mlt</code> table.
                        </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=amer_pdb;
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;
INSERT INTO oe.countries_mlt VALUES ('AMER','US');
INSERT INTO oe.countries_mlt VALUES ('AMER','MEXICO');
INSERT INTO oe.countries_mlt VALUES ('AMER','CANADA');
COMMIT;

ALTER SESSION SET CONTAINER=euro_pdb;
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;
INSERT INTO oe.countries_mlt VALUES ('EURO','UK');
INSERT INTO oe.countries_mlt VALUES ('EURO','FRANCE');
INSERT INTO oe.countries_mlt VALUES ('EURO','GERMANY');
COMMIT;

ALTER SESSION SET CONTAINER=asia_pdb;
ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;
INSERT INTO oe.countries_mlt VALUES ('ASIA','INDIA');
INSERT INTO oe.countries_mlt VALUES ('ASIA','CHINA');
INSERT INTO oe.countries_mlt VALUES ('ASIA','JAPAN');
COMMIT;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-61B5FD24-4977-4659-AED6-E61F369305CD">
                        <p class="titleinexample">Example 2-18 Querying the Metadata-Linked Table: Part 3</p>
                        <p>This example continues from the previous example. You connect to the application root, and then query <code class="codeph">oe.countries_mlt</code> multiple times, specifying different countries in the <code class="codeph">WHERE</code> clause. The query returns the correct value from the <code class="codeph">oe.countries_mlt.region</code> column.
                        </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER=saas_sales_ac;

SELECT region FROM oe.countries_mlt WHERE cname='MEXICO';

REGION
------
AMER

SELECT region FROM oe.countries_mlt WHERE cname='GERMANY';

REGION
------
EURO

SELECT region FROM oe.countries_mlt WHERE cname='JAPAN';

REGION
------
ASIA
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0FE90F8-EE93-4835-8ED4-A0FBC7518BB5__GUID-E457973E-F08F-4320-8FEE-4D87D5A7278B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-AAF93A02-7C70-4024-8758-E351C213543E" title="Container maps enable the partitioning of data at the application PDB level when the data is not physically partitioned at the table level.">Partitioning by PDB with Container Maps</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89271"></a><a id="CNCPT89270"></a><div class="props_rev_3"><a id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" name="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48"></a><h3 id="MULTI-GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" class="sect3"><span class="enumeration_section">2.4 </span>Overview of Services in a CDB
               </h3>
               <div>
                  <p>Clients must connect to PDBs or application roots using services. </p>
                  <p>A connection using a service name starts a new session in a PDB or application root. A foreground process, and therefore a session, at every moment of its lifetime, has a uniquely defined current container.</p>
                  <p>The following graphic shows two clients connecting to PDBs using two different listeners.</p>
                  <div class="figure" id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">
                     <p class="titleinfigure">Figure 2-10 Services in a CDB</p><img src="img/cncpt368.png" alt="Description of Figure 2-10 follows" title="Description of Figure 2-10 follows" longdesc="img_text/cncpt368.html"><br><a href="img_text/cncpt368.html">Description of "Figure 2-10 Services in a CDB"</a></div>
                  <!-- class="figure" -->
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE">Service Creation in a CDB</a><br>When you execute the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB, the database automatically creates and starts a service inside the CDB. 
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-A0449CA4-1704-415E-8D85-964517943159">Connections to Containers in a CDB</a><br>Typically, a CDB administrator must have appropriate privileges to provision PDBs and connect to various containers. CDB administrators are common users. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__GUID-9DF4BF14-5E95-48A5-A2B1-25F8B2D05765">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services for PDBs</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89458"></a><div class="props_rev_3"><a id="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" name="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE"></a><h4 id="MULTI-GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" class="sect4"><span class="enumeration_section">2.4.1 </span>Service Creation in a CDB
                  </h4>
                  <div>
                     <p>When you execute the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB, the database automatically creates and starts a service inside the CDB. 
                     </p>
                     <p>The default service has a property that identifies the PDB as the initial current container for the service. The property is shown in the <code class="codeph">DBA_SERVICES.PDB</code> column.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3CBC5516-022E-4009-818A-43B9CAA13B47">Default Services in a CDB</a><br>The default service has the same name as the PDB. The PDB name must be a valid service name, which must be unique within the CDB.
                        </li>
                        <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247">Nondefault Services in a CDB</a><br>You can create additional services for each PDB, up to a per-CDB maximum of 10,000. Each additional service denotes its PDB as the initial current container.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7400E086-28A3-4089-88AB-7E270AA33ABE__GUID-B6817910-9C7B-46AB-BD48-7D415D09A20E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services for PDBs</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" title="Clients must connect to PDBs or application roots using services.">Overview of Services in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47" name="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47"></a><h5 id="MULTI-GUID-3CBC5516-022E-4009-818A-43B9CAA13B47" class="sect5"><span class="enumeration_section">2.4.1.1 </span>Default Services in a CDB
                     </h5>
                     <div>
                        <p>The default service has the same name as the PDB. The PDB name must be a valid service name, which must be unique within the CDB.</p>
                        <p>When you create an application container, which requires specifying the <code class="codeph">AS APPLICATION CONTAINER</code> clause, Oracle Database automatically creates a new default service for the application root. The service has the same name as the application container. Oracle Net Services must be configured properly for clients to access this service. Similarly, every application PDB has its own default service name, and an application seed PDB has its own default service name.
                        </p>
                        <div class="example" id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47__GUID-45F808D4-32A5-4288-BE6C-AC9E28ED9DDA">
                           <p class="titleinexample">Example 2-19 Switching to a PDB Using a Default Service</p>
                           <p>This example switches to the PDB names <code class="codeph">salespdb</code> using the default service, which has the same name as the PDB:
                           </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = salespdb;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3CBC5516-022E-4009-818A-43B9CAA13B47__GUID-091AAC84-DD80-49F8-A2F2-623BC5C76401">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/application-and-networking-architecture.html#CNCPT-GUID-C931A159-E1FE-4DB3-A811-510C42516683" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about service names
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services for PDBs</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" title="When you execute the CREATE PLUGGABLE DATABASE statement to create a PDB, the database automatically creates and starts a service inside the CDB.">Service Creation in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247" name="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247"></a><h5 id="MULTI-GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247" class="sect5"><span class="enumeration_section">2.4.1.2 </span>Nondefault Services in a CDB
                     </h5>
                     <div>
                        <p>You can create additional services for each PDB, up to a per-CDB maximum of 10,000. Each additional service denotes its PDB as the initial current container.</p>
                        <p>In <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">Figure 2-10</a>, nondefault services exist for <code class="codeph">erppdb</code> and <code class="codeph">hrpdb</code>. Create, maintain, and drop additional services using the same techniques that you use in a non-CDB.
                        </p>
                        <p>For example, in <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">Figure 2-10</a> the PDB named <code class="codeph">hrpdb</code> has a default service named <code class="codeph">hrpdb</code>. The default service cannot be dropped.
                        </p>
                        <p>When you switch to a container using <code class="codeph">ALTER SESSION SET CONTAINER</code>, the session uses the default service for the container. Optionally, you can use a different service for the container by specifying <code class="codeph">SERVICE = <span class="codeinlineitalic">service_name</span></code>, where <code class="codeph"><span class="codeinlineitalic">service_name</span></code> is the name of the service. You might want to use a particular service so that the session can take advantage of its service attributes and features, such as service metrics, load balancing, Resource Manager settings, and so on.
                        </p>
                        <div class="example" id="GUID-3D50B9D0-C1A9-4608-BD24-7B7CA5F41247__GUID-59C97C72-ED53-4780-9650-4409401F4027">
                           <p class="titleinexample">Example 2-20 Switching to a PDB Using a Nondefault Service</p>
                           <p>In this example, the default service for <code class="codeph">hrpdb</code> does not support all the service attributes and features such as service metrics, FAN, load balancing, Oracle Database Resource Manager, Transaction Guard, Application Continuity, and so on. You switch to a nondefault service as follows:
                           </p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = hrpdb SERVICE = hrpdb_full;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7400E086-28A3-4089-88AB-7E270AA33ABE" title="When you execute the CREATE PLUGGABLE DATABASE statement to create a PDB, the database automatically creates and starts a service inside the CDB.">Service Creation in a CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="CNCPT89252"></a><a id="CNCPT89459"></a><div class="props_rev_3"><a id="GUID-A0449CA4-1704-415E-8D85-964517943159" name="GUID-A0449CA4-1704-415E-8D85-964517943159"></a><h4 id="MULTI-GUID-A0449CA4-1704-415E-8D85-964517943159" class="sect4"><span class="enumeration_section">2.4.2 </span>Connections to Containers in a CDB
                  </h4>
                  <div>
                     <p>Typically, a CDB administrator must have appropriate privileges to provision PDBs and connect to various containers. CDB administrators are common users. </p>
                     <p>The CDB administrator can use either of the following techniques:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Connect directly to a PDB or application root.</p>
                           <p>The user requires the <code class="codeph">CREATE SESSION</code> privilege in the container.
                           </p>
                        </li>
                        <li>
                           <p>Use the <code class="codeph">ALTER SESSION SET CONTAINER</code> statement, which is useful for both connection pooling and advanced CDB administration, to switch between containers. The syntax is <code class="codeph">ALTER SESSION SET CONTAINER = <span class="codeinlineitalic">container_name</span> [SERVICE = <span class="codeinlineitalic">service_name</span>]</code>.
                           </p>
                           <p>For example, a CDB administrator can connect to the root in one session, and then in the same session switch to a PDB. In this case, the user requires the <code class="codeph">SET CONTAINER</code> system privilege in the container.
                           </p>
                        </li>
                     </ul>
                     <p>The following table describes a scenario involving the CDB in <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48__CEGCEABG">Figure 2-10</a>. Each row describes an action that occurs after the action in the preceding row. Common user <code class="codeph">SYSTEM</code> queries the name of the current container and the names of PDBs in the CDB.
                     </p>
                     <div class="tblformal" id="GUID-A0449CA4-1704-415E-8D85-964517943159__SERVICESINACDB-1BFABC43">
                        <p class="titleintable">Table 2-8 Services in a CDB</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Services in a CDB" summary="This table describes the operation in a scenario involving a CDB. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d10378e12339">Operation</th>
                                 <th align="left" valign="bottom" width="20%" id="d10378e12342">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12347" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM@prod
Enter password: ********
Connected.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12347 d10378e12342 ">
                                    <p>The <code class="codeph">SYSTEM</code> user, which is common to all containers in the CDB, connects to the root using service named <code class="codeph">prod</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12360" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SHOW CON_NAME
 
CON_NAME
--------
CDB$ROOT</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12360 d10378e12342 ">
                                    <p><code class="codeph">SYSTEM</code> uses the SQL*Plus command <code class="codeph">SHOW</code> <code class="codeph">CON_NAME</code> to list the name of the container to which the user is currently connected. <code class="codeph">CDB$ROOT</code> is the name of the root container.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12378" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SELECT NAME, PDB FROM V$SERVICES 
  2  ORDER BY PDB, NAME;

NAME                    PDB
----------------------  --------
SYS$BACKGROUND          CDB$ROOT
SYS$USERS               CDB$ROOT
prod.example.com        CDB$ROOT
erppdb.example.com      ERPPDB
erp.example.com         ERPPDB
hr.example.com          HRPDB
hrpdb.example.com       HRPDB
salespdb.example.com    SALESPDB

8 rows selected.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12378 d10378e12342 ">
                                    <p>A query of <code class="codeph">V$SERVICES</code> shows that three PDBs exist with service names that match the PDB name. Both <code class="codeph">hrpdb</code> and <code class="codeph">erppdb</code> have an additional service.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12394" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER = hrpdb;

Session altered.</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12394 d10378e12342 ">
                                    <p><code class="codeph">SYSTEM</code> uses <code class="codeph">ALTER SESSION</code> to connect to <code class="codeph">hrpdb</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d10378e12409" headers="d10378e12339 "><pre class="pre codeblock"><code>SQL&gt; SELECT SYS_CONTEXT  
  2  ('USERENV', 'CON_NAME')
  3  AS CUR_CONTAINER FROM DUAL;
 
CUR_CONTAINER
-------------
HRPDB</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d10378e12409 d10378e12342 ">
                                    <p>A query confirms that the current container is now <code class="codeph">hrpdb</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A0449CA4-1704-415E-8D85-964517943159__GUID-5808523D-3D39-471C-9AC3-D1072F954C84">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-EA62913A-8033-4D76-8835-055FB3076D09" title="You can use several techniques to connect to a PDB with the SQL*Plus CONNECT command.">Connecting to a PDB</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF56526" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the syntax and semantics of <code class="codeph">ALTER SESSION SET CONTAINER</code></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" title="Clients must connect to PDBs or application roots using services.">Overview of Services in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89269"></a><a id="CNCPT89268"></a><div class="props_rev_3"><a id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" name="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1"></a><h3 id="MULTI-GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" class="sect3"><span class="enumeration_section">2.5 </span>Overview of Tablespaces and Database Files in a CDB
               </h3>
               <div>
                  <p>A CDB has the same structure as a non-CDB, except that each PDB and application root has its own set of tablespaces, including its own <code class="codeph">SYSTEM</code>, <code class="codeph">SYSAUX</code>, and undo tablespaces. 
                  </p>
                  <p>A CDB contains the following files:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>One control file</p>
                     </li>
                     <li>
                        <p>One online redo log</p>
                     </li>
                     <li>
                        <p>One or more undo tablespaces</p>
                        <p>Only a common user who has the appropriate privileges and whose current container is the root can create an undo tablespace. At any given time, a CDB is either in either of the following undo modes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Local undo mode</p>
                              <p>In this case, each PDB has its own undo tablespace. If a CDB is using local undo mode, then the database automatically creates an undo tablespace in every PDB. Local undo provides advantages such as the ability to perform a hot clone of a PDB, and speed the relocation of a PDB. Also, local undo provides level of isolation and enables faster unplug and point-in-time recovery operations.</p>
                              <p>A local undo tablespace is required for each node in an Oracle Real Application Clusters (RAC) cluster in which the PDB is open. For example, if you move a PDB from a two-node cluster to a four-node cluster, and if the PDB is open in all nodes, then the database automatically creates the additional required undo tablespaces. If you move the PDB back again, then you can drop the redundant undo tablespaces.</p>
                              <div class="infoboxnote" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-9CEAE4D9-4BB1-4863-AD57-F207C89F1B1E">
                                 <p class="notep1">Note:</p>
                                 <p>By default, Database Configuration Assistant (DBCA) creates new CDBs with local undo enabled.</p>
                              </div>
                           </li>
                           <li>
                              <p>Shared undo mode</p>
                              <p>In a single-instance CDB, only one active undo tablespace exists. For an Oracle RAC CDB, one active undo tablespace exists for every instance. All undo tablespaces are visible in the data dictionaries and related views of all containers.</p>
                           </li>
                        </ul>
                        <p>The undo mode applies to the entire CDB, which means that every container uses shared undo, or every container uses local undo. You can switch between undo modes in a CDB, which necessitates re-starting the database.</p>
                     </li>
                     <li>
                        <p><code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces for every container
                        </p>
                        <p>The primary physical difference between CDBs and non-CDBs is the data files in <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>. A non-CDB has only one <code class="codeph">SYSTEM</code> tablespace and one <code class="codeph">SYSAUX</code> tablespace. In contrast, the CDB root, each <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a>, and each PDB in a CDB has its own <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces. Each container also has its own set of dictionary tables describing the objects that reside in the container.
                        </p>
                     </li>
                     <li>
                        <p>Zero or more user-created tablespaces</p>
                        <p>In a typical use case, each PDB has its own set of non-system tablespaces. These tablespaces contain the data for user-defined schemas and objects in the PDB.</p>
                        <p>Within a PDB, you manage permanent and temporary tablespaces in the same way that you manage them in a non-CDB. You can also limit the amount of storage used by the data files for a PDB by using the <code class="codeph">STORAGE</code> clause in a <code class="codeph">CREATE PLUGGABLE DATABASE</code> or <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement.
                        </p>
                        <p>The storage of the data dictionary within the PDB enables it to be portable. You can unplug a PDB from a CDB, and plug it in to a different CDB.</p>
                     </li>
                     <li>
                        <p>A set of temp files for every container</p>
                        <p>One default temporary tablespace exists for the CDB root, and one for each <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a>, <a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">application PDB</span></a>, and PDB.
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-4A5BA283-A419-4FB9-8541-8B6C7DB4FE6F">
                     <p class="titleinexample">Example 2-21 CDB in Local Undo Mode</p>
                     <p>This example shows aspects of the physical storage architecture of a CDB with two PDBs: <code class="codeph">hrpdb</code> and <code class="codeph">salespdb</code>. In this example, the database uses local undo mode, and so has undo data files in the CDB root, <code class="codeph">hrpdb</code>, and <code class="codeph">salespdb</code>.
                     </p>
                     <div class="figure" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__PHYSICALARCHITECTUREOFACDBINLOCALUN-8EEE013A">
                        <p class="titleinfigure">Figure 2-11 Physical Architecture of a CDB in Local Undo Mode</p><img src="img/cncpt386.png" width="576" alt="Description of Figure 2-11 follows" title="Description of Figure 2-11 follows" longdesc="img_text/cncpt386.html"><br><a href="img_text/cncpt386.html">Description of "Figure 2-11 Physical Architecture of a CDB in Local Undo Mode"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1__GUID-C37EF760-7083-4C71-83D4-274EC03E1D3B">
                     <p class="notep1">See Also:</p>
                     <div class="p">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" title="After creation, a CDB consists of the root and the PDB seed.">After Creating a CDB</a>"</span> to learn about the state of a CDB after creation
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" name="GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1"></a><h3 id="MULTI-GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" class="sect3"><span class="enumeration_section">2.6 </span>Overview of Availability in a CDB
               </h3>
               <div>
                  <p>Many availability features that exist for a non-CDB also exist for individual PDBs within a CDB.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101">Overview of Backup and Recovery in a CDB</a><br>RMAN and Oracle Enterprise Manager Cloud Control provide full support for backup and recovery in a multitenant environment.
                     </li>
                     <li class="ulchildlink"><a href="overview-of-the-multitenant-architecture.html#GUID-9A6F4C1A-1330-49B0-946F-CE1493339182">Overview of Flashback PDB in a CDB</a><br>You can rewind a PDB using the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> command in SQL or Recovery Manager. This command is analogous to <code class="codeph">FLASHBACK DATABASE</code> in a non-CDB.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101" name="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101"></a><h4 id="MULTI-GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101" class="sect4"><span class="enumeration_section">2.6.1 </span>Overview of Backup and Recovery in a CDB
                  </h4>
                  <div>
                     <p>RMAN and Oracle Enterprise Manager Cloud Control provide full support for backup and recovery in a multitenant environment.</p>
                     <p>You can back up and recover a whole CDB, the root only, or one or more PDBs. You can also back up and recover individual tablespaces and data files within a PDB.</p>
                     <p>From the perspective of recovery, separately backing up the root and all PDBs is equivalent to backing up the whole CDB. The main difference is in the number of RMAN commands that you must enter and the time to recover. Recovering a whole CDB requires less time than recovering the CDB root plus all PDBs.</p>
                     <p>You can perform complete recovery of one or more PDBs without affecting operations of other open PDBs. RMAN also provides support for point-in-time recovery at the PDB level. The procedure is similar to the procedure for point-in-time recovery of a non-CDB.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E65FCF2C-8813-456A-85AE-179EA3FDD101__NOTE-143-46ADD52E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../bradv/backing-up-database.html#BRADV730" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn about the state of a CDB after creation
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" title="Many availability features that exist for a non-CDB also exist for individual PDBs within a CDB.">Overview of Availability in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182" name="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182"></a><h4 id="MULTI-GUID-9A6F4C1A-1330-49B0-946F-CE1493339182" class="sect4"><span class="enumeration_section">2.6.2 </span>Overview of Flashback PDB in a CDB
                  </h4>
                  <div>
                     <p>You can rewind a PDB using the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> command in SQL or Recovery Manager. This command is analogous to <code class="codeph">FLASHBACK DATABASE</code> in a non-CDB.
                     </p>
                     <p>Flashback PDB protects an individual PDB against data corruption, widespread user errors, and redo corruption. The operation does not rewind data in other PDBs in the CDB.</p>
                     <p>In releases prior to <span>Oracle Database 12c</span> Release 2 (12.2), you could create a restore point—an alias for an SCN—only when connected to the root. Now you can use <code class="codeph">CREATE RESTORE POINT ... FOR PLUGGABLE DATABASE</code> to create a <a href="glossary.html#GUID-D756A71D-5645-45AD-AC2E-5925E908F73C"><span class="xrefglossterm">PDB restore point</span></a>, which is only usable within a specified PDB. As with CDB restore points, PDB restore points can be normal or guaranteed. A guaranteed restore point never ages out of the control file and must be explicitly dropped. If you connect to the root, and if you do not specify the <code class="codeph">FOR PLUGGABLE DATABASE</code> clause, then you create a <a href="glossary.html#GUID-D7CADC4A-D7A6-42F4-8BDF-BDC865C1A492"><span class="xrefglossterm">CDB restore point</span></a>, which is usable by all PDBs.
                     </p>
                     <p>A special type of PDB restore point is a <a href="glossary.html#GUID-E272C11B-073E-4938-959C-348BC3ED4FEA"><span class="xrefglossterm">clean restore point</span></a>, which you can only create when a PDB is closed. For PDBs with shared undo, rewinding the PDB to a clean restore point preserves database consistency and improves performance. The database avoids using the automatic infrastructure, which can reduce performance.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9A6F4C1A-1330-49B0-946F-CE1493339182__GUID-C37EF760-7083-4C71-83D4-274EC03E1D3B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../bradv/rman-performing-flashback-dbpitr.html#BRADV8702" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn about using <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-75748FBA-79BE-44E6-8336-0A644FBC58A1" title="Many availability features that exist for a non-CDB also exist for individual PDBs within a CDB.">Overview of Availability in a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277" name="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277"></a><h3 id="MULTI-GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277" class="sect3"><span class="enumeration_section">2.7 </span>Overview of Oracle Resource Manager in a CDB
               </h3>
               <div>
                  <p>Using Oracle Resource Manager (Resource Manager), you can create CDB resource plans and set initialization parameters to allocate resources to PDBs.</p>
                  <p>In a non-CDB, you can use Resource Manager to manage multiple workloads that are contending for system and database resources. Therefore, in a CDB, multiple workloads within multiple PDBs can also complete for system and CDB resources.</p>
                  <p>In a CDB, Resource Manager can manage resources on two levels: CDB and PDB.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-27636BA8-AA57-4E42-9D7A-62AB95FC3CBF">CDB Resource Plans</p>
                     <p>A CDB resource plan allocates resources to its PDBs according to its set of resource plan directives (directives). A parent-child relationship exists between a CDB resource plan and its directives. Each resource plan directive references either a set of PDBs or an individual PDB.</p>
                     <p>A performance profile specifies shares of system resources for a set of PDBs. PDB performance profiles enable you to manage resources for large numbers of PDBs by specifying Resource Manager directives for profiles instead of individual PDBs.</p>
                     <p>The directives control allocation of CPU and parallel execution servers. A directive can control the allocation of resources to PDBs based on the share value that you specify for each PDB or PDB performance profile. A higher share value results in more guaranteed resources. For PDBs and PDB performance profiles, you can also set utilization limits for CPU and parallel servers.</p>
                     <p>You can create a CDB resource plan by using the <code class="codeph">CREATE_CDB_PLAN</code> procedure in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package, and set a CDB resource plan using the <code class="codeph">RESOURCE_MANAGER_PLAN</code> parameter. You create directives for a CDB resource plan by using the <code class="codeph">CREATE_CDB_PLAN_DIRECTIVE</code> procedure.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-68E7747B-1741-487D-8F0D-B38206FB9A8F">PDB Resource Plans</p>
                     <p>A CDB resource plan allocates a portion of the system resources to a PDB. A PDB resource plan determines how this portion is allocated within the PDB.</p>
                     <p>Create a PDB resource plan in the same way that you create a resource plan for a non-CDB: by using procedures in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package to create the plan.
                     </p>
                     <p>You can create a PDB resource plan by using the <code class="codeph">CREATE_PLAN</code> procedure in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package, and set a PDB resource plan using the <code class="codeph">RESOURCE_MANAGER_PLAN</code> parameter. You create directives for a PDB resource plan by using the <code class="codeph">CREATE_PLAN_DIRECTIVE</code> procedure.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-D2CAEC8C-1F61-4F07-B3DE-584897122753">PDB-Level Memory Controls</p>
                     <p>In a CDB, PDBs may contend for SGA or PGA memory. Several initialization parameters can control the memory usage of a PDB, either guaranteeing memory or limiting memory. When you set the following initialization parameters with the PDB as the current container, the parameters control the memory usage of the current PDB.</p>
                     <p>Examples of important parameters include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">SGA_MIN_SIZE</code> sets the minimum guaranteed SGA size of the PDB.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SGA_TARGET</code> specifies the maximum SGA that the PDB can use at any time.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PGA_AGGREGATE_LIMIT</code> sets the maximum PGA that the PDB can use at any time.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-5A15BD6A-CCAA-4779-9C77-67CB671F7BCD">PDB-Level I/O Controls</p>
                     <p>Intensive disk I/O can cause poor performance. Several factors can result in excess disk I/O, such as poorly designed SQL or index and table scans in high-volume transactions. If one PDB generates excessive disk I/O, then it can degrade the performance of other PDBs in the same CDB.</p>
                     <p>On non-Engineered Systems, use one or both of the following initialization parameters to limit the I/O generated by a particular PDB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">MAX_IOPS</code> limits the number of I/O operations for each second.
                           </p>
                        </li>
                        <li>
                           <p> <code class="codeph">MAX_MBPS</code> limits the MB/s for I/O operations.
                           </p>
                        </li>
                     </ul>
                     <p>For Engineered Systems, manage PDB I/Os with I/O Resource Management.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277__GUID-00ACCB35-C278-4DF1-996A-5E76FED54730">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/concepts-for-database-administrators.html#CNCPT-GUID-308CCFA9-830F-442B-BA81-F03B9B6BCE49" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about Database Resource Manager
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="Use PL/SQL package procedures to administer Oracle Resource Manager (Resource Manager) to allocate resources to pluggable databases (PDBs) in a multitenant container database (CDB).">Using Oracle Resource Manager for PDBs</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../refrn/DB_CACHE_SIZE.html#GUID-68F83472-D74F-4C1D-B515-FC80C40CC61B" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn more about <code class="codeph">DB_CACHE_SIZE</code> and other initialization parameters
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#GUID-9876C289-99E4-416B-AB6F-D8318642053E" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SAGUG20421" target="_blank"><span class="italic">Oracle Exadata Storage Server Software User's Guide</span></a> to learn more about I/O Resource Management
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>