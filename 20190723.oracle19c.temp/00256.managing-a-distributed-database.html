<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">
      <meta name="description" content="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">
      <title>Managing a Distributed Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="distributed-database-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="developing-applications-for-a-distributed-database-system.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="distributed-database-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="developing-applications-for-a-distributed-database-system.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="distributed-database-management.html" property="item" typeof="WebPage"><span property="name">    Distributed Database Management</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing a Distributed Database</li>
            </ol>
            <a id="GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" name="GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116"></a><a id="ADMIN029"></a>
            
            <h2 id="ADMIN-GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" class="sect2"><span class="enumeration_chapter">32 </span> Managing a Distributed Database
            </h2>
         </header>
         <div class="ind">
            <p>Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E">Managing Global Names in a Distributed System</a><br>In a distributed database system, each database should have a unique <span class="bold">global database name</span>. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53">Creating Database Links</a><br>To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links. 
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-76FC48D7-9852-4307-B21F-5AB27CB25530">Using Shared Database Links</a><br>Every application that references a remote server using a standard database link establishes a connection between the local database and the remote database. Many users running applications simultaneously can cause a high number of connections between the local and remote databases. Shared database links enable you to limit the number of network connections required between the local server and the remote server.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA">Managing Database Links</a><br>Managing database links includes tasks such as closing them, dropping them, and limiting the number of active connections to them.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD">Viewing Information About Database Links</a><br>The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-691544B4-D838-4715-8D5A-10C7666BC719">Creating Location Transparency</a><br>After you have configured the necessary database links, you can use various tools to hide the distributed nature of the database system from users. In other words, users can access remote objects as if they were local objects.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-C2AF35B6-3650-469A-A802-DC3CD712B796">Managing Statement Transparency</a><br>In a distributed database, some SQL statements can reference remote tables.
                  </li>
                  <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E">Managing a Distributed Database: Examples</a><br>Examples illustrate managing database links.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="distributed-database-management.html#GUID-43B1A794-4C8E-4CC5-BF5B-A408A50EB6FA" title="You can manage a distributed database environment.">Distributed Database Management</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN12144"></a><div class="props_rev_3"><a id="GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" name="GUID-F61EEA59-5794-4C5F-859D-2539A288E71E"></a><h3 id="ADMIN-GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" class="sect3"><span class="enumeration_section">32.1 </span>Managing Global Names in a Distributed System
               </h3>
               <p>In a distributed database system, each database should have a unique <span class="bold">global database name</span>. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.
               </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-7924DF25-5BF2-45C8-B382-1603559421E7">Understanding How Global Database Names Are Formed</a><br>A global database name is formed from two components: a database name and a domain.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-7DFD48F8-1F97-4D46-9179-0C7FBAC38801">Determining Whether Global Naming Is Enforced</a><br>The name that you give to a link on the local database depends on whether the local database enforces global naming.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-83B325B7-2991-42D4-900B-C93A41428547">Viewing a Global Database Name</a><br>Use the data dictionary view <code class="codeph">GLOBAL_NAME</code> to view the database global name.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-C9E2C1D4-CB48-4012-8779-E87745F7EC79">Changing the Domain in a Global Database Name</a><br>Use the <code class="codeph">ALTER DATABASE</code> statement to change the domain in a database global name.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89">Changing a Global Database Name: Scenario</a><br>A scenario illustrates changing a global database name.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12145"></a><div class="props_rev_3"><a id="GUID-7924DF25-5BF2-45C8-B382-1603559421E7" name="GUID-7924DF25-5BF2-45C8-B382-1603559421E7"></a><h4 id="ADMIN-GUID-7924DF25-5BF2-45C8-B382-1603559421E7" class="sect4"><span class="enumeration_section">32.1.1 </span>Understanding How Global Database Names Are Formed
                  </h4>
                  <div>
                     <p>A global database name is formed from two components: a database name and a domain.</p>
                     <p>The database name and the domain name are determined by the following initialization parameters at database creation:</p>
                     <div class="tblformal" id="GUID-7924DF25-5BF2-45C8-B382-1603559421E7__GUID-C6D3895D-D511-4298-87A6-F47DAD6C39DC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 contains the component of the global database name; column 2 contains the corresponding DB_NAME initialization parameter; column 3 contains the requirements for the parameter; column 4 presents an example of the parameter setting." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d307479e244">Component</th>
                                 <th align="left" valign="bottom" width="25%" id="d307479e247">Parameter</th>
                                 <th align="left" valign="bottom" width="25%" id="d307479e250">Requirements</th>
                                 <th align="left" valign="bottom" width="25%" id="d307479e253">Example</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d307479e258" headers="d307479e244 ">
                                    <p>Database name</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e258 d307479e247 ">
                                    <p><code class="codeph">DB_NAME</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e258 d307479e250 ">
                                    <p>Must be 30 characters or less.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e258 d307479e253 ">
                                    <p><code class="codeph">sales</code> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d307479e275" headers="d307479e244 ">
                                    <p>Domain containing the database</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e275 d307479e247 ">
                                    <p><code class="codeph">DB_DOMAIN</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e275 d307479e250 ">
                                    <p>Must follow standard Internet conventions. Levels in domain names must be separated by dots and the order of domain names is from leaf to root, left to right.</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d307479e275 d307479e253 ">
                                    <p><code class="codeph">us.example.com</code> 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>These are examples of valid global database names:</p>
                     <div class="tblformal" id="GUID-7924DF25-5BF2-45C8-B382-1603559421E7__GUID-42E2F7D9-79B4-4793-A187-8660178BCA7F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 contains a sample setting for the DB_NAME initialization parameter; column 2 contains a sample setting for the DB_DOMAIN initialization parameter; column 3 contains the resulting global database name." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d307479e302">DB_NAME</th>
                                 <th align="left" valign="bottom" width="33%" id="d307479e305">DB_DOMAIN</th>
                                 <th align="left" valign="bottom" width="33%" id="d307479e308">Global Database Name</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d307479e313" headers="d307479e302 ">
                                    <p><code class="codeph">sales</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e313 d307479e305 ">
                                    <p><code class="codeph">example.com</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e313 d307479e308 ">
                                    <p><code class="codeph">sales.example.com</code> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d307479e329" headers="d307479e302 ">
                                    <p><code class="codeph">sales</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e329 d307479e305 ">
                                    <p><code class="codeph">us.example.com</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e329 d307479e308 ">
                                    <p><code class="codeph">sales.us.example.com</code> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d307479e345" headers="d307479e302 ">
                                    <p><code class="codeph">mktg</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e345 d307479e305 ">
                                    <p><code class="codeph">us.example.com</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e345 d307479e308 ">
                                    <p><code class="codeph">mktg.us.example.com</code> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d307479e361" headers="d307479e302 ">
                                    <p><code class="codeph">payroll</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e361 d307479e305 ">
                                    <p><code class="codeph">example.org</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d307479e361 d307479e308 ">
                                    <p><code class="codeph">payroll.example.org</code> 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The <code class="codeph">DB_DOMAIN</code> initialization parameter is only important at database creation time when it is used, together with the <code class="codeph">DB_NAME</code> parameter, to form the database global name. At this point, the database global name is stored in the data dictionary. You must change the global name using an <code class="codeph">ALTER DATABASE </code>statement, <span class="italic">not</span> by altering the <code class="codeph">DB_DOMAIN</code> parameter in the initialization parameter file. It is good practice, however, to change the <code class="codeph">DB_DOMAIN</code> parameter to reflect the change in the domain name before the next database startup.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" title="In a distributed database system, each database should have a unique global database name. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.">Managing Global Names in a Distributed System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12146"></a><div class="props_rev_3"><a id="GUID-7DFD48F8-1F97-4D46-9179-0C7FBAC38801" name="GUID-7DFD48F8-1F97-4D46-9179-0C7FBAC38801"></a><h4 id="ADMIN-GUID-7DFD48F8-1F97-4D46-9179-0C7FBAC38801" class="sect4"><span class="enumeration_section">32.1.2 </span>Determining Whether Global Naming Is Enforced
                  </h4>
                  <div>
                     <p>The name that you give to a link on the local database depends on whether the local database enforces global naming.</p>
                     <div class="section">
                        <p>If the local database enforces global naming, then you must use the remote database global database name as the name of the link. For example, if you are connected to the local <code class="codeph">hq</code> server and want to create a link to the remote <code class="codeph">mfg</code> database, and the local database enforces global naming, then you must use the <code class="codeph">mfg</code> global database name as the link name.
                        </p>
                        <p>You can also use service names as part of the database link name. For example, if you use the service names <code class="codeph">sn1</code> and <code class="codeph">sn2</code> to connect to database <code class="codeph">hq.example.com</code>, and global naming is enforced, then you can create the following link names to <code class="codeph">hq</code>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">HQ.EXAMPLE.COM@SN1</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">HQ.EXAMPLE.COM@SN2</code> 
                              </p>
                              <div class="infoboxnotealso" id="GUID-7DFD48F8-1F97-4D46-9179-0C7FBAC38801__GUID-E90CAA8B-36EB-4D71-B06C-52613EE1FB55">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-a-distributed-database.html#GUID-15C83763-9F18-4670-B14A-6557F123060A" title="In some situations, you may want to have several database links of the same type (for example, public) that point to the same remote database, yet establish connections to the remote database using different communication pathways.">Using Connection Qualifiers to Specify Service Names Within Link Names</a>"</span> for more information about using services names in link names
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>To determine whether global naming is enforced on a database, either examine the database initialization parameter file or query the <code class="codeph">V$PARAMETER</code> view. For example, to see whether global naming is enforced on <code class="codeph">mfg</code>, you could start a session on <code class="codeph">mfg</code> and then create and execute the following <code class="codeph">globalnames.sql</code> script (sample output included):
                        </p><pre class="oac_no_warn" dir="ltr">COL NAME FORMAT A12
COL VALUE FORMAT A6
SELECT NAME, VALUE FROM V$PARAMETER
   WHERE NAME = 'global_names'
/

SQL&gt; @globalnames

NAME         VALUE
------------ ------
global_names FALSE</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" title="In a distributed database system, each database should have a unique global database name. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.">Managing Global Names in a Distributed System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12147"></a><div class="props_rev_3"><a id="GUID-83B325B7-2991-42D4-900B-C93A41428547" name="GUID-83B325B7-2991-42D4-900B-C93A41428547"></a><h4 id="ADMIN-GUID-83B325B7-2991-42D4-900B-C93A41428547" class="sect4"><span class="enumeration_section">32.1.3 </span>Viewing a Global Database Name
                  </h4>
                  <div>
                     <p>Use the data dictionary view <code class="codeph">GLOBAL_NAME</code> to view the database global name.
                     </p>
                     <div class="section">
                        <p>For example, issue the following:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM GLOBAL_NAME;

GLOBAL_NAME
-------------------------------------------------------------------------------
SALES.EXAMPLE.COM</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" title="In a distributed database system, each database should have a unique global database name. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.">Managing Global Names in a Distributed System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12148"></a><div class="props_rev_3"><a id="GUID-C9E2C1D4-CB48-4012-8779-E87745F7EC79" name="GUID-C9E2C1D4-CB48-4012-8779-E87745F7EC79"></a><h4 id="ADMIN-GUID-C9E2C1D4-CB48-4012-8779-E87745F7EC79" class="sect4"><span class="enumeration_section">32.1.4 </span>Changing the Domain in a Global Database Name
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">ALTER DATABASE</code> statement to change the domain in a database global name.
                     </p>
                     <div class="section">
                        <p>After the database is created, changing the initialization parameter <code class="codeph">DB_DOMAIN</code> has no effect on the global database name or on the resolution of database link names.
                        </p>
                        <p>The following example shows the syntax for the renaming statement, where <span class="italic">database</span> is a database name and <span class="italic">domain</span> is the network domain:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RENAME GLOBAL_NAME TO <span class="italic">database.domain</span>;
</pre><p>Use the following procedure to change the domain in a global database name:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Determine the current global database name. For example, issue:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * FROM GLOBAL_NAME;

GLOBAL_NAME
----------------------------------------------------------------------------
SALES.EXAMPLE.COM
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Rename the global database name using an <code class="codeph">ALTER DATABASE</code> statement. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RENAME GLOBAL_NAME TO sales.us.example.com;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">GLOBAL_NAME</code> table to check the new name. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">SELECT * FROM GLOBAL_NAME;

GLOBAL_NAME
----------------------------------------------------------------------------
SALES.US.EXAMPLE.COM</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" title="In a distributed database system, each database should have a unique global database name. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.">Managing Global Names in a Distributed System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12149"></a><div class="props_rev_3"><a id="GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89" name="GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89"></a><h4 id="ADMIN-GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89" class="sect4"><span class="enumeration_section">32.1.5 </span>Changing a Global Database Name: Scenario
                  </h4>
                  <div>
                     <p>A scenario illustrates changing a global database name.</p>
                     <div class="section">
                        <p>In this scenario, you change the domain part of the global database name of the local database. You also create database links using partially specified global names to test how Oracle Database resolves the names. You discover that the database resolves the partial names using the domain part of the current global database name of the local database, not the value for the initialization parameter <code class="codeph">DB_DOMAIN</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>You connect to <code class="codeph">SALES.US.EXAMPLE.COM</code> and query the <code class="codeph">GLOBAL_NAME</code> data dictionary view to determine the current database global name: </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM@sales.us.example.com
SELECT * FROM GLOBAL_NAME;

GLOBAL_NAME
---------------------------------------------------------------------------- 
SALES.US.EXAMPLE.COM
</pre></div>
                        </li>
                        <li class="stepexpand"><span>You query the <code class="codeph">V$PARAMETER</code> view to determine the current setting for the <code class="codeph">DB_DOMAIN</code> initialization parameter:</span><div><pre class="oac_no_warn" dir="ltr">SELECT NAME, VALUE FROM V$PARAMETER WHERE NAME = 'db_domain'; 

NAME       VALUE
---------  -----------
db_domain  US.EXAMPLE.COM 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>You then create a database link to a database called <code class="codeph">hq</code>, using only a partially-specified global name:</span><div><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK hq USING 'sales'; 
</pre><p>The database expands the global database name for this link by appending the domain part of the global database name of the <span class="italic">local</span> database to the name of the database specified in the link.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>You query <code class="codeph">USER_DB_LINKS</code> to determine which domain name the database uses to resolve the partially specified global database name:</span><div><pre class="oac_no_warn" dir="ltr">SELECT DB_LINK FROM USER_DB_LINKS; 

DB_LINK
------------------
HQ.US.EXAMPLE.COM
</pre><p>This result indicates that the domain part of the global database name of the local database is <code class="codeph">us.example.com</code>. The database uses this domain in resolving partial database link names when the database link is created.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Because you have received word that the <code class="codeph">sales</code> database will move to Japan, you rename the <code class="codeph">sales</code> database to <code class="codeph">sales.jp.example.com</code>:</span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RENAME GLOBAL_NAME TO sales.jp.example.com;
SELECT * FROM GLOBAL_NAME; 

GLOBAL_NAME
---------------------------------------------------------------------------- 
SALES.JP.EXAMPLE.COM
</pre></div>
                        </li>
                        <li class="stepexpand"><span>You query <code class="codeph">V$PARAMETER</code> again and discover that the value of <code class="codeph">DB_DOMAIN</code> is <span class="italic">not</span> changed, although you renamed the domain part of the global database name:</span><div><pre class="oac_no_warn" dir="ltr">SELECT NAME, VALUE FROM V$PARAMETER 
  WHERE NAME = 'db_domain'; 

NAME       VALUE
---------  -----------
db_domain  US.EXAMPLE.COM 
</pre><p>This result indicates that the value of the <code class="codeph">DB_DOMAIN</code> initialization parameter is independent of the <code class="codeph">ALTER DATABASE RENAME GLOBAL_NAME</code> statement. The <code class="codeph">ALTER DATABASE</code> statement determines the domain of the global database name, not the <code class="codeph">DB_DOMAIN</code> initialization parameter (although it is good practice to alter <code class="codeph">DB_DOMAIN</code> to reflect the new domain name).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>You create another database link to database <code class="codeph">supply</code>, and then query <code class="codeph">USER_DB_LINKS</code> to see how the database resolves the domain part of the global database name of <code class="codeph">supply</code>:</span><div><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK supply USING 'supply'; 
SELECT DB_LINK FROM USER_DB_LINKS; 

DB_LINK
------------------
HQ.US.EXAMPLE.COM 
SUPPLY.JP.EXAMPLE.COM
</pre><p>This result indicates that the database resolves the partially specified link name by using the domain <code class="codeph">jp.example.com.</code> This domain is used when the link is created because it is the domain part of the global database name of the local database. The database does <span class="italic">not</span> use the <code class="codeph">DB_DOMAIN</code> initialization parameter setting when resolving the partial link name. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>You then receive word that your previous information was faulty: <code class="codeph">sales</code> will be in the <code class="codeph">ASIA.JP.EXAMPLE.COM</code> domain, not the <code class="codeph">JP.EXAMPLE.COM</code> domain. Consequently, you rename the global database name as follows: </span><div><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RENAME GLOBAL_NAME TO sales.asia.jp.example.com; 
SELECT * FROM GLOBAL_NAME; 

GLOBAL_NAME
---------------------------------------------------------------------------- 
SALES.ASIA.JP.EXAMPLE.COM
</pre></div>
                        </li>
                        <li class="stepexpand"><span>You query <code class="codeph">V$PARAMETER</code> to again check the setting for the parameter <code class="codeph">DB_DOMAIN</code>: </span><div><pre class="oac_no_warn" dir="ltr">SELECT NAME, VALUE FROM V$PARAMETER 
  WHERE NAME = 'db_domain'; 

NAME        VALUE
----------  -----------
db_domain   US.EXAMPLE.COM 
</pre><p>The result indicates that the domain setting in the parameter file is the same as it was before you issued <span class="italic">either</span> of the <code class="codeph">ALTER DATABASE RENAME</code> statements.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Finally, you create a link to the <code class="codeph">warehouse</code> database and again query <code class="codeph">USER_DB_LINKS</code> to determine how the database resolves the partially-specified global name:</span><div><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK warehouse USING 'warehouse'; 
SELECT DB_LINK FROM USER_DB_LINKS; 

DB_LINK
------------------
HQ.US.EXAMPLE.COM 
SUPPLY.JP.EXAMPLE.COM
WAREHOUSE.ASIA.JP.EXAMPLE.COM
</pre><p>Again, you see that the database uses the domain part of the global database name of the local database to expand the partial link name during link creation.</p>
                              <div class="infoboxnote" id="GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89__GUID-C7C6CB30-D771-4A9D-A99B-9DE83BD23D98">
                                 <p class="notep1">Note:</p>
                                 <p>In order to correct the <code class="codeph">supply</code> database link, it must be dropped and re-created.
                                 </p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-E22E28D3-4A8D-4468-BC2B-15FCAF236E89__GUID-CA2B3DA4-ABC8-4AFF-8510-E6737C766DC0">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../refrn/DB_NAME.html#REFRN10041" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about specifying the <code class="codeph">DB_NAME</code> initialization parameter
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../refrn/DB_DOMAIN.html#REFRN10036" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about specifying the <code class="codeph">DB_DOMAIN</code> initialization parameter
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F61EEA59-5794-4C5F-859D-2539A288E71E" title="In a distributed database system, each database should have a unique global database name. Global database names uniquely identify a database in the system. A primary administration task in a distributed system is managing the creation and alteration of global database names.">Managing Global Names in a Distributed System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12150"></a><div class="props_rev_3"><a id="GUID-B5950167-35F8-4C88-B063-382E0290CB53" name="GUID-B5950167-35F8-4C88-B063-382E0290CB53"></a><h3 id="ADMIN-GUID-B5950167-35F8-4C88-B063-382E0290CB53" class="sect3"><span class="enumeration_section">32.2 </span>Creating Database Links
               </h3>
               <p>To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links. </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-74191DF0-F1D3-4A29-970F-40F9F34D64B1">Obtaining Privileges Necessary for Creating Database Links</a><br>A database link is a pointer in the local database that lets you access objects on a remote database. To create a private database link, you must have been granted the proper privileges.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472">Specifying Link Types</a><br>When you create a database link, you must decide who will have access to it.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7">Specifying Link Users</a><br>A database link defines a communication path from one database to another. When an application uses a database link to access a remote database, Oracle Database establishes a database session in the remote database on behalf of the local application request. When you create a private or public database link, you can determine which schema on the remote database the link will establish connections to by creating fixed user, current user, and connected user database links.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-15C83763-9F18-4670-B14A-6557F123060A">Using Connection Qualifiers to Specify Service Names Within Link Names</a><br>In some situations, you may want to have several database links of the same type (for example, public) that point to the same remote database, yet establish connections to the remote database using different communication pathways.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12151"></a><div class="props_rev_3"><a id="GUID-74191DF0-F1D3-4A29-970F-40F9F34D64B1" name="GUID-74191DF0-F1D3-4A29-970F-40F9F34D64B1"></a><h4 id="ADMIN-GUID-74191DF0-F1D3-4A29-970F-40F9F34D64B1" class="sect4"><span class="enumeration_section">32.2.1 </span>Obtaining Privileges Necessary for Creating Database Links
                  </h4>
                  <div>
                     <p>A database link is a pointer in the local database that lets you access objects on a remote database. To create a private database link, you must have been granted the proper privileges.</p>
                     <div class="section">
                        <p>The following table illustrates which privileges are required on which database for which type of link:</p>
                        <div class="tblformal" id="GUID-74191DF0-F1D3-4A29-970F-40F9F34D64B1__GUID-E9727F7C-1BCE-4DE6-81C8-2447C03A452A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 contains the privilege; column 2 lists the database on which the privilege is required; column3 lists the type of link for which the privilege is required." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d307479e1035">Privilege</th>
                                    <th align="left" valign="bottom" width="22%" id="d307479e1038">Database</th>
                                    <th align="left" valign="bottom" width="44%" id="d307479e1041">Required For</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d307479e1046" headers="d307479e1035 ">
                                       <p><code class="codeph">CREATE DATABASE LINK</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d307479e1046 d307479e1038 ">
                                       <p>Local</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d307479e1046 d307479e1041 ">
                                       <p>Creation of a private database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d307479e1058" headers="d307479e1035 ">
                                       <p><code class="codeph">CREATE PUBLIC DATABASE LINK</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d307479e1058 d307479e1038 ">
                                       <p>Local</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d307479e1058 d307479e1041 ">
                                       <p>Creation of a public database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d307479e1070" headers="d307479e1035 ">
                                       <p><code class="codeph">CREATE SESSION</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d307479e1070 d307479e1038 ">
                                       <p>Remote</p>
                                    </td>
                                    <td align="left" valign="top" width="44%" headers="d307479e1070 d307479e1041 ">
                                       <p>Creation of any type of database link.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To see which privileges you currently have available, query <code class="codeph">ROLE_SYS_PRIVS</code>. For example, you could create and execute the following <code class="codeph">privs.sql</code> script (sample output included):
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT PRIVILEGE AS "Database Link Privileges"
FROM ROLE_SYS_PRIVS
WHERE PRIVILEGE IN ( 'CREATE SESSION','CREATE DATABASE LINK',
                     'CREATE PUBLIC DATABASE LINK')
/

SQL&gt; @privs

Database Link Privileges
----------------------------------------
CREATE DATABASE LINK
CREATE PUBLIC DATABASE LINK
CREATE SESSION</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12152"></a><div class="props_rev_3"><a id="GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472" name="GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472"></a><h4 id="ADMIN-GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472" class="sect4"><span class="enumeration_section">32.2.2 </span>Specifying Link Types
                  </h4>
                  <p>When you create a database link, you must decide who will have access to it.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46">Creating Private Database Links</a><br>Use the <code class="codeph">CREATE DATABASE LINK</code> statement to create private database links.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9">Creating Public Database Links</a><br>Use the <code class="codeph">CREATE PUBLIC DATABASE LINK</code> statement to create public database links.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-FCBB2B7B-A12E-419B-AB7C-807D6519D784">Creating Global Database Links</a><br>You can use a directory server in which databases are identified by net service names. In this document, these are what are referred to as global database links.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12153"></a><div class="props_rev_3"><a id="GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46" name="GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46"></a><h5 id="ADMIN-GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46" class="sect5"><span class="enumeration_section">32.2.2.1 </span>Creating Private Database Links
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">CREATE DATABASE LINK</code> statement to create private database links.
                        </p>
                        <div class="section">
                           <p>To create a private database link, specify the following (where <span class="italic">link_name</span> is the global database name or an arbitrary link name):
                           </p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK <span class="italic">link_name</span> ...;
</pre><p>Following are examples of private database links:</p>
                           <div class="tblformal" id="GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46__GUID-90475731-52E3-4DC1-9DF1-F9F0D52AC1D2">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 displays an example for creating a database link. Column 2 explains the results of issuing the statement." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="42%" id="d307479e1226">SQL Statement</th>
                                       <th align="left" valign="bottom" width="58%" id="d307479e1229">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d307479e1234" headers="d307479e1226 ">
                                          <p><code class="codeph">CREATE DATABASE LINK supply.us.example.com;</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d307479e1234 d307479e1229 ">
                                          <p>A private link using the global database name to the remote <code class="codeph">supply</code> database.
                                          </p>
                                          <p>The link uses the userid/password of the connected user. So if <code class="codeph">scott</code> (identified by <span class="italic"><code class="codeph">password</code></span>) uses the link in a query, the link establishes a connection to the remote database as <code class="codeph">scott/</code><span class="italic"><code class="codeph">password</code></span>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d307479e1261" headers="d307479e1226 ">
                                          <p><code class="codeph">CREATE DATABASE LINK link_2 CONNECT TO jane IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span><code class="codeph"> USING 'us_supply'; </code></p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d307479e1261 d307479e1229 ">
                                          <p>A private fixed user link called <code class="codeph">link_2</code> to the database with service name <code class="codeph">us_supply</code>. The link connects to the remote database with the userid/password of <code class="codeph">jane/</code><span class="italic"><code class="codeph">password</code></span> regardless of the connected user.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d307479e1287" headers="d307479e1226 ">
                                          <p><code class="codeph">CREATE DATABASE LINK link_1 CONNECT TO CURRENT_USER USING 'us_supply';</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d307479e1287 d307479e1229 ">
                                          <p>A private link called <code class="codeph">link_1</code> to the database with service name <code class="codeph">us_supply</code>. The link uses the userid/password of the current user to log onto the remote database. 
                                          </p>
                                          <p><span class="bold">Note:</span> The current user may not be the same as the connected user, and must be a global user on both databases involved in the link (see <span class="q">"<a href="distributed-database-concepts.html#GUID-27C0C352-804F-4545-B43C-E33FA4506E44" title="When creating the link, you determine which user should connect to the remote database to access the data.">Users of Database Links</a>"</span>). Current user links are part of the Oracle Advanced Security option.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0FD4078C-D452-47EA-BA97-4EAB1D502B46__GUID-486CA189-074E-4F9E-8D83-EA1AA38C8E2B">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for <code class="codeph">CREATE DATABASE LINK</code> syntax
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472" title="When you create a database link, you must decide who will have access to it.">Specifying Link Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12154"></a><div class="props_rev_3"><a id="GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9" name="GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9"></a><h5 id="ADMIN-GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9" class="sect5"><span class="enumeration_section">32.2.2.2 </span>Creating Public Database Links
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">CREATE PUBLIC DATABASE LINK</code> statement to create public database links.
                        </p>
                        <div class="section">
                           <p>To create a public database link, use the keyword <code class="codeph">PUBLIC</code> (where <span class="italic">link_name</span> is the global database name or an arbitrary link name):
                           </p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK <span class="italic">link_name</span> ...;
</pre><p>Following are examples of public database links:</p>
                           <div class="tblformal" id="GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9__GUID-28B85DCC-5665-4F8E-A5F7-EB2C61F2E8D6">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 displays an example for creating a public database link. Column 2 explains the results of issuing the statement." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="47%" id="d307479e1390">SQL Statement</th>
                                       <th align="left" valign="bottom" width="53%" id="d307479e1393">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d307479e1398" headers="d307479e1390 ">
                                          <p><code class="codeph">CREATE PUBLIC DATABASE LINK supply.us.example.com;</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="53%" headers="d307479e1398 d307479e1393 ">
                                          <p>A public link to the remote <code class="codeph">supply</code> database. The link uses the userid/password of the connected user. So if <code class="codeph">scott</code> (identified by <span class="italic"><code class="codeph">password</code></span>) uses the link in a query, the link establishes a connection to the remote database as <code class="codeph">scott/</code><span class="italic"><code class="codeph">password</code></span>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d307479e1423" headers="d307479e1390 ">
                                          <p><code class="codeph">CREATE PUBLIC DATABASE LINK pu_link CONNECT TO CURRENT_USER USING 'supply';</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="53%" headers="d307479e1423 d307479e1393 ">
                                          <p>A public link called <code class="codeph">pu_link</code> to the database with service name <code class="codeph">supply</code>. The link uses the userid/password of the current user to log onto the remote database. 
                                          </p>
                                          <p><span class="bold">Note:</span> The current user may not be the same as the connected user, and must be a global user on both databases involved in the link (see <span class="q">"<a href="distributed-database-concepts.html#GUID-27C0C352-804F-4545-B43C-E33FA4506E44" title="When creating the link, you determine which user should connect to the remote database to access the data.">Users of Database Links</a>"</span>).
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="47%" id="d307479e1450" headers="d307479e1390 ">
                                          <p><code class="codeph">CREATE PUBLIC DATABASE LINK sales.us.example.com CONNECT TO jane IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span><code class="codeph">;</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="53%" headers="d307479e1450 d307479e1393 ">
                                          <p>A public fixed user link to the remote <code class="codeph">sales</code> database. The link connects to the remote database with the userid/password of <code class="codeph">jane/</code><span class="italic"><code class="codeph">password</code></span>.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1E90D802-8586-4FCD-9478-6C6BFBA33AB9__GUID-19325992-963F-46C6-BEF3-C3897FC9E84C">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for <code class="codeph">CREATE PUBLIC DATABASE LINK</code> syntax
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472" title="When you create a database link, you must decide who will have access to it.">Specifying Link Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12155"></a><div class="props_rev_3"><a id="GUID-FCBB2B7B-A12E-419B-AB7C-807D6519D784" name="GUID-FCBB2B7B-A12E-419B-AB7C-807D6519D784"></a><h5 id="ADMIN-GUID-FCBB2B7B-A12E-419B-AB7C-807D6519D784" class="sect5"><span class="enumeration_section">32.2.2.3 </span>Creating Global Database Links
                     </h5>
                     <div>
                        <p>You can use a directory server in which databases are identified by net service names. In this document, these are what are referred to as global database links.</p>
                        <div class="section">
                           <p>See the <a href="../netag/configuring-naming-methods.html#NETAG008" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> to learn how to create directory entries that act as global database links.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7F1394F2-CBB2-483A-B3CF-F59A4394D472" title="When you create a database link, you must decide who will have access to it.">Specifying Link Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12156"></a><div class="props_rev_3"><a id="GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7" name="GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7"></a><h4 id="ADMIN-GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7" class="sect4"><span class="enumeration_section">32.2.3 </span>Specifying Link Users
                  </h4>
                  <p>A database link defines a communication path from one database to another. When an application uses a database link to access a remote database, Oracle Database establishes a database session in the remote database on behalf of the local application request. When you create a private or public database link, you can determine which schema on the remote database the link will establish connections to by creating fixed user, current user, and connected user database links.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-38AB85A5-D26E-442E-B532-83E8FCEF1C1B">Creating Fixed User Database Links</a><br>When an application uses a fixed user database link, the local server always establishes a connection to a fixed remote schema in the remote database. The local server also sends the fixed user's credentials across the network when an application uses the link to access the remote database.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE">Creating Connected User and Current User Database Links</a><br>Connected user and current user database links do not include credentials in the definition of the link. The credentials used to connect to the remote database can change depending on the user that references the database link and the operation performed by the application.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12157"></a><div class="props_rev_3"><a id="GUID-38AB85A5-D26E-442E-B532-83E8FCEF1C1B" name="GUID-38AB85A5-D26E-442E-B532-83E8FCEF1C1B"></a><h5 id="ADMIN-GUID-38AB85A5-D26E-442E-B532-83E8FCEF1C1B" class="sect5"><span class="enumeration_section">32.2.3.1 </span>Creating Fixed User Database Links
                     </h5>
                     <div>
                        <p>When an application uses a fixed user database link, the local server always establishes a connection to a fixed remote schema in the remote database. The local server also sends the fixed user's credentials across the network when an application uses the link to access the remote database.</p>
                        <div class="section">
                           <p>To create a <span class="bold">fixed user database link</span>, you embed the credentials (in this case, a username and password) required to access the remote database in the definition of the link:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK ... CONNECT TO <span class="italic">username</span> IDENTIFIED BY <span class="italic">password</span> ...;
</pre><p>Following are examples of fixed user database links:</p>
                           <div class="tblformal" id="GUID-38AB85A5-D26E-442E-B532-83E8FCEF1C1B__GUID-A506619F-58B5-4B43-8B0F-E96128BFD256">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 displays an example for creating a fixed user database link. Column 2 explains the results of issuing the statement." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="42%" id="d307479e1652">SQL Statement</th>
                                       <th align="left" valign="bottom" width="58%" id="d307479e1655">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d307479e1660" headers="d307479e1652 ">
                                          <p><code class="codeph">CREATE PUBLIC DATABASE LINK supply.us.example.com CONNECT TO scott IDENTIFIED BY </code><span class="italic"><code class="codeph">password</code></span><code class="codeph">;</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d307479e1660 d307479e1655 ">
                                          <p>A public link using the global database name to the remote <code class="codeph">supply</code> database. The link connects to the remote database with the userid/password <code class="codeph">scott/</code><span class="italic"><code class="codeph">password</code></span>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="42%" id="d307479e1683" headers="d307479e1652 ">
                                          <p><code class="codeph">CREATE DATABASE LINK foo CONNECT TO jane IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">USING 'finance';</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="58%" headers="d307479e1683 d307479e1655 ">
                                          <p>A private fixed user link called <code class="codeph">foo</code> to the database with service name <code class="codeph">finance</code>. The link connects to the remote database with the userid/password <code class="codeph">jane/</code><span class="italic"><code class="codeph">password</code></span>.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7" title="A database link defines a communication path from one database to another. When an application uses a database link to access a remote database, Oracle Database establishes a database session in the remote database on behalf of the local application request. When you create a private or public database link, you can determine which schema on the remote database the link will establish connections to by creating fixed user, current user, and connected user database links.">Specifying Link Users</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12158"></a><div class="props_rev_3"><a id="GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE" name="GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE"></a><h5 id="ADMIN-GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE" class="sect5"><span class="enumeration_section">32.2.3.2 </span>Creating Connected User and Current User Database Links
                     </h5>
                     <div>
                        <p>Connected user and current user database links do not include credentials in the definition of the link. The credentials used to connect to the remote database can change depending on the user that references the database link and the operation performed by the application.</p>
                        <div class="infoboxnote" id="GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE__GUID-8E496073-CD7A-4E1B-B5CE-43A0EB1110A1">
                           <p class="notep1">Note:</p>
                           <p>For many distributed applications, you do not want a user to have privileges in a remote database. One simple way to achieve this result is to create a procedure that contains a fixed user or current user database link within it. In this way, the user accessing the procedure temporarily assumes someone else's privileges.</p>
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-903832AC-D3F7-4F8C-8D2E-79A375862F40">Creating a Connected User Database Link</a><br>To create a connected user database link, omit the <code class="codeph">CONNECT TO</code> clause in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                           </li>
                           <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958">Creating a Current User Database Link</a><br>To create a current user database link, use the <code class="codeph">CONNECT TO CURRENT_USER</code> clause in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                           </li>
                        </ul>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="distributed-database-concepts.html#GUID-2F126254-7B12-4C1D-8441-7FD086DE8141" title="Users of database links include connect user, current user, and fixed user.">Users of Database Links</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-06916533-FF59-4CB3-A59B-3DBDB0505FB7" title="A database link defines a communication path from one database to another. When an application uses a database link to access a remote database, Oracle Database establishes a database session in the remote database on behalf of the local application request. When you create a private or public database link, you can determine which schema on the remote database the link will establish connections to by creating fixed user, current user, and connected user database links.">Specifying Link Users</a></p>
                           </div>
                        </div>
                     </div><a id="ADMIN12159"></a><div class="props_rev_3"><a id="GUID-903832AC-D3F7-4F8C-8D2E-79A375862F40" name="GUID-903832AC-D3F7-4F8C-8D2E-79A375862F40"></a><h6 id="ADMIN-GUID-903832AC-D3F7-4F8C-8D2E-79A375862F40" class="sect6"><span class="enumeration_section">32.2.3.2.1 </span>Creating a Connected User Database Link
                        </h6>
                        <div>
                           <p>To create a connected user database link, omit the <code class="codeph">CONNECT TO</code> clause in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                           </p>
                           <div class="section">
                              <p>The following syntax creates a connected user database link, where <span class="italic">dblink</span> is the name of the link and <span class="italic">net_service_name</span> is an optional connect string:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE [SHARED] [PUBLIC] DATABASE LINK <span class="italic">dblink</span> ... [USING '<span class="italic">net_service_name</span>'];
</pre><p>For example, to create a connected user database link, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK sales.division3.example.com USING 'sales';</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE" title="Connected user and current user database links do not include credentials in the definition of the link. The credentials used to connect to the remote database can change depending on the user that references the database link and the operation performed by the application.">Creating Connected User and Current User Database Links</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN12160"></a><div class="props_rev_3"><a id="GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958" name="GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958"></a><h6 id="ADMIN-GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958" class="sect6"><span class="enumeration_section">32.2.3.2.2 </span>Creating a Current User Database Link
                        </h6>
                        <div>
                           <p>To create a current user database link, use the <code class="codeph">CONNECT TO CURRENT_USER</code> clause in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                           </p>
                           <div class="section">
                              <p>Current user links are only available through the Oracle Advanced Security option.</p>
                              <p>The following syntax creates a current user database link, where <span class="italic">dblink</span> is the name of the link and <span class="italic">net_service_name</span> is an optional connect string:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE [SHARED] [PUBLIC] DATABASE LINK <span class="italic">dblink</span> CONNECT TO CURRENT_USER 
[USING '<span class="italic">net_service_name</span>'];
</pre><p>For example, to create a connected user database link to the <code class="codeph">sales</code> database, you might use the following syntax:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE DATABASE LINK sales CONNECT TO CURRENT_USER USING 'sales';</pre><div class="infoboxnote" id="GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958__GUID-771FFC88-58C1-47AE-8128-790E0F01A187">
                                 <p class="notep1">Note:</p>
                                 <p>To use a current user database link, the current user must be a global user on both databases involved in the link.</p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-CA8DC9FD-415D-4440-A895-D3FE53EDD958__GUID-2E88FD5C-7B26-4C7A-ABBA-10D52AA49DA0">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more syntax information about creating database links
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-DEFBEEBB-C4DA-4FB2-B12B-AE0D848114FE" title="Connected user and current user database links do not include credentials in the definition of the link. The credentials used to connect to the remote database can change depending on the user that references the database link and the operation performed by the application.">Creating Connected User and Current User Database Links</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN02901"></a><div class="props_rev_3"><a id="GUID-15C83763-9F18-4670-B14A-6557F123060A" name="GUID-15C83763-9F18-4670-B14A-6557F123060A"></a><h4 id="ADMIN-GUID-15C83763-9F18-4670-B14A-6557F123060A" class="sect4"><span class="enumeration_section">32.2.4 </span>Using Connection Qualifiers to Specify Service Names Within Link Names
                  </h4>
                  <div>
                     <p>In some situations, you may want to have several database links of the same type (for example, public) that point to the same remote database, yet establish connections to the remote database using different communication pathways.</p>
                     <div class="section">
                        <p>Some cases in which this strategy is useful are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A remote database is part of an Oracle Real Application Clusters configuration, so you define several public database links at your local node so that connections can be established to specific instances of the remote database.</p>
                           </li>
                           <li>
                              <p>Some clients connect to the Oracle Database server using TCP/IP while others use DECNET.</p>
                           </li>
                        </ul>
                        <p>To facilitate such functionality, the database lets you create a database link with an optional service name in the database link name. When creating a database link, a service name is specified as the trailing portion of the database link name, separated by an <code class="codeph">@</code> sign, as in <code class="codeph">@sales</code>. This string is called a <span class="bold">connection qualifier</span>.
                        </p>
                        <p>For example, assume that remote database <code class="codeph">hq.example.com </code>is managed in an Oracle Real Application Clusters environment. The <code class="codeph">hq</code> database has two instances named <code class="codeph">hq_1</code> and <code class="codeph">hq_2</code>. The local database can contain the following public database links to define pathways to the remote instances of the <code class="codeph">hq</code> database: 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK hq.example.com@hq_1
  USING 'string_to_hq_1';
CREATE PUBLIC DATABASE LINK hq.example.com@hq_2
  USING 'string_to_hq_2';
CREATE PUBLIC DATABASE LINK hq.example.com
  USING 'string_to_hq';
</pre><p>Notice in the first two examples that a service name is simply a part of the database link name. The text of the service name does not necessarily indicate how a connection is to be established; this information is specified in the service name of the <code class="codeph">USING</code> clause. Also notice that in the third example, a service name is not specified as part of the link name. In this case, just as when a service name is specified as part of the link name, the instance is determined by the <code class="codeph">USING</code> string. 
                        </p>
                        <p>To use a service name to specify a particular instance, include the service name at the end of the global object name: </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM scott.emp@hq.example.com@hq_1
</pre><p>Note that in this example, there are two @ symbols.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12161"></a><div class="props_rev_3"><a id="GUID-76FC48D7-9852-4307-B21F-5AB27CB25530" name="GUID-76FC48D7-9852-4307-B21F-5AB27CB25530"></a><h3 id="ADMIN-GUID-76FC48D7-9852-4307-B21F-5AB27CB25530" class="sect3"><span class="enumeration_section">32.3 </span>Using Shared Database Links
               </h3>
               <div>
                  <p>Every application that references a remote server using a standard database link establishes a connection between the local database and the remote database. Many users running applications simultaneously can cause a high number of connections between the local and remote databases. Shared database links enable you to limit the number of network connections required between the local server and the remote server.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E">Determining Whether to Use Shared Database Links</a><br>Look carefully at your application and shared server configuration to determine whether to use shared links. A simple guideline is to use shared database links when the number of users accessing a database link is expected to be much larger than the number of server processes in the local database.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-6C8CD13D-E619-4264-B73F-15A01F628244">Creating Shared Database Links</a><br>To create a shared database link, use the keyword <code class="codeph">SHARED</code> in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-96A1E120-B286-4F4E-A107-24CE928331BA">Configuring Shared Database Links</a><br>You can configure shared database links in different ways.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-76FC48D7-9852-4307-B21F-5AB27CB25530__GUID-4F1476BA-446A-4084-9B28-FE59D1686F51">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="distributed-database-concepts.html#GUID-3D34EE9C-6A6D-4F4C-971D-E5BC27F866CB" title="A shared database link is a link between a local server process and the remote database. The link is shared because multiple client processes can use the same link simultaneously.">What Are Shared Database Links?</a>"</span> for a conceptual overview of shared database links
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12162"></a><div class="props_rev_3"><a id="GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E" name="GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E"></a><h4 id="ADMIN-GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E" class="sect4"><span class="enumeration_section">32.3.1 </span>Determining Whether to Use Shared Database Links
                  </h4>
                  <div>
                     <p>Look carefully at your application and shared server configuration to determine whether to use shared links. A simple guideline is to use shared database links when the number of users accessing a database link is expected to be much larger than the number of server processes in the local database.</p>
                     <p>The following table illustrates three possible configurations involving database links:</p>
                     <div class="tblformal" id="GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E__GUID-497EBBD5-DE78-45B7-9844-F6338E83C54E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the link type; column 2 lists the server mode; column 3 explains the consequences of this combination of link type and server mode." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d307479e2190">Link Type</th>
                                 <th align="left" valign="bottom" width="21%" id="d307479e2193">Server Mode </th>
                                 <th align="left" valign="bottom" width="57%" id="d307479e2196">Consequences</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d307479e2201" headers="d307479e2190 ">
                                    <p>Nonshared</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d307479e2201 d307479e2193 ">
                                    <p>Dedicated/shared server</p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d307479e2201 d307479e2196 ">
                                    <p>If your application uses a standard public database link, and 100 users simultaneously require a connection, then 100 direct network connections to the remote database are required.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d307479e2211" headers="d307479e2190 ">
                                    <p>Shared</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d307479e2211 d307479e2193 ">
                                    <p>Shared server</p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d307479e2211 d307479e2196 ">
                                    <p>If 10 shared server processes exist in the local shared server mode database, then 100 users that use the same database link require 10 or fewer network connections to the remote server. Each local shared server process may only need one connection to the remote server.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d307479e2221" headers="d307479e2190 ">
                                    <p>Shared</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d307479e2221 d307479e2193 ">
                                    <p>Dedicated</p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d307479e2221 d307479e2196 ">
                                    <p>If 10 clients connect to a local dedicated server, and each client has 10 sessions on the same connection (thus establishing 100 sessions overall), and each session references the same remote database, then only 10 connections are needed. With a nonshared database link, 100 connections are needed.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Shared database links are not useful in all situations. Assume that only one user accesses the remote server. If this user defines a shared database link and 10 shared server processes exist in the local database, then this user can require up to 10 network connections to the remote server. Because the user can use each shared server process, each process can establish a connection to the remote server.</p>
                     <p>Clearly, a nonshared database link is preferable in this situation because it requires only one network connection. Shared database links lead to more network connections in single-user scenarios, so use shared links only when many users need to use the same link. Typically, shared links are used for public database links, but can also be used for private database links when many clients access the same local schema (and therefore the same private database link).</p>
                     <div class="infoboxnote" id="GUID-C44F5323-25EC-4C44-A17E-6404FEAC6C1E__GUID-E184DF17-142C-47CB-B667-95200D88ED49">
                        <p class="notep1">Note:</p>
                        <p>In a multitiered environment, there is a restriction that if you use a shared database link to connect to a remote database, then that remote database cannot link to another database with a database link that cannot be migrated. That link must use a shared server, or it must be another shared database link.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-76FC48D7-9852-4307-B21F-5AB27CB25530" title="Every application that references a remote server using a standard database link establishes a connection between the local database and the remote database. Many users running applications simultaneously can cause a high number of connections between the local and remote databases. Shared database links enable you to limit the number of network connections required between the local server and the remote server.">Using Shared Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12163"></a><div class="props_rev_3"><a id="GUID-6C8CD13D-E619-4264-B73F-15A01F628244" name="GUID-6C8CD13D-E619-4264-B73F-15A01F628244"></a><h4 id="ADMIN-GUID-6C8CD13D-E619-4264-B73F-15A01F628244" class="sect4"><span class="enumeration_section">32.3.2 </span>Creating Shared Database Links
                  </h4>
                  <div>
                     <p>To create a shared database link, use the keyword <code class="codeph">SHARED</code> in the <code class="codeph">CREATE DATABASE LINK</code> statement.
                     </p>
                     <div class="section">
                        <p>Use the following syntax to create a shared database link:</p><pre class="oac_no_warn" dir="ltr">CREATE SHARED DATABASE LINK <span class="italic">dblink_name</span>
[CONNECT TO <span class="italic">username</span> IDENTIFIED BY <span class="italic">password</span>]|[CONNECT TO CURRENT_USER]
AUTHENTICATED BY <span class="italic">schema_name</span> IDENTIFIED BY <span class="italic">password</span>
[USING '<span class="italic">service_name</span>'];
</pre><p>Whenever you use the keyword <code class="codeph">SHARED</code>, the clause <code class="codeph">AUTHENTICATED BY</code> is required. The schema specified in the <code class="codeph">AUTHENTICATED BY</code> clause must exist in the remote database and must be granted at least the <code class="codeph">CREATE SESSION</code> privilege. The credentials of this schema can be considered the authentication method between the local database and the remote database. These credentials are required to protect the remote shared server processes from clients that masquerade as a database link user and attempt to gain unauthorized access to information.
                        </p>
                        <p>After a connection is made with a shared database link, operations on the remote database proceed with the privileges of the <code class="codeph">CONNECT</code> <code class="codeph">TO</code> user or <code class="codeph">CURRENT_USER</code>, not the <code class="codeph">AUTHENTICATED</code> <code class="codeph">BY</code> schema.
                        </p>
                        <p>The following example creates a fixed user, shared link to database <code class="codeph">sales</code>, connecting as <code class="codeph">scott</code> and authenticated as <code class="codeph">linkuser</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE SHARED DATABASE LINK link2sales
CONNECT TO scott IDENTIFIED BY <span class="italic">password</span>
AUTHENTICATED BY linkuser IDENTIFIED BY ostrich
USING 'sales';</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6C8CD13D-E619-4264-B73F-15A01F628244__GUID-D0121073-F416-4A5D-A18C-4E546B9254D6">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE DATABASE LINK</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-76FC48D7-9852-4307-B21F-5AB27CB25530" title="Every application that references a remote server using a standard database link establishes a connection between the local database and the remote database. Many users running applications simultaneously can cause a high number of connections between the local and remote databases. Shared database links enable you to limit the number of network connections required between the local server and the remote server.">Using Shared Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12164"></a><div class="props_rev_3"><a id="GUID-96A1E120-B286-4F4E-A107-24CE928331BA" name="GUID-96A1E120-B286-4F4E-A107-24CE928331BA"></a><h4 id="ADMIN-GUID-96A1E120-B286-4F4E-A107-24CE928331BA" class="sect4"><span class="enumeration_section">32.3.3 </span>Configuring Shared Database Links
                  </h4>
                  <p>You can configure shared database links in different ways.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4">Creating Shared Links to Dedicated Servers</a><br> A shared server process in the local server can own a dedicated remote server process.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F">Creating Shared Links to Shared Servers</a><br>You can create shared links using shared server processes on the remote server.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-76FC48D7-9852-4307-B21F-5AB27CB25530" title="Every application that references a remote server using a standard database link establishes a connection between the local database and the remote database. Many users running applications simultaneously can cause a high number of connections between the local and remote databases. Shared database links enable you to limit the number of network connections required between the local server and the remote server.">Using Shared Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13140"></a><a id="ADMIN12165"></a><div class="props_rev_3"><a id="GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4" name="GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4"></a><h5 id="ADMIN-GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4" class="sect5"><span class="enumeration_section">32.3.3.1 </span>Creating Shared Links to Dedicated Servers
                     </h5>
                     <div>
                        <p> A shared server process in the local server can own a dedicated remote server process.</p>
                        <p>The advantage is that a direct network transport exists between the local shared server and the remote dedicated server. A disadvantage is that extra back-end server processes are needed.</p>
                        <div class="infoboxnote" id="GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4__GUID-20A92847-D92A-42D2-AE44-3408FAA7C58C">
                           <p class="notep1">Note:</p>
                           <p>The remote server can either be a shared server or dedicated server. There is a dedicated connection between the local and remote servers. When the remote server is a shared server, you can force a dedicated server connection by using the (<code class="codeph">SERVER=DEDICATED</code>) clause in the definition of the service name.
                           </p>
                        </div>
                        <div class="figure" id="GUID-BE4C72BD-83CB-45F9-AEF3-D4F4A04C1CC4__i1008209">
                           <p class="titleinfigure">Figure 32-1 A Shared Database Link to Dedicated Server Processes</p><img src="img/admin039.gif" width="448" alt="Description of Figure 32-1 follows" title="Description of Figure 32-1 follows" longdesc="img_text/admin039.html"><br><a href="img_text/admin039.html">Description of "Figure 32-1 A Shared Database Link to Dedicated Server Processes"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-96A1E120-B286-4F4E-A107-24CE928331BA" title="You can configure shared database links in different ways.">Configuring Shared Database Links</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13141"></a><a id="ADMIN12166"></a><div class="props_rev_3"><a id="GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F" name="GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F"></a><h5 id="ADMIN-GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F" class="sect5"><span class="enumeration_section">32.3.3.2 </span>Creating Shared Links to Shared Servers
                     </h5>
                     <div>
                        <p>You can create shared links using shared server processes on the remote server.</p>
                        <p>This configuration eliminates the need for more dedicated servers, but requires the connection to go through the dispatcher on the remote server. Note that both the local and the remote server must be configured as shared servers.</p>
                        <div class="figure" id="GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F__i1008223">
                           <p class="titleinfigure">Figure 32-2 Shared Database Link to Shared Server</p><img src="img/admin038.gif" width="436" alt="Description of Figure 32-2 follows" title="Description of Figure 32-2 follows" longdesc="img_text/admin038.html"><br><a href="img_text/admin038.html">Description of "Figure 32-2 Shared Database Link to Shared Server"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B96F7F7F-2F8D-4889-9DA6-49A01FA3FC8F__GUID-E475BDF4-84C3-429A-8398-964862E9F445">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-processes.html#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50" title="A shared server process can service multiple user processes.">Shared Server Processes</a>"</span> for information about the shared server option
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-96A1E120-B286-4F4E-A107-24CE928331BA" title="You can configure shared database links in different ways.">Configuring Shared Database Links</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN12167"></a><div class="props_rev_3"><a id="GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA" name="GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA"></a><h3 id="ADMIN-GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA" class="sect3"><span class="enumeration_section">32.4 </span>Managing Database Links
               </h3>
               <p>Managing database links includes tasks such as closing them, dropping them, and limiting the number of active connections to them.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-AF6B5F62-0180-4F8F-A5F0-05246A750CB2">Closing Database Links</a><br>If you access a database link in a session, then the link remains open until you close the session. To close a database link manually, use the <code class="codeph">ALTER SESSION CLOSE DATABASE LINK</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12">Dropping Database Links</a><br>You can drop a database link just as you can drop a table or view. If the link is private, then it must be in your schema. If the link is public, then you must have the <code class="codeph">DROP PUBLIC DATABASE LINK</code> system privilege.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-C0E3F49F-0874-437D-8135-E5BF9CE8702A">Limiting the Number of Active Database Link Connections</a><br>You can limit the number of connections from a user process to remote databases using the static initialization parameter <code class="codeph">OPEN_LINKS</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12168"></a><div class="props_rev_3"><a id="GUID-AF6B5F62-0180-4F8F-A5F0-05246A750CB2" name="GUID-AF6B5F62-0180-4F8F-A5F0-05246A750CB2"></a><h4 id="ADMIN-GUID-AF6B5F62-0180-4F8F-A5F0-05246A750CB2" class="sect4"><span class="enumeration_section">32.4.1 </span>Closing Database Links
                  </h4>
                  <div>
                     <p>If you access a database link in a session, then the link remains open until you close the session. To close a database link manually, use the <code class="codeph">ALTER SESSION CLOSE DATABASE LINK</code> statement.
                     </p>
                     <div class="section">
                        <p>A link is open in the sense that a process is active on each of the remote databases accessed through the link. This situation has the following consequences:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If 20 users open sessions and access the same public link in a local database, then 20 database link connections are open. </p>
                           </li>
                           <li>
                              <p>If 20 users open sessions and each user accesses a private link, then 20 database link connections are open. </p>
                           </li>
                           <li>
                              <p>If one user starts a session and accesses 20 different links, then 20 database link connections are open.</p>
                           </li>
                        </ul>
                        <p>After you close a session, the links that were active in the session are automatically closed. You may have occasion to close the link manually. For example, close links when:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The network connection established by a link is used infrequently in an application.</p>
                           </li>
                           <li>
                              <p>The user session must be terminated.</p>
                           </li>
                        </ul>
                        <p>To close a link, issue the following statement, where <span class="italic">linkname</span> refers to the name of the link:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION CLOSE DATABASE LINK <span class="italic">linkname</span>;
</pre><p>Note that this statement only closes the links that are active in your current session.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA" title="Managing database links includes tasks such as closing them, dropping them, and limiting the number of active connections to them.">Managing Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12169"></a><div class="props_rev_3"><a id="GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12" name="GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12"></a><h4 id="ADMIN-GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12" class="sect4"><span class="enumeration_section">32.4.2 </span>Dropping Database Links
                  </h4>
                  <div>
                     <p>You can drop a database link just as you can drop a table or view. If the link is private, then it must be in your schema. If the link is public, then you must have the <code class="codeph">DROP PUBLIC DATABASE LINK</code> system privilege.
                     </p>
                     <div class="section">
                        <p>The statement syntax is as follows, where <span class="italic">dblink</span> is the name of the link: 
                        </p><pre class="oac_no_warn" dir="ltr">DROP [PUBLIC] DATABASE LINK <span class="italic">dblink</span>; </pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-6B833432-0B3E-4D00-A863-850DAD3AC45E">Dropping a Private Database Link</a><br>Use the <code class="codeph">DROP DATABASE LINK</code> statement to drop a private database link.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-CD18AD39-CEF3-4E0F-82BC-D274F2A32144">Dropping a Public Database Link</a><br>Use the <code class="codeph">DROP PUBLIC DATABASE LINK</code> statement to drop a public database link.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA" title="Managing database links includes tasks such as closing them, dropping them, and limiting the number of active connections to them.">Managing Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12170"></a><div class="props_rev_3"><a id="GUID-6B833432-0B3E-4D00-A863-850DAD3AC45E" name="GUID-6B833432-0B3E-4D00-A863-850DAD3AC45E"></a><h5 id="ADMIN-GUID-6B833432-0B3E-4D00-A863-850DAD3AC45E" class="sect5"><span class="enumeration_section">32.4.2.1 </span>Dropping a Private Database Link
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">DROP DATABASE LINK</code> statement to drop a private database link.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Connect to the local database using SQL*Plus. For example, enter: </span><div><pre class="oac_no_warn" dir="ltr">CONNECT scott@<span class="italic">local_db</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query <code class="codeph">USER_DB_LINKS</code> to view the links that you own. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">SELECT DB_LINK FROM USER_DB_LINKS;

DB_LINK
-----------------------------------
SALES.US.EXAMPLE.COM
MKTG.US.EXAMPLE.COM
2 rows selected.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the desired link using the <code class="codeph">DROP DATABASE LINK</code> statement. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">DROP DATABASE LINK sales.us.example.com;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12" title="You can drop a database link just as you can drop a table or view. If the link is private, then it must be in your schema. If the link is public, then you must have the DROP PUBLIC DATABASE LINK system privilege.">Dropping Database Links</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12171"></a><div class="props_rev_3"><a id="GUID-CD18AD39-CEF3-4E0F-82BC-D274F2A32144" name="GUID-CD18AD39-CEF3-4E0F-82BC-D274F2A32144"></a><h5 id="ADMIN-GUID-CD18AD39-CEF3-4E0F-82BC-D274F2A32144" class="sect5"><span class="enumeration_section">32.4.2.2 </span>Dropping a Public Database Link
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">DROP PUBLIC DATABASE LINK</code> statement to drop a public database link.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Connect to the local database as a user with the <code class="codeph">DROP PUBLIC DATABASE LINK</code> privilege. For example, enter: </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM@<span class="italic">local_db</span> AS SYSDBA
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query <code class="codeph">DBA_DB_LINKS</code> to view the public links. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">SELECT DB_LINK FROM DBA_DB_LINKS
  WHERE OWNER = 'PUBLIC';

DB_LINK
-----------------------------------
DBL1.US.EXAMPLE.COM
SALES.US.EXAMPLE.COM
INST2.US.EXAMPLE.COM                            
RMAN2.US.EXAMPLE.COM
4 rows selected.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the desired link using the <code class="codeph">DROP PUBLIC DATABASE LINK</code> statement. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">DROP PUBLIC DATABASE LINK sales.us.example.com;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-DD468613-ACB3-4B9E-9F3A-3C320E1A9C12" title="You can drop a database link just as you can drop a table or view. If the link is private, then it must be in your schema. If the link is public, then you must have the DROP PUBLIC DATABASE LINK system privilege.">Dropping Database Links</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12172"></a><div class="props_rev_3"><a id="GUID-C0E3F49F-0874-437D-8135-E5BF9CE8702A" name="GUID-C0E3F49F-0874-437D-8135-E5BF9CE8702A"></a><h4 id="ADMIN-GUID-C0E3F49F-0874-437D-8135-E5BF9CE8702A" class="sect4"><span class="enumeration_section">32.4.3 </span>Limiting the Number of Active Database Link Connections
                  </h4>
                  <div>
                     <p>You can limit the number of connections from a user process to remote databases using the static initialization parameter <code class="codeph">OPEN_LINKS</code>.
                     </p>
                     <div class="section">
                        <p>This parameter controls the number of remote connections that a single user session can use concurrently in distributed transactions.</p>
                        <p>Note the following considerations for setting this parameter:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The value should be greater than or equal to the number of databases referred to in a single SQL statement that references multiple databases. </p>
                           </li>
                           <li>
                              <p>Increase the value if several distributed databases are accessed over time. Thus, if you regularly access three databases, set <code class="codeph">OPEN_LINKS</code> to 3 or greater.
                              </p>
                           </li>
                           <li>
                              <p>The default value for <code class="codeph">OPEN_LINKS</code> is 4. If <code class="codeph">OPEN_LINKS</code> is set to 0, then no distributed transactions are allowed. 
                              </p>
                              <div class="infoboxnotealso" id="GUID-C0E3F49F-0874-437D-8135-E5BF9CE8702A__GUID-5FD9893B-5A11-4EFE-816F-9F68D8AF22B0">
                                 <p class="notep1">See Also:</p>
                                 <p> <a href="../refrn/OPEN_LINKS.html#REFRN10138" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">OPEN_LINKS</code> initialization parameter
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-7B0C4627-4473-4313-88D5-FD03CA42D9EA" title="Managing database links includes tasks such as closing them, dropping them, and limiting the number of active connections to them.">Managing Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12173"></a><div class="props_rev_3"><a id="GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" name="GUID-D7B3AB7D-8862-4504-AA46-596D222119BD"></a><h3 id="ADMIN-GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" class="sect3"><span class="enumeration_section">32.5 </span>Viewing Information About Database Links
               </h3>
               <p>The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA">Determining Which Links Are in the Database</a><br>A set of views shows the database links that have been defined at the local database and stored in the data dictionary.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-B3C75167-CB91-47CC-AD13-67FE9657613D">Determining Which Link Connections Are Open</a><br>You may find it useful to determine which database link connections are currently open in your session.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-46A62148-945D-4587-A754-BF6A3A9FD581">Determining the Host of Outgoing Database Links</a><br>You can use the <code class="codeph">RESOLVE_TNSNAME</code> function in the <code class="codeph">DBMS_TNS</code> package to determine the host name of an outgoing database link.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-3FA5E206-127C-4A46-9464-47FE6021F33C">Determining Information About Incoming Database Links</a><br>You can use the <code class="codeph">DBA_DB_LINK_SOURCES</code> view to determine information about incoming database links.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-777AF90D-146D-424E-8D7F-55A2CADA1972">Determining the Source of High SCN Activity for Incoming Database Links</a><br> You can use the following views to determine the source of high system change number (SCN) activity for incoming database links: <code class="codeph">DBA_EXTERNAL_SCN_ACTIVITY</code>, <code class="codeph">DBA_DB_LINK_SOURCES</code>, and <code class="codeph">DBA_DB_LINK</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12174"></a><div class="props_rev_3"><a id="GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA" name="GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA"></a><h4 id="ADMIN-GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA" class="sect4"><span class="enumeration_section">32.5.1 </span>Determining Which Links Are in the Database
                  </h4>
                  <div>
                     <p>A set of views shows the database links that have been defined at the local database and stored in the data dictionary.</p>
                     <div class="section">
                        <p>:</p>
                        <div class="tblformal" id="GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA__GUID-C9A84557-ADBC-4673-9B9A-7336E5600B36">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the views used for determining if database links exist. Column 2 lists the purpose of the view." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="37%" id="d307479e3181">View</th>
                                    <th align="left" valign="bottom" width="63%" id="d307479e3184">Purpose</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d307479e3189" headers="d307479e3181 ">
                                       <p><code class="codeph">DBA_DB_LINKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d307479e3189 d307479e3184 ">
                                       <p>Lists all database links in the database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d307479e3197" headers="d307479e3181 ">
                                       <p><code class="codeph">ALL_DB_LINKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d307479e3197 d307479e3184 ">
                                       <p>Lists all database links accessible to the connected user.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d307479e3205" headers="d307479e3181 ">
                                       <p><code class="codeph">USER_DB_LINKS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d307479e3205 d307479e3184 ">
                                       <p>Lists all database links owned by the connected user.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>These data dictionary views contain the same basic information about database links, with some exceptions:</p>
                        <div class="tblformal" id="GUID-81BD7466-495B-4D92-B8E0-C92B0B4441AA__GUID-8B05BE37-1581-41A0-82BD-54E88ED56741">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the view column; column 2 lists the views that contain the column; column 3 is a description of the view column." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d307479e3223">Column</th>
                                    <th align="left" valign="bottom" width="24%" id="d307479e3226">Which Views?</th>
                                    <th align="left" valign="bottom" width="51%" id="d307479e3229">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3234" headers="d307479e3223 ">
                                       <p><code class="codeph">OWNER</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3234 d307479e3226 ">
                                       <p>All except <code class="codeph">USER_*</code></p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3234 d307479e3229 ">
                                       <p>The user who created the database link. If the link is public, then the user is listed as <code class="codeph">PUBLIC</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3251" headers="d307479e3223 ">
                                       <p><code class="codeph">DB_LINK</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3251 d307479e3226 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3251 d307479e3229 ">
                                       <p>The name of the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3263" headers="d307479e3223 ">
                                       <p><code class="codeph">USERNAME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3263 d307479e3226 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3263 d307479e3229 ">
                                       <p>If the link definition includes a fixed user, then this column displays the username of the fixed user. If there is no fixed user, the column is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3278" headers="d307479e3223 ">
                                       <p><code class="codeph">PASSWORD</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3278 d307479e3226 ">
                                       <p>Only <code class="codeph">USER_*</code></p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3278 d307479e3229 ">
                                       <p>Not used. Maintained for backward compatibility only.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3292" headers="d307479e3223 ">
                                       <p><code class="codeph">HOST</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3292 d307479e3226 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3292 d307479e3229 ">
                                       <p>The net service name used to connect to the remote database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d307479e3304" headers="d307479e3223 ">
                                       <p><code class="codeph">CREATED</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d307479e3304 d307479e3226 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3304 d307479e3229 ">
                                       <p>Creation time of the database link.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Any user can query <code class="codeph">USER_DB_LINKS</code> to determine which database links are available to that user. Only those with additional privileges can use the <code class="codeph">ALL_DB_LINKS</code> or <code class="codeph">DBA_DB_LINKS</code> view. 
                        </p>
                        <p>The following script queries the <code class="codeph">DBA_DB_LINKS</code> view to access link information:
                        </p><pre class="oac_no_warn" dir="ltr">COL OWNER FORMAT a10
COL USERNAME FORMAT A8 HEADING "USER"
COL DB_LINK FORMAT A30
COL HOST FORMAT A7 HEADING "SERVICE"
SELECT * FROM DBA_DB_LINKS
/</pre><p>Here, the script is invoked and the resulting output is shown:</p><pre class="oac_no_warn" dir="ltr">SQL&gt;@link_script

OWNER      DB_LINK                        USER     SERVICE CREATED
---------- ------------------------------ -------- ------- ----------
SYS        TARGET.US.EXAMPLE.COM             SYS      inst1   23-JUN-99
PUBLIC     DBL1.UK.EXAMPLE.COM               BLAKE    ora51   23-JUN-99
PUBLIC     RMAN2.US.EXAMPLE.COM                       inst2   23-JUN-99
PUBLIC     DEPT.US.EXAMPLE.COM                        inst2   23-JUN-99
JANE       DBL.UK.EXAMPLE.COM                BLAKE    ora51   23-JUN-99
SCOTT      EMP.US.EXAMPLE.COM                SCOTT    inst2   23-JUN-99
6 rows selected.</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" title="The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.">Viewing Information About Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12175"></a><div class="props_rev_3"><a id="GUID-B3C75167-CB91-47CC-AD13-67FE9657613D" name="GUID-B3C75167-CB91-47CC-AD13-67FE9657613D"></a><h4 id="ADMIN-GUID-B3C75167-CB91-47CC-AD13-67FE9657613D" class="sect4"><span class="enumeration_section">32.5.2 </span>Determining Which Link Connections Are Open
                  </h4>
                  <div>
                     <p>You may find it useful to determine which database link connections are currently open in your session.</p>
                     <div class="section">
                        <p>Note that if you connect as <code class="codeph">SYSDBA</code>, you cannot query a view to determine all the links open for all sessions; you can only access the link information in the session within which you are working.
                        </p>
                        <p>The following views show the database link connections that are currently open in your current session:</p>
                        <div class="tblformal" id="GUID-B3C75167-CB91-47CC-AD13-67FE9657613D__GUID-14040BA0-1E54-45AE-AFFB-3172D05131BB">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the name of the view. Column 2 explains the purpose of the view." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="37%" id="d307479e3397">View</th>
                                    <th align="left" valign="bottom" width="63%" id="d307479e3400">Purpose</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d307479e3405" headers="d307479e3397 ">
                                       <p><code class="codeph">V$DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d307479e3405 d307479e3400 ">
                                       <p>Lists all open database links in your session, that is, all database links with the <code class="codeph">IN_TRANSACTION</code> column set to <code class="codeph">YES</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d307479e3419" headers="d307479e3397 ">
                                       <p><code class="codeph">GV$DBLINK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d307479e3419 d307479e3400 ">
                                       <p>Lists all open database links in your session along with their corresponding instances. This view is useful in an Oracle Real Application Clusters configuration.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>These data dictionary views contain the same basic information about database links, with one exception:</p>
                        <div class="tblformal" id="GUID-B3C75167-CB91-47CC-AD13-67FE9657613D__GUID-68E45D15-22CD-47D0-9E62-F028EC0BFBAD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the view column; column 2 lists the views that contain the column; column 3 is a description of the view column." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d307479e3437">Column</th>
                                    <th align="left" valign="bottom" width="25%" id="d307479e3440">Which Views?</th>
                                    <th align="left" valign="bottom" width="51%" id="d307479e3443">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3448" headers="d307479e3437 ">
                                       <p><code class="codeph">DB_LINK</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3448 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3448 d307479e3443 ">
                                       <p>The name of the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3460" headers="d307479e3437 ">
                                       <p><code class="codeph">OWNER_ID</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3460 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3460 d307479e3443 ">
                                       <p>The owner of the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3472" headers="d307479e3437 ">
                                       <p><code class="codeph">LOGGED_ON</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3472 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3472 d307479e3443 ">
                                       <p>Whether the database link is currently logged on.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3484" headers="d307479e3437 ">
                                       <p><code class="codeph">HETEROGENEOUS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3484 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3484 d307479e3443 ">
                                       <p>Whether the database link is homogeneous (<code class="codeph">NO</code>) or heterogeneous (<code class="codeph">YES</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3502" headers="d307479e3437 ">
                                       <p><code class="codeph">PROTOCOL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3502 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3502 d307479e3443 ">
                                       <p>The communication protocol for the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3514" headers="d307479e3437 ">
                                       <p><code class="codeph">OPEN_CURSORS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3514 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3514 d307479e3443 ">
                                       <p>Whether cursors are open for the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3526" headers="d307479e3437 ">
                                       <p><code class="codeph">IN_TRANSACTION</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3526 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3526 d307479e3443 ">
                                       <p>Whether the database link is accessed in a transaction that has not yet been committed or rolled back.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3538" headers="d307479e3437 ">
                                       <p><code class="codeph">UPDATE_SENT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3538 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3538 d307479e3443 ">
                                       <p>Whether there was an update on the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3550" headers="d307479e3437 ">
                                       <p><code class="codeph">COMMIT_POINT_STRENGTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3550 d307479e3440 ">
                                       <p>All</p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3550 d307479e3443 ">
                                       <p>The commit point strength of the transactions using the database link.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d307479e3562" headers="d307479e3437 ">
                                       <p><code class="codeph">INST_ID</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d307479e3562 d307479e3440 ">
                                       <p><code class="codeph">GV$DBLINK</code> only
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="51%" headers="d307479e3562 d307479e3443 ">
                                       <p>The instance from which the view information was obtained.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>For example, you can create and execute the script below to determine which links are open (sample output included):</p><pre class="oac_no_warn" dir="ltr">COL DB_LINK FORMAT A25
COL OWNER_ID FORMAT 99999 HEADING "OWNID"
COL LOGGED_ON FORMAT A5 HEADING "LOGON"
COL HETEROGENEOUS FORMAT A5 HEADING "HETER"
COL PROTOCOL FORMAT A8
COL OPEN_CURSORS FORMAT 999 HEADING "OPN_CUR"
COL IN_TRANSACTION FORMAT A3 HEADING "TXN"
COL UPDATE_SENT FORMAT A6 HEADING "UPDATE"
COL COMMIT_POINT_STRENGTH FORMAT 99999 HEADING "C_P_S"

SELECT * FROM V$DBLINK
/

SQL&gt; @dblink

DB_LINK                   OWNID LOGON HETER PROTOCOL OPN_CUR TXN UPDATE  C_P_S
------------------------- ------ ----- ----- -------- ------- --- ------ ------
INST2.EXAMPLE.COM                 0 YES   YES    UNKN          0 YES YES       255</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" title="The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.">Viewing Information About Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-46A62148-945D-4587-A754-BF6A3A9FD581" name="GUID-46A62148-945D-4587-A754-BF6A3A9FD581"></a><h4 id="ADMIN-GUID-46A62148-945D-4587-A754-BF6A3A9FD581" class="sect4"><span class="enumeration_section">32.5.3 </span>Determining the Host of Outgoing Database Links
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">RESOLVE_TNSNAME</code> function in the <code class="codeph">DBMS_TNS</code> package to determine the host name of an outgoing database link.
                     </p>
                     <div class="section">
                        <p>For outgoing database links, the <code class="codeph">HOST</code> column value in the <code class="codeph">DBA_DB_LINKS</code> view does not resolve the connect data when the database link is created with a connect identifier, such as the network service name.  As a result, a tool that requires any part of the connect data, such as the host name, must check the tnsnames.ora file to find the information.  However, the tnsnames.ora file might not be accessible to the tool.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Connect to the database that contains the outgoing database link as a user who can run subprograms in the <code class="codeph">DBMS_TNS</code> package.</span></li>
                        <li><span> Query the <code class="codeph">DBA_DB_LINKS</code> view.</span></li>
                     </ol>
                     <div class="example" id="GUID-46A62148-945D-4587-A754-BF6A3A9FD581__GUID-EDD03D3C-AAD5-4534-9012-8D6C373D6FF2">
                        <p class="titleinexample">Example 32-1 Determining the Host of Outgoing Database Links</p>
                        <p>This query results show the connect data, including the host name, for each outgoing database link.</p><pre class="pre codeblock"><code>SELECT DB_LINK, DBMS_TNS.RESOLVE_TNSNAME(HOST) FROM DBA_DB_LINKS;</code></pre></div>
                     <!-- class="example" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-46A62148-945D-4587-A754-BF6A3A9FD581__GUID-56D1B52F-83C3-44C4-8093-418C34DC2242">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/ALL_DB_LINKS.html#REFRN20050" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_TNS.html#ARPLS-GUID-E02B17AC-1657-4C16-B311-B4C1593D984B" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">RESOLVE_TNSNAME</code> function
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" title="The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.">Viewing Information About Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3FA5E206-127C-4A46-9464-47FE6021F33C" name="GUID-3FA5E206-127C-4A46-9464-47FE6021F33C"></a><h4 id="ADMIN-GUID-3FA5E206-127C-4A46-9464-47FE6021F33C" class="sect4"><span class="enumeration_section">32.5.4 </span>Determining Information About Incoming Database Links
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">DBA_DB_LINK_SOURCES</code> view to determine information about incoming database links.
                     </p>
                     <div class="section">
                        <p>The database records details about unique connections for incoming database links in a persistent table and the <code class="codeph">DBA_DB_LINK_SOURCES</code> view. You can query this view for information about the incoming connections on database links.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Connect to the database as a user who can query the <code class="codeph">DBA_DB_LINK_SOURCES</code> view.</span></li>
                        <li><span>Query the <code class="codeph">DBA_DB_LINK_SOURCES</code> view.</span></li>
                     </ol>
                     <div class="example" id="GUID-3FA5E206-127C-4A46-9464-47FE6021F33C__GUID-90FAAC74-5FF4-4388-B688-CDCCF745AFA0">
                        <p class="titleinexample">Example 32-2 Querying the DBA_DB_LINK_SOURCES View</p>
                        <p>This example returns the database name and host name of each incoming database link. It also returns the time of the first login and last login to the current database with the database link.</p><pre class="pre codeblock"><code>SELECT DB_NAME, HOST_NAME, FIRST_LOGON_TIME, LAST_LOGON_TIME 
   FROM DBA_DB_LINK_SOURCES;</code></pre></div>
                     <!-- class="example" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3FA5E206-127C-4A46-9464-47FE6021F33C__GUID-11E4E3A1-6AA3-4088-ADE9-62DD1B1DBF3A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/DBA_DB_LINK_SOURCES.html#REFRN-GUID-0E6F0B9A-F816-4791-8DCB-00623DDD7456" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" title="The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.">Viewing Information About Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-777AF90D-146D-424E-8D7F-55A2CADA1972" name="GUID-777AF90D-146D-424E-8D7F-55A2CADA1972"></a><h4 id="ADMIN-GUID-777AF90D-146D-424E-8D7F-55A2CADA1972" class="sect4"><span class="enumeration_section">32.5.5 </span>Determining the Source of High SCN Activity for Incoming Database Links
                  </h4>
                  <div>
                     <p> You can use the following views to determine the source of high system change number (SCN) activity for incoming database links: <code class="codeph">DBA_EXTERNAL_SCN_ACTIVITY</code>, <code class="codeph">DBA_DB_LINK_SOURCES</code>, and <code class="codeph">DBA_DB_LINK</code>.
                     </p>
                     <div class="section">
                        <p>To implement distributed transactions and distributed read consistency in a distributed database environment, databases synchronize SCNs when calls are made over database links. A high SCN increase rate can cause a database to return errors.</p>
                        <p>It is often hard to determine the source of  unusual increases of SCNs that result from distributed database operations. The <code class="codeph">DBA_EXTERNAL_SCN_ACTIVITY</code> view enables you to determine which databases or  clients are causing excessive SCN increases. You join this view in a query with the <code class="codeph">DBA_DB_LINK_SOURCES</code> and <code class="codeph">DBA_DB_LINK</code> views to return the information.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect to the database as a user who can query the <code class="codeph">DBA_EXTERNAL_SCN_ACTIVITY</code>, <code class="codeph">DBA_DB_LINK_SOURCES</code>, and <code class="codeph">DBA_DB_LINK</code> views.</span></li>
                        <li class="stepexpand"><span>Run the following query to show the recent history of SCN increments and their sources:</span><div><pre class="pre codeblock"><code>(SELECT RESULT, OPERATION_TIMESTAMP, EXTERNAL_SCN, SCN_ADJUSTMENT, HOST_NAME, DB_NAME, SESSION_ID, SESSION_SERIAL#
   FROM DBA_EXTERNAL_SCN_ACTIVITY a, DBA_DB_LINK_SOURCES s
   WHERE a.INBOUND_DB_LINK_SOURCE_ID = s.SOURCE_ID)
UNION
(SELECT RESULT, OPERATION_TIMESTAMP, EXTERNAL_SCN, SCN_ADJUSTMENT, dbms_tns.resolve_tnsname(HOST) HOST_NAME, NULL DB_NAME, SESSION_ID, SESSION_SERIAL#
   FROM DBA_EXTERNAL_SCN_ACTIVITY a, DBA_DB_LINKS o
   WHERE a.OUTBOUND_DB_LINK_NAME = o.DB_LINK AND
         a.OUTBOUND_DB_LINK_OWNER = o.OWNER)
UNION
(SELECT RESULT, OPERATION_TIMESTAMP, EXTERNAL_SCN,   SCN_ADJUSTMENT,  s.MACHINE HOST_NAME, NULL DB_NAME, SESSION_ID, SESSION_SERIAL#
   FROM DBA_EXTERNAL_SCN_ACTIVITY a, V$SESSION s
   WHERE a.SESSION_ID = s.SID AND  
         a.SESSION_SERIAL#=s.SERIAL# AND
         INBOUND_DB_LINK_SOURCE_ID IS NULL AND
         OUTBOUND_DB_LINK_NAME IS NULL AND
         OUTBOUND_DB_LINK_OWNER IS NULL);
</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-777AF90D-146D-424E-8D7F-55A2CADA1972__GUID-5088C478-0194-40FE-917E-24EB961132F4">
                           <p class="notep1">Note:</p>
                           <p>If no high SCN activity is recorded in the <code class="codeph">DBA_EXTERNAL_SCN_ACTIVITY</code> view, then this query returns no results.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-777AF90D-146D-424E-8D7F-55A2CADA1972__GUID-17961CDC-1249-467F-A339-0B42E9E43A06">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/DBA_EXTERNAL_SCN_ACTIVITY.html#REFRN-GUID-3DD6460C-D734-4686-870A-DB85877BF890" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-D7B3AB7D-8862-4504-AA46-596D222119BD" title="The data dictionary of each database stores the definitions of all the database links in the database. You can use data dictionary tables and views to gain information about the links.">Viewing Information About Database Links</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12176"></a><div class="props_rev_3"><a id="GUID-691544B4-D838-4715-8D5A-10C7666BC719" name="GUID-691544B4-D838-4715-8D5A-10C7666BC719"></a><h3 id="ADMIN-GUID-691544B4-D838-4715-8D5A-10C7666BC719" class="sect3"><span class="enumeration_section">32.6 </span>Creating Location Transparency
               </h3>
               <p>After you have configured the necessary database links, you can use various tools to hide the distributed nature of the database system from users. In other words, users can access remote objects as if they were local objects.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-1048919D-1449-4D8F-A4C9-9DC47E13577D">Using Views to Create Location Transparency</a><br>Local views can provide location transparency for local and remote tables in a distributed database system.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-FB669981-39AF-4DCA-95DA-568BFB81903A">Using Synonyms to Create Location Transparency</a><br>Synonyms are useful in both distributed and non-distributed environments because they hide the identity of the underlying object, including its location in a distributed database system. If you must rename or move the underlying object, you only need to redefine the synonym; applications based on the synonym continue to function normally. Synonyms also simplify SQL statements for users in a distributed database system.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10">Using Procedures to Create Location Transparency</a><br>PL/SQL program units called <span class="bold">procedures</span> can provide location transparency. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13142"></a><a id="ADMIN12177"></a><div class="props_rev_3"><a id="GUID-1048919D-1449-4D8F-A4C9-9DC47E13577D" name="GUID-1048919D-1449-4D8F-A4C9-9DC47E13577D"></a><h4 id="ADMIN-GUID-1048919D-1449-4D8F-A4C9-9DC47E13577D" class="sect4"><span class="enumeration_section">32.6.1 </span>Using Views to Create Location Transparency
                  </h4>
                  <div>
                     <p>Local views can provide location transparency for local and remote tables in a distributed database system.</p>
                     <div class="section">
                        <p>For example, assume that table <code class="codeph">emp</code> is stored in a local database and table <code class="codeph">dept</code> is stored in a remote database. To make these tables transparent to users of the system, you can create a view in the local database that joins local and remote data: 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE VIEW company AS
   SELECT a.empno, a.ename, b.dname 
   FROM scott.emp a, jward.dept@hq.example.com b 
   WHERE a.deptno = b.deptno; </pre><div class="figure" id="GUID-1048919D-1449-4D8F-A4C9-9DC47E13577D__GUID-AA0EC046-8F1F-4094-ABB2-7030AD92FC8F">
                           <p class="titleinfigure">Figure 32-3  Views and Location Transparency</p><img src="img/admin030.gif" width="558" alt="Description of Figure 32-3 follows" title="Description of Figure 32-3 follows" longdesc="img_text/admin030.html"><br><a href="img_text/admin030.html">Description of "Figure 32-3  Views and Location Transparency"</a></div>
                        <!-- class="figure" -->
                        <p>When users access this view, they do not need to know where the data is physically stored, or if data from more than one table is being accessed. Thus, it is easier for them to get required information. For example, the following query provides data from both the local and remote database table: </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM company; 
</pre><p>The owner of the local view can grant only those object privileges on the local view that have been granted by the remote user. (The remote user is implied by the type of database link). This is similar to privilege management for views that reference local data.<a id="d307479e3987" class="indexterm-anchor"></a><a id="d307479e3991" class="indexterm-anchor"></a><a id="d307479e3995" class="indexterm-anchor"></a><a id="d307479e3999" class="indexterm-anchor"></a><a id="d307479e4003" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-691544B4-D838-4715-8D5A-10C7666BC719" title="After you have configured the necessary database links, you can use various tools to hide the distributed nature of the database system from users. In other words, users can access remote objects as if they were local objects.">Creating Location Transparency</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12178"></a><div class="props_rev_3"><a id="GUID-FB669981-39AF-4DCA-95DA-568BFB81903A" name="GUID-FB669981-39AF-4DCA-95DA-568BFB81903A"></a><h4 id="ADMIN-GUID-FB669981-39AF-4DCA-95DA-568BFB81903A" class="sect4"><span class="enumeration_section">32.6.2 </span>Using Synonyms to Create Location Transparency
                  </h4>
                  <p>Synonyms are useful in both distributed and non-distributed environments because they hide the identity of the underlying object, including its location in a distributed database system. If you must rename or move the underlying object, you only need to redefine the synonym; applications based on the synonym continue to function normally. Synonyms also simplify SQL statements for users in a distributed database system.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-A0273862-9C06-403D-9E26-F1DAAE67DFA3">Creating Synonyms</a><br>All synonyms are schema objects that are stored in the data dictionary of the database in which they are created. To simplify remote table access through database links, a synonym can allow single-word access to remote data, hiding the specific object name and the location from users of the synonym.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-29D782EC-9BC7-47F7-8D84-A57EE9FB68B9">Managing Privileges and Synonyms</a><br>A synonym is a reference to an actual object. A user who has access to a synonym for a particular schema object must also have privileges on the underlying schema object itself.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-691544B4-D838-4715-8D5A-10C7666BC719" title="After you have configured the necessary database links, you can use various tools to hide the distributed nature of the database system from users. In other words, users can access remote objects as if they were local objects.">Creating Location Transparency</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12705"></a><a id="ADMIN12179"></a><div class="props_rev_3"><a id="GUID-A0273862-9C06-403D-9E26-F1DAAE67DFA3" name="GUID-A0273862-9C06-403D-9E26-F1DAAE67DFA3"></a><h5 id="ADMIN-GUID-A0273862-9C06-403D-9E26-F1DAAE67DFA3" class="sect5"><span class="enumeration_section">32.6.2.1 </span>Creating Synonyms
                     </h5>
                     <div>
                        <p>All synonyms are schema objects that are stored in the data dictionary of the database in which they are created. To simplify remote table access through database links, a synonym can allow single-word access to remote data, hiding the specific object name and the location from users of the synonym.</p>
                        <div class="section">
                           <p>You can create synonyms for the following:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Tables</p>
                              </li>
                              <li>
                                 <p>Types</p>
                              </li>
                              <li>
                                 <p>Views</p>
                              </li>
                              <li>
                                 <p>Materialized views</p>
                              </li>
                              <li>
                                 <p>Sequences</p>
                              </li>
                              <li>
                                 <p>Procedures</p>
                              </li>
                              <li>
                                 <p>Functions</p>
                              </li>
                              <li>
                                 <p>Packages</p>
                              </li>
                           </ul>
                           <p>The syntax to create a synonym is: </p><pre class="oac_no_warn" dir="ltr">CREATE [PUBLIC] SYNONYM <span class="italic">synonym_name</span> 
FOR [<span class="italic">schema</span>.]<span class="italic">object_name</span>[@<span class="italic">database_link_name</span>]; 
</pre><p>where:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">PUBLIC</code> is a keyword specifying that this synonym is available to all users. Omitting this parameter makes a synonym private, and usable only by the creator. Public synonyms can be created only by a user with <code class="codeph">CREATE PUBLIC SYNONYM</code> system privilege.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">synonym_name</code></span> specifies the alternate object name to be referenced by users and applications.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">schema</code></span> specifies the schema of the object specified in <span class="italic"><code class="codeph">object_name</code></span>. Omitting this parameter uses the schema of the creator as the schema of the object.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">object_name</code></span> specifies either a table, view, sequence, materialized view, type, procedure, function or package as appropriate.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">database_link_name</code></span> specifies the database link identifying the remote database and schema in which the object specified in <span class="italic"><code class="codeph">object_name</code></span> is located.
                                 </p>
                              </li>
                           </ul>
                           <p>A synonym must be a uniquely named object for its schema. If a schema contains a schema object and a public synonym exists with the same name, then the database always finds the schema object when the user that owns the schema references that name. </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A0273862-9C06-403D-9E26-F1DAAE67DFA3__GUID-E36BC536-372F-426F-ACA9-A2AB48D2422C">Example: Creating a Public Synonym</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Assume that in every database in a distributed database system, a public synonym is defined for the <code class="codeph">scott.emp</code> table stored in the <code class="codeph">hq</code> database: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC SYNONYM emp FOR scott.emp@hq.example.com; 
</pre><p>You can design an employee management application without regard to where the application is used because the location of the table <code class="codeph">scott.emp@hq.example.com</code> is hidden by the public synonyms. SQL statements in the application access the table by referencing the public synonym <code class="codeph">emp</code>. 
                           </p>
                           <p>Furthermore, if you move the <code class="codeph">emp</code> table from the <code class="codeph">hq</code> database to the <code class="codeph">hr</code> database, then you only need to change the public synonyms on the nodes of the system. The employee management application continues to function properly on all nodes. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-FB669981-39AF-4DCA-95DA-568BFB81903A" title="Synonyms are useful in both distributed and non-distributed environments because they hide the identity of the underlying object, including its location in a distributed database system. If you must rename or move the underlying object, you only need to redefine the synonym; applications based on the synonym continue to function normally. Synonyms also simplify SQL statements for users in a distributed database system.">Using Synonyms to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12180"></a><div class="props_rev_3"><a id="GUID-29D782EC-9BC7-47F7-8D84-A57EE9FB68B9" name="GUID-29D782EC-9BC7-47F7-8D84-A57EE9FB68B9"></a><h5 id="ADMIN-GUID-29D782EC-9BC7-47F7-8D84-A57EE9FB68B9" class="sect5"><span class="enumeration_section">32.6.2.2 </span>Managing Privileges and Synonyms
                     </h5>
                     <div>
                        <p>A synonym is a reference to an actual object. A user who has access to a synonym for a particular schema object must also have privileges on the underlying schema object itself.</p>
                        <p>For example, if the user attempts to access a synonym but does not have privileges on the table it identifies, an error occurs indicating that the table or view does not exist. </p>
                        <p>Assume <code class="codeph">scott</code> creates local synonym <code class="codeph">emp</code> as an alias for remote object <code class="codeph">scott.emp@sales.example.com. scott</code> <span class="italic">cannot</span> grant object privileges on the synonym to another local user. <code class="codeph">scott</code> cannot grant local privileges for the synonym because this operation amounts to granting privileges for the remote <code class="codeph">emp</code> table on the <code class="codeph">sales</code> database, which is not allowed. This behavior is different from privilege management for synonyms that are aliases for local tables or views. 
                        </p>
                        <p>Therefore, you cannot manage local privileges when synonyms are used for location transparency. Security for the base object is controlled entirely at the remote node. For example, user <code class="codeph">admin</code> cannot grant object privileges for the <code class="codeph">emp_syn</code> synonym.
                        </p>
                        <p>Unlike a database link referenced in a view or procedure definition, a database link referenced in a synonym is resolved by first looking for a private link owned by the schema in effect at the time the reference to the synonym is parsed. Therefore, to ensure the desired object resolution, it is especially important to specify the schema of the underlying object in the definition of a synonym.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-FB669981-39AF-4DCA-95DA-568BFB81903A" title="Synonyms are useful in both distributed and non-distributed environments because they hide the identity of the underlying object, including its location in a distributed database system. If you must rename or move the underlying object, you only need to redefine the synonym; applications based on the synonym continue to function normally. Synonyms also simplify SQL statements for users in a distributed database system.">Using Synonyms to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12181"></a><div class="props_rev_3"><a id="GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" name="GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10"></a><h4 id="ADMIN-GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" class="sect4"><span class="enumeration_section">32.6.3 </span>Using Procedures to Create Location Transparency   
                  </h4>
                  <p>PL/SQL program units called <span class="bold">procedures</span> can provide location transparency. 
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-5E17CC95-DE6E-4E77-AEA8-C71458A393A6">Using Local Procedures to Reference Remote Data</a><br>Procedures or functions (either standalone or in packages) can contain SQL statements that reference remote data.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-F56417A3-90F0-4E1A-B938-0D96D312428B">Using Local Procedures to Call Remote Procedures</a><br>You can use a local procedure to call a remote procedure. The remote procedure can then execute the required DML.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-BD7A9AC7-9CFE-42E1-9738-9CBE96D1F9AB">Using Local Synonyms to Reference Remote Procedures</a><br>You can use a local synonym to reference a remote procedure.
                        </li>
                        <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-91E6578C-CD27-4174-AA7A-1BB0C02C6233">Managing Procedures and Privileges</a><br>Assume a local procedure includes a statement that references a remote table or view. The owner of the local procedure can grant the <code class="codeph">execute</code> privilege to any user, thereby giving that user the ability to execute the procedure and, indirectly, access remote data.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-691544B4-D838-4715-8D5A-10C7666BC719" title="After you have configured the necessary database links, you can use various tools to hide the distributed nature of the database system from users. In other words, users can access remote objects as if they were local objects.">Creating Location Transparency</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12182"></a><div class="props_rev_3"><a id="GUID-5E17CC95-DE6E-4E77-AEA8-C71458A393A6" name="GUID-5E17CC95-DE6E-4E77-AEA8-C71458A393A6"></a><h5 id="ADMIN-GUID-5E17CC95-DE6E-4E77-AEA8-C71458A393A6" class="sect5"><span class="enumeration_section">32.6.3.1 </span>Using Local Procedures to Reference Remote Data
                     </h5>
                     <div>
                        <p>Procedures or functions (either standalone or in packages) can contain SQL statements that reference remote data.</p>
                        <div class="section">
                           <p>For example, consider the procedure created by the following statement: </p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE fire_emp (enum NUMBER) AS 
BEGIN 
  DELETE FROM emp@hq.example.com 
  WHERE empno = enum;
END; 
</pre><p>When a user or application calls the <code class="codeph">fire_emp</code> procedure, it is not apparent that a remote table is being modified. 
                           </p>
                           <p>A second layer of location transparency is possible when the statements in a procedure indirectly reference remote data using local procedures, views, or synonyms. For example, the following statement defines a local synonym: </p><pre class="oac_no_warn" dir="ltr">CREATE SYNONYM emp FOR emp@hq.example.com; 
</pre><p>Given this synonym, you can create the <code class="codeph">fire_emp</code> procedure using the following statement: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE fire_emp (enum NUMBER) AS 
BEGIN 
  DELETE FROM emp WHERE empno = enum; 
END; 
</pre><p>If you rename or move the table <code class="codeph">emp@hq</code>, then you only need to modify the local synonym that references the table. None of the procedures and applications that call the procedure require modification. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" title="PL/SQL program units called procedures can provide location transparency.">Using Procedures to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12183"></a><div class="props_rev_3"><a id="GUID-F56417A3-90F0-4E1A-B938-0D96D312428B" name="GUID-F56417A3-90F0-4E1A-B938-0D96D312428B"></a><h5 id="ADMIN-GUID-F56417A3-90F0-4E1A-B938-0D96D312428B" class="sect5"><span class="enumeration_section">32.6.3.2 </span>Using Local Procedures to Call Remote Procedures
                     </h5>
                     <div>
                        <p>You can use a local procedure to call a remote procedure. The remote procedure can then execute the required DML.</p>
                        <div class="section">
                           <p>For example, assume that <code class="codeph">scott</code> connects to <code class="codeph">local_db</code> and creates the following procedure: 
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT scott@local_db

CREATE PROCEDURE fire_emp (enum NUMBER) 
AS 
BEGIN 
  EXECUTE term_emp@hq.example.com;
END; 
</pre><p>Now, assume that <code class="codeph">scott</code> connects to the remote database and creates the remote procedure:
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT scott@hq.example.com

CREATE PROCEDURE term_emp (enum NUMBER) 
AS 
BEGIN 
  DELETE FROM emp WHERE empno = enum;
END;
</pre><p>When a user or application connected to <code class="codeph">local_db</code> calls the <code class="codeph">fire_emp</code> procedure, this procedure in turn calls the remote <code class="codeph">term_emp</code> procedure on <code class="codeph">hq.example.com</code>. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" title="PL/SQL program units called procedures can provide location transparency.">Using Procedures to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12184"></a><div class="props_rev_3"><a id="GUID-BD7A9AC7-9CFE-42E1-9738-9CBE96D1F9AB" name="GUID-BD7A9AC7-9CFE-42E1-9738-9CBE96D1F9AB"></a><h5 id="ADMIN-GUID-BD7A9AC7-9CFE-42E1-9738-9CBE96D1F9AB" class="sect5"><span class="enumeration_section">32.6.3.3 </span>Using Local Synonyms to Reference Remote Procedures
                     </h5>
                     <div>
                        <p>You can use a local synonym to reference a remote procedure.</p>
                        <div class="section">
                           <p>For example, <code class="codeph">scott</code> connects to the local <code class="codeph">sales.example.com</code> database and creates the following procedure: 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE PROCEDURE fire_emp (enum NUMBER) AS 
BEGIN 
DELETE FROM emp@hq.example.com 
WHERE empno = enum; 
END; 
</pre><p>User <code class="codeph">peggy</code> then connects to the <code class="codeph">supply.example.com</code> database and creates the following synonym for the procedure that <code class="codeph">scott</code> created on the remote <code class="codeph">sales</code> database:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT peggy@supply
SQL&gt; CREATE PUBLIC SYNONYM emp FOR scott.fire_emp@sales.example.com; 
</pre><p>A local user on <code class="codeph">supply</code> can use this synonym to execute the procedure on <code class="codeph">sales</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" title="PL/SQL program units called procedures can provide location transparency.">Using Procedures to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12185"></a><div class="props_rev_3"><a id="GUID-91E6578C-CD27-4174-AA7A-1BB0C02C6233" name="GUID-91E6578C-CD27-4174-AA7A-1BB0C02C6233"></a><h5 id="ADMIN-GUID-91E6578C-CD27-4174-AA7A-1BB0C02C6233" class="sect5"><span class="enumeration_section">32.6.3.4 </span>Managing Procedures and Privileges
                     </h5>
                     <div>
                        <p>Assume a local procedure includes a statement that references a remote table or view. The owner of the local procedure can grant the <code class="codeph">execute</code> privilege to any user, thereby giving that user the ability to execute the procedure and, indirectly, access remote data.
                        </p>
                        <p></p>
                        <p>In general, procedures aid in security. Privileges for objects referenced within a procedure do not need to be explicitly granted to the calling users. </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-CFD412E2-5856-4323-9D64-AFE63DF07B10" title="PL/SQL program units called procedures can provide location transparency.">Using Procedures to Create Location Transparency</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN12706"></a><a id="ADMIN12186"></a><div class="props_rev_3"><a id="GUID-C2AF35B6-3650-469A-A802-DC3CD712B796" name="GUID-C2AF35B6-3650-469A-A802-DC3CD712B796"></a><h3 id="ADMIN-GUID-C2AF35B6-3650-469A-A802-DC3CD712B796" class="sect3"><span class="enumeration_section">32.7 </span>Managing Statement Transparency
               </h3>
               <div>
                  <p>In a distributed database, some SQL statements can reference remote tables.</p>
                  <p>The database allows the following standard DML statements to reference remote tables:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">SELECT</code> (queries)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">INSERT</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">UPDATE</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DELETE</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SELECT...FOR UPDATE</code> (not always supported in Heterogeneous Systems)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LOCK TABLE</code> 
                        </p>
                     </li>
                  </ul>
                  <p>Queries including joins, aggregates, subqueries, and <code class="codeph">SELECT...FOR UPDATE</code> can reference any number of local and remote tables and views. For example, the following query joins information from two remote tables: 
                  </p><pre class="oac_no_warn" dir="ltr">SELECT e.empno, e.ename, d.dname 
  FROM scott.emp@sales.division3.example.com e, jward.dept@hq.example.com d 
  WHERE e.deptno = d.deptno; 
</pre><p>In a homogeneous environment, <code class="codeph">UPDATE</code>, <code class="codeph">INSERT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">LOCK TABLE</code> statements can reference both local and remote tables. No programming is necessary to update remote data. For example, the following statement inserts new rows into the remote table <code class="codeph">emp</code> in the <code class="codeph">scott.sales</code> schema by selecting rows from the <code class="codeph">emp</code> table in the <code class="codeph">jward</code> schema in the local database: 
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO scott.emp@sales.division3.example.com 
  SELECT * FROM jward.emp;</pre><div class="section">
                     <p class="subhead2" id="GUID-C2AF35B6-3650-469A-A802-DC3CD712B796__GUID-B870EEAB-149C-4F9D-B15B-6A7BD92C8613">Restrictions for Statement Transparency:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Several restrictions apply to statement transparency.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Data manipulation language statements that update objects on a remote non-Oracle Database system cannot reference any objects on the local Oracle Database. For example, a statement such as the following will cause an error to be raised: </p><pre class="oac_no_warn" dir="ltr">INSERT INTO remote_table@link as SELECT * FROM local_table;
</pre></li>
                        <li>
                           <p>Within a single SQL statement, all referenced <code class="codeph">LONG</code> and <code class="codeph">LONG RAW</code> columns, sequences, updated tables, and locked tables must be located at the same node.
                           </p>
                        </li>
                        <li>
                           <p>The database does not allow remote DDL statements (for example, <code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, and <code class="codeph">DROP</code>) in homogeneous systems except through remote execution of procedures of the <code class="codeph">DBMS_SQL</code> package, as in this example:
                           </p><pre class="oac_no_warn" dir="ltr">DBMS_SQL.PARSE@link_name(crs, 'drop table emp', v7);
</pre><p>Note that in Heterogeneous Systems, a pass-through facility lets you execute DDL.</p>
                        </li>
                        <li>
                           <p>The <code class="codeph">LIST CHAINED ROWS</code> clause of an <code class="codeph">ANALYZE</code> statement cannot reference remote tables.
                           </p>
                        </li>
                        <li>
                           <p>In a distributed database system, the database always evaluates environmentally-dependent SQL functions such as <code class="codeph">SYSDATE</code>, <code class="codeph">USER</code>, <code class="codeph">UID</code>, and <code class="codeph">USERENV</code> with respect to the local server, no matter where the statement (or portion of a statement) executes.
                           </p>
                           <div class="infoboxnote" id="GUID-C2AF35B6-3650-469A-A802-DC3CD712B796__GUID-6472834F-23AA-48BE-BB46-68EB241A7BD9">
                              <p class="notep1">Note:</p>
                              <p>Oracle Database supports the <code class="codeph">USERENV</code> function for queries only. 
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Several performance restrictions relate to access of remote objects:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Remote views do not have statistical data.</p>
                              </li>
                              <li>
                                 <p>Queries on partitioned tables may not be optimized.</p>
                              </li>
                              <li>
                                 <p>No more than 20 indexes are considered for a remote table.</p>
                              </li>
                              <li>
                                 <p>No more than 20 columns are used for a composite index.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>There is a restriction in the Oracle Database implementation of distributed read consistency that can cause one node to be in the past with respect to another node. In accordance with read consistency, a query may end up retrieving consistent, but out-of-date data. See <span class="q">"<a href="managing-distributed-transactions.html#GUID-195124A5-FF1B-40BA-BAF9-CB5272E8BFD3" title="An important restriction exists in the Oracle Database implementation of distributed read consistency.">Managing Read Consistency</a>"</span> to learn how to manage this problem.
                           </p>
                           <div class="infoboxnotealso" id="GUID-C2AF35B6-3650-469A-A802-DC3CD712B796__GUID-7EF100DF-6EBB-4690-988C-90CD14FC51C1">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_SQL.html#ARPLS058" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQL</code> package
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN12187"></a><div class="props_rev_3"><a id="GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" name="GUID-F6668F20-03A5-4817-A618-9B308C27FE3E"></a><h3 id="ADMIN-GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" class="sect3"><span class="enumeration_section">32.8 </span>Managing a Distributed Database: Examples
               </h3>
               <p>Examples illustrate managing database links.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-6F2CD9A1-7A46-4AE5-9B77-65038F5D38DA">Example 1: Creating a Public Fixed User Database Link</a><br>An example illustrates creating a public fixed user database link.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-79D41291-6093-4941-A7EE-838BDDFC3027">Example 2: Creating a Public Fixed User Shared Database Link</a><br>An example illustrates creating a public fixed user shared database link.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-711C9E53-9A33-4CB1-8EFD-4EE53A314402">Example 3: Creating a Public Connected User Database Link</a><br>An example illustrates creating a public connected user database link.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-D58FA6E8-B3BD-4EB0-8864-9C13C087D023">Example 4: Creating a Public Connected User Shared Database Link</a><br>An example illustrates creating a public connected user shared database link.
                     </li>
                     <li class="ulchildlink"><a href="managing-a-distributed-database.html#GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46">Example 5: Creating a Public Current User Database Link</a><br>An example illustrates creating a public current user database link.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-E9D35ED6-24CA-4F6B-9277-D7F9E6BE3116" title="Managing a distributed database includes tasks such as managing global names, managing database links, and creating location and statement transparency.">Managing a Distributed Database</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12188"></a><div class="props_rev_3"><a id="GUID-6F2CD9A1-7A46-4AE5-9B77-65038F5D38DA" name="GUID-6F2CD9A1-7A46-4AE5-9B77-65038F5D38DA"></a><h4 id="ADMIN-GUID-6F2CD9A1-7A46-4AE5-9B77-65038F5D38DA" class="sect4"><span class="enumeration_section">32.8.1 </span>Example 1: Creating a Public Fixed User Database Link
                  </h4>
                  <div>
                     <p>An example illustrates creating a public fixed user database link.</p>
                     <div class="section">
                        <p>The following statements connect to the local database as <code class="codeph">jane</code> and create a public fixed user database link to database <code class="codeph">sales</code> for <code class="codeph">scott</code>. The database is accessed through its net service name <code class="codeph">sldb</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT jane@local

CREATE PUBLIC DATABASE LINK sales.division3.example.com
  CONNECT TO scott IDENTIFIED BY <span class="italic">password</span>
  USING 'sldb';
</pre><p>After executing these statements, any user connected to the local database can use the <code class="codeph">sales.division3.example.com</code> database link to connect to the remote database. Each user connects to the schema <code class="codeph">scott</code> in the remote database. 
                        </p>
                        <p>To access the table <code class="codeph">emp</code> table in <code class="codeph">scott</code>'s remote schema, a user can issue the following SQL query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp@sales.division3.example.com;
</pre><p>Note that each application or user session creates a separate connection to the common account on the server. The connection to the remote database remains open for the duration of the application or user session.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" title="Examples illustrate managing database links.">Managing a Distributed Database: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12189"></a><div class="props_rev_3"><a id="GUID-79D41291-6093-4941-A7EE-838BDDFC3027" name="GUID-79D41291-6093-4941-A7EE-838BDDFC3027"></a><h4 id="ADMIN-GUID-79D41291-6093-4941-A7EE-838BDDFC3027" class="sect4"><span class="enumeration_section">32.8.2 </span>Example 2: Creating a Public Fixed User Shared Database Link
                  </h4>
                  <div>
                     <p>An example illustrates creating a public fixed user shared database link.</p>
                     <div class="section">
                        <p>The following example connects to the local database as <code class="codeph">dana</code> and creates a public link to the <code class="codeph">sales</code> database (using its net service name <code class="codeph">sldb</code>). The link allows a connection to the remote database as <code class="codeph">scott</code> and authenticates this user as <code class="codeph">scott</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT dana@local

CREATE SHARED PUBLIC DATABASE LINK sales.division3.example.com
  CONNECT TO scott IDENTIFIED BY <span class="italic">password</span> 
  AUTHENTICATED BY scott IDENTIFIED BY <span class="italic">password</span>
  USING 'sldb';
</pre><p>Now, any user connected to the local shared server can use this database link to connect to the remote <code class="codeph">sales</code> database through a shared server process. The user can then query tables in the <code class="codeph">scott</code> schema.
                        </p>
                        <p>In the preceding example, each local shared server can establish one connection to the remote server. Whenever a local shared server process must access the remote server through the <code class="codeph">sales.division3.example.com</code> database link, the local shared server process reuses established network connections.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" title="Examples illustrate managing database links.">Managing a Distributed Database: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12190"></a><div class="props_rev_3"><a id="GUID-711C9E53-9A33-4CB1-8EFD-4EE53A314402" name="GUID-711C9E53-9A33-4CB1-8EFD-4EE53A314402"></a><h4 id="ADMIN-GUID-711C9E53-9A33-4CB1-8EFD-4EE53A314402" class="sect4"><span class="enumeration_section">32.8.3 </span>Example 3: Creating a Public Connected User Database Link
                  </h4>
                  <div>
                     <p>An example illustrates creating a public connected user database link.</p>
                     <div class="section">
                        <p>The following example connects to the local database as <code class="codeph">larry</code> and creates a public link to the database with the net service name <code class="codeph">sldb</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT larry@local

CREATE PUBLIC DATABASE LINK redwood
  USING 'sldb';
</pre><p>Any user connected to the local database can use the <code class="codeph">redwood</code> database link. The connected user in the local database who uses the database link determines the remote schema. 
                        </p>
                        <p>If <code class="codeph">scott</code> is the connected user and uses the database link, then the database link connects to the remote schema <code class="codeph">scott</code>. If <code class="codeph">fox</code> is the connected user and uses the database link, then the database link connects to remote schema <code class="codeph">fox</code>.
                        </p>
                        <p>The following statement fails for local user <code class="codeph">fox</code> in the local database when the remote schema <code class="codeph">fox</code> cannot resolve the <code class="codeph">emp</code> schema object. That is, if the <code class="codeph">fox</code> schema in the <code class="codeph">sales.division3.example.com </code>does not have <code class="codeph">emp</code> as a table, view, or (public) synonym, an error will be returned.
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT fox@local

SELECT * FROM emp@redwood;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" title="Examples illustrate managing database links.">Managing a Distributed Database: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12191"></a><div class="props_rev_3"><a id="GUID-D58FA6E8-B3BD-4EB0-8864-9C13C087D023" name="GUID-D58FA6E8-B3BD-4EB0-8864-9C13C087D023"></a><h4 id="ADMIN-GUID-D58FA6E8-B3BD-4EB0-8864-9C13C087D023" class="sect4"><span class="enumeration_section">32.8.4 </span>Example 4: Creating a Public Connected User Shared Database Link
                  </h4>
                  <div>
                     <p>An example illustrates creating a public connected user shared database link.</p>
                     <div class="section">
                        <p>The following example connects to the local database as <code class="codeph">neil</code> and creates a shared, public link to the <code class="codeph">sales</code> database (using its net service name <code class="codeph">sldb</code>). The user is authenticated by the userid/password of <code class="codeph">crazy/horse</code>. The following statement creates a public, connected user, shared database link:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT neil@local

CREATE SHARED PUBLIC DATABASE LINK sales.division3.example.com 
  AUTHENTICATED BY crazy IDENTIFIED BY horse
  USING 'sldb';
</pre><p>Each user connected to the local server can use this shared database link to connect to the remote database and query the tables in the corresponding remote schema.</p>
                        <p>Each local, shared server process establishes one connection to the remote server. Whenever a local server process must access the remote server through the <code class="codeph">sales.division3.example.com</code> database link, the local process reuses established network connections, even if the connected user is a different user. 
                        </p>
                        <p>If this database link is used frequently, eventually every shared server in the local database will have a remote connection. At this point, no more physical connections are needed to the remote server, even if new users use this shared database link. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" title="Examples illustrate managing database links.">Managing a Distributed Database: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12192"></a><div class="props_rev_3"><a id="GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46" name="GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46"></a><h4 id="ADMIN-GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46" class="sect4"><span class="enumeration_section">32.8.5 </span>Example 5: Creating a Public Current User Database Link
                  </h4>
                  <div>
                     <p>An example illustrates creating a public current user database link.</p>
                     <div class="section">
                        <p>The following example connects to the local database as the connected user and creates a public link to the <code class="codeph">sales</code> database (using its net service name <code class="codeph">sldb</code>). The following statement creates a public current user database link:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT bart@local

CREATE PUBLIC DATABASE LINK sales.division3.example.com
  CONNECT TO CURRENT_USER
  USING 'sldb';</pre><div class="infoboxnote" id="GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46__GUID-9EF175D0-0989-4172-BD52-DD3121F59F5D">
                           <p class="notep1">Note:</p>
                           <p>To use this link, the current user must be a global user.</p>
                        </div>
                        <p>The consequences of this database link are as follows:</p>
                        <p>Assume <code class="codeph">scott</code> creates local procedure <code class="codeph">fire_emp</code> that deletes a row from the remote <code class="codeph">emp</code> table, and grants execute privilege on <code class="codeph">fire_emp</code> to <code class="codeph">ford</code>.
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT scott@local_db

CREATE PROCEDURE fire_emp (enum NUMBER) 
AS
BEGIN
   DELETE FROM emp@sales.division3.example.com
   WHERE empno=enum;
END;

GRANT EXECUTE ON fire_emp TO ford;
</pre><p>Now, assume that <code class="codeph">ford</code> connects to the local database and runs <code class="codeph">scott</code>'s procedure:
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT ford@local_db

EXECUTE PROCEDURE scott.fire_emp (enum 10345);
</pre><p>When <code class="codeph">ford</code> executes the procedure <code class="codeph">scott.fire_emp</code>, the procedure runs under <code class="codeph">scott</code>'s privileges. Because a current user database link is used, the connection is established to <code class="codeph">scott</code>'s remote schema, not <code class="codeph">ford</code>'s remote schema. Note that <code class="codeph">scott</code> must be a global user while <code class="codeph">ford</code> does not have to be a global user.
                        </p>
                        <div class="infoboxnote" id="GUID-37EEA10E-5B1C-4745-8AA7-E0FB6BF5AC46__GUID-2D0EBDEA-6865-4066-8C83-0E742A856DE6">
                           <p class="notep1">Note:</p>
                           <p>If a connected user database link were used instead, the connection would be to <code class="codeph">ford</code>'s remote schema. For more information about invoker rights and privileges, see the<a href="../lnpls/plsql-subprograms.html#LNPLS008" target="_blank"><span class="italic"> Oracle Database PL/SQL Language Reference</span></a>.
                           </p>
                        </div>
                        <p>You can accomplish the same result by using a fixed user database link to <code class="codeph">scott</code>'s remote schema.
                        </p><pre class="oac_no_warn" dir="ltr"></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-a-distributed-database.html#GUID-F6668F20-03A5-4817-A618-9B308C27FE3E" title="Examples illustrate managing database links.">Managing a Distributed Database: Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>