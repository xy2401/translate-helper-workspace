<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The UTL_RECOMP package recompiles invalid PL/SQL modules, invalid views, Java classes, indextypes and operators in a database, either sequentially or in parallel.">
      <meta name="description" content="The UTL_RECOMP package recompiles invalid PL/SQL modules, invalid views, Java classes, indextypes and operators in a database, either sequentially or in parallel.">
      <title>UTL_RECOMP</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The UTL_RECOMP package recompiles invalid PL/SQL modules, invalid views, Java classes, indextypes and operators in a database, either sequentially or in parallel.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="UTL_RAW.html" title="Previous" type="text/html">
      <link rel="next" href="UTL_REF.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UTL_RAW.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UTL_REF.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> UTL_RECOMP</li>
            </ol>
            <a id="GUID-157F5E51-48D4-4034-8595-475FE8172B7C" name="GUID-157F5E51-48D4-4034-8595-475FE8172B7C"></a><a id="ARPLS380"></a><a id="ARPLS380"></a>
            
            <h2 id="ARPLS-GUID-157F5E51-48D4-4034-8595-475FE8172B7C" class="sect2"><span class="enumeration_chapter">264 </span> UTL_RECOMP
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The UTL_RECOMP package recompiles invalid PL/SQL modules, invalid views, Java classes, indextypes and operators in a database, either sequentially or in parallel. </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="UTL_RECOMP.html#GUID-2AB98D14-41EB-4A7D-8D60-3D03D1BDF7BF" title="This script is particularly useful after a major-version upgrade that typically invalidates all PL/SQL and Java objects. Although invalid objects are recompiled automatically on use, it is useful to run this script prior to operation because this will either eliminate or minimize subsequent latencies due to on-demand automatic recompilation at runtime.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_RECOMP.html#GUID-F9528CA0-F71D-44CE-9A0F-39FE8E0868B8" title="UTL_RECOMP has several operational notes.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_RECOMP.html#GUID-3E35E949-8B74-47E3-8071-65224E415C08" title="These examples show various ways that UTL_RECOMP can recompile objects.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_RECOMP.html#GUID-7B4EE615-EFC9-49E4-8973-A09F10DD0127" title="This table lists the UTL_RECOMP subprograms and briefly describes them.">Summary of UTL_RECOMP Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS71434"></a><a id="ARPLS71434"></a><div class="props_rev_3"><a id="GUID-2AB98D14-41EB-4A7D-8D60-3D03D1BDF7BF" name="GUID-2AB98D14-41EB-4A7D-8D60-3D03D1BDF7BF"></a><h3 id="ARPLS-GUID-2AB98D14-41EB-4A7D-8D60-3D03D1BDF7BF" class="sect3"><span class="enumeration_section">264.1 </span>UTL_RECOMP Overview
               </h3>
               <div>
                  <p>This script is particularly useful after a major-version upgrade that typically invalidates all PL/SQL and Java objects. Although invalid objects are recompiled automatically on use, it is useful to run this script prior to operation because this will either eliminate or minimize subsequent latencies due to on-demand automatic recompilation at runtime.</p>
                  <div class="section">
                     <p>Parallel recompilation can exploit multiple CPUs to reduce the time taken to recompile invalid objects. The degree of parallelism is specified by the first argument to <a href="UTL_RECOMP.html#GUID-F51E93EF-00BB-4988-8190-16021AD3800C" title="This procedure uses the information exposed in the DBA_Dependencies view to recompile invalid objects in the database, or in a given schema, in parallel.">RECOMP_PARALLEL Procedure</a>.
                     </p>
                     <p>In general, a parallelism setting of one thread for each available CPU provides a good initial setting. However, please note that the process of recompiling an invalid object writes a significant amount of data to system tables and is fairly I/O intensive. A slow disk system may be a significant bottleneck and limit speedups available from a higher degree of parallelism.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71435"></a><a id="ARPLS71435"></a><div class="props_rev_3"><a id="GUID-F9528CA0-F71D-44CE-9A0F-39FE8E0868B8" name="GUID-F9528CA0-F71D-44CE-9A0F-39FE8E0868B8"></a><h3 id="ARPLS-GUID-F9528CA0-F71D-44CE-9A0F-39FE8E0868B8" class="sect3"><span class="enumeration_section">264.2 </span>UTL_RECOMP Operational Notes
               </h3>
               <div>
                  <p><code class="codeph">UTL_RECOMP</code> has several operational notes. 
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>This package uses the job queue for parallel recompilation.</p>
                        </li>
                        <li>
                           <p>This package must be run using <code class="codeph">SQL*PLUS</code>.
                           </p>
                        </li>
                        <li>
                           <p>You must be connected <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> to run this script.
                           </p>
                        </li>
                        <li>
                           <p>This package expects the following packages to have been created with VALID status:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">STANDARD</code> (<code class="codeph">standard</code>.<code class="codeph">sql</code>)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_STANDARD</code> (<code class="codeph">dbmsstdx</code>.<code class="codeph">sql</code>)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_JOB</code> (<code class="codeph">dbmsjob</code>.<code class="codeph">sql</code>)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_RANDOM (dbmsrand.sql)</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>There should be no other DDL on the database while running entries in this package. Not following this recommendation may lead to deadlocks.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71436"></a><a id="ARPLS71436"></a><div class="props_rev_3"><a id="GUID-3E35E949-8B74-47E3-8071-65224E415C08" name="GUID-3E35E949-8B74-47E3-8071-65224E415C08"></a><h3 id="ARPLS-GUID-3E35E949-8B74-47E3-8071-65224E415C08" class="sect3"><span class="enumeration_section">264.3 </span>UTL_RECOMP Examples
               </h3>
               <div>
                  <p>These examples show various ways that <code class="codeph">UTL_RECOMP</code> can recompile objects.
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Recompile all objects sequentially:</p><pre class="oac_no_warn" dir="ltr">EXECUTE UTL_RECOMP.RECOMP_SERIAL();
</pre></li>
                        <li>
                           <p>Recompile objects in schema <code class="codeph">SCOTT</code> sequentially:
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE UTL_RECOMP.RECOMP_SERIAL('SCOTT');
</pre></li>
                        <li>
                           <p>Recompile all objects using 4 parallel threads:</p><pre class="oac_no_warn" dir="ltr">EXECUTE UTL_RECOMP.RECOMP_PARALLEL(4);
</pre></li>
                        <li>
                           <p>Recompile objects in schema JOE using the number of threads specified in the parameter <code class="codeph">JOB_QUEUE_PROCESSES</code>:
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE UTL_RECOMP.RECOMP_PARALLEL(NULL, 'JOE');</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71437"></a><a id="ARPLS71438"></a><a id="ARPLS71438"></a><a id="ARPLS71437"></a><div class="props_rev_3"><a id="GUID-7B4EE615-EFC9-49E4-8973-A09F10DD0127" name="GUID-7B4EE615-EFC9-49E4-8973-A09F10DD0127"></a><h3 id="ARPLS-GUID-7B4EE615-EFC9-49E4-8973-A09F10DD0127" class="sect3"><span class="enumeration_section">264.4 </span>Summary of UTL_RECOMP Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">UTL_RECOMP</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-7B4EE615-EFC9-49E4-8973-A09F10DD0127__GUID-A62E8E55-942D-4EF1-A327-49AACFDE85CC">
                     <p class="titleintable">Table 264-1 <span class="italic"><span class="bold"> UTL_RECOMP Package Subprograms</span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title=" UTL_RECOMP Package Subprograms" summary="This table lists the UTL_RECOMP subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d1524142e605">Subprogram</th>
                              <th align="left" valign="bottom" width="68%" id="d1524142e608">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1524142e613" headers="d1524142e605 ">
                                 <p><a href="UTL_RECOMP.html#GUID-F51E93EF-00BB-4988-8190-16021AD3800C" title="This procedure uses the information exposed in the DBA_Dependencies view to recompile invalid objects in the database, or in a given schema, in parallel.">RECOMP_PARALLEL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1524142e613 d1524142e608 ">
                                 <p>Recompiles invalid objects in a given schema, or all invalid objects in the database, in parallel</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d1524142e628" headers="d1524142e605 ">
                                 <p><a href="UTL_RECOMP.html#GUID-25640990-2370-4D04-8B4A-9D81F06F55F7" title="This procedure recompiles invalid objects in a given schema or all invalid objects in the database.">RECOMP_SERIAL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d1524142e628 d1524142e608 ">
                                 <p>Recompiles invalid objects in a given schema or all invalid objects in the database</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS71439"></a><a id="ARPLS71440"></a><a id="ARPLS71440"></a><a id="ARPLS71439"></a><div class="props_rev_3"><a id="GUID-F51E93EF-00BB-4988-8190-16021AD3800C" name="GUID-F51E93EF-00BB-4988-8190-16021AD3800C"></a><h4 id="ARPLS-GUID-F51E93EF-00BB-4988-8190-16021AD3800C" class="sect4"><span class="enumeration_section">264.4.1 </span>RECOMP_PARALLEL Procedure
                  </h4>
                  <div>
                     <p>This procedure uses the information exposed in the <code class="codeph">DBA_Dependencies</code> view to recompile invalid objects in the database, or in a given schema, in parallel.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F51E93EF-00BB-4988-8190-16021AD3800C__GUID-7660E1D5-DF6D-4DAA-BF1F-2908D861001F">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_RECOMP.RECOMP_PARALLEL(
   threads  IN   PLS_INTEGER DEFAULT NULL,
   schema   IN   VARCHAR2    DEFAULT NULL,
   flags    IN   PLS_INTEGER DEFAULT 0);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F51E93EF-00BB-4988-8190-16021AD3800C__GUID-C9CB5729-7416-471B-B806-3199673AC1F3">Parameters</p>
                        <div class="tblformal" id="GUID-F51E93EF-00BB-4988-8190-16021AD3800C__GUID-F3B7E902-00F5-440D-ADC2-B268E0737046">
                           <p class="titleintable">Table 264-2 RECOMP_PARALLEL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECOMP_PARALLEL Procedure Parameters" summary="This table describes the Parameters of the UTL_RECOMP.RECOMP_PARALLEL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1524142e752">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1524142e755">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1524142e760" headers="d1524142e752 ">
                                       <p><code class="codeph">threads</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1524142e760 d1524142e755 ">
                                       <p>The number of recompile threads to run in parallel. If <code class="codeph">NULL</code>, use the value of '<code class="codeph">job_queue_processes</code>'.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1524142e774" headers="d1524142e752 ">
                                       <p><code class="codeph">schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1524142e774 d1524142e755 ">
                                       <p>The schema in which to recompile invalid objects. If <code class="codeph">NULL</code>, all invalid objects in the database are recompiled.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1524142e785" headers="d1524142e752 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1524142e785 d1524142e755 ">
                                       <p>Flag values are intended for internal testing and diagnosability only.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F51E93EF-00BB-4988-8190-16021AD3800C__GUID-0CDF53E8-EF71-4044-A7D9-C150706282A9">Usage Notes</p>
                        <p>The parallel recompile exploits multiple CPUs to reduce the time taken to recompile invalid objects. However, please note that recompilation writes significant amounts of data to system tables, so the disk system may be a bottleneck and prevent significant speedups.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71441"></a><a id="ARPLS71442"></a><a id="ARPLS71442"></a><a id="ARPLS71441"></a><div class="props_rev_3"><a id="GUID-25640990-2370-4D04-8B4A-9D81F06F55F7" name="GUID-25640990-2370-4D04-8B4A-9D81F06F55F7"></a><h4 id="ARPLS-GUID-25640990-2370-4D04-8B4A-9D81F06F55F7" class="sect4"><span class="enumeration_section">264.4.2 </span>RECOMP_SERIAL Procedure
                  </h4>
                  <div>
                     <p>This procedure recompiles invalid objects in a given schema or all invalid objects in the database.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-25640990-2370-4D04-8B4A-9D81F06F55F7__GUID-1192B67D-001F-443B-A4B9-7A1DE8BE94F7">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_RECOMP.RECOMP_SERIAL(
   schema   IN   VARCHAR2    DEFAULT NULL,
   flags    IN   PLS_INTEGER DEFAULT 0);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25640990-2370-4D04-8B4A-9D81F06F55F7__GUID-EE2E4A99-0789-463E-986E-8D9F79AB8004">Parameters</p>
                        <div class="tblformal" id="GUID-25640990-2370-4D04-8B4A-9D81F06F55F7__GUID-4B6CCB5C-2250-4AA7-9505-8D0790958B4B">
                           <p class="titleintable">Table 264-3 RECOMP_SERIAL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECOMP_SERIAL Procedure Parameters" summary="This table describes the Parameters of the UTL_RECOMP.RECOMP_SERIAL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1524142e908">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1524142e911">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1524142e916" headers="d1524142e908 ">
                                       <p><code class="codeph">schema</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1524142e916 d1524142e911 ">
                                       <p>The schema in which to recompile invalid objects. If <code class="codeph">NULL</code>, all invalid objects in the database are recompiled.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1524142e927" headers="d1524142e908 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1524142e927 d1524142e911 ">
                                       <p>Flag values are intended for internal testing and diagnosability only.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>