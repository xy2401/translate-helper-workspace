<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PERCENTILE_DISC</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PERCENTILE_CONT.html" title="Previous" type="text/html">
      <link rel="next" href="POWER.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PERCENTILE_CONT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="POWER.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PERCENTILE_DISC </li>
            </ol>
            <a id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005" name="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005"></a><a id="SQLRF51610"></a><a id="SQLRF51611"></a><a id="SQLRF51612"></a><a id="SQLRF51613"></a><a id="SQLRF00688"></a>
            
            <h2 id="SQLRF-GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005" class="sect2">PERCENTILE_DISC </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-F9DB86BE-28C4-482D-A878-70B7D8984494">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-2B74745D-5CFB-4E47-B490-8EC73941D9E6"><img src="img/percentile_disc.gif" alt="Description of percentile_disc.eps follows" title="Description of percentile_disc.eps follows" longdesc="img_text/percentile_disc.html"><br><a href="img_text/percentile_disc.html">Description of the illustration percentile_disc.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-05ACF23C-2A34-46BF-B084-BB81134BC839">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">Analytic Functions</a>"</span> for information on syntax, semantics, and restrictions of the <code class="codeph">OVER</code> clause
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-C72796E0-2DE3-4FE2-8209-542480C6A235">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">PERCENTILE_DISC</code> is an inverse distribution function that assumes a discrete distribution model. It takes a percentile value and a sort specification and returns an element from the set. Nulls are ignored in the calculation. 
                  </p>
                  <p>This function takes as an argument any numeric data type or any nonnumeric data type that can be implicitly converted to a numeric data type. The function returns the same data type as the numeric data type of the argument.</p>
                  <div class="infoboxnotealso" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-66A7C4DF-B9E0-4801-9390-E6CB03028223">
                     <p class="notep1">See Also:</p>
                     <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="This matrix lists the data types in the first column and in the header cell for each subsequent column. An X in a cell indicates implicit conversion of the data types named in the header of that column and column 1 of that row.">Table 2-8</a> for more information on implicit conversion
                     </p>
                  </div>
                  <p>The first <span class="italic"><code class="codeph">expr</code></span> must evaluate to a numeric value between 0 and 1, because it is a percentile value. This expression must be constant within each aggregate group. The <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause takes a single expression that can be of any type that can be sorted.
                  </p>
                  <p>For a given percentile value <code class="codeph">P</code>, <code class="codeph">PERCENTILE_DISC</code> sorts the values of the expression in the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause and returns the value with the smallest <code class="codeph">CUME_DIST</code> value (with respect to the same sort specification) that is greater than or equal to <code class="codeph">P</code>. 
                  </p>
                  <div class="infoboxnote" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-4B16E0F6-DCC3-4002-960C-D51BF7E42838">
                     <p class="notep1">Note:</p>
                     <p>Before processing a large amount of data with the <code class="codeph">PERCENTILE_DISC</code> function, consider using one of the following methods to obtain approximate results more quickly than exact results:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Set the <code class="codeph">APPROX_FOR_PERCENTILE</code> initialization parameter to <code class="codeph">PERCENTILE_DISC</code> or <code class="codeph">ALL</code> before using the <code class="codeph">PERCENTILE_DISC</code> function. Refer to <a href="../refrn/APPROX_FOR_PERCENTILE.html#REFRN-GUID-3872A78C-9B3F-457C-AD28-4E86F71AE74D" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information on this parameter.
                           </p>
                        </li>
                        <li>
                           <p>Use the <code class="codeph">APPROX_PERCENTILE</code> function instead of the <code class="codeph">PERCENTILE_DISC</code> function. Refer to <a href="APPROX_PERCENTILE.html#GUID-70D54091-EE2F-4283-A10B-1AB5A1242FE2">APPROX_PERCENTILE</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-FAAFE7A7-6B15-47FD-8964-60588C91EAF9">Aggregate Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>See aggregate example for <a href="PERCENTILE_CONT.html#GUID-CA259452-A565-41B3-A4F4-DD74B66CEDE0">PERCENTILE_CONT</a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005__GUID-8D16883D-2701-48C9-ACFC-8CB4639A7DFF">Analytic Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example calculates the median discrete percentile of the salary of each employee in the sample table <code class="codeph">hr.employees</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, salary, department_id,
       PERCENTILE_DISC(0.5) WITHIN GROUP (ORDER BY salary DESC)
         OVER (PARTITION BY department_id) "Percentile_Disc",
       CUME_DIST() OVER (PARTITION BY department_id 
         ORDER BY salary DESC) "Cume_Dist"
  FROM employees
  WHERE department_id in (30, 60)
  ORDER BY last_name, salary, department_id;

LAST_NAME                     SALARY DEPARTMENT_ID Percentile_Disc  Cume_Dist
------------------------- ---------- ------------- --------------- ----------
Austin                          4800            60            4800         .8
Baida                           2900            30            2900         .5
Colmenares                      2500            30            2900          1
Ernst                           6000            60            4800         .4
Himuro                          2600            30            2900 .833333333
Hunold                          9000            60            4800         .2
Khoo                            3100            30            2900 .333333333
Lorentz                         4200            60            4800          1
Pataballa                       4800            60            4800         .8
Raphaely                       11000            30            2900 .166666667
Tobias                          2800            30            2900 .666666667
</pre><p>The median value for Department 30 is 2900, which is the value whose corresponding percentile (<code class="codeph">Cume_Dist</code>) is the smallest value greater than or equal to 0.5. The median value for Department 60 is 4800, which is the value whose corresponding percentile is the smallest value greater than or equal to 0.5.
                  </p>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>