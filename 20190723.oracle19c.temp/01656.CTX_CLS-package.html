<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CTX_CLS Package</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96278-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CTX_ANL-package.html" title="Previous" type="text/html">
      <link rel="next" href="CTX_DDL-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference">
    <meta name="dcterms.isVersionOf" content="CCREF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_ANL-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CTX_DDL-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> CTX_CLS Package </li>
            </ol>
            <a id="GUID-44681511-E147-4380-87C2-08465E59DE28" name="GUID-44681511-E147-4380-87C2-08465E59DE28"></a><a id="CCREF1500"></a>
            
            <h2 id="CCREF-GUID-44681511-E147-4380-87C2-08465E59DE28" class="sect2"><span class="enumeration_chapter">7 </span> CTX_CLS Package 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter contains the following topics.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-97D05E53-0620-4BC4-B419-54B05A82F678">About CTX_CLS Package Procedures</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F">TRAIN</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_CLS-package.html#GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3">CLUSTERING</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678" name="GUID-97D05E53-0620-4BC4-B419-54B05A82F678"></a><h3 id="CCREF-GUID-97D05E53-0620-4BC4-B419-54B05A82F678" class="sect3"><span class="enumeration_section">7.1 </span>About CTX_CLS Package Procedures
               </h3>
               <div>
                  <p>The <code class="codeph">CTX_CLS</code> PL/SQL package provides procedures for generating rules that define document categories, and enables you to perform document classification.
                  </p>
                  <p></p>
                  <p>The following procedures are in the <code class="codeph">CTX_CLS</code> PL/SQL package.
                  </p>
                  <div class="tblformal" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-8E191283-E871-4666-9EBC-05520659C47A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes CTX_CLS Package Procedures." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d80497e158">Name</th>
                              <th align="left" valign="bottom" width="71%" id="d80497e162">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e167" headers="d80497e158 ">
                                 <p><a href="CTX_CLS-package.html#GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F">TRAIN</a></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d80497e167 d80497e162 ">
                                 <p>Generates rules that define document categories. Output based on input training document set.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e176" headers="d80497e158 ">
                                 <p><a href="CTX_CLS-package.html#GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3">CLUSTERING</a></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d80497e176 d80497e162 ">
                                 <p>Generates clusters for a document collection.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e185" headers="d80497e158 "><a href="CTX_CLS-package.html#GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" title="Use this procedure to train a sentiment classifier. You must provide a training set consisting of categorized documents to train the sentiment classifier. Documents can be in any format supported by Oracle Text and must belong to one or more categories.">SA_TRAIN_MODEL</a></td>
                              <td align="left" valign="top" width="71%" headers="d80497e185 d80497e162 ">Trains a sentiment classifier.</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d80497e194" headers="d80497e158 "><a href="CTX_CLS-package.html#GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" title="Use this procedure to drop an existing sentiment classifier.">SA_DROP_MODEL</a></td>
                              <td align="left" valign="top" width="71%" headers="d80497e194 d80497e162 ">Drops an existing sentiment classifier.</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-FEF107EA-06BD-4D47-AF74-C25522C94A74">
                     <p class="notep1">Note:</p>
                     <p>The APIs in the <code class="codeph">CTX_CLS</code> package do not support identifiers that are prefixed with the schema or the owner name.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-97D05E53-0620-4BC4-B419-54B05A82F678__GUID-97C254CC-ECAC-409D-8796-2A23C4B3CCE8">
                     <p class="notep1">See Also:</p>
                     <p><a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for more information on document classification
                     </p>
                  </div>
               </div>
            </div><a id="CCREF2097"></a><div class="props_rev_3"><a id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F" name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F"></a><h3 id="CCREF-GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F" class="sect3"><span class="enumeration_section">7.2 </span>TRAIN
               </h3>
               <div>
                  <div class="section">
                     <p>Use this procedure to generate query rules that select document categories. You must supply a training set consisting of categorized documents. Documents can be in any format supported by Oracle Text and must belong to one or more categories. This procedure generates the queries that define the categories and then writes the results to a table.</p>
                     <p>You must also have a document table and a category table. The category table must contain at least two categories. </p>
                     <p>For example, your document and category tables can be defined as:</p><pre class="oac_no_warn" dir="ltr">create table trainingdoc(</pre><pre class="oac_no_warn" dir="ltr">docid number primary key,
text varchar2(4000));
</pre><pre class="oac_no_warn" dir="ltr">create table category (</pre><pre class="oac_no_warn" dir="ltr">docid trainingdoc(docid),
categoryid number);
</pre><p>You can use one of two syntaxes depending on the classification algorithm you need. The query compatible syntax uses the <code class="codeph">RULE_CLASSIFIER</code> preference and generates rules as query strings. The <span class="italic">Support Vector Machine syntax</span> uses the <code class="codeph">SVM_CLASSIFER</code> preference and generates rules in binary format. The <code class="codeph">SVM_CLASSIFIER</code> is good for high classification accuracy, but because its rules are generated in binary format, they cannot be examined like the query strings generated with the <code class="codeph">RULE_CLASSIFIER</code>. Note that only those document ids that appear in both the document table and the category table will impact <code class="codeph">RULE_CLASSIFIER</code> and <code class="codeph">SVM_CLASSIFIER</code> learning.
                     </p>
                     <p>The <code class="codeph">CTX_CLS.TRAIN</code> procedure requires that your document table have an associated context index. For best results, the index should be synchronized before running this procedure. <code class="codeph">SVM_CLASSIFIER</code> syntax enables the use of an unpopulated context index, while query-compatible syntax requires that the context index be populated.
                     </p>
                     <div class="infoboxnote" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-5DB04990-0F93-4FF8-957B-DF406FA0A965">
                        <p class="notep1">Note:</p>
                        <p>When downgrading the database, you must drop any models that were created in Oracle Database 12<span class="italic">c</span> Release 2 (12.2) using <code class="codeph">TRAIN</code>. These models are not compatible with earlier releases. The following error occurs if the models are not dropped before the downgrade: ORA-40350: One or more models exist that cannot be downgraded.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-3AB28254-FB23-4534-871F-24A6B3222C66">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for more on document classification
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-2FFAB449-F80A-492C-BE29-10391B5B6B4D">Query Compatible Syntax</p>
                     <p>The following syntax generates query-compatible rules and is used with the <a href="oracle-text-indexing-elements.html#GUID-AFF1EFBE-CC4F-4394-9353-35542C52D6B3">RULE_CLASSIFIER</a> preference. Use this syntax and preference when different categories are separated from others by several key words. An advantage of generating your rules as query strings is that you can easily examine the generated rules. This is different from generating SVM rules, which are in binary format.
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.TRAIN(</pre><pre class="oac_no_warn" dir="ltr">index_name    in varchar2,
docid         in varchar2,
cattab        in varchar2,
catdocid      in varchar2,
catid         in varchar2,
restab        in varchar2,
rescatid      in varchar2,
resquery      in varchar2,
resconfid     in varchar2,
preference    in varchar2 DEFAULT NULL</pre><pre class="oac_no_warn" dir="ltr">);</pre><dl>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-7D8807D5-CFDA-4865-9CF4-19B76BDEA279">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the context index associated with your document training set.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-FC128559-C30F-4235-A514-B58D5B74281C">
                              <!-- --></a>docid
                        </dt>
                        <dd>
                           <p>Specify the name of the document ID column in the document table. The document IDs in this column must be unique, and this column must be of datatype <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-FAE513B4-EAFB-4F34-A542-FAC57E15949B">
                              <!-- --></a>cattab
                        </dt>
                        <dd>
                           <p>Specify the name of the category table. You must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on this table. (See <a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG992" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about the <code class="codeph">READ</code> privilege.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B627FB04-1196-48AC-AA00-DE6685813575">
                              <!-- --></a>catdocid
                        </dt>
                        <dd>
                           <p>Specify the name of the document ID column in the category table. The document IDs in this table must also exist in the document table. This column must be a <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-532EE42C-1523-4EAF-A6B3-1A3562F504DD">
                              <!-- --></a>catid 
                        </dt>
                        <dd>
                           <p>Specify the name of the category ID column in the category table. This column must be a <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B6ECE53E-2155-433E-BC27-ACBE9C529CCD">
                              <!-- --></a>restab 
                        </dt>
                        <dd>
                           <p>Specify the name of the result table. You must have <code class="codeph">INSERT</code> privilege on this table.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-7AB41FFD-FD02-4107-B28C-B1782A9077C4">
                              <!-- --></a>rescatid 
                        </dt>
                        <dd>
                           <p>Specify the name of the category ID column in the result table. This column must be a <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0-4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-2B74E3D7-AEEC-407B-AD08-4AEFE8C840D2">
                              <!-- --></a>resquery 
                        </dt>
                        <dd>
                           <p>Specify the name of the query column in the result table. This column must be <code class="codeph">VARACHAR2</code>, <code class="codeph">CHAR,</code> <code class="codeph">CLOB</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">NCHAR</code>.
                           </p>
                           <p>The queries generated in this column connects terms with <code class="codeph">AND</code> or <code class="codeph">NOT</code> operators, such as:
                           </p><pre class="oac_no_warn" dir="ltr">'T1 &amp; T2 ~ T3'
</pre><p>Terms can also be theme tokens and be connected with the <code class="codeph">ABOUT</code> operator, such as:
                           </p><pre class="oac_no_warn" dir="ltr">'about(T1) &amp; about(T2) ~ about(T3)'
</pre><p>Generated rules also support <code class="codeph">WITHIN</code> queries on field sections.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-11B7DF17-13D3-4A22-B7E4-B41934A1E75F">
                              <!-- --></a>resconfid
                        </dt>
                        <dd>
                           <p>Specify the name of the confidence column in result table. This column contains the estimated probability from training data that a document is relevant if that document satisfies the query.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-B35DE8B8-C184-4BD9-9BA7-B2B3C3784773">
                              <!-- --></a>preference
                        </dt>
                        <dd>
                           <p>Specify the name of the preference. For classifier types and attributes, see <span class="q">"<a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.">Classifier Types</a>"</span> in <a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.Starting with Oracle Database Release 18c, the indexed token maximum size is increased to 255 characters for single-byte character sets."> Oracle Text Indexing Elements</a>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-E72BE7CF-3BED-4865-951A-18F5E17E5F9D">Syntax for Support Vector Machine (SVM) Rules</p>
                     <p>The Support Vector Machine, or SVM, rules preference generates rules in binary format. Use this syntax when your application requires high classification accuracy. </p>
                     <p>The following syntax generates Support Vector Machine (SVM) rules with the <a href="oracle-text-indexing-elements.html#GUID-28CC450D-2DDF-4444-8BFD-A730B59A19DD">SVM_CLASSIFIER</a> preference. 
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.TRAIN(
    index_name in varchar2,    
    docid      in varchar2,         
    cattab     in varchar2, 
    catdocid   in varchar2, 
    catid      in varchar2,  
    restab     in varchar2,  
    preference in varchar2 );</pre><dl>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-4D08DFCB-1C15-4B1E-B52F-F14DD5789ACE">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the text index.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-96D15098-A98C-4D74-9D0B-E99F20A92F9E">
                              <!-- --></a>docid
                        </dt>
                        <dd>
                           <p>Specify the name of <code class="codeph">docid</code> column in document table.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-E569D6E2-2F24-49EB-A676-9FBE79C53F35">
                              <!-- --></a>cattab
                        </dt>
                        <dd>
                           <p>Specify the name of category table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-C89B7503-9983-41BF-A44D-8F6DE1058DA2">
                              <!-- --></a>catdocid
                        </dt>
                        <dd>
                           <p>Specify the name of <code class="codeph">docid</code> column in category table.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-660264E2-31F5-4ABF-900F-B75F66787EF6">
                              <!-- --></a>catid
                        </dt>
                        <dd>
                           <p>Specify the name of category ID column in category table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-8123FC7B-4CBB-47C4-841D-551D2820BD73">
                              <!-- --></a>restab
                        </dt>
                        <dd>
                           <p>Specify the name of result table.</p>
                           <p>The result table has the following format:</p>
                           <div class="tblformal" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-8E9ED9C2-772C-4D25-9744-5DCC85A0F947">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes result table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="32%" id="d80497e594">Column Name</th>
                                       <th align="left" valign="bottom" width="32%" id="d80497e597">Datatype</th>
                                       <th align="left" valign="bottom" width="36%" id="d80497e600">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e605" headers="d80497e594 ">
                                          <p><code class="codeph">CAT_ID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e605 d80497e597 ">
                                          <p><code class="codeph">NUMBER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e605 d80497e600 ">
                                          <p>The ID of the category.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e617" headers="d80497e594 ">
                                          <p><code class="codeph">TYPE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e617 d80497e597 ">
                                          <p><code class="codeph">NUMBER(3) NOT NULL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e617 d80497e600 ">
                                          <p>0 for the actual rule or catid; 1 for other.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="32%" id="d80497e629" headers="d80497e594 ">
                                          <p><code class="codeph">RULE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d80497e629 d80497e597 ">
                                          <p><code class="codeph">BLOB</code></p>
                                       </td>
                                       <td align="left" valign="top" width="36%" headers="d80497e629 d80497e600 ">
                                          <p>The returned rule.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-33379416-936B-4C56-AD2E-C2328BDD862B">
                              <!-- --></a>preference
                        </dt>
                        <dd>
                           <p>Specify the name of user preference. For classifier types and attributes, see <span class="q">"<a href="oracle-text-indexing-elements.html#GUID-33498DE0-DC96-4D98-B2BC-26DC49147DC5" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.">Classifier Types</a>"</span> in <a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.Starting with Oracle Database Release 18c, the indexed token maximum size is increased to 255 characters for single-byte character sets."> Oracle Text Indexing Elements</a>.
                           </p>
                        </dd>
                     </dl>
                     <div class="infoboxnote" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-1F1731E3-53E5-4F6D-B5A8-1441E7416829">
                        <p class="notep1">Note:</p>
                        <p>Column names must not be prefixed by the owner, schema or table name.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCD1B865-2904-4E00-8A0D-33DC3ACA397F__GUID-AD3FB2FD-A202-475D-B5BE-94C87D07C551">Example</p>
                     <p>The <code class="codeph">CTX_CLS.TRAIN</code> procedure is used in supervised classification. For an extended example, see <a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2098"></a><div class="props_rev_3"><a id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3" name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3"></a><h3 id="CCREF-GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3" class="sect3"><span class="enumeration_section">7.3 </span>CLUSTERING
               </h3>
               <div>
                  <div class="section">
                     <p>Use this procedure to cluster a collection of documents. <a id="d80497e773" class="indexterm-anchor"></a>A <span class="italic">cluster</span> is a group of documents similar to each other in content.
                     </p>
                     <p>A clustering result set is composed of <span class="italic">document assignments</span> and <span class="italic">cluster descriptions</span>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A document assignment result set shows how relevant each document is to all generated leaf clusters.    </p>
                        </li>
                        <li>
                           <p>A cluster description result set contains information about what topic a cluster is about. This result set identifies the cluster and contains cluster description text, a suggested cluster label, and a quality score for the cluster.</p>
                        </li>
                     </ul>
                     <p>Cluster output is hierarchical. Only leaf clusters are scored for relevance to documents. Producing more clusters requires more computing time. Indicate the upper limit for generated clusters with the <code class="codeph">CLUSTER_NUM</code> attribute of the <code class="codeph">KMEAN_CLUSTERING</code> cluster type (see <span class="q">"<a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">Cluster Types</a>"</span> in this chapter).
                     </p>
                     <p>There are two versions of this procedure: one with a table result set, and one with an in-memory result set.</p>
                     <p>Clustering is also known as <span class="italic">unsupervised classification</span>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-75571A78-83C7-432C-928D-C41E27B6FF81">
                        <p class="notep1">See Also:</p>
                        <p>For more information about clustering and relevant preferences, see <a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">Cluster Types</a> in <a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.Starting with Oracle Database Release 18c, the indexed token maximum size is increased to 255 characters for single-byte character sets."> Oracle Text Indexing Elements</a>, as well as the <a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-C2AC3F61-1B73-46AE-ACD7-9E4CCEDE5AA0">Syntax: Table Result Set</p><pre class="oac_no_warn" dir="ltr">ctx_cls.clustering (
 index_name  IN VARCHAR2, 
 docid       IN VARCHAR2, 
 doctab_name IN VARCHAR2, 
 clstab_name IN VARCHAR2, 
 pref_name   IN VARCHAR2  DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-34DE2EE0-C0F0-4C39-AF6E-912197B15A96">
                              <!-- --></a>index_name 
                        </dt>
                        <dd>
                           <p>Specify the name of the context index on collection table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-4AA5DD4D-73B5-4932-A0E4-B2A78CA5CC87">
                              <!-- --></a>docid
                        </dt>
                        <dd>
                           <p>Specify the name of document ID column of the collection table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-1DBBADBB-5B8B-48F5-A5D9-9616D9634914">
                              <!-- --></a>doctab_name
                        </dt>
                        <dd>
                           <p>Specify the name of document assignment table. This procedure creates the table with the following structure:</p><pre class="oac_no_warn" dir="ltr">doc_assign(
   docid number,
   clusterid number,
   score number
);</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-2F5AE0FD-B3BA-4BB5-BD31-9EF84F1AAE07">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes document assignment table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d80497e873">Column</th>
                                       <th align="left" valign="bottom" width="72%" id="d80497e876">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e881" headers="d80497e873 ">
                                          <p><code class="codeph">DOCID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e881 d80497e876 ">
                                          <p>Document ID to identify document.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e889" headers="d80497e873 ">
                                          <p><code class="codeph">CLUSTERID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e889 d80497e876 ">
                                          <p>ID of a leaf cluster associated with this document. If <code class="codeph">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e900" headers="d80497e873 ">
                                          <p><code class="codeph">SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e900 d80497e876 ">
                                          <p>The associated score between the document and the cluster.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>If you require more columns, then create the table before you call this procedure.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-B555C060-9F03-49BB-A595-D3E15E525955">
                              <!-- --></a>clstab_name
                        </dt>
                        <dd>
                           <p>Specify the name of the cluster description table. This procedure creates the table with the following structure:</p><pre class="oac_no_warn" dir="ltr">cluster_desc(
  clusterid NUMBER,
  descript VARCHAR2(4000),
  label VARCHAR2(200),
  sze NUMBER,
  quality_score NUMBER,
  parent NUMBER
);</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-58D16DE1-5B36-4535-BC2B-8196A41494F4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes cluster description table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="29%" id="d80497e925">Column</th>
                                       <th align="left" valign="bottom" width="71%" id="d80497e928">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e933" headers="d80497e925 ">
                                          <p><code class="codeph">CLUSTERID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e933 d80497e928 ">
                                          <p>Cluster ID to identify cluster. If <code class="codeph">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e944" headers="d80497e925 ">
                                          <p><code class="codeph">DESCRIPT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e944 d80497e928 ">
                                          <p>String to describe the cluster.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e952" headers="d80497e925 ">
                                          <p><code class="codeph">LABEL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e952 d80497e928 ">
                                          <p>A suggested label for the cluster.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e960" headers="d80497e925 ">
                                          <p><code class="codeph">SZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e960 d80497e928 ">
                                          <p>This parameter currently has no value.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e968" headers="d80497e925 ">
                                          <p><code class="codeph">QUALITY_SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e968 d80497e928 ">
                                          <p>The quality score of the cluster.  A higher number indicates greater coherence.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="29%" id="d80497e976" headers="d80497e925 ">
                                          <p><code class="codeph">PARENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="71%" headers="d80497e976 d80497e928 ">
                                          <p>The parent cluster ID. Zero means no parent cluster.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>If you require more columns, then create the table before you call this procedure.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-9AB8CD92-1A01-4B87-808C-DB01989B2498">
                              <!-- --></a>pref_name
                        </dt>
                        <dd>
                           <p>Specify the name of the preference.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-C787972A-E1AB-488E-AD88-36048392D225">Syntax: In-Memory Result Set</p>
                     <p>Put the result set into in-memory structures for better performance. Two in-memory tables are defined in <code class="codeph">CTX_CLS</code> package for document assignment and cluster description respectively.
                     </p><pre class="oac_no_warn" dir="ltr">CTX_CLS.CLUSTERING(
  index_name     IN VARCHAR2, 
  docid          IN VARCHAR2,
  dids           IN DOCID_TAB,
  doctab_name    IN OUT NOCOPY DOC_TAB,
  clstab_name    IN OUT NOCOPY CLUSTER_TAB,
  pref_name      IN VARCHAR2  DEFAULT NULL 
          );</pre><dl>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-A726D17F-C164-451F-AD68-F459305C2036">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of context index on the collection table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-05408E09-EA47-4B5F-97EE-D0D3212ADC6D">
                              <!-- --></a>docid
                        </dt>
                        <dd>
                           <p>Specify the document ID column of the collection table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-E71DA671-F986-4DA2-B917-6B020DFA13B5">
                              <!-- --></a>dids
                        </dt>
                        <dd>
                           <p>Specify the name of the in-memory <code class="codeph">docid_tab</code>.
                           </p><pre class="oac_no_warn" dir="ltr">TYPE docid_tab IS TABLE OF number INDEX BY BINARY_INTEGER;</pre></dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-49296F67-22C8-421F-A4EA-F684D29F1938">
                              <!-- --></a>doctab_name
                        </dt>
                        <dd>
                           <p>Specify name of the document assignment in-memory table. This table is defined as follows:</p><pre class="oac_no_warn" dir="ltr">TYPE doc_rec IS RECORD (
   docid NUMBER,
   clusterid NUMBER,
   score NUMBER
)
TYPE doc_tab IS TABLE OF doc_rec INDEX BY BINARY_INTEGER;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-97114A06-FEC7-423E-9259-4D90243E5758">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes document assignment in-memory table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d80497e1041">Column</th>
                                       <th align="left" valign="bottom" width="72%" id="d80497e1044">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1049" headers="d80497e1041 ">
                                          <p><code class="codeph">DOCID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1049 d80497e1044 ">
                                          <p>Document ID to identify document.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1057" headers="d80497e1041 ">
                                          <p><code class="codeph">CLUSTERID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1057 d80497e1044 ">
                                          <p>ID of a leaf cluster associated with this document. If <code class="codeph">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d80497e1068" headers="d80497e1041 ">
                                          <p><code class="codeph">SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d80497e1068 d80497e1044 ">
                                          <p>The associated score between the document and the cluster.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-FD11D484-AA33-4E86-B7CD-42313F36EC2E">
                              <!-- --></a>cls_tab
                        </dt>
                        <dd>
                           <p>Specify the name of cluster description in-memory table.</p><pre class="oac_no_warn" dir="ltr">TYPE cluster_rec IS RECORD(
     clusterid NUMBER,
     descript VARCHAR2(4000),
     label VARCHAR2(200),
     sze NUMBER,
     quality_score NUMBER,
     parent NUMBER
);
TYPE cluster_tab IS TABLE OF cluster_rec INDEX BY BINARY_INTEGER;</pre><div class="tblformal" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-FF9E3F5A-E53A-468B-BF29-BF43D341BE10">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes cluster description in-memory table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="27%" id="d80497e1091">Column</th>
                                       <th align="left" valign="bottom" width="73%" id="d80497e1094">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1099" headers="d80497e1091 ">
                                          <p><code class="codeph">CLUSTERID</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1099 d80497e1094 ">
                                          <p>Cluster ID to identify cluster. If <code class="codeph">CLUSTERID</code> is -1, then the cluster contains "miscellaneous" documents; for example, documents that cannot be assigned to any other cluster category.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1110" headers="d80497e1091 ">
                                          <p><code class="codeph">DESCRIPT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1110 d80497e1094 ">
                                          <p>String to describe the cluster.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1118" headers="d80497e1091 ">
                                          <p><code class="codeph">LABEL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1118 d80497e1094 ">
                                          <p>A suggested label for the cluster.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1126" headers="d80497e1091 ">
                                          <p><code class="codeph">SZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1126 d80497e1094 ">
                                          <p>This parameter currently has no value.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1134" headers="d80497e1091 ">
                                          <p><code class="codeph">QUALITY_SCORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1134 d80497e1094 ">
                                          <p>The quality score of the cluster. A higher number indicates greater coherence.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="27%" id="d80497e1142" headers="d80497e1091 ">
                                          <p><code class="codeph">PARENT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="73%" headers="d80497e1142 d80497e1094 ">
                                          <p>The parent cluster ID. Zero means no parent cluster.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                        <dt class="dlterm"><a name="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-5F7D8AC0-B303-4793-9D6C-EE52CCF43CB0">
                              <!-- --></a>pref_name
                        </dt>
                        <dd>
                           <p>Specify the name of the preference. For cluster types and attributes, see <a href="oracle-text-indexing-elements.html#GUID-D1154175-31AA-45F0-9002-6349824650C5">Cluster Types</a> in <a href="oracle-text-indexing-elements.html#GUID-22680996-89CF-4666-89E6-BE8B9431DB02" title="Use the SENTIMENT_CLASSIFIER type to create a preference for sentiment analysis queries. This classifier specifies preferences associated with a user-defined sentiment classifier preference. You must define a preference of this type before you use the CTX_CLS.SA_TRAIN_MODEL procedure to train the user-defined sentiment classifier.Starting with Oracle Database Release 18c, the indexed token maximum size is increased to 255 characters for single-byte character sets."> Oracle Text Indexing Elements</a>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-03541668-FBCD-4FA4-BCB5-6AEB65617444">Example</p>
                     <div class="infoboxnotealso" id="GUID-E3D9A1E3-CDC8-4532-ABD3-87C0FF87FBE3__GUID-EB5F5473-FF70-4CB9-977E-FA15B5407AB6">
                        <p class="notep1">See Also:</p>
                        <p>The <a href="../ccapp/classifying-documents-in-oracle-text.html#CCAPP0600" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for an example of using clustering
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D"></a><h3 id="CCREF-GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D" class="sect3"><span class="enumeration_section">7.4 </span>SA_TRAIN_MODEL
               </h3>
               <div>
                  <p>Use this procedure to train a sentiment classifier. You must provide a training set consisting of categorized documents to train the sentiment classifier. Documents can be in any format supported by Oracle Text and must belong to one or more categories. </p>
                  <div class="section">
                     <p></p>
                     <p>Oracle Text first validates the training set table and the categories that are provided. Features extracted from the training set documents are used to train the sentiment classifier. A rule table is created and populated with rules that are generated after the sentiment classifier is trained. The sentiment classifier uses these rules to perform sentiment analysis. The <code class="codeph">CTXRULE</code> index on the rule table is also built.
                     </p>
                     <div class="infoboxnote" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-EA1E506A-9121-43CC-ACDF-22DB6AA03DE2">
                        <p class="notep1">Note:</p>
                        <p>When downgrading the database, you must drop any models that were created in Oracle Database 12<span class="italic">c</span> Release 2 (12.2) using <code class="codeph">SA_TRAIN_MODEL</code>. These models are not compatible with earlier releases. The following error occurs if the models are not dropped before the downgrade: ORA-40350: One or more models exist that cannot be downgraded. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-1DC6F0FC-80FD-4779-A26A-342D41CF5D20">Syntax</p><pre class="pre codeblock"><code>SA_TRAIN_MODEL(
    clsfier_name IN VARCHAR2,
    index_name IN VARCHAR2,
    docid IN VARCHAR2,
    cattab IN VARCHAR2,
    cat_docid IN VARCHAR2,
    catid IN VARCHAR2,
    pref_name IN VARCHAR2
);

</code></pre><dl class="0.63* 3.37*">
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB">
                              <!-- --></a><span class="bold">clsfier_name</span></dt>
                        <dd>
                           <p>Specify the name of the sentiment classifier that must be trained. The maximum length of the sentiment classifier name is 24 bytes. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-F744F062-4F26-4D51-B35E-EFF7BB56130C">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of text index associated with the document training set. This is a <code class="codeph">CONTEXT</code> index that must be created on the training data before the sentiment classifier is trained.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-BB1F17A0-C69F-44E4-B473-BF94D750190D">
                              <!-- --></a>docid
                        </dt>
                        <dd>
                           <p>Specify the name of the document ID column in the document training set. The document IDs in this column must be unique, and this column must be of data type <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0 to 4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-C5351C8F-383C-4BB5-B519-4934749AB4BA">
                              <!-- --></a>cattab
                        </dt>
                        <dd>
                           <p>Specify the name of the category table that contains the true labels for the training set documents. This table should contain the<code class="codeph"> docid</code> to <code class="codeph">catid</code> mappings for training the sentiment classifier.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-5BDD9548-F165-40F9-8C2E-2AB6E0A39461">
                              <!-- --></a>catdocid
                        </dt>
                        <dd>
                           <p>Specify the name of document ID column in the category table. The document IDs in this table must also exist in the document table. This column must be a <code class="codeph">NUMBER</code>. The values for this column must be stored in an unsigned 32-bit integer and must be in the range 0 to 4294967295.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-D944D434-0C43-4797-B796-ECDC1073BB7F">
                              <!-- --></a>catid
                        </dt>
                        <dd>Specify the name of the category ID column in the category table. This column must be a <code class="codeph">NUMBER</code>. The values for this column can be either 0, 1, or 2. 0 stands for neutral, 1 stands for positive, and 2 stands for negative.
                        </dd>
                        <dt class="dlterm"><a name="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-287D5F04-B9C7-4E0E-ABA9-A7B7ABFA0907">
                              <!-- --></a>pref_name
                        </dt>
                        <dd>Specify the name of sentiment classifier preference, of type <code class="codeph">SENTIMENT_CLASSIFIER</code>, which is used to train the sentiment classifier. If no name is provided, then the default sentiment classifier, <code class="codeph">CTXSYS.DEFAULT_SENT_CLASSIFIER</code>, is used.
                        </dd>
                     </dl>
                     <div class="infoboxnotealso" id="GUID-DACF815B-1797-4DAD-85B5-C156BF22D76D__GUID-760845F4-544E-4734-8EDD-A924DC954267">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccapp/performing-sentiment-analysis-using-oracle-text.html#CCAPP-GUID-7F1B2D64-7F7F-436F-81D3-7C8D18E956BE" target="_blank"><span><cite>Oracle Text Application Developer's Guide</cite></span></a> for an example of using the <code class="codeph">SA_TRAIN_MODEL</code> procedure
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" name="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C"></a><h3 id="CCREF-GUID-60011629-F9A4-435F-B7FA-66EB6661E39C" class="sect3"><span class="enumeration_section">7.5 </span>SA_DROP_MODEL
               </h3>
               <div>
                  <p>Use this procedure to drop an existing sentiment classifier. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C__GUID-DACEF22A-A28D-415B-AD94-4002E9F2911B">Syntax</p>
                     <p></p><pre class="pre codeblock"><code>SA_DROP_MODEL(
   clsfier_name IN VARCHAR2
);
</code></pre><dl>
                        <dt class="dlterm"><a name="GUID-60011629-F9A4-435F-B7FA-66EB6661E39C__GUID-AE3E4981-AE17-4875-9707-D8C570CE26EB">
                              <!-- --></a>clsfier_name
                        </dt>
                        <dd>
                           <p>Specify the name of the sentiment classifier that must be dropped.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>