<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CHANGE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CATALOG.html" title="Previous" type="text/html">
      <link rel="next" href="CONFIGURE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CATALOG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CONFIGURE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-at-sign-to-quit.html" property="item" typeof="WebPage"><span property="name"> RMAN Commands: @ (at sign) to QUIT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CHANGE</li>
            </ol>
            <a id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2" name="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2"></a><a id="RCMRF90056"></a><a id="RCMRF90057"></a><a id="RCMRF90058"></a><a id="RCMRF90059"></a><a id="RCMRF90060"></a><a id="RCMRF90061"></a><a id="RCMRF90062"></a><a id="RCMRF90063"></a><a id="RCMRF90064"></a><a id="RCMRF90065"></a><a id="RCMRF90066"></a><a id="RCMRF90067"></a><a id="RCMRF90068"></a><a id="RCMRF90069"></a><a id="RCMRF90070"></a><a id="RCMRF110"></a>
            
            <h2 id="RCMRF-GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2" class="sect2"><span class="enumeration_section">2.8 </span>CHANGE
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-5CB27913-6874-427C-90F7-D023DA8C23BE">Purpose</p>
                  <p>Use the <code class="codeph">CHANGE</code> command to perform the following tasks:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Update the availability status of backups and copies recorded in the RMAN repository</p>
                     </li>
                     <li>
                        <p>Change the priority of or close failures recorded in the automatic diagnostic repository</p>
                     </li>
                     <li>
                        <p>Update the <code class="codeph">DB_UNIQUE_NAME</code> recorded in the recovery catalog for the target database
                        </p>
                     </li>
                     <li>
                        <p>Associate the backup of a database in a Data Guard environment with a different database in the environment</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="infoboxnotealso" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-7A310409-B6A4-4259-A33B-E4CBBA47CB55">
                  <p class="notep1">See Also:</p>
                  <p><a href="../bradv/maintaining-rman-backups.html#BRADV8173" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> to change the availability status of a backup or copy
                  </p>
               </div>
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-F65C7F9E-AECC-4ACD-B948-19F1330ADF98">Prerequisites</p>
                  <p>RMAN must be connected as <code class="codeph">TARGET</code> to a database instance, which must be started.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-01A5B3DF-6CCF-488F-B029-0F2B6B9B0691">Usage Notes</p>
                  <p><span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD">RMAN Backups in a Data Guard Environment</a>"</span> explains the difference between the association and accessibility of a backup. In a Data Guard environment, the database that creates a backup or copy is associated with the file. You can use maintenance commands such as <code class="codeph">CHANGE</code>, <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>, and <code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code> for backups when connected to any database in the Data Guard environment if the backups are accessible. In general, RMAN considers tape backups created on any database as accessible to all databases in the environment, whereas disk backups are accessible only to the database that created them. 
                  </p>
                  <p>For example, suppose that you connect RMAN as <code class="codeph">TARGET</code> to standby database <code class="codeph">standby1</code> and back it up to tape and disk. If the tape drive becomes unavailable, then you can connect RMAN as <code class="codeph">TARGET</code> to any primary or standby database in the Data Guard environment to change the status of the tape backup to <code class="codeph">UNAVAILABLE</code>. After the tape drive is repaired, you can connect RMAN as <code class="codeph">TARGET</code> to any database to change the status of the tape backup back to <code class="codeph">AVAILABLE</code>. However, if the disk backup is accidentally removed by an operating system utility, then RMAN can only change the status of the disk backup when connected as <code class="codeph">TARGET</code> to <code class="codeph">standby1</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-CE8C6B00-322A-41FF-800B-3E3245956315">Syntax</p>
                  <p><span class="bold"><span class="italic">change</span>::=</span></p>
                  <div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-2DA8C741-34BB-4D19-91EE-48300CE8E2F4"><img src="img/change.gif" alt="Description of change.eps follows" title="Description of change.eps follows" longdesc="img_text/change.html"><br><a href="img_text/change.html">Description of the illustration change.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEJJII">maintSpec::=</a></span>, <span class="italic"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE__BABBBGBC">forDbUniqueNameOption::=</a></span>, <span class="italic"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B__BABGDGCC">keepOption::=</a></span>, <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>)
                  </p>
                  <p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEJJII"><a id="d25527e250" class="indexterm-anchor"></a><a id="d25527e254" class="indexterm-anchor"></a><span class="bold"><span class="italic">maintSpec</span>::=</span></p>
                  <div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-C58C5A51-A340-4709-BBCA-BB6B5D764CC3"><img src="img/maintspec.gif" alt="Description of maintspec.eps follows" title="Description of maintspec.eps follows" longdesc="img_text/maintspec.html"><br><a href="img_text/maintspec.html">Description of the illustration maintspec.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374__BABBEIIJ">listObjList::=</a></span>, <span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier::=</a></span>, <span class="italic"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F__BABEEGAJ">maintQualifier::=</a></span>, <span class="italic"><a href="recordSpec.html#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14__BABEIAEB">recordSpec::=</a></span>, <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>)
                  </p>
                  <p><a id="d25527e288" class="indexterm-anchor"></a><a id="d25527e292" class="indexterm-anchor"></a><span class="bold"><span class="italic">forDbUniqueNameOption</span>::=</span></p>
                  <div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-3B9E4370-8966-4E1B-9C7A-35D1B374C97F"><img src="img/fordbuniquenameoption.gif" alt="Description of fordbuniquenameoption.eps follows" title="Description of fordbuniquenameoption.eps follows" longdesc="img_text/fordbuniquenameoption.html"><br><a href="img_text/fordbuniquenameoption.html">Description of the illustration fordbuniquenameoption.eps</a></div>
                  <!-- class="figure" -->
                  <p><a id="d25527e304" class="indexterm-anchor"></a><a id="d25527e308" class="indexterm-anchor"></a><span class="bold"><span class="italic">resetDbUniqueNameOption</span>::=</span></p>
                  <div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-1E6EEBAA-4994-4C8F-9155-7DD95FA03E2B"><img src="img/resetdbuniquenameoption.gif" alt="Description of resetdbuniquenameoption.eps follows" title="Description of resetdbuniquenameoption.eps follows" longdesc="img_text/resetdbuniquenameoption.html"><br><a href="img_text/resetdbuniquenameoption.html">Description of the illustration resetdbuniquenameoption.eps</a></div>
                  <!-- class="figure" -->
                  <p><a id="d25527e321" class="indexterm-anchor"></a><a id="d25527e325" class="indexterm-anchor"></a><span class="bold"><span class="italic">changeFailure</span>::=</span></p>
                  <div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-5793F7BA-1593-4A4C-942B-61AFD01781D5"><img src="img/changefailure.gif" alt="Description of changefailure.eps follows" title="Description of changefailure.eps follows" longdesc="img_text/changefailure.html"><br><a href="img_text/changefailure.html">Description of the illustration changefailure.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-04891294-707B-4FF9-94AA-FC1BA766046D">Semantics</p>
                  <p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDDBFA"><span class="bold"><span class="italic">change</span></span></p>
                  <p>This clause enables you to change the status of RMAN repository records. To obtain the primary keys of RMAN repository records whose status you want to change, run a <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> command or query the recovery catalog views.
                  </p>
                  <div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-B9B45BD1-C6C5-412D-831E-35CB401D8B61">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes CHANGE command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d25527e358">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d25527e361">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e366" headers="d25527e358 ">
                                 <p><code class="codeph">PREPLUGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e366 d25527e361 ">
                                 <p></p>
                                 <p>Specifies the preplugin files that you want to <code class="codeph">CHANGE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e378" headers="d25527e358 ">
                                 <p><span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e378 d25527e361 ">
                                 <p>Specifies which files you want to <code class="codeph">CHANGE</code>.
                                 </p>
                                 <p></p>
                                 <p>The <span class="italic"><code class="codeph"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F">maintQualifier</a></code></span> clause sets rules for the repository records that must be changed. To change the status of repository records associated with PDBs that were dropped, use the <code class="codeph">GUID</code> clause to specify the GUID of the dropped PDB. The <code class="codeph">dba_pdb_history</code> view contains the GUID of dropped PDBs.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> for descriptions of the options in this clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e417" headers="d25527e358 ">
                                 <p><span class="italic"><code class="codeph">&nbsp;&nbsp;&nbsp;<a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e417 d25527e361 ">
                                 <p>Changes the metadata for objects that are exclusively associated with the specified <code class="codeph">DB_UNIQUE_NAME</code> in a Data Guard environment.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span> for descriptions of the options in this clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e442" headers="d25527e358 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;AVAILABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e442 d25527e361 ">
                                 <p><a id="d25527e448" class="indexterm-anchor"></a><a id="d25527e450" class="indexterm-anchor"></a><a id="d25527e454" class="indexterm-anchor"></a><a id="d25527e458" class="indexterm-anchor"></a>Changes the status of a backup or copy to <code class="codeph">AVAILABLE</code> in the repository. RMAN searches for the file and verifies that it exists.
                                 </p>
                                 <p>This feature is useful when a previously unavailable file is made available again. You can also use this option to alter the repository status of backups and copies from prior incarnations.</p>
                                 <p>This is the only <code class="codeph">CHANGE</code> option that requires either a manual or automatic maintenance channel. A maintenance channel is not required, however, when <code class="codeph">CHANGE ... AVAILABLE</code> is used with a file that is disk only (that is, an <code class="codeph">ARCHIVELOG</code>, <code class="codeph">DATAFILECOPY</code>, or <code class="codeph">CONTROLFILECOPY</code>). If you use <code class="codeph">CHANGE ... AVAILABLE</code> on files that are not disk-only, and have objects created on device types that are not configured for automatic channels, then issue manual maintenance commands on these channels. For example, if you created a backup on an <code class="codeph">sbt</code> channel, but have only a <code class="codeph">DISK</code> channel automatically configured, then you must manually allocate an <code class="codeph">sbt</code> channel before <code class="codeph">CHANGE ... AVAILABLE</code> can operate on the backup.
                                 </p>
                                 <p>If you execute <code class="codeph">CHANGE ... AVAILABLE</code> for a file in a Data Guard environment, then RMAN attempts to cross-check the file before updating its status to <code class="codeph">AVAILABLE</code>. If the file is inaccessible, then RMAN prompts you to perform the same operation when connected as <code class="codeph">TARGET</code> to the database associated with the file. If the file is accessible, then RMAN updates the status as requested.
                                 </p>
                                 <p><span class="bold">Note:</span> You can view the status of backups in the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> output or recovery catalog views.
                                 </p>
                                 <p><span class="bold">Note:</span> <code class="codeph">CHANGE ... AVAILABLE</code> is not valid for foreign archived redo log files, which are received by a logical standby database for a <a id="d25527e528" class="indexterm-anchor"></a>LogMiner session. Unlike normal archived redo log files, foreign archived redo log files have a different DBID.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e532" headers="d25527e358 ">
                                 <p><span class="italic"><code class="codeph">&nbsp;&nbsp;&nbsp;<a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e532 d25527e361 ">
                                 <p><a id="d25527e542" class="indexterm-anchor"></a>Changes the exemption status of a backup or copy in relation to the configured retention policy. For example, specify<code class="codeph"> CHANGE ... NOKEEP</code> to remove the <code class="codeph">KEEP</code> attributes for a backup, making it subject to the backup retention policy.
                                 </p>
                                 <p>The <code class="codeph">KEEP FOREVER</code> clause requires use of a recovery catalog (see <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDHFHGC">Example 2-46</a>). The <code class="codeph">RESTORE POINT</code> option is not valid with <code class="codeph">CHANGE</code>. You cannot use <code class="codeph">CHANGE ... UNAVAILABLE</code> or <code class="codeph">KEEP</code> attributes for files stored in the fast recovery area.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e583" headers="d25527e358 ">
                                 <p><span class="italic"><code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI">resetDbUniqueNameOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e583 d25527e361 ">
                                 <p>Associates the files in <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with a different database in a Data Guard environment.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI">resetDbUniqueNameOption</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e607" headers="d25527e358 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;UNAVAILABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e607 d25527e361 ">
                                 <p><a id="d25527e613" class="indexterm-anchor"></a><a id="d25527e615" class="indexterm-anchor"></a><a id="d25527e619" class="indexterm-anchor"></a><a id="d25527e623" class="indexterm-anchor"></a>Changes the status of a backup or copy to <code class="codeph">UNAVAILABLE</code> in the repository (see <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEBBHI">Example 2-44</a>). View the status in the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> output or recovery catalog views.
                                 </p>
                                 <p><a id="d25527e639" class="indexterm-anchor"></a>This option is useful when a file cannot be found or has migrated offsite. RMAN does not use a file that is marked <code class="codeph">UNAVAILABLE</code> in a <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> or <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command. If the file is later found or returns to the main site, then use the <code class="codeph">AVAILABLE</code> option to update its status. The <code class="codeph">UNAVAILABLE</code> option is also useful when you do not want a specific backup or copy to be eligible to be restored but also do not want to delete it, or when you want to alter the repository status of backups and copies from prior incarnations.
                                 </p>
                                 <p><code class="codeph">CHANGE ... UNAVAILABLE</code> is not valid for files in the fast recovery area. This command is also not valid for foreign archived redo log files, which are received by a logical standby database for a LogMiner session. Unlike normal archived redo log files, foreign archived redo log files have a different DBID.
                                 </p>
                                 <p><span class="bold">Note:</span> If you execute <code class="codeph">CHANGE ... UNAVAILABLE</code> for a file in a Data Guard environment, then RMAN does not attempt to cross-check the file before updating its status to <code class="codeph">UNAVAILABLE</code>. RMAN updates the status as requested regardless of whether the file physically exists.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">CHANGE ... UNAVAILABLE</code> command cannot be used when you back up target databases to Zero Data Loss Recovery Appliance, commonly known as Recovery Appliance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e685" headers="d25527e358 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;UNCATALOG</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e685 d25527e361 ">
                                 <p></p>
                                 <p><a id="d25527e692" class="indexterm-anchor"></a>Removes references to a data file copy, backup piece, backup set, or archived redo log from the recovery catalog, and updates records in the target control file to status <code class="codeph">DELETED</code> (see <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCADAJ">Example 2-45</a>). Use <code class="codeph">CHANGE BACKUPSET … UNCATALOG</code> to uncatalog all the backup pieces in a backupset.
                                 </p>
                                 <p>The <code class="codeph">CHANGE ... UNCATALOG</code> command does not touch physical backups and copies. Use this command to notify RMAN when a file is deleted by some means other than a <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> command.
                                 </p>
                                 <p>If you execute <code class="codeph">CHANGE ... UNCATALOG</code> for a file in a Data Guard environment, then RMAN does not attempt to cross-check the file before removing its metadata from the recovery catalog. RMAN removes the metadata as requested regardless of whether the file physically exists.
                                 </p>
                                 <p><span class="bold">Caution:</span> If you resynchronize from a backup control file, or upgrade the recovery catalog, then records previously removed from the RMAN repository with <code class="codeph">CHANGE ... UNCATALOG</code> may reappear in the recovery catalog.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">CHANGE ... UNCATALOG</code> command cannot be used when you back up target databases to Zero Data Loss Recovery Appliance, commonly known as Recovery Appliance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e735" headers="d25527e358 ">
                                 <p></p>
                                 <p><code class="codeph">       NOPROMPT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e735 d25527e361 ">
                                 <p>Does not display a prompt when performing an uncatalog operation with the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e744" headers="d25527e358 "><code class="codeph">&nbsp;&nbsp;&nbsp;DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d25527e744 d25527e361 ">
                                 <p>Executes the <code class="codeph">CHANGE</code> for the specified device type only (see <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span>). This option is valid only if you have configured automatic channels and have not manually allocated channels. For example, if you run <code class="codeph">CHANGE UNCATALOG ... DEVICE TYPE DISK</code>, then RMAN only uncatalogs files on disk.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e769" headers="d25527e358 ">
                                 <p><span class="italic"><code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDBGFCG">changeFailure</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e769 d25527e361 ">
                                 <p>Specifies changes for failures recorded by the Data Recovery Advisor.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e780" headers="d25527e358 "><code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">FROM </code><span class="italic"><code class="codeph">db_unique_name</code></span> <code class="codeph">TO </code><span class="italic"><code class="codeph">db_unique_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d25527e780 d25527e361 ">
                                 <p>Updates the metadata in the recovery catalog to reflect a new <code class="codeph">DB_UNIQUE_NAME</code> for a database in a Data Guard environment. The first value specifies the old <code class="codeph">DB_UNIQUE_NAME</code> for the database currently recorded in the recovery catalog, whereas the second specifies the new <code class="codeph">DB_UNIQUE_NAME</code>.
                                 </p>
                                 <p>RMAN must be connected to a recovery catalog and a mounted target database. The target database must not have the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">FROM</code> <span class="italic"><code class="codeph">db_unique_name</code></span> parameter; otherwise, RMAN signals an error. 
                                 </p>
                                 <p>Typically, you use this command after you have changed the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter of a database and must update its metadata in the recovery catalog. In general, do not run this command before performing any other RMAN operations on a renamed database. The recommended practice is to execute <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> before <code class="codeph">CHANGE DB_UNIQUE_NAME</code>.
                                 </p>
                                 <p>Assume that you changed the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter for a standby database from <code class="codeph">standby_old</code> to <code class="codeph">standby_new</code>. Typically, you execute <code class="codeph">CHANGE DB_UNIQUE_NAME</code> in the following scenarios:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>A <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command shows the old <code class="codeph">DB_UNIQUE_NAME</code> value but does <span class="italic">not</span> show the new one (see <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCDEAC">Example 2-49</a>).
                                       </p>
                                    </li>
                                    <li>
                                       <p>A <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command shows both the old <span class="italic">and</span> new <code class="codeph">DB_UNIQUE_NAME</code> values. When RMAN connects as <code class="codeph">TARGET</code> to a database with an unrecognized <code class="codeph">DB_UNIQUE_NAME</code>, RMAN implicitly registers the instance as a new database. For this reason, <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command can show both the old and new names (in this example, <code class="codeph">standby_old</code> and <code class="codeph">standby_new</code>) for a database whose <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter has been changed. 
                                       </p>
                                    </li>
                                 </ul>
                                 <p>In the scenario in which only the old name is listed, execute <code class="codeph">CHANGE DB_UNIQUE_NAME FROM standby_old TO standby_new</code> so that RMAN changes the <code class="codeph">DB_UNIQUE_NAME</code> for <code class="codeph">standby_old</code> to <code class="codeph">standby_new</code> in the recovery catalog.
                                 </p>
                                 <p>In the scenario in which both the old and new names are listed, RMAN automatically executes the following commands when you run <code class="codeph">CHANGE DB_UNIQUE_NAME FROM standby_old TO standby_new</code>:
                                 </p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">CHANGE ARCHIVELOG ALL FOR DB_UNIQUE_NAME standby_old RESET DB_UNIQUE_NAME</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CHANGE BACKUP FOR DB_UNIQUE_NAME standby_old RESET DB_UNIQUE_NAME</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="UNREGISTER.html#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code> <code class="codeph">DB_UNIQUE_NAME standby_old</code></p>
                                    </li>
                                 </ol>
                                 <p>Thus, RMAN changes the association of all backups for the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">FROM</code> clause to the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">TO</code> clause.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI"><span class="bold"><span class="italic">resetDbUniqueNameOption</span></span></p>
                  <p><a id="d25527e966" class="indexterm-anchor"></a>This clause enables you to associate backups made on one database in a Data Guard environment with a different database in the environment. The following table explains the RMAN behavior when different options are specified with <code class="codeph">RESET DB_UNIQUE_NAME</code>.
                  </p>
                  <div class="tblformal" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDJGCDI">
                     <p class="titleintable">Table 2-2 RESET DB_UNIQUE_NAME Options</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="RESET DB_UNIQUE_NAME Options" summary="Describes the outcome of using different RESET DB_UNIQUE_NAME parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d25527e985">TO db_unique_name</th>
                              <th align="left" valign="bottom" width="25%" id="d25527e990">FOR DB_UNIQUE_NAME</th>
                              <th align="left" valign="bottom" width="50%" id="d25527e993">RMAN Behavior</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d25527e998" headers="d25527e985 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d25527e998 d25527e990 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d25527e998 d25527e993 ">
                                 <p>RMAN associates the <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files with the target database. RMAN also changes the association of all backups that are not associated with any database.
                                 </p>
                                 <p>Typically, you would execute <code class="codeph">CHANGE</code> with these options after upgrading to an Oracle Database 11<span class="italic">g</span> or later recovery catalog schema, so that you can associate the backups with the target database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d25527e1022" headers="d25527e985 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d25527e1022 d25527e990 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d25527e1022 d25527e993 ">
                                 <p>RMAN associates the <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files with the database indicated by the <code class="codeph">TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span>. RMAN also changes the association of all backups that are not associated with any database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d25527e1045" headers="d25527e985 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d25527e1045 d25527e990 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d25527e1045 d25527e993 ">
                                 <p>RMAN restricts its operations to <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files that are associated with the database in the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause, and then associates these files with the target database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d25527e1064" headers="d25527e985 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d25527e1064 d25527e990 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d25527e1064 d25527e993 ">
                                 <p>RMAN restricts its operations to <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files that are associated with the database in the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause, and then associates these files with the database specified by <code class="codeph">TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-43D52AE1-3935-4F98-B0E3-A214AD12C42D">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes the CHANGE command resetDbUniqueNameOption parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d25527e1097">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d25527e1100">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1105" headers="d25527e1097 ">
                                 <p><code class="codeph">RESET&nbsp;DB_UNIQUE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1105 d25527e1100 ">
                                 <p>Associates the files in <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with the target database (see <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDAFDE">Example 2-48</a>). <a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDJGCDI" title="Describes the outcome of using different RESET DB_UNIQUE_NAME parameters">Table 2-2</a> explains the RMAN behavior when different options are specified. 
                                 </p>
                                 <p>When changing the association of the files from one database to another database, RMAN deletes the duplicate names from the recovery catalog. For example, if you change the association of data file copy <code class="codeph">/d1/df1.bak</code> from database <code class="codeph">standby1</code> to database <code class="codeph">prod</code>, then the recovery catalog has only one record for this file rather than two.
                                 </p>
                                 <p>Use caution when specifying the <code class="codeph">RESET DB_UNIQUE_NAME</code> option because you cannot undo the effect of this command. For example, after you have changed the association of the files associated with database <code class="codeph">standby1</code> to database <code class="codeph">prod</code>, the recovery catalog does not retain historical metadata about the database with which these files were previously associated. However, you can unregister database <code class="codeph">standby1</code> and connect RMAN again to <code class="codeph">standby1</code>, but the recovery catalog is updated with all metadata from the <code class="codeph">standby1</code> control file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1158" headers="d25527e1097 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1158 d25527e1100 ">
                                 <p>Associates the files in <span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with the specified database in a Data Guard environment.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDBGFCG"><span class="bold"><span class="italic">changeFailure</span></span></p>
                  <p>This clause enables you to change the status of failures. Use the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">FAILURE</code> command to show the list of failures.
                  </p>
                  <div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-E03C69D7-0EF4-442D-BD6B-8C52AE740B37">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes the CHANGE  command changeFailure parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d25527e1197">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d25527e1200">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1205" headers="d25527e1197 ">
                                 <p><code class="codeph">FAILURE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1205 d25527e1200 ">
                                 <p>Enables you to change priority or close failures recorded in the Automatic Diagnostic Repository. By default RMAN prompts for confirmation before performing the requested change.</p>
                                 <p>The target database to which RMAN is connected must be a single-instance database and must not be a physical standby database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1215" headers="d25527e1197 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1215 d25527e1200 ">
                                 <p>Changes only open failures. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1223" headers="d25527e1197 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;CRITICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1223 d25527e1200 ">
                                 <p>Changes only critical failures. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1231" headers="d25527e1197 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;HIGH</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1231 d25527e1200 ">
                                 <p>Changes only failures with <code class="codeph">HIGH</code> priority. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1242" headers="d25527e1197 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;LOW</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1242 d25527e1200 ">
                                 <p>Changes only failures with <code class="codeph">LOW</code> priority.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1253" headers="d25527e1197 ">
                                 <p><code class="codeph">   UNKNOWN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1253 d25527e1200 ">
                                 <p>Changes only failures whose priority cannot be determined until the database is mounted.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1261" headers="d25527e1197 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">failnum</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1261 d25527e1200 ">
                                 <p>Changes only the specified failure.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1272" headers="d25527e1197 "><code class="codeph">EXCLUDE&nbsp;FAILURE</code> <code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">failnum</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d25527e1272 d25527e1200 ">
                                 <p>Excludes the specified failures from the change. Use a comma-delimited list to specify multiple failures</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1285" headers="d25527e1197 ">
                                 <p><code class="codeph">CLOSED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1285 d25527e1200 ">
                                 <p>Closes the specified failures by setting their status to <code class="codeph">CLOSED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1296" headers="d25527e1197 ">
                                 <p><code class="codeph">PRIORITY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1296 d25527e1200 ">
                                 <p>Changes the priority of the specified failures to <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d25527e1310" headers="d25527e1197 ">
                                 <p><code class="codeph">NOPROMPT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d25527e1310 d25527e1200 ">
                                 <p>Does not prompt for confirmation before modifying the specified failures.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-0376324F-B590-4AFE-8642-4096EB904128">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEBBHI">
                  <p class="titleinexample">Example 2-44 Updating Backups to Status UNAVAILABLE</p>
                  <p>Assume that you have temporarily moved backup set 4 to a different location because of a space issue on disk. The backup, which has the key 4, is still listed as available:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; LIST BACKUP SUMMARY;</pre><pre class="oac_no_warn" dir="ltr">List of Backups
===============
Key     TY LV S Device Type Completion Time #Pieces #Copies Compressed Tag
------- -- -- - ----------- --------------- ------- ------- ---------- ---
1       B  A  A DISK        24-FEB-13       1       1       NO         TAG20130427T115348
3       B  A  A DISK        24-MAR-13       1       1       NO         TAG20130427T115452
4       B  F  A DISK        24-APR-13       1       1       NO         TAG20130427T115456</pre><p>You do not want to uncatalog the backup because you plan to move it back to its original location when more disk space is available. Thus, you make the backup unavailable as follows (sample output included):</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CHANGE BACKUPSET 4 UNAVAILABLE;
 
changed backup piece unavailable
backup piece handle=/disk2/backup/c-3257893776-20130424-00 RECID=4 STAMP=588858897
Changed 1 objects to UNAVAILABLE status</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCADAJ">
                  <p class="titleinexample">Example 2-45 Uncataloging and Recataloging Archived Redo Log Files</p>
                  <p>In this example, you move all archived redo log files to a new directory, uncatalog them, and then recatalog them in the new location:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; HOST '/bin/mv $ORACLE_HOME/dbs/*.arc /disk2/archlog/';
RMAN&gt; CHANGE ARCHIVELOG ALL UNCATALOG;
RMAN&gt; CATALOG START WITH '/disk2/archlog' NOPROMPT;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDHFHGC">
                  <p class="titleinexample">Example 2-46 Changing a Database Backup into an Archival Backup</p>
                  <p>Assume your goal to is to change a database backup into an archival backup, which you plan to store offsite. Because the backup is consistent and requires no recovery, you do not need to store archived redo log files with the backup. The example uses the <code class="codeph">CHANGE ... KEEP FOREVER</code> command to specify that the backup is never obsolete.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET /
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>

RMAN&gt; CHANGE BACKUP TAG 'consistent_db_bkup' KEEP FOREVER;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-322B1D26-308F-4F8A-9DB9-E0E39035FD9B">
                  <p class="titleinexample">Example 2-47 Changing the Status of a Failure</p>
                  <p>In the following example, the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">FAILURE</code> command shows that a data file has corrupt blocks. The failure number is 5 and has a priority of <code class="codeph">HIGH</code>. This data file contains nonessential data, so you decide to change the priority of this failure to low.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; LIST FAILURE;

List of Database Failures
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
5          HIGH     OPEN      11-DEC-13     datafile 8 contains corrupt blocks
 
RMAN&gt; CHANGE FAILURE 5 PRIORITY LOW;
 
List of Database Failures
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
5          HIGH     OPEN      11-DEC-13     datafile 8 contains corrupt blocks
 
Do you really want to change the above failures (enter YES or NO)? YES
changed 1 failures to LOW priority</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDAFDE">
                  <p class="titleinexample">Example 2-48 Associating Backups with a New Database in a Data Guard Environment</p>
                  <p>Assume that <code class="codeph">standby1</code>, <code class="codeph">standby2</code>, and <code class="codeph">standby3</code> are standby databases associated with primary database is <code class="codeph">prod</code>. This example assumes that RMAN is connected to target database <code class="codeph">prod</code> and a recovery catalog.
                  </p>
                  <p>You are planning to remove <code class="codeph">standby1</code> from your environment, so you want to associate the <code class="codeph">standby1</code> backups with your primary database. You are also planning to remove <code class="codeph">standby3</code> from your environment, so you want to associate the <code class="codeph">standby3</code> backups with <code class="codeph">standby2</code>. You execute the following commands:
                  </p><pre class="oac_no_warn" dir="ltr">CHANGE BACKUP FOR DB_UNIQUE_NAME standby1 RESET DB_UNIQUE_NAME;
CHANGE BACKUP FOR DB_UNIQUE_NAME standby3 RESET DB_UNIQUE_NAME TO standby2;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCDEAC">
                  <p class="titleinexample">Example 2-49 Updating a DB_UNIQUE_NAME in the Recovery Catalog</p>
                  <p>Assume that a standby database has the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting of <code class="codeph">dgrdbms4</code>, which you decide to change to <code class="codeph">sfrdbms4</code>. You shut down the standby instance, change the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter to <code class="codeph">sfrdbms4</code>, and restart the standby instance.
                  </p>
                  <p>Later, to update the recovery catalog to reflect the changed unique name of the standby database, you connect RMAN to the primary database and recovery catalog, and then execute the <code class="codeph">CHANGE</code> command as follows:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET /
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
</pre><pre class="oac_no_warn" dir="ltr">RMAN&gt; CHANGE DB_UNIQUE_NAME FROM dgrdbms4 TO sfrdbms4;</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>