<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The COVERAGE pragma marks PL/SQL code which is infeasible to test for coverage. These marks improve coverage metric accuracy.">
      <meta name="description" content="The COVERAGE pragma marks PL/SQL code which is infeasible to test for coverage. These marks improve coverage metric accuracy.">
      <title>COVERAGE Pragma</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="The COVERAGE pragma marks PL/SQL code which is infeasible to test for coverage. These marks improve coverage metric accuracy.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CONTINUE-statement.html" title="Previous" type="text/html">
      <link rel="next" href="cursor-FOR-LOOP-statement.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CONTINUE-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cursor-FOR-LOOP-statement.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-language-elements.html" property="item" typeof="WebPage"><span property="name">PL/SQL Language Elements</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">COVERAGE Pragma</li>
            </ol>
            <a id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83" name="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83"></a>
            
            <h2 id="LNPLS-GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83" class="sect2"><span class="enumeration_section">13.16 </span>COVERAGE Pragma
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">COVERAGE</code> pragma marks PL/SQL code which is infeasible to test for coverage. These marks improve coverage metric accuracy.
               </p>
               <div class="section">
                  <p>The <code class="codeph">COVERAGE</code> pragma marks PL/SQL source code to indicate that the code may not be feasibly tested for coverage. The pragma marks a specific code section. Marking infeasible code improves the quality of coverage metrics used to assess how much testing has been achieved. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-F148F850-D9D9-43CE-9F06-C02BF6324678">Topics</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="COVERAGE-pragma.html#GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__SYNTAX-585509E9">Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="COVERAGE-pragma.html#GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__SEMANTICS-58550D60">Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="COVERAGE-pragma.html#GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__EXAMPLES-585510BA">Examples</a></p>
                     </li>
                     <li>
                        <p><a href="COVERAGE-pragma.html#GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__RELATEDTOPICS-58552C15">Related Topics</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__SYNTAX-585509E9">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-EACF6697-0DCE-402E-A998-4AC743B0CB47">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__COVERAGE_PRAGMA-494D717C">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-CE8EB738-F062-4B40-B375-300ABA0F4774"><span class="italic">coverage_pragma ::=</span></p>
                  <div class="figure" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__FIG-1433-045C8959"><img src="img/coverage_pragma.gif" alt="Description of coverage_pragma.eps follows" title="Description of coverage_pragma.eps follows" longdesc="img_text/coverage_pragma.html"><br><a href="img_text/coverage_pragma.html">Description of the illustration coverage_pragma.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-38F07AF2-F8AD-40C5-809F-C4A5917421B9"><span class="italic">coverage_pragma_argument</span> ::= 
                  </p>
                  <div class="figure" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__FIG-1435-045C809A"><img src="img/coverage_pragma_argument.gif" alt="Description of coverage_pragma_argument.eps follows" title="Description of coverage_pragma_argument.eps follows" longdesc="img_text/coverage_pragma_argument.html"><br><a href="img_text/coverage_pragma_argument.html">Description of the illustration coverage_pragma_argument.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__SEMANTICS-58550D60">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-CD0890FF-1B32-40B2-981E-03DC15CD3D34">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-054F4AE6-B172-40B3-9099-F38197B8861E"><span class="italic">coverage_pragma</span></p>
                  <p>The <code class="codeph">COVERAGE</code> pragma may appear before any declaration or statement.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-C027041F-F86D-4355-8DA9-B2CDF9902A30"><span class="italic">coverage_pragma_argument</span></p>
                  <p>The <code class="codeph">COVERAGE</code> pragma argument must have one of these values:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>‘NOT_FEASIBLE’</p>
                     </li>
                     <li>
                        <p>‘NOT_FEASIBLE_START’</p>
                     </li>
                     <li>
                        <p>‘NOT_FEASIBLE_END’</p>
                     </li>
                  </ul>
                  <p>When the <code class="codeph">COVERAGE</code> pragma appear with the argument ‘NOT_FEASIBLE’, it marks the entire basic block that includes the beginning of the first declaration or statement that follows the pragma. 
                  </p>
                  <p>A <code class="codeph">COVERAGE</code> pragma with an argument of ’NOT_FEASIBLE_START’ may appear before any declaration or any statement. It must be followed by the <code class="codeph">COVERAGE</code> pragma with an argument of ’NOT_FEASIBLE_END’. The second pragma  may appear before any declaration or any statement. It must appear in the same PL/SQL block as the first pragma and not in any nested subprogram definition.
                  </p>
                  <p>An associated pair of <code class="codeph">COVERAGE</code> pragmas marks basic blocks infeasible from the beginning of the basic block that includes the beginning of the first statement or declaration that follows the first pragma to the end of the basic block that includes the first statement or declaration that follows the second pragma.
                  </p>
                  <p> A <code class="codeph">COVERAGE</code> pragma whose range includes the definition or declaration of an inner subprogram does not mark the blocks of that subprogram as infeasible.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__EXAMPLES-585510BA">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-932981D5-E4C3-49EE-9458-44B25518EFD4">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__MARKINGASINGLEBASICBLOCK-FB9278A4">
                  <p class="titleinexample">Example 13-5 Marking a Single Basic Block as Infeasible to Test for Coverage</p>
                  <p>This example shows the placement of the pragma <code class="codeph">COVERAGE</code> preceding the assignments to z and zl basic blocks. These two basic blocks will be ignored for coverage calculation. The first <code class="codeph">COVERAGE</code> pragma (marked 1) marks the first assignment to z infeasible; the second (marked 2) marks the third assignment to z. In each case, the affected basic block runs from the identifier z to the following <code class="codeph">END IF</code>.
                  </p><pre class="pre codeblock"><code>IF (x&gt;0) THEN
  y :=2;
ELSE
  PRAGMA COVERAGE (’NOT_FEASIBLE’);  -- 1
  z:=3;
END IF;
IF (y&gt;0) THEN
  z :=2;
ELSE
  PRAGMA COVERAGE (’NOT_FEASIBLE’); -- 2
  z :=3;
END IF;</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-2CB994A0-2296-4EF6-AB6D-BEB0406F5383">
                  <p class="titleinexample">Example 13-6 Marking a Line Range as Infeasible to Test for Coverage</p>
                  <p>This examples shows marking the entire line range as not feasible. A line range may contain more than one basic block. A line range is marked as not feasible for coverage using a pragma <code class="codeph">COVERAGE</code> with a ’NOT_FEASIBLE_START’ argument at the beginning of the range, and a pragma <code class="codeph">COVERAGE</code> with a ’NOT_FEASIBLE_END’ at the end of the range. The range paired <code class="codeph">COVERAGE</code> pragmas mark all the blocks as infeasible.
                  </p><pre class="pre codeblock"><code>PRAGMA COVERAGE (’NOT_FEASIBLE_START’);
IF (x&gt;0) THEN
  y :=2;
ELSE
  z:=3;
END IF;
IF (y&gt;0) THEN
  z :=2;
ELSE
  z :=3;
END IF; 
PRAGMA COVERAGE (’NOT_FEASIBLE_END’);</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__EXAMPLE-148-C062CF82">
                  <p class="titleinexample">Example 13-7 Marking Entire Units or Individual Subprograms as Infeasible to Test for Coverage</p>
                  <p>This example shows marking the entire procedure foo as not feasible for coverage. A subprogram is marked as completely infeasible by marking all of its body infeasible.</p><pre class="pre codeblock"><code>CREATE PROCEDURE foo IS
PRAGMA COVERAGE (’NOT_FEASIBLE_START’);
......

BEGIN
....
PRAGMA COVERAGE (’NOT_FEASIBLE_END’);
END;
/</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__EXAMPLE-149-2C8FC6A4">
                  <p class="titleinexample">Example 13-8 Marking Internal Subprogram as Infeasible to Test for Coverage</p>
                  <p>This example shows that the outer <code class="codeph">COVERAGE</code> pragma pair has no effect on coverage inside procedure inner. The <code class="codeph">COVERAGE</code> pragma (marked 1) inside the body of inner does mark the second assignment to x as infeasible. Notice that the entire body of procedure outer is marked infeasible even though the pragma with argument ‘NOT_FEASIBLE_END’ is not the last line. The pragma does mark the basic block that includes the statement that follows the pragma and that block does extend to the end of the procedure.
                  </p><pre class="pre codeblock"><code>CREATE OR REPLACE PROCEDURE outer IS
   PRAGMA COVERAGE ('NOT_FEASIBLE_START');
   x NUMBER := 7;
   PROCEDURE inner IS
   BEGIN
     IF x &lt; 6 THEN
        x := 19;
     ELSE
        PRAGMA COVERAGE ('NOT_FEASIBLE'); -- 1
        x := 203;
     END IF;
   END;
BEGIN
   DBMS_OUTPUT.PUT_LINE ('X= ');
   PRAGMA COVERAGE ('NOT_FEASIBLE_END');
   DBMS_OUTPUT.PUT_LINE (x);
END;
/
</code></pre></div>
               <!-- class="example" -->
               <div class="section" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__RELATEDTOPICS-58552C15">
                  <p class="subhead1" id="GUID-38A315DC-020B-41BD-90CD-DBF4D937EE83__GUID-CCC1A0AB-AA35-45FE-BAC8-342D6E70E2C4">Related Topics</p>
                  <p>In this book:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-language-fundamentals.html#GUID-D6EFD7E8-39DF-4430-B625-B6D37E49F6F4" title="A pragma is an instruction to the compiler that it processes at compile time.">Pragmas</a></p>
                     </li>
                     <li>
                        <p><a href="overview.html#GUID-DF63BC59-22C2-4BA8-9240-F74D505D5102" title="PL/SQL units are affected by PL/SQL compilation parameters (a category of database initialization parameters). Different PL/SQL units—for example, a package specification and its body—can have different compilation parameter settings.">PL/SQL Units and Compilation Parameters</a> for more information about the PLSQL_OPTIMIZE_LEVEL compilation parameter
                        </p>
                     </li>
                  </ul>
                  <p>In other books:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../adfns/basic-block-coverage.html#ADFNS-GUID-35842E6A-630A-418F-8314-6A30F1FBDF83" target="_blank"><span><cite>Oracle Database Development Guide</cite></span> </a> for more information about using PL/SQL basic block coverage to maintain quality
                        </p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_PLSQL_CODE_COVERAGE.html#ARPLS-GUID-55A9E502-9EC2-4118-B292-DC79E6DC465E" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span> </a> for more information about using the DBMS_PLSQL_CODE_COVERAGE package
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>