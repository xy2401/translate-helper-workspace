<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Edition-Based Redefinition</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="schema-object-dependency.html" title="Previous" type="text/html">
      <link rel="next" href="transaction-guard.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="schema-object-dependency.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="transaction-guard.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">Advanced Topics for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Edition-Based Redefinition</li>
            </ol>
            <a id="GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906" name="GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906"></a>
            
            <h2 id="ADFNS-GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906" class="sect2"><span class="enumeration_chapter">27 </span>Using Edition-Based Redefinition
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Edition-based redefinition (EBR) lets you upgrade the database component of an application while it is in use, thereby minimizing or eliminating downtime.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906__GUID-77363C49-2CF6-4AA1-8C94-624C77808DC6">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="editions.html#GUID-C213A6AA-5427-4426-80B5-D5301386253E">Overview of Edition-Based Redefinition</a></p>
                  </li>
                  <li>
                     <p><a href="editions.html#GUID-3C543B31-9BA6-421D-9791-D85866185052">Editions</a></p>
                  </li>
                  <li>
                     <p><a href="editions.html#GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B">Editioning Views</a></p>
                  </li>
                  <li>
                     <p><a href="editions.html#GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37">Crossedition Triggers</a></p>
                  </li>
                  <li>
                     <p><a href="editions.html#GUID-1B0311B5-CBC7-43E2-9EA0-37DE2E670508">Displaying Information About EBR Features</a></p>
                  </li>
                  <li>
                     <p><a href="editions.html#GUID-B14D3C67-5871-41CF-8645-185139347CCC" title="You can use triggers to upgrade an existing application.">Using EBR to Upgrade an Application</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-C213A6AA-5427-4426-80B5-D5301386253E" name="GUID-C213A6AA-5427-4426-80B5-D5301386253E"></a><h3 id="ADFNS-GUID-C213A6AA-5427-4426-80B5-D5301386253E" class="sect3">Overview of Edition-Based Redefinition</h3>
               <div>
                  <p>To upgrade an application while it is in use, you must copy the database objects that comprise the database component of the application and redefine the copied objects in isolation. Your changes do not affect users of the application—they can continue to run the unchanged application. When you are sure that your changes are correct, you make the upgraded application available to all users.</p>
                  <p>Using EBR means using one or more of its component features. The features you use, and the downtime, depend on these factors:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>What kind of database objects you redefine</p>
                     </li>
                     <li>
                        <p>How available the database objects must be to users while you are redefining them</p>
                     </li>
                     <li>
                        <p>Whether you make the upgraded application available to some users while others continue to use the older version of the application</p>
                     </li>
                  </ul>
                  <p>You always use the <span class="bold">edition</span> feature to copy the database objects and redefine the copied objects in isolation; that is why the procedure that this chapter describes for upgrading applications online is called edition-based redefinition (EBR).
                  </p>
                  <p>If every object that you will redefine is <span class="bold">editioned</span> (defined in <a href="editions.html#GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42">Editioned and Noneditioned Objects</a>), then the edition is the only feature you use.
                  </p>
                  <p>Tables are not editioned objects. If you change the structure of one or more tables, then you also use the <span class="bold">editioning view</span> feature.
                  </p>
                  <p>If other users must be able to change data in the tables while you are changing their structure, then you also use <span class="bold">forward crossedition triggers</span>. If the pre- and post-upgrade applications will be in ordinary use at the same time (<span class="bold">hot rollover</span>), then you also use <span class="bold">reverse crossedition triggers</span>. Crossedition triggers are not a permanent part of the application—you drop them when all users are using the post-upgrade application.
                  </p>
                  <p>An EBR operation that you can perform on an application in one edition while the application runs in other editions is a <span class="bold">live operation</span>.
                  </p>
               </div>
            </div><a id="ADFNS1279"></a><a id="ADFNS020"></a><a id="ADFNS1278"></a><a id="ADFNS0201"></a><div class="props_rev_3"><a id="GUID-3C543B31-9BA6-421D-9791-D85866185052" name="GUID-3C543B31-9BA6-421D-9791-D85866185052"></a><h3 id="ADFNS-GUID-3C543B31-9BA6-421D-9791-D85866185052" class="sect3">Editions</h3>
               <div>
                  <p>Editions are nonschema objects; as such, they do not have owners. Editions are created in a single namespace, and multiple editions can coexist in the database.</p>
                  <p>The database must have at least one edition. Every newly created or upgraded Oracle Database starts with one edition named <code class="codeph">ora$base</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-3C543B31-9BA6-421D-9791-D85866185052__GUID-039969AF-3D59-49AF-809E-E384F9A6D80C">
                     <p class="notep1">Note:</p>
                     <p>In a multitenant container database (CDB), the scope of an edition, editioning view, or crossedition trigger is the pluggable database (PDB) in which the feature was created. In a non-CDB, the scope of each of these features is the entire database.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3C543B31-9BA6-421D-9791-D85866185052__GUID-0DFB7B26-D4C5-4B34-8FA7-E01E5DEF9BE9">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="editions.html#GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42">Editioned and Noneditioned Objects</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC">Creating an Edition</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC">Editioned Objects and Copy-on-Change</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A">Making an Edition Available to Some Users</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459">Making an Edition Available to All Users</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C">Current Edition and Session Edition</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD">Retiring an Edition</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA">Dropping an Edition</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3C543B31-9BA6-421D-9791-D85866185052__FORINFORMATIONABOUTCDBSANDPDBSSEEOR-CB583112">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN13506" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about CDBs and PDBs
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1280"></a><a id="ADFNS99923"></a><div class="props_rev_3"><a id="GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42" name="GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42"></a><h4 id="ADFNS-GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42" class="sect4">Editioned and Noneditioned Objects</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42__GUID-E82BF57C-8A6D-45F1-B718-5019D93C9C9E">
                        <p class="notep1">Note:</p>
                        <p>The terms <span class="bold">user</span> and <span class="bold">schema</span> are synonymous. The <span class="bold">owner</span> of a schema object is the user/schema that owns it.
                        </p>
                     </div>
                     <p>An <span class="bold">editioned object</span> has both a schema object type that is editionable in its owner and the <code class="codeph">EDITIONABLE</code> property. An edition has its own copy of an editioned object, and only that copy is visible to the edition.
                     </p>
                     <p>A <span class="bold">noneditioned object</span> has either a schema object type that is noneditionable in its owner or the <code class="codeph">NONEDITIONABLE</code> property. An edition cannot have its own copy of a noneditioned object. A noneditioned object is visible to all editions.
                     </p>
                     <p>An object is <span class="bold">potentially editioned</span> if enabling editions for its type in its owner would make it an editioned object.
                     </p>
                     <p>An editioned object belongs to both a schema and an edition, and is uniquely identified by its <code class="codeph">OBJECT_NAME</code>, <code class="codeph">OWNER</code>, and <code class="codeph">EDITION_NAME</code>. A noneditioned object belongs only to a schema, and is uniquely identified by its <code class="codeph">OBJECT_NAME</code> and <code class="codeph">OWNER</code>—its <code class="codeph">EDITION_NAME</code> is <code class="codeph">NULL</code>. (Strictly speaking, the <code class="codeph">NAMESPACE</code> of an object is also required to uniquely identify the object, but you can ignore this fact, because any statement that references the object implicitly or explicitly specifies its <code class="codeph">NAMESPACE</code>.)
                     </p>
                     <p>You can display the <code class="codeph">OBJECT_NAME</code>, <code class="codeph">OWNER</code>, and <code class="codeph">EDITION_NAME</code> of an object with the static data dictionary views <code class="codeph">*_OBJECTS</code> and <code class="codeph">*_OBJECTS_AE</code>.
                     </p>
                     <p>You need not know the <code class="codeph">EDITION_NAME</code> of an object to refer to that object (and if you do know it, you cannot specify it). The context of the reference implicitly specifies the edition. If the context is a data definition language (DDL) statement, then the edition is the current edition of the session that issued the command. If the context is source code, then the edition is the one in which the object is actual.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42__GUID-B7749254-2832-4C91-A7B1-A235A4F75B05">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="editions.html#GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121">Name Resolution for Editioned and Noneditioned Objects</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-489F83FF-A86D-47BE-9B28-952E076C3874">Noneditioned Objects That Can Depend on Editioned Objects</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-38E0AA62-BC3D-47E5-AD30-A008EE62A3A9">Editionable and Noneditionable Schema Object Types</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-8329DD56-528C-4848-AEE5-EC6640A4B228">EDITIONABLE and NONEDITIONABLE Properties</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-156B1E2C-1543-4F2F-BCF1-A9BA86353D59">Rules for Editioned Objects</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42__NOTE-13102-CB585E07">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C">Current Edition and Session Edition</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC">Editioned Objects and Copy-on-Change</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1036"></a><div class="props_rev_3"><a id="GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121" name="GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121"></a><h5 id="ADFNS-GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121" class="sect5">Name Resolution for Editioned and Noneditioned Objects</h5>
                     <div>
                        <p>To try to resolve an object name, Oracle Database uses the procedure described in <a href="schema-object-dependency.html#GUID-46C57DB9-847E-4709-9587-0673CCC5E5F0">Name Resolution in Schema Scope</a>. For the procedure to succeed, all pieces of the object name must be visible in the current edition.
                        </p>
                        <p>During name resolution for an editioned object, both editioned objects in the current edition and noneditioned objects are visible.</p>
                        <p>During name resolution for a noneditioned object, only noneditioned objects are visible. Therefore, if you try to create a noneditioned object that references an editioned object (except in the cases described in <a href="editions.html#GUID-489F83FF-A86D-47BE-9B28-952E076C3874">Noneditioned Objects That Can Depend on Editioned Objects</a>), the creation fails with an error.
                        </p>
                        <p>When you change a referenced editioned object, all of its dependents (direct and indirect) become invalid. When an invalid object is referenced, the database tries to validate that object.</p>
                        <div class="infoboxnotealso" id="GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121__GUID-382ECCC7-8DB0-4E8F-B3A6-46E165531632">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C">Current Edition and Session Edition</a></p>
                              </li>
                              <li>
                                 <p><a href="schema-object-dependency.html#GUID-488AF7D9-EDEB-4589-A503-FDE31CE55B60">Understanding Schema Object Dependency</a>, for general information about dependencies among schema objects, including invalidation, revalidation, and name resolution
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADFNS1325"></a><a id="ADFNS1324"></a><div class="props_rev_3"><a id="GUID-489F83FF-A86D-47BE-9B28-952E076C3874" name="GUID-489F83FF-A86D-47BE-9B28-952E076C3874"></a><h5 id="ADFNS-GUID-489F83FF-A86D-47BE-9B28-952E076C3874" class="sect5">Noneditioned Objects That Can Depend on Editioned Objects</h5>
                     <div>
                        <p>Ordinarily, a noneditioned object cannot depend on an editioned object, because the editioned object is invisible during name resolution. However, if a noneditioned object specifies an edition to search for editioned objects during name resolution—an <span class="bold">evaluation edition</span>—then it <span class="italic">can</span> depend on editioned objects. To specify an evaluation edition, a noneditioned object must be one of the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Materialized view</p>
                           </li>
                           <li>
                              <p>Virtual column</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-489F83FF-A86D-47BE-9B28-952E076C3874__GUID-93C4FC90-BF88-4FC6-ABD3-290953D1C845">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB">Materialized Views</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-731FE9F2-CBC9-46E1-9129-A163C26669CB">Virtual Columns</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1326"></a><div class="props_rev_3"><a id="GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB" name="GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB"></a><h6 id="ADFNS-GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB" class="sect6">Materialized Views</h6>
                        <div>
                           <p>A materialized view is a noneditioned object that can specify an evaluation edition, thereby enabling it to depend on editioned objects. A materialized view that depends on editioned objects may be eligible for query rewrite only in a specific range of editions, which you specify in the <span class="italic"><code class="codeph">query_rewrite_clause</code></span>.
                           </p>
                           <p>The simplified syntax for creating a materialized view is:</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW [ <span class="italic">schema</span>.] <span class="italic">materialized_view</span> <span class="italic">other_clauses</span>
[ <span class="italic">evaluation_edition_clause</span> ] [ <span class="italic">query_rewrite_clause</span> ] AS <span class="italic">subquery</span>
</pre><p>Where <span class="italic"><code class="codeph">evaluation_edition_clause</code></span> is:
                           </p><pre class="oac_no_warn" dir="ltr">EVALUATE USING { CURRENT EDITION | EDITION <span class="italic">edition</span> | NULL EDITION }
</pre><p>And <span class="italic"><code class="codeph">query_rewrite_clause</code></span> is:
                           </p><pre class="oac_no_warn" dir="ltr">{ DISABLE | ENABLE } QUERY REWRITE
[ <span class="italic">unusable_before_clause</span> ] [ <span class="italic">unusable_beginning_clause</span> ]
</pre><p>Where <span class="italic"><code class="codeph">unusable_before_clause</code></span> is:
                           </p><pre class="oac_no_warn" dir="ltr">UNUSABLE BEFORE { CURRENT EDITION | EDITION <span class="italic">edition</span> }
</pre><p>And <span class="italic"><code class="codeph">unusable_beginning_clause</code></span> is:
                           </p><pre class="oac_no_warn" dir="ltr">UNUSABLE BEGINNING WITH { CURRENT EDITION | EDITION <span class="italic">edition</span> | NULL EDITION }
</pre><p><code class="codeph">CURRENT</code> <code class="codeph">EDITION</code> is the edition in which the DDL statement runs. Specifying <code class="codeph">NULL</code> <code class="codeph">EDITION</code> is equivalent to omitting the clause that includes it. If you omit <span class="italic"><code class="codeph">evaluation_edition_clause</code></span>, then editioned objects are invisible during name resolution.
                           </p>
                           <p>To disable, enable, or change the evaluation edition or unusable editions, use the <code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> statement.
                           </p>
                           <p>To display the evaluation editions and unusable editions of materialized views, use the static data dictionary views <code class="codeph">*_MVIEWS</code> .
                           </p>
                           <p>Dropping the evaluation edition invalidates the materialized view. Dropping an edition where the materialized view is usable does not invalidate the materialized view.</p>
                           <div class="infoboxnotealso" id="GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB__FORTHECOMPLETESYNTAXANDSEMANTICSOFT-CB59D474">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01302" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> statement
                              </p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00808" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> 
                              </p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20139" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </div>
                        </div>
                     </div><a id="ADFNS1328"></a><div class="props_rev_3"><a id="GUID-731FE9F2-CBC9-46E1-9129-A163C26669CB" name="GUID-731FE9F2-CBC9-46E1-9129-A163C26669CB"></a><h6 id="ADFNS-GUID-731FE9F2-CBC9-46E1-9129-A163C26669CB" class="sect6">Virtual Columns</h6>
                        <div>
                           <p>A virtual column (also called a "generated column") does not consume disk space. The database generates the values in a virtual column on demand by evaluating an expression. The expression can invoke PL/SQL functions (which can be editioned objects). A virtual column can specify an evaluation edition, thereby enabling it to depend on an expression that invokes editioned PL/SQL functions.</p>
                           <p>The syntax for creating a virtual column is:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">column</span> [ <span class="italic">datatype</span> ] [ GENERATED ALWAYS ] AS ( <span class="italic">column_expression</span> )
[ VIRTUAL ] [ <span class="italic">evaluation_edition_clause</span> ]
[ unusable_before_clause ] [ unusable_beginning_clause ]
[ <span class="italic">inline_constraint</span> ]...
</pre><p>Where <span class="italic"><code class="codeph">evaluation_edition_clause</code></span> is as described in <a href="editions.html#GUID-7EE9F3DE-0CA8-4F9A-9100-3A47EE28A4DB">Materialized Views</a>.
                           </p>
                           <p>The database does not maintain dependencies on the functions that a virtual column invokes. Therefore, if you drop the evaluation edition, or if a virtual column depends on a noneditioned function and the function becomes editioned, then any of the following can raise an exception:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Trying to query the virtual column</p>
                              </li>
                              <li>
                                 <p>Trying to update a row that includes the virtual column</p>
                              </li>
                              <li>
                                 <p>A trigger that tries to access the virtual column</p>
                              </li>
                           </ul>
                           <p>To display the evaluation editions of virtual columns, use the static data dictionary views <code class="codeph">*_TAB_COLS</code> .
                           </p>
                           <div class="infoboxnotealso" id="GUID-731FE9F2-CBC9-46E1-9129-A163C26669CB__GUID-6E90BA3F-1EFE-40D3-B48F-EE2B0337B9DC">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF54465" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the complete syntax and semantics of the virtual column definition
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20276" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">ALL_TAB_COLS</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADFNS898"></a><div class="props_rev_3"><a id="GUID-38E0AA62-BC3D-47E5-AD30-A008EE62A3A9" name="GUID-38E0AA62-BC3D-47E5-AD30-A008EE62A3A9"></a><h5 id="ADFNS-GUID-38E0AA62-BC3D-47E5-AD30-A008EE62A3A9" class="sect5">Editionable and Noneditionable Schema Object Types</h5>
                     <div>
                        <p>Before a schema object type can be editionable in a schema, it must be editionable in the database. The schema object types that are editionable in the database are determined by the value of the <code class="codeph">COMPATIBLE</code> initialization parameter and are shown by the dynamic performance view <code class="codeph">V$EDITIONABLE_TYPES</code> .
                        </p>
                        <p>If the value of <code class="codeph">COMPATIBLE</code> is 12 or greater, then these schema object types are editionable in the database:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SYNONYM</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">VIEW</code></p>
                           </li>
                           <li>
                              <p>SQL translation profile</p>
                           </li>
                           <li>
                              <p>All PL/SQL object types:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">FUNCTION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">LIBRARY</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PACKAGE</code> and <code class="codeph">PACKAGE</code> <code class="codeph">BODY</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PROCEDURE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TRIGGER</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPE</code> and <code class="codeph">TYPE</code> <code class="codeph">BODY</code></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>All other schema object types are noneditionable in the database and in every schema, and objects of that type are always noneditioned. <code class="codeph">TABLE</code> is an example of a noneditionable schema object type. Tables are always noneditioned objects.
                        </p>
                        <p>If a schema object type is editionable in the database, then it can be editionable in schemas.</p>
                        <div class="infoboxnotealso" id="GUID-38E0AA62-BC3D-47E5-AD30-A008EE62A3A9__NOTE-137-CB5AEC29">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11112" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about <code class="codeph">COMPATIBLE</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN30660" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">V$EDITIONABLE_TYPES</code></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADFNS1281"></a><a id="ADFNS99878"></a><div class="props_rev_3"><a id="GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF" name="GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF"></a><h5 id="ADFNS-GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF" class="sect5">Enabling Editions for a User</h5>
                     <div>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF__GUID-52BFDABF-53F5-402E-BC56-A3534E8A5CAE">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Enabling editions is not a live operation.</p>
                                 </li>
                                 <li>
                                    <p>When a database is upgraded from Release 11.2 to Release 12.1, users who were enabled for editions in the pre-upgrade database are enabled for editions in the post-upgrade database and the default schema object types are editionable in their schemas. The default schema object types are displayed by the static data dictionary view <code class="codeph">DBA_EDITIONED_TYPES</code> . Users who were not enabled for editions in the pre-upgrade database are not enabled for editions in the post-upgrade database and no schema object types are editionable in their schemas.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To see which users already have editions enabled, see the <code class="codeph">EDITIONS_ENABLED</code> column of the static data dictionary view <code class="codeph">DBA_USERS</code> or <code class="codeph">USER_USERS</code> .
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>To enable editions for a user, use the <code class="codeph">ENABLE</code> <code class="codeph">EDITIONS</code> clause of either the <code class="codeph">CREATE</code> <code class="codeph">USER</code> or <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement.
                           </p>
                           <p>With the <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement, you can specify the schema object types that become editionable in the schema:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER USER <span class="italic">user</span> ENABLE EDITIONS [ FOR <span class="italic">type</span> [, <span class="italic">type</span> ]... ]
</pre><p>Any type that you omit from the <code class="codeph">FOR</code> list is noneditionable in the schema, despite being editionable in the database. (If a type is noneditionable in the database, then it is always noneditionable in every schema.)
                           </p>
                           <p>If you omit the <code class="codeph">FOR</code> list from the <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement, or use the <code class="codeph">CREATE</code> <code class="codeph">USER</code> statement to enable editions for a user, then the types that become editionable in the schema are those shown for that schema by the static data dictionary view <code class="codeph">DBA_EDITIONED_TYPES</code> (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23867" target="_blank"><span class="italic">Oracle Database Reference</span></a>).
                           </p>
                           <p>Enabling editions is retroactive and irreversible. When you enable editions for a user, that user is editions-enabled forever. When you enable editions for a schema object type in a schema, that type is editions-enabled forever in that schema. Every object that an editions-enabled user owns or will own becomes an editioned object if its type is editionable in the schema and it has the <code class="codeph">EDITIONABLE</code> property. For information about the <code class="codeph">EDITIONABLE</code> property, see <a href="editions.html#GUID-8329DD56-528C-4848-AEE5-EC6640A4B228">EDITIONABLE and NONEDITIONABLE Properties</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF__GUID-7370C2EF-5308-4D7C-A78E-6260707F4077">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D">Potentially Editioned Objects with Noneditioned Dependents</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-91AC1B6E-4D95-4A13-B8F8-C199D8551DA6">Users Who Cannot Have Editions Enabled</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF__GUID-DCA53233-F3FB-41F3-A3E6-3A37EEFA5020">
                              <p class="notep1">See Also:</p>
                              <p><span class="italic">Oracle Database SQL Language Reference</span> for the complete syntax and semantics of the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01503" target="_blank"><code class="codeph">CREATE</code> <code class="codeph">USER</code></a>and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01103" target="_blank"><code class="codeph">ALTER</code> <code class="codeph">USER</code></a> statements
                              </p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23867" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">DBA_EDITIONED_TYPES</code></p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23302" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">DBA_USERS</code> 
                              </p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN26302" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">USER_USERS</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1282"></a><div class="props_rev_3"><a id="GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D" name="GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D"></a><h6 id="ADFNS-GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D" class="sect6">Potentially Editioned Objects with Noneditioned Dependents</h6>
                        <div>
                           <p>If a potentially editioned object has a noneditioned dependent, then you can enable editions for the owner of the potentially editioned object only if one of the following is true:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Enabling editions for the owner of the potentially editioned object would cause the noneditioned dependent to become editioned.</p>
                              </li>
                              <li>
                                 <p>You specify <code class="codeph">FORCE</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER USER <span class="italic">user</span> ENABLE EDITIONS [ FOR <span class="italic">type</span> [, <span class="italic">type</span> ]... ] <span class="bold">FORCE</span>;
</pre><p>The preceding statement enables editions for the specified user and invalidates noneditioned dependents of editioned objects.</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D__GUID-4744EFAB-5B55-44AB-8F42-1C7EE03F3A4C">
                              <p class="notep1">Note:</p>
                              <p>If the preceding statement invalidates a noneditioned dependent object that contains an Abstract Data Type (ADT), and you drop the edition that contains the editioned object on which the invalidated object depends, then you cannot recompile the invalidated object. Therefore, the object remains invalid.</p>
                           </div>
                           <p><code class="codeph">FORCE</code> is useful in the following situation: You must editions-enable users <code class="codeph">A</code> and <code class="codeph">B</code>. User <code class="codeph">A</code> owns potentially editioned objects <code class="codeph">a1</code> and <code class="codeph">a2</code>. User <code class="codeph">B</code> owns potentially editioned objects <code class="codeph">b1</code> and <code class="codeph">b2</code>. Object <code class="codeph">a1</code> depends on object <code class="codeph">b1</code>. Object <code class="codeph">b2</code> depends on object <code class="codeph">a2</code>. Editions-enable users <code class="codeph">A</code> and <code class="codeph">B</code> like this:
                           </p>
                           <ol>
                              <li>
                                 <p>Using <code class="codeph">FORCE</code>, enable editions for user <code class="codeph">A</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER USER A ENABLE EDITIONS FORCE;
</pre><p>Now <code class="codeph">a1</code> and <code class="codeph">a2</code> are editioned objects, and noneditioned object <code class="codeph">b2</code> (which depends on <code class="codeph">a2</code>) is invalid.
                                 </p>
                              </li>
                              <li>
                                 <p>Enable editions for user <code class="codeph">B</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER USER B ENABLE EDITIONS;
</pre><p>Now <code class="codeph">b1</code> and <code class="codeph">b2</code> are editioned objects; however, <code class="codeph">b2</code> is still invalid.
                                 </p>
                              </li>
                              <li>
                                 <p>Recompile <code class="codeph">b2</code>, using the appropriate <code class="codeph">ALTER</code> statement with <code class="codeph">COMPILE</code>. For a PL/SQL object, also specify <code class="codeph">REUSE</code> <code class="codeph">SETTINGS</code>.
                                 </p>
                                 <p>For example, if <code class="codeph">b2</code> is a procedure, use this statement:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER PROCEDURE b2 COMPILE REUSE SETTINGS
</pre></li>
                           </ol>
                           <p><code class="codeph">FORCE</code> is unnecessary in the following situation: You must editions-enable user <code class="codeph">C</code>, who owns potentially editioned object <code class="codeph">c1</code>. Object <code class="codeph">c1</code> has dependent <code class="codeph">d1</code>, a potentially editioned object owned by user <code class="codeph">D</code>. User <code class="codeph">D</code> owns no potentially editioned objects that have dependents owned by <code class="codeph">C</code>. If you editions-enable <code class="codeph">D</code> first, making <code class="codeph">d1</code> an editioned object, then you can editions-enable <code class="codeph">C</code> without violating the rule that a noneditioned object cannot depend on an editioned object.
                           </p>
                           <div class="infoboxnotealso" id="GUID-93114A16-ED9E-44C0-B027-D7E9CA208E1D__NOTE-137-CB5C9384">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99974" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> statements for PL/SQL objects
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF008" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> statements for SQL objects
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810">Invalidation of Dependent Objects</a> for information about invalidation of dependent objects
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="ADFNS1283"></a><div class="props_rev_3"><a id="GUID-91AC1B6E-4D95-4A13-B8F8-C199D8551DA6" name="GUID-91AC1B6E-4D95-4A13-B8F8-C199D8551DA6"></a><h6 id="ADFNS-GUID-91AC1B6E-4D95-4A13-B8F8-C199D8551DA6" class="sect6">Users Who Cannot Have Editions Enabled</h6>
                        <div>
                           <p>You cannot enable editions for these users:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle-maintained users</p>
                                 <p>For an Oracle-maintained user, the value of the column ORACLE_MAINTAINED is Y in the *_USERS views.</p>
                              </li>
                              <li>
                                 <p>Common users in a CDB</p>
                              </li>
                              <li>
                                 <p>A user who owns one or more evolved ADTs.</p>
                                 <p>Trying to do so causes error ORA-38820. If an ADT has no table dependents, you can use the <code class="codeph">ALTER</code> <code class="codeph">TYPE</code> <code class="codeph">RESET</code> statement to reset its version to 1, so that it is no longer considered to be evolved. (Resetting the version of an ADT to 1 invalidates its dependents.) 
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-91AC1B6E-4D95-4A13-B8F8-C199D8551DA6__NOTE-134-CB5CE743">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN13508" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about common users in a CDB
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99995" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <code class="codeph">ALTER</code> <code class="codeph">TYPE</code> <code class="codeph">RESET</code> statement
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADFNS1285"></a><a id="ADFNS1284"></a><div class="props_rev_3"><a id="GUID-8329DD56-528C-4848-AEE5-EC6640A4B228" name="GUID-8329DD56-528C-4848-AEE5-EC6640A4B228"></a><h5 id="ADFNS-GUID-8329DD56-528C-4848-AEE5-EC6640A4B228" class="sect5">EDITIONABLE and NONEDITIONABLE Properties</h5>
                     <div>
                        <div class="infoboxnote" id="GUID-8329DD56-528C-4848-AEE5-EC6640A4B228__GUID-5B070913-81FC-4D1A-A038-C4A03A042156">
                           <p class="notep1">Note:</p>
                           <p>When a database is upgraded from Release 11.2 to Release 12.1, objects in user-created schemas get the <code class="codeph">EDITIONABLE</code> property and public synonyms get the <code class="codeph">NONEDITIONABLE</code> property.
                           </p>
                        </div>
                        <p>The <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> statements for the schema object types that are editionable in the database let you specify that the object you are creating or altering is <code class="codeph">EDITIONABLE</code> or <code class="codeph">NONEDITIONABLE</code>.
                        </p>
                        <p>The <code class="codeph">DBMS_SQL_TRANSLATOR.CREATE_PROFILE</code> procedure lets you specify that the SQL translation profile that you are creating is <code class="codeph">EDITIONABLE</code> or <code class="codeph">NONEDITIONABLE</code>.
                        </p>
                        <p>To see which objects are <code class="codeph">EDITIONABLE</code>, see the <code class="codeph">EDITIONABLE</code> column of the static data dictionary view <code class="codeph">*_OBJECTS</code> or <code class="codeph">*_OBJECTS_AE</code> .
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-8329DD56-528C-4848-AEE5-EC6640A4B228__GUID-6927AC8D-1596-4949-9E11-2A67C88DD987">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-008D6CB5-53C6-4920-879C-4DECA6405304">Creating New EDITIONABLE and NONEDITIONABLE Objects</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-4B118A0F-60D8-4F38-99EF-F7645037CA21">Replacing or Altering EDITIONABLE and NONEDITIONABLE Objects</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-8329DD56-528C-4848-AEE5-EC6640A4B228__GUID-0B1A2F9C-4E2D-4C3C-BC8E-6FB88B5E04CA">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99979" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax and semantics of the <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> statements for PL/SQL schema objects
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF-GUID-049B7AE8-11E1-4110-B3E4-D117907D77AC" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the syntax and semantics of the <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> statements for SQL schema objects
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS73547" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_SQL_TRANSLATOR.CREATE_PROFILE</code> procedure
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../refrn/ALL_OBJECTS.html#REFRN20146" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">*_OBJECTS</code></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20578" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">*_OBJECTS_AE</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1286"></a><div class="props_rev_3"><a id="GUID-008D6CB5-53C6-4920-879C-4DECA6405304" name="GUID-008D6CB5-53C6-4920-879C-4DECA6405304"></a><h6 id="ADFNS-GUID-008D6CB5-53C6-4920-879C-4DECA6405304" class="sect6">Creating New EDITIONABLE and NONEDITIONABLE Objects</h6>
                        <div>
                           <div class="section">
                              <p>When you create a new schema object whose type is editionable in the database, you can specify the property <code class="codeph">EDITIONABLE</code> or <code class="codeph">NONEDITIONABLE</code>. If you omit the property, then the object is <code class="codeph">EDITIONABLE</code> by default unless it is one of the following:
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">PUBLIC</code> <code class="codeph">SYNONYM</code>, which is <code class="codeph">NONEDITIONABLE</code> by default
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PACKAGE</code> <code class="codeph">BODY</code>, which inherits the property of the package specification
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPE</code> <code class="codeph">BODY</code>, which inherits the property of the type specification
                                    </p>
                                 </li>
                              </ul>
                              <p>For <code class="codeph">PACKAGE</code> <code class="codeph">BODY</code> or <code class="codeph">TYPE</code> <code class="codeph">BODY</code>, if you specify a property, then it must match the property of the corresponding package or type specification.
                              </p>
                              <p>When you create an <code class="codeph">EDITIONABLE</code> object of a type that is editionable in its schema, the new object is an editioned object that is visible only in the edition that is current when the object is created. Creating an editioned object is a live operation with respect to the editions in which the new object is invisible.
                              </p>
                              <p>When you create either an object with the <code class="codeph">NONEDITIONABLE</code> property or an object whose type is noneditionable in its schema, the new object is a noneditioned object, which is visible to all editions.
                              </p>
                              <p>Suppose that in the current edition, your schema has no schema object named <code class="codeph">obj</code>, but in another edition, your schema has an editioned object named <code class="codeph">obj</code>. You can create an object named <code class="codeph">obj</code> in your schema in the current edition, but it must be an editioned object (that is, uniquely identified by its <code class="codeph">OBJECT_NAME</code>, <code class="codeph">OWNER</code>, and <code class="codeph">EDITION_NAME</code>). The type of the new object (which can be different from the type of the existing editioned object with the same name) must be editionable in your schema and the new object must have the <code class="codeph">EDITIONABLE</code> property.
                              </p>
                              <div class="infoboxnotealso" id="GUID-008D6CB5-53C6-4920-879C-4DECA6405304__NOTE-1326-CB5E351F">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="editions.html#GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C">Current Edition and Session Edition</a> for information about the current edition
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="editions.html#GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F">Example: Dropping an Editioned Object</a></p>
                                    </li>
                                    <li>
                                       <p><a href="editions.html#GUID-E5413F14-76A9-432E-A3AC-C162266B43DE">Example: Creating an Object with the Name of a Dropped Inherited Object</a></p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADFNS1287"></a><div class="props_rev_3"><a id="GUID-4B118A0F-60D8-4F38-99EF-F7645037CA21" name="GUID-4B118A0F-60D8-4F38-99EF-F7645037CA21"></a><h6 id="ADFNS-GUID-4B118A0F-60D8-4F38-99EF-F7645037CA21" class="sect6">Replacing or Altering EDITIONABLE and NONEDITIONABLE Objects</h6>
                        <div>
                           <div class="section">
                              <p>When you replace or alter an existing object (with the <code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> or <code class="codeph">ALTER</code> statement):
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the schema is not enabled for editions, then you can change the property of the object from <code class="codeph">EDITIONABLE</code> to <code class="codeph">NONEDITIONABLE</code>, or the reverse.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the schema is enabled for editions for the type of the object being replaced or altered, then you cannot change the property of the object from <code class="codeph">EDITIONABLE</code> to <code class="codeph">NONEDITIONABLE</code>, or the reverse.
                                    </p>
                                 </li>
                              </ul>
                              <p>Altering an editioned object is a live operation with respect to the editions in which the altered object is invisible.</p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="ADFNS1288"></a><div class="props_rev_3"><a id="GUID-156B1E2C-1543-4F2F-BCF1-A9BA86353D59" name="GUID-156B1E2C-1543-4F2F-BCF1-A9BA86353D59"></a><h5 id="ADFNS-GUID-156B1E2C-1543-4F2F-BCF1-A9BA86353D59" class="sect5">Rules for Editioned Objects</h5>
                     <div>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A noneditioned object usually cannot depend on an editioned object .</p>
                           </li>
                           <li>
                              <p>An Abstract Data Type (ADT) cannot be both editioned and evolved.</p>
                           </li>
                           <li>
                              <p>An editioned object cannot be the starting or ending point of a <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> constraint.
                              </p>
                              <p>This rule affects only editioned views. An editioned view can be either an ordinary view or an editioning view.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-156B1E2C-1543-4F2F-BCF1-A9BA86353D59__NOTE-133-CB5F43DE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-42FA041C-5C7D-4C33-B1F8-188B2C784121">Name Resolution for Editioned and Noneditioned Objects</a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADOBJ00603" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for information about type evolution
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS899"></a><div class="props_rev_3"><a id="GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC" name="GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC"></a><h4 id="ADFNS-GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC" class="sect4">Creating an Edition</h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC__GUID-0C9EC78A-54D0-4DA2-AA77-72F7BCE0F178">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends against creating editions in the Root of a CDB.</p>
                        </div>
                        <p>To create an edition, use the SQL statement <code class="codeph">CREATE</code> <code class="codeph">EDITION</code>.
                        </p>
                        <p>You must create the edition as the child of an existing edition. The parent of the first edition created with a <code class="codeph">CREATE</code> <code class="codeph">EDITION</code> statement is <code class="codeph">ora$base</code>. This statement creates the edition <code class="codeph">e2</code> as the child of <code class="codeph">ora$base</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e2
</pre><p>(<a href="editions.html#GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A">Example: Editioned Objects and Copy-on-Change</a> and others use the preceding statement.)
                        </p>
                        <p>An edition can have at most one child.</p>
                        <p>The <span class="bold">descendents</span> of an edition are its child, its child's child, and so on. The <span class="bold">ancestors</span> of an edition are its parent, its parent's parent, and so on. The <span class="bold">root edition</span> has no parent, and a <span class="bold">leaf edition</span> has no child.
                        </p>
                        <div class="infoboxnotealso" id="GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC__GUID-1723FE67-A7F3-4ECD-AF32-4ACE05B1209F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF20017" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">EDITION</code> statement, including the privileges required to use it
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN13508" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about CDBs
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS900"></a><a id="ADFNS901"></a><a id="ADFNS902"></a><a id="ADFNS99922"></a><div class="props_rev_3"><a id="GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC" name="GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC"></a><h4 id="ADFNS-GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC" class="sect4">Editioned Objects and Copy-on-Change</h4>
                  <div>
                     <p>When you create an edition, all editioned objects in its parent edition are copied to it. Changes to an editioned object in one edition do not affect copies of that editioned object in other editions.</p>
                     <p>The preceding paragraph describes what happens conceptually. In practice, to optimize performance, Oracle Database copies an editioned object from an ancestor edition to a descendent edition only when the descendent edition changes the object. This strategy is called <span class="bold">copy-on-change</span>.
                     </p>
                     <p>An editioned object that was conceptually (but not actually) copied to a descendent edition is called an <span class="bold">inherited object</span>. When a user of the descendent edition references an inherited object in a DDL statement, Oracle Database actually copies the object to the descendent edition. This copying operation is called <span class="bold">actualization</span>, and it creates an <span class="bold">actual object</span> in the descendent edition.
                     </p>
                     <div class="infoboxnote" id="GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC__GUID-7B196719-572C-4D6B-B8C0-BC7270FE0C05">
                        <p class="notep1">Note:</p>
                        <p>There is one exception to the actualization rule in the preceding paragraph: When a <code class="codeph">CREATE</code> <code class="codeph">OR</code> <code class="codeph">REPLACE</code> <span class="italic"><code class="codeph">object</code></span> statement replaces an inherited object with an identical object (that is, an object with the same source code and settings), Oracle Database <span class="italic">does not</span> create an actual object in the descendent edition.
                        </p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A" name="GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A"></a><h5 id="ADFNS-GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A" class="sect5">Example: Editioned Objects and Copy-on-Change</h5>
                     <div>
                        <p><a href="editions.html#GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A__BABFFCHG">Example 27-1</a> creates a procedure named <code class="codeph">hello</code> in the edition <code class="codeph">ora$base</code>, and then creates the edition <code class="codeph">e2</code> as a child of <code class="codeph">ora$base</code>. When <code class="codeph">e2</code> invokes <code class="codeph">hello</code>, it invokes the inherited procedure in <code class="codeph">ora$base</code>. Then <code class="codeph">e2</code> changes <code class="codeph">hello</code>, actualizing it. Now when <code class="codeph">e2</code> invokes <code class="codeph">hello</code>, it invokes its own actual procedure. The procedure <code class="codeph">hello</code> in the edition <code class="codeph">ora$base</code> remains unchanged.
                        </p>
                        <div class="example" id="GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A__BABFFCHG">
                           <p class="titleinexample">Example 27-1 Editioned Objects and Copy-on-Change</p>
                           <ol>
                              <li>
                                 <p>Assume that this procedure is an editioned object in <code class="codeph">ora$base</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE hello IS
  BEGIN
    DBMS_OUTPUT.PUT_LINE('Hello, edition 1.');
  END hello;
/
</pre></li>
                              <li>
                                 <p>In <code class="codeph">ora$base</code>, invoke the procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">Hello, edition 1.</span>
 
PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>Create a child edition:</p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e2;
</pre><p>Conceptually, the procedure is copied to the child edition, and only the copy is visible in the child edition. The copy is an inherited object, not an actual object.</p>
                              </li>
                              <li>
                                 <p>Use the child edition:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e2;
</pre><p></p>
                              </li>
                              <li>
                                 <p>Invoke the procedure:</p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>Conceptually, the child edition invokes its own copy of the procedure (which is identical to the procedure in the parent edition, <code class="codeph">ora$base</code>). However, the child edition actually invokes the procedure in the parent edition. Result:
                                 </p><pre class="oac_no_warn" dir="ltr"><span class="bold">Hello, edition 1.</span>
 
PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>Change the procedure:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE hello IS
  BEGIN
    DBMS_OUTPUT.PUT_LINE('Hello, edition <span class="bold">2</span>.');
  END hello;
/
</pre><p>Oracle Database actualizes the procedure in the child edition, and the change affects only the actual object in the child edition, not the procedure in the parent edition.</p>
                              </li>
                              <li>
                                 <p>Invoke the procedure:</p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>The child edition invokes its own actual procedure:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">Hello, edition 2.</span>

PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>Return to the parent edition:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = ora$base;
</pre></li>
                              <li>
                                 <p>Invoke the procedure and see that it has not changed:</p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">Hello, edition 1.</span>
 
PL/SQL procedure successfully completed.
</pre></li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A__NOTE-1241-CB7E25B8">
                              <p class="notep1">See Also:</p>
                              <p><a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a> for information about <code class="codeph">ALTER SESSION SET EDITION</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F" name="GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F"></a><h5 id="ADFNS-GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F" class="sect5">Example: Dropping an Editioned Object</h5>
                     <div>
                        <p><a href="editions.html#GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F__BABHACJF">Example 27-2</a> creates a procedure named <code class="codeph">goodbye</code> in the edition <code class="codeph">ora$base</code>, and then creates edition <code class="codeph">e2</code> as a child of <code class="codeph">ora$base</code>. After <code class="codeph">e2</code> drops <code class="codeph">goodbye</code>, it can no longer invoke it, but <code class="codeph">ora$base</code> can still invoke it.
                        </p>
                        <p>Because <code class="codeph">e2</code> dropped the procedure <code class="codeph">goodbye</code>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Its descendents do not inherit the procedure <code class="codeph">goodbye</code>.
                              </p>
                           </li>
                           <li>
                              <p>No object named <code class="codeph">goodbye</code> is visible in <code class="codeph">e2</code>, so <code class="codeph">e2</code> can create an object named <code class="codeph">goodbye</code>, but it must be an editioned object. If <code class="codeph">e2</code> creates a new editioned object named <code class="codeph">goodbye</code>, then the descendents of <code class="codeph">e2</code> inherit that object.
                              </p>
                           </li>
                        </ul>
                        <div class="example" id="GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F__BABHACJF">
                           <p class="titleinexample">Example 27-2 Dropping an Editioned Object</p>
                           <ol>
                              <li>
                                 <p>Assume that this procedure is an editioned object in <code class="codeph">ora$base</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE goodbye IS
  BEGIN
    DBMS_OUTPUT.PUT_LINE('Good-bye!');
  END goodbye;
/
</pre></li>
                              <li>
                                 <p>Invoke the procedure:</p><pre class="oac_no_warn" dir="ltr">BEGIN goodbye; END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Good-bye!
 
PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>Create edition <code class="codeph">e2</code> as a child of <code class="codeph">ora$base</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e2;
</pre><p>In <code class="codeph">e2</code>, the procedure is an inherited object.
                                 </p>
                              </li>
                              <li>
                                 <p>Use edition <code class="codeph">e2</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e2;
</pre><p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">EDITION</code> must be a top-level SQL statement.
                                 </p>
                              </li>
                              <li>
                                 <p>In <code class="codeph">e2</code>, invoke the procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN goodbye; END;
/
</pre><p><code class="codeph">e2</code> invokes the procedure in <code class="codeph">ora$base</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">Good-bye!
 
PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>In <code class="codeph">e2</code>, drop the procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">DROP PROCEDURE goodbye;
</pre></li>
                              <li>
                                 <p>In <code class="codeph">e2</code>, try to invoke the dropped procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN goodbye; END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">BEGIN goodbye; END;
      *
ERROR at line 1:
ORA-06550: line 1, column 7:
PLS-00201: identifier 'GOODBYE' must be declared
ORA-06550: line 1, column 7:
PL/SQL: Statement ignored
</pre></li>
                              <li>
                                 <p>Return to <code class="codeph">ora$base</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = ora$base;
</pre></li>
                              <li>
                                 <p>In <code class="codeph">ora$base</code>, invoke the procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN goodbye; END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Good-bye!
 
PL/SQL procedure successfully completed.
</pre></li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F__NOTE-1271-CB7EF2F4">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../lnpls/DROP-PROCEDURE-statement.html#LNPLS99991" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>, for more information about the <code class="codeph">DROP</code> <code class="codeph">PROCEDURE</code> statement, including the privileges required to use it
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="editions.html#GUID-008D6CB5-53C6-4920-879C-4DECA6405304">Creating New EDITIONABLE and NONEDITIONABLE Objects</a></p>
                                 </li>
                                 <li>
                                    <p><a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a> for more information about <code class="codeph">ALTER SESSION SET EDITION</code></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-E5413F14-76A9-432E-A3AC-C162266B43DE" name="GUID-E5413F14-76A9-432E-A3AC-C162266B43DE"></a><h5 id="ADFNS-GUID-E5413F14-76A9-432E-A3AC-C162266B43DE" class="sect5">Example: Creating an Object with the Name of a Dropped Inherited Object</h5>
                     <div>
                        <p>In <a href="editions.html#GUID-E5413F14-76A9-432E-A3AC-C162266B43DE__BABEADAA">Example 27-3</a>, <code class="codeph">e2</code> creates a function named <code class="codeph">goodbye</code> and then an edition named <code class="codeph">e3</code> as a child of <code class="codeph">e2</code>. When <code class="codeph">e3</code> tries to invoke the <span class="italic">procedure</span> <code class="codeph">goodbye</code> (which <code class="codeph">e2</code> dropped), an error occurs, but <code class="codeph">e3</code> successfully invokes the <span class="italic">function</span> <code class="codeph">goodbye</code> (which <code class="codeph">e2</code> created).
                        </p>
                        <div class="example" id="GUID-E5413F14-76A9-432E-A3AC-C162266B43DE__BABEADAA">
                           <p class="titleinexample">Example 27-3 Creating an Object with the Name of a Dropped Inherited Object</p>
                           <ol>
                              <li>
                                 <p>Return to <code class="codeph">e2</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e2;
</pre></li>
                              <li>
                                 <p>In <code class="codeph">e2</code>, create a function named <code class="codeph">goodbye</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION goodbye
  RETURN BOOLEAN
IS
BEGIN
  RETURN(TRUE);
END goodbye;
/
</pre><p>This function must be an editioned object. It has the <code class="codeph">EDITIONABLE</code> property by default. If the type <code class="codeph">FUNCTION</code> is not editionable in the schema, then you must use the <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement to make it editioned.
                                 </p>
                              </li>
                              <li>
                                 <p>Create edition <code class="codeph">e3</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e3 AS CHILD OF e2;
</pre><p>Edition <code class="codeph">e3</code> inherits the function <code class="codeph">goodbye</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Use edition <code class="codeph">e3</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e3;
</pre></li>
                              <li>
                                 <p>In <code class="codeph">e3</code>, try to invoke the <span class="italic">procedure</span> <code class="codeph">goodbye</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  goodbye;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">ERROR at line 2:
ORA-06550: line 2, column 3:
PLS-00306: wrong number or types of arguments in call to 'GOODBYE'
ORA-06550: line 2, column 3:
PL/SQL: Statement ignored
</pre></li>
                              <li>
                                 <p>In <code class="codeph">e3</code>, invoke <span class="italic">function</span> <code class="codeph">goodbye</code>:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  IF goodbye THEN
    DBMS_OUTPUT.PUT_LINE('Good-bye!');
  END IF;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Good-bye!
 
PL/SQL procedure successfully completed.</pre></li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-E5413F14-76A9-432E-A3AC-C162266B43DE__NOTE-1231-CB7FCD1A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a> for information about <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">EDITION</code></p>
                                 </li>
                                 <li>
                                    <p><a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a> for instructions to enable editions for a user
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS903"></a><div class="props_rev_3"><a id="GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A" name="GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A"></a><h4 id="ADFNS-GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A" class="sect4">Making an Edition Available to Some Users</h4>
                  <div>
                     <div class="section">
                        <p>As the creator of the edition, you automatically have the <code class="codeph">USE</code> privilege <code class="codeph">WITH</code> <code class="codeph">GRANT</code> <code class="codeph">OPTION</code> on it. To grant the <code class="codeph">USE</code> privilege on the edition to other users, use the SQL statement <code class="codeph">GRANT</code> <code class="codeph">USE</code> <code class="codeph">ON</code> <code class="codeph">EDITION</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A__NOTE-1312-CB604835">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01603" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">GRANT</code> statement
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS99876"></a><div class="props_rev_3"><a id="GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459" name="GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459"></a><h4 id="ADFNS-GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459" class="sect4">Making an Edition Available to All Users</h4>
                  <div>
                     <div class="section">
                        <p>To make an edition available to all users, either:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Grant the <code class="codeph">USE</code> privilege on the edition to <code class="codeph">PUBLIC</code>:
                              </p><pre class="oac_no_warn" dir="ltr">GRANT USE ON EDITION <span class="italic">edition_name</span> TO PUBLIC
</pre><p></p>
                           </li>
                           <li>
                              <p>Make the edition the database default edition:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT EDITION = <span class="italic">edition_name</span>
</pre><p>This has the side effect of allowing all users to use the edition, because it effectively grants the <code class="codeph">USE</code> privilege on <span class="italic"><code class="codeph">edition_name</code></span> to <code class="codeph">PUBLIC</code>.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459__NOTE-1322-CB608135">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01603" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">GRANT</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1292"></a><a id="ADFNS99921"></a><div class="props_rev_3"><a id="GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C" name="GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C"></a><h4 id="ADFNS-GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C" class="sect4">Current Edition and Session Edition</h4>
                  <div>
                     <p>Each database session uses exactly one edition at a time. The edition that a database session is using at any one time is called its <span class="bold">current edition</span>. When a database session begins, its current edition is its <span class="bold">session edition</span>, which is the edition in which it begins. If you change the session edition, the current edition changes to the same thing. However, there are situations in which the current edition and session edition differ.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4FDF6CA7-AA70-4DAC-A5F6-B75CF4AB383C__GUID-6E6DD368-8880-41AE-9EA1-0A3CFFBDC9D2">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="editions.html#GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74">Your Initial Session Edition</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-87387D05-8BEB-4A47-8F8A-77EDD15224F2">Displaying the Names of the Current and Session Editions</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A">When the Current Edition Might Differ from the Session Edition</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS904"></a><div class="props_rev_3"><a id="GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74" name="GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74"></a><h5 id="ADFNS-GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74" class="sect5">Your Initial Session Edition</h5>
                     <div>
                        <p>When you connect to the database, you can specify your initial session edition. Your initial session edition can be the database default edition or any edition on which you have the <code class="codeph">USE</code> privilege. To see the names of the editions that are available to you, use this query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT EDITION_NAME FROM ALL_EDITIONS;
</pre><p>How you specify your initial session edition at connection time depends on how you connect to the database—see the documentation for your interface.</p>
                        <div class="infoboxnotealso" id="GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74__GUID-605834B3-EEF8-4334-9860-06A53E4FC768">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN13170" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about setting the database default edition
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQPUG013" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a> for information about connecting to the database with SQL*Plus
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI08100" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for information about connecting to the database with Oracle Call Interface (OCI)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about connecting to the database with JDBC
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), if you do not specify your session edition at connection time, then:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you use a database service to connect to the database, and an initial session edition was specified for that service, then the initial session edition for the service is your initial session edition.</p>
                           </li>
                           <li>
                              <p>Otherwise, your initial session edition is the database default edition.</p>
                           </li>
                        </ul>
                        <p>As of Release 11.2.0.2, when you create or modify a database service, you can specify its initial session edition.</p>
                        <p>To create or modify a database service, Oracle recommends using the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">service</code> or <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">service</code> command. To specify the default initial session edition of the service, use the <code class="codeph">-edition</code> option.
                        </p>
                        <p>Alternatively, you can create or modify a database service with the <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">CREATE_SERVICE</code> or <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">MODIFY_SERVICE</code> procedure, and specify the default initial session edition of the service with the <code class="codeph">EDITION</code> attribute.
                        </p>
                        <div class="infoboxnote" id="GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74__GUID-622CFC88-4CD7-4453-B08A-66590E2C14A7">
                           <p class="notep1">Note:</p>
                           <p>As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.1), the <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">CREATE_SERVICE</code> and <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">MODIFY_SERVICE</code> procedures are deprecated in databases managed by Oracle Clusterware and Oracle Restart.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-267CE6EB-C904-491C-8B73-DD28DBD1DF74__GUID-90D9710A-7F8C-4202-A1B3-F3DC8FBD9109">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN12956" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about the <code class="codeph">-edition</code> option of the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">service</code> command
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN12980" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about the <code class="codeph">-edition</code> option of the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">service</code> command
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS68021" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">EDITION</code> attribute of the <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">CREATE_SERVICE</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS68027" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">EDITION</code> attribute of the <code class="codeph">DBMS_SERVICE</code>.<code class="codeph">MODIFY_SERVICE</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="ADFNS905"></a><div class="props_rev_3"><a id="GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B" name="GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B"></a><h5 id="ADFNS-GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B" class="sect5">Changing Your Session Edition</h5>
                     <div>
                        <div class="section">
                           <p>After connecting to the database, you can change your session edition with the SQL statement <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">EDITION</code>. You can change your session edition to the database default edition or any edition on which you have the <code class="codeph">USE</code> privilege. When you change your session edition, your current edition changes to that same edition.
                           </p>
                           <p>These statements from <a href="editions.html#GUID-72EE5A42-34E7-49CE-BA1D-213DABE29E6A">Example: Editioned Objects and Copy-on-Change</a> and <a href="editions.html#GUID-8A0ECFF9-CCC6-40D1-82B0-DFD8BA09FC4F">Example: Dropping an Editioned Object</a> change the session edition (and current edition) first to <code class="codeph">e2</code> and later to <code class="codeph">ora$base</code>:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e2
...
ALTER SESSION SET EDITION = ora$base</pre><div class="infoboxnote" id="GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B__GUID-D01FA8CF-EA9E-468A-99CB-84F5A9CC1751">
                              <p class="notep1">Note:</p>
                              <p><code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">EDITION</code> must be a top-level SQL statement. To defer an edition change (in a logon trigger, for example), use the <code class="codeph">DBMS_SESSION</code>.<code class="codeph">SET_EDITION_DEFERRED</code> procedure.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B__GUID-7EC350FC-C210-4C64-92A5-869019DA7BA3">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00901" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">EDITION</code> statement
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS72968" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SESSION</code>.<code class="codeph">SET_EDITION_DEFERRED</code> procedure
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS906"></a><div class="props_rev_3"><a id="GUID-87387D05-8BEB-4A47-8F8A-77EDD15224F2" name="GUID-87387D05-8BEB-4A47-8F8A-77EDD15224F2"></a><h5 id="ADFNS-GUID-87387D05-8BEB-4A47-8F8A-77EDD15224F2" class="sect5">Displaying the Names of the Current and Session Editions</h5>
                     <div>
                        <div class="section">
                           <p>This statement returns the name of the current edition:</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'CURRENT_EDITION_NAME') FROM DUAL;
</pre><p>This statement returns the name of the session edition:</p><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT('USERENV', 'SESSION_EDITION_NAME') FROM DUAL;</pre><div class="infoboxnotealso" id="GUID-87387D05-8BEB-4A47-8F8A-77EDD15224F2__GUID-EA9E128B-BB95-4850-A941-D5CC0A72B6DF">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF06117" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">SYS_CONTEXT</code> function
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS908"></a><a id="ADFNS907"></a><div class="props_rev_3"><a id="GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A" name="GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A"></a><h5 id="ADFNS-GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A" class="sect5">When the Current Edition Might Differ from the Session Edition</h5>
                     <div>
                        <p>The current edition might differ from the session edition in these situations:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A crossedition trigger fires.</p>
                           </li>
                           <li>
                              <p>You run a statement by calling the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure, specifying the edition in which the statement is to run, as in <a href="editions.html#GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A__CHDBCBEF">Example 27-4</a>.
                              </p>
                              <p>While the statement is running, the current edition is the specified edition, but the session edition does not change.</p>
                           </li>
                        </ul>
                        <p><a href="editions.html#GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A__CHDBCBEF">Example 27-4</a> creates a function that returns the names of the session edition and current edition. Then it creates a child edition, which invokes the function twice. The first time, the session edition and current edition are the same. The second time, they are not, because a different edition is passed as a parameter to the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure.
                        </p>
                        <div class="example" id="GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A__CHDBCBEF">
                           <p class="titleinexample">Example 27-4 Current Edition Differs from Session Edition</p>
                           <ol>
                              <li>
                                 <p>Create function that returns the names of the session edition and current edition:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION session_and_current_editions
  RETURN VARCHAR2
IS
BEGIN
  RETURN
  'Session: '|| SYS_CONTEXT('USERENV', 'SESSION_EDITION_NAME') ||
  ' / ' ||
  'Current: '|| SYS_CONTEXT('USERENV', 'CURRENT_EDITION_NAME');
END session_and_current_editions;
/
</pre></li>
                              <li>
                                 <p>Create child edition:</p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e2 AS CHILD OF ora$base;
</pre></li>
                              <li>
                                 <p>Use child edition:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">ALTER SESSION SET EDITION = e2;</span>
</pre></li>
                              <li>
                                 <p>Invoke function:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_OUTPUT.PUT_LINE (session_and_current_editions());
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">Session: E2 / Current: E2</span>
 
PL/SQL procedure successfully completed.
</pre></li>
                              <li>
                                 <p>Invoke function again:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c     NUMBER := DBMS_SQL.OPEN_CURSOR();
  v     VARCHAR2(200);
  dummy NUMBER;
  <span class="bold">stmt  CONSTANT VARCHAR2(32767)</span>
    <span class="bold">:= 'SELECT session_and_current_editions() FROM DUAL';</span>
BEGIN
  <span class="bold">DBMS_SQL.PARSE</span> (c =&gt; c,
                  <span class="bold">statement =&gt; stmt</span>,
                  language_flag =&gt; DBMS_SQL.NATIVE,
                  <span class="bold">edition =&gt; 'ora$base'</span>);
 
  DBMS_SQL.DEFINE_COLUMN (c, 1, v, 200);
  dummy := DBMS_SQL.EXECUTE_AND_FETCH (c, true);
  DBMS_SQL.COLUMN_VALUE (c, 1, v);
  DBMS_SQL.CLOSE_CURSOR(c);
  DBMS_OUTPUT.PUT_LINE (v);
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr"><span class="bold">Session: E2 / Current: ORA$BASE</span>
 
PL/SQL procedure successfully completed.</pre></li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A__NOTE-1261-CB81321C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="editions.html#GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1">Crossedition Trigger Interaction with Editions</a></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS68277" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS99920"></a><div class="props_rev_3"><a id="GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD" name="GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD"></a><h4 id="ADFNS-GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD" class="sect4">Retiring an Edition</h4>
                  <div>
                     <div class="section">
                        <p>After making a new edition (an upgraded application) available to all users, retire the old edition (the original application), so that no user except <code class="codeph">SYS</code> can use the old edition.
                        </p>
                        <div class="infoboxnote" id="GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD__GUID-66ABC8B4-0C73-4158-9F71-FABF0974259E">
                           <p class="notep1">Note:</p>
                           <p>If the old edition is the database default edition, make another edition the database default edition before you retire the old edition:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT EDITION = <span class="italic">edition_name</span>
</pre></div>
                        <p>To retire an edition, you must revoke the <code class="codeph">USE</code> privilege on the edition from every grantee. To list the grantees, use this query, where :<code class="codeph">e</code> is a placeholder for the name of the edition to be dropped:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT GRANTEE, PRIVILEGE
FROM DBA_TAB_PRIVS
WHERE TABLE_NAME = :e AND TYPE = 'EDITION'
/
</pre><p>When you retire an edition, update the evaluation editions and unusable editions of noneditioned objects accordingly. </p>
                        <div class="infoboxnotealso" id="GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD__NONEDITIONEDOBJECTSTHATCANDEPENDONE-CBC6D8C4">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-489F83FF-A86D-47BE-9B28-952E076C3874">Noneditioned Objects That Can Depend on Editioned Objects</a> for information about changing evaluation editions and unused editions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01609" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">REVOKE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS99919"></a><div class="props_rev_3"><a id="GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA" name="GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA"></a><h4 id="ADFNS-GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA" class="sect4">Dropping an Edition</h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA__GUID-1C55F191-1C86-4392-A23B-ECFB7AA4CA0C">
                           <p class="notep1">Note:</p>
                           <p>If the edition includes crossedition triggers, see <a href="editions.html#GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D">Dropping the Crossedition Triggers</a>, before you drop the edition.
                           </p>
                        </div>
                        <p><a id="d160084e5802" class="indexterm-anchor"></a>To drop an edition, use the <code class="codeph">DROP</code> <code class="codeph">EDITION</code> statement. If the edition has actual objects, you must specify the <code class="codeph">CASCADE</code> clause, which drops the actual objects.
                        </p>
                        <p>If a <code class="codeph">DROP</code> <code class="codeph">EDITION</code> <span class="italic"><code class="codeph">edition</code></span> <code class="codeph">CASCADE</code> statement is interrupted before finishing normally (from a power failure, for example), the static data dictionary view <code class="codeph">*_EDITIONS</code> shows that the value of <code class="codeph">USABLE</code> for <span class="italic"><code class="codeph">edition</code></span> is <code class="codeph">NO</code>. The only operation that you can perform on such an unusable <span class="italic"><code class="codeph">edition</code></span> is <code class="codeph">DROP</code> <code class="codeph">EDITION</code> <code class="codeph">CASCADE</code>.
                        </p>
                        <p>You drop an edition in these situations:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You want to roll back the application upgrade.</p>
                           </li>
                           <li>
                              <p>(Optional) You have retired the edition.</p>
                           </li>
                        </ul>
                        <p>You can drop an edition only if all of these statements are true:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The edition is either the root edition or a leaf edition.</p>
                           </li>
                           <li>
                              <p>The edition is not in use. (That is, it is not the current edition or session edition of a session.)</p>
                           </li>
                           <li>
                              <p>The edition is not the database default edition.</p>
                           </li>
                        </ul>
                        <p>If the edition is the root, and the <code class="codeph">COMPATIBLE</code> parameter is set to 12.2.0 or higher, the edition is marked as unusable. A covered object is an editioned object that is no longer inherited in any usable descendent edition. Each covered object in any unusable edition is dropped by an automated scheduled maintenance process. After there is no object left in the root unusable edition, the edition itself is dropped automatically. This cleanup process is repeated for each unusable root edition found. A user can run this process on demand by manually executing the <code class="codeph">DBMS_EDITIONS_UTILITIES</code>.<code class="codeph">CLEAN_UNUSABLE_EDITIONS</code> procedure (see <a href="../arpls/DBMS_EDITIONS_UTILITIES.html#ARPLS-GUID-40AD8944-D7E0-4ACA-9A05-3DC502F47D27" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>).
                        </p>
                        <p>If the <code class="codeph">COMPATIBLE</code> is set to 12.1.0 or lower, the root edition must have no objects that its descendents inherit. Each object inherited from the root edition must either be actualized or dropped explicitly before the edition can be dropped. 
                        </p>
                        <p>If the edition is the leaf, every editioned object in the leaf is dropped, followed by the edition itself before the statement finishes execution.</p>
                        <div class="infoboxnote" id="GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA__GUID-5312F8CA-A920-4630-A904-090FCD5F016A">
                           <p class="notep1">Note:</p>
                           <p>After you have dropped an edition, you cannot recompile a <a id="d160084e5907" class="indexterm-anchor"></a>noneditioned object that depends on an editioned object if both of the following are true:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The noneditioned object contains an ADT.</p>
                              </li>
                              <li>
                                 <p>The noneditioned object was invalidated when the owner of the editioned object on which it depends was enabled for editions using <code class="codeph">FORCE</code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>To explicitly actualize an inherited object in the child edition:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Make the child edition your session edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Recompile the object, using the appropriate <code class="codeph">ALTER</code> statement with <code class="codeph">COMPILE</code>. For a PL/SQL object, also specify <code class="codeph">REUSE</code> <code class="codeph">SETTINGS</code>.</span><div>
                              <p>For example, this statement actualizes the procedure <code class="codeph">p1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER PROCEDURE p1 COMPILE REUSE SETTINGS
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>When you drop an edition, update the <a id="d160084e5963" class="indexterm-anchor"></a>evaluation editions and <a id="d160084e5968" class="indexterm-anchor"></a>unusable editions of noneditioned objects accordingly.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA__GUID-AB865864-6AF4-446A-A04B-34A27017379F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/ALTER-LIBRARY.html#SQLRF00818" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">LIBRARY</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-VIEW.html#SQLRF01104" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">VIEW</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/ALTER-FUNCTION-statement.html#LNPLS99999" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">FUNCTION</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/ALTER-PACKAGE-statement.html#LNPLS99998" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">PACKAGE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/ALTER-PROCEDURE-statement.html#LNPLS99997" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">PROCEDURE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/ALTER-TRIGGER-statement.html#LNPLS99996" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">TRIGGER</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/ALTER-TYPE-statement.html#LNPLS99995" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">TYPE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF20019" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">DROP</code> <code class="codeph">EDITION</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/sql-statements-for-stored-plsql-units.html#LNPLS99974" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> statements for PL/SQL objects
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF008" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> statements for SQL objects.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-489F83FF-A86D-47BE-9B28-952E076C3874">Noneditioned Objects That Can Depend on Editioned Objects</a> for information about changing evaluation editions and unused editions
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1293"></a><a id="ADFNS0202"></a><div class="props_rev_3"><a id="GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B" name="GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B"></a><h3 id="ADFNS-GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B" class="sect3">Editioning Views</h3>
               <div>
                  <p>On a noneditioning view, the only type of trigger that you can define is an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger. On an editioning view, you can define every type of trigger that you can define on a table (except crossedition triggers, which are temporary, and <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers). Therefore, and because they can be editioned, editioning views let you treat their base tables as if the base tables were editioned. However, you cannot add indexes or constraints to an editioning view; if your upgraded application requires new indexes or constraints, you must add them to the base table.
                  </p>
                  <div class="infoboxnote" id="GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B__GUID-AAE65B2B-AEA0-4CAB-8414-CBF8A9BE20D1">
                     <p class="notep1">Note:</p>
                     <p>If you will change a base table or an index on a base table, then see <span class="q">"<a href="sql-processing-for-application-developers.html#GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2">Nonblocking and Blocking DDL Statements</a>."</span></p>
                  </div>
                  <p>An editioning view selects a subset of the columns from a single base table and, optionally, provides aliases for them. In providing aliases, the editioning view maps physical column names (used by the base table) to logical column names (used by the application). An editioning view is like an API for a table.</p>
                  <p>There is no performance penalty for accessing a table through an editioning view, rather than directly. That is, if a SQL <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, or <code class="codeph">MERGE</code> statement uses one or more editioning views, one or more times, and you replace each editioning view name with the name of its base table and adjust the column names if necessary, performance does not change.
                  </p>
                  <p>The static data dictionary view <code class="codeph">*_EDITIONING_VIEWS</code> describes every editioning view in the database that is visible in the session edition. <code class="codeph">*_EDITIONING_VIEWS_AE</code> describes every actual object in every editioning view in the database, in every edition.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B__GUID-4A8544E6-D2F7-42F5-A3D6-C1B38545664F">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="editions.html#GUID-0732E020-438E-436B-A0E4-234EAF60D8DE">Creating an Editioning View</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-34C95B6B-CB41-4ED0-B965-432A346CD488">Partition-Extended Editioning View Names</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-3B80F0F0-D893-4499-B172-1C7F1413429D">Changing the Writability of an Editioning View</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-0C09AC34-6E58-479D-98A6-8A8B10E4F174">Replacing an Editioning View</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-A483D542-35A4-45D8-8989-953AD88F30A4">Dropped or Renamed Base Tables</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-A2E893BC-4ADA-4F4D-A9CB-0011B93ACACC">Adding Indexes and Constraints to the Base Table</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA">SQL Optimizer Index Hints</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B027A882-3848-4DA1-ABF3-6F9F0F7EFB0B__GUID-9DBBB268-5D23-4872-82F7-F9051CFF11B8">
                        <p class="notep1">See Also:</p>
                        <p><span class="italic">Oracle Database Reference</span> for more information about the static data dictionary views <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20668" target="_blank"><code class="codeph">*_EDITIONING_VIEWS</code></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20683" target="_blank"><code class="codeph">*_EDITIONING_VIEWS_AE</code></a>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99916"></a><div class="props_rev_3"><a id="GUID-0732E020-438E-436B-A0E4-234EAF60D8DE" name="GUID-0732E020-438E-436B-A0E4-234EAF60D8DE"></a><h4 id="ADFNS-GUID-0732E020-438E-436B-A0E4-234EAF60D8DE" class="sect4">Creating an Editioning View</h4>
                  <div>
                     <div class="section">
                        <p>Before an editioning view is created, its owner must be editions-enabled and the schema object type <code class="codeph">VIEW</code> must be editionable in its owner.
                        </p>
                        <p>To create an editioning view, use the SQL statement <code class="codeph">CREATE</code> <code class="codeph">VIEW</code> with the keyword <code class="codeph">EDITIONING</code>. To make the editioning view read-only, specify <code class="codeph">WITH</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code>; to make it read-write, omit <code class="codeph">WITH</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code>. Do not specify <code class="codeph">NONEDITIONABLE</code>, or an error occurs.
                        </p>
                        <p>If an editioning view is <span class="bold">read-only</span>, users of the unchanged application can see the data in the base table, but cannot change it. The base table has <span class="bold">semi-availability</span>. Semi-availability is acceptable for applications such as online dictionaries, which users read but do not change. Make the editioning view read-only if you do not define crossedition triggers on the base table.
                        </p>
                        <p>If an editioning view is <span class="bold">read-write</span>, users of the unchanged application can both see and change the data in the base table. The base table has <span class="bold">maximum availability</span>. Maximum availability is required for applications such as online stores, where users submit purchase orders. If you define crossedition triggers on the base table, make the editioning view read-write.
                        </p>
                        <p>Because an editioning view must do no more than select a subset of the columns from the base table and provide aliases for them, the <code class="codeph">CREATE</code> <code class="codeph">VIEW</code> statement that creates an editioning view has restrictions. Violating the restrictions causes the creation of the view to fail, even if you specify <code class="codeph">FORCE</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-0732E020-438E-436B-A0E4-234EAF60D8DE__GUID-23701F3A-0451-4DCD-8E6E-BA771BF3F6ED">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01504" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about using the <code class="codeph">CREATE</code> <code class="codeph">VIEW</code> statement to create editioning views, including the restrictions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS913"></a><div class="props_rev_3"><a id="GUID-34C95B6B-CB41-4ED0-B965-432A346CD488" name="GUID-34C95B6B-CB41-4ED0-B965-432A346CD488"></a><h4 id="ADFNS-GUID-34C95B6B-CB41-4ED0-B965-432A346CD488" class="sect4">Partition-Extended Editioning View Names</h4>
                  <div>
                     <p>An editioning view defined on a partitioned table can have a partition-extended name, with partition and subpartition names that refer to the partitions and subpartitions of the base table.</p>
                     <p>The data manipulation language (DML) statements that support partition-extended table names also support partition-extended editioning view names. These statements are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DELETE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INSERT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SELECT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">UPDATE</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-34C95B6B-CB41-4ED0-B965-432A346CD488__GUID-C11D985B-4CA1-48FD-8506-4AAEBBFA281B">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00223" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about referring to partitioned tables
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS99915"></a><div class="props_rev_3"><a id="GUID-3B80F0F0-D893-4499-B172-1C7F1413429D" name="GUID-3B80F0F0-D893-4499-B172-1C7F1413429D"></a><h4 id="ADFNS-GUID-3B80F0F0-D893-4499-B172-1C7F1413429D" class="sect4">Changing the Writability of an Editioning View</h4>
                  <div>
                     <div class="section">
                        <p>To change an existing editioning view from read-only to read-write, use the SQL statement <code class="codeph">ALTER</code> <code class="codeph">VIEW</code> <code class="codeph">READ</code> <code class="codeph">WRITE</code>. To change an existing editioning view from read-write to read-only, use the SQL statement <code class="codeph">ALTER</code> <code class="codeph">VIEW</code> <code class="codeph">READ</code> <code class="codeph">ONLY</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3B80F0F0-D893-4499-B172-1C7F1413429D__GUID-099CE4D1-8ECD-47D9-AC43-36860A949D5B">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01104" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">VIEW</code> statement
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS911"></a><div class="props_rev_3"><a id="GUID-0C09AC34-6E58-479D-98A6-8A8B10E4F174" name="GUID-0C09AC34-6E58-479D-98A6-8A8B10E4F174"></a><h4 id="ADFNS-GUID-0C09AC34-6E58-479D-98A6-8A8B10E4F174" class="sect4">Replacing an Editioning View</h4>
                  <div>
                     <div class="section">
                        <p>To replace an editioning view, use the SQL statement <code class="codeph">CREATE</code> <code class="codeph">VIEW</code> with the <code class="codeph">OR</code> <code class="codeph">REPLACE</code> clause and the keyword <code class="codeph">EDITIONING</code>.
                        </p>
                        <p>You can replace an editioning view only with another editioning view. Any triggers defined on the replaced editioning view are retained.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS912"></a><div class="props_rev_3"><a id="GUID-A483D542-35A4-45D8-8989-953AD88F30A4" name="GUID-A483D542-35A4-45D8-8989-953AD88F30A4"></a><h4 id="ADFNS-GUID-A483D542-35A4-45D8-8989-953AD88F30A4" class="sect4">Dropped or Renamed Base Tables</h4>
                  <div>
                     <p>If you drop or rename the base table on which an editioning view is defined, the editioning view is not dropped, but the editioning view and its dependents become invalid. However, any triggers defined on the editioning view remain.</p>
                  </div>
               </div><a id="ADFNS914"></a><div class="props_rev_3"><a id="GUID-A2E893BC-4ADA-4F4D-A9CB-0011B93ACACC" name="GUID-A2E893BC-4ADA-4F4D-A9CB-0011B93ACACC"></a><h4 id="ADFNS-GUID-A2E893BC-4ADA-4F4D-A9CB-0011B93ACACC" class="sect4">Adding Indexes and Constraints to the Base Table</h4>
                  <div>
                     <div class="section">
                        <p>If your upgraded application requires new indexes or constraints, you must add them to the base table. You cannot add them to the editioning view.</p>
                        <p>If the new indexes might negatively impact the old edition (the original application), make them invisible. In the crossedition triggers that must use the new indexes, specify them in <code class="codeph">INDEX</code> hints.
                        </p>
                        <p>When all users are using only the upgraded application:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the new indexes were used only by the crossedition triggers, drop them.</p>
                           </li>
                           <li>
                              <p>If the new indexes are helpful in the upgraded application, make them visible.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-A2E893BC-4ADA-4F4D-A9CB-0011B93ACACC__GUID-3BAEEC67-F250-44C1-A442-6011A1D10A65">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="indexes.html#GUID-58E6B9ED-06AE-4232-806B-79C28E7F7956">Guidelines for Managing Indexes</a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF50405" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about <code class="codeph">INDEX</code> hints
                                 </p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA">SQL Optimizer Index Hints</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS918"></a><div class="props_rev_3"><a id="GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA" name="GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA"></a><h4 id="ADFNS-GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA" class="sect4">SQL Optimizer Index Hints</h4>
                  <div>
                     <p>SQL optimizer index hints are specified in terms of the logical names of the columns participating in the index. Any SQL optimizer index hints specified on an editioning view using logical column names must be mapped to an index on the corresponding physical column in the base table.</p>
                     <div class="infoboxnotealso" id="GUID-E11AE837-565C-44BF-810D-AC99FEAD7CBA__GUID-BC9DFFAB-4A26-4821-9C9A-763C0E1782E1">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00219" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about using hints
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1294"></a><a id="ADFNS0203"></a><div class="props_rev_3"><a id="GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37" name="GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37"></a><h3 id="ADFNS-GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37" class="sect3">Crossedition Triggers</h3>
               <div>
                  <p>The most important difference between crossedition triggers and noncrossedition triggers is how they interact with editions. A crossedition trigger is visible only in the edition in which it is actual, never in a descendent edition. Forward crossedition triggers move data from columns used by the old edition to columns used by the new edition; reverse crossedition triggers do the reverse.</p>
                  <p>Other important differences are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Crossedition triggers can be ordered with triggers defined on other tables, while noncrossedition triggers can be ordered only with other triggers defined on the same table.</p>
                     </li>
                     <li>
                        <p>Crossedition triggers are temporary—you drop them after you have made the restructured tables available to all users.</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37__GUID-1BA87FCB-C09F-401E-9F53-91A163AC815E">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="editions.html#GUID-25716FEA-3F91-4EE1-9AC0-579D3A5DBFE3">Forward Crossedition Triggers</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-79EBB047-E313-4BF6-BA3D-85D5215C5618">Reverse Crossedition Triggers</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1">Crossedition Trigger Interaction with Editions</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-12AAB773-F459-4C61-A96E-4DAB506656CA">Creating a Crossedition Trigger</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A">Transforming Data from Pre- to Post-Upgrade Representation</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D">Dropping the Crossedition Triggers</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-474231E0-F8D7-4E39-86F5-BCC52FACEB37__GUID-3A373AEC-44A6-429C-9D4A-FDABA629A012">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS020" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for general information about triggers
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99910"></a><div class="props_rev_3"><a id="GUID-25716FEA-3F91-4EE1-9AC0-579D3A5DBFE3" name="GUID-25716FEA-3F91-4EE1-9AC0-579D3A5DBFE3"></a><h4 id="ADFNS-GUID-25716FEA-3F91-4EE1-9AC0-579D3A5DBFE3" class="sect4">Forward Crossedition Triggers</h4>
                  <div>
                     <p>The DML changes that you make to the table in the post-upgrade edition are written only to new columns or new tables, never to columns that users of pre-upgrade (ancestor) editions might be reading or writing. However, if the user of an ancestor edition changes the table data, the editioning view that you see must accurately reflect these changes. This is accomplished with forward crossedition triggers.</p>
                     <p>A forward crossedition trigger defines a <span class="bold">transform</span>, which is a rule for transforming an old row to one or more new rows. An <span class="bold">old row</span> is a row of data in the pre-upgrade representation. A <span class="bold">new row</span> is a row of data in the post-upgrade representation. The name of the trigger refers to the trigger itself and to the transform that the trigger defines.
                     </p>
                  </div>
               </div><a id="ADFNS99909"></a><div class="props_rev_3"><a id="GUID-79EBB047-E313-4BF6-BA3D-85D5215C5618" name="GUID-79EBB047-E313-4BF6-BA3D-85D5215C5618"></a><h4 id="ADFNS-GUID-79EBB047-E313-4BF6-BA3D-85D5215C5618" class="sect4">Reverse Crossedition Triggers</h4>
                  <div>
                     <p>If the pre- and post-upgrade editions will be in ordinary use at the same time (hot rollover), use reverse crossedition triggers to ensure that when users of the post-upgrade edition make changes to the table data, the changes are accurately reflected in the pre-upgrade editions.</p>
                  </div>
               </div><a id="ADFNS694"></a><a id="ADFNS99908"></a><div class="props_rev_3"><a id="GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1" name="GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1"></a><h4 id="ADFNS-GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1" class="sect4">Crossedition Trigger Interaction with Editions</h4>
                  <div>
                     <p>The most important difference between crossedition triggers and noncrossedition triggers is how they interact with editions.</p>
                     <p>In this topic, the <span class="bold">current edition</span> is the edition in which the triggering DML statement runs. The current edition might differ from the session edition.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1__GUID-EB7687C6-4EAD-4517-A53C-34C78537C0CB">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="editions.html#GUID-791B49DE-C10A-4BCE-8667-AA3BB103C67C">Which Triggers Are Visible</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-33EF4573-6616-421C-9636-BE3CBD5436DD">What Kind of Triggers Can Fire</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A">Firing Order</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-CECB6C28-9750-4405-A3BE-77BC89C46652">Crossedition Trigger Execution</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-DD52E151-0C01-4EFD-8E88-33215FF5A0D1__NOTE-1342-CBC82817">
                           <p class="notep1">See Also:</p>
                           <p><a href="editions.html#GUID-E98E984F-5DB7-44FE-9C88-70936690EC4A">When the Current Edition Might Differ from the Session Edition</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS921"></a><div class="props_rev_3"><a id="GUID-791B49DE-C10A-4BCE-8667-AA3BB103C67C" name="GUID-791B49DE-C10A-4BCE-8667-AA3BB103C67C"></a><h5 id="ADFNS-GUID-791B49DE-C10A-4BCE-8667-AA3BB103C67C" class="sect5">Which Triggers Are Visible</h5>
                     <div>
                        <p>Editions inherit noncrossedition triggers in the same way that they inherit other editioned objects (see <a href="editions.html#GUID-6E30D1F1-AD6D-44CB-AF7B-714FB251E7DC">Editioned Objects and Copy-on-Change</a>).
                        </p>
                        <p>Editions do not inherit crossedition triggers. A crossedition trigger might fire in response to a DML statement that another edition runs, but its name is visible only in the edition in which it was created. Therefore, an edition can reuse the name of a crossedition trigger created in an ancestor edition. Reusing the name of a crossedition trigger does not change the conditions under which the older trigger fires.</p>
                        <p>Crossedition triggers that appear in static data dictionary views are actual objects in the current edition.</p>
                     </div>
                  </div><a id="ADFNS695"></a><a id="ADFNS922"></a><div class="props_rev_3"><a id="GUID-33EF4573-6616-421C-9636-BE3CBD5436DD" name="GUID-33EF4573-6616-421C-9636-BE3CBD5436DD"></a><h5 id="ADFNS-GUID-33EF4573-6616-421C-9636-BE3CBD5436DD" class="sect5">What Kind of Triggers Can Fire</h5>
                     <div>
                        <p>What kind of triggers can fire depends on the category of the triggering DML statement.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-33EF4573-6616-421C-9636-BE3CBD5436DD__GUID-7FAEE213-1F2A-44CE-8B16-12E08C7B5EBD">Categories:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-07D608F7-E8E1-425A-8853-AAF4081E7432">Forward Crossedition Trigger SQL</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-89084E8C-0CAA-47E4-B19C-939B04560D18">Reverse Crossedition Trigger SQL</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5">Application SQL</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-33EF4573-6616-421C-9636-BE3CBD5436DD__GUID-12AFF9BD-DEBE-4DC4-95A0-F5761290D079">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">APPEND</code> hint on a SQL <code class="codeph">INSERT</code> statement does not prevent crossedition triggers from firing.
                              </p>
                              <div class="p">
                                 <div class="infoboxnotealso" id="GUID-33EF4573-6616-421C-9636-BE3CBD5436DD__NOTE-133231-CBC84EBE">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF50901" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">APPEND</code> hint
                                    </p>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1295"></a><div class="props_rev_3"><a id="GUID-07D608F7-E8E1-425A-8853-AAF4081E7432" name="GUID-07D608F7-E8E1-425A-8853-AAF4081E7432"></a><h6 id="ADFNS-GUID-07D608F7-E8E1-425A-8853-AAF4081E7432" class="sect6">Forward Crossedition Trigger SQL</h6>
                        <div>
                           <p><span class="bold">Forward crossedition trigger SQL</span> is SQL that is executed in either of these ways:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Directly from the body of a forward crossedition trigger</p>
                                 <p>This category includes SQL in an invoked subprogram only if the subprogram is local to the forward crossedition trigger.</p>
                              </li>
                              <li>
                                 <p>By invoking the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure with a non-<code class="codeph">NULL</code> value for the <code class="codeph">apply_crossedition_trigger</code> parameter
                                 </p>
                                 <p>The only valid non-<code class="codeph">NULL</code> value for the <code class="codeph">apply_crossedition_trigger</code> parameter is the unqualified name of a forward crossedition trigger.
                                 </p>
                              </li>
                           </ul>
                           <p>If a forward crossedition trigger invokes a subprogram in another compilation unit, the SQL in the subprogram is forward crossedition trigger SQL only if it is invoked by the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure with a non-<code class="codeph">NULL</code> value for the <code class="codeph">apply_crossedition_trigger</code> parameter.
                           </p>
                           <p>Forward crossedition trigger SQL can fire only triggers that satisfy all of these conditions:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>They are forward crossedition triggers.</p>
                              </li>
                              <li>
                                 <p>They were created either in the current edition or in a descendent of the current edition.</p>
                              </li>
                              <li>
                                 <p>They explicitly follow the running forward crossedition trigger.</p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-07D608F7-E8E1-425A-8853-AAF4081E7432__NOTE-136-CBC8BA57">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_SQL.html#ARPLS058" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure
                              </p>
                           </div>
                        </div>
                     </div><a id="ADFNS1296"></a><div class="props_rev_3"><a id="GUID-89084E8C-0CAA-47E4-B19C-939B04560D18" name="GUID-89084E8C-0CAA-47E4-B19C-939B04560D18"></a><h6 id="ADFNS-GUID-89084E8C-0CAA-47E4-B19C-939B04560D18" class="sect6">Reverse Crossedition Trigger SQL</h6>
                        <div>
                           <p><span class="bold">Reverse crossedition trigger SQL</span> is SQL that is executed directly from the body of a reverse crossedition trigger. This category includes SQL in an invoked subprogram only if the subprogram is local to the reverse crossedition trigger.
                           </p>
                           <p>Reverse crossedition trigger SQL can fire only triggers that satisfy all of these conditions:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>They are reverse crossedition triggers.</p>
                              </li>
                              <li>
                                 <p>They were created either in the current edition or in an ancestor of the current edition.</p>
                              </li>
                              <li>
                                 <p>They explicitly precede the running reverse crossedition trigger.</p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADFNS1297"></a><div class="props_rev_3"><a id="GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5" name="GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5"></a><h6 id="ADFNS-GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5" class="sect6">Application SQL</h6>
                        <div>
                           <p><span class="bold">Application SQL</span> is all SQL except crossedition trigger SQL, including these DML statements:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Dynamic SQL DML statements coded with the <code class="codeph">DBMS_SQL</code> package.
                                 </p>
                              </li>
                              <li>
                                 <p>DML statements executed by Java stored procedures and external procedures (even when these procedures are invoked by <code class="codeph">CALL</code> triggers)
                                 </p>
                              </li>
                           </ul>
                           <p>Application SQL fires both noncrossedition and crossedition triggers, according to these rules:</p>
                           <div class="tblformal" id="GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5__GUID-33000B90-6023-47C4-B852-3DF271E8FACF">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table summarizes the conditions under which the different kinds of triggers can fire." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d160084e8527">Kind of Trigger</th>
                                       <th align="left" valign="bottom" width="75%" id="d160084e8530">Conditions Under Which Trigger Can Fire</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d160084e8535" headers="d160084e8527 ">
                                          <p>Noncrossedition</p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d160084e8535 d160084e8530 ">
                                          <p>Trigger is both visible and enabled in the current edition.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d160084e8542" headers="d160084e8527 ">
                                          <p>Forward crossedition</p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d160084e8542 d160084e8530 ">
                                          <p>Trigger was created in a descendent of the current edition.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d160084e8549" headers="d160084e8527 ">
                                          <p>Reverse crossedition</p>
                                       </td>
                                       <td align="left" valign="top" width="75%" headers="d160084e8549 d160084e8530 ">
                                          <p>Trigger was created either in the current edition or in an ancestor of the current edition.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-C9996C1E-81A5-4FDF-BAFF-39F24056DFD5__NOTE-135-CBC94EF3">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS01108" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about <code class="codeph">DBMS_SQL</code> package
                              </p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ADFNS1057"></a><a id="ADFNS926"></a><div class="props_rev_3"><a id="GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A" name="GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A"></a><h5 id="ADFNS-GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A" class="sect5">Firing Order</h5>
                     <div>
                        <p>For a trigger to fire in response to a specific DML statement, the trigger must:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the right kind</p>
                           </li>
                           <li>
                              <p>Satisfy the selection criteria (for example, the type of DML statement and the <code class="codeph">WHEN</code> clause)
                              </p>
                           </li>
                           <li>
                              <p>Be enabled</p>
                           </li>
                        </ul>
                        <p>For the triggers that meet these requirements, firing order depends on the <code class="codeph">FOLLOWS</code> and <code class="codeph">PRECEDES</code> clauses, the trigger type, and the edition.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A__GUID-4069F667-E97F-4643-AB49-27299E3A822C">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-2339D4FC-294C-44EB-AA56-1CD203786931">FOLLOWS and PRECEDES Clauses</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612">Trigger Type and Edition</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-626EB84F-B6D6-482C-BCF3-E565EE74284A__GUID-BDAEAF6A-2D19-4D84-AADA-D8E652656602">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99985" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for general information about trigger firing order
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="editions.html#GUID-33EF4573-6616-421C-9636-BE3CBD5436DD">What Kind of Triggers Can Fire</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS927"></a><div class="props_rev_3"><a id="GUID-2339D4FC-294C-44EB-AA56-1CD203786931" name="GUID-2339D4FC-294C-44EB-AA56-1CD203786931"></a><h6 id="ADFNS-GUID-2339D4FC-294C-44EB-AA56-1CD203786931" class="sect6">FOLLOWS and PRECEDES Clauses</h6>
                        <div>
                           <p>When triggers A and B are to be fired at the same timing point, A fires before B fires if either of these is true:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A explicitly precedes B.</p>
                              </li>
                              <li>
                                 <p>B explicitly follows A.</p>
                              </li>
                           </ul>
                           <p>This rule is independent of conditions such as:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Whether the triggers are enabled or disabled</p>
                              </li>
                              <li>
                                 <p>Whether the columns specified in the <code class="codeph">UPDATE</code> <code class="codeph">OF</code> clause are modified
                                 </p>
                              </li>
                              <li>
                                 <p>Whether the <code class="codeph">WHEN</code> clauses are satisfied
                                 </p>
                              </li>
                              <li>
                                 <p>Whether the triggers are associated with the same kinds of DML statements (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code>)
                                 </p>
                              </li>
                              <li>
                                 <p>Whether the triggers have overlapping timing points</p>
                              </li>
                           </ul>
                           <p>The firing order of triggers that do not explicitly follow or precede each other is unpredictable.</p>
                        </div>
                     </div><a id="ADFNS928"></a><div class="props_rev_3"><a id="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612" name="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612"></a><h6 id="ADFNS-GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612" class="sect6">Trigger Type and Edition</h6>
                        <div>
                           <p>For each timing point associated with a triggering DML statement, eligible triggers fire in this order. In categories <a href="editions.html#GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5068739">1</a> through <a href="editions.html#GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5068945">3</a>, <code class="codeph">FOLLOWS</code> relationships apply; in categories <a href="editions.html#GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5069005">4</a> and <a href="editions.html#GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5069209">5</a>, <code class="codeph">PRECEDES</code> relationships apply.
                           </p>
                           <ol>
                              <li id="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5068739">
                                 <p>Noncrossedition triggers</p>
                              </li>
                              <li>
                                 <p>Forward crossedition triggers created in the current edition</p>
                              </li>
                              <li id="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5068945">
                                 <p>Forward crossedition triggers created in descendents of the current edition, in the order that the descendents were created (child, grandchild, and so on)</p>
                              </li>
                              <li id="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5069005">
                                 <p>Reverse crossedition triggers created in the current edition</p>
                              </li>
                              <li id="GUID-1D3CBD46-56AA-42AB-B3C4-9C698F04D612__g5069209">
                                 <p>Reverse crossedition triggers created in the ancestors of the current edition, in the reverse order that the ancestors were created (parent, grandparent, and so on)</p>
                              </li>
                           </ol>
                        </div>
                     </div>
                  </div><a id="ADFNS929"></a><div class="props_rev_3"><a id="GUID-CECB6C28-9750-4405-A3BE-77BC89C46652" name="GUID-CECB6C28-9750-4405-A3BE-77BC89C46652"></a><h5 id="ADFNS-GUID-CECB6C28-9750-4405-A3BE-77BC89C46652" class="sect5">Crossedition Trigger Execution</h5>
                     <div>
                        <p>A crossedition trigger runs using the edition in which it was created. Any code that the crossedition trigger calls (including package references, PL/SQL subprogram calls, and SQL statements) also runs in the edition in which the crossedition trigger was created.</p>
                        <p>If a PL/SQL package is actual in multiple editions, then the package variables and other state are private in each edition, even within a single session. Because each crossedition trigger and the code that it calls run using the edition in which the crossedition trigger was created, the same session can instantiate two or more versions of the package, with the same name.</p>
                     </div>
                  </div>
               </div><a id="ADFNS99912"></a><div class="props_rev_3"><a id="GUID-12AAB773-F459-4C61-A96E-4DAB506656CA" name="GUID-12AAB773-F459-4C61-A96E-4DAB506656CA"></a><h4 id="ADFNS-GUID-12AAB773-F459-4C61-A96E-4DAB506656CA" class="sect4">Creating a Crossedition Trigger</h4>
                  <div>
                     <div class="section">
                        <p>Before a crossedition trigger is created, its owner must be editions-enabled and the schema object type <code class="codeph">TRIGGER</code> must be editionable in its owner. (For instructions, see <a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a>.)
                        </p>
                        <p>Create a crossedition trigger with the SQL statement <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code>, observing these rules:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A crossedition trigger must be defined on a table, not a view.</p>
                           </li>
                           <li>
                              <p>A crossedition trigger must have the <code class="codeph">EDITIONABLE</code> property.
                              </p>
                           </li>
                           <li>
                              <p>A crossedition trigger must be a DML trigger (simple or compound).</p>
                              <p>The DML statement in a crossedition trigger body can be either a static SQL statement or a native dynamic SQL statement .</p>
                           </li>
                           <li>
                              <p>A crossedition trigger is forward unless you specify <code class="codeph">REVERSE</code>. (Specifying <code class="codeph">FORWARD</code> is optional.)
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FOLLOWS</code> clause is allowed only when creating a forward crossedition trigger or a noncrossedition trigger. (The <code class="codeph">FOLLOWS</code> clause indicates that the trigger being created is to fire after the specified triggers fire.)
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PRECEDES</code> clause is allowed only when creating a reverse crossedition trigger. (The <code class="codeph">PRECEDES</code> clause indicates that the trigger being created is to fire before the specified triggers fire.)
                              </p>
                           </li>
                           <li>
                              <p>The triggers specified in the <code class="codeph">FOLLOWS</code> or <code class="codeph">PRECEDES</code> clause must exist, but need not be enabled or successfully compiled.
                              </p>
                           </li>
                           <li>
                              <p>Like a noncrossedition trigger, a crossedition trigger is created in the enabled state unless you specify <code class="codeph">DISABLE</code>. (Specifying <code class="codeph">ENABLE</code> is optional.)
                              </p>
                              <div class="infobox-tip" id="GUID-12AAB773-F459-4C61-A96E-4DAB506656CA__GUID-CEE25584-9243-4A0E-A217-8FD673504281">
                                 <p class="notep1">Tip:</p>
                                 <p>Create crossedition triggers in the disabled state, and enable them after you are sure that they compile successfully. If you create them in the enabled state, and they fail to compile, the failure affects users of the existing application.</p>
                              </div>
                           </li>
                           <li>
                              <p>The operation in a crossedition trigger body must be <span class="bold">idempotent</span> (that is, performing the operation multiple times is redundant; it does not change the result).
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-12AAB773-F459-4C61-A96E-4DAB506656CA__GUID-1413AB2D-C900-49A0-B342-9351544161F2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/CREATE-TRIGGER-statement.html#LNPLS01374" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> statement to create crossedition triggers
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS00601" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about Static SQL
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS01102" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about native dynamic SQL
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1299"></a><a id="ADFNS1298"></a><div class="props_rev_3"><a id="GUID-E555E7BE-66FD-466C-8572-85A3289EE008" name="GUID-E555E7BE-66FD-466C-8572-85A3289EE008"></a><h5 id="ADFNS-GUID-E555E7BE-66FD-466C-8572-85A3289EE008" class="sect5">Coding the Forward Crossedition Trigger Body</h5>
                     <div>
                        <div class="section">
                           <p>The operation in the body of a forward crossedition trigger must be idempotent, because it is impossible to predict:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The context in which the body will first run for an old row.</p>
                                 <p>The possibilities are:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>When a user of an ancestor edition runs a DML statement that fires the trigger (a <span class="bold">serendipitous change</span>)
                                       </p>
                                    </li>
                                    <li>
                                       <p>When you <span class="bold">apply the transform</span> that the trigger defines (do a bulk upgrade of rows from old format to new format)
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>How many times the body will run for each old row.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E555E7BE-66FD-466C-8572-85A3289EE008__GUID-53D6286F-C38D-4DDC-8950-180BE473A627">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD">Handling Data Transformation Collisions</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-23274482-B620-4792-9DFF-01549726F9D9">Handling Changes to Other Tables</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-E555E7BE-66FD-466C-8572-85A3289EE008__NOTE-1242-CBCA9338">
                              <p class="notep1">See Also:</p>
                              <p><a href="editions.html#GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A">Transforming Data from Pre- to Post-Upgrade Representation</a> for information about applying transforms
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS1304"></a><a id="ADFNS1300"></a><div class="props_rev_3"><a id="GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD" name="GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD"></a><h6 id="ADFNS-GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD" class="sect6">Handling Data Transformation Collisions</h6>
                        <div>
                           <div class="section">
                              <p>If a forward crossedition trigger populates a new table (rather than new columns of a table), its body must handle data transformation collisions.</p>
                              <p>For example, suppose that a column of the new table has a <code class="codeph">UNIQUE</code> constraint. A serendipitous change fires the forward crossedition trigger, which inserts a row in the new table. Later, another serendipitous change fires the forward crossedition trigger, or you apply the transform defined by the trigger. The trigger tries to insert a row in the new table, violating the <code class="codeph">UNIQUE</code> constraint.
                              </p>
                              <p>If your collision-handling strategy depends on why the trigger is running, you can determine the reason with the function <code class="codeph">APPLYING_CROSSEDITION_TRIGGER</code>. When called directly from a trigger body, this function returns the <code class="codeph">BOOLEAN</code> value <code class="codeph">TRUE</code> if the trigger is running because of a serendipitous change and <code class="codeph">FALSE</code> if the trigger is running because you are applying the transform in bulk. (<code class="codeph">APPLYING_CROSSEDITION_TRIGGER</code> is defined in the package <code class="codeph">DBMS_STANDARD</code>. It has no parameters.)
                              </p>
                              <p>To ignore collisions and insert the rows that do not collide with existing rows, put the <code class="codeph">IGNORE_ROW_ON_DUPKEY_INDEX</code> hint in the <code class="codeph">INSERT</code> statement.
                              </p>
                              <p>If you do not want to ignore such collisions, but want to know where they occur so that you can handle them, put the <code class="codeph">CHANGE_DUPKEY_ERROR_INDEX</code> hint in the <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statement, specifying either an index or set of columns. Then, when a unique key violation occurs for that index or set of columns, ORA-38911 is reported instead of ORA-00001. You can write an exception handler for ORA-38911.
                              </p>
                              <div class="infoboxnote" id="GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD__GUID-3EE0ED3F-1314-4913-83A4-C68FF3CC6876">
                                 <p class="notep1">Note:</p>
                                 <p>Although they have the syntax of hints, <code class="codeph">IGNORE_ROW_ON_DUPKEY_INDEX</code> and <code class="codeph">CHANGE_DUPKEY_ERROR_INDEX</code> are mandates. The optimizer always uses them.
                                 </p>
                              </div>
                              <p><a href="editions.html#GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD__BABEDEFI">Example 27-5</a> creates a crossedition trigger that uses the <code class="codeph">APPLYING_CROSSEDITION_TRIGGER</code> function and the <code class="codeph">IGNORE_ROW_ON_DUPKEY_INDEX</code> and <code class="codeph">CHANGE_DUPKEY_ERROR_INDEX</code> hints to handle data transformation collisions. The trigger transforms old rows in <code class="codeph">table1</code> to new rows in <code class="codeph">table2</code>. The tables were created as follows:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE table1 (key NUMBER, value VARCHAR2(20));

CREATE TABLE table2 (key NUMBER, value VARCHAR2(20), last_updated TIMESTAMP);
CREATE UNIQUE INDEX i2 on table2(key);</pre><div class="infoboxnotealso" id="GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD__GUID-06FA1FFE-BC09-4D23-B5C8-716910AD5EA8">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF30052" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about <code class="codeph">IGNORE_ROW_ON_DUPKEY_INDEX</code></p>
                                    </li>
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF30053" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about <code class="codeph">CHANGE_DUPKEY_ERROR_INDEX</code></p>
                                    </li>
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF00219" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for general information about hints
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-4918288A-9CDB-47DB-ACDB-38621651E8AD__BABEDEFI">
                              <p class="titleinexample">Example 27-5 Crossedition Trigger that Handles Data Transformation Collisions</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TRIGGER trigger1
  BEFORE INSERT OR UPDATE ON table1
  FOR EACH ROW
  CROSSEDITION
DECLARE
  row_already_present  EXCEPTION;
  PRAGMA EXCEPTION_INIT(row_already_present, -38911);
BEGIN
  IF <span class="bold">APPLYING_CROSSEDITION_TRIGGER</span> THEN
    /* The trigger is running because of applying the transform.
       If the old edition of the app has already caused this trigger
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to insert a row, we do not modify the row as part of applying
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the transform. Therefore, insert the new row into table2 only if
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it is not already there. */
    <span class="bold">INSERT /*+ IGNORE_ROW_ON_DUPKEY_INDEX(table2(key)) */</span>
    INTO table2
    VALUES(:new.key, :new.value, to_date('1900-01-01', 'YYYY-MM-DD'));
  ELSE
    &nbsp;/* The trigger is running because of a serendipitous change.
     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If no previous run of the trigger has already inserted
     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the corresponding row into table2, insert the new row;
     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise, update the previously inserted row. */
    BEGIN
      <span class="bold">INSERT /*+ CHANGE_DUPKEY_ERROR_INDEX(table2(key)) */</span>
      INTO table2
      VALUES(:new.key, :new.value, SYSTIMESTAMP);
    EXCEPTION WHEN row_already_present THEN
      UPDATE table2
      SET value = :new.value, last_updated = SYSTIMESTAMP
      WHERE key = :new.key;
    END;
  END IF;
END;
/</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="ADFNS1305"></a><div class="props_rev_3"><a id="GUID-23274482-B620-4792-9DFF-01549726F9D9" name="GUID-23274482-B620-4792-9DFF-01549726F9D9"></a><h6 id="ADFNS-GUID-23274482-B620-4792-9DFF-01549726F9D9" class="sect6">Handling Changes to Other Tables</h6>
                        <div>
                           <div class="section">
                              <p>If the body of a forward crossedition trigger includes explicit SQL statements that change tables other than the one on which the trigger is defined, and if the rows of those tables do not have a one-to-one correspondence with the rows of the table on which the trigger is defined, then the body code must implement a locking mechanism that correctly handles these situations:</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Two or more users of ancestor editions simultaneously issue DML statements for the table on which the trigger is defined.</p>
                                 </li>
                                 <li>
                                    <p>At least one user of an ancestor edition issues a DML statement for the table on which the trigger is defined.</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="ADFNS99907"></a><div class="props_rev_3"><a id="GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A" name="GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A"></a><h4 id="ADFNS-GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A" class="sect4">Transforming Data from Pre- to Post-Upgrade Representation</h4>
                  <div>
                     <div class="section">
                        <p>After redefining the database objects that comprise the application that you are upgrading (in the new edition), you must transform the application data from its pre-upgrade representation (in the old edition) to its post-upgrade representation (in the new edition). The rules for this transformation are called <span class="bold">transforms</span>, and they are defined by forward crossedition triggers.
                        </p>
                        <p>Some old rows might have been transformed to new rows by <span class="bold">serendipitous changes</span>; that is, by changes that users of the pre-upgrade application made, which fired forward crossedition triggers. However, any rows that were not transformed by serendipitous changes are still in their pre-upgrade representation. To ensure that all old rows are transformed to new rows, you must <span class="bold">apply the transforms</span> that you defined on the tables that store the application data.
                        </p>
                        <p>There are three ways to apply a transform:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Fire the trigger that defines the transform on every row of the table, one row at a time.</p>
                           </li>
                           <li>
                              <p>Instead of firing the trigger, run a SQL statement that does what the trigger would do, but faster, and then fire any triggers that follow that trigger.</p>
                              <p>This second way is recommended over the first way if you have replaced an entire table or created a new table.</p>
                           </li>
                           <li>
                              <p>Invoke the procedure <code class="codeph">DBMS_EDITIONS_UTILITIES</code>.<code class="codeph">SET_NULL_COLUMN_VALUES_TO_EXPR</code> to use a metadata operation to apply the transform to the new column.
                              </p>
                              <p>This third way has the fastest installation time, but there are restrictions on the expression that represents the transform, and queries of the new column are slower until the metadata is replaced by actual data.</p>
                              <p>Metadata is replaced by actual data:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>In an individual column element that is updated.</p>
                                 </li>
                                 <li>
                                    <p>In every element of a column whose table is "compacted" using online table redefinition.</p>
                                 </li>
                              </ul>
                              <p>.</p>
                           </li>
                        </ul>
                        <p>For the first two ways of applying the transform, invoke either the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure or the subprograms in the <code class="codeph">DBMS_PARALLEL_EXECUTE</code> package. The latter is recommended if you have a lot of data. The subprograms enable you to incrementally update the data in a large table in parallel, in two high-level steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Group sets of rows in the table into smaller chunks.</span></li>
                        <li><span>Apply the desired <code class="codeph">UPDATE</code> statement to the chunks in parallel, committing each time you have finished processing a chunk.</span></li>
                     </ol>
                     <div class="section">
                        <p>The advantages are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You lock only one set of rows at a time, for a relatively short time, instead of locking the entire table.</p>
                           </li>
                           <li>
                              <p>You do not lose work that has been done if something fails before the entire operation finishes.</p>
                           </li>
                        </ul>
                        <p>For both the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure and the <code class="codeph">DBMS_PARALLEL_EXECUTE</code> subprograms, the actual parameter values for <code class="codeph">apply_crossedition_trigger</code>, <code class="codeph">fire_apply_trigger</code>, and <code class="codeph">sql_stmt</code> are the same:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <code class="codeph">apply_crossedition_trigger</code>, specify the name of the forward crossedition trigger that defines the transform to be applied.
                              </p>
                           </li>
                           <li>
                              <p>To fire the trigger on every row of the table, one row at a time:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>For the value of <code class="codeph">fire_apply_trigger</code>, specify <code class="codeph">TRUE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>For <code class="codeph">sql_stmt</code>, supply a SQL statement whose only significant effect is to select the forward crossedition trigger to be fired; for example, an <code class="codeph">UPDATE</code> statement that sets some column to its own existing value in each row.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>To run a SQL statement that does what the trigger would do, and then fire any triggers that follow that trigger:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>For the value of <code class="codeph">fire_apply_trigger</code>, specify <code class="codeph">FALSE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>For <code class="codeph">sql_stmt</code>, supply a SQL statement that does what the forward crossedition trigger would do, but faster—for example, a PL/SQL anonymous block that calls one or more PL/SQL subprograms.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A__GUID-490D7198-F5F7-48F6-AD17-918546453034">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS058" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SQL</code>.<code class="codeph">PARSE</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS233" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_PARALLEL_EXECUTE</code> package
                                 </p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-25716FEA-3F91-4EE1-9AC0-579D3A5DBFE3">Forward Crossedition Triggers</a> for information about forward crossedition triggers
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS73756" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_EDITIONS_UTILITIES</code>.<code class="codeph">SET_NULL_COLUMN_VALUES_TO_EXPR</code> procedure
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1306"></a><div class="props_rev_3"><a id="GUID-3C63E5A4-3EA7-43D7-B730-D2CCB90DC999" name="GUID-3C63E5A4-3EA7-43D7-B730-D2CCB90DC999"></a><h5 id="ADFNS-GUID-3C63E5A4-3EA7-43D7-B730-D2CCB90DC999" class="sect5">Preventing Lost Updates</h5>
                     <div>
                        <div class="section">
                           <p>To prevent lost updates when applying a transform, use this procedure:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Enable crossedition triggers.</span></li>
                           <li class="stepexpand"><span>Wait until pending changes to the affected tables are either committed or rolled back.</span><div>
                                 <p>Use the <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">WAIT_ON_PENDING_DML</code> procedure.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Apply the transform.</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-3C63E5A4-3EA7-43D7-B730-D2CCB90DC999__GUID-64A28948-4F06-47A3-8B88-4E6DCC123FAB">
                              <p class="notep1">Note:</p>
                              <p>This scenario, where the forward crossedition trigger changes only the table on which it is defined, is sufficient to illustrate the risk. Suppose that Session One issues an <code class="codeph">UPDATE</code> statement against the table when the crossedition trigger is not yet enabled; and that Session Two then enables the crossedition trigger and immediately applies the transformation.
                              </p>
                              <p>A race condition can now occur when both Session One and Session Two will change the same row (row <span class="italic">n</span>). Chance determines which session reaches row <span class="italic">n</span> first. Both updates succeed, even if the session that reaches row <span class="italic">n</span> second must wait until the session that reached it first commits its change and releases its lock.
                              </p>
                              <p>The problem occurs when Session Two wins the race. Because its SQL statement was compiled after the trigger was enabled, the program that implements the statement also implements the trigger action; therefore, the intended post-upgrade column values are set for row <span class="italic">n</span>. Now Session One reaches row <span class="italic">n</span>, and because its SQL statement was compiled before the trigger was enabled, the program that implements the statement does not implement the trigger action. Therefore, the values that Session Two set in the post-upgrade columns do not change—they reflect the values that the source columns had before Session One updated row <span class="italic">n</span>. That is, the intended side-effect of Session One's update is lost.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-3C63E5A4-3EA7-43D7-B730-D2CCB90DC999__NOTE-1232-CBCB2D43">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS73275" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">WAIT_ON_PENDING_DML</code> procedure
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADFNS930"></a><div class="props_rev_3"><a id="GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D" name="GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D"></a><h4 id="ADFNS-GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D" class="sect4">Dropping the Crossedition Triggers</h4>
                  <div>
                     <div class="section">
                        <p>To drop a crossedition trigger, use the <code class="codeph">DROP</code> <code class="codeph">TRIGGER</code> statement. Alternatively, you can drop crossedition triggers by dropping the edition in which they are actual, by using the <code class="codeph">DROP</code> <code class="codeph">EDITION</code> statement with the <code class="codeph">CASCADE</code> clause.
                        </p>
                        <p>You drop crossedition triggers in these situations:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You are rolling back the application upgrade (dropping the post-upgrade edition).</p>
                              <p>Before dropping the post-upgrade edition, you must disable or drop any constraints on the new columns.</p>
                           </li>
                           <li>
                              <p>You have finished the application upgrade and made the post-upgrade edition available to all users.</p>
                              <p>When all sessions are using the post-upgrade edition, you can drop the forward crossedition triggers. However, before dropping the reverse crossedition triggers, you must disable or drop any constraints on the old columns.</p>
                           </li>
                        </ul>
                        <p>To disable or drop constraints, use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement with the <code class="codeph">DISABLE</code> <code class="codeph">CONSTRAINT</code> or <code class="codeph">DROP</code> <code class="codeph">CONSTRAINT</code> clause. .
                        </p>
                        <div class="infoboxnotealso" id="GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D__NOTE-1323-CBCBA0B9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99990" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about <code class="codeph">DROP</code> <code class="codeph">TRIGGER</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA">Dropping an Edition</a> for more information about dropping editions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1307"></a><a id="ADFNS0204"></a><div class="props_rev_3"><a id="GUID-1B0311B5-CBC7-43E2-9EA0-37DE2E670508" name="GUID-1B0311B5-CBC7-43E2-9EA0-37DE2E670508"></a><h3 id="ADFNS-GUID-1B0311B5-CBC7-43E2-9EA0-37DE2E670508" class="sect3">Displaying Information About EBR Features</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1B0311B5-CBC7-43E2-9EA0-37DE2E670508__GUID-08F3CB65-6907-4575-84AD-0B0AA7D96C50">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="editions.html#GUID-7095786B-799B-4A56-84D7-81BF8E34AE06">Displaying Information About Editions</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138">Displaying Information About Editioning Views</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-F8709A6C-9DFE-4F9A-83B4-3FD42DC82F60">Displaying Information About Crossedition Triggers</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS932"></a><a id="ADFNS1308"></a><div class="props_rev_3"><a id="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06" name="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06"></a><h4 id="ADFNS-GUID-7095786B-799B-4A56-84D7-81BF8E34AE06" class="sect4">Displaying Information About Editions</h4>
                  <div>
                     <div class="section">
                        <p><a href="editions.html#GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__G4932472" title="This table summarizes the DBA_ dictionary views that provide information about Editions.">Table 27-1</a> briefly describes the static data dictionary views that display information about editions.
                        </p>
                        <div class="tblformal" id="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__G4932472">
                           <p class="titleintable">Table 27-1 *_ Dictionary Views with Edition Information</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="*_ Dictionary Views with Edition Information" summary="This table summarizes the DBA_ dictionary views that provide information about Editions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d160084e10699">View</th>
                                    <th align="left" valign="bottom" width="72%" id="d160084e10702">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10707" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20634" target="_blank"><code class="codeph">*_EDITIONS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10707 d160084e10702 ">
                                       <p>Describes every edition in the database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10717" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20635" target="_blank"><code class="codeph">*_EDITION_COMMENTS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10717 d160084e10702 ">
                                       <p>Shows the comments associated with every edition in the database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10727" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23867" target="_blank"><code class="codeph">*_EDITIONED_TYPES</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10727 d160084e10702 ">
                                       <p>Lists the schema object types that are editioned by default in each schema.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10737" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20146" target="_blank"><code class="codeph">*_OBJECTS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10737 d160084e10702 ">
                                       <p>Describes every object in the database that is visible in the current edition. For each object, this view shows whether it is editionable.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10747" headers="d160084e10699 ">
                                       <p id="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__G4936767"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20578" target="_blank"><code class="codeph">*_OBJECTS_AE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10747 d160084e10702 ">
                                       <p>Describes every object in the database, in every edition. For each object, this view shows whether it is editionable.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10757" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20065" target="_blank"><code class="codeph">*_ERRORS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10757 d160084e10702 ">
                                       <p>Describes every error in the database in the current edition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10767" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20577" target="_blank"><code class="codeph">*_ERRORS_AE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10767 d160084e10702 ">
                                       <p>Describes every error in the database, in every edition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10777" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20302" target="_blank"><code class="codeph">*_USERS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10777 d160084e10702 ">
                                       <p>Describes every user in the database. Useful for showing which users have editions enabled.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10787" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20465" target="_blank"><code class="codeph">*_SERVICES</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10787 d160084e10702 ">
                                       <p>Describes every service in the database. The <code class="codeph">EDITIONS</code> column shows the default initial current edition.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10800" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20139" target="_blank"><code class="codeph">*_MVIEWS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10800 d160084e10702 ">
                                       <p>Describes every materialized view. If the materialized view refers to editioned objects, then this view shows the evaluation edition and the range of editions where the materialized view is eligible for query rewrite.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d160084e10810" headers="d160084e10699 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20276" target="_blank"><code class="codeph">*_TAB_COLS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d160084e10810 d160084e10702 ">
                                       <p>Describes every column of every table, view, and cluster. For each virtual column, this view shows the evaluation edition and the usable range.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__GUID-499A42A1-909B-4B63-8C04-C983F0D74C3E">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">*_OBJECTS</code> and <code class="codeph">*_OBJECTS_AE</code> include dependent objects that are invalidated by operations in <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a> only after one of the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A reference to the object (either during compilation or execution)</p>
                              </li>
                              <li>
                                 <p>An invocation of <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">COMPILE_SCHEMA</code> 
                                 </p>
                              </li>
                              <li>
                                 <p>An invocation of any <code class="codeph">UTL_RECOMP</code> subprogram
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__NOTE-1315-CBCC0D76">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about a specific view
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS-GUID-A279BC5C-6CF5-4467-931D-0917C984DAB2" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">COMPILE_SCHEMA</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">UTL_RECOMP</code> subprogram
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS933"></a><a id="ADFNS1309"></a><div class="props_rev_3"><a id="GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138" name="GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138"></a><h4 id="ADFNS-GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138" class="sect4">Displaying Information About Editioning Views</h4>
                  <div>
                     <div class="section">
                        <p><a href="editions.html#GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138__G4942508" title="This table summarizes the DBA_ dictionary views that provide information about Editioning Views.">Table 27-2</a> briefly describes the static data dictionary views that display information about editioning views.
                        </p>
                        <div class="tblformal" id="GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138__G4942508">
                           <p class="titleintable">Table 27-2 *_ Dictionary Views with Editioning View Information</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="*_ Dictionary Views with Editioning View Information" summary="This table summarizes the DBA_ dictionary views that provide information about Editioning Views." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d160084e11001">View</th>
                                    <th align="left" valign="bottom" width="70%" id="d160084e11004">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d160084e11009" headers="d160084e11001 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20305" target="_blank"><code class="codeph">*_VIEWS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d160084e11009 d160084e11004 ">
                                       <p>Describes every view in the database that is visible in the current edition, including editioning views.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d160084e11019" headers="d160084e11001 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20668" target="_blank"><code class="codeph">*_EDITIONING_VIEWS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d160084e11019 d160084e11004 ">
                                       <p>Describes every editioning view in the database that is visible in the current edition. Useful for showing relationships between editioning views and their base tables. Join with <a href="editions.html#GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__G4936767">*_OBJECTS_AE</a> for additional information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d160084e11032" headers="d160084e11001 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20681" target="_blank"><code class="codeph">*_EDITIONING_VIEWS_AE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d160084e11032 d160084e11004 ">
                                       <p>Describes every actual object in every editioning view in the database, in every edition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d160084e11042" headers="d160084e11001 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20669" target="_blank"><code class="codeph">*_EDITIONING_VIEW_COLS</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d160084e11042 d160084e11004 ">
                                       <p>Describes the columns of every editioning view in the database that is visible in the current edition. Useful for showing relationships between the columns of editioning views and the table columns to which they map. Join with <a href="editions.html#GUID-7095786B-799B-4A56-84D7-81BF8E34AE06__G4936767">*_OBJECTS_AE</a>, <code class="codeph">*_TAB_COL</code>, or both, for additional information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d160084e11058" headers="d160084e11001 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20683" target="_blank"><code class="codeph">*_EDITIONING_VIEW_COLS_AE</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d160084e11058 d160084e11004 ">
                                       <p>Describes the columns of every editioning view in the database, in every edition.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Each row of <code class="codeph">*_EDITIONING_VIEWS</code> matches exactly one row of <code class="codeph">*_VIEWS</code>, and each row of <code class="codeph">*_VIEWS</code> that has <code class="codeph">EDITIONING_VIEW</code> = <code class="codeph">'Y'</code> matches exactly one row of <code class="codeph">*_EDITIONING_VIEWS</code>. Therefore, in this example, the <code class="codeph">WHERE</code> clause is redundant:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT ...
  FROM DBA_EDITIONING_VIEWS INNER JOIN DBA_VIEWS
  USING (OWNER, VIEW_NAME)
  <span class="bold">WHERE EDITIONING_VIEW = 'Y'</span>
  AND ...
</pre><p>The row of <code class="codeph">*_VIEWS</code> that matches a row of <code class="codeph">*_EDITIONING_VIEWS</code> has <code class="codeph">EDITIONING_VIEW</code> = <code class="codeph">'Y</code>' by definition. Conversely, no row of <code class="codeph">*_VIEWS</code> that has <code class="codeph">EDITIONING_VIEW</code> = <code class="codeph">'N'</code> has a counterpart in <code class="codeph">*_ EDITIONING_VIEWS</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-EC3C09C5-59CD-443A-A77B-34B3522AB138__NOTE-1321-CBCCF454">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about a specific view
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS1310"></a><div class="props_rev_3"><a id="GUID-F8709A6C-9DFE-4F9A-83B4-3FD42DC82F60" name="GUID-F8709A6C-9DFE-4F9A-83B4-3FD42DC82F60"></a><h4 id="ADFNS-GUID-F8709A6C-9DFE-4F9A-83B4-3FD42DC82F60" class="sect4">Displaying Information About Crossedition Triggers</h4>
                  <div>
                     <div class="section">
                        <p>The static data dictionary views that display information about triggers are described in <a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a>. Crossedition triggers that appear in static data dictionary views are actual objects in the current edition.
                        </p>
                        <p>Child cursors cannot be shared if the set of crossedition triggers that might run differs. The dynamic performance views <code class="codeph">V$SQL_SHARED_CURSOR</code> and <code class="codeph">GV$SQL_SHARED_CURSOR</code> have a <code class="codeph">CROSSEDITION_TRIGGER_MISMATCH</code> column that tells whether this is true. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-F8709A6C-9DFE-4F9A-83B4-3FD42DC82F60__NOTE-1313-CBCD1721">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN30254" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about <code class="codeph">V$SQL_SHARED_CURSOR</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1312"></a><a id="ADFNS1311"></a><div class="props_rev_3"><a id="GUID-B14D3C67-5871-41CF-8645-185139347CCC" name="GUID-B14D3C67-5871-41CF-8645-185139347CCC"></a><h3 id="ADFNS-GUID-B14D3C67-5871-41CF-8645-185139347CCC" class="sect3">Using EBR to Upgrade an Application</h3>
               <div>
                  <div class="section">
                     <p>To use EBR to upgrade your application online, you must first ready your application:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand" id="GUID-B14D3C67-5871-41CF-8645-185139347CCC__BABIBAFI"><span>Editions-enable the appropriate users and the appropriate schema object types in their schemas.</span><div>
                           <p>In schemas where you will create editioning views (in the next step), the type <code class="codeph">VIEW</code> must be editionable.
                           </p>
                           <p>For instructions, see <a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a>.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Prepare your application to use editioning views.</span><div>
                           <p>For instructions, see <a href="editions.html#GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C">Preparing Your Application to Use Editioning Views</a>.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>With the editioning views in place, you can use EBR to upgrade your application online as often as necessary. For each upgrade:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the type of every object that you will redefine is editionable (tables are not editionable), then use the procedure in <a href="editions.html#GUID-984C4E1A-6A1D-4576-A217-E0904A579E90">Procedure for EBR Using Only Editions</a>.
                           </p>
                        </li>
                        <li>
                           <p>If you will change the structure of one or more tables, and while you are doing so, other users <span class="italic">need not</span> be able to change data in those tables, then use the procedure in <a href="editions.html#GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559">Procedure for EBR Using Editioning Views</a>.
                           </p>
                        </li>
                        <li>
                           <p>If you will change the structure of one or more tables, and while you are doing so, other users must be able to change data in those tables, then use the procedure in <a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9">Procedure for EBR Using Crossedition Triggers</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="editions.html#GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C">Preparing Your Application to Use Editioning Views</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-984C4E1A-6A1D-4576-A217-E0904A579E90">Procedure for EBR Using Only Editions</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559">Procedure for EBR Using Editioning Views</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9">Procedure for EBR Using Crossedition Triggers</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-5391380B-5539-441F-93BA-86C427555BD6">Rolling Back the Application Upgrade</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-0EDE043F-771B-4A2A-8526-D3DC47C53061">Reclaiming Space Occupied by Unused Table Columns</a></p>
                        </li>
                        <li>
                           <p><a href="editions.html#GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4" title="You can use triggers to upgrade an existing application.">Example: Using EBR to Upgrade an Application</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS99917"></a><div class="props_rev_3"><a id="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C" name="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C"></a><h4 id="ADFNS-GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C" class="sect4">Preparing Your Application to Use Editioning Views</h4>
                  <div>
                     <div class="section">
                        <p>An application that uses one or more tables must cover each table with an editioning view. An editioning view <span class="bold">covers</span> a table when all of these statements are true:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Every ordinary object in the application references the table only through the editioning view. (An <span class="bold">ordinary object</span> is any object except an editioning view or crossedition trigger. Editioning views and crossedition triggers must reference tables.)
                              </p>
                           </li>
                           <li>
                              <p>Application users are granted object privileges only on the editioning view, not on the table.</p>
                           </li>
                           <li>
                              <p>Oracle Virtual Private Database (VPD) policies are attached only to the editioning view, not to the table. (Regular auditing and fine-grained auditing (FGA) policies are attached only to the table.)</p>
                           </li>
                        </ul>
                        <p>When the editioning view is actualized, a copy of the VPD policy is attached to the actualized editioning view. (A policy is uniquely identified by its name and the object to which it is attached.) If the policy function is also actualized, the copy of the policy uses the actualized policy function; otherwise, it uses the original policy function.</p>
                        <p>The static data dictionary views <code class="codeph">*_POLICIES</code>, which describe the VPD policies, can have different results in different editions.
                        </p>
                        <div class="infoboxnotealso" id="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C__GUID-4550C229-BC83-4A5E-87BA-2D31D2D0544A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=DBSEG007" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about VPD, including that static data dictionary views that show information about VPD policies
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20164" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about <code class="codeph">*_POLICIES</code></p>
                              </li>
                           </ul>
                        </div>
                        <p>If an existing application does not use editioning views, prepare it to use them by following this procedure for each table that it uses:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Give the table a new name (so that you can give its current name to its editioning view).</span><div>
                              <p>Oracle recommends choosing a new name that is related to the original name and reflects the change history. For example, if the original table name is <code class="codeph">Data</code>, the new table name might be <code class="codeph">Data_1</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) Give each column of the table a new name.</span><div>
                              <p>Again, Oracle recommends choosing new names that are related to the original names and reflect the change history. For example, <code class="codeph">Name</code> and <code class="codeph">Number</code> might be changed to <code class="codeph">Name_1</code> and <code class="codeph">Number_1</code>.
                              </p>
                              <p>Any triggers that depend on renamed columns are now invalid. For details, see the entry for <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span> <code class="codeph">RENAME</code> <span class="italic"><code class="codeph">column</code></span> in <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create the editioning view, giving it the original name of the table.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-0732E020-438E-436B-A0E4-234EAF60D8DE">Creating an Editioning View</a>.
                              </p>
                              <p>Because the editioning view has the name that the table had, objects that reference that name now reference the editioning view.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If triggers are defined on the table, drop them, and rerun the code that created them.</span><div>
                              <p>Now the triggers that were defined on the table are defined on the editioning view.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If VPD policies are attached to the table, drop the policies and policy functions and rerun the code that created them.</span><div>
                              <p>Now the VPD policies that were attached to the table are attached to the editioning view.</p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C__BABHGIGB"><span>Revoke all object privileges on the table from all application users.</span><div>
                              <p>To see which application users have which object privileges on the table, use this query:</p><pre class="oac_no_warn" dir="ltr">SELECT GRANTEE, PRIVILEGE
FROM DBA_TAB_PRIVS
WHERE TABLE_NAME='<span class="italic">table_name</span>';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>For every privilege revoked in step&nbsp;<a href="editions.html#GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C__BABHGIGB">6</a>, grant the same privilege on the editioning view.</span></li>
                        <li class="stepexpand" id="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C__BABEDGHI"><span>For each user who owns a private synonym that refers to the table, enable editions, specifying that the type <code class="codeph">SYNONYM</code> is editionable in the schema (for instructions, see <a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a>).</span></li>
                        <li class="stepexpand" id="GUID-6092BFD8-4FA5-4CAF-A704-687DEF5C009C__BABCGJIB"><span>Notify the owners of private synonyms that refer to the table that they must re-create those synonyms.</span></li>
                     </ol>
                  </div>
               </div><a id="ADFNS910"></a><a id="ADFNS99918"></a><div class="props_rev_3"><a id="GUID-984C4E1A-6A1D-4576-A217-E0904A579E90" name="GUID-984C4E1A-6A1D-4576-A217-E0904A579E90"></a><h4 id="ADFNS-GUID-984C4E1A-6A1D-4576-A217-E0904A579E90" class="sect4">Procedure for EBR Using Only Editions</h4>
                  <div>
                     <div class="section">
                        <p>Use this procedure only if every object that you will redefine is editioned (as defined in <a href="editions.html#GUID-F0D940E0-618D-4656-982E-1C5E49FCCD42">Editioned and Noneditioned Objects</a>). Tables are never editioned objects.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a new edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC">Creating an Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Make the new edition your session edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__BABIDGGJ"><span>Make the necessary changes to the editioned objects of the application.</span></li>
                        <li class="stepexpand"><span>Ensure that all objects are valid.</span><div>
                              <p>Query the static data dictionary <code class="codeph">*_OBJECTS_AE</code>, which describes every actual object in the database, in every edition. If invalid objects remain, recompile them, using any <code class="codeph">UTL_RECOMP</code> subprogram (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Check that the changes work as intended.</span><div>
                              <p>If so, go to step <a href="editions.html#GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__BABIABAI">6</a>.
                              </p>
                              <p>If not, either make further changes (return to step<a href="editions.html#GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__BABIDGGJ">3</a>) or roll back the application upgrade (for instructions, see <a href="editions.html#GUID-5391380B-5539-441F-93BA-86C427555BD6">Rolling Back the Application Upgrade</a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__BABIABAI"><span>Make the new edition (the upgraded application) available to all users.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459">Making an Edition Available to All Users</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Retire the old edition (the original application), so that all users except <code class="codeph">SYS</code> use only the upgraded application.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD">Retiring an Edition</a>.
                              </p>
                           </div>
                           <div>
                              <p><a href="editions.html#GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__CHDGEDCC">Example 27-6</a> shows how to use the preceding procedure to change a very simple PL/SQL procedure.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-984C4E1A-6A1D-4576-A217-E0904A579E90__CHDGEDCC">
                        <p class="titleinexample">Example 27-6 EBR of Very Simple Procedure</p>
                        <ol>
                           <li>
                              <p>Create PL/SQL procedure for this example:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE hello IS
BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello, edition 1.');
END hello;
/
</pre></li>
                           <li>
                              <p>Invoke PL/SQL procedure:</p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Hello, edition 1.
 
PL/SQL procedure successfully completed.
</pre></li>
                           <li>
                              <p>Do EBR of procedure:</p>
                              <ol type="a">
                                 <li>
                                    <p>Create new edition:</p><pre class="oac_no_warn" dir="ltr">CREATE EDITION e2 AS CHILD OF ora$base;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Edition created.
</pre></li>
                                 <li>
                                    <p>Make new edition your session edition:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = e2;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Session altered.
</pre></li>
                                 <li>
                                    <p>Change procedure:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE hello IS
BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello, edition 2.');
END hello;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Procedure created.
</pre></li>
                                 <li>
                                    <p>Check that change works as intended:</p><pre class="oac_no_warn" dir="ltr">BEGIN hello(); END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Hello, edition 2.
PL/SQL procedure successfully completed.
</pre></li>
                                 <li>
                                    <p>Make new edition available to all users (requires system privileges):</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DEFAULT EDITION = e2;
</pre></li>
                                 <li>
                                    <p>Retire old edition (requires system privileges):</p>
                                    <p>List grantees:</p><pre class="oac_no_warn" dir="ltr">SELECT GRANTEE, PRIVILEGE
FROM DBA_TAB_PRIVS
WHERE TABLE_NAME = UPPER('ora$base')
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">GRANTEE                        PRIVILEGE
------------------------------ ---------
PUBLIC                         USE
 
1 row selected.
</pre><p>Revoke use on old edition from all grantees:</p><pre class="oac_no_warn" dir="ltr">REVOKE USE ON EDITION ora$base FROM PUBLIC;</pre></li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS99914"></a><div class="props_rev_3"><a id="GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559" name="GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559"></a><h4 id="ADFNS-GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559" class="sect4">Procedure for EBR Using Editioning Views</h4>
                  <div>
                     <div class="section">
                        <p>Use this procedure only if you will change the structure of one or more tables, and while you are doing so, other users <span class="italic">need not</span> be able to change data in those tables.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a new edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC">Creating an Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Make the new edition your session edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the new edition, if the editioning views are read-only, make them read-write.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-3B80F0F0-D893-4499-B172-1C7F1413429D">Changing the Writability of an Editioning View</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In every edition except the new edition, make the editioning views read-only.</span></li>
                        <li class="stepexpand" id="GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559__BABIFHFC"><span>Make the necessary changes to the objects of the application.</span></li>
                        <li class="stepexpand"><span>Ensure that all objects are valid.</span><div>
                              <p>Query the static data dictionary <code class="codeph">*_OBJECTS_AE</code>, which describes every actual object in the database, in every edition. If invalid objects remain, recompile them, using any <code class="codeph">UTL_RECOMP</code> subprogram (described in <a href="../arpls/UTL_RECOMP.html#ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Check that the changes work as intended.</span><div>
                              <p>If so, go to step&nbsp;<a href="editions.html#GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559__BABDECFA">8</a>.
                              </p>
                              <p>If not, either make further changes (return to step&nbsp;<a href="editions.html#GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559__BABIFHFC">5</a>) or roll back the application upgrade (for instructions, see <a href="editions.html#GUID-5391380B-5539-441F-93BA-86C427555BD6">Rolling Back the Application Upgrade</a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-D24DA011-7EE6-471B-9542-F7C5D10FC559__BABDECFA"><span>Make the upgraded application available to all users.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459">Making an Edition Available to All Users</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Retire the old edition (the original application), so that all users except <code class="codeph">SYS</code> use only the upgraded application.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD">Retiring an Edition</a>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADFNS99906"></a><div class="props_rev_3"><a id="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9" name="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9"></a><h4 id="ADFNS-GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9" class="sect4">Procedure for EBR Using Crossedition Triggers</h4>
                  <div>
                     <div class="section">
                        <p>Use this procedure only if you will change the structure of one or more tables, and while you are doing so, other users must be able to change data in those tables.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a new edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-581CE195-E9FD-421D-A47F-8DF573B0A1AC">Creating an Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Make the new edition your session edition.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABCEBJI"><span>Make the permanent changes to the objects of the application.</span><div>
                              <p>For example, add new columns to the tables and create any new permanent subprograms.</p>
                              <p>Objects that depend on objects that you changed might now be invalid. For more information, see <a href="schema-object-dependency.html#GUID-AEC8DF50-2AC2-4697-8CA9-F13108FBB810__G1008856" title="Column 1 lists operations that affect object status, column 2 shows the corresponding resulting status of the object, and column 3 shows the corresponding resulting status of dependent objects.">Table 26-2</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Ensure that all objects are valid.</span><div>
                              <p>Query the static data dictionary <code class="codeph">*_OBJECTS_AE</code>, which describes every actual object in the database, in every edition. If invalid objects remain, recompile them, using any <code class="codeph">UTL_RECOMP</code> subprogram (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS380" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create the temporary objects—the crossedition triggers (in the disabled state) and any subprograms that they need.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-12AAB773-F459-4C61-A96E-4DAB506656CA">Creating a Crossedition Trigger</a>.
                              </p>
                              <p>You need reverse crossedition triggers only if you do step <a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABDHEFG">10</a>, which is optional.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>When the crossedition triggers compile successfully, enable them.</span><div>
                              <p>Use the <code class="codeph">ALTER</code> <code class="codeph">TRIGGER</code> statement with the <code class="codeph">ENABLE</code> option. For information about this statement, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS99996" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Wait until pending changes are either committed or rolled back.</span><div>
                              <p>Use the procedure <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">WAIT_ON_PENDING_DML</code>, described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS73275" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Apply the transforms.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-90F88E8E-D924-473B-9A61-B81909ECFA3A">Transforming Data from Pre- to Post-Upgrade Representation</a>.
                              </p>
                              <div class="infoboxnote" id="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__GUID-89CC1A49-47FA-4BC6-927D-A1CAA5A567DD">
                                 <p class="notep1">Note:</p>
                                 <p>It is impossible to predict whether this step visits an existing row before a user of an ancestor edition updates, inserts, or deletes data from that row.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Check that the changes work as intended.</span><div>
                              <p>If so, go to step&nbsp;<a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABDHEFG">10</a>.
                              </p>
                              <p>If not, either make further changes (return to step&nbsp;<a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABCEBJI">3</a>) or roll back the application upgrade (for instructions, see <a href="editions.html#GUID-5391380B-5539-441F-93BA-86C427555BD6">Rolling Back the Application Upgrade</a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABDHEFG"><span>(Optional) Grant the <code class="codeph">USE</code> privilege on your session edition to the early users of the upgraded application.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-76045F34-B7BB-45DB-AE35-689CF4F6759A">Making an Edition Available to Some Users</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Make the upgraded application available to all users.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-B9A89ED5-7DC8-4B49-A38D-5B8CA94E7459">Making an Edition Available to All Users</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Disable or drop the constraints and then drop the crossedition triggers.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-F78E82CC-3239-436E-B3DC-2D09BA66040D">Dropping the Crossedition Triggers</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABIIIHE"><span>Retire the old edition (the original application), so that all users except <code class="codeph">SYS</code> use only the upgraded application.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-023BBAD2-16DB-4E08-A4AF-183633B211CD">Retiring an Edition</a>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADFNS1313"></a><div class="props_rev_3"><a id="GUID-5391380B-5539-441F-93BA-86C427555BD6" name="GUID-5391380B-5539-441F-93BA-86C427555BD6"></a><h4 id="ADFNS-GUID-5391380B-5539-441F-93BA-86C427555BD6" class="sect4">Rolling Back the Application Upgrade</h4>
                  <div>
                     <div class="section">
                        <p>To roll back the application upgrade:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Change your session edition to something other than the new edition that you created for the upgrade.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-943C7AE8-6A5D-47EC-AC45-3132518AF36B">Changing Your Session Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Drop the new edition that you created for the upgrade.</span><div>
                              <p>For instructions, see <a href="editions.html#GUID-E6DBE175-2598-430F-9D0A-AB22CAE7DDDA">Dropping an Edition</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you created new table columns during the upgrade, reclaim the space that they occupy (for instructions, see <a href="editions.html#GUID-0EDE043F-771B-4A2A-8526-D3DC47C53061">Reclaiming Space Occupied by Unused Table Columns</a>).</span></li>
                     </ol>
                  </div>
               </div><a id="ADFNS1314"></a><div class="props_rev_3"><a id="GUID-0EDE043F-771B-4A2A-8526-D3DC47C53061" name="GUID-0EDE043F-771B-4A2A-8526-D3DC47C53061"></a><h4 id="ADFNS-GUID-0EDE043F-771B-4A2A-8526-D3DC47C53061" class="sect4">Reclaiming Space Occupied by Unused Table Columns</h4>
                  <div>
                     <div class="section">
                        <p>If you roll back an upgrade for which you created new table columns, </p>
                        <p>To reclaim the space that unused columns occupy:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Set the values of the unused columns to <code class="codeph">NULL</code>.</span><div>
                              <p>To avoid locking out other users while doing this operation, use the <code class="codeph">DBMS_PARALLEL_EXECUTE</code> procedure (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS233" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Set the unused columns to <code class="codeph">UNUSED</code>.</span><div>
                              <p>Use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>) with the <code class="codeph">SET</code> <code class="codeph">UNUSED</code> clause (described in <a href="../sqlrf/ALTER-TABLE.html#SQLRF53205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Shrink the table.</span><div>
                              <p>Use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement (described in <a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>) with the <code class="codeph">SHRINK</code> <code class="codeph">SPACE</code> clause (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF53181" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>).
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADFNS1315"></a><a id="ADFNS99913"></a><div class="props_rev_3"><a id="GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4" name="GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4"></a><h4 id="ADFNS-GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4" class="sect4">Example: Using EBR to Upgrade an Application</h4>
                  <div>
                     <div class="section">
                        <p>This example uses an edition, an editioning view, a forward crossedition trigger, and a reverse crossedition trigger.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4__GUID-AB559954-01F0-417F-AB70-ECC0CD4DB3F1">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="editions.html#GUID-6692B153-6517-4A78-AAA3-FB8EADFDA823">Existing Application</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634">Preparing the Application to Use Editioning Views</a></p>
                           </li>
                           <li>
                              <p><a href="editions.html#GUID-D9907361-0E4D-4C99-ADE1-0EE4FCA76DC6" title="You can use triggers to upgrade an existing application.">Using EBR to Upgrade the Application</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-8E622E13-2830-4FDF-A304-EEBF463FA1E4__GUID-B3B54E98-8131-4D70-A6BA-EA32ED5AFD80">
                           <p class="notep1">Note:</p>
                           <p>Before you can use EBR to upgrade an application, you must enable editions for every schema that the application uses. For instructions, see <a href="editions.html#GUID-FF93CEED-D23A-48D3-8FD7-5B0FB22024DF">Enabling Editions for a User</a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS935"></a><a id="ADFNS936"></a><a id="ADFNS934"></a><div class="props_rev_3"><a id="GUID-6692B153-6517-4A78-AAA3-FB8EADFDA823" name="GUID-6692B153-6517-4A78-AAA3-FB8EADFDA823"></a><h5 id="ADFNS-GUID-6692B153-6517-4A78-AAA3-FB8EADFDA823" class="sect5">Existing Application</h5>
                     <div>
                        <div class="section">
                           <p>The existing application—the application to be upgraded—consists of a single table on which a trigger is defined. </p>
                           <p>The existing application has a trigger, which you can check. The following examples show the existing application:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE">Example: Creating the Existing Application</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938">Example: Viewing Data in Existing Table</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div class="sect5"><a id="GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE" name="GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE"></a><h6 id="ADFNS-GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE" class="sect6">Example: How the Existing Application Was Created</h6>
                        <div>
                           <p></p>
                           <p>The application was created as in <a href="editions.html#GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE__BABEDAGA">Example 27-7</a>.
                           </p>
                           <div class="example" id="GUID-5165137C-5EE5-4FA6-B6BD-955EE4C0C0DE__BABEDAGA">
                              <p class="titleinexample">Example 27-7 Creating the Existing Application</p>
                              <ol>
                                 <li>
                                    <p>Create table:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE Contacts(
  ID            NUMBER(6,0) CONSTRAINT Contacts_PK PRIMARY KEY,
  Name          VARCHAR2(47),
  Phone_Number  VARCHAR2(20)
);
</pre></li>
                                 <li>
                                    <p>Populate table (not shown).</p>
                                 </li>
                                 <li>
                                    <p>Prepare to create trigger on table:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE Contacts ENABLE VALIDATE CONSTRAINT Contacts_PK;
 
DECLARE Max_ID INTEGER;
BEGIN
  SELECT MAX(ID) INTO Max_ID FROM Contacts;
  EXECUTE IMMEDIATE '
    CREATE SEQUENCE Contacts_Seq
      START WITH '||To_Char(Max_ID + 1);
END;
/
</pre></li>
                                 <li>
                                    <p>Create trigger:</p><pre class="oac_no_warn" dir="ltr">CREATE TRIGGER Contacts_BI
  BEFORE INSERT ON Contacts FOR EACH ROW
BEGIN
  :NEW.ID := Contacts_Seq.NEXTVAL;
END;
/
</pre></li>
                              </ol>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938" name="GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938"></a><h6 id="ADFNS-GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938" class="sect6">Example: Viewing Data in the Existing Table</h6>
                        <div>
                           <p><a href="editions.html#GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938__BABJEBDB">Example 27-8</a> shows how the table <code class="codeph">Contacts</code> looks after being populated with data.
                           </p>
                           <div class="example" id="GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938__BABJEBDB">
                              <p class="titleinexample">Example 27-8 Viewing Data in the Existing Table</p>
                              <p>Query:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM Contacts
ORDER BY Name;
 </pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">        ID NAME                                            PHONE_NUMBER
---------- ----------------------------------------------- --------------------
       174 Abel, Ellen                                     011.44.1644.429267
       166 Ande, Sundar                                    011.44.1346.629268
       130 Atkinson, Mozhe                                 650.124.6234
       105 Austin, David                                   590.423.4569
       204 Baer, Hermann                                   515.123.8888
       116 Baida, Shelli                                   515.127.4563
       167 Banda, Amit                                     011.44.1346.729268
       172 Bates, Elizabeth                                011.44.1343.529268
       192 Bell, Sarah                                     650.501.1876
       151 Bernstein, David                                011.44.1344.345268
       129 Bissot, Laura                                   650.124.5234
       169 Bloom, Harrison                                 011.44.1343.829268
       185 Bull, Alexis                                    650.509.2876
       187 Cabrio, Anthony                                 650.509.4876
       148 Cambrault, Gerald                               011.44.1344.619268
       154 Cambrault, Nanette                              011.44.1344.987668
       110 Chen, John                                      515.124.4269
       ...
       120 Weiss, Matthew                                  650.123.1234
       200 Whalen, Jennifer                                515.123.4444
       149 Zlotkey, Eleni                                  011.44.1344.429018

107 rows selected.
</pre><p>Suppose that you must redefine <code class="codeph">Contacts</code>, replacing the <code class="codeph">Name</code> column with the columns <code class="codeph">First_Name</code> and <code class="codeph">Last_Name</code>, and adding the column <code class="codeph">Country_Code</code>. Also suppose that while you are making this structural change, other users must be able to change the data in <code class="codeph">Contacts</code>.
                              </p>
                              <p>You need all features of EBR: the edition, which is always needed; the editioning view, because you are redefining a table; and crossedition triggers, because other users must be able to change data in the table while you are redefining it.</p>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div><a id="ADFNS938"></a><a id="ADFNS937"></a><div class="props_rev_3"><a id="GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634" name="GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634"></a><h5 id="ADFNS-GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634" class="sect5">Preparing the Application to Use Editioning Views</h5>
                     <div>
                        <div class="section">
                           <p><a href="editions.html#GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634__BABJFGJD">Example 27-9</a> shows how to create the editioning view from which other users will access the table <code class="codeph">Contacts</code> while you are redefining it in the new edition.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634__BABJFGJD">
                           <p class="titleinexample">Example 27-9 Creating an Editioning View for the Existing Table</p>
                           <ol>
                              <li>
                                 <p>Give table a new name (so that you can give its current name to editioning view):</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE Contacts RENAME TO Contacts_Table;
</pre></li>
                              <li>
                                 <p>(Optional) Give columns of table new names:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE Contacts_Table
  RENAME COLUMN Name TO Name_1;

ALTER TABLE Contacts_Table
  RENAME COLUMN Phone_Number TO Phone_Number_1;
</pre></li>
                              <li>
                                 <p>Create editioning view:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE EDITIONING VIEW Contacts AS
  SELECT
    ID                 ID,
    Name_1             Name,
    Phone_Number_1     Phone_Number
  FROM Contacts_Table;
</pre></li>
                              <li id="GUID-61BBC031-6D7B-470A-8882-C2EBAEBA4634__BABHBBHF">
                                 <p>Move trigger <code class="codeph">Contacts_BI</code> from table to editioning view:
                                 </p><pre class="oac_no_warn" dir="ltr">DROP TRIGGER Contacts_BI;
 
CREATE TRIGGER Contacts_BI
  BEFORE INSERT ON Contacts FOR EACH ROW
BEGIN
  :NEW.ID := Contacts_Seq.NEXTVAL;
END;
/</pre></li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS940"></a><a id="ADFNS941"></a><a id="ADFNS942"></a><a id="ADFNS943"></a><a id="ADFNS944"></a><a id="ADFNS939"></a><div class="props_rev_3"><a id="GUID-D9907361-0E4D-4C99-ADE1-0EE4FCA76DC6" name="GUID-D9907361-0E4D-4C99-ADE1-0EE4FCA76DC6"></a><h5 id="ADFNS-GUID-D9907361-0E4D-4C99-ADE1-0EE4FCA76DC6" class="sect5">Using EBR to Upgrade the Example Application</h5>
                     <div>
                        <p>You can use triggers to upgrade an existing application.</p>
                        <div class="section">
                           <p>The following examples show how to use triggers to updated the example application:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="editions.html#GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7">Example: Creating Edition in Which to Upgrade the Example Application</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-97280B8B-D48E-425D-944F-4C98F60A01DF">Example: Changing the Table and Replacing the Editioning View</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-4F992EF7-770A-4939-BA95-D77ACD205E94">Example: Creating and Enabling the Crossedition Triggers</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27">Example: Applying the Transforms</a></p>
                              </li>
                              <li>
                                 <p><a href="editions.html#GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C">Example: Viewing Data in the Changed Table</a></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div class="sect5"><a id="GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7" name="GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7"></a><h6 id="ADFNS-GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7" class="sect6">Example: Creating an Edition in Which to Upgrade the Example Application</h6>
                        <div>
                           <p><a href="editions.html#GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7__BABBAEFA">Example 27-10</a> shows how to create an edition in which to upgrade the existing application (in <a href="editions.html#GUID-6692B153-6517-4A78-AAA3-FB8EADFDA823">Existing Application</a>), make the new edition the session edition, and check that the new edition really is the session edition.
                           </p>
                           <div class="example" id="GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7__BABBAEFA">
                              <p class="titleinexample">Example 27-10 Creating an Edition in Which to Upgrade the Example Application</p>
                              <ol>
                                 <li>
                                    <p>Create the new edition:</p><pre class="oac_no_warn" dir="ltr">CREATE EDITION Post_Upgrade AS CHILD OF Ora$Base;
</pre></li>
                                 <li>
                                    <p>Make new edition your session edition:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET EDITION = Post_Upgrade;
</pre></li>
                                 <li>
                                    <p>Check session edition:</p><pre class="oac_no_warn" dir="ltr">SELECT
SYS_CONTEXT('Userenv', 'Current_Edition_Name') "Current_Edition"
FROM DUAL;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Current_Edition
-----------------------------------------------------------------------------
POST_UPGRADE
 
1 row selected.
</pre></li>
                              </ol>
                              <p>In the <code class="codeph">Post_Upgrade</code> edition, <a href="editions.html#GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7">Example: Creating an Edition in Which to Upgrade the Example Application</a> shows how to add the new columns to the physical table and recompile the trigger that was invalidated by adding the columns. Then, it shows how to replace the editioning view <code class="codeph">Contacts</code> so that it selects the columns of the table by their desired logical names.
                              </p>
                              <div class="infoboxnote" id="GUID-A356E1BC-3E63-4C59-A00E-95436F3C1DF7__GUID-D5F2948A-DB09-4FDE-9FDB-869F520E6305">
                                 <p class="notep1">Note:</p>
                                 <p>Because you will change the base table, see <span class="q">"<a href="sql-processing-for-application-developers.html#GUID-42F52650-84EC-4D7C-B5A8-FBEFE73366C2">Nonblocking and Blocking DDL Statements</a>."</span></p>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-97280B8B-D48E-425D-944F-4C98F60A01DF" name="GUID-97280B8B-D48E-425D-944F-4C98F60A01DF"></a><h6 id="ADFNS-GUID-97280B8B-D48E-425D-944F-4C98F60A01DF" class="sect6">Example: Changing the Table and Replacing the Editioning View</h6>
                        <div>
                           <p>In the <code class="codeph">Post_Upgrade</code> edition, <a href="editions.html#GUID-97280B8B-D48E-425D-944F-4C98F60A01DF__BABBJGBJ">Example 27-11</a> shows how to create two procedures for the forward crossedition trigger to use, create both the forward and reverse crossedition triggers in the disabled state, and enable them.
                           </p>
                           <div class="example" id="GUID-97280B8B-D48E-425D-944F-4C98F60A01DF__BABBJGBJ">
                              <p class="titleinexample">Example 27-11 Changing the Table and Replacing the Editioning View</p>
                              <ol>
                                 <li>
                                    <p>Add new columns to physical table:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE Contacts_Table ADD (
  First_Name_2     varchar2(20),
  Last_Name_2      varchar2(25),
  Country_Code_2   varchar2(20),
  Phone_Number_2   varchar2(20)
);
</pre><p>(This is nonblocking DDL.)</p>
                                 </li>
                                 <li>
                                    <p>Recompile invalidated trigger:</p><pre class="oac_no_warn" dir="ltr">ALTER TRIGGER Contacts_BI COMPILE REUSE SETTINGS;
</pre></li>
                                 <li>
                                    <p>Replace editioning view so that it selects replacement columns with their desired logical names:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE EDITIONING VIEW Contacts AS
  SELECT
    ID                 ID,
    First_Name_2       First_Name,
    Last_Name_2        Last_Name,
    Country_Code_2     Country_Code,
    Phone_Number_2     Phone_Number
  FROM Contacts_Table;
</pre></li>
                              </ol>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-4F992EF7-770A-4939-BA95-D77ACD205E94" name="GUID-4F992EF7-770A-4939-BA95-D77ACD205E94"></a><h6 id="ADFNS-GUID-4F992EF7-770A-4939-BA95-D77ACD205E94" class="sect6">Example: Creating and Enabling the Crossedition Triggers</h6>
                        <div>
                           <p>In the <code class="codeph">Post_Upgrade</code> edition, <a href="editions.html#GUID-4F992EF7-770A-4939-BA95-D77ACD205E94__BABEGFDD">Example 27-12</a> shows how to apply the transforms.
                           </p>
                           <div class="example" id="GUID-4F992EF7-770A-4939-BA95-D77ACD205E94__BABEGFDD">
                              <p class="titleinexample">Example 27-12 Creating and Enabling the Crossedition Triggers</p>
                              <ol>
                                 <li>
                                    <p>Create first procedure that forward crossedition trigger uses:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE Set_First_And_Last_Name (
  Name        IN  VARCHAR2,
  First_Name  OUT VARCHAR2,
  Last_Name   OUT VARCHAR2)
IS
  Comma_Pos NUMBER := INSTR(Name, ',');
BEGIN
  IF Comma_Pos IS NULL OR Comma_Pos &lt; 2 THEN
    RAISE Program_Error;
  END IF;
 
  Last_Name := SUBSTR(Name, 1, Comma_Pos-1);
  Last_Name := RTRIM(Ltrim(Last_Name));
 
  First_Name := SUBSTR(Name, Comma_Pos+1);
  First_Name := RTRIM(LTRIM(First_Name));
END Set_First_And_Last_Name;
/
</pre></li>
                                 <li>
                                    <p>Create second procedure that forward crossedition trigger uses:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE Set_Country_Code_And_Phone_No (
  Phone_Number     IN  VARCHAR2,
  Country_Code     OUT VARCHAR2,
  Phone_Number_V2  OUT VARCHAR2)
IS
  Char_To_Number_Error EXCEPTION;
  PRAGMA EXCEPTION_INIT(Char_To_Number_Error, -06502);
  Bad_Phone_Number EXCEPTION;
  Nmbr VARCHAR2(30) := REPLACE(Phone_Number, '.', '-');
 
  FUNCTION Is_US_Number(Nmbr IN VARCHAR2)
    RETURN BOOLEAN
  IS
    Len NUMBER := LENGTH(Nmbr);
    Dash_Pos NUMBER := INSTR(Nmbr, '-');
    n PLS_INTEGER;
  BEGIN
    IF Len IS NULL OR Len &lt;&gt; 12 THEN
      RETURN FALSE;
    END IF;
    IF Dash_Pos IS NULL OR Dash_Pos &lt;&gt; 4 THEN
      RETURN FALSE;
    END IF;
    BEGIN
      n := TO_NUMBER(SUBSTR(Nmbr, 1, 3));
    EXCEPTION WHEN Char_To_Number_Error THEN
      RETURN FALSE;
    END;
 
    Dash_Pos := INSTR(Nmbr, '-', 5);
 
    IF Dash_Pos IS NULL OR Dash_Pos &lt;&gt; 8 THEN
      RETURN FALSE;
    END IF;
 
    BEGIN
      n := TO_NUMBER(SUBSTR(Nmbr, 5, 3));
    EXCEPTION WHEN Char_To_Number_Error THEN
      RETURN FALSE;
    END;
 
    BEGIN
      n := TO_NUMBER(SUBSTR(Nmbr, 9));
    EXCEPTION WHEN Char_To_Number_Error THEN
      RETURN FALSE;
    END;
 
    RETURN TRUE;
  END Is_US_Number;
 
BEGIN
  IF Nmbr LIKE '011-%' THEN
    DECLARE
      Dash_Pos NUMBER := INSTR(Nmbr, '-', 5);
    BEGIN
      Country_Code := '+'|| TO_NUMBER(SUBSTR(Nmbr, 5, Dash_Pos-5));
      Phone_Number_V2 := SUBSTR(Nmbr, Dash_Pos+1);
    EXCEPTION WHEN Char_To_Number_Error THEN
      raise Bad_Phone_Number;
    END;
  ELSIF Is_US_Number(Nmbr) THEN
    Country_Code := '+1';
    Phone_Number_V2 := Nmbr;
  ELSE
    RAISE Bad_Phone_Number;
  END IF;
EXCEPTION WHEN Bad_Phone_Number THEN
  Country_Code := '+0';
  Phone_Number_V2 := '000-000-0000';
END Set_Country_Code_And_Phone_No;
/
</pre></li>
                                 <li>
                                    <p>Create forward crossedition trigger in disabled state:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TRIGGER Contacts_Fwd_Xed
  BEFORE INSERT OR UPDATE ON Contacts_Table
  FOR EACH ROW
  <span class="bold">FORWARD CROSSEDITION</span>
  <span class="bold">DISABLE</span>
BEGIN
  Set_First_And_Last_Name(
    :NEW.Name_1,
    :NEW.First_Name_2,
    :NEW.Last_Name_2
  );
  Set_Country_Code_And_Phone_No(
    :NEW.Phone_Number_1,
    :NEW.Country_Code_2,
    :NEW.Phone_Number_2
  );
END Contacts_Fwd_Xed;
/
</pre></li>
                                 <li>
                                    <p>Enable forward crossedition trigger:</p><pre class="oac_no_warn" dir="ltr">ALTER TRIGGER Contacts_Fwd_Xed <span class="bold">ENABLE</span>;
</pre></li>
                                 <li>
                                    <p>Create reverse crossedition trigger in disabled state:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TRIGGER Contacts_Rvrs_Xed
  BEFORE INSERT OR UPDATE ON Contacts_Table
  FOR EACH ROW
  <span class="bold">REVERSE CROSSEDITION</span>
  <span class="bold">DISABLE</span>
BEGIN
  :NEW.Name_1 := :NEW.Last_Name_2||', '||:NEW.First_Name_2;
  :NEW.Phone_Number_1 :=
  CASE :New.Country_Code_2
    WHEN '+1' THEN
      REPLACE(:NEW.Phone_Number_2, '-', '.')
    ELSE
      '011.'||LTRIM(:NEW.Country_Code_2, '+')||'.'||
      REPLACE(:NEW.Phone_Number_2, '-', '.')
  END;
END Contacts_Rvrs_Xed;
/
</pre></li>
                                 <li>
                                    <p>Enable reverse crossedition trigger:</p><pre class="oac_no_warn" dir="ltr">ALTER TRIGGER Contacts_Rvrs_Xed <span class="bold">ENABLE</span>;
</pre></li>
                                 <li>
                                    <p>Wait until pending changes are either committed or rolled back:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  scn              NUMBER  := NULL;
  timeout CONSTANT INTEGER := NULL;
BEGIN
  IF NOT DBMS_UTILITY.WAIT_ON_PENDING_DML(Tables  =&gt; 'Contacts_Table',
                                          timeout =&gt; timeout,
                                          scn     =&gt; scn)
  THEN
    RAISE_APPLICATION_ERROR(-20000,
     'Wait_On_Pending_DML() timed out. CETs were enabled before SCN: '||SCN);
  END IF;
END;
/
</pre></li>
                              </ol>
                              <div class="infoboxnotealso" id="GUID-4F992EF7-770A-4939-BA95-D77ACD205E94__NOTE-1233-CBCFDC47">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS73275" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_UTILITY</code>.<code class="codeph">WAIT_ON_PENDING_DML</code> procedure
                                 </p>
                              </div>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27" name="GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27"></a><h6 id="ADFNS-GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27" class="sect6">Example: Applying the Transforms</h6>
                        <div>
                           <p>In the Post_Upgrade edition, <a href="editions.html#GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27__BABHAFBD">Example 27-13</a> example shows how to apply the transforms.
                           </p>
                           <div class="example" id="GUID-B3BA1977-C5E2-4A8A-BF34-82E07232BB27__BABHAFBD">
                              <p class="titleinexample">Example 27-13 Applying the Transforms</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c NUMBER := DBMS_SQL.OPEN_CURSOR();
  x NUMBER;
BEGIN
  DBMS_SQL.PARSE(
    c                          =&gt; c,
    Language_Flag              =&gt; DBMS_SQL.NATIVE,
    Statement                  =&gt; 'UPDATE Contacts_Table SET ID = ID',
    Apply_Crossedition_Trigger =&gt; 'Contacts_Fwd_Xed'
  );
  x := DBMS_SQL.EXECUTE(c);
  DBMS_SQL.CLOSE_CURSOR(c);
  COMMIT;
END;
/
 </pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C" name="GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C"></a><h6 id="ADFNS-GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C" class="sect6">Example: Viewing Data in the Changed Table</h6>
                        <div>
                           <p>In the <code class="codeph">Post_Upgrade</code> edition, <a href="editions.html#GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C__BABHACHI">Example 27-14</a> shows how to check that the change worked as intended. Compare <a href="editions.html#GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C">Example: Viewing Data in the Changed Table</a>to <a href="editions.html#GUID-3AD149F5-AC08-40AA-9ED6-C6C35414A938">Example: Viewing Data in the Existing Table</a>.
                           </p>
                           <div class="example" id="GUID-239A6927-E6FD-464D-9ACC-B6DCFF11786C__BABHACHI">
                              <p class="titleinexample">Example 27-14 Viewing Data in the Changed Table</p>
                              <ol>
                                 <li>
                                    <p>Format columns for readability:</p><pre class="oac_no_warn" dir="ltr">COLUMN ID FORMAT 999
COLUMN Last_Name FORMAT A15
COLUMN First_Name FORMAT A15
COLUMN Country_Code FORMAT A12
COLUMN Phone_Number FORMAT A12
</pre></li>
                                 <li>
                                    <p>Query:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM Contacts
ORDER BY Last_Name;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">  ID FIRST_NAME      LAST_NAME       COUNTRY_CODE PHONE_NUMBER
---- --------------- --------------- ------------ ------------
 174 Ellen           Abel            +44          1644-429267
 166 Sundar          Ande            +44          1346-629268
 130 Mozhe           Atkinson        +1           650-124-6234
 105 David           Austin          +1           590-423-4569
 204 Hermann         Baer            +1           515-123-8888
 116 Shelli          Baida           +1           515-127-4563
 167 Amit            Banda           +44          1346-729268
 172 Elizabeth       Bates           +44          1343-529268
 192 Sarah           Bell            +1           650-501-1876
 151 David           Bernstein       +44          1344-345268
 129 Laura           Bissot          +1           650-124-5234
 169 Harrison        Bloom           +44          1343-829268
 185 Alexis          Bull            +1           650-509-2876
 187 Anthony         Cabrio          +1           650-509-4876
 154 Nanette         Cambrault       +44          1344-987668
 148 Gerald          Cambrault       +44          1344-619268
 110 John            Chen            +1           515-124-4269
       ...
 120 Matthew         Weiss           +1           650-123-1234
 200 Jennifer        Whalen          +1           515-123-4444
 149 Eleni           Zlotkey         +44          1344-429018
 
107 rows selected.
</pre></li>
                              </ol>
                              <p>If the change worked as intended, you can now follow steps <a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABDHEFG">10</a> through <a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9__BABIIIHE">13</a> of the procedure in <a href="editions.html#GUID-847C93E1-1001-418A-9A46-F3D3226DE8F9">Procedure for EBR Using Crossedition Triggers</a>.
                              </p>
                           </div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>