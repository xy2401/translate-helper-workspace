<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_FREQUENT_ITEMSET package enables frequent itemset counting. The two functions are identical except in the input cursor format difference.">
      <meta name="description" content="The DBMS_FREQUENT_ITEMSET package enables frequent itemset counting. The two functions are identical except in the input cursor format difference.">
      <title>DBMS_FREQUENT_ITEMSET</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_FREQUENT_ITEMSET package enables frequent itemset counting. The two functions are identical except in the input cursor format difference.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_FLASHBACK_ARCHIVE.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_FS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_FLASHBACK_ARCHIVE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_FS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_FREQUENT_ITEMSET</li>
            </ol>
            <a id="GUID-515F434E-A009-4FBE-8C4B-F9D5ABD5107E" name="GUID-515F434E-A009-4FBE-8C4B-F9D5ABD5107E"></a><a id="ARPLS007"></a><a id="ARPLS007"></a>
            
            <h2 id="ARPLS-GUID-515F434E-A009-4FBE-8C4B-F9D5ABD5107E" class="sect2"><span class="enumeration_chapter">71 </span> DBMS_FREQUENT_ITEMSET
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The DBMS_FREQUENT_ITEMSET package enables frequent itemset counting. The two functions are identical except in the input cursor format difference.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_FREQUENT_ITEMSET.html#GUID-A1EF3FF9-D412-4805-B513-47D971FFA5F1" title="The DBMS_FREQUENT_ITEMSET package includes the FI_HORIZONTAL function and FI_TRANSACTIONAL function subprograms.">Summary of DBMS_FREQUENT_ITEMSET Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS66409"></a><a id="ARPLS66410"></a><a id="ARPLS66410"></a><a id="ARPLS66409"></a><div class="props_rev_3"><a id="GUID-A1EF3FF9-D412-4805-B513-47D971FFA5F1" name="GUID-A1EF3FF9-D412-4805-B513-47D971FFA5F1"></a><h3 id="ARPLS-GUID-A1EF3FF9-D412-4805-B513-47D971FFA5F1" class="sect3"><span class="enumeration_section">71.1 </span>Summary of DBMS_FREQUENT_ITEMSET Subprograms
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_FREQUENT_ITEMSET</code> package includes the <code class="codeph">FI_HORIZONTAL</code> function and <code class="codeph">FI_TRANSACTIONAL</code> function subprograms.
                  </p>
                  <div class="tblformal" id="GUID-A1EF3FF9-D412-4805-B513-47D971FFA5F1__GUID-C12A573B-15DE-4B7B-8327-0390206996E3">
                     <p class="titleintable">Table 71-1  DBMS_FREQUENT_ITEMSET Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title=" DBMS_FREQUENT_ITEMSET Package Subprograms" summary="This table lists the DBMS_FREQUENT_ITEMSET subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d440254e213">Subprogram</th>
                              <th align="left" valign="bottom" width="68%" id="d440254e216">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d440254e221" headers="d440254e213 ">
                                 <p><a href="DBMS_FREQUENT_ITEMSET.html#GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D" title="The purpose of this table function is to count all frequent itemsets given a cursor for input data which is in 'HORIZONTAL' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded. The result will be a table of rows in form of itemset, support, length, total transactions counted.">FI_HORIZONTAL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d440254e221 d440254e216 ">
                                 <p>Counts all frequent itemsets given a cursor for input data which is in '<code class="codeph">HORIZONTAL</code>' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d440254e239" headers="d440254e213 ">
                                 <p><a href="DBMS_FREQUENT_ITEMSET.html#GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE" title="This procedure counts all frequent itemsets given a cursor for input data which is in 'TRANSACTIONAL' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded. The result will be a table of rows in form of itemset, support, length, total number of transactions.">FI_TRANSACTIONAL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d440254e239 d440254e216 ">
                                 <p>Counts all frequent itemsets given a cursor for input data which is in '<code class="codeph">TRANSACTIONAL</code>' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66411"></a><a id="ARPLS66412"></a><a id="ARPLS66413"></a><a id="ARPLS66412"></a><a id="ARPLS66413"></a><a id="ARPLS66411"></a><div class="props_rev_3"><a id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D" name="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D"></a><h4 id="ARPLS-GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D" class="sect4"><span class="enumeration_section">71.1.1 </span>FI_HORIZONTAL Function
                  </h4>
                  <div>
                     <p>The purpose of this table function is to count all frequent itemsets given a cursor for input data which is in '<code class="codeph">HORIZONTAL</code>' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded. The result will be a table of rows in form of itemset, support, length, total transactions counted.
                     </p>
                     <div class="section">
                        <p>In '<code class="codeph">HORIZONTAL</code>' row format, each row contains all of the item ids for a single transaction. Since all of the items come together, no transaction id is necessary.
                        </p>
                        <p>The benefit of this table function is that if an application already has data in horizontal format, the database can skip the step of transforming rows that are in transactional format into horizontal format.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-CD30E707-38E7-4F77-A4A8-BF660B517B4E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_FREQUENT_ITEMSET.FI_HORIZONTAL(
   tranx_cursor         IN    SYSREFCURSOR,
   support_threshold    IN    NUMBER,
   itemset_length_min   IN    NUMBER,
   itemset_length_max   IN    NUMBER,
   including_items      IN    SYS_REFCURSOR DEFAULT NULL,
   excluding_items      IN    SYS_REFCURSOR DEFAULT NULL)
  RETURN TABLE OF ROW (
     itemset [Nested Table of Item Type DERIVED FROM tranx_cursor],
     support        NUMBER,
     length         NUMBER,
     total_tranx    NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-644262B1-0068-483C-AB85-CDC14A67CA61">Parameters</p>
                        <div class="tblformal" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-D76D248A-7594-44AD-BDB4-4F5EFA8473F0">
                           <p class="titleintable">Table 71-2 FI_HORIZONTAL Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FI_HORIZONTAL Function Parameters" summary="This table describes the parameters of DBMS_FREQUENT_ITEMSET.FI_HORIZONTAL." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d440254e379">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d440254e382">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e387" headers="d440254e379 ">
                                       <p><code class="codeph">tranx_cursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e387 d440254e382 ">
                                       <p>The cursor parameter that the user will supply when calling the function. There is no limits on the number of returning columns.Each column of cursor represents an item. All columns of the cursor must be of the same datatype. The item id must be number or character type (for example, <code class="codeph">VARCHAR2</code>(n)).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e398" headers="d440254e379 ">
                                       <p><code class="codeph">support_threshold</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e398 d440254e382 ">
                                       <p>A fraction number of total transaction count. An itemset is termed "frequent" if [the number of transactions it occurs in] divided by [the total number of transactions] exceed the fraction. The parameter must be a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e409" headers="d440254e379 ">
                                       <p><code class="codeph">itemset_length_min</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e409 d440254e382 ">
                                       <p>The minimum length for interested frequent itemset. The parameter must be a <code class="codeph">NUMBER</code> between 1 and 20, inclusive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e420" headers="d440254e379 ">
                                       <p><code class="codeph">itemset_length_max</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e420 d440254e382 ">
                                       <p>The maximum length for interested frequent itemset. This parameter must be a <code class="codeph">NUMBER</code> between 1 and 20, inclusive, and must not be less than <code class="codeph">itemset_length_min</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e434" headers="d440254e379 ">
                                       <p><code class="codeph">including_items</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e434 d440254e382 ">
                                       <p>A cursor from which a list of items can be fetched. At least one item from the list must appear in frequent itemsets that are returned. The default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e445" headers="d440254e379 ">
                                       <p><code class="codeph">excluding_items</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e445 d440254e382 ">
                                       <p>A cursor from which a list of items can be fetched. No item from the list can appear in frequent itemsets that are returned.The default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-23954B24-D8D5-48EB-8F10-ADCA527AEE9F">Return Values</p>
                        <div class="tblformal" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-C48E7786-50CF-4583-8BCE-415D7C4F1DE6">
                           <p class="titleintable">Table 71-3 FI_HORIZONTAL Return Values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FI_HORIZONTAL Return Values" summary="This table describes the Return Values for FI_HORIZONTAL." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d440254e468">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d440254e471">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e476" headers="d440254e468 "><pre class="oac_no_warn" dir="ltr">support</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e476 d440254e471 ">
                                       <p>The number of transactions in which a frequent itemset occurs. This will be returned as a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e486" headers="d440254e468 "><pre class="oac_no_warn" dir="ltr">itemset</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e486 d440254e471 ">
                                       <p>A collection of items which is computed as frequent itemset. This will be returned as a nested table of item type which is the item column type of the input cursor.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e493" headers="d440254e468 "><pre class="oac_no_warn" dir="ltr">length</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e493 d440254e471 ">
                                       <p>Number of items in a frequent itemset. This will be returned as a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e503" headers="d440254e468 "><pre class="oac_no_warn" dir="ltr">total_tranx</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e503 d440254e471 ">
                                       <p>The total transaction count. This will be returned as a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF870C2-6E1F-4C13-9E9F-88C2598A0B3D__GUID-EA4756D5-29F3-4E8F-9AEE-4390E5EB7055">Example</p>
                        <p>Suppose you have a table <code class="codeph">horiz_table_in</code>.
                        </p><pre class="oac_no_warn" dir="ltr">horiz_table_in(iid1 VARCHAR2(30), iid2 VARCHAR2(30), iid3 VARCHAR2(30), iid4
VARCHAR2(30), iid5 VARCHAR2(30));
</pre><p>and the data in horiz_table_in looks as follows:</p><pre class="oac_no_warn" dir="ltr">('apple', 'banana', NULL, NULL, NULL)
('apple', 'milk', 'banana', NULL, NULL)
('orange', NULL, NULL, NULL, NULL)
</pre><p>Suppose you want to find out what combinations of items is frequent with a given support threshold of 30%, requiring itemset containing at least one of ('apple','banana','orange'), but excluding any of ('milk') in any itemset. You use the following query:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE fi_varchar_nt AS TABLE OF VARCHAR2(30);
SELECT CAST(itemset as FI_VARCHAR_NT)itemset, support, length, total_tranx
   FROM table(DBMS_FREQUENT_ITEMSET.FI_HORIZONTAL(
                 CURSOR(SELECT iid1, iid2, iid3, iid4, iid5
                          FROM horiz_table_in),
                 0.3, 
                 2, 
                 5,
                 CURSOR(SELECT * FROM table(FI_VARCHAR_NT 
                                            ('apple','banana','orange'))),
                 CURSOR(SELECT * FROM table(FI_VARCHAR_NT('milk')))));</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66414"></a><a id="ARPLS66415"></a><a id="ARPLS66416"></a><a id="ARPLS66415"></a><a id="ARPLS66416"></a><a id="ARPLS66414"></a><div class="props_rev_3"><a id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE" name="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE"></a><h4 id="ARPLS-GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE" class="sect4"><span class="enumeration_section">71.1.2 </span>FI_TRANSACTIONAL Function
                  </h4>
                  <div>
                     <p>This procedure counts all frequent itemsets given a cursor for input data which is in '<code class="codeph">TRANSACTIONAL</code>' row format, support threshold, minimum itemset length, maximum itemset length, items to be included, items to be excluded. The result will be a table of rows in form of itemset, support, length, total number of transactions.
                     </p>
                     <div class="section">
                        <p>In '<code class="codeph">TRANSACTIONAL</code>' row format, each transaction is spread across multiple rows. All the rows of a given transaction have the same transaction id, and each row has a different item id. Combining all of the item ids which share a given transaction id results in a single transaction.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-8999DEF1-2F21-49B7-9C1C-1C6772ABB571">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL (
   tranx_cursor         IN    SYSREFCURSOR,
   support_threshold    IN    NUMBER,
   itemset_length_min   IN    NUMBER,
   itemset_length_max   IN    NUMBER,
   including_items      IN    SYS_REFCURSOR DEFAULT NULL,
   excluding_items      IN    SYS_REFCURSOR DEFAULT NULL)
  RETURN TABLE OF ROW (
     itemset [Nested Table of Item Type DERIVED FROM tranx_cursor],
     support        NUMBER,
     length         NUMBER,
     total_tranx    NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-6F467BD2-51DD-4503-8C73-05DD535E48F2">Parameters</p>
                        <div class="tblformal" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-A81D0D4E-ABEC-4A81-AB1A-69694A0B0C92">
                           <p class="titleintable">Table 71-4 <span class="italic"><span class="bold">FI_TRANSACTIONAL Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FI_TRANSACTIONAL Function Parameters" summary="This table describes the parameters of DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d440254e654">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d440254e657">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e662" headers="d440254e654 ">
                                       <p><code class="codeph">tranx_cursor</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e662 d440254e657 ">
                                       <p>The cursor parameter that the user will supply when calling the function. It should return two columns in its returning row, the first column being the transaction id, the second column being the item id. The item id must be number or character type (for example, <code class="codeph">VARCHAR2</code>(n)).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e673" headers="d440254e654 ">
                                       <p><code class="codeph">support_threshold</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e673 d440254e657 ">
                                       <p>A fraction number of total transaction count. An itemset is termed "frequent" if [the number of transactions it occurs in] divided by [the total number of transactions] exceed the fraction. The parameter must be a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e684" headers="d440254e654 ">
                                       <p><code class="codeph">itemset_length_min</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e684 d440254e657 ">
                                       <p>The minimum length for interested frequent itemset. The parameter must be a <code class="codeph">NUMBER</code> between 1 and 20, inclusive.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e695" headers="d440254e654 ">
                                       <p><code class="codeph">itemset_length_max</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e695 d440254e657 ">
                                       <p>The maximum length for interested frequent itemset. This parameter must be a <code class="codeph">NUMBER</code> between 1 and 20, inclusive, and must not be less than <code class="codeph">itemset_length_min</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e709" headers="d440254e654 ">
                                       <p><code class="codeph">including_items</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e709 d440254e657 ">
                                       <p>A cursor from which a list of items can be fetched. At least one item from the list must appear in frequent itemsets that will be returned. The default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e720" headers="d440254e654 ">
                                       <p><code class="codeph">excluding_items</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d440254e720 d440254e657 ">
                                       <p>A cursor from which a list of items can be fetched. No item from the list can appear in frequent itemsets that will returned. The default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-CCCBCC45-96B4-4E56-839B-40C3D03EA8BA">Return Values</p>
                        <div class="tblformal" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-0D3C7873-DDEC-4043-9EF5-7E5FFD9BE6D4">
                           <p class="titleintable">Table 71-5 FI_TRANSACTIONAL Return Values</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FI_TRANSACTIONAL Return Values" summary="This table describes the Return Values for FI_TRANSACTIONAL." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d440254e743">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d440254e746">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e751" headers="d440254e743 "><pre class="oac_no_warn" dir="ltr">support</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e751 d440254e746 ">
                                       <p>The number of transactions in which a frequent itemset occurs. This will be returned as a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e761" headers="d440254e743 "><pre class="oac_no_warn" dir="ltr">itemset</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e761 d440254e746 ">
                                       <p>A collection of items which is computed as frequent itemset. This will be returned as a nested table of item type which is the item column type of the input cursor.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e768" headers="d440254e743 "><pre class="oac_no_warn" dir="ltr">length</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e768 d440254e746 ">
                                       <p>Number of items in a frequent itemset. This will be returned as a <code class="codeph">NUMBER</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d440254e778" headers="d440254e743 "><pre class="oac_no_warn" dir="ltr">total_tranx</pre></td>
                                    <td align="left" valign="top" width="69%" headers="d440254e778 d440254e746 ">
                                       <p>The total transaction count. This will be returned as a <code class="codeph">NUMBER</code>, and will be the same for all returned rows, similar to a reporting aggregate.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-7BD64DE2-4FF5-42E0-96D4-C018ED9E9DA5">Usage Notes</p>
                        <p>Applications must predefine a nested table type of the input item type and cast the output itemset into this predefined nested table type before further processing, such as loading into a table.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8414C01F-3123-4032-BCB1-56BCDAEF72EE__GUID-2719AFB0-C3E6-4B51-9C23-9A0D6DA9681A">Examples</p>
                        <p>Suppose that the input table <code class="codeph">tranx_table_in</code> looks as follows:
                        </p><pre class="oac_no_warn" dir="ltr">(1, 'apple')
(1, 'banana')
(2, 'apple')
(2, 'milk')
(2, 'banana')
(3, 'orange')
 </pre><p>and the user is trying to find itemsets that satisfy a support-threshold of 60% and have the itemset-length greater than 1 (namely, (apple, banana)).</p>
                        <p>The output of this function would contain the following output row:</p><pre class="oac_no_warn" dir="ltr">itemset=('apple','banana'), support=2, length=2, total_tranx=3
</pre><p>You need to create a nested table of item type before you submit a query to perform the frequent itemset counting. In this example, since item is of <code class="codeph">VARCHAR2(30)</code>, you must create a nested table of <code class="codeph">VARCHAR2(30)</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE fi_varchar_nt AS TABLE OF VARCHAR2(30);
SELECT CAST(itemset as FI_VARCHAR_NT) itemset, support, length, total_tranx
   FROM table(DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL(
                 cursor(SELECT tid, iid FROM tranx_table_in),
                 0.6, 
                 2, 
                 5,
                 NULL,
                 NULL));
</pre><p>Here is another example to illustrate how to include certain items and exclude certain items in the counting.</p><pre class="oac_no_warn" dir="ltr">SELECT CAST(itemset as FI_VARCHAR_NT)itemset, support, length, total_tranx
   FROM table(DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL(
                 CURSOR(SELECT tid, iid FROM tranx_table_in),
                 0.6, 
                 2,
                 5,
                CURSOR(SELECT * FROM table(FI_VARCHAR_NT 
                                           ('apple','banana','orange'))),
                CURSOR(SELECT * FROM table(FI_VARCHAR_NT('milk')))));
</pre><p>Using the including/excluding items parameter, you are able to further optimize the execution by ignoring itemsets that are not expected by application.</p>
                        <p>You can also use transactional output through collection unnesting:</p><pre class="oac_no_warn" dir="ltr">  SELECT
    bt.setid, nt.*
  FROM
  (SELECT cast(Itemset as FI_VARCHAR_NT) itemset, rownum setid
   FROM table(
     DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL(
       CURSOR(SELECT tid, iid FROM tranx_table_in), 0.6, 2, 5,
       NULL, NULL))) bt,
  table(bt.itemset) nt;
</pre><p>If you want to use an insert statement to load frequent itemsets into a nested table, it is better to use the <code class="codeph">NESTED_TABLE_FAST_INSERT</code> hint for performance:
                        </p><pre class="oac_no_warn" dir="ltr">  CREATE TABLE fq_nt (coll FI_VARCHAR_NT) NESTED TABLE coll STORE AS
    coll_nest;
  INSERT /*+ NESTED_TABLE_FAST_INSERT */  INTO fq_nt
   SELECT cast(itemset as FI_VARCHAR_NT)
   FROM table(DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL(
          cursor(SELECT tid, iid FROM tranx_table_in), 0.6, 2, 5,
          NULL, NULL));
</pre><p>Note that if you want to use the package inside a PL/SQL cursor, you must cast the return type of the table function:</p><pre class="oac_no_warn" dir="ltr">  CREATE TYPE fi_res AS OBJECT (
    itemset      FI_VARCHAR_NT,
    support      NUMBER,
    length       NUMBER,
    total_tranx  NUMBER
  );
  /
  CREATE TYPE fi_coll AS TABLE OF fi_res;
  /

  DECLARE
    cursor freqC is
      SELECT Itemset
      FROM table(
        CAST(DBMS_FREQUENT_ITEMSET.FI_TRANSACTIONAL(
          cursor(SELECT tid, iid FROM tranx_table_in), 0.6, 2, 5,
          NULL, NULL) AS fi_coll));
    coll_nt  FI_VARCHAR_NT;
    num_rows int;
    num_itms int;
  BEGIN
    num_rows := 0;
    num_itms := 0;
    OPEN freqC;
    LOOP
      FETCH freqC INTO coll_nt;
      EXIT WHEN freqC%NOTFOUND;
      num_rows := num_rows + 1;
      num_itms := num_itms + coll_nt.count;
    END LOOP;
  CLOSE freqC;
  DBMS_OUTPUT.PUT_LINE('Totally ' || num_rows || ' rows ' || num_itms || '
items were produced.');
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>