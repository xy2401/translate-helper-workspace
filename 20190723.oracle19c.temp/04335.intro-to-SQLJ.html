<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introduction to SQLJ</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQLJ Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQLJ Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96458-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="getting-started.html" title="Previous" type="text/html">
      <link rel="next" href="key-programming-considerations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JSQLJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="key-programming-considerations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Introduction to SQLJ</li>
            </ol>
            <a id="GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48" name="GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48"></a><a id="JSQLJ136"></a>
            
            <h2 id="JSQLJ-GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48" class="sect2"><span class="enumeration_chapter">3 </span> Introduction to SQLJ
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter provides a general overview of SQLJ features and scenarios. The following topics are discussed:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B">Overview of SQLJ</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743">Overview of SQLJ Components</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676">Overview of Oracle Extensions to the SQLJ Standard</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-79F6A0F5-6BCB-4509-8015-B6263933E152">Basic Translation Steps and Run-Time Processing</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B">SQLJ Sample Code</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA">Alternative Deployment Scenarios</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5">Alternative Development Scenarios</a></p>
                  </li>
               </ul>
            </div><a id="JSQLJ137"></a><div class="props_rev_3"><a id="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B" name="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B"></a><h3 id="JSQLJ-GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B" class="sect3">Overview of SQLJ</h3>
               <div>
                  <p>This section introduces the basic concepts of SQLJ and discusses the complementary relationship between Java and PL/SQL in Oracle Database applications.</p>
                  <p>SQLJ enables applications programmers to embed SQL statements in Java code in a way that is compatible with the Java design philosophy. A SQLJ program is a Java program containing embedded SQL statements that comply with the International Organization for Standardization (ISO) standard SQLJ Language Reference syntax. The Oracle SQLJ implementation supports the ISO SQLJ standard. The standard covers only <span class="bold">static SQL</span> operations, which are predefined SQL operations that do not change in real time while a user runs the application. The Oracle SQLJ implementation also offers extensions to support <span class="bold">dynamic SQL</span> operations, which are <span class="italic">not</span> predefined and the operations can change in real time. It is also possible to use dynamic SQL operations through Java Database Connectivity (JDBC) code or PL/SQL code within a SQLJ application. Typical applications contain more static SQL operations than dynamic SQL operations.
                  </p>
                  <p>SQLJ consists of a translator and a run-time component and is smoothly integrated into your development environment. You can run the translator to translate, compile, and customize the code in a single step using the <code class="codeph">sqlj</code> front-end utility. The translation process replaces embedded SQL statements with calls to the SQLJ run time, which processes the SQL statements. In ISO SQLJ standard this is typically, but not necessarily, performed through calls to a JDBC driver. To access Oracle Database, you would typically use an Oracle JDBC driver. When you run the SQLJ application, the run time is started to handle the SQL operations.
                  </p>
                  <p>The SQLJ translator is conceptually similar to other Oracle precompilers and enables you to check SQL syntax, verify SQL operations against what is available in the schema, and check the compatibility of Java types with corresponding database types. In this way, you can catch errors during development rather than a user catching the errors at run time. The translator checks the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Syntax of the embedded SQL statements</p>
                     </li>
                     <li>
                        <p>SQL constructs, against a specified database schema to ensure consistency within a particular set of SQL entities (optional)</p>
                        <p>For example, it verifies table names and column names.</p>
                     </li>
                     <li>
                        <p>Data types, to ensure that the data exchanged between Java and SQL have compatible types and proper type conversions</p>
                     </li>
                  </ul>
                  <p>The SQLJ methodology of embedding SQL statements directly in Java code is very convenient and concise in a way that it reduces development and maintenance costs in Java programs that require database connectivity.</p>
                  <p>Java programs can call PL/SQL stored procedures and anonymous blocks through JDBC or SQLJ. In particular, SQLJ provides syntax for calling stored procedures and functions from within a SQLJ statement and also supports embedded PL/SQL anonymous blocks within a SQLJ statement.</p>
                  <div class="infoboxnote" id="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B__GUID-7C2120C3-2878-45FA-B401-4257803015C5">
                     <p class="notep1">Note:</p>
                     <p>Using PL/SQL anonymous blocks within SQLJ statements is one way to support dynamic SQL operations in a SQLJ application. However, the Oracle SQLJ implementation includes extensions to support dynamic SQL directly.</p>
                  </div>
               </div>
            </div><a id="JSQLJ138"></a><div class="props_rev_3"><a id="GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743" name="GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743"></a><h3 id="JSQLJ-GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743" class="sect3">Overview of SQLJ Components</h3>
               <div>
                  <p>This section introduces the main two major SQLJ components in Oracle SQLJ implementation. It covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189">SQLJ Translator Functionality</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6">SQLJ  Run Time</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ139"></a><div class="props_rev_3"><a id="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189" name="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189"></a><h4 id="JSQLJ-GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189" class="sect4">SQLJ Translator Functionality</h4>
                  <div>
                     <p>This component is a precompiler that you run after creating SQLJ source code.</p>
                     <p>The translator, which is written in pure Java, supports a programming syntax that enables you to embed SQL statements in SQLJ executable statements. SQLJ executable statements and SQLJ declarations are preceded by the <code class="codeph">#sql</code> token and can be interspersed with Java statements in a SQLJ source code file. SQLJ source code file names must have the <code class="codeph">.sqlj</code> extension. The following is a sample SQLJ statement:
                     </p><pre class="oac_no_warn" dir="ltr">#sql { INSERT INTO employees (first_name, salary) VALUES ('Joe', 43000) };
</pre><p>The translator produces a <code class="codeph">.java</code> file.
                     </p>
                     <p>You can invoke the translator using the <code class="codeph">sqlj</code> command-line utility. On the command line, specify the files that need to be translated and any desired SQLJ option settings.
                     </p>
                     <div class="infoboxnotealso" id="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189__GUID-AFEDAB80-A310-4341-92FC-DF6002F01781">
                        <p class="notep1">See Also:</p>
                        <p><a href="translator-command-line-and-options.html#GUID-5161125F-E86D-472D-BC57-67AB9E0B08EB"> Translator Command Line and Options</a></p>
                     </div>
                  </div>
               </div><a id="JSQLJ140"></a><div class="props_rev_3"><a id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6" name="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6"></a><h4 id="JSQLJ-GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6" class="sect4">SQLJ  Run Time</h4>
                  <div>
                     <p>This component is also written in pure Java and is invoked automatically each time you run a SQLJ application.</p>
                     <p>Oracle JDBC calls are generated directly into the translated code and the SQLJ run time plays a much smaller role.</p>
                     <div class="infoboxnotealso" id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6__GUID-AD315FB0-CDB2-4059-83FC-20664E7B6F00">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-AFF5C519-028E-4554-98E8-B8FF103515D1">SQLJ Run Time</a>"</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6__GUID-09F95188-9764-4D7E-B710-60165E789B70">
                        <p class="notep1">Note:</p>
                        <p>Since Oracle Database 10<span class="italic">g</span> Release 1, only Oracle JDBC drivers are supported with SQLJ.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ142"></a><div class="props_rev_3"><a id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676" name="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676"></a><h3 id="JSQLJ-GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676" class="sect3">Overview of Oracle Extensions to the SQLJ Standard</h3>
               <div>
                  <p>The Oracle SQLJ implementation supports the ISO SQLJ standard. Using the ISO SQLJ standard features requires a Java Development Kit (JDK) 6 or later environment that complies with Java2 Platform, Enterprise Edition (J2EE). The SQLJ translator accepts a broader range of SQL syntax than the ISO SQLJ standard specifies.</p>
                  <div class="infoboxnote" id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676__GUID-38D90CD2-04C6-46F9-B745-A28F1F06F7F8">
                     <p class="notep1">Note:</p>
                     <p>Oracle SQLJ implementation requires the run-time environment of JDK 6 or JDK 7.</p>
                  </div>
                  <p>The ISO SQLJ standard addresses not only the SQL-92 Entry level dialect of SQL, but also enables extension beyond that. The Oracle SQLJ implementation supports the Oracle SQL dialect, which is a superset of SQL-92 Entry level. If you need to create SQLJ programs that work with other databases, then avoid using SQL syntax and SQL types that are not in the Entry level of SQL-92 and, therefore, may not be supported in other environments.</p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6">SQLJ Type Extensions</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-54E27173-C5B1-402A-B673-ABFDB7693461">SQLJ Functionality Extensions</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676__GUID-DBD9C238-50FA-4BD4-92B9-1614F572EB35">
                     <p class="notep1">See Also:</p>
                     <p><a href="type-support.html#GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"> Type Support</a>, and <a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF"> Objects_ Collections_ and OPAQUE Types</a> for information about SQLJ extensions provided by Oracle Database
                     </p>
                  </div>
               </div><a id="JSQLJ143"></a><div class="props_rev_3"><a id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6" name="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6"></a><h4 id="JSQLJ-GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6" class="sect4">SQLJ Type Extensions</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle SQLJ implementation supports the following Java types as extensions to the SQLJ standard:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Instances of <code class="codeph">oracle.sql.*</code> classes as wrappers for SQL data.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-8FC73C14-F619-43C0-AB85-C70114B1FA6E">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="type-support.html#GUID-9C82F6F4-197C-4B80-8491-B3CF03861384">Support for JDBC 2.0 LOB Types and Oracle Type Extensions</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Custom Java classes, object references, and collections. For example, classes that implement the <code class="codeph">oracle.sql.ORAData</code> interface or the JDBC standard <code class="codeph">java.sql.SQLdata</code> interface.
                              </p>
                              <div class="infoboxnote" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-42D1ECC0-3903-4697-B574-5F710E589F32">
                                 <p class="notep1">Note:</p>
                                 <p>The <code class="codeph">SQLData</code> interface is standard. Classes that implement it are supported by JDBC drivers and databases of other vendors.
                                 </p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-C05B9042-4CF2-424E-8724-3A059CDC370E">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="objects-collections-and-OPAQUE-types.html#GUID-7B1AEDD4-C53B-47C9-973E-DD23EAA7608E">Custom Java Classes</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Stream instances: <code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code>, the latter of which replaces the deprecated <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code>, used as output parameters.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-3AFF9339-564F-4D8E-8B8C-742D7820BAA6">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">Support for Streams</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Iterator and result set instances as input or output parameters. The SQLJ standard specifies them only in result expressions or cast statements.</p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-FD2623CD-C35C-4978-BF7B-981192D43291">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">Using Iterators and Result Sets as Host Variables</a>"</span> and <span class="q">"<a href="basic-language-features.html#GUID-F45F4FF0-6D2A-455D-A8A0-0BC3770845B2">Using Iterators and Result Sets as Stored Function Returns</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Unicode character types: <code class="codeph">NString</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NCLOB</code>, and <code class="codeph">NcharCharacterStream</code>, the latter of which replaces the deprecated <code class="codeph">NcharAsciiStream</code> and <code class="codeph">NcharUnicodeStream</code>.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-EACE920B-6F91-4281-8401-D1077BEE8DFC">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a>"</span></p>
                              </div>
                           </li>
                        </ul>
                        <p>Using any of these extensions requires Oracle-specific code generation or Oracle customization during translation, as well as Oracle SQLJ run time and an Oracle JDBC driver when your application runs. Do not use these or other types if you want to use your code in other environments. To ensure that your application is portable, use the SQLJ <code class="codeph">-warn=portable</code> flag.
                        </p>
                        <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-3189FE4E-943C-42F5-8754-CF27AD84C5F4">
                           <p class="notep1">See Also:</p>
                           <p>See <span class="q">"<a href="translator-command-line-and-options.html#GUID-5161125F-E86D-472D-BC57-67AB9E0B08EB"> Translator Command Line and Options</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ144"></a><div class="props_rev_3"><a id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461" name="GUID-54E27173-C5B1-402A-B673-ABFDB7693461"></a><h4 id="JSQLJ-GUID-54E27173-C5B1-402A-B673-ABFDB7693461" class="sect4">SQLJ Functionality Extensions</h4>
                  <div>
                     <p>The Oracle SQLJ implementation also supports the following extended functionality:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle-specific code generation</p>
                           <p>This generates JDBC code directly. Much of the SQLJ run-time functionality is bypassed during program execution.</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-6A9515AD-2A18-4632-8812-81F93BB5E597">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Dynamic SQL in SQLJ statements</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-8EC515DE-A5FB-4597-8BCB-FFDBCFFCCD83">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="advanced-language-features.html#GUID-1A237022-5F1E-4C29-87D3-8E913F59C3FA">Support for Dynamic SQL</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Scrollable result set iterators with additional navigation methods, and <code class="codeph">FETCH </code>syntax from result set iterators and scrollable result set iterators
                           </p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-EB175895-72BE-4F48-AE21-72AE26CA0140">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="advanced-language-features.html#GUID-398B03B4-138D-41E6-A34B-B4911ACF7A18">Scrollable Iterators</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Optimization flags for column and parameter size definitions</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-B88857F9-82D0-4716-BEA3-DAD572D99CCD">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="performance-and-debugging.html#GUID-68162E09-5D50-43BE-B39D-6CFCC90B5D50">Column Definitions</a>"</span>, <span class="q">"<a href="performance-and-debugging.html#GUID-51188B99-AF1F-4F26-8826-1F5CAB03122D">Parameter Size Definitions</a>"</span>, and <span class="q">"<a href="translator-command-line-and-options.html#GUID-51E9826F-8FD9-48CD-9423-9DA8CDC10180">Options for Code Generation_ Optimizations_ and CHAR Comparisons</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Flags for modified translator behavior, such as for binding host expressions by identifier or accounting for blank padding in <code class="codeph">CHAR</code> comparisons for <code class="codeph">WHERE</code> clauses
                           </p>
                        </li>
                        <li>
                           <p>SQLJ statement caching on connection contexts</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-B9095FBA-BBDA-4B6A-81F3-F0F62223F314">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="performance-and-debugging.html#GUID-5DA139D6-A47B-466E-BCA5-3B04D710792A">Statement Caching</a>"</span></p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JSQLJ145"></a><div class="props_rev_3"><a id="GUID-79F6A0F5-6BCB-4509-8015-B6263933E152" name="GUID-79F6A0F5-6BCB-4509-8015-B6263933E152"></a><h3 id="JSQLJ-GUID-79F6A0F5-6BCB-4509-8015-B6263933E152" class="sect3">Basic Translation Steps and Run-Time Processing</h3>
               <div>
                  <p>SQLJ source code contains a mixture of standard Java source together with SQLJ class declarations and SQLJ executable statements containing embedded SQL statements. SQLJ source files have the <code class="codeph">.sqlj</code> file name extension. The file name must be a legal Java identifier. If the source file declares a public class, then the file name must match the name of this class. If the source file does not declare a public class, then the file name should match the name of the first defined class.
                  </p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4">SQLJ Translation Steps</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0">Summary of Translator Input and Output</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0">SQLJ Run-Time Processing</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ147"></a><a id="JSQLJ148"></a><a id="JSQLJ146"></a><div class="props_rev_3"><a id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4" name="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4"></a><h4 id="JSQLJ-GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4" class="sect4">SQLJ Translation Steps</h4>
                  <div>
                     <div class="section">
                        <p>After you have written your <code class="codeph">.sqlj</code> file, you must run SQLJ to process the files. The following example shows SQLJ being run in its simplest form with no command-line options for the <code class="codeph">Foo.sqlj</code> source file with the public class <code class="codeph">Foo</code>:
                        </p><pre class="oac_no_warn" dir="ltr">% sqlj Foo.sqlj
</pre><p>This command runs a front-end script or utility depending on the platform. The script or utility reads the command line, invokes a Java virtual machine (JVM), and passes arguments to it. The JVM invokes the SQLJ translator and acts as a front end.</p>
                        <div class="figure" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-0B49E7D8-4C57-4CE1-83AC-1AB534FB5196">
                           <p class="titleinfigure">Figure 3-1 Flow of Control</p><img src="img/flow_of_control.gif" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/flow_of_control.html"><br><a href="img_text/flow_of_control.html">Description of "Figure 3-1 Flow of Control"</a></div>
                        <!-- class="figure" -->
                        <p>The following sequence of events occurs, presuming each step completes without error:</p>
                        <ol>
                           <li>
                              <p>The JVM invokes the SQLJ translator.</p>
                           </li>
                           <li>
                              <p>The translator parses the SQLJ and Java code in the <code class="codeph">.sqlj</code> file, checking for proper SQLJ syntax and looking for type mismatches between the declared SQL data types and corresponding Java host variables. <a id="d6042e662" class="indexterm-anchor"></a><span class="bold">Host variables</span> are Java local variables that are used as input or output parameters in SQL operations.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-8AAC5066-1FFD-4911-8C09-645A8E45559B">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-7B85631F-98E1-4A9A-BBC1-181A53D0D03D">Java Host_ Context_ and Result Expressions</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Depending on the SQLJ option settings, the translator invokes the online semantics-checker, the offline parser, neither, or both. This is to verify syntax of embedded SQL and PL/SQL statements and to check the use of database elements in the code against an appropriate database schema, for online checking. Even when neither is specified, some basic level of checking is performed.</p>
                              <p>When online checking is specified, SQLJ will connect to a specified database schema to verify that the database supports all the database tables, stored procedures, and SQL syntax that the application uses. It also verifies that the host variable types in the SQLJ application are compatible with data types of corresponding database columns.</p>
                           </li>
                           <li>
                              <p>For Oracle-specific SQLJ code generation (<code class="codeph">-codegen=oracle</code>, which is default), SQL operations are converted directly into Oracle JDBC calls.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-4CF14C0C-1F89-4CEC-98A8-00DBF84FF371">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                              </div>
                              <p>Generated Java code is put into a <code class="codeph">.java</code> output file containing the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Any class definitions and Java code from the <code class="codeph">.sqlj</code> source file
                                    </p>
                                 </li>
                                 <li>
                                    <p>Class definitions created as a result of the SQLJ iterator and connection context declarations</p>
                                    <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-81FBF5C3-5F4B-4EB8-AA60-C889397CC974">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="basic-language-features.html#GUID-74A36C5C-B63E-4489-A464-47387ABCB24E">Overview of SQLJ Declarations</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Calls to Oracle JDBC drivers to implement the actions of the embedded SQL operations</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The JVM invokes the Java compiler, which is usually, but not necessarily, the standard <code class="codeph">javac</code> provided with the Sun Microsystems JDK.
                              </p>
                           </li>
                           <li>
                              <p>The compiler compiles the Java source file generated in Step 4 and produces Java <code class="codeph">.class</code> files as appropriate. This will include a <code class="codeph">.class</code> file for each class that is defined, each of the SQLJ declarations.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-C7882D07-F495-4768-B542-35123A091656">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3">Internal Translator Operations</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-514BD678-C238-4104-9080-7C688C8DC71E">General SQLJ Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Consider the following when translating and running SQLJ applications:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span>The preceding is a very generic example. </span>It is also possible to specify existing <code class="codeph">.java</code> files on the command line to be compiled and to be available for type resolution as well.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-9EEE21E6-ABC1-4662-B95E-80809DFFE904">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-F40E0AE9-4103-4878-B21B-7B0BC275F67C">Translator Command Line and Properties Files</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Your application requires an Oracle JDBC driver when it runs, even if your code does not use Oracle-specific features.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ149"></a><div class="props_rev_3"><a id="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0" name="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0"></a><h4 id="JSQLJ-GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0" class="sect4">Summary of Translator Input and Output</h4>
                  <div>
                     <p>This section summarizes what the SQLJ translator takes as input, what it produces as output, and where it places its output. This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243">Translator Input</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3">Translator Output</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7">Output File Locations</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0__GUID-F9378DF4-DE07-41E0-AC5D-186A7F3A45AA">
                        <p class="notep1">Note:</p>
                        <p>This discussion mentions iterator class and connection context class declarations. Iterators are similar to JDBC result sets and connection contexts are used for database connections.</p>
                     </div>
                  </div><a id="JSQLJ150"></a><div class="props_rev_3"><a id="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243" name="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243"></a><h5 id="JSQLJ-GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243" class="sect5">Translator Input</h5>
                     <div>
                        <p>The SQLJ translator takes one or more <code class="codeph">.sqlj</code> source files as input, which can be specified on the command line. The name of the main <code class="codeph">.sqlj</code> file is based on the public class it defines, if any, else on the first class it defines.
                        </p>
                        <p>If the main <code class="codeph">.sqlj</code> file defines the <code class="codeph">MyClass</code> class, then the source file name must be:
                        </p><pre class="oac_no_warn" dir="ltr">MyClass.sqlj
</pre><p>This must also be the file name if there are no public class definitions, but <code class="codeph">MyClass</code> is the first class defined. You must define each public class in separate<code class="codeph">.sqlj</code> files. When you run SQLJ, you can also specify numerous SQLJ options on the command line or in the properties files.
                        </p>
                        <div class="infoboxnotealso" id="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243__GUID-0D1E18EC-9EC8-47F1-8FD6-C48F13D2EC51">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-F40E0AE9-4103-4878-B21B-7B0BC275F67C">Translator Command Line and Properties Files</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="JSQLJ151"></a><div class="props_rev_3"><a id="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3" name="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3"></a><h5 id="JSQLJ-GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3" class="sect5">Translator Output</h5>
                     <div>
                        <p>The translation step produces a Java source file for each <code class="codeph">.sqlj</code> file in the application, presuming the source code uses SQLJ executable statements.
                        </p>
                        <p>SQLJ generates Java source files as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Java source files are <code class="codeph">.java</code> files with the same base names as the <code class="codeph">.sqlj</code> files.
                              </p>
                              <p>For example, the translator produces <code class="codeph">MyClass.java</code> corresponding to <code class="codeph">MyClass.sqlj</code>, which defines the <code class="codeph">MyClass</code> class. The output <code class="codeph">.java</code> file also contains class definitions for any iterators or connection context classes declared in the <code class="codeph">.sqlj</code> file.
                              </p>
                           </li>
                        </ul>
                        <p>The compilation step compiles the Java source file into multiple class files. One <code class="codeph">.class</code> file is generated for each class defined in the <code class="codeph">.sqlj</code> source file. Additional <code class="codeph">.class</code> files are produced if you declared any SQLJ iterators or connection contexts. Also, separate <code class="codeph">.class</code> files will be produced for any inner classes or anonymous classes in the code.
                        </p>
                        <div class="infoboxnotealso" id="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3__GUID-37857346-500D-47E0-B9FA-491264A01A9C">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="basic-language-features.html#GUID-74A36C5C-B63E-4489-A464-47387ABCB24E">Overview of SQLJ Declarations</a>"</span></p>
                        </div>
                        <p>The <code class="codeph">.class</code> files are named as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The class file for each class defined consists of the name of the class with the <code class="codeph">.class</code> extension. For example, the translator output file <code class="codeph">MyClass.java</code> is compiled into the <code class="codeph">MyClass.class</code> class file.
                              </p>
                           </li>
                           <li>
                              <p>The translator names iterator classes and connection context classes according to how you declare them. For example, if you declare an iterator <code class="codeph">MyIter</code>, then the compiler will generate a corresponding <code class="codeph">MyIter.class</code> class file.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="JSQLJ152"></a><div class="props_rev_3"><a id="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7" name="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7"></a><h5 id="JSQLJ-GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7" class="sect5">Output File Locations</h5>
                     <div>
                        <p>By default, SQLJ places the generated <code class="codeph">.java</code> files in the same directory as the <code class="codeph">.sqlj </code>file. You can specify a different <code class="codeph">.java</code> file location using the SQLJ <code class="codeph">-dir</code> option.
                        </p>
                        <p>By default, SQLJ places the generated <code class="codeph">.class</code> and <code class="codeph">.ser</code> files in the same directory as the generated <code class="codeph">.java</code> files. You can specify a different location for <code class="codeph">.class</code> and <code class="codeph">.ser</code> files using the SQLJ <code class="codeph">-d</code> option. This option setting is passed to the Java compiler so that <code class="codeph">.class</code> files and <code class="codeph">.ser</code> files will be in the same location.
                        </p>
                        <p>For both the <code class="codeph">-d</code> and <code class="codeph">-dir</code> option, you must specify a directory that already exists.
                        </p>
                        <div class="infoboxnotealso" id="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7__GUID-D6289D57-8356-40B9-8221-47FD8126FCDE">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Options for Output Files and Directories</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="JSQLJ153"></a><div class="props_rev_3"><a id="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0" name="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0"></a><h4 id="JSQLJ-GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0" class="sect4">SQLJ Run-Time Processing</h4>
                  <div>
                     <p>This section discusses run-time processing during program execution.</p>
                     <p>When you translate with the default <code class="codeph">-codegen=oracle</code> setting, your program performs the following at run time:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Executes Oracle-specific application programming interfaces (APIs) that ensure batching support and proper creation and closing of Oracle JDBC statements</p>
                        </li>
                        <li>
                           <p>Directly calls Oracle JDBC APIs for registering, passing, and retrieving parameters and result sets</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0__GUID-C1866CA4-A09F-46C9-B856-DF283F70524E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ155"></a><div class="props_rev_3"><a id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B" name="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B"></a><h3 id="JSQLJ-GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B" class="sect3">SQLJ Sample Code</h3>
               <div>
                  <p>This section presents a side-by-side comparison of two versions of the same sample code, where one version is written in SQLJ and the other in JDBC. The objective of this section is to point out the differences in coding requirements between SQLJ and JDBC. This section covers:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF">SQLJ Version of the Sample Code</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8">JDBC Version of the Sample Code</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B__GUID-C09DF325-5EF3-49DF-99E0-159129459E19">
                     <p class="notep1">Note:</p>
                     <p>The particulars of SQLJ statements and features used here are described later in this manual, but this example is still useful here to give you a general idea in comparing and contrasting SQLJ and JDBC. You can look at it again when you are more familiar with SQLJ concepts and features.</p>
                  </div>
                  <p>In the sample, two methods are defined: <code class="codeph">getEmployeeAddress()</code>, which selects and returns an employee's address from a table based on the employee's number, and <code class="codeph">updateAddress()</code>, which takes the retrieved address, calls a stored procedure, and returns the updated address to the database.
                  </p>
                  <p>In both versions of the sample code, the following assumptions are made:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A SQL script has been run to create the schema in the database and populate the tables. Both versions of the sample code refer to objects and tables created by this script.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">UPDATE_ADDRESS()</code> PL/SQL stored function exists, and it updates a given address.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">Connection</code> object (for JDBC) and default connection context (for SQLJ) have been created previously by the caller.
                        </p>
                     </li>
                     <li>
                        <p>Exceptions are handled by the caller.</p>
                     </li>
                     <li>
                        <p>The value of the address argument, <code class="codeph">addr</code>, passed to the <code class="codeph">updateAddress()</code> method can be <code class="codeph">null</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B__GUID-F1752B66-FA84-4F38-9260-1E292ED87885">
                           <p class="notep1">Note:</p>
                           <p>The JDBC and SQLJ versions of the sample code are only partial samples and cannot run independently. There is no <code class="codeph">main()</code> method in either.
                           </p>
                        </div>
                     </li>
                  </ul>
               </div><a id="JSQLJ157"></a><a id="JSQLJ158"></a><a id="JSQLJ159"></a><a id="JSQLJ160"></a><a id="JSQLJ161"></a><a id="JSQLJ162"></a><a id="JSQLJ163"></a><a id="JSQLJ156"></a><div class="props_rev_3"><a id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF" name="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF"></a><h4 id="JSQLJ-GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF" class="sect4">SQLJ Version of the Sample Code</h4>
                  <div>
                     <p>The SQLJ version of the sample code that defines methods to retrieve an employee's address from the database, update the address, and return it to the database is as follows:</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;

/**
  This is what you have to do in SQLJ
  **/
public class SimpleDemoSQLJ                                  // line 6
{
  //TO DO: make a main that calls this

  public Address getEmployeeAddress(int empno)              // line 10
    throws SQLException
  {
    Address addr;                                           // line 13
    #sql { SELECT office_addr INTO :addr FROM employees
           WHERE empnumber = :empno };
    return addr;
  }
                                                            // line 18
  public Address updateAddress(Address addr)
    throws SQLException
  {
    #sql addr = { VALUES(UPDATE_ADDRESS(:addr)) };          // line 22
    return addr;
  }
}</pre><div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-5807968D-8FA9-471A-861E-506D16AC66E0">Line 10</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method does not require an explicit <code class="codeph">Connection</code> object. SQLJ can use a default connection context instance, which should be initialized somewhere earlier in the application.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-4963BA2B-1C56-44A9-AA25-4FC2F95AAFD7">Lines 13-15</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method retrieves an employee address according to the employee number. Use standard SQLJ <code class="codeph">SELECT</code> <code class="codeph">INTO</code> syntax to select an employee's address from the <code class="codeph">employee</code> table if the employee number matches the one (<code class="codeph">empno</code>) passed in to <code class="codeph">getEmployeeAddress()</code>. This requires a declaration of the <code class="codeph">Address</code> object (<code class="codeph">addr</code>) that will receive the data. The <code class="codeph">empno</code> and <code class="codeph">addr</code> variables are used as input host variables.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-3A7A0A63-8B75-410A-9294-5B94A818D772">Line 16</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method returns the <code class="codeph">addr</code> object.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-047CAC9E-2A9F-442B-AC6D-F9246D866FBB">Line 19</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">updateAddress()</code> method also uses the default connection context instance.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-905EEA92-A07C-4FE2-B04A-F3BA9014FA8C">Lines 19-22</p>
                     </div>
                     <!-- class="section" -->
                     <p>The address is passed to the <code class="codeph">updateAddress()</code> method, which passes it to the database. The database updates the address and passes it back. The actual updating of the address is performed by the <code class="codeph">UPDATE_ADDRESS()</code> stored function. Use standard SQLJ function-call syntax to receive the <code class="codeph">addr</code> address object returned by <code class="codeph">UPDATE_ADDRESS()</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-9BCEB741-B9D5-4D7C-95DF-B9C1BB9F3A9E">Line 23</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">updateAddress()</code> method returns the <code class="codeph">addr</code> object.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-BC2C219E-193D-47A9-A423-0B265BF058C4">Specific Features of the SQLJ Version of the Code</p>
                     </div>
                     <!-- class="section" -->
                     <p>Note the following features of the SQLJ version of the sample code:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An explicit connection is not required. SQLJ can use a default connection context that has been initialized previously in the application.</p>
                        </li>
                        <li>
                           <p>No data type casting is required.</p>
                        </li>
                        <li>
                           <p>SQLJ does not require knowledge of <code class="codeph">_SQL_TYPECODE</code>, <code class="codeph">_SQL_NAME</code>, or factories.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NULL</code> value data is processed implicitly.
                           </p>
                        </li>
                        <li>
                           <p>No explicit code for resource management (for example, closing statements or results sets) is required.</p>
                        </li>
                        <li>
                           <p>SQLJ embeds host variables, in contrast to JDBC, which uses parameter markers.</p>
                        </li>
                        <li>
                           <p>String concatenation for long SQL statements is not required. </p>
                        </li>
                        <li>
                           <p>You do not have to register output parameters.</p>
                        </li>
                        <li>
                           <p>SQLJ syntax is simpler. For example, <code class="codeph">SELECT INTO</code> statements are supported and ODBC-style escapes are not used.
                           </p>
                        </li>
                        <li>
                           <p>You do not have to implement your own statement cache. By default, SQLJ will automatically cache <code class="codeph">#sql</code> statements. This results in improved performance, for example, if you repeatedly call <code class="codeph">getEmployeeAddress()</code> and <code class="codeph">updateAddress()</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSQLJ164"></a><div class="props_rev_3"><a id="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8" name="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8"></a><h4 id="JSQLJ-GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8" class="sect4">JDBC Version of the Sample Code</h4>
                  <div>
                     <p>If you are familiar with JDBC, then you can check the following the JDBC version of the sample code, which defines methods to retrieve an employee's address from the database, update the address, and return it to the database.</p>
                     <div class="infoboxnote" id="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8__GUID-605117A3-1CD9-4AD5-8F5A-99AC241701F1">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">TO DO</code> items in the comment lines indicate where you might want to add additional code to increase the usefulness of the code sample.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import oracle.jdbc.*;

/**
  This is what you have to do in JDBC
  **/
public class SimpleDemoJDBC                                  // line 7
{

//TO DO: make a main that calls this

  public Address getEmployeeAddress(int empno, Connection conn)
    throws SQLException                                     // line 13
  {
    Address addr;
    PreparedStatement pstmt =                               // line 16
      conn.prepareStatement("SELECT office_addr FROM employees" + 
       " WHERE empnumber = ?");
    pstmt.setInt(1, empno);
    OracleResultSet rs = (OracleResultSet)pstmt.executeQuery();
    rs.next();                                              // line 21
     //TO DO: what if false (result set contains no data)?
    addr = (Address)rs.getORAData(1, Address.getORADataFactory());
    //TO DO: what if additional rows? 
    rs.close();                                             // line 25
    pstmt.close();
    return addr;                                            // line 27
  }
  public Address updateAddress(Address addr, Connection conn)
    throws SQLException                                     // line 30
                                                           
  {
    OracleCallableStatement cstmt = (OracleCallableStatement)
      conn.prepareCall("{ ? = call UPDATE_ADDRESS(?) }");   //line 34
    cstmt.registerOutParameter(1, Address._SQL_TYPECODE, Address._SQL_NAME);
                                                            // line 36
    if (addr == null) {
      cstmt.setNull(2, Address._SQL_TYPECODE, Address._SQL_NAME);
    } else {
      cstmt.setORAData(2, addr);
    } 
    
    cstmt.executeUpdate();                                  // line 43
    addr = (Address)cstmt.getORAData(1, Address.getORADataFactory());
    cstmt.close();                                          // line 45
    return addr;
  }
}
</pre></div>
               </div>
            </div><a id="JSQLJ175"></a><div class="props_rev_3"><a id="GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA" name="GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA"></a><h3 id="JSQLJ-GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA" class="sect3">Alternative Deployment Scenarios</h3>
               <div>
                  <p>Although this manual mainly discusses writing for client-side SQLJ applications, you may find it useful to run SQLJ code from an applet.</p>
               </div><a id="JSQLJ176"></a><div class="props_rev_3"><a id="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C" name="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C"></a><h4 id="JSQLJ-GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C" class="sect4">Running SQLJ in Applets</h4>
                  <div>
                     <p>Because the SQLJ run time is pure Java, you can use SQLJ source code in applets as well as applications. However, there are a few considerations.</p>
                     <div class="infoboxnotealso" id="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C__GUID-414C71BA-B514-45CC-9F7D-426EF96580B6">
                        <p class="notep1">See Also:</p>
                        <p><a href="../jjdbc/index.html" target="_blank"><span><cite>Oracle Database JDBC Developers Guide</cite></span></a></p>
                     </div>
                     <p>This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584">General Development and Deployment Considerations</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7">General End User Considerations</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64">Java Environment and the Java Plug-In</a></p>
                        </li>
                     </ul>
                  </div><a id="JSQLJ177"></a><div class="props_rev_3"><a id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584" name="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584"></a><h5 id="JSQLJ-GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584" class="sect5">General Development and Deployment Considerations</h5>
                     <div>
                        <p>The following general considerations apply to the use of SQLJ in applets:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must package all the SQLJ run-time packages with your applet. The packages are:</p><pre class="oac_no_warn" dir="ltr">sqlj.runtime
sqlj.runtime.ref
sqlj.runtime.error
</pre><p>Also package the following if you used Oracle customization:</p><pre class="oac_no_warn" dir="ltr">oracle.sqlj.runtime
oracle.sqlj.runtime.error
</pre><p>These packages are included with your Oracle installation in one of several run-time libraries in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/lib</code> directory.
                              </p>
                              <div class="infoboxnotealso" id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584__GUID-EEAE96FC-4A21-4215-8E41-9E4A9BCEC28C">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">Requirements for Using the Oracle SQLJ Implementation</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>You must specify a pure Java JDBC driver, such as Oracle JDBC Thin driver, for your database connection.</p>
                           </li>
                           <li>
                              <p>You must explicitly specify a connection context instance for each SQLJ executable statement in an applet. This is a requirement because you could conceivably run two SQLJ applets in a single browser and, thus, in the same JVM.</p>
                              <div class="infoboxnotealso" id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584__GUID-BF407659-5BBD-4278-8301-EFDDF5AB21F6">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="key-programming-considerations.html#GUID-02A50813-2D4D-4DC1-AD1A-014AF1EDC03D">Connection Considerations</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>The default translator setting <code class="codeph">-codegen=oracle</code> generates Oracle-specific code. This will eliminate the use of Java reflection at run time and, thus, increase portability across different browser environments.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="JSQLJ178"></a><div class="props_rev_3"><a id="GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7" name="GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7"></a><h5 id="JSQLJ-GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7" class="sect5">General End User Considerations</h5>
                     <div>
                        <p>When end users run your SQLJ applet, classes in their <code class="codeph">CLASSPATH</code> may conflict with classes that are downloaded with the applet. Therefore, Oracle recommends that end users clear their <code class="codeph">CLASSPATH</code> before running the applet.
                        </p>
                     </div>
                  </div><a id="JSQLJ179"></a><div class="props_rev_3"><a id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64" name="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64"></a><h5 id="JSQLJ-GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64" class="sect5">Java Environment and the Java Plug-In</h5>
                     <div>
                        <p>The following are some additional considerations regarding the Java environment and use of Oracle-specific features:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SQLJ requires the run-time environment of JDK 6 or JDK 7. Users cannot run SQLJ applets in browsers using earlier JDK versions,  without a plug-in. One option is to use a Java plug-in offered by Sun Microsystems. For information, refer to the following:</p>
                              <p><a href="http://www.oracle.com/technetwork/java/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/index.html</code></a></p>
                           </li>
                           <li>
                              <p>Applets using Oracle-specific features require Oracle SQLJ run time to work. Oracle SQLJ run time consists of the classes in the SQLJ run-time library file under <code class="codeph">oracle.sqlj.*</code>. Oracle SQLJ <code class="codeph">runtime.jar</code> library requires the Java Reflection API, <code class="codeph">java.lang.reflect.*</code>. Most browsers do not support the Reflection API or impose security restrictions, but the Sun Microsystems Java plug-in provides support for the Reflection API.
                              </p>
                              <div class="infoboxnote" id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64__GUID-0F25EAAD-1605-448D-A5C1-A576BA0B2886">
                                 <p class="notep1">Note:</p>
                                 <p>The term "Oracle-specific features" refers to the use of Oracle type extensions (discussed in <a href="type-support.html#GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"> Type Support</a>) and the use of SQLJ features that require Oracle-specific code generation or, for ISO SQLJ standard code generation, require your application to be customized to work against Oracle Database instance. (For example, this is true of the <code class="codeph">SET</code> statement, discussed in <a href="basic-language-features.html#GUID-D93359BA-4F29-49C2-8AAE-23F8BBCE8BE5"> Basic Language Features</a>.)
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>The preceding issues can be summarized as follows, focusing on users with Internet Explorer and Netscape browsers:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The SQLJ and JDBC versions should match. For example, to use the SQLJ 9.0.0 run time, you must have an Oracle 9.0.0 or earlier JDBC driver.</p>
                              <div class="infoboxnotealso" id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64__GUID-509F1E71-34A0-440B-92B7-DE149ECB63E1">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">Requirements for Using the Oracle SQLJ Implementation</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>If you use object types, JDBC 2.0 types, REF CURSORs, or the <code class="codeph">CAST</code> statement in your SQLJ statements, then you must adhere to your choice of the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the default <code class="codeph">-codegen=oracle</code> setting when you translate your applet.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Ensure that the browser that you use supports JDK 6 and permits reflection.</p>
                                 </li>
                                 <li>
                                    <p>Run your applet through a browser Java plug-in.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ181"></a><div class="props_rev_3"><a id="GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5" name="GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5"></a><h3 id="JSQLJ-GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5" class="sect3">Alternative Development Scenarios</h3>
               <div>
                  <p>The discussion in this book assumes that you are coding manually on a UNIX environment for English-language deployment. However, you can use SQLJ on other platforms and with integrated development environments (IDEs). There is also globalization support for deployment to other languages. This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6">SQLJ Globalization Support</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1">SQLJ in Oracle JDeveloper 10g and Other IDEs</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19">Windows Considerations</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ182"></a><div class="props_rev_3"><a id="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6" name="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6"></a><h4 id="JSQLJ-GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6" class="sect4">SQLJ Globalization Support</h4>
                  <div>
                     <p>Support for native languages and character encodings by the Oracle SQLJ implementation is based on Java built-in globalization support capabilities.</p>
                     <p>The standard <code class="codeph">user.language</code> and <code class="codeph">file.encoding</code> properties of the JVM determine appropriate language and encoding for translator and run-time messages. The SQLJ <code class="codeph">-encoding</code> option determines encoding for interpreting and generating source files during translation.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6__GUID-3E27AE47-5F5B-4871-9E2C-32FF01D713C1">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6">Globalization Support in the Translator and Run Time</a>"</span></p>
                     </div>
                  </div>
               </div><a id="JSQLJ183"></a><div class="props_rev_3"><a id="GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1" name="GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1"></a><h4 id="JSQLJ-GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1" class="sect4">SQLJ in Oracle JDeveloper 10<span class="italic">g</span> and Other IDEs
                  </h4>
                  <div>
                     <p>The Oracle SQLJ implementation includes a programmatic API so that it can be embedded in IDEs, such as Oracle JDeveloper 10<span class="italic">g</span>. The IDE takes on a role similar to that of the front-end <code class="codeph">sqlj</code> script, invoking the translator, semantics-checker, compiler, and customizer (as applicable).
                     </p>
                     <p>JDeveloper is a Jave-based, cross-platform visual development environment for Java programming. The JDeveloper Suite enables developers to build multitier, scalable Internet applications using Java across the Oracle Internet Platform. The core product of the suite, the JDeveloper IDE, excels in creating, debugging, and deploying component-based applications.</p>
                     <p>Oracle JDBC OCI and Thin drivers are included with JDeveloper. The compilation functionality of JDeveloper includes an integrated SQLJ translator so that your SQLJ application is translated automatically as it is compiled. </p>
                  </div>
               </div><a id="JSQLJ184"></a><div class="props_rev_3"><a id="GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19" name="GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19"></a><h4 id="JSQLJ-GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19" class="sect4">Windows Considerations</h4>
                  <div>
                     <p>Note the following if you are using a Microsoft Windows environment instead of a UNIX environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>This manual uses UNIX syntax. Use platform-specific file names and directory separators, such as "\" on Microsoft Windows, that are appropriate for your platform, because your JVM expects file names and paths in the platform-specific format. This is true even if you are using a shell, such as <code class="codeph">ksh</code>, that permits a different file name syntax.
                           </p>
                        </li>
                        <li>
                           <p>For UNIX, the Oracle SQLJ implementation provides a front-end script, <code class="codeph">sqlj</code>, that you use to invoke the SQLJ translator. On Microsoft Windows, Oracle instead provides an executable file, <code class="codeph">sqlj.exe</code>. Using a script is not feasible on Microsoft Windows because <code class="codeph">.bat</code> files on these platforms do not support embedded equals signs (=) in arguments, string operations on arguments, or wildcard characters in file name arguments.
                           </p>
                        </li>
                        <li>
                           <p>How to set environment variables is specific to the operating system. There may also be OS-specific restrictions. In Windows 95, use the <code class="codeph">Environment</code> tab in the <code class="codeph">System</code> control panel. Additionally, because Windows 95 does not support the "=" character in variable settings, SQLJ supports the use of "#" instead of "=" in setting <code class="codeph">SQLJ_OPTIONS</code>, an environment variable that SQLJ can use for option settings. Consult your operating system documentation regarding settings and syntax for environment variables, and be aware of any size limitations.
                           </p>
                        </li>
                        <li>
                           <p>As with any operating system and environment you use, be aware of specific limitations. In particular, the complete, expanded SQLJ command line must not exceed the maximum command-line size, which is 250 characters for Windows 95 and 4000 characters for Windows NT. Consult your operating system documentation.</p>
                        </li>
                     </ul>
                     <p>Refer to the release notes for Windows for additional information.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>