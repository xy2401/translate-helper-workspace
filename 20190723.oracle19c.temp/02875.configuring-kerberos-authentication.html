<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">
      <meta name="description" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">
      <title>Configuring Kerberos Authentication</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="stong-authentication-administration-tools.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-secure-sockets-layer-authentication.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="stong-authentication-administration-tools.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-secure-sockets-layer-authentication.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_5.html" property="item" typeof="WebPage"><span property="name">Managing Strong Authentication</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Kerberos Authentication </li>
            </ol>
            <a id="GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" name="GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4"></a><a id="DBSEG060"></a>
            
            <h2 id="DBSEG-GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" class="sect2"><span class="enumeration_chapter">20 </span> Configuring Kerberos Authentication 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5">Enabling Kerberos Authentication</a><br>To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC">Utilities for the Kerberos Authentication Adapter</a><br>The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65">Connecting to an Oracle Database Server Authenticated by Kerberos</a><br>After Kerberos is configured, you can connect to an Oracle database server without using a user name or password.
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a><br>You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-2AB588F3-700F-4409-BD3D-AD40D330701E">Configuring Kerberos Authentication Fallback Behavior</a><br>You can configure fallback behavior (password-based authentication) in case the Kerberos authentication fails. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D">Troubleshooting the Oracle Kerberos Authentication Configuration</a><br>Oracle provides guidance for common Kerberos configuration problems.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_5.html" title="Part V describes how to manage strong authentication.">Managing Strong Authentication</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG9635"></a><div class="props_rev_3"><a id="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" name="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5"></a><h3 id="DBSEG-GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" class="sect3">Enabling Kerberos Authentication</h3>
               <div>
                  <p>To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15">Step 1: Install Kerberos</a><br>You should install Kerberos Version 5. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-E61C3203-142E-48AE-B2A0-355552AEC913">Step 2: Configure a Service Principal for an Oracle Database Server</a><br>You must create a service principal for Oracle Database before the server can validate the identity of clients that authenticate themselves using Kerberos. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-914FE001-68BC-4E81-937F-FB46FE953F14">Step 3: Extract a Service Key Table from Kerberos</a><br>Next, you are ready to extract the service key table from Kerberos and copy it to the Oracle database server/Kerberos client system. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD">Step 4: Install an Oracle Database Server and an Oracle Client</a><br>After you extract a service key table from Kerberos, you are ready to install the Oracle Database server and an Oracle client.
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-DDB21112-7337-4946-960E-F0808CC7F107">Step 5: Configure Oracle Net Services and Oracle Database</a><br>After you install the Oracle Database server and client, you can configure Oracle Net Services on the server and client.
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9">Step 6: Configure Kerberos Authentication</a><br>You must set the required parameters in the Oracle database server and client <code class="codeph">sqlnet.ora</code> files. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791">Step 7: Create a Kerberos User</a><br>You must create the Kerberos user on the Kerberos authentication server where the administration tools are installed. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8">Step 8: Create an Externally Authenticated Oracle User</a><br>Next, you are ready to create an externally authenticated Oracle user.
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009">Step 9: Get an Initial Ticket for the Kerberos/Oracle User</a><br>Before you can connect to the database, you must ask the Key Distribution Center (KDC) for an initial ticket. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5__GUID-D9114CC6-7F39-41DA-A444-B6C63ADDBA53">
                     <p class="notep1">See Also:</p><a href="../dbimi/using-the-user-migration-utility.html#DBIMI200" target="_blank"><span class="italic">Oracle Database Enterprise User Security Administrator's Guide</span></a> for information on migrating Kerberos users to Kerberos-authenticated enterprise users
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9636"></a><div class="props_rev_3"><a id="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15" name="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15"></a><h4 id="DBSEG-GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15" class="sect4">Step 1: Install Kerberos</h4>
                  <div>
                     <p>You should install Kerberos Version 5. </p>
                     <div class="section">
                        <p>The source distribution for notes about building and installing Kerberos provide details. After you install Kerberos, if you are using IBM AIX on POWER systems (64-bit), you should ensure that Kerboros 5 is the preferred authentication method.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Install Kerberos on the system that functions as the authentication server.</span><div>
                              <div class="infoboxnote" id="GUID-39A6604D-35DD-40E5-A71E-079EE7C9DF15__GUID-BF230D35-7680-49D7-BF70-D8196A151792">
                                 <p class="notep1">Note:</p>
                                 <p>After upgrading from a 32-bit version of Oracle Database, the first use of the Kerberos authentication adapter causes an error message:<code class="codeph"> ORA-01637: Packet receive failed</code>.
                                 </p>
                                 <p><span class="bold">Workaround:</span> After upgrading to the 64-bit version of the database and before using Kerberos external authentication method, check for a file named <code class="codeph">/usr/tmp/oracle_service_name.RC</code> on your computer, and remove it.
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For IBM AIX on POWER systems (64-bit), check the authentication method.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">/usr/bin/lsauthent
</pre><p>Output similar to the following may appear:</p><pre class="oac_no_warn" dir="ltr">Standard Aix
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure Kerberos 5 as the preferred method. </span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">/usr/bin/chauthent -k5 -std
</pre><p>This command sets Kerberos 5 as the preferred authentication method (<code class="codeph">k5</code>) and Standard AIX as the second (<code class="codeph">std</code>). 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To ensure that Kerberos 5 is now the preferred method, check the new configuration.</span><div><pre class="oac_no_warn" dir="ltr">/usr/bin/lsauthent

Kerberos 5
Standard Aix</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9637"></a><div class="props_rev_3"><a id="GUID-E61C3203-142E-48AE-B2A0-355552AEC913" name="GUID-E61C3203-142E-48AE-B2A0-355552AEC913"></a><h4 id="DBSEG-GUID-E61C3203-142E-48AE-B2A0-355552AEC913" class="sect4">Step 2: Configure a Service Principal for an Oracle Database Server</h4>
                  <div>
                     <p>You must create a service principal for Oracle Database before the server can validate the identity of clients that authenticate themselves using Kerberos. </p>
                     <ol>
                        <li class="stepexpand"><span>Decide on a name for the service principal, using the following format:</span><div><pre class="oac_no_warn" dir="ltr">kservice/kinstance@REALM
</pre><p>Each of the fields in the service principal specify the following values:</p>
                              <div class="tblformal" id="GUID-E61C3203-142E-48AE-B2A0-355552AEC913__GUID-023FEA3B-58ED-4E9E-9D48-FA96C4666E89">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists and describes each field in the Kerberos service principal." width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="32%" id="d125632e653">Service Principal Field</th>
                                          <th align="left" valign="bottom" width="68%" id="d125632e656">Description</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e661" headers="d125632e653 ">
                                             <p><code class="codeph">kservice</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e661 d125632e656 ">
                                             <p>A case-sensitive string that represents the Oracle service. This can be the same as the database service name. </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e669" headers="d125632e653 ">
                                             <p><code class="codeph">kinstance</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e669 d125632e656 ">
                                             <p>Typically the fully qualified DNS name of the system on which Oracle Database is running.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="32%" id="d125632e677" headers="d125632e653 ">
                                             <p><code class="codeph">REALM</code></p>
                                          </td>
                                          <td align="left" valign="top" width="68%" headers="d125632e677 d125632e656 ">
                                             <p>The name of the Kerberos realm with which the service principal is registered. <code class="codeph">REALM</code> must always be uppercase and is typically the DNS domain name.
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>The utility names in this section are executable programs. However, the Kerberos user name <code class="codeph">krbuser</code> and the realm <code class="codeph">EXAMPLE.COM</code> are examples only. 
                              </p>
                              <p>For example, suppose <code class="codeph">kservice</code> is <code class="codeph">oracle</code>, the fully qualified name of the system on which Oracle Database is running is <code class="codeph">dbserver.example.com</code> and the realm is <code class="codeph">EXAMPLE.COM</code>. The principal name then is:
                              </p><pre class="oac_no_warn" dir="ltr">oracle/dbserver.example.com@EXAMPLE.COM
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run  <code class="codeph">kadmin.local</code> to create the service principal. On UNIX, run this command as the root user, by using the following syntax:</span><div><pre class="oac_no_warn" dir="ltr"># cd /kerberos-install-directory/sbin
# ./kadmin.local
</pre><p>For example, to add a <a href="glossary.html#GUID-D596BFD5-3A0F-45F6-B5CD-DEAF8B7A7FCA"><span class="xrefglossterm">principal</span></a> named <code class="codeph">oracle/dbserver.example.com@EXAMPLE.COM</code> to the list of server principals known by Kerberos, you can enter the following:
                              </p><pre class="oac_no_warn" dir="ltr">kadmin.local:<span class="bold">addprinc -randkey oracle/dbserver.example.com@EXAMPLE.COM</span></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9638"></a><div class="props_rev_3"><a id="GUID-914FE001-68BC-4E81-937F-FB46FE953F14" name="GUID-914FE001-68BC-4E81-937F-FB46FE953F14"></a><h4 id="DBSEG-GUID-914FE001-68BC-4E81-937F-FB46FE953F14" class="sect4">Step 3: Extract a Service Key Table from Kerberos</h4>
                  <div>
                     <p>Next, you are ready to extract the service key table from Kerberos and copy it to the Oracle database server/Kerberos client system. </p>
                     <div class="section">
                        <p>For example, to extract a service key table for <code class="codeph">dbserver.example.com</code>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Enter the following to extract the <a href="glossary.html#GUID-82F9B5A1-F8D5-4A2A-A49B-1F6DB250D5FC"><span class="xrefglossterm">service key table</span></a>: </span><div><pre class="oac_no_warn" dir="ltr">kadmin.local:  <span class="bold">ktadd -k /tmp/keytab oracle/dbserver.example.com</span>
Entry for principal oracle/dbserver.example.com with kvno 2, 
encryption type AES-256 CTS mode with 96-bit SHA-1 HMAC added to keytab WRFILE:
WRFILE:/tmp/keytab

kadmin.local:  <span class="bold">exit</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>To check the service key table, enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">oklist -k -t /tmp/keytab
</pre></div>
                        </li>
                        <li class="stepexpand"><span>After the service key table has been extracted, verify that the new entries are in the table in addition to the old ones. </span><div>
                              <p>If they are not, or you need to add more, use <code class="codeph">kadmin.local</code> to append to them.
                              </p>
                              <p>If you do not enter a realm when using <code class="codeph">ktadd</code>, it uses the default realm of the Kerberos server. <code class="codeph">kadmin.local</code> is connected to the Kerberos server running on the <code class="codeph">localhost</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If the Kerberos service key table is on the same system as the Kerberos client, you can move it. If the service key table is on a different system from the Kerberos client, you must transfer the file with a program such as FTP. If using FTP, transfer the file in binary mode.</span><div>
                              <p>The following example shows how to move the service key table on a UNIX platform:</p><pre class="oac_no_warn" dir="ltr"># mv /tmp/keytab /etc/v5srvtab
</pre><p>The default name of the service file is <code class="codeph">/etc/v5srvtab</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Verify that the owner of the Oracle database server executable can read the service key table (<code class="codeph">/etc/v5srvtab</code> in the previous example). </span><div>
                              <p>To do so, set the file owner to the Oracle user, or make the file readable by the group to which Oracle belongs.</p>
                              <p>Do not make the file readable to all users. This can cause a security breach.</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9639"></a><div class="props_rev_3"><a id="GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD" name="GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD"></a><h4 id="DBSEG-GUID-590FD262-F4A8-4C03-BD58-D298E0A7B8CD" class="sect4">Step 4: Install an Oracle Database Server and an Oracle Client</h4>
                  <div>
                     <p>After you extract a service key table from Kerberos, you are ready to install the Oracle Database server and an Oracle client.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>See the Oracle Database operating system-specific installation documentation for instructions on installing the Oracle database server and client software.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9641"></a><div class="props_rev_3"><a id="GUID-DDB21112-7337-4946-960E-F0808CC7F107" name="GUID-DDB21112-7337-4946-960E-F0808CC7F107"></a><h4 id="DBSEG-GUID-DDB21112-7337-4946-960E-F0808CC7F107" class="sect4">Step 5: Configure Oracle Net Services and Oracle Database</h4>
                  <div>
                     <p>After you install the Oracle Database server and client, you can configure Oracle Net Services on the server and client.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>See the following documentation for information on configuring Oracle Net Services on the Oracle database server and client.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Oracle Database operating system-specific installation documentation</p>
                                 </li>
                                 <li>
                                    <p><a href="../netag/introducing-oracle-net-services.html#NETAG001" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9642"></a><div class="props_rev_3"><a id="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" name="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9"></a><h4 id="DBSEG-GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" class="sect4">Step 6: Configure Kerberos Authentication</h4>
                  <div>
                     <p>You must set the required parameters in the Oracle database server and client <code class="codeph">sqlnet.ora</code> files. 
                     </p>
                     <div class="infoboxnote" id="GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9__GUID-58DBAFCC-9D4D-41FD-9CC4-3262E5969AEE">
                        <p class="notep1">Note:</p>
                        <p>Be aware that in a multitenant environment, the settings in the <code class="codeph">sqlnet.ora</code> file apply to all pluggable databases (PDBs). However, this does not mean that all PDBs must authenticate with one KDC if using Kerberos; the settings in the <code class="codeph">sqlnet.ora</code> file and Kerberos configuration files can support multiple KDCs.
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064">Step 6A: Configure Kerberos on the Client and on the Database Server</a><br>First, you must configure Kerberos authentication service parameters on the client and on the database server.
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-7A4DD0B6-692D-474C-97F1-609197A9261D">Step 6B: Set the Initialization Parameters</a><br>Next, you are ready to set the <code class="codeph">OS_AUTHENT_PREFIX</code> initialization parameter.
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6">Step 6C: Set sqlnet.ora Parameters (Optional)</a><br>You can set optional <code class="codeph">sqlnet.ora</code> parameters, in addition to the required parameters, for better security. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9643"></a><div class="props_rev_3"><a id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" name="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064"></a><h5 id="DBSEG-GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" class="sect5">Step 6A: Configure Kerberos on the Client and on the Database Server</h5>
                     <div>
                        <p>First, you must configure Kerberos authentication service parameters on the client and on the database server.</p>
                        <ol>
                           <li class="stepexpand"><span>Start Oracle Net Manager.</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                       </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                    <li>
                                       <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.</span></li>
                           <li class="stepexpand"><span>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.</span><div>
                                 <p>The Network Security tabbed window appears.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Select the <span class="bold">Authentication</span> tab.</span><div>
                                 <div class="figure" id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064__GUID-2E24E95D-924F-407D-A6A4-571EB989C54B"><img src="img/radu0001.gif" alt="Description of radu0001.gif follows" title="Description of radu0001.gif follows" longdesc="img_text/radu0001.html"><br><a href="img_text/radu0001.html">Description of the illustration radu0001.gif</a></div>
                                 <!-- class="figure" -->
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the Available Methods list, select <span class="bold">KERBEROS5</span>.</span></li>
                           <li class="stepexpand"><span>Move <span class="bold">KERBEROS5</span> to the Selected Methods list by clicking the right arrow (<span class="bold">&gt;</span>). </span></li>
                           <li class="stepexpand"><span>Arrange the selected methods in order of use. </span><div>
                                 <p>To do so, select a method in the Selected Methods list, then click <span class="bold">Promote</span> or <span class="bold">Demote</span> to position it in the list. For example, if you want <code class="codeph">KERBEROS5</code> to be the first service used, move it to the top of the list.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Select the <span class="bold">Other Params</span> tab. </span></li>
                           <li class="stepexpand"><span>From the Authentication Service list, select <span class="bold">KERBEROS(V5)</span>.</span></li>
                           <li class="stepexpand"><span>Type <span class="bold">Kerberos</span> into the <span class="bold">Service</span> field. </span><div>
                                 <div class="figure" id="GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064__GUID-EE1C3442-17E2-4D46-8E8A-EBB349CA89B1"><img src="img/kerb0002.gif" width="320" alt="Description of kerb0002.gif follows" title="Description of kerb0002.gif follows" longdesc="img_text/kerb0002.html"><br><a href="img_text/kerb0002.html">Description of the illustration kerb0002.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>This field defines the name of the service Oracle Database uses to obtain a Kerberos <a href="glossary.html#GUID-BE2D3069-1BCC-482C-AD66-39B43D5A9281"><span class="xrefglossterm">service ticket</span></a>. When you provide the value for this field, the other fields are enabled.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Optionally enter values for the following fields:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="bold">Credential Cache File</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Configuration File</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Realm Translation File</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Key Table</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Clock Skew</span></p>
                                    </li>
                                 </ul>
                                 <p>See the Oracle Net Manager online Help, and <a href="configuring-kerberos-authentication.html#GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" title="You can set optional sqlnet.ora parameters, in addition to the required parameters, for better security.">Step 6C: Set sqlnet.ora Parameters (Optional)</a>, for more information about the fields and the parameters they configure.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.</span><div>
                                 <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entries in addition to any optional choices that you may have made in the previous step:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES=(KERBEROS5)
SQLNET.AUTHENTICATION_KERBEROS5_SERVICE=kservice</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="You must set the required parameters in the Oracle database server and client sqlnet.ora files.">Step 6: Configure Kerberos Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9644"></a><div class="props_rev_3"><a id="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D" name="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D"></a><h5 id="DBSEG-GUID-7A4DD0B6-692D-474C-97F1-609197A9261D" class="sect5">Step 6B: Set the Initialization Parameters</h5>
                     <div>
                        <p>Next, you are ready to set the <code class="codeph">OS_AUTHENT_PREFIX</code> initialization parameter.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Locate the <code class="codeph">init.ora</code> file. </span><div>
                                 <p>By default, the <code class="codeph">init.ora</code> file is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory (or the same location of the data files) on Linux and UNIX systems, and in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory on Windows. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the <code class="codeph">init.ora</code> file, set the value of  <code class="codeph">OS_AUTHENT_PREFIX</code> to null in the <code class="codeph">init.ora</code> initialization parameter file.</span><div>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX=""
</pre><p>Set this value to null because Kerberos user names can be long, and Oracle user names are limited to 30 characters. Setting this parameter to null overrides the default value of <code class="codeph">OPS$</code>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-7A4DD0B6-692D-474C-97F1-609197A9261D__GUID-596B1497-DED6-476A-9AFE-DA96DCC44383">
                              <p class="notep1">Note:</p>
                              <p>You can create external database users that have Kerberos user names of more than 30 characters. See <a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" title="Next, you are ready to create an externally authenticated Oracle user.">Step 8: Create an Externally Authenticated Oracle User</a>  for more information.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="You must set the required parameters in the Oracle database server and client sqlnet.ora files.">Step 6: Configure Kerberos Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1054"></a><a id="DBSEG9645"></a><div class="props_rev_3"><a id="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" name="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6"></a><h5 id="DBSEG-GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6" class="sect5">Step 6C: Set sqlnet.ora Parameters (Optional)</h5>
                     <div>
                        <p>You can set optional <code class="codeph">sqlnet.ora</code> parameters, in addition to the required parameters, for better security. 
                        </p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Optionally, set the parameters listed in the following table on both the client and the Oracle database server.</p>
                              </li>
                           </ul>
                           <div class="tblformalwide" id="GUID-5FC42FEF-900A-4B72-83C2-BF79D6F06DD6__BABBGCJH">
                              <p class="titleintable">Table 20-1 Kerberos-Specific sqlnet.ora Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Kerberos-Specific sqlnet.ora Parameters" summary="Kerberos-specific sqlnet.ora parameters" width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="38%" id="d125632e1951">Parameter</th>
                                       <th align="left" valign="bottom" width="62%" id="d125632e1954">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e1959" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=</code><span class="italic"><code class="codeph">pathname_to_credentials_cache_file</code></span>|<span class="italic"><code class="codeph">OS_MEMORY</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e1959 d125632e1954 ">
                                          <p>Specifies the complete path name to the Kerberos credentials cache (CC) file. The default value is operating system-dependent. For UNIX, it is <code class="codeph">/tmp/krb5cc_</code><span class="italic"><code class="codeph">userid</code></span>.
                                          </p>
                                          <p>Using the <code class="codeph">OS_MEMORY</code> option indicates that an OS-managed memory credential cache is used for the credential cache file. The only value currently supported for this is <code class="codeph">OSMSFT</code> (for Microsoft Windows).
                                          </p>
                                          <p>You can use the following formats to specify a value for <code class="codeph">SQLNET.KERBEROS5_CC_NAME</code>:
                                          </p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=</code><span class="italic"><code class="codeph">complete_path_to_cc_file</code></span></p>
                                                <p>For example:</p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=/tmp/kcache</code></p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=D:\tmp\kcache</code></p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=FILE:</code><span class="italic"><code class="codeph">complete_path_to_cc_file</code></span></p>
                                                <p>For example:</p>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=FILE:/tmp/kcache</code></p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">SQLNET.KERBEROS5_CC_NAME=OSMSFT:</code></p>
                                                <p>Use this value if you are running Windows and using a Microsoft KDC.</p>
                                             </li>
                                          </ul>
                                          <p>You can also set this parameter by using the <code class="codeph">KRB5CCNAME</code> environment variable, but the value set in the <code class="codeph">sqlnet.ora</code> file takes precedence over the value set in <code class="codeph">KRB5CCNAME</code>.
                                          </p>
                                          <p>For example: </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CC_NAME=/usr/tmp/krbcache</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2042" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CLOCKSKEW=</code><span class="italic"><code class="codeph">number_of_seconds_accepted_as_network_delay</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2042 d125632e1954 ">
                                          <p>This parameter specifies how many seconds can pass before a Kerberos credential is considered out-of-date. It is used when a credential is actually received by either a client or a database server. An Oracle database server also uses it to decide if a credential needs to be stored to protect against a replay attack. The default is 300 seconds. </p>
                                          <p>For example: </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CLOCKSKEW=1200</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2057" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CONF=</code><span class="italic"><code class="codeph">pathname_to_Kerberos_configuration_file</code></span><code class="codeph">|AUTO_DISCOVER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2057 d125632e1954 ">
                                          <p>This parameter specifies the complete path name to the <code class="codeph">Kerberos</code> configuration file. The configuration file contains the realm for the default KDC (key distribution center) and maps realms to KDC hosts. The default is operating system-dependent. For UNIX, it is <code class="codeph">/krb5/krb.conf</code>.
                                          </p>
                                          <p>Using the <code class="codeph">AUTO_DISCOVER</code> option in place of the configuration file enables Kerberos clients to auto-discover the KDC.
                                          </p>
                                          <p>For example: </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF=/krb/krb.conf
SQLNET.KERBEROS5_CONF=AUTO_DISCOVER</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2085" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_CONF_LOCATION=</code><span class="italic"><code class="codeph">path_to_Kerberos_configuration_directory</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2085 d125632e1954 ">
                                          <p>This parameter indicates that the Kerberos configuration file is created by the system, and does not need to be specified by the client. The configuration file uses DNS lookup to obtain the realm for the default KDC, and maps realms to KDC hosts.</p>
                                          <p>For example: </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF_LOCATION=/krb</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2100" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_KEYTAB=</code><span class="italic"><code class="codeph">path_to_Kerberos_principal/key_table</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2100 d125632e1954 ">
                                          <p>This parameter specifies the complete path name to the Kerberos principal/secret key mapping file. It is used by the Oracle database server to extract its key and decrypt the incoming authentication information from the client. The default is operating system-dependent. For UNIX, it is <code class="codeph">/etc/v5srvtab</code>.
                                          </p>
                                          <p>For example:</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_KEYTAB=/etc/v5srvtab</pre></td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d125632e2118" headers="d125632e1951 ">
                                          <p><code class="codeph">SQLNET.KERBEROS5_REALMS=</code><span class="italic"><code class="codeph">path_to_Kerberos_realm_translation_file</code></span></p>
                                       </td>
                                       <td align="left" valign="top" width="62%" headers="d125632e2118 d125632e1954 ">
                                          <p>This parameter specifies the complete path name to the Kerberos realm translation file. The translation file provides a mapping from a host name or domain name to a realm. The default is operating system-dependent. For UNIX, it is <code class="codeph">/etc/krb.realms</code>. 
                                          </p>
                                          <p>For example:</p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_REALMS=/krb5/krb.realms</pre></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="You must set the required parameters in the Oracle database server and client sqlnet.ora files.">Step 6: Configure Kerberos Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9646"></a><div class="props_rev_3"><a id="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791" name="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791"></a><h4 id="DBSEG-GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791" class="sect4">Step 7: Create a Kerberos User</h4>
                  <div>
                     <p>You must create the Kerberos user on the Kerberos authentication server where the administration tools are installed. </p>
                     <div class="section">
                        <p>The realm must already exist.</p>
                        <div class="infoboxnote" id="GUID-17ED0290-B25B-4BA0-8DF2-0592973D0791__GUID-AE5D8C71-5C1F-4EB1-95DA-2267EF45E477">
                           <p class="notep1">Note:</p>
                           <p>The utility names in this section are executable programs. However, the Kerberos user name <code class="codeph">krbuser</code> and realm <code class="codeph">EXAMPLE.COM</code> are examples only. They can vary among systems.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run <code class="codeph">/krb5/admin/kadmin.local</code> as root to create a new Kerberos user, such as <code class="codeph">krbuser</code>. 
                              </p>
                              <p>For example, to create a Kerberos user is UNIX-specific:</p><pre class="oac_no_warn" dir="ltr"># /krb5/admin/kadmin.local
kadmin.local: <span class="bold">addprinc krbuser</span>
Enter password for principal: "krbuser@example.com": (password does not display)
Re-enter password for principal: "krbuser@example.com": (password does not display)
kadmin.local: <span class="bold">exit</span></pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9647"></a><div class="props_rev_3"><a id="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" name="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8"></a><h4 id="DBSEG-GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" class="sect4">Step 8: Create an Externally Authenticated Oracle User</h4>
                  <div>
                     <p>Next, you are ready to create an externally authenticated Oracle user.</p>
                     <ol>
                        <li class="stepexpand"><span>Log in to SQL*Plus as a user who has the <code class="codeph">CREATE USER</code> privilege. </span><div><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin <span class="italic">- Or, CONNECT sec_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that the  <code class="codeph">OS_AUTHENT_PREFIX</code> is set to null (<code class="codeph">""</code>).</span></li>
                        <li class="stepexpand"><span>Create an Oracle Database user account that corresponds to the Kerberos user. Enter the Oracle user name in uppercase and enclose it in double quotation marks.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">CREATE USER "KRBUSER@EXAMPLE.COM" IDENTIFIED EXTERNALLY; 
GRANT CREATE SESSION TO "KRBUSER@EXAMPLE.COM"; 
</pre><p>If the user's Kerberos principal name is longer than 30 characters, and up to 1024 characters, then create the user by using the following syntax:</p><pre class="oac_no_warn" dir="ltr">CREATE USER <span class="italic">db_user_name</span> IDENTIFIED EXTERNALLY AS '<span class="italic">kerberos_principal_name</span>';
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">CREATE USER KRBUSER IDENTIFIED EXTERNALLY AS 'KerberosUser@example.com';</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8__GUID-061B3B88-4C46-42BE-867F-145BC5106EF8">
                           <p class="notep1">Note:</p>
                           <p>The database administrator should ensure that two database users are not identified externally by the same Kerberos principal name.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG061"></a><div class="props_rev_3"><a id="GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" name="GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009"></a><h4 id="DBSEG-GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" class="sect4">Step 9: Get an Initial Ticket for the Kerberos/Oracle User</h4>
                  <div>
                     <p>Before you can connect to the database, you must ask the Key Distribution Center (KDC) for an initial ticket. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To request an <a href="glossary.html#GUID-E26D13B1-DD61-452C-A4E7-BA0C243C66EF"><span class="xrefglossterm">initial ticket</span></a>, run the following command on the client:
                              </p><pre class="oac_no_warn" dir="ltr">% okinit <span class="italic">username</span>
</pre><p>If you want to enable credentials that can be used across database links, then include the <code class="codeph">-f</code> option and provide the Kerberos password when prompted. 
                              </p><pre class="oac_no_warn" dir="ltr">% okinit -f
Password for krbuser@EXAMPLE.COM:(password does not display)</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-FF6CC3B0-9FA3-4845-AF58-9C6C60DA9BD5" title="To enable Kerberos authentication for Oracle Database, you must first install it, and then follow a set of configuration steps.">Enabling Kerberos Authentication</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG9648"></a><div class="props_rev_3"><a id="GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" name="GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC"></a><h3 id="DBSEG-GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" class="sect3">Utilities for the Kerberos Authentication Adapter</h3>
               <div>
                  <p>The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787">okinit Utility Options for Obtaining the Initial Ticket</a><br>The <code class="codeph">okinit</code> utility obtains and caches Kerberos tickets. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406">oklist Utility Options for Displaying Credentials</a><br>The <code class="codeph">oklist</code> utility displays the list of tickets held. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40">okdstry Utility Options for Removing Credentials from the Cache File</a><br>The <code class="codeph">okdstry</code> (<code class="codeph">okdestroy</code>) utility removes credentials from the cache file.
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-597B86B9-695B-487C-B85F-284ABFE40550">okcreate Utility Options for Automatic Keytab Creation</a><br>The <code class="codeph">okcreate</code> utility automates the creation of keytabs from either the KDC or a service endpoint.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG10205"></a><a id="DBSEG062"></a><div class="props_rev_3"><a id="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787" name="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787"></a><h4 id="DBSEG-GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787" class="sect4">okinit Utility Options for Obtaining the Initial Ticket</h4>
                  <div>
                     <p>The <code class="codeph">okinit</code> utility obtains and caches Kerberos tickets. 
                     </p>
                     <div class="section">
                        <p>This utility is typically used to obtain the ticket-granting ticket, using a password entered by the user to decrypt the credential from the key distribution center (KDC). The ticket-granting ticket is then stored in the user's credential cache.</p>
                        <p>The following table lists the options available with <code class="codeph">okinit</code>. To use the functionality that is described in this table, you must set the <code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter to <code class="codeph">TRUE</code>. (Note that <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> is deprecated, but is retained for backward compatibility for <code class="codeph">okinit</code>.)
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5D96C7A2-B4D8-4084-A9D4-BAD4936BD787__BAJEJJFF">
                        <p class="titleintable">Table 20-2 Options for the okinit Utility</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the okinit Utility" summary="This table lists and describes the options you can use with the okinit command-line utility." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d125632e2896">Option</th>
                                 <th align="left" valign="bottom" width="76%" id="d125632e2899">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2904" headers="d125632e2896 ">
                                    <p><code class="codeph">-f</code> | <code class="codeph">-F</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2904 d125632e2899 ">
                                    <p>Requests forwardable or non-forwardable tickets. This option is necessary to follow database links.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2915" headers="d125632e2896 ">
                                    <p><code class="codeph">-l</code> <span class="italic"><code class="codeph">lifetime</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2915 d125632e2899 ">
                                    <p>Specifies the lifetime of the ticket-granting ticket and all subsequent tickets. By default, the ticket-granting ticket is good for eight (8) hours, but shorter or longer-lived credentials may be desired. The KDC can ignore this option or put site-configured limits on what can be specified. The lifetime value is a string that consists of a number qualified by <code class="codeph">w</code> (weeks), <code class="codeph">d</code> (days), <code class="codeph">h</code> (hours), <code class="codeph">m</code> (minutes), or <code class="codeph">s</code> (seconds), as in the following example:
                                    </p><pre class="oac_no_warn" dir="ltr">okinit -l 2wld6h20m30s</pre><p>The example requests a ticket-granting ticket that has a lifetime of 2 weeks, 1 day, 6 hours, 20 minutes, and 30 seconds. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2946" headers="d125632e2896 ">
                                    <p><code class="codeph">-s</code> <code class="codeph"><span class="codeinlineitalic">start_time</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2946 d125632e2899 ">
                                    <p>Specifies the duration of the delay before the ticket can become valid. Tickets are issued with the invalid flag set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2958" headers="d125632e2896 ">
                                    <p><code class="codeph">-r</code> <code class="codeph"><span class="codeinlineitalic">renewable_life</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2958 d125632e2899 ">
                                    <p>Requests renewable tickets with a total lifetime of <code class="codeph"><span class="codeinlineitalic">renewable_life</span></code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2973" headers="d125632e2896 ">
                                    <p><code class="codeph">-p</code> | <code class="codeph">-P</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2973 d125632e2899 ">
                                    <p>Requests proxiable or non-proxiable tickets</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2984" headers="d125632e2896 ">
                                    <p><code class="codeph">-a</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2984 d125632e2899 ">
                                    <p>Requests tickets that are restricted to the local address of the host</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e2992" headers="d125632e2896 ">
                                    <p><code class="codeph">-A</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e2992 d125632e2899 ">
                                    <p>Requests tickets not restricted by address</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3000" headers="d125632e2896 ">
                                    <p><code class="codeph">-E</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3000 d125632e2899 ">
                                    <p>Treats the principal name as an enterprise name</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3008" headers="d125632e2896 ">
                                    <p><code class="codeph">-v</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3008 d125632e2899 ">
                                    <p>Requests that the ticket-granting ticket in the cache be passed to the KDC for validation. If the ticket is within the requested time range, then the cache is replaced with the validated ticket.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3016" headers="d125632e2896 ">
                                    <p><code class="codeph">-R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3016 d125632e2899 ">Requests renewal of the ticket-granting ticket</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3023" headers="d125632e2896 ">
                                    <p><code class="codeph">-k</code> [<code class="codeph">-t</code> <code class="codeph"><span class="codeinlineitalic">keytab_file</span></code>]
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3023 d125632e2899 ">
                                    <p>Requests a ticket, which is obtained from a key in the local host’s keytab</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3040" headers="d125632e2896 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3040 d125632e2899 ">
                                    <p>Requests anonymous processing</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3048" headers="d125632e2896 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3048 d125632e2899 ">Requests canonicalization of the principal name, and enables the KDC to reply with a different client principal from the one that was requested</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3055" headers="d125632e2896 ">
                                    <p><code class="codeph">-c</code> <code class="codeph"><span class="codeinlineitalic">cache_name</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3055 d125632e2899 ">
                                    <p>Specifies the name of a cache as a cache location. For UNIX, the default is<code class="codeph"> /tmp/krb5cc_</code><span class="italic">uid</span>. You can also specify the alternate credential cache by using the <code class="codeph">SQLNET.KERBEROS5_CC_NAME</code> parameter in the <code class="codeph">sqlnet.ora</code> file.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3078" headers="d125632e2896 ">
                                    <p><code class="codeph">-I</code> <code class="codeph"><span class="codeinlineitalic">input_cache</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3078 d125632e2899 ">
                                    <p>Specifies the name of a credential cache that already contains a ticket.  When it obtains that ticket, if the information about how the ticket was obtained is stored in cache, then the same information will be used to affect how new credentials are obtained.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3090" headers="d125632e2896 ">
                                    <p><code class="codeph">-T</code> <code class="codeph"><span class="codeinlineitalic">armor_cache</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3090 d125632e2899 ">
                                    <p>If supported by the KDC, this cache is used to armor the request, preventing offline dictionary attacks and enabling the use of additional pre-authentication mechanisms.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3102" headers="d125632e2896 ">
                                    <p><code class="codeph">-X</code> <code class="codeph"><span class="codeinlineitalic">attribute</span>[<code class="codeph">=</code><code class="codeph"><span class="codeinlineitalic">value</span></code></code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3102 d125632e2899 ">Specifies a pre-authentication attribute and value. Specifies one of the following values:
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">X509_user_identity=</code><span class="italic"><code class="codeph">value</code></span> specifies where to find the user’s X509 identity information
                                          </p>
                                       </li>
                                       <li>
                                          <p>X<code class="codeph">509_anchors=</code><span class="italic"><code class="codeph">value</code></span> specifies where to find trusted X509 anchor information
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">flag_RSA_PROTOCOL</code>[<code class="codeph">=yes</code>] specifies the use of RSA rather than the default Diffie-Hellman protocol
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3145" headers="d125632e2896 ">
                                    <p><code class="codeph">-e</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3145 d125632e2899 ">
                                    <p>Specifies a number representing the Kerberos encryption type to use. </p>
                                    <p>This option can be used to request a particular Kerberos encryption type key for the session. If you specify more than one encryption type, then the KDC chooses the common and strongest encryption type from the list.</p>
                                    <p>The following values are allowed:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>1 for <code class="codeph">DES-CBC-CRC</code></p>
                                       </li>
                                       <li>
                                          <p>3 for <code class="codeph">DES-CBC-MD5</code></p>
                                       </li>
                                       <li>
                                          <p>16 for <code class="codeph">DES3-CBC-SHA1</code></p>
                                       </li>
                                       <li>
                                          <p>18 for <code class="codeph">AES256-CTS</code></p>
                                       </li>
                                       <li>
                                          <p>23 for <code class="codeph">RC4-HMAC</code></p>
                                       </li>
                                    </ul>
                                    <p>The following example requests for the <code class="codeph">AES256-CTS</code> encryption type:
                                    </p><pre class="oac_no_warn" dir="ltr">okinit -e 1 -e 18 krbuser@REALM
</pre><p>Note that you can repeat the option to request multiple encryption types.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d125632e3192" headers="d125632e2896 ">
                                    <p><code class="codeph">-?</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d125632e3192 d125632e2899 ">
                                    <p>List command line options.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed.">Utilities for the Kerberos Authentication Adapter</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG10206"></a><a id="DBSEG9649"></a><div class="props_rev_3"><a id="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406" name="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406"></a><h4 id="DBSEG-GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406" class="sect4">oklist Utility Options for Displaying Credentials</h4>
                  <div>
                     <p>The <code class="codeph">oklist</code> utility displays the list of tickets held. 
                     </p>
                     <div class="section">
                        <p>The following table lists the available <code class="codeph">oklist</code> options. To use the functionality that is described in this table, you must set the <code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter to <code class="codeph">TRUE</code>. (Note that <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> is deprecated, but is retained for backward compatibility for <code class="codeph">oklist</code>.)
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0C0E484C-79FD-4D6B-8CAA-73E234DDF406__BAJHIIDB">
                        <p class="titleintable">Table 20-3 Options for the oklist Utility</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the oklist Utility" summary="This table lists and describes the options that you can use with the oklist command-line utility." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d125632e3344">Option</th>
                                 <th align="left" valign="bottom" width="75%" id="d125632e3347">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3352" headers="d125632e3344 ">
                                    <p><code class="codeph">-f</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3352 d125632e3347 ">
                                    <p>Show flags with credentials. Relevant flags are:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">I</code>, credential is a ticket-granting ticket
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">F</code>, credential is forwardable
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">f</code>, credential is forwarded.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3376" headers="d125632e3344 ">
                                    <p><code class="codeph">-c</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3376 d125632e3347 ">
                                    <p>Specify an alternative credential cache. In UNIX, the default is <code class="codeph">/tmp/krb5cc_</code><span class="italic"><code class="codeph">uid</code></span>. The alternate credential cache can also be specified by using the <code class="codeph">SQLNET.KERBEROS5_CC_NAME</code> parameter in the <code class="codeph">sqlnet.ora</code> file.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3396" headers="d125632e3344 ">
                                    <p><code class="codeph">-k</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3396 d125632e3347 ">
                                    <p>List the entries in the service table (default <code class="codeph">/etc/v5srvtab</code>) on UNIX. The alternate service table can also be specified by using the <code class="codeph">SQLNET.KERBEROS5_KEYTAB</code>&nbsp;parameter in the <code class="codeph">sqlnet.ora</code> file.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3413" headers="d125632e3344 ">
                                    <p><code class="codeph">-e</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3413 d125632e3347 ">
                                    <p>Displays the encryption types of the session key and the ticket for each credential in the credential cache, or each key in the keytab file. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3421" headers="d125632e3344 ">
                                    <p><code class="codeph">-l</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3421 d125632e3347 ">
                                    <p>If a cache collection is available, displays a table summarizing the caches present in the collection. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3429" headers="d125632e3344 ">
                                    <p><code class="codeph">-A</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3429 d125632e3347 ">
                                    <p>If a cache collection is available, displays the contents of all of the caches in the collection </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3437" headers="d125632e3344 ">
                                    <p><code class="codeph">-s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3437 d125632e3347 ">
                                    <p>Runs utility without producing output. Utility will exit with status 1 if the cache cannot be read or is expired, else with status 0 </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3445" headers="d125632e3344 ">
                                    <p><code class="codeph">-a</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3445 d125632e3347 ">
                                    <p>Displays a list of addresses in the credential </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3453" headers="d125632e3344 ">
                                    <p><code class="codeph">-n</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3453 d125632e3347 ">
                                    <p>Shows numeric addresses instead of reverse-resolving addresses </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3461" headers="d125632e3344 ">
                                    <p><code class="codeph">-C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3461 d125632e3347 ">
                                    <p>Lists configuration data that has been stored in the credentials cache when <code class="codeph">klist</code> encounters it. By default, configuration data is not listed. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3472" headers="d125632e3344 ">
                                    <p><code class="codeph">-t</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3472 d125632e3347 ">
                                    <p>Displays the time entry timestamps for each keytab entry in the keytab file </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3481" headers="d125632e3344 ">
                                    <p><code class="codeph">-K</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3481 d125632e3347 ">
                                    <p>Displays the value of the encryption key in each keytab entry in the keytab file </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d125632e3489" headers="d125632e3344 ">
                                    <p><code class="codeph">-V</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d125632e3489 d125632e3347 ">
                                    <p>Displays the Kerberos version number and exit. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>The show flag option (<code class="codeph">-f</code>) displays additional information, as shown in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">% oklist -f
04-Aug-2015 21:57:51   28-Aug-2015 05:58:14
krbtgt/EXAMPLE.COM@EXAMPLE.COM
Flags: FI</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed.">Utilities for the Kerberos Authentication Adapter</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40" name="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40"></a><h4 id="DBSEG-GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40" class="sect4">okdstry Utility Options for Removing Credentials from the Cache File</h4>
                  <div>
                     <p>The <code class="codeph">okdstry</code> (<code class="codeph">okdestroy</code>) utility removes credentials from the cache file.
                     </p>
                     <div class="section">
                        <p>The following table lists the available <code class="codeph">okdstry</code> options. To use the functionality that is described in this table, you must set the <code class="codeph">sqlnet.ora</code> <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter to <code class="codeph">TRUE</code>. (Note that <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> is deprecated, but is retained for backward compatibility for <code class="codeph">okdstry</code>.)
                        </p>
                        <div class="tblformal" id="GUID-E6E6F6DE-9DF3-4EF2-BDFA-BCD709A6BD40__OPTIONSFORTHEOKDSTRYUTILITY-7F6709F6">
                           <p class="titleintable">Table 20-4 Options for the okdstry Utility</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the okdstry Utility" summary="This table lists and describes the options that you can use with the okdstry command-line utility" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d125632e3653">Option</th>
                                    <th align="left" valign="bottom" width="20%" id="d125632e3656">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3661" headers="d125632e3653 ">
                                       <p><code class="codeph">—A</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3661 d125632e3656 ">
                                       <p>Destroys all caches in the collection, if a cache collection is available</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3669" headers="d125632e3653 ">
                                       <p><code class="codeph">—q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3669 d125632e3656 ">
                                       <p>Runs quietly. Normally <code class="codeph">okdstry</code> beeps if it fails to destroy the user’s tickets. This flag suppresses this behavior. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3680" headers="d125632e3653 ">
                                       <p><code class="codeph">—c</code> <code class="codeph"><span class="codeinlineitalic">cache_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3680 d125632e3656 ">
                                       <p>Uses <code class="codeph"><span class="codeinlineitalic">cache_name</span></code> as the credentials (ticket) cache name and location. For UNIX, the default is <code class="codeph">/tmp/krb5cc_</code><span class="italic"><code class="codeph">uid</code></span>. You can also specify the alternate credential cache by using the <code class="codeph">SQLNET.KERBEROS5_CC_NAME</code> parameter in the <code class="codeph">sqlnet.ora</code> file.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed.">Utilities for the Kerberos Authentication Adapter</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-597B86B9-695B-487C-B85F-284ABFE40550" name="GUID-597B86B9-695B-487C-B85F-284ABFE40550"></a><h4 id="DBSEG-GUID-597B86B9-695B-487C-B85F-284ABFE40550" class="sect4">okcreate Utility Options for Automatic Keytab Creation</h4>
                  <div>
                     <p>The <code class="codeph">okcreate</code> utility automates the creation of keytabs from either the KDC or a service endpoint.
                     </p>
                     <div class="section">
                        <p>The following table lists the available <code class="codeph">okcreate</code> options.
                        </p>
                        <div class="tblformal" id="GUID-597B86B9-695B-487C-B85F-284ABFE40550__THISTABLELISTSANDDESCRIBESTHEOPTION-7F72E2C3">
                           <p class="titleintable">Table 20-5 okcreate Utility Options for Automatic Keytab Creation</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="okcreate Utility Options for Automatic Keytab Creation" summary="This table lists and describes the options that you can use with the okcreate command-line utility." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d125632e3837">Option</th>
                                    <th align="left" valign="bottom" width="20%" id="d125632e3840">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3845" headers="d125632e3837 ">
                                       <p><code class="codeph">-name</code> <code class="codeph"><span class="codeinlineitalic">service_name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3845 d125632e3840 ">
                                       <p>Specifies the service name of the kerberized service for which to get a keytab.The default is <code class="codeph">oracle</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3860" headers="d125632e3837 ">
                                       <p><code class="codeph">—hosts</code> <code class="codeph"><span class="codeinlineitalic">path-to_hosts_list</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3860 d125632e3840 ">
                                       <p>Specifies either a comma-separated list of hosts for which to get the keytab, or the path to a text file that contains a list of the hosts. The default is <code class="codeph">none</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3875" headers="d125632e3837 ">
                                       <p><code class="codeph">—out</code> <code class="codeph"><span class="codeinlineitalic">path_to_output</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3875 d125632e3840 ">
                                       <p>Specifies the output path to store the resulting keytabs. The default is the current directory.</p>
                                       <p>Ensure that this directory is readable only by the root user. Never send keytabs over the network in clear text.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3889" headers="d125632e3837 ">
                                       <p><code class="codeph">—k</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3889 d125632e3840 ">
                                       <p>For use if the operation is performed on the KDC. Do not use this option if you are using <code class="codeph">—s</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3900" headers="d125632e3837 ">
                                       <p><code class="codeph">—s</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3900 d125632e3840 ">
                                       <p>For use if the operation is performed on a Kerberized service. Do not use this option if you are using <code class="codeph">—k</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3912" headers="d125632e3837 ">
                                       <p><code class="codeph">-u</code> <code class="codeph"><span class="codeinlineitalic">KDC_username</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3912 d125632e3840 ">
                                       <p>Specifies the user name for the KDC. Only use this setting on a Kerberized service endpoint.</p>
                                       <p>If you specify the <code class="codeph">—s</code> and omit this setting, then okcreate prompts for the <code class="codeph"><span class="codeinlineitalic">KDCuser</span>@<span class="codeinlineitalic">KDCmachine</span></code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3936" headers="d125632e3837 ">
                                       <p><code class="codeph">-r</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3936 d125632e3840 ">
                                       <p>Specifies the Kerberos realm</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3944" headers="d125632e3837 ">
                                       <p><code class="codeph">—p</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3944 d125632e3840 ">
                                       <p>Specifies the Kerberos principal</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3952" headers="d125632e3837 ">
                                       <p><code class="codeph">-q</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3952 d125632e3840 ">
                                       <p>Specifies the Kerberos query</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3960" headers="d125632e3837 ">
                                       <p><code class="codeph">—d</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3960 d125632e3840 ">
                                       <p>Specifies the KDC database name</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3968" headers="d125632e3837 ">
                                       <p><code class="codeph">—e</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3968 d125632e3840 ">
                                       <p>Specifies the salt list to be used for any new keys that are created</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d125632e3977" headers="d125632e3837 ">
                                       <p><code class="codeph">—m</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d125632e3977 d125632e3840 ">
                                       <p>Specifies to prompt for the KDC master password</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-B861CD2F-EA97-4A90-8A77-3BB8F4BD1EDC" title="The Oracle Kerberos authentication adapter utilities are designed for an Oracle client with Oracle Kerberos authentication support installed.">Utilities for the Kerberos Authentication Adapter</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG9651"></a><div class="props_rev_3"><a id="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65" name="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65"></a><h3 id="DBSEG-GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65" class="sect3">Connecting to an Oracle Database Server Authenticated by Kerberos</h3>
               <div>
                  <p>After Kerberos is configured, you can connect to an Oracle database server without using a user name or password.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use the following syntax to connect to the database without using a user name or password:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus /@<span class="italic">net_service_name</span>
</pre></li>
                     </ul>
                     <p>In this specification, <span class="italic"><code class="codeph">net_service_name</code></span> is an Oracle Net Services service name. For example:
                     </p><pre class="oac_no_warn" dir="ltr">$ sqlplus /@oracle_dbname</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9C4553E5-59ED-418E-B2B5-13E2E55B5E65__GUID-C1609D32-4A01-4C36-A71C-055B6BE4C4C8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=HETER001" target="_blank"><span><cite>Oracle Database Heterogeneous Connectivity User's Guide</cite></span></a> for information about external authentication
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9652"></a><div class="props_rev_3"><a id="GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" name="GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625"></a><h3 id="DBSEG-GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" class="sect3">Configuring Interoperability with a Windows 2008 Domain Controller KDC</h3>
               <div>
                  <p>You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091">About Configuring Interoperability with a Windows 2008 Domain Controller KDC</a><br>Oracle Database complies with MIT Kerberos. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF">Step 1: Configure Oracle Kerberos Client for Windows 2008 Domain Controller</a><br>You can configure the Oracle Kerberos client to interoperate with a Microsoft Windows 2008 Domain Controller KDC. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03">Step 2: Configure a Windows 2008 Domain Controller KDC for the Oracle Client</a><br>Next, you are ready to configure a Microsoft Windows 2008 Domain Controller KDC to interoperate with an Oracle Client. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F">Step 3: Configure Oracle Database for a Windows 2008 Domain Controller KDC</a><br>You must configure the Oracle database for the domain controller on the host computer where the Oracle database is installed.
                     </li>
                     <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9">Step 4: Obtain an Initial Ticket for the Kerberos/Oracle User</a><br>Before a client can connect to the database, the client must request an initial ticket. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091" name="GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091"></a><h4 id="DBSEG-GUID-9D7F26E1-6013-4244-86A5-AF3F6A4ED091" class="sect4">About Configuring Interoperability with a Windows 2008 Domain Controller KDC</h4>
                  <div>
                     <p>Oracle Database complies with MIT Kerberos. </p>
                     <p>This enables Oracle Database to interoperate with tickets that are issued by a Kerberos Key Distribution Center (KDC) on a Windows 2008 domain controller. This process enables Kerberos authentication with an Oracle database. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9653"></a><div class="props_rev_3"><a id="GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" name="GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF"></a><h4 id="DBSEG-GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" class="sect4">Step 1: Configure Oracle Kerberos Client for Windows 2008 Domain Controller</h4>
                  <div>
                     <p>You can configure the Oracle Kerberos client to interoperate with a Microsoft Windows 2008 Domain Controller KDC. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B">Step 1A: Create the Client Kerberos Configuration Files</a><br>You must configure a set of client Kerberos configuration files that refer to the Windows 2008 domain controller as the Kerberos KDC. 
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-FCE9DCEC-E485-4A86-B687-18871F281E24">Step 1B: Specify the Oracle Configuration Parameters in the sqlnet.ora File</a><br>The <code class="codeph">sqlnet.ora</code> file has Kerbose 5&#x2013;specific parameters. 
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58">Step 1C: Specify the Listening Port Number</a><br>The Windows 2008 domain controller KDC listens on UDP/TCP port 88.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9654"></a><div class="props_rev_3"><a id="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B" name="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B"></a><h5 id="DBSEG-GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B" class="sect5">Step 1A: Create the Client Kerberos Configuration Files</h5>
                     <div>
                        <p>You must configure a set of client Kerberos configuration files that refer to the Windows 2008 domain controller as the Kerberos KDC. </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-EA20B5AC-B5DC-478C-897F-FDED38B43F2B__GUID-53B95FA7-76ED-4B00-B6F4-25609707C23B"></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Create the <code class="codeph">krb.conf</code> and <code class="codeph">krb5.realms</code> files. Oracle Database provides a default <code class="codeph">krb5.conf</code> file, which you must modify for your site. 
                                 </p>
                                 <p>The <code class="codeph">krb5.conf</code> file is located in the location indicated by the <code class="codeph">SQLNET.KERBEROS_CONF</code> parameter.
                                 </p>
                              </li>
                           </ul>
                           <p>For example, assuming that the Windows 2008 domain controller is running on a node named <code class="codeph">sales3854.us.example.com</code>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold"><code class="codeph">krb.conf</code></span> file
                                 </p>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">SALES3854.US.EXAMPLE.COM
SALES3854.US.EXAMPLE.COM 
sales3854.us.example.com admin server
</pre></li>
                              <li>
                                 <p><span class="bold"><code class="codeph">krb5.conf</code></span> file
                                 </p>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">[libdefaults]
default_realm=SALES.US.EXAMPLE.COM
[realms]
SALES.US.EXAMPLE.COM= { kdc=sales3854.us.example.com:88 }
[domain_realm]
.us.example.com=SALES.US.EXAMPLE.COM
</pre></li>
                              <li>
                                 <p><span class="bold"><code class="codeph">krb5.realms</code></span> file
                                 </p>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">us.example.com SALES.US.EXAMPLE.COM</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="You can configure the Oracle Kerberos client to interoperate with a Microsoft Windows 2008 Domain Controller KDC.">Step 1: Configure Oracle Kerberos Client for Windows 2008 Domain Controller</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9655"></a><div class="props_rev_3"><a id="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24" name="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24"></a><h5 id="DBSEG-GUID-FCE9DCEC-E485-4A86-B687-18871F281E24" class="sect5">Step 1B: Specify the Oracle Configuration Parameters in the sqlnet.ora File</h5>
                     <div>
                        <p>The <code class="codeph">sqlnet.ora</code> file has Kerbose 5&#x2013;specific parameters. 
                        </p>
                        <div class="section">
                           <p>Configuring an Oracle client to interoperate with a Windows 2008 domain controller KDC uses the same <code class="codeph">sqlnet.ora</code> file parameters that are used for Kerberos on the client and on the database server. These parameters are described in <a href="configuring-kerberos-authentication.html#GUID-498B9E90-7841-44CD-BD48-0CE0C6F22064" title="First, you must configure Kerberos authentication service parameters on the client and on the database server.">Step 6A: Configure Kerberos on the Client and on the Database Server</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Set the following parameters in the <code class="codeph">sqlnet.ora</code> file on the client:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF=<span class="italic">pathname_to_Kerberos_configuration_file</span>
SQLNET.KERBEROS5_CONF_MIT=TRUE
SQLNET.AUTHENTICATION_KERBEROS5_SERVICE=<span class="italic">Kerberos_service_name</span>
SQLNET.AUTHENTICATION_SERVICES=(BEQ,KERBEROS5)</pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-FCE9DCEC-E485-4A86-B687-18871F281E24__GUID-485C38B0-8B00-4814-A470-CF75B2D04FB5">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter has been deprecated, but is retained for backward compatibility for the <code class="codeph">okint</code>, <code class="codeph">oklist</code>, and <code class="codeph">okdstry</code> utilities.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Ensure that the <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter is set to <code class="codeph">TRUE</code> because the Windows 2008 operating system is designed to interoperate only with security services that are based on MIT Kerberos version 5.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="You can configure the Oracle Kerberos client to interoperate with a Microsoft Windows 2008 Domain Controller KDC.">Step 1: Configure Oracle Kerberos Client for Windows 2008 Domain Controller</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9656"></a><div class="props_rev_3"><a id="GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58" name="GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58"></a><h5 id="DBSEG-GUID-F5B5E08D-3879-4199-BBC1-7EFFA365AF58" class="sect5">Step 1C: Specify the Listening Port Number</h5>
                     <div>
                        <p>The Windows 2008 domain controller KDC listens on UDP/TCP port 88.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Ensure that the system file entry for <code class="codeph">kerberos5</code> is set to UDP/TCP port 88.
                                 </p>
                                 <p>For the UNIX environment, ensure that the first <code class="codeph">kerberos5</code> entry in the <code class="codeph">/etc/services</code> file is set to 88. 
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-0FAD3018-997A-476E-8899-5B7092AAB4CF" title="You can configure the Oracle Kerberos client to interoperate with a Microsoft Windows 2008 Domain Controller KDC.">Step 1: Configure Oracle Kerberos Client for Windows 2008 Domain Controller</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9657"></a><div class="props_rev_3"><a id="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" name="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03"></a><h4 id="DBSEG-GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" class="sect4">Step 2: Configure a Windows 2008 Domain Controller KDC for the Oracle Client</h4>
                  <div>
                     <p>Next, you are ready to configure a Microsoft Windows 2008 Domain Controller KDC to interoperate with an Oracle Client. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD">Step 2A: Create the User Account</a><br>You must create a user account for the Microsoft Windows 2008 Domain Controller KDC.
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-F231D375-3213-46E0-97C2-D6C36158B5D5">Step 2B: Create the Oracle Database Principal User Account and Keytab</a><br>After you create the user account, you are ready to create the Oracle Database principal user account. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0724FFCA-081A-4083-8A2B-CF3909299E03__GUID-7FBBA53F-B8AF-46F4-96BB-32A54339E152">
                        <p class="notep1">See Also:</p>
                        <p>Microsoft documentation for information about how to create users in Active Directory.</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9658"></a><div class="props_rev_3"><a id="GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD" name="GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD"></a><h5 id="DBSEG-GUID-61841CA7-84A9-4E1A-8C2A-BC67B42437BD" class="sect5">Step 2A: Create the User Account</h5>
                     <div>
                        <p>You must create a user account for the Microsoft Windows 2008 Domain Controller KDC.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>On the Windows 2008 domain controller, create a new user account for the Oracle client in Microsoft Active Directory.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" title="Next, you are ready to configure a Microsoft Windows 2008 Domain Controller KDC to interoperate with an Oracle Client.">Step 2: Configure a Windows 2008 Domain Controller KDC for the Oracle Client</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9659"></a><div class="props_rev_3"><a id="GUID-F231D375-3213-46E0-97C2-D6C36158B5D5" name="GUID-F231D375-3213-46E0-97C2-D6C36158B5D5"></a><h5 id="DBSEG-GUID-F231D375-3213-46E0-97C2-D6C36158B5D5" class="sect5">Step 2B: Create the Oracle Database Principal User Account and Keytab</h5>
                     <div>
                        <p>After you create the user account, you are ready to create the Oracle Database principal user account. </p>
                        <div class="section">After you create this account on the Windows 2008 domain controller, you must use the <code class="codeph">okcreate</code> utility to register it with the principal keytab. You can run this utilty on the same KDC to create all the service keytabs rather than creating them individually, or you can run <code class="codeph">okcreate</code> from a service endpoint that connects to the KDC, run the ncessary commands, and then copy the resulting keytab back to the service endpoint.
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create a new user account for the Oracle database in Microsoft Active Directory.</span><div>
                                 <p>For example, if the Oracle database runs on the host <code class="codeph">sales3854.us.example.com</code>, then use Active Directory to create a user with the user name <code class="codeph">sales3854.us.example.com</code>.
                                 </p>
                                 <p>Do not create a user as <code class="codeph">host/hostname.dns.com</code>, such as <code class="codeph">oracle/sales3854.us.example.com</code>, in Active Directory. Microsoft's KDC does not support multipart names like an MIT KDC does. An MIT KDC allows multipart names to be used for service principals because it treats all principals as user names. However, Microsoft’s KDC does not.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Run the <code class="codeph">okcreate</code> command to create a keytab that will use this user account. The syntax is as follows:</span><div><pre class="oac_no_warn" dir="ltr">okcreate (-s [-u <span class="italic">KDCuser</span>@<span class="italic">KDCmachine</span>] | -k) 
  [-name <span class="italic">service_name</span>] [-hosts <span class="italic">path_to_host_list</span>] 
  [-out <span class="italic">path_to_output</span>] [-r <span class="italic">realm</span>] [-p <span class="italic">principal</span>] 
  [-q <span class="italic">query</span>] [-d <span class="italic">dbname</span>] [-e enc:salt...] [-m] 
  [-x <span class="italic">db_args</span>]
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">okcreate -s -u kdcuser1@kdcmachine1 -name oracle 
  -hosts sales3854.us.example.com 
  -out /OSsecured/keytablocation </pre></div>
                           </li>
                           <li class="stepexpand"><span>Copy the extracted <code class="codeph">keytab</code> file to the host computer where the Oracle database is installed.</span><div>
                                 <p>For example, the <code class="codeph">keytab</code> that was created in the previous step can be copied to <code class="codeph">/krb5/v5svrtab</code>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-0724FFCA-081A-4083-8A2B-CF3909299E03" title="Next, you are ready to configure a Microsoft Windows 2008 Domain Controller KDC to interoperate with an Oracle Client.">Step 2: Configure a Windows 2008 Domain Controller KDC for the Oracle Client</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9660"></a><div class="props_rev_3"><a id="GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" name="GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F"></a><h4 id="DBSEG-GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" class="sect4">Step 3: Configure Oracle Database for a Windows 2008 Domain Controller KDC</h4>
                  <div>
                     <p>You must configure the Oracle database for the domain controller on the host computer where the Oracle database is installed.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C">Step 3A: Set Configuration Parameters in the sqlnet.ora File</a><br>You must first set configuration parameters for the database.
                        </li>
                        <li class="ulchildlink"><a href="configuring-kerberos-authentication.html#GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF">Step 3B: Create an Externally Authenticated Oracle User</a><br>After you set the configuration parameters, you are ready to create an externally authenticated Oracle user.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9661"></a><div class="props_rev_3"><a id="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C" name="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C"></a><h5 id="DBSEG-GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C" class="sect5">Step 3A: Set Configuration Parameters in the sqlnet.ora File</h5>
                     <div>
                        <p>You must first set configuration parameters for the database.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specify values for the following parameters in the <code class="codeph">sqlnet.ora</code> file for the database server:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.KERBEROS5_CONF=pathname_to_Kerberos_configuration_file
SQLNET.KERBEROS5_KEYTAB=pathname_to_Kerberos_principal/key_table
SQLNET.KERBEROS5_CONF_MIT=TRUE
SQLNET.AUTHENTICATION_KERBEROS5_SERVICE=Kerberos_service_name
SQLNET.AUTHENTICATION_SERVICES=(BEQ,KERBEROS5)</pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-10AF1BFF-0A33-4CD2-BBD6-5A834ECD565C__GUID-306BD4F1-F219-43D3-B436-764C11F566E3">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter has been deprecated, but is retained for backward compatibility for the <code class="codeph">okint</code>, <code class="codeph">oklist</code>, and <code class="codeph">okdstry</code> utilities. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>Ensure that the <code class="codeph">SQLNET.KERBEROS5_CONF_MIT</code> parameter is set to <code class="codeph">TRUE</code> because the Windows 2008 operating system is designed to interoperate only with security services that are based on MIT Kerberos version 5.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Be aware that in a multitenant environment, the settings in the <code class="codeph">sqlnet.ora</code> file apply to all PDBs. However, this does not mean that all PDBs must authenticate with one KDC if using Kerberos; the settings in the <code class="codeph">sqlnet.ora</code> file and Kerberos configuration files can support multiple KDCs.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" title="You must configure the Oracle database for the domain controller on the host computer where the Oracle database is installed.">Step 3: Configure Oracle Database for a Windows 2008 Domain Controller KDC</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9662"></a><div class="props_rev_3"><a id="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF" name="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF"></a><h5 id="DBSEG-GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF" class="sect5">Step 3B: Create an Externally Authenticated Oracle User</h5>
                     <div>
                        <p>After you set the configuration parameters, you are ready to create an externally authenticated Oracle user.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Follow the procedure under <a href="configuring-kerberos-authentication.html#GUID-776C9160-A366-4E55-8C9F-4DB5DDF2C4E8" title="Next, you are ready to create an externally authenticated Oracle user.">Step 8: Create an Externally Authenticated Oracle User</a> to create an externally authenticated Oracle user. 
                                 </p>
                                 <p>Ensure that you create the username in all uppercase characters (for example, <code class="codeph">ORAKRB@SALES.US.EXAMPLE.COM</code>).
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0A787BEC-BBF8-4F07-9B06-593DF98996EF__GUID-29E8B22F-9ABD-4E5F-B7FC-56ED9950DDBB">
                           <p class="notep1">See Also:</p>
                           <p><a href="configuring-kerberos-authentication.html#GUID-D3C9F2F7-3A15-40A9-976C-864649C09ED9" title="You must set the required parameters in the Oracle database server and client sqlnet.ora files.">Step 6: Configure Kerberos Authentication</a> for information about using Oracle Net Manager to set the <code class="codeph">sqlnet.ora</code> file parameters.
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-40B211E7-2ACF-4097-96CD-5BA88BCA2F7F" title="You must configure the Oracle database for the domain controller on the host computer where the Oracle database is installed.">Step 3: Configure Oracle Database for a Windows 2008 Domain Controller KDC</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9663"></a><div class="props_rev_3"><a id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9" name="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9"></a><h4 id="DBSEG-GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9" class="sect4">Step 4: Obtain an Initial Ticket for the Kerberos/Oracle User</h4>
                  <div>
                     <p>Before a client can connect to the database, the client must request an initial ticket. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To request an <a href="glossary.html#GUID-E26D13B1-DD61-452C-A4E7-BA0C243C66EF"><span class="xrefglossterm">initial ticket</span></a>, follow the task information for <a href="configuring-kerberos-authentication.html#GUID-A3778E94-702B-44F8-B9D4-E8CFB61A0009" title="Before you can connect to the database, you must ask the Key Distribution Center (KDC) for an initial ticket.">Step 9: Get an Initial Ticket for the Kerberos/Oracle User</a>.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9__GUID-4A4F18BF-AC42-4D0D-973B-85295DFD656B">
                           <p class="notep1">Note:</p>
                           <p>The user does not need to explicitly request for an initial ticket, using the <code class="codeph">okinit</code> command, when using the Windows native cache. 
                           </p>
                           <p>If the Oracle client is running on Microsoft Windows 2008 or later, the Kerberos ticket is automatically retrieved when the user logs in to Windows.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B84FD00-DF86-4CBB-B964-E2395F7086F9__GUID-EF60D547-0D25-4F6F-A841-0DFFC1EA0296">
                        <p class="notep1">See Also:</p>
                        <p>Microsoft documentation for details about the <code class="codeph">Kerbtray.exe</code> utility, which can be used to display Kerberos ticket information for a system
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-178E9041-7A3D-4CE6-B137-513A4EB6D625" title="You can configure Oracle Database to interoperate with a Microsoft Windows 2008 domain controller key distribution center (KDC).">Configuring Interoperability with a Windows 2008 Domain Controller KDC</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E" name="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E"></a><h3 id="DBSEG-GUID-2AB588F3-700F-4409-BD3D-AD40D330701E" class="sect3">Configuring Kerberos Authentication Fallback Behavior</h3>
               <div>
                  <p>You can configure fallback behavior (password-based authentication) in case the Kerberos authentication fails. </p>
                  <div class="section">After you have configured Kerberos authentication for Oracle clients to use Kerberos authentication to authenticate to an Oracle database, there are cases where you may want to fall back to password-based authentication. An example would be if you have fixed user database links in the Oracle database.</div>
                  <!-- class="section" -->
                  <ul>
                     <li class="stepexpand"><span>To enable Kerberos authentication to fall back to password-based authentication, set the <code class="codeph">SQLNET.FALLBACK_AUTHENTICATION</code> parameter to <code class="codeph">TRUE</code> in the <code class="codeph">sqlnet.ora</code> files on both the client and server. </span><div>The default of this parameter is <code class="codeph">FALSE</code>. This means that by default, the connection fails when Kerberos authentication fails.
                        </div>
                     </li>
                  </ul>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2AB588F3-700F-4409-BD3D-AD40D330701E__GUID-90D62943-F1D4-482F-BE57-EC6B13467681">
                     <p class="notep1">See Also:</p><a href="../netrf/parameters-for-the-sqlnet.ora.html#NETRF-GUID-038AB29B-720D-467C-BADD-2A74100E0A2C" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about the <code class="codeph">SQLNET.FALLBACK_AUTHENTICATION</code> parameter
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9664"></a><div class="props_rev_3"><a id="GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D" name="GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D"></a><h3 id="DBSEG-GUID-B3EEC35D-7E10-48EA-9341-09DBE57A1C6D" class="sect3">Troubleshooting the Oracle Kerberos Authentication Configuration</h3>
               <div>
                  <p>Oracle provides guidance for common Kerberos configuration problems.</p>
                  <p>Common problems are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you cannot get your ticket-granting ticket using <code class="codeph">okinit</code>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Ensure that the default realm is correct by examining the <code class="codeph">krb.conf</code> file.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that the KDC is running on the host specified for the realm.</p>
                           </li>
                           <li>
                              <p>Ensure that the KDC has an entry for the user principal and that the passwords match.</p>
                           </li>
                           <li>
                              <p>Ensure that the <code class="codeph">krb.conf</code> and <code class="codeph">krb.realms</code> files are readable by Oracle.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that the <code class="codeph">TNS_ADMIN</code> environment variable is pointing to the directory containing the <code class="codeph">sqlnet.ora</code> configuration file.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If you have an initial ticket but still cannot connect:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>After trying to connect, check for a service ticket.</p>
                           </li>
                           <li>
                              <p>Check that the <code class="codeph">sqlnet.ora</code> file on the database server side has a service name that corresponds to a service known by Kerberos.
                              </p>
                           </li>
                           <li>
                              <p>Check that the clocks on all systems involved are set to times that are within a few minutes of each other or change the <code class="codeph">SQLNET.KERBEROS5_CLOCKSKEW</code> parameter in the <code class="codeph">sqlnet.ora</code> file.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If you have a service ticket and you still cannot connect:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Check the clocks on the client and database server.</p>
                           </li>
                           <li>
                              <p>Check that the <code class="codeph">v5srvtab</code> file exists in the correct location and is readable by Oracle. Remember to set the <code class="codeph">sqlnet.ora</code> parameters.
                              </p>
                           </li>
                           <li>
                              <p>Check that the <code class="codeph">v5srvtab</code> file has been generated for the service named in the <code class="codeph">sqlnet.ora</code> file on the database server side.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If everything seems to work fine, but then you issue another query and it fails: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Check that the initial ticket is forwardable. You must have obtained the initial ticket by running the <code class="codeph">okinit </code>utility.
                              </p>
                           </li>
                           <li>
                              <p>Check the expiration date on the credentials. If the credentials have expired, then close the connection and run <code class="codeph">okinit</code> to get a new initial ticket.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-kerberos-authentication.html#GUID-DF84261F-457A-4B9F-AE41-CDE6FE9178C4" title="Kerberos is a trusted third-party authentication system that relies on shared secrets and presumes that the third party is secure.">Configuring Kerberos Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>