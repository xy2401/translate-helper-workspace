<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="DBMS_ADVANCED_REWRITE contains interfaces for advanced query rewrite users. Using this package, you can create, drop, and maintain functional equivalence declarations for query rewrite.">
      <meta name="description" content="DBMS_ADVANCED_REWRITE contains interfaces for advanced query rewrite users. Using this package, you can create, drop, and maintain functional equivalence declarations for query rewrite.">
      <title>DBMS_ADVANCED_REWRITE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="DBMS_ADVANCED_REWRITE contains interfaces for advanced query rewrite users. Using this package, you can create, drop, and maintain functional equivalence declarations for query rewrite.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_ADDM.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_ADVISOR.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_ADDM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_ADVISOR.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_ADVANCED_REWRITE</li>
            </ol>
            <a id="GUID-77CBA65E-FEC9-4E87-8846-CA1A7D065878" name="GUID-77CBA65E-FEC9-4E87-8846-CA1A7D065878"></a><a id="ARPLS083"></a><a id="ARPLS083"></a>
            
            <h2 id="ARPLS-GUID-77CBA65E-FEC9-4E87-8846-CA1A7D065878" class="sect2"><span class="enumeration_chapter">15 </span>DBMS_ADVANCED_REWRITE
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_ADVANCED_REWRITE</code> contains interfaces for advanced query rewrite users. Using this package, you can create, drop, and maintain functional equivalence declarations for query rewrite.
               </p>
               <div class="infoboxnotealso" id="GUID-77CBA65E-FEC9-4E87-8846-CA1A7D065878__GUID-837C02F8-CAF4-45FB-B2A8-169E46FC37DE">
                  <p class="notep1">See Also:</p>
                  <p><a href="../dwhsg/advanced-query-rewrite-materialized-views.html#DWHSG-GUID-0906CA6B-7EE3-42E1-A598-C6541BCD9B36" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide </span></a>for more information about query rewrite
                  </p>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-31103C48-5C1E-4C87-A1D0-D787D3543869" title="Default privileges are not granted to anyone for access to DBMS_ADVANCED_REWRITE Security Model procedures. To gain access to these procedures, you must connect as SYSDBA and explicitly grant execute access to the desired database administrators.">DBMS_ADVANCED_REWRITE Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-6848720F-88FD-489B-B646-38CCFFF63583" title="This table lists the DBMS_ADVANCED_REWRITE subprograms and briefly describes them.">Summary of DBMS_ADVANCED_REWRITE Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS65070"></a><a id="ARPLS65070"></a><div class="props_rev_3"><a id="GUID-31103C48-5C1E-4C87-A1D0-D787D3543869" name="GUID-31103C48-5C1E-4C87-A1D0-D787D3543869"></a><h3 id="ARPLS-GUID-31103C48-5C1E-4C87-A1D0-D787D3543869" class="sect3"><span class="enumeration_section">15.1 </span>DBMS_ADVANCED_REWRITE Security Model
               </h3>
               <div>
                  <p>Default privileges are not granted to anyone for access to DBMS_ADVANCED_REWRITE Security Model procedures. To gain access to these procedures, you must connect as <code class="codeph">SYSDBA</code> and explicitly grant execute access to the desired database administrators.
                  </p>
                  <div class="section">
                     <p>You can control security on this package by granting the <code class="codeph">EXECUTE</code> privilege to selected database administrators or roles. For example, the user <code class="codeph">er</code> can be given access to use this package by the following statement, executed as <code class="codeph">SYSDBA</code>:
                     </p><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON DBMS_ADVANCED_REWRITE TO er;
</pre><p>You may want to write a separate cover package on top of this package for restricting the alert names used. Instead of granting the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_ADVANCED_REWRITE</code> package directly, you can then grant it to the cover package.
                     </p>
                     <p>In addition, similar to the privilege required for regular materialized views, the user should be granted the privilege to create an equivalence. For example, the user <code class="codeph">er</code> can be granted this privilege by executing the following statement as <code class="codeph">SYSDBA</code>:
                     </p><pre class="oac_no_warn" dir="ltr">GRANT CREATE MATERIALIZED VIEW TO er;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65071"></a><a id="ARPLS65072"></a><a id="ARPLS65072"></a><a id="ARPLS65071"></a><div class="props_rev_3"><a id="GUID-6848720F-88FD-489B-B646-38CCFFF63583" name="GUID-6848720F-88FD-489B-B646-38CCFFF63583"></a><h3 id="ARPLS-GUID-6848720F-88FD-489B-B646-38CCFFF63583" class="sect3"><span class="enumeration_section">15.2 </span>Summary of DBMS_ADVANCED_REWRITE Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_ADVANCED_REWRITE</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-6848720F-88FD-489B-B646-38CCFFF63583__GUID-579B60AF-7F71-4539-AEEE-FD909A6E31A4">
                     <p class="titleintable">Table 15-1 DBMS_ADVANCED_REWRITE Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ADVANCED_REWRITE Package Subprograms" summary="This table lists the DBMS_ADVANCED_REWRITE subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d62846e340">Subprogram</th>
                              <th align="left" valign="bottom" id="d62846e343">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d62846e348" headers="d62846e340 ">
                                 <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-5B903580-AB1C-4682-991A-03BFE9A93937" title="This table list the all the package subprograms in alphabetical order.">ALTER_REWRITE_EQUIVALENCE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" headers="d62846e348 d62846e343 ">
                                 <p>Changes the mode of the rewrite equivalence declaration to the mode you specify</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d62846e360" headers="d62846e340 ">
                                 <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-09DC862D-A483-4BC0-ACB7-C0BF50A38196" title="This procedure enables the rewrite and refresh of top-level materialized views using submaterialized views. It is provided for the exclusive use by scripts generated by the DBMS_ADVISOR.TUNE_MVIEW procedure.">BUILD_SAFE_REWRITE_EQUIVALENCE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" headers="d62846e360 d62846e343 ">
                                 <p>Enables the rewrite of top-level materialized views using submaterialized views. Oracle Corporation does not recommend you directly use this procedure</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d62846e375" headers="d62846e340 ">
                                 <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE" title="This procedure creates a declaration indicating that source_stmt is functionally equivalent to destination_stmt for as long as the equivalence declaration remains enabled, and that destination_stmt is more favorable in terms of performance.">DECLARE_REWRITE_EQUIVALENCE Procedures</a></p>
                              </td>
                              <td align="left" valign="top" headers="d62846e375 d62846e343 ">
                                 <p>Creates a declaration indicating that <code class="codeph">source_stmt</code> is functionally equivalent to <code class="codeph">destination_stmt</code> for as long as the equivalence declaration remains enabled, and that <code class="codeph">destination_stmt</code> is more favorable in terms of performance
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d62846e405" headers="d62846e340 ">
                                 <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5" title="This procedure drops the specified rewrite equivalence declaration.">DROP_REWRITE_EQUIVALENCE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" headers="d62846e405 d62846e343 ">
                                 <p>Drops the specified rewrite equivalence declaration</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d62846e417" headers="d62846e340 ">
                                 <p><a href="DBMS_ADVANCED_REWRITE.html#GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF" title="This procedure validates the specified rewrite equivalence declaration.">VALIDATE_REWRITE_EQUIVALENCE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" headers="d62846e417 d62846e343 ">
                                 <p>Validates the specified rewrite equivalence declaration using the same validation method as described with the <code class="codeph">validate</code> parameter
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS65073"></a><a id="ARPLS65074"></a><a id="ARPLS65074"></a><a id="ARPLS65073"></a><div class="props_rev_3"><a id="GUID-5B903580-AB1C-4682-991A-03BFE9A93937" name="GUID-5B903580-AB1C-4682-991A-03BFE9A93937"></a><h4 id="ARPLS-GUID-5B903580-AB1C-4682-991A-03BFE9A93937" class="sect4"><span class="enumeration_section">15.2.1 </span>ALTER_REWRITE_EQUIVALENCE Procedure
                  </h4>
                  <div>
                     <p>This table list the all the package subprograms in alphabetical order.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5B903580-AB1C-4682-991A-03BFE9A93937__GUID-066E519D-E7A8-4095-B890-629153F3B399">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_ADVANCED_REWRITE.ALTER_REWRITE_EQUIVALENCE (
   name            VARCHAR2,
   rewrite_mode    VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5B903580-AB1C-4682-991A-03BFE9A93937__GUID-6D48150F-E644-425F-BE84-B8E8FBDD8963">Parameters</p>
                        <div class="tblformal" id="GUID-5B903580-AB1C-4682-991A-03BFE9A93937__GUID-3A677697-9C83-4C02-83C6-093515B1864E">
                           <p class="titleintable">Table 15-2 ALTER_REWRITE_EQUIVALENCE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_REWRITE_EQUIVALENCE Procedure Parameters" summary="This table describes the parameters for DBMS_ADVANCED_REWRITE.ALTER_REWRITE_EQUIVALENCE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d62846e541">Parameter</th>
                                    <th align="left" valign="bottom" id="d62846e544">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e549" headers="d62846e541 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e549 d62846e544 ">
                                       <p>A name for the equivalence declaration to alter. The name can be of the form <code class="codeph">owner.name</code>, where <code class="codeph">owner</code> complies with the rules for a schema name, and <code class="codeph">name</code> compiles with the rules for a table name. Alternatively, a simple name that complies with the rules for a table name can be specified. In this case, the rewrite equivalence is altered in the current schema. The invoker must have the appropriate alter materialized view privileges to alter an equivalence declaration outside their own schema.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e566" headers="d62846e541 ">
                                       <p><code class="codeph">rewrite_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e566 d62846e544 ">
                                       <p>The following modes are supported, in increasing order of power:</p>
                                       <p><code class="codeph">disabled</code>: Query rewrite does not use the equivalence declaration. Use this mode to temporarily disable use of the rewrite equivalence declaration.
                                       </p>
                                       <p><code class="codeph">text_match</code>: Query rewrite uses the equivalence declaration only in its text match modes. This mode is useful for simple transformations.
                                       </p>
                                       <p><code class="codeph">general</code>: Query rewrite uses the equivalence declaration in all of its transformation modes against the incoming request queries. However, query rewrite makes no attempt to rewrite the specified <code class="codeph">destination_query</code>.
                                       </p>
                                       <p><code class="codeph">recursive</code>: Query rewrite uses the equivalence declaration in all of its transformation modes against the incoming request queries. Moreover, query rewrite further attempts to rewrite the specified <code class="codeph">destination_query</code> for further performance enhancements whenever it uses the equivalence declaration.
                                       </p>
                                       <p>Oracle recommends you use the least powerful mode that is sufficient to solve your performance problem.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65075"></a><a id="ARPLS65075"></a><div class="props_rev_3"><a id="GUID-09DC862D-A483-4BC0-ACB7-C0BF50A38196" name="GUID-09DC862D-A483-4BC0-ACB7-C0BF50A38196"></a><h4 id="ARPLS-GUID-09DC862D-A483-4BC0-ACB7-C0BF50A38196" class="sect4"><span class="enumeration_section">15.2.2 </span>BUILD_SAFE_REWRITE_EQUIVALENCE Procedure
                  </h4>
                  <div>
                     <p>This procedure enables the rewrite and refresh of top-level materialized views using submaterialized views. It is provided for the exclusive use by scripts generated by the <code class="codeph">DBMS_ADVISOR.TUNE_MVIEW</code> procedure.
                     </p>
                     <div class="section">
                        <p> It is required to enable query rewrite and fast refresh when <code class="codeph">DBMS_ADVISOR.TUNE_MVIEW</code> decomposes a materialized view into a top-level materialized view and one or more submaterialized views.
                        </p>
                        <p>Oracle does not recommend you directly use the <code class="codeph">BUILD_SAFE_REWRITE_EQUIVALENCE</code> procedure. You should use either the <code class="codeph">DBMS_ADVISOR.TUNE_MVIEW</code> or the <code class="codeph">DBMS_ADVANCED_REWRITE.CREATE_REWRITE_EQUIVALENCE</code> procedure as appropriate.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65076"></a><a id="ARPLS65077"></a><a id="ARPLS65078"></a><a id="ARPLS65077"></a><a id="ARPLS65078"></a><a id="ARPLS65076"></a><div class="props_rev_3"><a id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE" name="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE"></a><h4 id="ARPLS-GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE" class="sect4"><span class="enumeration_section">15.2.3 </span>DECLARE_REWRITE_EQUIVALENCE Procedures
                  </h4>
                  <div>
                     <p>This procedure creates a declaration indicating that <code class="codeph">source_stmt</code> is functionally equivalent to <code class="codeph">destination_stmt</code> for as long as the equivalence declaration remains enabled, and that <code class="codeph">destination_stmt</code> is more favorable in terms of performance. 
                     </p>
                     <div class="section">
                        <p>The scope of the declaration is system wide. The query rewrite engine uses such declarations to perform rewrite transformations in <code class="codeph">QUERY_REWRITE_INTEGRITY = trusted</code> and <code class="codeph">stale_tolerated</code> modes.
                        </p>
                        <p>Because the underlying equivalences between the source and destination statements cannot be enforced by the query rewrite engine, queries can be only rewritten in <code class="codeph">trusted</code> and <code class="codeph">stale_tolerated</code> integrity modes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-0BAD37E2-4C57-41BF-B28C-2C70D9CD148B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_ADVANCED_REWRITE.DECLARE_REWRITE_EQUIVALENCE (
   name                 VARCHAR2,
   source_stmt          VARCHAR2,
   destination_stmt     VARCHAR2,
   validate             BOOLEAN    := TRUE,
   rewrite_mode         VARCHAR2   := 'TEXT_MATCH');

DBMS_ADVANCED_REWRITE.DECLARE_REWRITE_EQUIVALENCE (
   name                 VARCHAR2,
   source_stmt          CLOB,
   destination_stmt     CLOB,
   validate             BOOLEAN   := TRUE,
   rewrite_mode         VARCHAR2  := 'TEXT_MATCH');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-8A3E02A3-DA7A-491D-B701-9BE5057D4DB9">Parameters</p>
                        <div class="tblformal" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-818C902D-C1AE-445A-B02C-AC92C5D60C1D">
                           <p class="titleintable">Table 15-3 DECLARE_REWRITE_EQUIVALENCE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DECLARE_REWRITE_EQUIVALENCE Procedure Parameters" summary="This table describes the parameters for DBMS_ADVANCED_REWRITE.DECLARE_REWRITE_EQUIVALENCE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d62846e846">Parameter</th>
                                    <th align="left" valign="bottom" id="d62846e849">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e854" headers="d62846e846 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e854 d62846e849 ">
                                       <p>A name for the equivalence declaration. The name can be of the form <code class="codeph">owner.name</code>, where owner complies with the rules for a schema name, and name compiles with the rules for a table name.
                                       </p>
                                       <p>Alternatively, a simple name that complies with the rules for a table name can be specified. In this case, the rewrite equivalence is created in the current schema. The invoker must have the appropriate <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> privileges to alter an equivalence declaration.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e876" headers="d62846e846 ">
                                       <p><code class="codeph">source_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e876 d62846e849 ">
                                       <p>A sub-<code class="codeph">SELECT</code> expression in either <code class="codeph">VARCHAR2</code> or <code class="codeph">CLOB</code> format. This is the query statement that is the target of optimization.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e893" headers="d62846e846 ">
                                       <p><code class="codeph">destination_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e893 d62846e849 ">
                                       <p>A sub-<code class="codeph">SELECT</code> expression in either <code class="codeph">VARCHAR2</code> or <code class="codeph">CLOB</code> format.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e910" headers="d62846e846 ">
                                       <p><code class="codeph">validate</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e910 d62846e849 ">
                                       <p>A Boolean indicating whether to validate that the specified <code class="codeph">source_stmt</code> is functionally equivalent to the specified <code class="codeph">destination_stmt</code>. If <code class="codeph">validate</code> is specified as <code class="codeph">TRUE</code>, <code class="codeph">DECLARE_REWRITE_EQUIVALENCE</code> evaluates the two sub-<code class="codeph">SELECT</code>s and compares their results. If the results are not the same, <code class="codeph">DECLARE_REWRITE_EQUIVALENCE</code> does not create the rewrite equivalence and returns an error condition. If <code class="codeph">FALSE</code>, <code class="codeph">DECLARE_REWRITE_EQUIVALENCE</code> does not validate the equivalence.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e946" headers="d62846e846 ">
                                       <p><code class="codeph">rewrite_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e946 d62846e849 ">
                                       <p>The following modes are supported, in increasing order of power:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">disabled</code>: Query rewrite does not use the equivalence declaration. Use this mode to temporarily disable use of the rewrite equivalence declaration.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">text_match</code>: Query rewrite uses the equivalence declaration only in its text match modes. This mode is useful for simple transformations.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">general</code>: Query rewrite uses the equivalence declaration in all of its transformation modes against the incoming request queries. However, query rewrite makes no attempt to rewrite the specified <code class="codeph">destination_query</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">recursive</code>: Query rewrite uses the equivalence declaration in all of its transformation modes against the incoming request queries. Moreover, query rewrite further attempts to rewrite the specified <code class="codeph">destination_query</code> for further performance enhancements whenever it uses the equivalence declaration.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Oracle recommends you use the least powerful mode that is sufficient to solve your performance problem.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-1D335F36-148A-4E03-A50B-C907A0D19440">Exceptions</p>
                        <div class="tblformal" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-2CD4CD2F-7C24-43DB-8AE0-CBC027C88C8C">
                           <p class="titleintable">Table 15-4 DECLARE_REWRITE_EQUIVALENCE Procedure Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DECLARE_REWRITE_EQUIVALENCE Procedure Exceptions" summary="This table defines the exceptions raised by the DBMS_ADVANCED_REWRITE.DECLARE_REWRITE_EQUIVALENCE subprogram" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d62846e995">Exception</th>
                                    <th align="left" valign="bottom" id="d62846e998">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1003" headers="d62846e995 ">
                                       <p><code class="codeph">ORA-30388</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1003 d62846e998 ">
                                       <p>Name of the rewrite equivalence is not specified</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1011" headers="d62846e995 ">
                                       <p><code class="codeph">ORA-30391</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1011 d62846e998 ">
                                       <p>The specified rewrite equivalence does not exist</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1019" headers="d62846e995 ">
                                       <p><code class="codeph">ORA-30392</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1019 d62846e998 ">
                                       <p>The checksum analysis for the rewrite equivalence failed</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1027" headers="d62846e995 ">
                                       <p><code class="codeph">ORA-30393</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1027 d62846e998 ">
                                       <p>A query block in the statement did not write</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1035" headers="d62846e995 ">
                                       <p><code class="codeph">ORA-30396</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1035 d62846e998 ">
                                       <p>Rewrite equivalence procedures require the <code class="codeph">COMPATIBLE</code> parameter to be set to 10.1 or greater
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CB2180E-0BE1-48C8-A3A5-9D4BCA879DAE__GUID-D96F89BC-4DCD-4CEB-AAAD-8B2FC2184C93">Usage Notes</p>
                        <p>Query rewrite using equivalence declarations occurs simultaneously and in concert with query rewrite using materialized views. The same query rewrite engine is used for both. The query rewrite engine uses the same rewrite rules to rewrite queries using both equivalence declarations and materialized views. Because the rewrite equivalence represents a specific rewrite crafted by a sophisticated user, the query rewrite engine gives priority to rewrite equivalences over materialized views when it is possible to perform a rewrite with either a materialized view or a rewrite equivalence. For this same reason, the cost-based optimizer (specifically, cost-based rewrite) will not choose an unrewritten query plan over a query plan that is rewritten to use a rewrite equivalence even if the cost of the un-rewritten plan appears more favorable. Query rewrite matches properties of the incoming request query against the equivalence declaration's <code class="codeph">source_stmt</code> or the materialized view's defining statement, respectively, and derives an equivalent relational expression in terms of the equivalence declaration's <code class="codeph">destination_stmt</code> or the materialized view's container table, respectively.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65079"></a><a id="ARPLS65080"></a><a id="ARPLS65080"></a><a id="ARPLS65079"></a><div class="props_rev_3"><a id="GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5" name="GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5"></a><h4 id="ARPLS-GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5" class="sect4"><span class="enumeration_section">15.2.4 </span>DROP_REWRITE_EQUIVALENCE Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the specified rewrite equivalence declaration.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5__GUID-42C8DA75-ACC4-4155-B052-50282221D769">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_ADVANCED_REWRITE.DROP_REWRITE_EQUIVALENCE (
   name        VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5__GUID-236DB3E2-8875-4935-B007-EAD5DBB9899E">Parameters</p>
                        <div class="tblformal" id="GUID-2F3B6578-7046-4105-81F8-21B73B4CDCF5__GUID-E069F516-83A9-4A0B-BA90-84972965C051">
                           <p class="titleintable">Table 15-5 DROP_REWRITE_EQUIVALENCE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_REWRITE_EQUIVALENCE Procedure Parameters" summary="This table describes the parameter of the DBMS_ADVANCED_REWRITE.DROP_REWRITE_EQUIVALENCE procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d62846e1166">Parameter</th>
                                    <th align="left" valign="bottom" id="d62846e1169">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1174" headers="d62846e1166 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1174 d62846e1169 ">
                                       <p>A name for the equivalence declaration to drop. The name can be of the form <code class="codeph">owner.name</code>, where owner complies with the rules for a schema name, and name compiles with the rules for a table name. Alternatively, a simple name that complies with the rules for a table name can be specified. In this case, the rewrite equivalence is dropped in the current schema. The invoker must have the appropriate drop materialized view privilege to drop an equivalence declaration outside their own schema.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65081"></a><a id="ARPLS65082"></a><a id="ARPLS65082"></a><a id="ARPLS65081"></a><div class="props_rev_3"><a id="GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF" name="GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF"></a><h4 id="ARPLS-GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF" class="sect4"><span class="enumeration_section">15.2.5 </span>VALIDATE_REWRITE_EQUIVALENCE Procedure
                  </h4>
                  <div>
                     <p>This procedure validates the specified rewrite equivalence declaration.</p>
                     <div class="section">
                        <p>It uses the same validation method as described with the <code class="codeph">VALIDATE</code> parameter in <span class="q">"<a href="DBMS_ADVANCED_REWRITE.html#GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF" title="This procedure validates the specified rewrite equivalence declaration.">VALIDATE_REWRITE_EQUIVALENCE Procedure</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF__GUID-F8420687-5F90-4C19-ABA7-37A6FC2D1D01">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_ADVANCED_REWRITE.VALIDATE_REWRITE_EQUIVALENCE (
   name         VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF__GUID-95BDF147-A908-400F-9331-E380DC100F91">Parameters</p>
                        <div class="tblformal" id="GUID-B744E94A-D634-4A74-8EF5-869CE4E916AF__GUID-2A97323A-C0B4-435B-94FB-ADDD3F36ABB9">
                           <p class="titleintable">Table 15-6 VALIDATE_REWRITE_EQUIVALENCE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="VALIDATE_REWRITE_EQUIVALENCE Procedure Parameters" summary="This table describes the parameters of DBMS_ADVANCED_REWRITE.VALIDATE_REWRITE_EQUIVALENCE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d62846e1309">Parameter</th>
                                    <th align="left" valign="bottom" id="d62846e1312">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d62846e1317" headers="d62846e1309 ">
                                       <p><code class="codeph">name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d62846e1317 d62846e1312 ">
                                       <p>A name for the equivalence declaration to validate. The name can be of the form owner.name, where owner complies with the rules for a schema name, and name compiles with the rules for a table name. Alternatively, a simple name that complies with the rules for a table name can be specified. In this case, the rewrite equivalence is validated in the current schema. The invoker must have sufficient privileges to execute both the <code class="codeph">source_stmt</code> and <code class="codeph">destination_stmt</code> of the specified equivalence declaration.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>