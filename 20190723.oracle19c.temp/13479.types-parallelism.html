<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="There are multiple types of parallelism.">
      <meta name="description" content="There are multiple types of parallelism.">
      <title>Types of Parallelism</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="VLDB and Partitioning Guide">
      <meta property="og:description" content="There are multiple types of parallelism.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="VLDB and Partitioning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00">
      <meta name="dcterms.title" content="VLDB and Partitioning Guide">
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96199-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="about-parallel-queuing.html" title="Previous" type="text/html">
      <link rel="next" href="parameters-parallel-exec.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="about-parallel-queuing.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="parameters-parallel-exec.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB and Partitioning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-parallel.html" property="item" typeof="WebPage"><span property="name">Using Parallel Execution</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Types of Parallelism</li>
            </ol>
            <a id="GUID-FCE748F1-0CDB-4D95-9849-6A062E653945" name="GUID-FCE748F1-0CDB-4D95-9849-6A062E653945"></a><a id="VLDBG0107"></a>
            
            <h2 id="VLDBG-GUID-FCE748F1-0CDB-4D95-9849-6A062E653945" class="sect2">Types of Parallelism</h2>
         </header>
         <div class="ind">
            <div>
               <p>There are multiple types of parallelism.</p>
               <p>This section discusses the types of parallelism in the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="types-parallelism.html#GUID-D48BFF12-4630-444F-B165-1C8E019D2656" title="You can use parallel queries and parallel subqueries in SELECT statements and execute in parallel the query portions of DDL statements and DML statements (INSERT, UPDATE, and DELETE).">About Parallel Queries</a></p>
                  </li>
                  <li>
                     <p><a href="types-parallelism.html#GUID-41774038-773B-40A5-BDCD-AB16A189C035" title="Parallelism for DDL statements is introduced in this topic.">About Parallel DDL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="types-parallelism.html#GUID-1D5C8D6C-0A0E-4CDB-8B32-16EC3C856ACC" title="Parallel DML operations are introduced in the topic.">About Parallel DML Operations</a></p>
                  </li>
                  <li>
                     <p><a href="types-parallelism.html#GUID-E8E35EE2-C719-4122-AEA2-1E7D15147439" title="SQL statements can contain user-defined functions written in PL/SQL, in Java, or as external procedures in C that can appear as part of the SELECT list, SET clause, or WHERE clause.">About Parallel Execution of Functions</a></p>
                  </li>
                  <li>
                     <p><a href="types-parallelism.html#GUID-4CA27F66-296B-498C-BA41-B6C6583F1E85" title="An Oracle Database can use parallelism in multiple types of operations.">About Other Types of Parallelism</a></p>
                  </li>
                  <li>
                     <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a></p>
                  </li>
               </ul>
            </div><a id="VLDBG1403"></a><div class="props_rev_3"><a id="GUID-D48BFF12-4630-444F-B165-1C8E019D2656" name="GUID-D48BFF12-4630-444F-B165-1C8E019D2656"></a><h3 id="VLDBG-GUID-D48BFF12-4630-444F-B165-1C8E019D2656" class="sect3">About Parallel Queries</h3>
               <div>
                  <p>You can use parallel queries and parallel subqueries in <code class="codeph">SELECT</code> statements and execute in parallel the query portions of DDL statements and DML statements (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code>).
                  </p>
                  <p>You can also query external tables in parallel.</p>
                  <p>The parallelization decision for SQL queries has two components: the decision to parallelize and the degree of parallelism (DOP). These components are determined differently for queries, DDL operations, and DML operations. To determine the DOP, Oracle Database looks at the reference objects:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Parallel query looks at each table and index, in the portion of the query to be executed in parallel, to determine which is the reference table. The basic rule is to pick the table or index with the largest DOP.</p>
                     </li>
                     <li>
                        <p>For parallel DML (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code>), the reference object that determines the DOP is the table being modified by an insert, update, or delete operation. Parallel DML also adds some limits to the DOP to prevent deadlock. If the parallel DML statement includes a subquery, the subquery's DOP is equivalent to that for the DML operation.
                        </p>
                     </li>
                     <li>
                        <p>For parallel DDL, the reference object that determines the DOP is the table, index, or partition being created, rebuilt, split, or moved. If the parallel DDL statement includes a subquery, the subquery's DOP is equivalent to the DDL operation.</p>
                     </li>
                  </ul>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="types-parallelism.html#GUID-A36C5B68-A4ED-44F4-A6E0-E906E4280AEB" title="There are several parallel scan methods that are supported on index-organized tables.">Parallel Queries on Index-Organized Tables</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-022729FC-67A8-49F6-8D4A-9144B55A62D0" title="Parallel query on a nonpartitioned index-organized table uses parallel fast full scan.">Nonpartitioned Index-Organized Tables</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-E7921774-F550-4E85-8349-D85C40EDB6AB" title="Both index range scan and fast full scan can be performed in parallel.">Partitioned Index-Organized Tables</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-80117C32-A2A0-477B-B609-E2EA4D7598AA" title="Parallel queries can be performed on object type tables and tables containing object type columns.">Parallel Queries on Object Types</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" title="A SQL query can only be executed in parallel under certain conditions.">Rules for Parallelizing Queries</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D48BFF12-4630-444F-B165-1C8E019D2656__GUID-EC437C87-72E2-4556-A1C7-0F0657361BE6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="parallel-exec-intro.html#GUID-1DF2B82C-DD29-4500-B0B4-F296F1AC6240" title="Each SQL statement undergoes an optimization and parallelization process when it is parsed.">Parallel Execution of SQL Statements</a> for an explanation of how the processes perform parallel queries
                           </p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-09FC59FF-9F63-453C-86D3-6D171022314A" title="The distributed transaction restrictions are discussed in this topic.">Distributed Transaction Restrictions</a> for examples of queries that reference a remote object
                           </p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" title="A SQL query can only be executed in parallel under certain conditions.">Rules for Parallelizing Queries</a> for information about the conditions for executing a query in parallel and the factors that determine the DOP
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG1404"></a><div class="props_rev_3"><a id="GUID-A36C5B68-A4ED-44F4-A6E0-E906E4280AEB" name="GUID-A36C5B68-A4ED-44F4-A6E0-E906E4280AEB"></a><h4 id="VLDBG-GUID-A36C5B68-A4ED-44F4-A6E0-E906E4280AEB" class="sect4">Parallel Queries on Index-Organized Tables</h4>
                  <div>
                     <p>There are several parallel scan methods that are supported on index-organized tables.</p>
                     <p>These parallel scan methods include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Parallel fast full scan of a nonpartitioned index-organized table</p>
                        </li>
                        <li>
                           <p>Parallel fast full scan of a partitioned index-organized table</p>
                        </li>
                        <li>
                           <p>Parallel index range scan of a partitioned index-organized table</p>
                        </li>
                     </ul>
                     <p>You can use these scan methods for index-organized tables with overflow areas and for index-organized tables that contain LOBs.</p>
                  </div>
               </div><a id="VLDBG1405"></a><div class="props_rev_3"><a id="GUID-022729FC-67A8-49F6-8D4A-9144B55A62D0" name="GUID-022729FC-67A8-49F6-8D4A-9144B55A62D0"></a><h4 id="VLDBG-GUID-022729FC-67A8-49F6-8D4A-9144B55A62D0" class="sect4">Nonpartitioned Index-Organized Tables</h4>
                  <div>
                     <p>Parallel query on a nonpartitioned index-organized table uses parallel fast full scan.</p>
                     <p>Work is allocated by dividing the index segment into a sufficiently large number of block ranges and then assigning the block ranges to parallel execution servers in a demand-driven manner. The overflow blocks corresponding to any row are accessed in a demand-driven manner only by the process, which owns that row.</p>
                  </div>
               </div><a id="VLDBG1406"></a><div class="props_rev_3"><a id="GUID-E7921774-F550-4E85-8349-D85C40EDB6AB" name="GUID-E7921774-F550-4E85-8349-D85C40EDB6AB"></a><h4 id="VLDBG-GUID-E7921774-F550-4E85-8349-D85C40EDB6AB" class="sect4">Partitioned Index-Organized Tables</h4>
                  <div>
                     <p>Both index range scan and fast full scan can be performed in parallel.</p>
                     <p>For parallel fast full scan, parallelization is the same as for nonpartitioned index-organized tables. Depending on the DOP, each parallel execution server gets one or more partitions, each of which contains the primary key index segment and the associated overflow segment, if any.</p>
                  </div>
               </div><a id="VLDBG1407"></a><div class="props_rev_3"><a id="GUID-80117C32-A2A0-477B-B609-E2EA4D7598AA" name="GUID-80117C32-A2A0-477B-B609-E2EA4D7598AA"></a><h4 id="VLDBG-GUID-80117C32-A2A0-477B-B609-E2EA4D7598AA" class="sect4">Parallel Queries on Object Types</h4>
                  <div>
                     <p>Parallel queries can be performed on object type tables and tables containing object type columns. </p>
                     <p>Parallel query for object types supports all of the features that are available for sequential queries on object types, including:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Methods on object types</p>
                        </li>
                        <li>
                           <p>Attribute access of object types</p>
                        </li>
                        <li>
                           <p>Constructors to create object type instances</p>
                        </li>
                        <li>
                           <p>Object views</p>
                        </li>
                        <li>
                           <p>PL/SQL and Oracle Call Interface (OCI) queries for object types</p>
                        </li>
                     </ul>
                     <p>There are no limitations on the size of the object types for parallel queries.</p>
                     <p>The following restrictions apply to using parallel query for object types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <code class="codeph">MAP</code> function is needed to execute queries in parallel for queries involving joins and sorts (through <code class="codeph">ORDER</code> <code class="codeph">BY</code>, <code class="codeph">GROUP</code> <code class="codeph">BY</code>, or set operations). Without a <code class="codeph">MAP</code> function, the query is automatically executed serially.
                           </p>
                        </li>
                        <li>
                           <p>Parallel DML and parallel DDL are not supported with object types, and such statements are always performed serially.</p>
                        </li>
                     </ul>
                     <p>In all cases where the query cannot execute in parallel because of any of these restrictions, the whole query executes serially without giving an error message.</p>
                  </div>
               </div><a id="VLDBG1408"></a><div class="props_rev_3"><a id="GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" name="GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C"></a><h4 id="VLDBG-GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" class="sect4">Rules for Parallelizing Queries</h4>
                  <div>
                     <p>A SQL query can only be executed in parallel under certain conditions.</p>
                     <p>A <code class="codeph">SELECT</code> statement can be executed in parallel only if one of the following conditions is satisfied:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The query includes a statement level or object level parallel hint specification (<code class="codeph">PARALLEL</code> or <code class="codeph">PARALLEL_INDEX</code>).
                           </p>
                        </li>
                        <li>
                           <p>The schema objects referred to in the query have a <code class="codeph">PARALLEL</code> declaration associated with them.
                           </p>
                        </li>
                        <li>
                           <p>Automatic Degree of Parallelism (Auto DOP) has been enabled.</p>
                        </li>
                        <li>
                           <p>Parallel query is forced  using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p>In addition, the execution plan should have at least one of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A full table scan</p>
                        </li>
                        <li>
                           <p>An index range scan spanning multiple partitions</p>
                        </li>
                        <li>
                           <p>An index fast full scan</p>
                        </li>
                        <li>
                           <p>A parallel table function</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C__ORACLEDATABASESQLLANGUAGEREFERENCEF-F0C96782">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="degree-parallel.html#GUID-76AC9190-43AC-4529-89AD-1BDA95C6DFBD" title="Automatic Degree of Parallelism (Auto DOP) enables Oracle Database to automatically decide if a statement should execute in parallel and what DOP it should use.">Automatic Degree of Parallelism</a>for information about Auto DOP
                              </p>
                           </li>
                           <li>
                              <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a> for information about the rules for determining the degree of parallelism (DOP)
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF00901" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> SQL statement
                              </p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
            </div><a id="VLDBG1411"></a><div class="props_rev_3"><a id="GUID-41774038-773B-40A5-BDCD-AB16A189C035" name="GUID-41774038-773B-40A5-BDCD-AB16A189C035"></a><h3 id="VLDBG-GUID-41774038-773B-40A5-BDCD-AB16A189C035" class="sect3">About Parallel DDL Statements</h3>
               <div>
                  <p>Parallelism for DDL statements is introduced in this topic.</p>
                  <p>This section about parallelism for DDL statements contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="types-parallelism.html#GUID-365F1095-6434-44E2-AE16-F2777EDC82F1" title="You can execute DDL statements in parallel for tables and indexes that are nonpartitioned or partitioned.">DDL Statements That Can Be Parallelized</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7" title="Parallel execution enables you execute the query in parallel and create operations of creating a table as a subquery from another table or set of tables.">About Using CREATE TABLE AS SELECT in Parallel</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-6F71DFCF-9449-4910-8ADF-35A2821E42D1" title="Parallel DDL is often used to create summary tables or do massive data loads that are standalone transactions, which do not always need to be recoverable.">Recoverability and Parallel DDL</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-F002024A-0EA9-4526-900E-02815077E8C9" title="Creating a table or index in parallel has space management implications.">Space Management for Parallel DDL</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-603ABE50-6C5E-4B77-B49F-6846B2351FA4" title="When creating a table or index in parallel, each parallel execution server uses the values in the STORAGE clause of the CREATE statement to create temporary segments to store the rows.">Storage Space When Using Dictionary-Managed Tablespaces</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794" title="When you create indexes and tables in parallel, each parallel execution server allocates a new extent and fills the extent with the table or index data.">Free Space and Parallel DDL</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" title="DDL operations can be executed in parallel under certain conditions.">Rules for DDL Statements</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" title="The CREATE operation of the CREATE TABLE AS SELECT statement is parallelized based on the rules for parallelizing DDL statements.">Rules for CREATE TABLE AS SELECT</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1412"></a><div class="props_rev_3"><a id="GUID-365F1095-6434-44E2-AE16-F2777EDC82F1" name="GUID-365F1095-6434-44E2-AE16-F2777EDC82F1"></a><h4 id="VLDBG-GUID-365F1095-6434-44E2-AE16-F2777EDC82F1" class="sect4">DDL Statements That Can Be Parallelized</h4>
                  <div>
                     <p>You can execute DDL statements in parallel for tables and indexes that are nonpartitioned or partitioned.</p>
                     <p>The parallel DDL statements for nonpartitioned tables and indexes are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code></p>
                        </li>
                     </ul>
                     <p>The parallel DDL statements for partitioned tables and indexes are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> {<code class="codeph">MOVE|SPLIT|COALESCE}</code> <code class="codeph">PARTITION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code> {<code class="codeph">REBUILD|SPLIT</code>} <code class="codeph">PARTITION</code></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>This statement can be executed in parallel only if the (global) index partition being split is usable.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>All of these DDL operations can be performed in <code class="codeph">NOLOGGING</code> mode for either parallel or serial execution.
                     </p>
                     <p><code class="codeph">The CREATE</code> <code class="codeph">TABLE</code> statement for an index-organized table can be executed in parallel either with or without an <code class="codeph">AS</code> <code class="codeph">SELECT</code> clause.
                     </p>
                     <p>Parallel DDL cannot occur on tables with object columns. Parallel DDL cannot occur on nonpartitioned tables with <code class="codeph">LOB</code> columns.
                     </p>
                  </div>
               </div><a id="VLDBG1414"></a><a id="VLDBG1413"></a><div class="props_rev_3"><a id="GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7" name="GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7"></a><h4 id="VLDBG-GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7" class="sect4">About Using CREATE TABLE AS SELECT in Parallel</h4>
                  <div>
                     <p>Parallel execution enables you execute the query in parallel and create operations of creating a table as a subquery from another table or set of tables. </p>
                     <p>This parallel functionality can be extremely useful in the creation of summary or rollup tables.</p>
                     <p>Note that clustered tables cannot be created and populated in parallel.</p>
                     <p><a href="types-parallelism.html#GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7__I1006622">Figure 8-4</a> illustrates creating a summary table from a subquery in parallel.
                     </p>
                     <div class="figure" id="GUID-7E3B7D97-3AF2-4A5D-8C48-64AD35FD55D7__I1006622">
                        <p class="titleinfigure">Figure 8-4 Creating a Summary Table in Parallel</p><img src="img/vldbg012.gif" width="600" alt="Description of Figure 8-4 follows" title="Description of Figure 8-4 follows" longdesc="img_text/vldbg012.html"><br><a href="img_text/vldbg012.html">Description of "Figure 8-4 Creating a Summary Table in Parallel"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="VLDBG1415"></a><div class="props_rev_3"><a id="GUID-6F71DFCF-9449-4910-8ADF-35A2821E42D1" name="GUID-6F71DFCF-9449-4910-8ADF-35A2821E42D1"></a><h4 id="VLDBG-GUID-6F71DFCF-9449-4910-8ADF-35A2821E42D1" class="sect4">Recoverability and Parallel DDL</h4>
                  <div>
                     <p>Parallel DDL is often used to create summary tables or do massive data loads that are standalone transactions, which do not always need to be recoverable. </p>
                     <p>By switching off Oracle Database logging, no undo or redo log is generated, so the parallel DML operation is likely to perform better, but becomes an <span class="italic">all</span> <span class="italic">or</span> <span class="italic">nothing</span> operation. In other words, if the operation fails, for whatever reason, you must redo the operation, it is not possible to restart it.
                     </p>
                     <p>If you disable logging during parallel table creation (or any other parallel DDL operation), you should back up the tablespace containing the table after the table is created to avoid loss of the table due to media failure. </p>
                     <p>Use the <code class="codeph">NOLOGGING</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>, <code class="codeph">CREATE</code> <code class="codeph">INDEX</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, and <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statements to disable undo and redo log generation.
                     </p>
                  </div>
               </div><a id="VLDBG1416"></a><div class="props_rev_3"><a id="GUID-F002024A-0EA9-4526-900E-02815077E8C9" name="GUID-F002024A-0EA9-4526-900E-02815077E8C9"></a><h4 id="VLDBG-GUID-F002024A-0EA9-4526-900E-02815077E8C9" class="sect4">Space Management for Parallel DDL</h4>
                  <div>
                     <p>Creating a table or index in parallel has space management implications.</p>
                     <p>These space management implications affect both the storage space required during a parallel operation and the free space available after a table or index has been created.</p>
                  </div>
               </div><a id="VLDBG1417"></a><div class="props_rev_3"><a id="GUID-603ABE50-6C5E-4B77-B49F-6846B2351FA4" name="GUID-603ABE50-6C5E-4B77-B49F-6846B2351FA4"></a><h4 id="VLDBG-GUID-603ABE50-6C5E-4B77-B49F-6846B2351FA4" class="sect4">Storage Space When Using Dictionary-Managed Tablespaces</h4>
                  <div>
                     <p>When creating a table or index in parallel, each parallel execution server uses the values in the <code class="codeph">STORAGE</code> clause of the <code class="codeph">CREATE</code> statement to create temporary segments to store the rows.
                     </p>
                     <p>A table created with a <code class="codeph">NEXT</code> setting of 4 MB and a <code class="codeph">PARALLEL</code> <code class="codeph">DEGREE</code> of 16 consumes at least 64 megabytes (MB) of storage during table creation because each parallel server process starts with an extent of 4 MB. When the parallel execution coordinator combines the segments, some segments may be trimmed, and the resulting table may be smaller than the requested 64 MB.
                     </p>
                  </div>
               </div><a id="VLDBG1419"></a><a id="VLDBG1418"></a><div class="props_rev_3"><a id="GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794" name="GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794"></a><h4 id="VLDBG-GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794" class="sect4">Free Space and Parallel DDL</h4>
                  <div>
                     <p>When you create indexes and tables in parallel, each parallel execution server allocates a new extent and fills the extent with the table or index data. </p>
                     <p>For example, if you create an index with a DOP of 4, then the index has at least four extents initially. This allocation of extents is the same for rebuilding indexes in parallel and for moving, splitting, or rebuilding partitions in parallel.</p>
                     <p>Serial operations require the schema object to have at least one extent. Parallel creations require that tables or indexes have at least as many extents as there are parallel execution servers creating the schema object.</p>
                     <p>When you create a table or index in parallel, it is possible to create areas of free space. This occurs when the temporary segments used by the parallel execution servers are larger than what is needed to store the rows.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the unused space in each temporary segment is larger than the value of the <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code> parameter set at the tablespace level, then Oracle Database trims the unused space when merging rows from all of the temporary segments into the table or index. The unused space is returned to the system free space and can be allocated for new extents, but it cannot be coalesced into a larger segment because it is not contiguous space (external fragmentation).
                           </p>
                        </li>
                        <li>
                           <p>If the unused space in each temporary segment is smaller than the value of the <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code> parameter, then unused space cannot be trimmed when the rows in the temporary segments are merged. This unused space is not returned to the system free space; it becomes part of the table or index (internal fragmentation) and is available only for subsequent insertions or for updates that require additional space.
                           </p>
                        </li>
                     </ul>
                     <p>For example, if you specify a DOP of 3 for a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement, but there is only one data file in the tablespace, then internal fragmentation may occur, as shown in <a href="types-parallelism.html#GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794__I1006705">Figure 8-5</a>. The areas of free space within the internal table extents of a data file cannot be coalesced with other free space and cannot be allocated as extents.
                     </p>
                     <div class="figure" id="GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794__I1006705">
                        <p class="titleinfigure">Figure 8-5 Unusable Free Space (Internal Fragmentation)</p><img src="img/vldbg014.gif" width="600" alt="Description of Figure 8-5 follows" title="Description of Figure 8-5 follows" longdesc="img_text/vldbg014.html"><br><a href="img_text/vldbg014.html">Description of "Figure 8-5 Unusable Free Space (Internal Fragmentation)"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-AE168A32-CA8B-45A5-9D6C-08F1C2109794__GUID-F3C2FE7B-E947-46F3-8589-F9524A562EA3">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tgsql/introduction-to-sql-tuning.html#TGSQL112" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for more information about creating tables and indexes in parallel
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1420"></a><div class="props_rev_3"><a id="GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" name="GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400"></a><h4 id="VLDBG-GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" class="sect4">Rules for DDL Statements</h4>
                  <div>
                     <p>DDL operations can be executed in parallel under certain conditions.</p>
                     <p>DDL operations can be executed in parallel only if at least one of the following conditions is satisfied:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p></p>A <code class="codeph">PARALLEL</code> clause (declaration) is specified in the syntax. For <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>, <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> , <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code>, and <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> <code class="codeph">PARTITION</code>, the parallel declaration is stored in the data dictionary.
                        </li>
                        <li>
                           <p>Automatic Degree of Parallelism (Auto DOP) has been enabled.</p>
                        </li>
                        <li>
                           <p>Parallel DDL is forced using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p></p>
                     <div class="infoboxnotealso" id="GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400__ORACLEDATABASESQLLANGUAGEREFERENCEF-F0B2B02E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="degree-parallel.html#GUID-76AC9190-43AC-4529-89AD-1BDA95C6DFBD" title="Automatic Degree of Parallelism (Auto DOP) enables Oracle Database to automatically decide if a statement should execute in parallel and what DOP it should use.">Automatic Degree of Parallelism</a> for information about Auto DOP
                              </p>
                           </li>
                           <li>
                              <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a> for information about the rules for determining the degree of parallelism (DOP)
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF00901" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> SQL statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="VLDBG1426"></a><div class="props_rev_3"><a id="GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" name="GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD"></a><h4 id="VLDBG-GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" class="sect4">Rules for CREATE TABLE AS SELECT</h4>
                  <div>
                     <p>The <code class="codeph">CREATE</code> operation of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement is parallelized based on the rules for parallelizing DDL statements. 
                     </p>
                     <p>In addition, a statement level <code class="codeph">PARALLEL</code> hint specified in the <code class="codeph">SELECT</code> part of the statement can also parallelize the DDL operation. For  information about rules for parallelizing DDL statements, refer to <a href="types-parallelism.html#GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" title="DDL operations can be executed in parallel under certain conditions.">Rules for DDL Statements</a>.
                     </p>
                     <p>When the <code class="codeph">CREATE</code> operation of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> is parallelized, Oracle Database also parallelizes the scan operation if possible.
                     </p>
                     <p>Even if the DDL part is not parallelized, the <code class="codeph">SELECT</code> part can be parallelized based on the rules for parallelizing queries. 
                     </p>
                     <p>Automatic Degree of Parallelism (Auto DOP) parallelizes both the DDL and the query parts of the statement.</p>
                     <p>For information about the rules for determining the degree of parallelism (DOP), refer to <a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a>.
                     </p>
                  </div>
               </div>
            </div><a id="VLDBG1431"></a><div class="props_rev_3"><a id="GUID-1D5C8D6C-0A0E-4CDB-8B32-16EC3C856ACC" name="GUID-1D5C8D6C-0A0E-4CDB-8B32-16EC3C856ACC"></a><h3 id="VLDBG-GUID-1D5C8D6C-0A0E-4CDB-8B32-16EC3C856ACC" class="sect3">About Parallel DML Operations</h3>
               <div>
                  <p>Parallel DML operations are introduced in the topic.</p>
                  <p>Parallel DML (<code class="codeph">PARALLEL</code> <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code>) uses parallel execution mechanisms to speed up or scale up large DML operations against large database tables and indexes.
                  </p>
                  <div class="infoboxnote" id="GUID-1D5C8D6C-0A0E-4CDB-8B32-16EC3C856ACC__GUID-788E241A-A3DE-4037-8104-9E870FE72EE7">
                     <p class="notep1">Note:</p>
                     <p>Although DML generally includes queries, in this chapter the term DML refers only to <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code> operations.
                     </p>
                  </div>
                  <p>This section discusses the following parallel DML topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="types-parallelism.html#GUID-70849484-CCE9-4C2A-A2C8-9729700CAEC5" title="Parallel DML is useful in a decision support system (DSS) environment where the performance and scalability of accessing large objects are important. Parallel DML complements parallel query in providing you with both querying and updating capabilities for your DSS databases.">When to Use Parallel DML</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-5EB01FA8-030B-45BB-9B16-2D13881F6010" title="A DML statement can be parallelized only if you have explicitly enabled parallel DML in the session or in the SQL statement.">Enable Parallel DML Mode</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F" title="An update, merge, or delete operation is parallelized only under certain conditions.">Rules for UPDATE, MERGE, and DELETE</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-EB793246-B39F-444B-A2F0-7D101F016557" title="An insert operation is executed in parallel only under certain conditions.">Rules for INSERT SELECT</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-53B78D2C-FA4C-4CA1-AF28-91D5AE142859" title="To execute a DML operation in parallel, the parallel execution coordinator acquires parallel execution servers, and each parallel execution server executes a portion of the work under its own parallel process transaction.">Transaction Restrictions for Parallel DML</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-C61F3DE8-A6EF-4C2C-871A-EE62AA68B8CF" title="If you use rollback segments instead of Automatic Undo Management, there are some restrictions when using parallel DML.">Rollback Segments</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-8115A2BD-F68E-42BA-A7E0-4562D8FFA912" title="The time required to roll back a parallel DML operation is roughly equal to the time it takes to perform the forward operation.">Recovery for Parallel DML</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-F78A9A7A-4F6B-4384-A4EE-97D5D595157B" title="Parallel UPDATE uses the existing free space in the object, while direct-path INSERT gets new extents for the data.">Space Considerations for Parallel DML</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-6626C70C-876C-47A4-8C01-9B66574062D8" title="There are several restrictions that apply to parallel DM.">Restrictions on Parallel DML</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-CD387175-C782-4FE4-AAC7-D4FF94B30DA3" title="The interactions of integrity constraints and parallel DML statements are introduced in the topic.">Data Integrity Restrictions</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-DFF6F4B8-D8FB-40C3-A9D5-CBE7AC03B831" title="A DML operation is not executed in parallel if the affected tables contain enabled triggers that may get invoked as a result of the statement.">Trigger Restrictions</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-09FC59FF-9F63-453C-86D3-6D171022314A" title="The distributed transaction restrictions are discussed in this topic.">Distributed Transaction Restrictions</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-F3751631-4858-43FF-ACBB-B42307A43F0D" title="Several examples of distributed transaction processing are shown in this topic.">Examples of Distributed Transaction Parallelization</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433" title="Set operators like UNION or UNION ALL consist of multiple queries (branches) combined to a single SQL statement.">Concurrent Execution of Union All</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1432"></a><div class="props_rev_3"><a id="GUID-70849484-CCE9-4C2A-A2C8-9729700CAEC5" name="GUID-70849484-CCE9-4C2A-A2C8-9729700CAEC5"></a><h4 id="VLDBG-GUID-70849484-CCE9-4C2A-A2C8-9729700CAEC5" class="sect4">When to Use Parallel DML</h4>
                  <div>
                     <p>Parallel DML is useful in a decision support system (DSS) environment where the performance and scalability of accessing large objects are important. Parallel DML complements parallel query in providing you with both querying and updating capabilities for your DSS databases.</p>
                     <p>The overhead of setting up parallelism makes parallel DML operations not feasible for short OLTP transactions. However, parallel DML operations can speed up batch jobs running in an OLTP database.</p>
                     <p>Several scenarios where parallel DML is used include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="types-parallelism.html#GUID-18B2AF09-C548-48DE-A794-86224111549F" title="In a data warehouse system, large tables must be refreshed (updated) periodically with new or modified data from the production system.">Refreshing Tables in a Data Warehouse System</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-CD8CD670-F73A-4F83-8BB4-FF26866C0E27" title="In a DSS environment, many applications require complex computations that involve constructing and manipulating many large intermediate summary tables.">Creating Intermediate Summary Tables</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-E9C40F60-C7B5-47B8-8D71-ABA1062B3F34" title="Many DSS applications score customers periodically based on a set of criteria.">Using Scoring Tables</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-5196494D-E925-402C-AC78-F2AFE3F6FD58" title="Historical tables describe the business transactions of an enterprise over a recent time interval.">Updating Historical Tables</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-53E3F377-C8E5-434C-9DAB-E19D125F3DE3" title="Batch jobs executed in an OLTP database during off hours have a fixed time during which the jobs must complete. A good way to ensure timely job completion is to execute their operations in parallel.">Running Batch Jobs</a></p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1433"></a><div class="props_rev_3"><a id="GUID-18B2AF09-C548-48DE-A794-86224111549F" name="GUID-18B2AF09-C548-48DE-A794-86224111549F"></a><h5 id="VLDBG-GUID-18B2AF09-C548-48DE-A794-86224111549F" class="sect5">Refreshing Tables in a Data Warehouse System</h5>
                     <div>
                        <p>In a data warehouse system, large tables must be refreshed (updated) periodically with new or modified data from the production system. </p>
                        <p>You can do this efficiently by using the <code class="codeph">MERGE</code> statement.
                        </p>
                     </div>
                  </div><a id="VLDBG1434"></a><div class="props_rev_3"><a id="GUID-CD8CD670-F73A-4F83-8BB4-FF26866C0E27" name="GUID-CD8CD670-F73A-4F83-8BB4-FF26866C0E27"></a><h5 id="VLDBG-GUID-CD8CD670-F73A-4F83-8BB4-FF26866C0E27" class="sect5">Creating Intermediate Summary Tables</h5>
                     <div>
                        <p>In a DSS environment, many applications require complex computations that involve constructing and manipulating many large intermediate summary tables. </p>
                        <p>These summary tables are often temporary and frequently do not need to be logged. Parallel DML can speed up the operations against these large intermediate tables. One benefit is that you can put incremental results in the intermediate tables and perform parallel updates.</p>
                        <p>In addition, the summary tables may contain cumulative or comparative information which has to persist beyond application sessions; thus, temporary tables are not feasible. Parallel DML operations can speed up the changes to these large summary tables.</p>
                     </div>
                  </div><a id="VLDBG1435"></a><div class="props_rev_3"><a id="GUID-E9C40F60-C7B5-47B8-8D71-ABA1062B3F34" name="GUID-E9C40F60-C7B5-47B8-8D71-ABA1062B3F34"></a><h5 id="VLDBG-GUID-E9C40F60-C7B5-47B8-8D71-ABA1062B3F34" class="sect5">Using Scoring Tables</h5>
                     <div>
                        <p>Many DSS applications score customers periodically based on a set of criteria. </p>
                        <p>The scores are usually stored in large DSS tables. The score information is then used in making a decision, for example, inclusion in a mailing list.</p>
                        <p>This scoring activity queries and updates a large number of rows in the table. Parallel DML can speed up the operations against these large tables.</p>
                     </div>
                  </div><a id="VLDBG1436"></a><div class="props_rev_3"><a id="GUID-5196494D-E925-402C-AC78-F2AFE3F6FD58" name="GUID-5196494D-E925-402C-AC78-F2AFE3F6FD58"></a><h5 id="VLDBG-GUID-5196494D-E925-402C-AC78-F2AFE3F6FD58" class="sect5">Updating Historical Tables</h5>
                     <div>
                        <p>Historical tables describe the business transactions of an enterprise over a recent time interval. </p>
                        <p>Periodically, the DBA deletes the set of oldest rows and inserts a set of new rows into the table. Parallel <code class="codeph">INSERT</code> <code class="codeph">SELECT</code> and parallel <code class="codeph">DELETE</code> operations can speed up this rollover task.
                        </p>
                        <p>Dropping a partition can also be used to delete old rows. However, the table has to be partitioned by date and with the appropriate time interval.</p>
                     </div>
                  </div><a id="VLDBG1437"></a><div class="props_rev_3"><a id="GUID-53E3F377-C8E5-434C-9DAB-E19D125F3DE3" name="GUID-53E3F377-C8E5-434C-9DAB-E19D125F3DE3"></a><h5 id="VLDBG-GUID-53E3F377-C8E5-434C-9DAB-E19D125F3DE3" class="sect5">Running Batch Jobs</h5>
                     <div>
                        <p>Batch jobs executed in an OLTP database during off hours have a fixed time during which the jobs must complete. A good way to ensure timely job completion is to execute their operations in parallel. </p>
                        <p>As the workload increases, more computer resources can be added; the scaleup property of parallel operations ensures that the time constraint can be met.</p>
                     </div>
                  </div>
               </div><a id="VLDBG1438"></a><div class="props_rev_3"><a id="GUID-5EB01FA8-030B-45BB-9B16-2D13881F6010" name="GUID-5EB01FA8-030B-45BB-9B16-2D13881F6010"></a><h4 id="VLDBG-GUID-5EB01FA8-030B-45BB-9B16-2D13881F6010" class="sect4">Enable Parallel DML Mode</h4>
                  <div>
                     <p>A DML statement can be parallelized only if you have explicitly enabled parallel DML in the session or in the SQL statement. </p>
                     <p>To enable this mode in a session, run the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION ENABLE PARALLEL DML;
</pre><p>To enable parallel DML mode in a specific SQL statement, include the <code class="codeph">ENABLE_PARALLEL_DML</code> SQL hint. For example:
                     </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ ENABLE_PARALLEL_DML */ …</pre><p>This mode is required because parallel DML and serial DML have different locking, transaction, and disk space requirements and parallel DML is disabled for a session by default.</p>
                     <p>When parallel DML is disabled, no DML is executed in parallel even if the <code class="codeph">PARALLEL</code> hint is used.
                     </p>
                     <p>When parallel DML is enabled in a session, all DML statements in this session are considered for parallel execution. When parallel DML is enabled in a SQL statement with the <code class="codeph">ENABLE_PARALLEL_DML</code> hint, only that specific statement is considered for parallel execution. However, even if parallel DML is enabled, the DML operation may still execute serially if there are no parallel hints or no tables with a parallel attribute or if restrictions on parallel operations are violated.
                     </p>
                     <p>The session's <code class="codeph">PARALLEL</code> <code class="codeph">DML</code> mode does not influence the parallelism of <code class="codeph">SELECT</code> statements, DDL statements, and the query portions of DML statements. If this mode is not set, the DML operation is not parallelized, but scans or join operations within the DML statement may still be parallelized.
                     </p>
                     <p>When the parallel DML mode has been enabled for a session, you can disable the mode for a specific SQL statement with the <code class="codeph">DISABLE_PARALLEL_DML</code> SQL hint.
                     </p>
                     <p>For more information, refer to <a href="types-parallelism.html#GUID-F78A9A7A-4F6B-4384-A4EE-97D5D595157B" title="Parallel UPDATE uses the existing free space in the object, while direct-path INSERT gets new extents for the data.">Space Considerations for Parallel DML</a> and <a href="types-parallelism.html#GUID-6626C70C-876C-47A4-8C01-9B66574062D8" title="There are several restrictions that apply to parallel DM.">Restrictions on Parallel DML</a>.
                     </p>
                  </div>
               </div><a id="VLDBG1439"></a><div class="props_rev_3"><a id="GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F" name="GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F"></a><h4 id="VLDBG-GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F" class="sect4">Rules for UPDATE, MERGE, and DELETE</h4>
                  <div>
                     <p>An update, merge, or delete operation is parallelized only under certain conditions.</p>
                     <p>An <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code> operation is parallelized only if at least one of the following conditions is satisfied: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The table being updated, merged, or deleted has a <code class="codeph">PARALLEL</code> declaration set by a previous <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>A statement level or object level <code class="codeph">PARALLEL</code> hint is specified in the DML statement.
                           </p>
                        </li>
                        <li>
                           <p>Automatic Degree of Parallelism (Auto DOP) has been enabled.</p>
                        </li>
                        <li>
                           <p>Parallel DML is forced using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p>If the statement contains subqueries or updatable views, then they may also be executed in parallel based on the rules for parallelizing queries. The decision to parallelize the <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code> portion is independent of the query portion, and vice versa. Statement level <code class="codeph">PARALLEL</code> hints or Auto DOP parallelize both the DML and the query portions.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F__ORACLEDATABASESQLLANGUAGEREFERENCEF-F0B2B02E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="degree-parallel.html#GUID-76AC9190-43AC-4529-89AD-1BDA95C6DFBD" title="Automatic Degree of Parallelism (Auto DOP) enables Oracle Database to automatically decide if a statement should execute in parallel and what DOP it should use.">Automatic Degree of Parallelism</a> for information about Auto DOP
                              </p>
                           </li>
                           <li>
                              <p><a href="parallel-exec-tips.html#GUID-FEE610A3-F12C-47F6-9571-ADBB08096B06" title="There are certain limitations on the degree of parallelism based on the software level of Oracle Database in use.">Limitation on the Degree of Parallelism</a> for possible limitations on update, merge, or delete operations
                              </p>
                           </li>
                           <li>
                              <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a> for information about the rules for determining the degree of parallelism (DOP)
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF00901" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> SQL statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="VLDBG1444"></a><div class="props_rev_3"><a id="GUID-EB793246-B39F-444B-A2F0-7D101F016557" name="GUID-EB793246-B39F-444B-A2F0-7D101F016557"></a><h4 id="VLDBG-GUID-EB793246-B39F-444B-A2F0-7D101F016557" class="sect4">Rules for INSERT SELECT</h4>
                  <div>
                     <p>An insert operation is executed in parallel only under certain conditions.</p>
                     <p>An <code class="codeph">INSERT</code> operation is executed in parallel only if at least one of the following conditions is satisfied:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The table being inserted into (the reference object) has a <code class="codeph">PARALLEL</code> declaration set by a previous <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>A statement level or object level <code class="codeph">PARALLEL</code> hint is specified after the <code class="codeph">INSERT</code> in the DML statement.
                           </p>
                        </li>
                        <li>
                           <p>Automatic Degree of Parallelism (Auto DOP) has been enabled. </p>
                        </li>
                        <li>
                           <p>Parallel DML is forced using the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code> statement.
                           </p>
                        </li>
                     </ul>
                     <p>The decision to parallelize the <code class="codeph">INSERT</code> operation is independent of the <code class="codeph">SELECT</code> operation, and vice versa. The <code class="codeph">SELECT</code> operation can be parallelized based on the rules for parallelizing queries. Statement level <code class="codeph">PARALLEL</code> hints or Auto DOP parallelize both the <code class="codeph">INSERT</code> and the <code class="codeph">SELECT</code> operations.
                     </p>
                     <div class="infoboxnotealso" id="GUID-EB793246-B39F-444B-A2F0-7D101F016557__ORACLEDATABASESQLLANGUAGEREFERENCEF-F22CAB96">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="degree-parallel.html#GUID-76AC9190-43AC-4529-89AD-1BDA95C6DFBD" title="Automatic Degree of Parallelism (Auto DOP) enables Oracle Database to automatically decide if a statement should execute in parallel and what DOP it should use.">Automatic Degree of Parallelism</a> for information about Auto DOP
                              </p>
                           </li>
                           <li>
                              <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" title="The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).">Degree of Parallelism Rules for SQL Statements</a> for information about the rules for determining the degree of parallelism (DOP)
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF00901" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> SQL statement
                              </p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="VLDBG1448"></a><div class="props_rev_3"><a id="GUID-53B78D2C-FA4C-4CA1-AF28-91D5AE142859" name="GUID-53B78D2C-FA4C-4CA1-AF28-91D5AE142859"></a><h4 id="VLDBG-GUID-53B78D2C-FA4C-4CA1-AF28-91D5AE142859" class="sect4">Transaction Restrictions for Parallel DML</h4>
                  <div>
                     <p>To execute a DML operation in parallel, the parallel execution coordinator acquires parallel execution servers, and each parallel execution server executes a portion of the work under its own parallel process transaction.</p>
                     <p></p>
                     <p>Note the following conditions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Each parallel execution server creates a different parallel process transaction.</p>
                        </li>
                        <li>
                           <p>If you use rollback segments instead of Automatic Undo Management, you may want to reduce contention on the rollback segments by limiting the number of parallel process transactions residing in the same rollback segment. Refer to <a href="../sqlrf/ROLLBACK.html#SQLRF01610" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information.
                           </p>
                        </li>
                     </ul>
                     <p>The coordinator also has its own coordinator transaction, which can have its own rollback segment. To ensure user-level transactional atomicity, the coordinator uses a two-phase commit protocol to commit the changes performed by the parallel process transactions.</p>
                     <p>A session that is enabled for parallel DML may put transactions in the session in a special mode: If any DML statement in a transaction modifies a table in parallel, no subsequent serial or parallel query or DML statement can access the same table again in that transaction. The results of parallel modifications cannot be seen during the transaction.</p>
                     <p>Serial or parallel statements that attempt to access a table that has been modified in parallel within the same transaction are rejected with an error message. </p>
                     <p>If a PL/SQL procedure or block is executed in a parallel DML-enabled session, then this rule applies to statements in the procedure or block.</p>
                  </div>
               </div><a id="VLDBG1449"></a><div class="props_rev_3"><a id="GUID-C61F3DE8-A6EF-4C2C-871A-EE62AA68B8CF" name="GUID-C61F3DE8-A6EF-4C2C-871A-EE62AA68B8CF"></a><h4 id="VLDBG-GUID-C61F3DE8-A6EF-4C2C-871A-EE62AA68B8CF" class="sect4">Rollback Segments</h4>
                  <div>
                     <p>If you use rollback segments instead of Automatic Undo Management, there are some restrictions when using parallel DML.</p>
                     <div class="infoboxnotealso" id="GUID-C61F3DE8-A6EF-4C2C-871A-EE62AA68B8CF__GUID-867C5D01-292C-40EC-A677-B0B1CEF1EE4F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ROLLBACK.html#SQLRF01610" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about restrictions for parallel DML and rollback segments
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1450"></a><div class="props_rev_3"><a id="GUID-8115A2BD-F68E-42BA-A7E0-4562D8FFA912" name="GUID-8115A2BD-F68E-42BA-A7E0-4562D8FFA912"></a><h4 id="VLDBG-GUID-8115A2BD-F68E-42BA-A7E0-4562D8FFA912" class="sect4">Recovery for Parallel DML</h4>
                  <div>
                     <p>The time required to roll back a parallel DML operation is roughly equal to the time it takes to perform the forward operation.</p>
                     <p>Oracle Database supports parallel rollback after transaction and process failures, and after instance and system failures. Oracle Database can parallelize both the rolling forward stage and the rolling back stage of transaction recovery.</p>
                     <div class="infoboxnotealso" id="GUID-8115A2BD-F68E-42BA-A7E0-4562D8FFA912__GUID-A3F3F1D0-E67D-47AB-BC43-B379F773B8FE">
                        <p class="notep1">See Also:</p>
                        <p><a href="../bradv/introduction-backup-recovery.html#BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for details about parallel rollback
                        </p>
                     </div>
                  </div><a id="VLDBG1451"></a><div class="props_rev_3"><a id="GUID-C601D304-8F9E-4C8D-A2D9-A2C5EA95CFFA" name="GUID-C601D304-8F9E-4C8D-A2D9-A2C5EA95CFFA"></a><h5 id="VLDBG-GUID-C601D304-8F9E-4C8D-A2D9-A2C5EA95CFFA" class="sect5">Transaction Recovery for User-Issued Rollback</h5>
                     <div>
                        <p>A user-issued rollback in a transaction failure due to statement error is performed in parallel by the parallel execution coordinator and the parallel execution servers. </p>
                        <p>The rollback takes approximately the same amount of time as the forward transaction.</p>
                     </div>
                  </div><a id="VLDBG1452"></a><div class="props_rev_3"><a id="GUID-29BD5A8B-A041-43F2-B4B9-D678E4AAFB87" name="GUID-29BD5A8B-A041-43F2-B4B9-D678E4AAFB87"></a><h5 id="VLDBG-GUID-29BD5A8B-A041-43F2-B4B9-D678E4AAFB87" class="sect5">Process Recovery</h5>
                     <div>
                        <p>Recovery from the failure of a parallel execution coordinator or parallel execution server is performed by the PMON process. </p>
                        <p>If a parallel execution server or a parallel execution coordinator fails, then PMON rolls back the work from that process and all other processes in the transaction roll back their changes.</p>
                     </div>
                  </div><a id="VLDBG1453"></a><div class="props_rev_3"><a id="GUID-AE2F93BE-FC46-43F7-A29B-173FE219DD24" name="GUID-AE2F93BE-FC46-43F7-A29B-173FE219DD24"></a><h5 id="VLDBG-GUID-AE2F93BE-FC46-43F7-A29B-173FE219DD24" class="sect5">System Recovery</h5>
                     <div>
                        <p>Recovery from a system failure requires a new startup.</p>
                        <p>Recovery is performed by the SMON process and any recovery server processes spawned by SMON. Parallel DML statements may be recovered using parallel rollback. If the initialization parameter <code class="codeph">COMPATIBLE</code> is set to 8.1.3 or greater, Fast-Start On-Demand Rollback enables terminated transactions to be recovered, on demand, one block at a time.
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1454"></a><div class="props_rev_3"><a id="GUID-F78A9A7A-4F6B-4384-A4EE-97D5D595157B" name="GUID-F78A9A7A-4F6B-4384-A4EE-97D5D595157B"></a><h4 id="VLDBG-GUID-F78A9A7A-4F6B-4384-A4EE-97D5D595157B" class="sect4">Space Considerations for Parallel DML</h4>
                  <div>
                     <p>Parallel <code class="codeph">UPDATE</code> uses the existing free space in the object, while direct-path <code class="codeph">INSERT</code> gets new extents for the data.
                     </p>
                     <p>Space usage characteristics may be different in parallel than serial execution because multiple concurrent child transactions modify the object.</p>
                  </div>
               </div><a id="VLDBG1455"></a><div class="props_rev_3"><a id="GUID-6626C70C-876C-47A4-8C01-9B66574062D8" name="GUID-6626C70C-876C-47A4-8C01-9B66574062D8"></a><h4 id="VLDBG-GUID-6626C70C-876C-47A4-8C01-9B66574062D8" class="sect4">Restrictions on Parallel DML</h4>
                  <div>
                     <p>There are several restrictions that apply to parallel DM.</p>
                     <p>The following restrictions apply to parallel DML (including direct-path <code class="codeph">INSERT</code>):
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Intra-partition parallelism for <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code> operations require that the <code class="codeph">COMPATIBLE</code> initialization parameter be set to 9.2 or greater.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">INSERT</code> <code class="codeph">VALUES</code> statement is never executed in parallel.
                           </p>
                        </li>
                        <li>
                           <p>A transaction can contain multiple parallel DML statements that modify different tables, but after a parallel DML statement modifies a table, no subsequent serial or parallel statement (DML or query) can access the same table again in that transaction.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>This restriction also exists after a serial direct-path <code class="codeph">INSERT</code> statement: no subsequent SQL statement (DML or query) can access the modified table during that transaction.
                                 </p>
                              </li>
                              <li>
                                 <p>Queries that access the same table are allowed before a parallel DML or direct-path <code class="codeph">INSERT</code> statement, but not after.
                                 </p>
                              </li>
                              <li>
                                 <p>Any serial or parallel statements attempting to access a table that has been modified by a parallel <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, or <code class="codeph">MERGE</code>, or a direct-path <code class="codeph">INSERT</code> during the same transaction are rejected with an error message.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Parallel DML operations cannot be done on tables with triggers.</p>
                        </li>
                        <li>
                           <p>Replication functionality is not supported for parallel DML.</p>
                        </li>
                        <li>
                           <p>Parallel DML cannot occur in the presence of certain constraints: self-referential integrity, delete cascade, and deferred integrity. In addition, for direct-path <code class="codeph">INSERT</code>, there is no support for any referential integrity.
                           </p>
                        </li>
                        <li>
                           <p>Parallel DML can be done on tables with object columns provided the object columns are not accessed.</p>
                        </li>
                        <li>
                           <p>Parallel DML can be done on tables with <code class="codeph">LOB</code> columns provided the table is partitioned. However, intra-partition parallelism is not supported.
                           </p>
                           <p>For non-partitioned tables with LOB columns, parallel <code class="codeph">INSERT</code> operations are supported provided that the LOB columns are declared as SecureFiles LOBs. Parallel <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code> operations on such tables are not supported.
                           </p>
                        </li>
                        <li>
                           <p>A DML operation cannot be executed in parallel if it is in a distributed transaction or if the DML or the query operation is on a remote object.</p>
                        </li>
                        <li>
                           <p>Clustered tables are not supported.</p>
                        </li>
                        <li>
                           <p>Parallel <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">MERGE</code> operations are not supported for temporary tables.
                           </p>
                        </li>
                        <li>
                           <p>Parallel DML is not supported on a table with bitmap indexes if the table is not partitioned.</p>
                        </li>
                     </ul>
                     <p>Violations of these restrictions cause the statement to execute serially without warnings or error messages (except for the restriction on statements accessing the same table in a transaction, which can cause error messages).</p>
                  </div><a id="VLDBG1456"></a><div class="props_rev_3"><a id="GUID-3ADF9B57-757A-47ED-B0DE-401977671C23" name="GUID-3ADF9B57-757A-47ED-B0DE-401977671C23"></a><h5 id="VLDBG-GUID-3ADF9B57-757A-47ED-B0DE-401977671C23" class="sect5">Partitioning Key Restriction</h5>
                     <div>
                        <p>You can only update the partitioning key of a partitioned table to a new value if the update does not cause the row to move to a new partition. </p>
                        <p>The update is possible if the table is defined with the row movement clause enabled.</p>
                     </div>
                  </div><a id="VLDBG1457"></a><div class="props_rev_3"><a id="GUID-FB7A3DC7-7AE0-445A-9DB7-79FD3E24E53D" name="GUID-FB7A3DC7-7AE0-445A-9DB7-79FD3E24E53D"></a><h5 id="VLDBG-GUID-FB7A3DC7-7AE0-445A-9DB7-79FD3E24E53D" class="sect5">Function Restrictions</h5>
                     <div>
                        <p>The function restrictions for parallel DML are the same as those for parallel DDL and parallel query. </p>
                        <p>See <a href="types-parallelism.html#GUID-E8E35EE2-C719-4122-AEA2-1E7D15147439" title="SQL statements can contain user-defined functions written in PL/SQL, in Java, or as external procedures in C that can appear as part of the SELECT list, SET clause, or WHERE clause.">About Parallel Execution of Functions</a> for more information.
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1458"></a><div class="props_rev_3"><a id="GUID-CD387175-C782-4FE4-AAC7-D4FF94B30DA3" name="GUID-CD387175-C782-4FE4-AAC7-D4FF94B30DA3"></a><h4 id="VLDBG-GUID-CD387175-C782-4FE4-AAC7-D4FF94B30DA3" class="sect4">Data Integrity Restrictions</h4>
                  <div>
                     <p>The interactions of integrity constraints and parallel DML statements are introduced in the topic.</p>
                     <p>This section contains following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="types-parallelism.html#GUID-D4CFC1F2-44D3-4BE3-B5ED-6A309EB8BF06" title="The integrity constraints for NOT NULL and CHECK are discussed in this topic.">NOT NULL and CHECK</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-8B778C98-1A66-474C-88BB-778B260FE791" title="The integrity constraints for UNIQUE and PRIMARY KEY are discussed in this topic.">UNIQUE and PRIMARY KEY</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F" title="Restrictions for referential integrity occur whenever a DML operation on one table could cause a recursive DML operation on another table.">FOREIGN KEY (Referential Integrity)</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-D114D953-ED47-4670-9A66-27A1F0A6A14F" title="The delete cascade data integrity restrictions are discussed in this topic.">Delete Cascade</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-6472CF44-EFF1-401F-A3C2-53254C9F3986" title="DML on tables with self-referential integrity constraints is not parallelized if the referenced keys (primary keys) are involved.">Self-Referential Integrity</a></p>
                        </li>
                        <li>
                           <p><a href="types-parallelism.html#GUID-4D8A774E-D27F-43D6-84D2-45C32DB9A9DC" title="The deferrable integrity constraints are discussed in this topic.">Deferrable Integrity Constraints</a></p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1459"></a><div class="props_rev_3"><a id="GUID-D4CFC1F2-44D3-4BE3-B5ED-6A309EB8BF06" name="GUID-D4CFC1F2-44D3-4BE3-B5ED-6A309EB8BF06"></a><h5 id="VLDBG-GUID-D4CFC1F2-44D3-4BE3-B5ED-6A309EB8BF06" class="sect5">NOT NULL and CHECK</h5>
                     <div>
                        <p>The integrity constraints for <code class="codeph">NOT</code> <code class="codeph">NULL</code> and <code class="codeph">CHECK</code> are discussed in this topic.
                        </p>
                        <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> and <code class="codeph">CHECK</code> integrity constraints are allowed. They are not a problem for parallel DML because they are enforced on the column and row level, respectively.
                        </p>
                     </div>
                  </div><a id="VLDBG1460"></a><div class="props_rev_3"><a id="GUID-8B778C98-1A66-474C-88BB-778B260FE791" name="GUID-8B778C98-1A66-474C-88BB-778B260FE791"></a><h5 id="VLDBG-GUID-8B778C98-1A66-474C-88BB-778B260FE791" class="sect5">UNIQUE and PRIMARY KEY</h5>
                     <div>
                        <p>The integrity constraints for <code class="codeph">UNIQUE</code> and <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> are discussed in this topic.
                        </p>
                        <p><code class="codeph">UNIQUE</code> and <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> integrity constraints are allowed.
                        </p>
                     </div>
                  </div><a id="VLDBG1462"></a><a id="VLDBG1461"></a><div class="props_rev_3"><a id="GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F" name="GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F"></a><h5 id="VLDBG-GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F" class="sect5">FOREIGN KEY (Referential Integrity)</h5>
                     <div>
                        <p>Restrictions for referential integrity occur whenever a DML operation on one table could cause a recursive DML operation on another table. </p>
                        <p>These restrictions also apply when, to perform an integrity check, it is necessary to see simultaneously all changes made to the object being modified.</p>
                        <p><a href="types-parallelism.html#GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F__G1016143" title="Referential Integrity Restrictions">Table 8-1</a> lists all of the operations that are possible on tables that are involved in referential integrity constraints.
                        </p>
                        <div class="tblformal" id="GUID-9047D568-FB38-4931-940A-8BDAE4B98D2F__G1016143">
                           <p class="titleintable">Table 8-1 Referential Integrity Restrictions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Referential Integrity Restrictions" summary="Referential Integrity Restrictions" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d53328e5015">DML Statement</th>
                                    <th align="left" valign="bottom" width="25%" id="d53328e5018">Issued on Parent</th>
                                    <th align="left" valign="bottom" width="23%" id="d53328e5021">Issued on Child</th>
                                    <th align="left" valign="bottom" width="28%" id="d53328e5024">Self-Referential</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d53328e5029" headers="d53328e5015 ">
                                       <p><code class="codeph">INSERT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d53328e5029 d53328e5018 ">
                                       <p>(Not applicable) </p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d53328e5029 d53328e5021 ">
                                       <p>Not parallelized </p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d53328e5029 d53328e5024 ">
                                       <p>Not parallelized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d53328e5043" headers="d53328e5015 ">
                                       <p><code class="codeph">MERGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d53328e5043 d53328e5018 ">
                                       <p>(Not applicable)</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d53328e5043 d53328e5021 ">
                                       <p>Not parallelized</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d53328e5043 d53328e5024 ">
                                       <p>Not parallelized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d53328e5057" headers="d53328e5015 ">
                                       <p><code class="codeph">UPDATE</code> No Action
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d53328e5057 d53328e5018 ">
                                       <p>Supported </p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d53328e5057 d53328e5021 ">
                                       <p>Supported</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d53328e5057 d53328e5024 ">
                                       <p>Not parallelized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d53328e5072" headers="d53328e5015 ">
                                       <p><code class="codeph">DELETE</code> No Action
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d53328e5072 d53328e5018 ">
                                       <p>Supported</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d53328e5072 d53328e5021 ">
                                       <p>Supported</p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d53328e5072 d53328e5024 ">
                                       <p>Not parallelized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d53328e5087" headers="d53328e5015 ">
                                       <p><code class="codeph">DELETE</code> Cascade
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d53328e5087 d53328e5018 ">
                                       <p>Not parallelized</p>
                                    </td>
                                    <td align="left" valign="top" width="23%" headers="d53328e5087 d53328e5021 ">
                                       <p>(Not applicable) </p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d53328e5087 d53328e5024 ">
                                       <p>Not parallelized</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="VLDBG1463"></a><div class="props_rev_3"><a id="GUID-D114D953-ED47-4670-9A66-27A1F0A6A14F" name="GUID-D114D953-ED47-4670-9A66-27A1F0A6A14F"></a><h5 id="VLDBG-GUID-D114D953-ED47-4670-9A66-27A1F0A6A14F" class="sect5">Delete Cascade</h5>
                     <div>
                        <p>The delete cascade data integrity restrictions are discussed in this topic.</p>
                        <p>Deletion on tables having a foreign key with delete cascade is not parallelized because parallel execution servers attempt to delete rows from multiple partitions (parent and child tables).</p>
                     </div>
                  </div><a id="VLDBG1464"></a><div class="props_rev_3"><a id="GUID-6472CF44-EFF1-401F-A3C2-53254C9F3986" name="GUID-6472CF44-EFF1-401F-A3C2-53254C9F3986"></a><h5 id="VLDBG-GUID-6472CF44-EFF1-401F-A3C2-53254C9F3986" class="sect5">Self-Referential Integrity</h5>
                     <div>
                        <p>DML on tables with self-referential integrity constraints is not parallelized if the referenced keys (primary keys) are involved. </p>
                        <p>For DML on all other columns, parallelism is possible.</p>
                     </div>
                  </div><a id="VLDBG1465"></a><div class="props_rev_3"><a id="GUID-4D8A774E-D27F-43D6-84D2-45C32DB9A9DC" name="GUID-4D8A774E-D27F-43D6-84D2-45C32DB9A9DC"></a><h5 id="VLDBG-GUID-4D8A774E-D27F-43D6-84D2-45C32DB9A9DC" class="sect5">Deferrable Integrity Constraints</h5>
                     <div>
                        <p>The deferrable integrity constraints are discussed in this topic.</p>
                        <p>If any deferrable constraints apply to the table being operated on, the DML operation is not executed in parallel.</p>
                     </div>
                  </div>
               </div><a id="VLDBG1466"></a><div class="props_rev_3"><a id="GUID-DFF6F4B8-D8FB-40C3-A9D5-CBE7AC03B831" name="GUID-DFF6F4B8-D8FB-40C3-A9D5-CBE7AC03B831"></a><h4 id="VLDBG-GUID-DFF6F4B8-D8FB-40C3-A9D5-CBE7AC03B831" class="sect4">Trigger Restrictions</h4>
                  <div>
                     <p>A DML operation is not executed in parallel if the affected tables contain enabled triggers that may get invoked as a result of the statement. </p>
                     <p>This implies that DML statements on tables that are being replicated are not parallelized.</p>
                     <p>Relevant triggers must be disabled to parallelize DML on the table. If you enable or disable triggers, then the dependent shared cursors are invalidated.</p>
                  </div>
               </div><a id="VLDBG1467"></a><div class="props_rev_3"><a id="GUID-09FC59FF-9F63-453C-86D3-6D171022314A" name="GUID-09FC59FF-9F63-453C-86D3-6D171022314A"></a><h4 id="VLDBG-GUID-09FC59FF-9F63-453C-86D3-6D171022314A" class="sect4">Distributed Transaction Restrictions</h4>
                  <div>
                     <p>The distributed transaction restrictions are discussed in this topic.</p>
                     <p>A DML operation cannot be executed in parallel if it is in a distributed transaction or if the DML or the query operation is on a remote object.</p>
                  </div>
               </div><a id="VLDBG1468"></a><div class="props_rev_3"><a id="GUID-F3751631-4858-43FF-ACBB-B42307A43F0D" name="GUID-F3751631-4858-43FF-ACBB-B42307A43F0D"></a><h4 id="VLDBG-GUID-F3751631-4858-43FF-ACBB-B42307A43F0D" class="sect4">Examples of Distributed Transaction Parallelization</h4>
                  <div>
                     <p>Several examples of distributed transaction processing are shown in this topic.</p>
                     <div class="section">
                        <p>In the first example, the DML statement queries a remote object. The DML operation is executed serially without notification because it references a remote object.</p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND PARALLEL (t3,2) */ INTO t3 SELECT * FROM t4@dblink;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In the next example, the DML operation is applied to a remote object. The <code class="codeph">DELETE</code> operation is not parallelized because it references a remote object.
                        </p><pre class="oac_no_warn" dir="ltr">DELETE /*+ PARALLEL (t1, 2) */ FROM t1@dblink;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In the last example, the DML operation is in a distributed transaction. The <code class="codeph">DELETE</code> operation is not executed in parallel because it occurs in a distributed transaction (which is started by the <code class="codeph">SELECT</code> statement).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM t1@dblink; 
 DELETE /*+ PARALLEL (t2,2) */ FROM t2;
 COMMIT; </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14182"></a><a id="VLDBG14131"></a><div class="props_rev_3"><a id="GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433" name="GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433"></a><h4 id="VLDBG-GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433" class="sect4">Concurrent Execution of Union All</h4>
                  <div>
                     <p>Set operators like <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> consist of multiple queries (branches) combined to a single SQL statement.
                     </p>
                     <p>Traditionally, set operators are processed in a sequential manner. Individual branches can be processed in serial or parallel, but only one branch at a time, one branch after another. While this approach satisfies many use cases, there are situations where the processing of multiple branches of a <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statement should occur concurrently. The most typical situation is when several or all branches are remote SQL statements. In this situation, concurrent processing on all participating remote systems is desired to speed up the overall processing time without increasing the workload of any participating system.
                     </p>
                     <p>The default behavior of concurrent execution for <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statements is controlled by the setting of the <code class="codeph">OPTIMIZER_FEATURES_ENABLE</code> initialization parameter. When set to <code class="codeph">12.1</code>, concurrent execution is enabled by default. Any statement where at least one branch of the statement is local and is considered being processed in parallel, the entire <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statement is also processed concurrently. The system calculates the DOP for every individual local branch of the statement and chooses the highest DOP for the execution of the entire <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statement. The system then works concurrently on as many branches as possible, using the chosen DOP both for parallelization of the branches that are processed in parallel, and as concurrent workers on serial and remote statements. 
                     </p>
                     <p>When the <code class="codeph">OPTIMIZER_FEATURES_ENABLE</code> initialization parameter is set to a value less than <code class="codeph">12.1</code>, concurrent execution of <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statements must be enabled explicitly by using the <code class="codeph">PQ_CONCURRENT_UNION</code> hint.
                     </p>
                     <p>However, unlike the sequential processing of one branch after another, the concurrent processing does not guarantee an ordered return of the results of the individual branches. If an ordered return of one branch after another is required, then you either must disable concurrent processing using the <code class="codeph">NO_PQ_CONCURRENT_UNION</code> hint or you must augment the SQL statement to uniquely identify individual branches of the statement and to sort on this specified identifier.
                     </p>
                     <p><code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statements that only consist of serial or remote branches are not processed concurrently unless specifically using the <code class="codeph">PQ_CONCURRENT_UNION</code> hint. The DOP of this SQL statement is at most the number of serial and remote inputs. 
                     </p>
                     <p>Whether or not concurrent processing of a <code class="codeph">UNION</code> or <code class="codeph">UNION</code> <code class="codeph">ALL</code> statement occurs can be easily identified with the execution plan of the SQL statements. When executed in parallel, the execution of serial and remote branches is managed with a row source identifiable as <code class="codeph">PX</code> <code class="codeph">SELECTOR</code>. Statements that are not processed concurrently show the query coordinator (<code class="codeph">QC</code>) as coordinator of serial and remote branches.
                     </p>
                     <p>In <a href="types-parallelism.html#GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433__BEIEHGJD">Example 8-4</a>, the SQL statement consists of local and remote branches. The SQL statement loads information about gold and platinum customers from the local database, and the information about customers from three major cities from remote databases. Because the local select statements occur in parallel, this processing is automatically performed in parallel. Each serial branch is executed by only one parallel execution server process. Because each parallel execution server can execute one serial branch, they are executed concurrently.
                     </p>
                     <div class="example" id="GUID-1F4C90F9-3EF5-423A-B55B-2593FB3F1433__BEIEHGJD">
                        <p class="titleinexample">Example 8-4 Explain Plan for UNION ALL</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXPLAIN PLAN FOR INSERT INTO all_customer 
  SELECT * FROM GOLD_customer UNION ALL 
  SELECT * FROM PLATINUM_customer UNION ALL 
  SELECT * FROM SF_customer@san_francisco UNION ALL 
  SELECT * FROM LA_customer@los_angeles UNION ALL 
  SELECT * FROM LV_customer@las_vegas;
-------------------------------------------------------------------------------
| Id | Operation              | Name          | TQ/Ins |IN-OUT | PQ Distrib|
-------------------------------------------------------------------------------
| 0 | INSERT STATEMENT         |              |        |       |           |
| 1 |  LOAD TABLE CONVENTIONAL | ALL_CUSTOMER |        |       |           |
| 2 |   PX COORDINATOR         |              |        |       |           |
| 3 |    PX SEND QC (RANDOM)   | :TQ10003     |        | P-&gt;S  | QC (RAND) |
| 4 |     UNION-ALL            |              |        | PCWP  |           |
| 5 |      PX BLOCK ITERATOR   |              |        | PCWC  |           |
| 6 |       TABLE ACCESS FULL  | GOLD_CUSTOMER|        | PCWP  |           |
| 7 |      PX BLOCK ITERATOR   |              |        | PCWC  |           |
| 8 |       TABLE ACCESS FULL  | PLATINUM_CUST|        | PCWP  |           |
| 9 |      PX SELECTOR         |              |        | PCWP  |           |
|10 |       REMOTE             | SF_CUSTOMER  |        | PCWP  |           |
|11 |      PX SELECTOR         |              |        | PCWP  |           |
|12 |       REMOTE             | LA_CUSTOMER  |        | PCWP  |           |
|13 |      PX SELECTOR         |              |        | PCWP  |           |
|14 |       REMOTE             | LV_CUSTOMER  |        | PCWP  |           |
-------------------------------------------------------------------------------
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="VLDBG1472"></a><div class="props_rev_3"><a id="GUID-E8E35EE2-C719-4122-AEA2-1E7D15147439" name="GUID-E8E35EE2-C719-4122-AEA2-1E7D15147439"></a><h3 id="VLDBG-GUID-E8E35EE2-C719-4122-AEA2-1E7D15147439" class="sect3">About Parallel Execution of Functions</h3>
               <div>
                  <p>SQL statements can contain user-defined functions written in PL/SQL, in Java, or as external procedures in C that can appear as part of the <code class="codeph">SELECT</code> list, <code class="codeph">SET</code> clause, or <code class="codeph">WHERE</code> clause. 
                  </p>
                  <p>When the SQL statement is parallelized, these functions are executed on a per-row basis by the parallel execution server process. Any PL/SQL package variables or Java static attributes used by the function are entirely private to each individual parallel execution process and are newly initialized when each row is processed, rather than being copied from the original session. Because of this process, not all functions generate correct results if executed in parallel.</p>
                  <p>User-written table functions can appear in the statement's <code class="codeph">FROM</code> list. These functions act like source tables in that they produce row output. Table functions are initialized once during the statement at the start of each parallel execution process. All variables are entirely private to the parallel execution process.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="types-parallelism.html#GUID-9C2DAB7D-D220-4AC8-A65E-C702BFF1FA4C" title="User functions can be executed in parallel in a SQL query statement, or a subquery in a DML or DDL statement.">Functions in Parallel Queries</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-DEF855C0-F7F7-47F9-BC1A-F01FBBF5225D" title="A user function can be executed in a parallel DML or DDL statement under certain conditions.">Functions in Parallel DML and DDL Statements</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1473"></a><div class="props_rev_3"><a id="GUID-9C2DAB7D-D220-4AC8-A65E-C702BFF1FA4C" name="GUID-9C2DAB7D-D220-4AC8-A65E-C702BFF1FA4C"></a><h4 id="VLDBG-GUID-9C2DAB7D-D220-4AC8-A65E-C702BFF1FA4C" class="sect4">Functions in Parallel Queries</h4>
                  <div>
                     <p>User functions can be executed in parallel in a SQL query statement, or a subquery in a DML or DDL statement.</p>
                     <p>In a <code class="codeph">SELECT</code> statement or a subquery in a DML or DDL statement, a user-written function may be executed in parallel in any of the following cases:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If it has been declared with the <code class="codeph">PARALLEL_ENABLE</code> keyword
                           </p>
                        </li>
                        <li>
                           <p>If it is declared in a package or type and has a <code class="codeph">PRAGMA</code> <code class="codeph">RESTRICT_REFERENCES</code> clause that indicates all of <code class="codeph">WNDS</code>, <code class="codeph">RNPS</code>, and <code class="codeph">WNPS</code></p>
                        </li>
                        <li>
                           <p>If it is declared with <code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code> and the system can analyze the body of the PL/SQL code and determine that the code neither writes to the database nor reads or modifies package variables
                           </p>
                        </li>
                     </ul>
                     <p>Other parts of a query or subquery can sometimes execute in parallel even if a given function execution must remain serial.</p>
                     <div class="infoboxnotealso" id="GUID-9C2DAB7D-D220-4AC8-A65E-C702BFF1FA4C__ORACLEDATABASEDEVELOPMENTGUIDEFORIN-A68A5A66">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../adfns/coding-subprograms-and-packages.html#ADFNS388" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for information about the <code class="codeph">PRAGMA</code> <code class="codeph">RESTRICT_REFERENCES</code> clause
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-FUNCTION.html#SQLRF01208" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="VLDBG1474"></a><div class="props_rev_3"><a id="GUID-DEF855C0-F7F7-47F9-BC1A-F01FBBF5225D" name="GUID-DEF855C0-F7F7-47F9-BC1A-F01FBBF5225D"></a><h4 id="VLDBG-GUID-DEF855C0-F7F7-47F9-BC1A-F01FBBF5225D" class="sect4">Functions in Parallel DML and DDL Statements</h4>
                  <div>
                     <p>A user function can be executed in a parallel DML or DDL statement under certain conditions.</p>
                     <p>In a parallel DML or DDL statement, as in a parallel query, a user-written function may be executed in parallel in any of the following cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If it has been declared with the <code class="codeph">PARALLEL_ENABLE</code> keyword
                           </p>
                        </li>
                        <li>
                           <p>If it is declared in a package or type and has a <code class="codeph">PRAGMA</code> <code class="codeph">RESTRICT_REFERENCES</code> clause that indicates all of <code class="codeph">RNDS</code>, <code class="codeph">WNDS</code>, <code class="codeph">RNPS</code>, and <code class="codeph">WNPS</code></p>
                        </li>
                        <li>
                           <p>If it is declared with the <code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code> statement and the system can analyze the body of the PL/SQL code and determine that the code neither reads nor writes to the database or reads or modifies package variables
                           </p>
                        </li>
                     </ul>
                     <p>For a parallel DML statement, any function call that cannot be executed in parallel causes the entire DML statement to be executed serially. For an <code class="codeph">INSERT</code> <code class="codeph">SELECT</code> or <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement, function calls in the query portion are parallelized according to the parallel query rules described in this section. The query may be parallelized even if the remainder of the statement must execute serially, or vice versa.
                     </p>
                  </div>
               </div>
            </div><a id="VLDBG1475"></a><div class="props_rev_3"><a id="GUID-4CA27F66-296B-498C-BA41-B6C6583F1E85" name="GUID-4CA27F66-296B-498C-BA41-B6C6583F1E85"></a><h3 id="VLDBG-GUID-4CA27F66-296B-498C-BA41-B6C6583F1E85" class="sect3">About Other Types of Parallelism</h3>
               <div>
                  <p>An Oracle Database can use parallelism in multiple types of operations.</p>
                  <p>In addition to parallel SQL execution, Oracle Database can use parallelism for the following types of operations:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Parallel recovery</p>
                     </li>
                     <li>
                        <p>Parallel propagation (replication)</p>
                     </li>
                     <li>
                        <p>Parallel load (external tables and the SQL*Loader utility)</p>
                     </li>
                  </ul>
                  <p>Like parallel SQL, parallel recovery, propagation, and external table loads are performed by a parallel execution coordinator and multiple parallel execution servers. Parallel load using SQL*Loader, however, uses a different mechanism.</p>
                  <p>The behavior of the parallel execution coordinator and parallel execution servers may differ, depending on what kind of operation they perform (SQL, recovery, or propagation). For example, if all parallel execution servers in the pool are occupied and the maximum number of parallel execution servers has been started:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In parallel SQL and external table loads, the parallel execution coordinator switches to serial processing. </p>
                     </li>
                     <li>
                        <p>In parallel propagation, the parallel execution coordinator returns an error.</p>
                     </li>
                  </ul>
                  <p>For a given session, the parallel execution coordinator coordinates only one kind of operation. A parallel execution coordinator cannot coordinate, for example, parallel SQL and parallel recovery or propagation at the same time.</p>
                  <div class="infoboxnotealso" id="GUID-4CA27F66-296B-498C-BA41-B6C6583F1E85__GUID-0FA7207A-EBDA-4EBC-B548-9F60A746D8B0">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sutil/oracle-sql-loader.html#SUTIL3311" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about parallel load and SQL*Loader
                           </p>
                        </li>
                        <li>
                           <p><a href="../bradv/introduction-backup-recovery.html#BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for information about parallel media recovery
                           </p>
                        </li>
                        <li>
                           <p><a href="../tgdba/performance-tuning-overview.html#TGDBA025" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for information about parallel instance recovery
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="VLDBG1477"></a><a id="VLDBG1476"></a><div class="props_rev_3"><a id="GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" name="GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4"></a><h3 id="VLDBG-GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4" class="sect3">Degree of Parallelism Rules for SQL Statements</h3>
               <div>
                  <p>The parallelization decision for SQL statements has two components: the decision to parallelize and the degree of parallelism (DOP).</p>
                  <p>These components are determined differently for queries, DDL operations, and DML operations.</p>
                  <p>The decision to parallelize is discussed in the following sections:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="types-parallelism.html#GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" title="A SQL query can only be executed in parallel under certain conditions.">Rules for Parallelizing Queries</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" title="DDL operations can be executed in parallel under certain conditions.">Rules for DDL Statements</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" title="The CREATE operation of the CREATE TABLE AS SELECT statement is parallelized based on the rules for parallelizing DDL statements.">Rules for CREATE TABLE AS SELECT</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F" title="An update, merge, or delete operation is parallelized only under certain conditions.">Rules for UPDATE, MERGE, and DELETE</a></p>
                     </li>
                     <li>
                        <p><a href="types-parallelism.html#GUID-EB793246-B39F-444B-A2F0-7D101F016557" title="An insert operation is executed in parallel only under certain conditions.">Rules for INSERT SELECT</a></p>
                     </li>
                  </ul>
                  <p>The degree of parallelism for various types of SQL statements can be determined by statement or object level <code class="codeph">PARALLEL</code> hints, <code class="codeph">PARALLEL</code> clauses, <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> statements, automatic degree of parallelism (Auto DOP), or table or index <code class="codeph">PARALLEL</code> declarations. When more than one of these methods are used, the Oracle Database uses precedence rules to determine which method is used to determine the DOP. 
                  </p>
                  <p><a href="types-parallelism.html#GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4__CACCAGCH" title="Parallelization Priority Order">Table 8-2</a> shows the precedence rules for determining the degree of parallelism (DOP) for various types of SQL statements. In the table, the smaller priority number indicates that the method takes precedence over higher numbers. For example, priority (1) takes precedence over priority (2), priority (3), priority (4), and priority (5).
                  </p>
                  <div class="tblformalwide" id="GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4__CACCAGCH">
                     <p class="titleintable">Table 8-2 Parallelization Priority Order</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Parallelization Priority Order" summary="Parallelization Priority Order" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d53328e6538">Parallel Operation</th>
                              <th align="left" valign="bottom" width="13%" id="d53328e6541">Statement Level PARALLEL Hint</th>
                              <th align="left" valign="bottom" width="13%" id="d53328e6544">Object Level PARALLEL Hint</th>
                              <th align="left" valign="bottom" width="11%" id="d53328e6547">PARALLEL Clause</th>
                              <th align="left" valign="bottom" width="13%" id="d53328e6550">ALTER SESSION</th>
                              <th align="left" valign="bottom" width="14%" id="d53328e6553">Auto DOP</th>
                              <th align="left" valign="bottom" width="14%" id="d53328e6556">Parallel Declaration</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6561" headers="d53328e6538 ">
                                 <p>Parallel query table/index scan. For more information, refer to <a href="types-parallelism.html#GUID-E4E9421D-59CF-47D2-B823-6F3C3FA4698C" title="A SQL query can only be executed in parallel under certain conditions.">Rules for Parallelizing Queries</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6561 d53328e6541 ">
                                 <p>Priority (1) </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6561 d53328e6544 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6561 d53328e6547 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6561 d53328e6550 ">
                                 <p>Priority (3) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6561 d53328e6553 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6561 d53328e6556 ">
                                 <p>Priority (5)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6597" headers="d53328e6538 ">
                                 <p>Parallel <code class="codeph">UPDATE</code> ,<code class="codeph">DELETE</code>, or <code class="codeph">MERGE</code>. For more information, refer to <a href="types-parallelism.html#GUID-D8290A02-BE5F-436A-B814-D6FD71CEE81F" title="An update, merge, or delete operation is parallelized only under certain conditions.">Rules for UPDATE, MERGE, and DELETE</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6597 d53328e6541 ">
                                 <p>Priority (1)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6597 d53328e6544 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6597 d53328e6547 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6597 d53328e6550 ">
                                 <p>Priority (3) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6597 d53328e6553 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6597 d53328e6556 ">
                                 <p>Priority (5) of the target table</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6642" headers="d53328e6538 ">
                                 <p><code class="codeph">INSERT</code><span class="bold"> </span>operation of parallel <code class="codeph">INSERT</code>... <code class="codeph">SELECT</code> . For more information, refer to <a href="types-parallelism.html#GUID-EB793246-B39F-444B-A2F0-7D101F016557" title="An insert operation is executed in parallel only under certain conditions.">Rules for INSERT SELECT</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6642 d53328e6541 ">
                                 <p>Priority (1)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6642 d53328e6544 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6642 d53328e6547 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6642 d53328e6550 ">
                                 <p>Priority (3) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DML</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6642 d53328e6553 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6642 d53328e6556 ">
                                 <p>Priority (5) of table being inserted into</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6688" headers="d53328e6538 ">
                                 <p><code class="codeph">SELECT</code><span class="bold"> </span>operation of <code class="codeph">INSERT</code> <code class="codeph">SELECT</code> when <code class="codeph">INSERT</code> is serial. For more information, refer to <a href="types-parallelism.html#GUID-EB793246-B39F-444B-A2F0-7D101F016557" title="An insert operation is executed in parallel only under certain conditions.">Rules for INSERT SELECT</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6688 d53328e6541 ">
                                 <p>Priority (1)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6688 d53328e6544 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6688 d53328e6547 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6688 d53328e6550 ">
                                 <p>Priority (3) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6688 d53328e6553 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6688 d53328e6556 ">
                                 <p>Priority (5) of table being selected from</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6737" headers="d53328e6538 ">
                                 <p><code class="codeph">CREATE</code><span class="bold"> </span>operation of parallel <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> (partitioned or nonpartitioned table). For more information, refer to <a href="types-parallelism.html#GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" title="The CREATE operation of the CREATE TABLE AS SELECT statement is parallelized based on the rules for parallelizing DDL statements.">Rules for CREATE TABLE AS SELECT</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6737 d53328e6541 ">
                                 <p>Priority (1)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6737 d53328e6544 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6737 d53328e6547 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6737 d53328e6550 ">
                                 <p>Priority (2) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6737 d53328e6553 ">
                                 <p>Priority (3)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6737 d53328e6556 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6805" headers="d53328e6538 ">
                                 <p><code class="codeph">SELECT</code><span class="bold"> </span>operation of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> when <code class="codeph">CREATE</code> is serial. For more information, refer to <a href="types-parallelism.html#GUID-C457EE16-7B2E-4331-A1DA-23583656B2CD" title="The CREATE operation of the CREATE TABLE AS SELECT statement is parallelized based on the rules for parallelizing DDL statements.">Rules for CREATE TABLE AS SELECT</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6805 d53328e6541 ">
                                 <p>Priority (1)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6805 d53328e6544 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6805 d53328e6547 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6805 d53328e6550 ">
                                 <p>Priority (3) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6805 d53328e6553 ">
                                 <p>Priority (4)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6805 d53328e6556 ">
                                 <p>Priority (5)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53328e6876" headers="d53328e6538 ">
                                 <p>Other DDL operations. For more information, refer to <a href="types-parallelism.html#GUID-B9F9BFAD-5B66-4C41-BCE3-6E96A43F3400" title="DDL operations can be executed in parallel under certain conditions.">Rules for DDL Statements</a>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6876 d53328e6541 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6876 d53328e6544 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="11%" headers="d53328e6876 d53328e6547 ">
                                 <p>Priority (3)</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d53328e6876 d53328e6550 ">
                                 <p>Priority (1) <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code></p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6876 d53328e6553 ">
                                 <p>Priority (2)</p>
                              </td>
                              <td align="left" valign="top" width="14%" headers="d53328e6876 d53328e6556 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-D399FA96-424C-47C9-A3AC-28A12C0B2FD4__GUID-69C88072-93F5-454F-9AB7-5D560468BC36">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/Comments.html#SQLRF50801" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">PARALLEL</code> hint
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/parallel_clause.html#SQLRF20024" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">PARALLEL</code> clause
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/ALTER-SESSION.html#SQLRF00901" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> SQL statement
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>