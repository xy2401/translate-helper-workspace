<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Transporting data moves the data from one database to another.">
      <meta name="description" content="Transporting data moves the data from one database to another.">
      <title>Transporting Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Transporting data moves the data from one database to another.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-data-files-and-temp-files.html" title="Previous" type="text/html">
      <link rel="next" href="managing-undo.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-data-files-and-temp-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-undo.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name"> Oracle Database Structure and Storage</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Transporting Data</li>
            </ol>
            <a id="GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" name="GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52"></a><a id="ADMIN13721"></a>
            
            <h2 id="ADMIN-GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" class="sect2"><span class="enumeration_chapter">15 </span> Transporting Data
            </h2>
         </header>
         <div class="ind">
            <p>Transporting data moves the data from one database to another. </p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9">About Transporting Data</a><br>You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.
                  </li>
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26">Transporting Databases</a><br>You can transport a database to a new Oracle Database instance.
                  </li>
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB">Transporting Tablespaces Between Databases</a><br>You can transport tablespaces between databases.
                  </li>
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379">Transporting Tables, Partitions, or Subpartitions Between Databases</a><br>You can transport tables, partitions, and subpartitions between databases.
                  </li>
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B">Converting Data Between Platforms</a><br>When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the <code class="codeph">DBMS_FILE_TRANSFER</code> package or the RMAN <code class="codeph">CONVERT</code> command to convert data.
                  </li>
                  <li class="ulchildlink"><a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699">Guidelines for Transferring Data Files</a><br>You should follow a set of guidelines when transferring the data files.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="You can create and manage database structures and storage components.">Oracle Database Structure and Storage</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13722"></a><div class="props_rev_3"><a id="GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" name="GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9"></a><h3 id="ADMIN-GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" class="sect3"><span class="enumeration_section">15.1 </span>About Transporting Data
               </h3>
               <p>You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-6410B400-0B7E-4772-9BC0-DFC976240190">Purpose of Transporting Data</a><br>Transporting data is much faster than performing either an export/import or unload/load of the same data. It is faster because, for user-defined tablespaces, the data files containing all of the actual data are copied to the target location, and you use Data Pump to transfer only the metadata of the database objects to the new database.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452">Transporting Data: Scenarios</a><br>Transporting data is useful in several scenarios.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870">Transporting Data Across Platforms</a><br>You can transport data across platforms.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173">General Limitations on Transporting Data</a><br>There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C">Compatibility Considerations for Transporting Data</a><br>When transporting data, Oracle Database computes the lowest compatibility level at which the target database must run.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13723"></a><div class="props_rev_3"><a id="GUID-6410B400-0B7E-4772-9BC0-DFC976240190" name="GUID-6410B400-0B7E-4772-9BC0-DFC976240190"></a><h4 id="ADMIN-GUID-6410B400-0B7E-4772-9BC0-DFC976240190" class="sect4"><span class="enumeration_section">15.1.1 </span>Purpose of Transporting Data
                  </h4>
                  <div>
                     <p>Transporting data is much faster than performing either an export/import or unload/load of the same data. It is faster because, for user-defined tablespaces, the data files containing all of the actual data are copied to the target location, and you use Data Pump to transfer only the metadata of the database objects to the new database.</p>
                     <p>You can transport data at any of the following levels:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Database</p>
                           <p>You can use the <span class="bold">full transportable export/import</span> feature to move an entire database to a different database instance.
                           </p>
                        </li>
                        <li>
                           <p>Tablespaces</p>
                           <p>You can use the <span class="bold">transportable tablespaces</span> feature to move a set of tablespaces between databases.
                           </p>
                        </li>
                        <li>
                           <p>Tables, partitions, and subpartitions</p>
                           <p>You can use the <span class="bold">transportable tables</span> feature to move a set of tables, partitions, and subpartitions between databases.
                           </p>
                        </li>
                     </ul>
                     <p>Transportable tablespaces and transportable tables only transports data that resides in user-defined tablespaces. However, full transportable export/import transports data that resides in both user-defined and administrative tablespaces, such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>. Full transportable export/import transports metadata for objects contained within the user-defined tablespaces and both the metadata and data for user-defined objects contained within the administrative tablespaces. Specifically, with full transportable export/import, the export dump file includes only the metadata for objects contained within the user-defined tablespaces, but it includes both the metadata and the data for user-defined objects contained within the administrative tablespaces.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11403"></a><div class="props_rev_3"><a id="GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452" name="GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452"></a><h4 id="ADMIN-GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452" class="sect4"><span class="enumeration_section">15.1.2 </span>Transporting Data: Scenarios
                  </h4>
                  <p>Transporting data is useful in several scenarios.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2">Scenarios for Full Transportable Export/import</a><br>The full transportable export/import feature is useful in several scenarios.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8">Scenarios for Transportable Tablespaces or Transportable Tables</a><br>The transportable tablespaces or transportable tables feature is useful in several scenarios.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13922"></a><div class="props_rev_3"><a id="GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2" name="GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2"></a><h5 id="ADMIN-GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2" class="sect5"><span class="enumeration_section">15.1.2.1 </span>Scenarios for Full Transportable Export/import
                     </h5>
                     <p>The full transportable export/import feature is useful in several scenarios.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-5CFCF440-E6AA-4C11-8532-454FED203547">Moving a Non-CDB Into a CDB</a><br>The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes one or many customer-created pluggable databases (PDBs). You can move a non-CDB into a CDB by transporting the database.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-686A76DB-C059-4012-BE2F-5380A2490EEF">Moving a Database to a New Computer System</a><br>You can use full transportable export/import to move a database from one computer system to another. You might want to move a database to a new computer system to upgrade the hardware or to move the database to a different platform.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-55D4E16F-AF36-460B-9FBD-6C2D99FE7399">Upgrading to a New Release of Oracle Database</a><br>You can use full transportable export/import to upgrade a database from an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later to Oracle Database 19c. 
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452" title="Transporting data is useful in several scenarios.">Transporting Data: Scenarios</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13923"></a><div class="props_rev_3"><a id="GUID-5CFCF440-E6AA-4C11-8532-454FED203547" name="GUID-5CFCF440-E6AA-4C11-8532-454FED203547"></a><h6 id="ADMIN-GUID-5CFCF440-E6AA-4C11-8532-454FED203547" class="sect6"><span class="enumeration_section">15.1.2.1.1 </span>Moving a Non-CDB Into a CDB
                        </h6>
                        <div>
                           <p>The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes one or many customer-created pluggable databases (PDBs). You can move a non-CDB into a CDB by transporting the database.</p>
                           <p>The transported database becomes a pluggable database (PDB) associated with the CDB. Full transportable export/import can move an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later into an Oracle Database 19c CDB efficiently.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-5CFCF440-E6AA-4C11-8532-454FED203547__GUID-6947619B-4A0C-4719-B086-AB6AD1FD051E">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="transporting-data.html#GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7" title="You can transport a database using an export dump file.">Transporting a Database Using an Export Dump File</a>"</span> for instructions that describe transporting a non-CDB into a CDB using an export dump file
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="transporting-data.html#GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1" title="You can transport a database over the network.">Transporting a Database Over the Network</a>"</span> for instructions that describe transporting a non-CDB into a CDB over the network
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/index.html" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2" title="The full transportable export/import feature is useful in several scenarios.">Scenarios for Full Transportable Export/import</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13924"></a><div class="props_rev_3"><a id="GUID-686A76DB-C059-4012-BE2F-5380A2490EEF" name="GUID-686A76DB-C059-4012-BE2F-5380A2490EEF"></a><h6 id="ADMIN-GUID-686A76DB-C059-4012-BE2F-5380A2490EEF" class="sect6"><span class="enumeration_section">15.1.2.1.2 </span>Moving a Database to a New Computer System
                        </h6>
                        <div>
                           <p>You can use full transportable export/import to move a database from one computer system to another. You might want to move a database to a new computer system to upgrade the hardware or to move the database to a different platform.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-686A76DB-C059-4012-BE2F-5380A2490EEF__GUID-4033DA70-4339-46D9-B256-6F7032B79A2A">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2" title="The full transportable export/import feature is useful in several scenarios.">Scenarios for Full Transportable Export/import</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13925"></a><div class="props_rev_3"><a id="GUID-55D4E16F-AF36-460B-9FBD-6C2D99FE7399" name="GUID-55D4E16F-AF36-460B-9FBD-6C2D99FE7399"></a><h6 id="ADMIN-GUID-55D4E16F-AF36-460B-9FBD-6C2D99FE7399" class="sect6"><span class="enumeration_section">15.1.2.1.3 </span>Upgrading to a New Release of Oracle Database
                        </h6>
                        <div>
                           <p>You can use full transportable export/import to upgrade a database from an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later to Oracle Database 19c. 
                           </p>
                           <p>To do so, install Oracle Database 19c and create an empty database. Next, use full transportable export/import to transport the Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later database into the Oracle Database 19c database.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-55D4E16F-AF36-460B-9FBD-6C2D99FE7399__GUID-2F84041A-E323-48B3-8D6A-0A47F2F0D5B4">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-FA4AAD15-5305-45A9-9644-DB7D7DCD30D2" title="The full transportable export/import feature is useful in several scenarios.">Scenarios for Full Transportable Export/import</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" name="GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8"></a><h5 id="ADMIN-GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" class="sect5"><span class="enumeration_section">15.1.2.2 </span>Scenarios for Transportable Tablespaces or Transportable Tables
                     </h5>
                     <p>The transportable tablespaces or transportable tables feature is useful in several scenarios.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC">Scenarios That Apply to Transportable Tablespaces or Transportable Tables</a><br>For some scenarios, either transportable tablespaces or transportable tables can be useful. For other scenarios, only transportable tablespaces can be useful, or only transportable tables can be useful.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-8B2068FD-3006-4227-825A-1099A587B48F">Transporting and Attaching Partitions for Data Warehousing</a><br>You can use transportable tables and tranportable tablespaces to attach partitions for data warehousing.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-9FF1EB3F-7401-47FE-A3FD-7D4634CC5EC5">Publishing Structured Data on CDs</a><br>Transportable tablespaces and transportable tables both provide a way to publish structured data on CDs.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-AA3D4235-2C5C-4841-9973-F62089A37FFE">Mounting the Same Tablespace Read-Only on Multiple Databases</a><br>You can use transportable tablespaces to mount a tablespace read-only on multiple databases.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA">Archiving Historical Data</a><br>When you use transportable tablespaces or transportable tables, the transported data is a self-contained set of files that can be imported into any Oracle database. Therefore, you can archive old or historical data in an enterprise data warehouse using the transportable tablespaces and transportable tables procedures.
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A">Using Transportable Tablespaces to Perform TSPITR</a><br>You can use transportable tablespaces to perform tablespace point-in-time recovery (TSPITR).
                           </li>
                           <li class="ulchildlink"><a href="transporting-data.html#GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9">Copying or Moving Individual Tables</a><br>You can use transportable tables to move a table or a set of tables from one database to another without transporting the entire tablespaces that contain the tables. You can also copy or move individual partitions and subpartitions from one database to another using transportable tables.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452" title="Transporting data is useful in several scenarios.">Transporting Data: Scenarios</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13927"></a><a id="ADMIN13926"></a><div class="props_rev_3"><a id="GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC" name="GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC"></a><h6 id="ADMIN-GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC" class="sect6"><span class="enumeration_section">15.1.2.2.1 </span>Scenarios That Apply to Transportable Tablespaces or Transportable Tables
                        </h6>
                        <div>
                           <p>For some scenarios, either transportable tablespaces or transportable tables can be useful. For other scenarios, only transportable tablespaces can be useful, or only transportable tables can be useful.</p>
                           <p><a href="transporting-data.html#GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC__BEHGJDDE" title="This table lists each scenario and shows whether it applies to transportable tablespaces and transportable tables.">Table 15-1</a> shows which feature can be used for each scenario.
                           </p>
                           <div class="tblformal" id="GUID-9D3BA96E-C9E8-44A7-AD78-1A2FA36FB8CC__BEHGJDDE">
                              <p class="titleintable">Table 15-1 Scenarios for Transportable Tablespaces and Transportable Tables</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Scenarios for Transportable Tablespaces and Transportable Tables" summary="This table lists each scenario and shows whether it applies to transportable tablespaces and transportable tables." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="60%" id="d158599e661">Scenarios</th>
                                       <th align="left" valign="bottom" width="20%" id="d158599e664">Transportable Tablespaces</th>
                                       <th align="left" valign="bottom" width="20%" id="d158599e667">Transportable Tables</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="60%" id="d158599e672" headers="d158599e661 ">
                                          <p><a href="transporting-data.html#GUID-8B2068FD-3006-4227-825A-1099A587B48F" title="You can use transportable tables and tranportable tablespaces to attach partitions for data warehousing.">Transporting and Attaching Partitions for Data Warehousing</a></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e672 d158599e664 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e672 d158599e667 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="60%" id="d158599e687" headers="d158599e661 ">
                                          <p><a href="transporting-data.html#GUID-9FF1EB3F-7401-47FE-A3FD-7D4634CC5EC5" title="Transportable tablespaces and transportable tables both provide a way to publish structured data on CDs.">Publishing Structured Data on CDs</a></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e687 d158599e664 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e687 d158599e667 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="60%" id="d158599e702" headers="d158599e661 ">
                                          <p><a href="transporting-data.html#GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA" title="When you use transportable tablespaces or transportable tables, the transported data is a self-contained set of files that can be imported into any Oracle database. Therefore, you can archive old or historical data in an enterprise data warehouse using the transportable tablespaces and transportable tables procedures.">Archiving Historical Data</a></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e702 d158599e664 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e702 d158599e667 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="60%" id="d158599e717" headers="d158599e661 ">
                                          <p><a href="transporting-data.html#GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A" title="You can use transportable tablespaces to perform tablespace point-in-time recovery (TSPITR).">Using Transportable Tablespaces to Perform TSPITR</a></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e717 d158599e664 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e717 d158599e667 ">
                                          <p>No</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="60%" id="d158599e732" headers="d158599e661 ">
                                          <p><a href="transporting-data.html#GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9" title="You can use transportable tables to move a table or a set of tables from one database to another without transporting the entire tablespaces that contain the tables. You can also copy or move individual partitions and subpartitions from one database to another using transportable tables.">Copying or Moving Individual Tables</a></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e732 d158599e664 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d158599e732 d158599e667 ">
                                          <p>Yes</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>The following sections describe these scenarios in more detail.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11404"></a><div class="props_rev_3"><a id="GUID-8B2068FD-3006-4227-825A-1099A587B48F" name="GUID-8B2068FD-3006-4227-825A-1099A587B48F"></a><h6 id="ADMIN-GUID-8B2068FD-3006-4227-825A-1099A587B48F" class="sect6"><span class="enumeration_section">15.1.2.2.2 </span>Transporting and Attaching Partitions for Data Warehousing
                        </h6>
                        <div>
                           <p>You can use transportable tables and tranportable tablespaces to attach partitions for data warehousing.</p>
                           <p>Typical enterprise data warehouses contain one or more large fact tables. These fact tables can be partitioned by date, making the enterprise data warehouse a historical database. You can build indexes to speed up star queries. Oracle recommends that you build local indexes for such historically partitioned tables to avoid rebuilding global indexes every time you drop the oldest partition from the historical database. </p>
                           <p>Suppose every month you would like to load one month of data into the data warehouse. There is a large fact table in the data warehouse called <code class="codeph">sales</code>, which has the following columns:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales (invoice_no NUMBER,
   sale_year  INT NOT NULL,
   sale_month INT NOT NULL,
   sale_day   INT NOT NULL)
   PARTITION BY RANGE (sale_year, sale_month, sale_day)
     (partition jan2011 VALUES LESS THAN (2011, 2, 1),
      partition feb2011 VALUES LESS THAN (2011, 3, 1),
      partition mar2011 VALUES LESS THAN (2011, 4, 1),
      partition apr2011 VALUES LESS THAN (2011, 5, 1),
      partition may2011 VALUES LESS THAN (2011, 6, 1),
      partition jun2011 VALUES LESS THAN (2011, 7, 1));
</pre><p>You create a local non-prefixed index:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX sales_index ON sales(invoice_no) LOCAL;
</pre><p>Initially, all partitions are empty, and are in the same default tablespace. Each month, you want to create one partition and attach it to the partitioned <code class="codeph">sales</code> table.
                           </p>
                           <p>Suppose it is July 2011, and you would like to load the July sales data into the partitioned table. In a staging database, you create a table, <code class="codeph">jul_sales</code> with the same column types as the <code class="codeph">sales</code> table. Optionally, you can create a new tablespace, <code class="codeph">ts_jul</code>, before you create the table, and create the table in this tablespace. You can create the table <code class="codeph">jul_sales</code> using the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ... <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement. After creating and populating <code class="codeph">jul_sales</code>, you can also create an index, <code class="codeph">jul_sale_index</code>, for the table, indexing the same column as the local index in the <code class="codeph">sales</code> table. For detailed information about creating and populating a staging table in a data warehousing environment, see <a href="../dwhsg/transportation-data-warehouses.html#DWHSG8301" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a>.
                           </p>
                           <p>After creating the table and building the index, transport the table's data to the data warehouse in one of the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can use transportable tables to transport the <code class="codeph">jul_sales</code> table to the data warehouse.
                                 </p>
                              </li>
                              <li>
                                 <p>If you created the <code class="codeph">ts_jul</code> tablespace, then you can use transportable tablespaces to transport the tablespace <code class="codeph">ts_jul</code> to the data warehouse.
                                 </p>
                              </li>
                           </ul>
                           <p>In the data warehouse, add a partition to the <code class="codeph">sales</code> table for the July sales data. This also creates another partition for the local non-prefixed index:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales ADD PARTITION jul2011 VALUES LESS THAN (2011, 8, 1);
</pre><p>Attach the transported table <code class="codeph">jul_sales</code> to the table <code class="codeph">sales</code> by exchanging it with the new partition:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales EXCHANGE PARTITION jul2011 WITH TABLE jul_sales 
   INCLUDING INDEXES
   WITHOUT VALIDATION;
</pre><p>This statement places the July sales data into the new partition <code class="codeph">jul2011</code>, attaching the new data to the partitioned table. This statement also converts the index <code class="codeph">jul_sale_index</code> into a partition of the local index for the <code class="codeph">sales</code> table. This statement should return immediately, because it only operates on the structural information and it simply switches database pointers. If you know that the data in the new partition does not overlap with data in previous partitions, you are advised to specify the <code class="codeph">WITHOUT VALIDATION</code> clause. Otherwise, the statement goes through all the new data in the new partition in an attempt to validate the range of that partition.
                           </p>
                           <p>If all partitions of the <code class="codeph">sales</code> table came from the same staging database (the staging database is never destroyed), then the exchange statement always succeeds. In general, however, if data in a partitioned table comes from different databases, then the exchange operation might fail. For example, if the <code class="codeph">jan2011</code> partition of <code class="codeph">sales</code> did not come from the same staging database, then the preceding exchange operation can fail, returning the following error:
                           </p><pre class="oac_no_warn" dir="ltr">ORA-19728: data object number conflict between table JUL_SALES and partition JAN2011 in table SALES
</pre><p>To resolve this conflict, move the offending partition by issuing the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales MOVE PARTITION jan2011;
</pre><p>Then retry the exchange operation.</p>
                           <p>After the exchange succeeds, you can safely drop <code class="codeph">jul_sales</code> and <code class="codeph">jul_sale_index</code> (both are now empty). Thus you have successfully loaded the July sales data into your data warehouse.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11405"></a><div class="props_rev_3"><a id="GUID-9FF1EB3F-7401-47FE-A3FD-7D4634CC5EC5" name="GUID-9FF1EB3F-7401-47FE-A3FD-7D4634CC5EC5"></a><h6 id="ADMIN-GUID-9FF1EB3F-7401-47FE-A3FD-7D4634CC5EC5" class="sect6"><span class="enumeration_section">15.1.2.2.3 </span>Publishing Structured Data on CDs
                        </h6>
                        <div>
                           <p>Transportable tablespaces and transportable tables both provide a way to publish structured data on CDs.</p>
                           <p>You can copy the data to be published, including the data files and export dump file, to a CD. This CD can then be distributed. If you are using transportable tablespaces, then you must generate a transportable set before copying the data to the CD.</p>
                           <p>When customers receive this CD, they can add the CD contents to an existing database without having to copy the data files from the CD to disk storage. For example, suppose on a Microsoft Windows system D: drive is the CD drive. You can import the data in data file <code class="codeph">catalog.f</code> and the export dump file <code class="codeph">expdat.dmp</code> as follows:
                           </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name/password</span> DUMPFILE=expdat.dmp DIRECTORY=dpump_dir
   TRANSPORT_DATAFILES='D:\catalog.f'  
</pre><p>You can remove the CD while the database is still up. Subsequent queries to the data return an error indicating that the database cannot open the data files on the CD. However, operations to other parts of the database are not affected. Placing the CD back into the drive makes the data readable again.</p>
                           <p>Removing the CD is the same as removing the data files of a read-only tablespace. If you shut down and restart the database, then the database indicates that it cannot find the removed data file and does not open the database (unless you set the initialization parameter <code class="codeph">READ_ONLY_OPEN_DELAYED</code> to <code class="codeph">TRUE</code>). When <code class="codeph">READ_ONLY_OPEN_DELAYED</code> is set to <code class="codeph">TRUE</code>, the database reads the file only when someone queries the data. Thus, when transporting data from a CD, set the <code class="codeph">READ_ONLY_OPEN_DELAYED</code> initialization parameter to <code class="codeph">TRUE</code>, unless the CD is permanently attached to the database.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-AA3D4235-2C5C-4841-9973-F62089A37FFE" name="GUID-AA3D4235-2C5C-4841-9973-F62089A37FFE"></a><h6 id="ADMIN-GUID-AA3D4235-2C5C-4841-9973-F62089A37FFE" class="sect6"><span class="enumeration_section">15.1.2.2.4 </span>Mounting the Same Tablespace Read-Only on Multiple Databases
                        </h6>
                        <div>
                           <p>You can use transportable tablespaces to mount a tablespace read-only on multiple databases.</p>
                           <p>In this way, separate databases can share the same data on disk instead of duplicating data on separate disks. The tablespace data files must be accessible by all databases. To avoid database corruption, the tablespace must remain read-only in all the databases mounting the tablespace, and the tablespace's data files must be read-only at the operating system level.</p>
                           <p>The following are two scenarios for mounting the same tablespace read-only on multiple databases:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The tablespace originates in a database that is separate from the databases that will share the tablespace.</p>
                                 <p>You generate a transportable set in the source database, put the transportable set onto a disk that is accessible to all databases, and then import the metadata into each database on which you want to mount the tablespace.</p>
                              </li>
                              <li>
                                 <p>The tablespace already belongs to one of the databases that will share the tablespace.</p>
                                 <p>It is assumed that the data files are already on a shared disk. In the database where the tablespace already exists, you make the tablespace read-only, generate the transportable set, and then import the tablespace into the other databases, leaving the data files in the same location on the shared disk.</p>
                              </li>
                           </ul>
                           <p>You can make a disk accessible by multiple computers in several ways. You can use either a cluster file system or raw disk. You can also use network file system (NFS), but be aware that if a user queries the shared tablespace while NFS is down, the database will hang until the NFS operation times out.</p>
                           <p>Later, you can drop the read-only tablespace in some of the databases. Doing so does not modify the data files for the tablespace. Thus, the drop operation does not corrupt the tablespace. Do not make the tablespace read/write unless only one database is mounting the tablespace.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11407"></a><div class="props_rev_3"><a id="GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA" name="GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA"></a><h6 id="ADMIN-GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA" class="sect6"><span class="enumeration_section">15.1.2.2.5 </span>Archiving Historical Data
                        </h6>
                        <div>
                           <p>When you use transportable tablespaces or transportable tables, the transported data is a self-contained set of files that can be imported into any Oracle database. Therefore, you can archive old or historical data in an enterprise data warehouse using the transportable tablespaces and transportable tables procedures.</p>
                           <div class="section"></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-F9A58819-23CA-40D0-8397-15660FB5E0DA__GUID-EECAB887-D7CD-4E13-9514-CF071182DD42">
                              <p class="notep1">See Also:</p>
                              <p><a href="../dwhsg/transportation-data-warehouses.html#DWHSG8301" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more details
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11408"></a><div class="props_rev_3"><a id="GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A" name="GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A"></a><h6 id="ADMIN-GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A" class="sect6"><span class="enumeration_section">15.1.2.2.6 </span>Using Transportable Tablespaces to Perform TSPITR
                        </h6>
                        <div>
                           <p>You can use transportable tablespaces to perform tablespace point-in-time recovery (TSPITR).</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-1ADBD956-8C31-40E4-8811-F19BC156AD7A__GUID-FCDEEBB6-A9A4-46FD-B666-F2E74DBE936C">
                              <p class="notep1">See Also:</p>
                              <p><a href="../bradv/performing-rman-tspitr.html#BRADV009" target="_blank"><span class="italic"> Oracle Database Backup and Recovery User's Guide</span></a> for information about how to perform TSPITR using transportable tablespaces
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13928"></a><div class="props_rev_3"><a id="GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9" name="GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9"></a><h6 id="ADMIN-GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9" class="sect6"><span class="enumeration_section">15.1.2.2.7 </span>Copying or Moving Individual Tables
                        </h6>
                        <div>
                           <p>You can use transportable tables to move a table or a set of tables from one database to another without transporting the entire tablespaces that contain the tables. You can also copy or move individual partitions and subpartitions from one database to another using transportable tables.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-09D3A7EA-FD5C-4149-A327-2F1C6949B3E9__GUID-25B24EC0-ADAD-4A23-916D-40232C069175">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379" title="You can transport tables, partitions, and subpartitions between databases.">Transporting Tables, Partitions, or Subpartitions Between Databases</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-5158E6EB-591A-4DF0-9A44-BAF1E10338A8" title="The transportable tablespaces or transportable tables feature is useful in several scenarios.">Scenarios for Transportable Tablespaces or Transportable Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN11395"></a><div class="props_rev_3"><a id="GUID-FE3003B9-605A-4269-B167-005AC778C870" name="GUID-FE3003B9-605A-4269-B167-005AC778C870"></a><h4 id="ADMIN-GUID-FE3003B9-605A-4269-B167-005AC778C870" class="sect4"><span class="enumeration_section">15.1.3 </span>Transporting Data Across Platforms
                  </h4>
                  <div>
                     <p>You can transport data across platforms.</p>
                     <p>The functionality of transporting data across platforms can be used to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enable a database to be migrated from one platform to another.</p>
                        </li>
                        <li>
                           <p>Provide an easier and more efficient means for content providers to publish structured data and distribute it to customers running Oracle Database on different platforms.</p>
                        </li>
                        <li>
                           <p>Simplify the distribution of data from a data warehouse environment to data marts, which are often running on smaller platforms.</p>
                        </li>
                        <li>
                           <p>Enable the sharing of read-only tablespaces between Oracle Database installations on different operating systems or platforms, assuming that your storage system is accessible from those platforms and the platforms all have the same endianness, as described in the sections that follow.</p>
                        </li>
                     </ul>
                     <p>Many, but not all, platforms are supported for cross-platform data transport. You can query the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view to see the platforms that are supported, and to determine each platform's endian format (byte ordering). The following query displays the platforms that support cross-platform data transport:
                     </p><pre class="oac_no_warn" dir="ltr">COLUMN PLATFORM_NAME FORMAT A40
COLUMN ENDIAN_FORMAT A14
 
SELECT PLATFORM_ID, PLATFORM_NAME, ENDIAN_FORMAT 
  FROM V$TRANSPORTABLE_PLATFORM
  ORDER BY PLATFORM_ID;

PLATFORM_ID PLATFORM_NAME                            ENDIAN_FORMAT
----------- ---------------------------------------- --------------
          1 Solaris[tm] OE (32-bit)                  Big
          2 Solaris[tm] OE (64-bit)                  Big
          3 HP-UX (64-bit)                           Big
          4 HP-UX IA (64-bit)                        Big
          5 HP Tru64 UNIX                            Little
          6 AIX-Based Systems (64-bit)               Big
          7 Microsoft Windows IA (32-bit)            Little
          8 Microsoft Windows IA (64-bit)            Little
          9 IBM zSeries Based Linux                  Big
         10 Linux IA (32-bit)                        Little
         11 Linux IA (64-bit)                        Little
         12 Microsoft Windows x86 64-bit             Little
         13 Linux x86 64-bit                         Little
         15 HP Open VMS                              Little
         16 Apple Mac OS                             Big
         17 Solaris Operating System (x86)           Little
         18 IBM Power Based Linux                    Big
         19 HP IA Open VMS                           Little
         20 Solaris Operating System (x86-64)        Little
         21 Apple Mac OS (x86-64)                    Little
</pre><p>If the source platform and the target platform are of the same endianness, then the data is transported from the source platform to the target platform without any data conversion.</p>
                     <p>If the source platform and the target platform are of different endianness, then the data being transported must be converted to the target platform format. You can convert the data using one of the following methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package
                           </p>
                           <p>When you use one of these procedures to move data files between the source platform and the target platform, each block in each data file is converted to the target platform's endianness. The conversion occurs on the target platform.</p>
                        </li>
                        <li>
                           <p>The RMAN <code class="codeph">CONVERT</code> command
                           </p>
                           <p>Run the RMAN <code class="codeph">CONVERT</code> command on the source or target platform. This command converts the data being transported to the target platform format.
                           </p>
                           <div class="infoboxnote" id="GUID-FE3003B9-605A-4269-B167-005AC778C870__GUID-F343AF05-3FEB-4B1E-B7AC-2CF107ACCB5B">
                              <p class="notep1">Note:</p>
                              <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                           </div>
                        </li>
                     </ul>
                     <p>Before the data in a data file can be transported to a different platform, the data file header must identify the platform to which it belongs. To transport read-only tablespaces between Oracle Database installations on different platforms, make the data file read/write at least once.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FE3003B9-605A-4269-B167-005AC778C870__GUID-376BEF20-20C7-4F80-AD06-72D260D5263E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11396"></a><div class="props_rev_3"><a id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173" name="GUID-28800719-6CB9-4A71-95DD-4B61AA603173"></a><h4 id="ADMIN-GUID-28800719-6CB9-4A71-95DD-4B61AA603173" class="sect4"><span class="enumeration_section">15.1.4 </span>General Limitations on Transporting Data
                  </h4>
                  <div>
                     <p>There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.</p>
                     <p>Be aware of the following general limitations as you plan to transport data:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The source and the target databases must use compatible database character sets. Specifically, one of the following must be true:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The database character sets of the source and the target databases are the same.</p>
                              </li>
                              <li>
                                 <p>The source database character set is a strict (binary) subset of the target database character set, and the following three conditions are true:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The source database is Oracle Database 10<span class="italic">g</span> Release 1 (10.1.0.3) or later.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The tablespaces to be transported contain no table columns with character length semantics or the maximum character width is the same in both the source and target database character sets.</p>
                                    </li>
                                    <li>
                                       <p>The data to be transported contains no columns with the <code class="codeph">CLOB</code> data type, or the source and the target database character sets are both single-byte or both multibyte. 
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The source database character set is a strict (binary) subset of the target database character set, and the following two conditions are true:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The source database is before Oracle Database 10<span class="italic">g</span> Release 1 (10.1.0.3).
                                       </p>
                                    </li>
                                    <li>
                                       <p>The maximum character width is the same in the source and target database character sets. </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173__GUID-8FDC40DD-E377-450A-B74E-9A4F9B49EBA6">
                              <p class="notep1">Note:</p>
                              <p>The subset-superset relationship between character sets recognized by Oracle Database is documented in the <a href="../nlspg/appendix-A-locale-data.html#NLSPG584" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a>.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>The source and the target databases must use compatible national character sets. Specifically, one of the following must be true:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The national character sets of the source and target databases are the same.</p>
                              </li>
                              <li>
                                 <p>The source database is Oracle Database 10<span class="italic">g</span> Release 1 (10.1.0.3) or later, and the tablespaces to be transported contain no columns with <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">NCLOB</code> data types.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>When running a transportable export operation, the following limitations apply:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The default tablespace of the user performing the export must not be one of the tablespaces being transported.</p>
                              </li>
                              <li>
                                 <p>The default tablespace of the user performing the export must be writable.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>In a non-CDB, you cannot transport a tablespace to a target database that contains a tablespace of the same name. </p>
                           <p>In a CDB, you cannot transport a tablespace to a target container that contains a tablespace of the same name. However, different containers can have tablespaces with the same name.</p>
                           <p>You can use the <code class="codeph">REMAP_TABLESPACE</code> import parameter to import the database objects into a different tablespace. Alternatively, before the transport operation, you can rename either the tablespace to be transported or the target tablespace.
                           </p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the Recovery Manager (RMAN) <code class="codeph">RECOVER</code> command can move tables to a different schema while remapping a tablespace. See <a href="../bradv/rman-recovering-tables-partitions.html#BRADV-GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>In a CDB, the default Data Pump directory object, <code class="codeph">DATA_PUMP_DIR</code>, does not work with PDBs. You must define an explicit directory object within the PDB that you are using with Data Pump export/import.
                           </p>
                        </li>
                        <li>
                           <p>Transporting data with XMLTypes has the following limitations:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The target database must have XML DB installed.</p>
                              </li>
                              <li>
                                 <p>Schemas referenced by XMLType tables cannot be the XML DB standard schemas.</p>
                              </li>
                              <li>
                                 <p>If the schema for a transported XMLType table is not present in the target database, then it is imported and registered. If the schema already exists in the target database, then a message is displayed during import.</p>
                              </li>
                              <li>
                                 <p>You must use only Data Pump to export and import the metadata for data that contains XMLTypes.</p>
                              </li>
                           </ul>
                           <p>The following query returns a list of tablespaces that contain XMLTypes:</p><pre class="oac_no_warn" dir="ltr">select distinct p.tablespace_name from dba_tablespaces p, 
  dba_xml_tables x, dba_users u, all_all_tables t where
  t.table_name=x.table_name and t.tablespace_name=p.tablespace_name
  and x.owner=u.username;
</pre><p>See <a href="../adxdb/intro-to-XML-DB.html#ADXDB3970" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> for information on XMLTypes.
                           </p>
                        </li>
                        <li>
                           <p>Types whose interpretation is application-specific and opaque to the database (such as <code class="codeph">RAW</code>, <code class="codeph">BFILE</code>, and the AnyTypes) can be transported, but they are not converted as part of the cross-platform transport operation. Their actual structure is known only to the application, so the application must address any endianness issues after these types are moved to the new platform. Types and objects that use these opaque types, either directly or indirectly, are also subject to this limitation.
                           </p>
                        </li>
                        <li>
                           <p>When you transport a tablespace containing tables with <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code> (TSLTZ) data between databases with different time zones, the tables with the TSLTZ data are not transported. Error messages describe the tables that were not transported. However, tables in the tablespace that do not contain TSLTZ data are transported.
                           </p>
                           <p>You can determine the time zone of a database with the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT DBTIMEZONE FROM DUAL;
</pre><p>You can alter the time zone for a database with an <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> SQL statement.
                           </p>
                           <p>You can use Data Pump to perform a conventional export/import of tables with TSLTZ data after the transport operation completes.</p>
                        </li>
                        <li>
                           <p>Analytic workspaces cannot be part of cross-platform transport operations. If the source platform and target platform are different, then use Data Pump export/import to export and import analytic workspaces. See <a href="../oladm/olap-dml-basic-concepts.html#OLADM107" target="_blank"><span class="italic">Oracle OLAP DML Reference</span></a> for more information about analytic workspaces.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-28800719-6CB9-4A71-95DD-4B61AA603173__GUID-1CE8C3EE-8D71-422D-85EF-2A94ECFCB736">
                        <p class="notep1">Note:</p>
                        <p>Do not invoke Data Pump export utility <code class="codeph">expdp</code> or import utility <code class="codeph">impdp</code> as <code class="codeph">SYSDBA</code>, except at the request of Oracle technical support. <code class="codeph">SYSDBA</code> is used internally and has specialized functions; its behavior is not the same as for general users.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="transporting-data.html#GUID-5A1ECB8A-63BC-471B-9BD0-6474ABFF9AA2" title="There are limitations on full transportable export/import.">Limitations on Full Transportable Export/import</a></li>
                           <li><a href="transporting-data.html#GUID-DAB51E42-9BBC-4001-B5CB-0ECDBE128787" title="This section lists the limitations on transportable tablespace.">Limitations on Transportable Tablespaces</a></li>
                           <li><a href="transporting-data.html#GUID-B05E88D1-689C-4E83-A32D-61D66A179A18" title="There are limitations on transportable tables.">Limitations on Transportable Tables</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13046"></a><a id="ADMIN11397"></a><div class="props_rev_3"><a id="GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C" name="GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C"></a><h4 id="ADMIN-GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C" class="sect4"><span class="enumeration_section">15.1.5 </span>Compatibility Considerations for Transporting Data
                  </h4>
                  <div>
                     <p>When transporting data, Oracle Database computes the lowest compatibility level at which the target database must run.</p>
                     <p>You can transport a tablespace or a table from a source database to a target database having the same or higher compatibility setting using transportable tablespaces, even if the target database is on the same or a different platform. The data transport operation fails if the compatibility level of the source database is higher than the compatibility level of the target database.</p>
                     <p>The following table shows the minimum compatibility requirements of the source and target databases in various scenarios. The source and target database need not have the same compatibility setting.</p>
                     <div class="tblformal" id="GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C__GUID-AC086468-6A1A-4516-AE04-CB12339B55B0">
                        <p class="titleintable">Table 15-2 Minimum Compatibility Requirements</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Minimum Compatibility Requirements" summary="The leftmost column lists three database scenarios. The second and third columns shows the minimum compatibility requirements for the source and target tablespace, respectively." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th rowspan="2" align="left" valign="bottom" width="37%" id="d158599e1626">Transport Scenario</th>
                                 <th colspan="2" class="text-center" valign="bottom" id="d158599e1629">Minimum Compatibility Setting</th>
                              </tr>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d158599e1633">Source Database</th>
                                 <th align="left" valign="bottom" width="31%" id="d158599e1636">Target Database</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d158599e1641" headers="d158599e1626 ">
                                    <p>Transporting a database using full transportable export/import</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1641 d158599e1629 d158599e1633 ">
                                    <p>12.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting for an Oracle Database 12<span class="italic">c</span> or later database
                                    </p>
                                    <p>12 (<code class="codeph">VERSION</code> Data Pump export parameter setting for an 11.2.0.3 or later database)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1641 d158599e1629 d158599e1636 ">
                                    <p>12.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d158599e1665" headers="d158599e1626 ">
                                    <p>Transporting a tablespace between databases on the same platform using transportable tablespaces</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1665 d158599e1629 d158599e1633 ">
                                    <p>8.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1665 d158599e1629 d158599e1636 ">
                                    <p>8.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d158599e1681" headers="d158599e1626 ">
                                    <p>Transporting a tablespace with different database block size than the target database using transportable tablespaces</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1681 d158599e1629 d158599e1633 ">
                                    <p>9.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1681 d158599e1629 d158599e1636 ">
                                    <p>9.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d158599e1697" headers="d158599e1626 ">
                                    <p>Transporting a tablespace between databases on different platforms using transportable tablespaces</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1697 d158599e1629 d158599e1633 ">
                                    <p>10.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1697 d158599e1629 d158599e1636 ">
                                    <p>10.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d158599e1713" headers="d158599e1626 ">
                                    <p>Transporting tables between databases</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1713 d158599e1629 d158599e1633 ">
                                    <p>11.2.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting for an Oracle Database 12<span class="italic">c</span> or later database
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d158599e1713 d158599e1629 d158599e1636 ">
                                    <p>11.2.0 (<code class="codeph">COMPATIBLE</code> initialization parameter setting)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C__GUID-6BF99C5C-7257-443E-A8F4-946A4009F53F">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;" id="GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C__UL_LPM_NZN_2GB">
                           <li>
                              <p>When you use full transportable export/import, the source database must be an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later database, and the target database must be an Oracle Database 12<span class="italic">c</span> or later database.
                              </p>
                           </li>
                           <li>
                              <p>When transporting a database from Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later database to Oracle Database 12<span class="italic">c</span> or later database, you must set the Data Pump export parameter <code class="codeph">VERSION</code> to <code class="codeph">12</code> or higher.
                              </p>
                           </li>
                           <li>
                              <p>When transporting a database from an Oracle Database 19c database to an Oracle Database 19c database, you must set the initialization parameter <code class="codeph">COMPATIBLE</code> to <code class="codeph">19.0.0</code> or higher.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13724"></a><div class="props_rev_3"><a id="GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" name="GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26"></a><h3 id="ADMIN-GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" class="sect3"><span class="enumeration_section">15.2 </span>Transporting Databases
               </h3>
               <p>You can transport a database to a new Oracle Database instance.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE">Introduction to Full Transportable Export/Import</a><br>You can use the full transportable export/import feature to copy an entire database from one Oracle Database instance to another.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-5A1ECB8A-63BC-471B-9BD0-6474ABFF9AA2">Limitations on Full Transportable Export/import</a><br>There are limitations on full transportable export/import.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7">Transporting a Database Using an Export Dump File</a><br>You can transport a database using an export dump file.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1">Transporting a Database Over the Network</a><br>You can transport a database over the network.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13725"></a><div class="props_rev_3"><a id="GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE" name="GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE"></a><h4 id="ADMIN-GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE" class="sect4"><span class="enumeration_section">15.2.1 </span>Introduction to Full Transportable Export/Import
                  </h4>
                  <div>
                     <p>You can use the full transportable export/import feature to copy an entire database from one Oracle Database instance to another.</p>
                     <p>You can use Data Pump to produce an export dump file, transport the dump file to the target database if necessary, and then import the export dump file. Alternatively, you can use Data Pump to copy the database over the network.</p>
                     <p>The tablespaces in the database being transported can be either dictionary managed or locally managed. The tablespaces in the database are not required to be of the same block size as the target database standard block size.</p>
                     <div class="infoboxnote" id="GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE__GUID-43E01286-EF59-418E-958C-D81A3E9748DD">
                        <p class="notep1">Note:</p>
                        <p>This method for transporting a database requires that you place the user-defined tablespaces in the database in read-only mode until you complete the export. If this is undesirable, then you can use the transportable tablespaces from backup feature described in <a href="../bradv/creating-transportable-tablespace-sets.html#BRADV05141" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AA3C177A-EBD8-459B-9F25-19F13C304EEE__GUID-9F7D1ADD-A687-4E79-A2C3-2CA288D4BB92">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13894"></a><div class="props_rev_3"><a id="GUID-5A1ECB8A-63BC-471B-9BD0-6474ABFF9AA2" name="GUID-5A1ECB8A-63BC-471B-9BD0-6474ABFF9AA2"></a><h4 id="ADMIN-GUID-5A1ECB8A-63BC-471B-9BD0-6474ABFF9AA2" class="sect4"><span class="enumeration_section">15.2.2 </span>Limitations on Full Transportable Export/import
                  </h4>
                  <div>
                     <p>There are limitations on full transportable export/import.</p>
                     <p>Be aware of the following limitations on full transportable export/import:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The general limitations described in <span class="q">"<a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173" title="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.">General Limitations on Transporting Data</a>"</span> apply to full transportable export/import.
                           </p>
                        </li>
                        <li>
                           <p>You cannot transport an encrypted tablespace to a platform with different endianness.</p>
                           <p>To transport an encrypted tablespace to a platform with the same endianness, during export set the <code class="codeph">ENCRYPTION_PWD_PROMPT</code> export utility parameter to <code class="codeph">YES</code>, or use the <code class="codeph">ENCRYPTION_PASSWORD</code> export utility parameter. During import, use the equivalent import utility parameter, and set the value to the same password that was used for the export.
                           </p>
                        </li>
                        <li>
                           <p>Full transportable export/import can export and import user-defined database objects in administrative tablespaces using conventional Data Pump export/import, such as direct path or external table. Administrative tablespaces are non-user tablespaces supplied with Oracle Database, such as the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces.
                           </p>
                        </li>
                        <li>
                           <p>Full transportable export/import cannot transport a database object that is defined in both an administrative tablespace (such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>) and a user-defined tablespace. For example, a partitioned table might be stored in both a user-defined tablespace and an administrative tablespace. If you have such database objects in your database, then you can redefine them before transporting them so that they are stored entirely in either an administrative tablespace or a user-defined tablespace. If the database objects cannot be redefined, then you can use conventional Data Pump export/import.
                           </p>
                        </li>
                        <li>
                           <p>When transporting a database over the network using full transportable export/import, auditing cannot be enabled for tables stored in an administrative tablespace (such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>) when the audit trail information itself is stored in a user-defined tablespace. See <a href="../dbseg/part_6.html#DBSEG006" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about auditing.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13727"></a><a id="ADMIN13729"></a><a id="ADMIN13731"></a><a id="ADMIN13732"></a><a id="ADMIN13733"></a><a id="ADMIN13734"></a><a id="ADMIN13726"></a><div class="props_rev_3"><a id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7" name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7"></a><h4 id="ADMIN-GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7" class="sect4"><span class="enumeration_section">15.2.3 </span>Transporting a Database Using an Export Dump File
                  </h4>
                  <div>
                     <p>You can transport a database using an export dump file.</p>
                     <div class="section">
                        <p>The following list of tasks summarizes the process of transporting a database using an export dump file. Details for each task are provided in the subsequent example.</p>
                        <ol>
                           <li>
                              <p>At the source database, configure each of the user-defined tablespaces in read-only mode and export the database.</p>
                              <p>Ensure that the following parameters are set to the specified values:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">TRANSPORTABLE=ALWAYS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FULL=Y</code></p>
                                 </li>
                              </ul>
                              <p>If the source database is an Oracle Database 11<span class="italic">g</span> database (11.2.0.3 or later), then you must set the <code class="codeph">VERSION</code> parameter to <code class="codeph">12</code> or higher.
                              </p>
                              <p>If the source database contains any encrypted tablespaces or tablespaces containing tables with encrypted columns, then you must either specify <code class="codeph">ENCRYPTION_PWD_PROMPT=YES</code>, or specify the <code class="codeph">ENCRYPTION_PASSWORD</code> parameter.
                              </p>
                              <p>The export dump file includes the metadata for objects contained within the user-defined tablespaces and both the metadata and data for user-defined objects contained within the administrative tablespaces, such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>.
                              </p>
                           </li>
                           <li>
                              <p>Transport the export dump file.</p>
                              <p>Copy the export dump file to a place that is accessible to the target database.</p>
                           </li>
                           <li>
                              <p>Transport the data files for all of the user-defined tablespaces in the database.</p>
                              <p>Copy the data files to a place that is accessible to the target database.</p>
                              <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view in <span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span>.
                              </p>
                              <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                                    </p>
                                    <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-9C9CBCC4-AFF9-426F-AB4E-C27CB7114A7A">
                                       <p class="notep1">Note:</p>
                                       <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                                    </div>
                                 </li>
                              </ul>
                              <p>See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>(Optional) Restore the user-defined tablespaces to read/write mode on the source database.</p>
                           </li>
                           <li>
                              <p>At the target database, import the database.</p>
                              <p>When the import is complete, the user-defined tablespaces are in read/write mode.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-A968C73D-3295-402C-BF34-33FB4763000D">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The tasks for transporting a database are illustrated in detail in this example. This example assumes that the source platform is Solaris and the target platform is Microsoft Windows.</p>
                        <p>It also assumes that the source platform has the following data files and tablespaces:</p>
                        <div class="tblformal" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-402E0B8E-FE63-4F9E-AF25-7F4555FD8526">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the data files and tablespaces for the source platform as an example. Column 1 provides the tablespace name, column 2 describes the tablespace type, and column 3 lists its datafile." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d158599e2176">Tablespace</th>
                                    <th align="left" valign="bottom" width="24%" id="d158599e2179">Type</th>
                                    <th align="left" valign="bottom" width="57%" id="d158599e2182">Data File</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2187" headers="d158599e2176 ">
                                       <p>sales</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2187 d158599e2179 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2187 d158599e2182 ">
                                       <p>/u01/app/oracle/oradata/mydb/sales01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2197" headers="d158599e2176 ">
                                       <p>customers</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2197 d158599e2179 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2197 d158599e2182 ">
                                       <p>/u01/app/oracle/oradata/mydb/cust01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2207" headers="d158599e2176 ">
                                       <p>employees</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2207 d158599e2179 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2207 d158599e2182 ">
                                       <p>/u01/app/oracle/oradata/mydb/emp01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2217" headers="d158599e2176 ">
                                       <p>SYSTEM</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2217 d158599e2179 ">
                                       <p>Administrative</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2217 d158599e2182 ">
                                       <p>/u01/app/oracle/oradata/mydb/system01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2227" headers="d158599e2176 ">
                                       <p>SYSAUX</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2227 d158599e2179 ">
                                       <p>Administrative</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2227 d158599e2182 ">
                                       <p>/u01/app/oracle/oradata/mydb/sysaux01.dbf</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This example makes the following additional assumptions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The target database is a new database that is being populated with the data from the source database. The name of the source database is <code class="codeph">mydb</code>.
                              </p>
                           </li>
                           <li>
                              <p>Both the source database and the target database are Oracle Database 19c databases. </p>
                           </li>
                        </ul>
                        <p>Complete the following tasks to transport the database using an export dump file:</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-DC0987E2-F2E5-4448-B2FB-C25FAC9AA026">
                                 <!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Generate the Export Dump File
                           </dt>
                           <dd>
                              <p>Generate the export dump file by completing the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Start SQL*Plus and connect to the database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Make all of the user-defined tablespaces in the database read-only.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ ONLY;

ALTER TABLESPACE customers READ ONLY;

ALTER TABLESPACE employees READ ONLY;
</pre></li>
                                 <li>
                                    <p>Invoke the Data Pump export utility as a user with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; HOST

$ expdp <span class="italic">user_name</span> full=y dumpfile=expdat.dmp directory=data_pump_dir 
        transportable=always logfile=export.log

Password: <span class="italic">password</span>
</pre><p>You must always specify <code class="codeph">TRANSPORTABLE=ALWAYS</code>, which determines whether the transportable option is used.
                                    </p>
                                    <p>This example specifies the following Data Pump parameters:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>The <code class="codeph">FULL</code> parameter specifies that the entire database is being exported. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">DUMPFILE</code> parameter specifies the name of the structural information export dump file to be created, <code class="codeph">expdat.dmp</code>. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that points to the operating system or Oracle Automatic Storage Management location of the dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Export utility. See <a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                          </p>
                                          <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                          </p>
                                          <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                          </p>
                                          <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-F395958A-2A2F-4668-B866-97039DA75405">
                                             <p class="notep1">See Also:</p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                                   </p>
                                                </li>
                                             </ul>
                                          </div>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the export utility. In this example, the log file is written to the same directory as the dump file, but it can be written to a different location.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>To perform a full transportable export on an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later Oracle Database 11<span class="italic">g</span> database, use the <code class="codeph">VERSION</code> parameter, as shown in the following example:
                                    </p><pre class="oac_no_warn" dir="ltr">expdp <span class="italic">user_name</span> full=y dumpfile=expdat.dmp directory=data_pump_dir 
      transportable=always version=12 logfile=export.log
</pre><p>Full transportable import is supported only for Oracle Database 12<span class="italic">c</span> and later databases.
                                    </p>
                                    <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-32300C0F-18BB-446D-A799-DF76914A1446">
                                       <p class="notep1">Note:</p>
                                       <p>In this example, the Data Pump utility is used to export only data dictionary structural information (metadata) for the user-defined tablespaces. Actual data is unloaded only for the administrative tablespaces (<code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>), so this operation goes relatively quickly even for large user-defined tablespaces.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Check the log file for errors, and take note of the dump file and data files that you must transport to the target database. <code class="codeph">expdp</code> outputs the names and paths of these files in messages like these:
                                    </p><pre class="oac_no_warn" dir="ltr">******************************************************************************
Dump file set for SYSTEM.SYS_EXPORT_TRANSPORTABLE_01 is:
  /u01/app/oracle/admin/mydb/dpdump/expdat.dmp
******************************************************************************
Datafiles required for transportable tablespace SALES:
  /u01/app/oracle/oradata/mydb/sales01.dbf
Datafiles required for transportable tablespace CUSTOMERS:
  /u01/app/oracle/oradata/mydb/cust01.dbf
Datafiles required for transportable tablespace EMPLOYEES:
  /u01/app/oracle/oradata/mydb/emp01.dbf
</pre></li>
                                 <li>
                                    <p>When finished, exit back to SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">$ exit</pre></li>
                              </ol>
                              <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-00761BE8-87CD-4678-AEAB-B6711887070D">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span class="italic">Oracle Database Utilities </span></a>for information about using the Data Pump utility
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-8B83801E-E630-45E9-ABDE-3BB4E7B7C568">
                                 <!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Transport the Export Dump File
                           </dt>
                           <dd>
                              <p>Transport the dump file to the directory pointed to by the <code class="codeph">DATA_PUMP_DIR</code> directory object, or to any other directory of your choosing. The new location must be accessible to the target database.
                              </p>
                              <p>At the target database, run the following query to determine the location of <code class="codeph">DATA_PUMP_DIR</code>:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DIRECTORIES WHERE DIRECTORY_NAME = 'DATA_PUMP_DIR';

OWNER      DIRECTORY_NAME   DIRECTORY_PATH
---------- ---------------- -----------------------------------
SYS        DATA_PUMP_DIR    C:\app\orauser\admin\orawin\dpdump\
</pre></dd>
                           <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-EC523CED-5A08-463D-A9FF-AEC2F603C857">
                                 <!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Transport the Data Files for the User-Defined Tablespaces
                           </dt>
                           <dd>
                              <p>Transport the data files of the user-defined tablespaces in the database to a place that is accessible to the target database.</p>
                              <p>In this example, transfer the following data files from the source database to the target database:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">sales01.dbf</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">cust01.dbf</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">emp01.dbf</code></p>
                                 </li>
                              </ul>
                              <p>If you are transporting the database to a platform different from the source platform, then determine if cross-platform database transport is supported for both the source and target platforms, and determine the endianness of each platform. If both platforms have the same endianness, then no conversion is necessary. Otherwise, you must do a conversion of each tablespace in the database, either at the source database or at the target database. </p>
                              <p>If you are transporting the database to a different platform, you can execute the following query on each platform. If the query returns a row, then the platform supports cross-platform tablespace transport.</p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre><p>The following is the query result from the source platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Solaris[tm] OE (32-bit)            Big
</pre><p>The following is the query result from the target platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Microsoft Windows IA (32-bit)      Little
</pre><p>In this example, you can see that the endian formats are different. Therefore, in this case, a conversion is necessary for transporting the database. Use either the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically. Transport the data files to the location of the existing data files of the target database. On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/. Alternatively, you can use the RMAN <code class="codeph">CONVERT</code> command to convert the data files. See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                              </p>
                              <div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-DB8CDFE4-37CF-45B6-A97C-F7DDADE7A274">
                                 <p class="notep1">Note:</p>
                                 <p>If no endianness conversion of the tablespaces is needed, then you can transfer the files using any file transfer method.</p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-4229FFC9-CB5B-4E18-9B46-16A7D609A31B">
                                 <!-- --></a>Task 4&nbsp;&nbsp;&nbsp;(Optional) Restore Tablespaces to Read/Write Mode
                           </dt>
                           <dd>
                              <p>Make the transported tablespaces read/write again at the source database, as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ WRITE;
ALTER TABLESPACE customers READ WRITE;
ALTER TABLESPACE employees READ WRITE;
</pre><p>You can postpone this task to first ensure that the import process succeeds.</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-84008ECA-E44F-4B86-BD5B-604935F22D19">
                                 <!-- --></a>Task 5&nbsp;&nbsp;&nbsp;At the Target Database, Import the Database
                           </dt>
                           <dd>
                              <p>Invoke the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                              </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> full=Y dumpfile=expdat.dmp directory=data_pump_dir
   transport_datafiles=
      '/u01/app/oracle/oradata/mydb/sales01.dbf',
      '/u01/app/oracle/oradata/mydb/cust01.dbf',
      '/u01/app/oracle/oradata/mydb/emp01.dbf'
   logfile=import.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">FULL</code> parameter specifies that the entire database is being imported in <code class="codeph">FULL</code> mode. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">DUMPFILE</code> parameter specifies the exported file containing the metadata for the user-defined tablespaces and both the metadata and data for the administrative tablespaces to be imported.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that identifies the location of the export dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Import utility. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                    </p>
                                    <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                    </p>
                                    <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-64A0F3C4-FAC2-41B7-9E14-C7B4D6E8B657">
                                       <p class="notep1">See Also:</p>
                                       <p></p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                             </p>
                                          </li>
                                          <li>
                                             <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files to be imported.
                                    </p>
                                    <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility. In this example, the log file is written to the directory from which the dump file is read, but it can be written to a different location.
                                    </p>
                                 </li>
                              </ul>
                              <p>After this statement executes successfully, check the import log file to ensure that no unexpected error has occurred.</p>
                              <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process. It can even exceed the statement line limit. In this situation, you can use an import parameter file. For example, you can invoke the Data Pump import utility as follows:</p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>For example, <code class="codeph">par.f</code> might contain the following lines:
                              </p><pre class="oac_no_warn" dir="ltr">FULL=Y
DUMPFILE=expdat.dmp 
DIRECTORY=data_pump_dir
TRANSPORT_DATAFILES=
'/u01/app/oracle/oradata/mydb/sales01.dbf',
'/u01/app/oracle/oradata/mydb/cust01.dbf',
'/u01/app/oracle/oradata/mydb/emp01.dbf'
LOGFILE=import.log
</pre><div class="infoboxnote" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-98FEE9C0-1907-460F-99DE-44C2D71E9BC1">
                                 <p class="notep1">Note:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>During the import, user-defined tablespaces might be temporarily made read/write for metadata loading. Ensure that no user changes are made to the data during the import. At the successful completion of the import, all user-defined tablespaces are made read/write.</p>
                                    </li>
                                    <li>
                                       <p>When performing a network database import, the <code class="codeph">TRANSPORTABLE</code> parameter must be set to <code class="codeph">always</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d158599e2699" class="indexterm-anchor"></a><a id="d158599e2703" class="indexterm-anchor"></a><a id="d158599e2707" class="indexterm-anchor"></a>When you are importing into a PDB in a CDB, specify the connect identifier for the PDB after the user name. For example, if the connect identifier for the PDB is <code class="codeph">hrpdb</code>, then enter the following when you run the Oracle Data Pump Import utility:
                                       </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span>@hrpdb ...</pre></li>
                                 </ul>
                              </div>
                              <div class="infoboxnotealso" id="GUID-05DFEA70-FDAF-4FAF-BF26-37225151A7D7__GUID-7A1B83CA-F24F-4E0A-A6BC-B55150EA2679">
                                 <p class="notep1">See Also:</p>
                                 <p> </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../multi/managing-a-multitenant-environment.html#MULTI-GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13874"></a><a id="ADMIN13875"></a><a id="ADMIN13876"></a><a id="ADMIN13877"></a><a id="ADMIN13878"></a><a id="ADMIN13895"></a><a id="ADMIN13873"></a><div class="props_rev_3"><a id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1" name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1"></a><h4 id="ADMIN-GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1" class="sect4"><span class="enumeration_section">15.2.4 </span>Transporting a Database Over the Network
                  </h4>
                  <div>
                     <p>You can transport a database over the network.</p>
                     <div class="section">
                        <p>To transport a database over the network, you perform an import using the <code class="codeph">NETWORK_LINK</code> parameter, the import is performed using a database link, and there is no dump file involved.
                        </p>
                        <p>The following list of tasks summarizes the process of transporting a database over the network. Details for each task are provided in the subsequent example.</p>
                        <ol>
                           <li>
                              <p>Create a database link from the target database to the source database.</p>
                              <p>The import operation must be performed by a user on the target database with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role, and the database link must connect to a user on the source database with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role. The user on the source database cannot be a user with <code class="codeph">SYSDBA</code> administrative privilege. If the database link is a connected user database link, then the user on the target database cannot be a user with <code class="codeph">SYSDBA</code> administrative privilege. See <span class="q">"<a href="distributed-database-concepts.html#GUID-27C0C352-804F-4545-B43C-E33FA4506E44" title="When creating the link, you determine which user should connect to the remote database to access the data.">Users of Database Links</a>"</span> for information about connected user database links.
                              </p>
                           </li>
                           <li>
                              <p>In the source database, make the user-defined tablespaces in the database read-only.</p>
                           </li>
                           <li>
                              <p>Transport the data files for the all of the user-defined tablespaces in the database.</p>
                              <p>Copy the data files to a place that is accessible to the target database.</p>
                              <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view in <span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span>.
                              </p>
                              <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                                    </p>
                                    <div class="infoboxnote" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-855AE69B-0881-4F82-B6DB-9B1FEC3C9FB4">
                                       <p class="notep1">Note:</p>
                                       <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                                    </div>
                                 </li>
                              </ul>
                              <p>See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>At the target database, import the database.</p>
                              <p>Invoke the Data Pump utility to import the metadata for the user-defined tablespaces and both the metadata and data for the administrative tablespaces.</p>
                              <p>Ensure that the following parameters are set to the specified values:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">TRANSPORTABLE=ALWAYS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TRANSPORT_DATAFILES=</code><span class="italic"><code class="codeph">list_of_datafiles</code></span></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">FULL=Y</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NETWORK_LINK=</code><span class="italic"><code class="codeph">source_database_link</code></span></p>
                                    <p>Replace <span class="italic"><code class="codeph">source_database_link</code></span> with the name of the database link to the source database.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">VERSION=12</code></p>
                                    <p>If the source database is an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later Oracle Database 11<span class="italic">g</span> database, then the <code class="codeph">VERSION</code> parameter is required and must be set to <code class="codeph">12</code>. If the source database is an Oracle Database 12<span class="italic">c</span> or later database, then the <code class="codeph">VERSION</code> parameter is not required.
                                    </p>
                                 </li>
                              </ul>
                              <p>If the source database contains any encrypted tablespaces or tablespaces containing tables with encrypted columns, then you must either specify <code class="codeph">ENCRYPTION_PWD_PROMPT=YES</code>, or specify the <code class="codeph">ENCRYPTION_PASSWORD</code> parameter.
                              </p>
                              <p>The Data Pump network import copies the metadata for objects contained within the user-defined tablespaces and both the metadata and data for user-defined objects contained within the administrative tablespaces, such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>.
                              </p>
                              <p>When the import is complete, the user-defined tablespaces are in read/write mode.</p>
                           </li>
                           <li>
                              <p>(Optional) Restore the user-defined tablespaces to read/write mode on the source database.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-CDC7755A-4C10-4D90-8948-E015325D8F9F">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>These tasks for transporting a database are illustrated more fully in the example that follows, where it is assumed the following data files and tablespaces exist:</p>
                        <div class="tblformal" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-88214CEC-A176-448C-A7D1-A6990B83C754">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the assumptions for the following example. Column 1 provides the tablespace name, column 2 describes the tablespace type, and column 3 lists its datafile." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d158599e2969">Tablespace</th>
                                    <th align="left" valign="bottom" width="24%" id="d158599e2972">Type</th>
                                    <th align="left" valign="bottom" width="57%" id="d158599e2975">Data File</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2980" headers="d158599e2969 ">
                                       <p>sales</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2980 d158599e2972 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2980 d158599e2975 ">
                                       <p>/u01/app/oracle/oradata/mydb/sales01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e2990" headers="d158599e2969 ">
                                       <p>customers</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e2990 d158599e2972 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e2990 d158599e2975 ">
                                       <p>/u01/app/oracle/oradata/mydb/cust01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e3000" headers="d158599e2969 ">
                                       <p>employees</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e3000 d158599e2972 ">
                                       <p>User-defined</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e3000 d158599e2975 ">
                                       <p>/u01/app/oracle/oradata/mydb/emp01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e3010" headers="d158599e2969 ">
                                       <p>SYSTEM</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e3010 d158599e2972 ">
                                       <p>Administrative</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e3010 d158599e2975 ">
                                       <p>/u01/app/oracle/oradata/mydb/system01.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d158599e3020" headers="d158599e2969 ">
                                       <p>SYSAUX</p>
                                    </td>
                                    <td align="left" valign="top" width="24%" headers="d158599e3020 d158599e2972 ">
                                       <p>Administrative</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d158599e3020 d158599e2975 ">
                                       <p>/u01/app/oracle/oradata/mydb/sysaux01.dbf</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This example makes the following additional assumptions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The target database is a new database that is being populated with the data from the source database. The name of the source database is <code class="codeph">sourcedb</code>.
                              </p>
                           </li>
                           <li>
                              <p>The source database and target database are running on the same platform with the same endianness.</p>
                              <p>To check the endianness of a platform, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre></li>
                           <li>
                              <p>The <code class="codeph">sales</code> tablespace is encrypted. The other tablespaces are not encrypted.
                              </p>
                           </li>
                           <li>
                              <p>The source database is an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) database and the target database is an Oracle Database 19c database.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-23F364A5-F51A-4829-BAE6-1608F0C873E7">
                           <p class="notep1">Note:</p>
                           <p>This example illustrates the tasks required to transport an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) to a new Oracle Database 19c PDB inside a CDB. These tasks also illustrate how to transport one non-CDB to another non-CDB.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-07B80F0F-7D7B-456A-AE8D-D624B1BD7499">
                           <p class="notep1">See Also:</p>
                           <p><a href="../multi/managing-a-multitenant-environment.html#MULTI-GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a></p>
                        </div>
                        <p>Complete the following tasks to transport the database over the network:</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-FAD7FB06-78B3-459C-8970-4F044C08E702">
                                 <!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Create a Database Link from the Target Database to the Source Database
                           </dt>
                           <dd>
                              <p>Create a database link from the target database to the source database by completing the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Ensure that network connectivity is configured between the source database and the target database.</p>
                                    <p>See <a href="../netag/index.html" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Start SQL*Plus and connect to the target database as the administrator who will transport the database with Data Pump import. This user must have <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role to transport the database.
                                    </p>
                                    <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Create the database link:</p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK sourcedb USING 'sourcedb';
</pre><p>Specify the service name for the source database in the using clause.</p>
                                    <p>During the import operation, the database link must connect to a user on the source database with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role. The user on the source database cannot be a user with <code class="codeph">SYSDBA</code> administrative privilege.
                                    </p>
                                 </li>
                              </ol>
                              <div class="infoboxnotealso" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-F24162DC-C314-4FD4-9EC6-4938130A0186">
                                 <p class="notep1">See Also:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="q">"<a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a>"</span></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-944628FF-D6F5-45E1-AE18-34D806BFCE4E">
                                 <!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Make the User-Defined Tablespaces Read-Only
                           </dt>
                           <dd>
                              <p>Complete the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Start SQL*Plus and connect to the source database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.
                                    </p>
                                    <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Make all of the user-defined tablespaces in the database read-only.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ ONLY;

ALTER TABLESPACE customers READ ONLY;

ALTER TABLESPACE employees READ ONLY;
</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-00FC8503-C849-4E12-9F0C-3ADCF3FF5C20">
                                 <!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Transport the Data Files for the User-Defined Tablespaces
                           </dt>
                           <dd>
                              <p>Transport the data files to the location of the existing data files of the target database.</p>
                              <p>On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/.
                              </p>
                              <p>In this example, transfer the following data files from the source database to the target database:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">sales01.dbf</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">cust01.dbf</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">emp01.dbf</code></p>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-6B0B2EAC-791B-4BE6-8198-3C2CFF8BB9B6">
                                 <p class="notep1">See Also:</p>
                                 <p> <span class="q">"<a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" title="You should follow a set of guidelines when transferring the data files.">Guidelines for Transferring Data Files</a>"</span></p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-6C757736-BD95-433F-80D8-04F91D92B50B">
                                 <!-- --></a>Task 4&nbsp;&nbsp;&nbsp;At the Target Database, Import the Database
                           </dt>
                           <dd>
                              <p>Invoke the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                              </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> full=Y network_link=sourcedb transportable=always 
   transport_datafiles=
      '/u01/app/oracle/oradata/mydb/sales01.dbf',
      '/u01/app/oracle/oradata/mydb/cust01.dbf',
      '/u01/app/oracle/oradata/mydb/emp01.dbf'
   encryption_pwd_prompt=YES version=12 logfile=import.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">FULL</code> parameter specifies that the entire database is being imported in <code class="codeph">FULL</code> mode. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">NETWORK_LINK</code> parameter specifies the database link used for the network import.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORTABLE</code> parameter specifies that the import uses the transportable option.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files to be imported.
                                    </p>
                                    <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">ENCRYPTION_PWD_PROMPT</code> parameter instructs Data Pump to prompt you for the encryption password, and Data Pump encrypts data and metadata sent over the network connection. Either the <code class="codeph">ENCRYPTION_PWD_PROMPT</code> parameter or the <code class="codeph">ENCRYPTION_PASSWORD</code> parameter is required when encrypted tablespaces or tables with encrypted columns are part of the import operation.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">VERSION</code> parameter is set to <code class="codeph">12</code> because the source database is an Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3) or later Oracle Database 11<span class="italic">g</span> database.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility.
                                    </p>
                                 </li>
                              </ul>
                              <p>After this statement executes successfully, check the import log file to ensure that no unexpected error has occurred.</p>
                              <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process. It can even exceed the statement line limit. In this situation, you can use an import parameter file.</p>
                              <p>Use of an import parameter file is also recommended when encrypted tablespaces or tables with encrypted columns are part of the import operation. In this case, specify <code class="codeph">ENCRYPTION_PWD_PROMPT=YES</code> in the import parameter file.
                              </p>
                              <p>For example, you can invoke the Data Pump import utility as follows:</p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>For example, <code class="codeph">par.f</code> might contain the following lines:
                              </p><pre class="oac_no_warn" dir="ltr">FULL=Y
NETWORK_LINK=sourcedb 
TRANSPORTABLE=always
TRANSPORT_DATAFILES=
'/u01/app/oracle/oradata/mydb/sales01.dbf',
'/u01/app/oracle/oradata/mydb/cust01.dbf',
'/u01/app/oracle/oradata/mydb/emp01.dbf'
ENCRYPTION_PWD_PROMPT=YES
VERSION=12
LOGFILE=import.log
</pre><div class="infoboxnote" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-609A291B-F8EE-4D67-9BD4-83F3DD7430D2">
                                 <p class="notep1">Note:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>During the import, user-defined tablespaces might be temporarily made read/write for metadata loading. Ensure that no user changes are made to the data during the import. At the successful completion of the import, all user-defined tablespaces are made read/write.</p>
                                    </li>
                                    <li>
                                       <p><a id="d158599e3342" class="indexterm-anchor"></a><a id="d158599e3346" class="indexterm-anchor"></a><a id="d158599e3350" class="indexterm-anchor"></a>When you are importing into a PDB in a CDB, specify the connect identifier for the PDB after the user name. For example, if the connect identifier for the PDB is <code class="codeph">hrpdb</code>, then enter the following when you run the Oracle Data Pump Import utility:
                                       </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span>@hrpdb ...</pre></li>
                                 </ul>
                              </div>
                              <div class="infoboxnotealso" id="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-84ED5E1B-C46A-475D-B457-446E8DFC8200">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility 
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-032C9715-B2F8-4ACD-8A1C-C1A899DEA3C1__GUID-677D71FF-7876-4A16-9206-87CE48853C93">
                                 <!-- --></a>Task 5&nbsp;&nbsp;&nbsp;(Optional) Restore User-Defined Tablespaces to Read/Write Mode
                           </dt>
                           <dd>
                              <p>Make the user-defined tablespaces read/write again at the source database, as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales READ WRITE;

ALTER TABLESPACE customers READ WRITE;

ALTER TABLESPACE employees READ WRITE;
</pre><p>You can postpone this task to first ensure that the import process succeeds.</p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-399ECCDE-1E8C-432E-AACD-6DE2AD6A4B26" title="You can transport a database to a new Oracle Database instance.">Transporting Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11394"></a><div class="props_rev_3"><a id="GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" name="GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB"></a><h3 id="ADMIN-GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" class="sect3"><span class="enumeration_section">15.3 </span>Transporting Tablespaces Between Databases
               </h3>
               <div>
                  <p>You can transport tablespaces between databases.</p>
                  <div class="infoboxnote" id="GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB__GUID-B2E8A834-D8C4-4D19-BC34-B5B63426C5A8">
                     <p class="notep1">Note:</p>
                     <p>To import a transportable tablespace set into an Oracle database on a different platform, both databases must have compatibility set to at least 10.0.0. See <span class="q">"<a href="transporting-data.html#GUID-AC5C8D9D-796A-4EDE-AC35-AF963ECCFE5C" title="When transporting data, Oracle Database computes the lowest compatibility level at which the target database must run.">Compatibility Considerations for Transporting Data</a>"</span> for a discussion of database compatibility for transporting tablespaces across release levels.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-9304426D-9D40-4F0D-8661-F53B608A652F">Introduction to Transportable Tablespaces</a><br>You can use the transportable tablespaces feature to copy a set of tablespaces from one Oracle Database to another.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-DAB51E42-9BBC-4001-B5CB-0ECDBE128787">Limitations on Transportable Tablespaces</a><br>This section lists the limitations on transportable tablespace.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C">Transporting Tablespaces Between Databases</a><br>You can transport a tablespace or a set of tablespaces between databases.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN01101"></a><div class="props_rev_3"><a id="GUID-9304426D-9D40-4F0D-8661-F53B608A652F" name="GUID-9304426D-9D40-4F0D-8661-F53B608A652F"></a><h4 id="ADMIN-GUID-9304426D-9D40-4F0D-8661-F53B608A652F" class="sect4"><span class="enumeration_section">15.3.1 </span>Introduction to Transportable Tablespaces
                  </h4>
                  <div>
                     <p>You can use the transportable tablespaces feature to copy a set of tablespaces from one Oracle Database to another.</p>
                     <p>The tablespaces being transported can be either dictionary managed or locally managed. The transported tablespaces are not required to be of the same block size as the target database standard block size. These scenarios are discussed in <span class="q">"<a href="transporting-data.html#GUID-DE09D211-D0C8-481A-9ECE-1F4B702E9452" title="Transporting data is useful in several scenarios.">Transporting Data: Scenarios</a>"</span>.
                     </p>
                     <p>There are two ways to transport a tablespace:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Manually, following the steps described in this section. This involves issuing commands to SQL*Plus and Data Pump.</p>
                        </li>
                        <li>
                           <p>Using the Transport Tablespaces Wizard in Oracle Enterprise Manager Cloud Control</p>
                           <p><span class="bold">To run the Transport Tablespaces Wizard:</span></p>
                           <ol>
                              <li>
                                 <p>Log in to Cloud Control with a user that has the <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role.
                                 </p>
                              </li>
                              <li>
                                 <p>Access the Database Home page.</p>
                              </li>
                              <li>
                                 <p>From the Schema menu, select <span class="bold">Database Export/Import</span>, then <span class="bold">Transport Tablespaces</span>.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-9304426D-9D40-4F0D-8661-F53B608A652F__GUID-A81DF2AA-C824-4369-81CE-28D0A434E360">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This method for transporting tablespaces requires that you place the tablespaces to be transported in read-only mode until you complete the transporting process. If this is undesirable, you can use the <a id="d158599e3543" class="indexterm-anchor"></a>transportable tablespaces from backup feature, described in <a href="../bradv/creating-transportable-tablespace-sets.html#BRADV05141" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>.
                              </p>
                           </li>
                           <li>
                              <p>You must use Data Pump for transportable tablespaces. The only circumstance under which you can use the original import and export utilities, IMP and EXP, is for a backward migration of XMLType data to an Oracle Database 10<span class="italic">g</span> Release 2 (10.2) or earlier database. See <a href="../sutil/index.html" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information on these utilities and to <a href="../adxdb/intro-to-XML-DB.html#ADXDB3970" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> for more information on XMLTypes.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9304426D-9D40-4F0D-8661-F53B608A652F__GUID-AEB8870E-DE9A-4736-AFA7-4449D5E70587">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="transporting-data.html#GUID-C8044A0E-B870-4F21-8D46-5CE5EFE7F0D9" title="You can transport data at the following levels: database, tablespaces, tables, partitions, and subpartitions.">About Transporting Data</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../dwhsg/transportation-data-warehouses.html#DWHSG8301" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about using transportable tablespaces in a data warehousing environment
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13896"></a><div class="props_rev_3"><a id="GUID-DAB51E42-9BBC-4001-B5CB-0ECDBE128787" name="GUID-DAB51E42-9BBC-4001-B5CB-0ECDBE128787"></a><h4 id="ADMIN-GUID-DAB51E42-9BBC-4001-B5CB-0ECDBE128787" class="sect4"><span class="enumeration_section">15.3.2 </span>Limitations on Transportable Tablespaces
                  </h4>
                  <div>
                     <p>This section lists the limitations on transportable tablespace.</p>
                     <p>Be aware of the following limitations for transportable tablespaces:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The general limitations described in <span class="q">"<a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173" title="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.">General Limitations on Transporting Data</a>"</span> apply to transportable tablespaces.
                           </p>
                        </li>
                        <li>
                           <p>When transporting a tablespace set, objects with underlying objects (such as materialized views) or contained objects (such as partitioned tables) are not transportable unless all of the underlying or contained objects are in the tablespace set.</p>
                        </li>
                        <li>
                           <p>Transportable tablespaces cannot transport tables with <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> (TSTZ) data across platforms with different time zone file versions. The transportable tablespace operation skips these tables. You can export and import these tables conventionally.
                           </p>
                           <p>See <a href="../sutil/oracle-data-pump-overview.html#SUTIL4292" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>You cannot include administrative tablespaces, such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> in a transportable tablespace set.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12607"></a><a id="ADMIN10140"></a><div class="props_rev_3"><a id="GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" name="GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C"></a><h4 id="ADMIN-GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" class="sect4"><span class="enumeration_section">15.3.3 </span>Transporting Tablespaces Between Databases
                  </h4>
                  <div>
                     <p>You can transport a tablespace or a set of tablespaces between databases.</p>
                     <div class="section">
                        <p>The following list of tasks summarizes the process of transporting a tablespace. Details for each task are provided in the subsequent example.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Pick a self-contained set of tablespaces.</span></li>
                        <li class="stepexpand"><span>At the source database, configure the set of tablespaces in read-only mode and generate a transportable tablespace set.</span><div>
                              <p>A transportable tablespace set (or transportable set) consists of data files for the set of tablespaces being transported and an export dump file containing structural information (metadata) for the set of tablespaces. You use Data Pump to perform the export.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Transport the export dump file.</span><div>
                              <p>Copy the export dump file to a place that is accessible to the target database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Transport the tablespace set.</span><div>
                              <p>Copy the data files to a directory that is accessible to the target database.</p>
                              <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view.
                              </p>
                              <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                                    </p>
                                    <div class="infoboxnote" id="GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C__GUID-63CB5E30-AE50-4AF5-B33C-5824DF05EE56">
                                       <p class="notep1">Note:</p>
                                       <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) Restore tablespaces to read/write mode on the source database.</span></li>
                        <li class="stepexpand"><span>At the target database, import the tablespace set.</span><div>
                              <p>Run the Data Pump utility to import the metadata for the tablespace set.</p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C__GUID-EE6E795C-760E-4B65-A4C1-0455EC60ED6E">
                        <p class="titleinexample">Example 15-1 Example</p>
                        <p>These tasks for transporting a tablespace are illustrated more fully in the example that follows, where it is assumed the following data files and tablespaces exist: </p>
                        <div class="tblformal" id="GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C__GUID-CD9FD4F3-4253-44BE-92C4-A1D64CF7DAAF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the assumptions for the following example. Column 1 provides the tablespace name, column 2 lists its datafile." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d158599e3795">Tablespace</th>
                                    <th align="left" valign="bottom" width="71%" id="d158599e3798">Data File</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d158599e3803" headers="d158599e3795 ">
                                       <p><code class="codeph">sales_1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d158599e3803 d158599e3798 ">
                                       <p><code class="codeph">/u01/app/oracle/oradata/salesdb/sales_101.dbf</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d158599e3813" headers="d158599e3795 ">
                                       <p><code class="codeph">sales_2</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d158599e3813 d158599e3798 ">
                                       <p><code class="codeph">/u01/app/oracle/oradata/salesdb/sales_201.dbf</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2">Task 1: Pick a Self-Contained Set of Tablespaces</a><br>There may be logical or physical dependencies between the database objects in the transportable set and the database objects outside of the transportable set. You can only transport a tablespace set that is self-contained, that is, none of the database objects inside a tablespace set are dependent on any of the database objects outside of that tablespace set.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-95D18E42-D533-46B7-9910-291EACFF06AD">Task 2: Generate a Transportable Tablespace Set</a><br>After ensuring that you have a self-contained set of tablespaces that you want to transport, generate a transportable tablespace set.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-CEDFBF9B-3A3B-43D4-9FF2-84EA2537BA8C">Task 3: Transport the Export Dump File</a><br>Transport the dump file to the directory pointed to by the <code class="codeph">DATA_PUMP_DIR</code> directory object, or to any other directory of your choosing. The new location must be accessible to the target database.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-41D10DCA-7733-4E4C-A41A-B94F63A82F7C">Task 4: Transport the Tablespace Set</a><br>Transport the data files of the tablespaces to a directory that is accessible to the target database.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-089D9EC2-4736-4B6F-9CF2-B78206110224">Task 5: (Optional) Restore Tablespaces to Read/Write Mode</a><br>Make the transported tablespaces read/write again at the source database.
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF">Task 6: Import the Tablespace Set</a><br>To complete the transportable tablespaces operation, import the tablespace set.
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a></li>
                           <li><a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-F7B2B591-AA88-4D16-8DCF-712763923FFB" title="You can transport tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11399"></a><div class="props_rev_3"><a id="GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2" name="GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2"></a><h5 id="ADMIN-GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2" class="sect5"><span class="enumeration_section">15.3.3.1 </span>Task 1: Pick a Self-Contained Set of Tablespaces
                     </h5>
                     <div>
                        <p>There may be logical or physical dependencies between the database objects in the transportable set and the database objects outside of the transportable set. You can only transport a tablespace set that is self-contained, that is, none of the database objects inside a tablespace set are dependent on any of the database objects outside of that tablespace set.</p>
                        <div class="section">
                           <p>Some examples of self-contained tablespace violations are:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>An index inside the set of tablespaces is for a table outside of the set of tablespaces.</p>
                                 <div class="infoboxnote" id="GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2__GUID-D7B7271E-6765-4A35-9FAC-0CC9C161012E">
                                    <p class="notep1">Note:</p>
                                    <p>It is not a violation if a corresponding index for a table is outside of the set of tablespaces.</p>
                                 </div>
                              </li>
                              <li>
                                 <p>A partitioned table is partially contained in the set of tablespaces.</p>
                                 <p>The tablespace set that you want to copy must contain either all partitions of a partitioned table, or none of the partitions of a partitioned table. To transport a subset of a partition table, you must exchange the partitions into tables.</p>
                                 <p>See <a href="../vldbg/maintenance-partition-tables-indexes.html#VLDBG1156" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about exchanging partitions.
                                 </p>
                              </li>
                              <li>
                                 <p>A referential integrity constraint points to a table across a set boundary.</p>
                                 <p>When transporting a set of tablespaces, you can choose to include referential integrity constraints. However, doing so can affect whether a set of tablespaces is self-contained. If you decide not to transport constraints, then the constraints are not considered as pointers. </p>
                              </li>
                              <li>
                                 <p>A table inside the set of tablespaces contains a <code class="codeph">LOB</code> column that points to <code class="codeph">LOB</code>s outside the set of tablespaces.
                                 </p>
                              </li>
                              <li>
                                 <p>An XML DB schema (*.xsd) that was registered by user A imports a global schema that was registered by user B, and the following is true: the default tablespace for user A is tablespace A, the default tablespace for user B is tablespace B, and only tablespace A is included in the set of tablespaces.</p>
                              </li>
                           </ul>
                           <p>To determine whether a set of tablespaces is self-contained, run the <code class="codeph">TRANSPORT_SET_CHECK</code> procedure in the Oracle supplied package <code class="codeph">DBMS_TTS</code>. You must have been granted the <code class="codeph">EXECUTE_CATALOG_ROLE</code> role (initially signed to <code class="codeph">SYS</code>) to run this procedure. 
                           </p>
                           <p>When you run the <code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code> procedure, specify the list of tablespaces in the transportable set to be checked for self containment. You can optionally specify if constraints must be included. For strict or full containment, you must additionally set the <code class="codeph">TTS_FULL_CHECK</code> parameter to <code class="codeph">TRUE</code>. 
                           </p>
                           <p>The strict or full containment check is for cases that require capturing not only references going outside the transportable set, but also those coming into the set. Tablespace Point-in-Time Recovery (TSPITR) is one such case where dependent objects must be fully contained or fully outside the transportable set. </p>
                           <p>For example, it is a violation to perform TSPITR on a tablespace containing a table <code class="codeph">t</code> but not its index <code class="codeph">i</code> because the index and data will be inconsistent after the transport. A full containment check ensures that there are no dependencies going outside or coming into the transportable set. See the example for TSPITR in the <a href="../bradv/performing-rman-tspitr.html#BRADV89796" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>. 
                           </p>
                           <div class="infoboxnote" id="GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2__GUID-1E5E0575-9246-4BD4-91C0-BE81589C0859">
                              <p class="notep1">Note:</p>
                              <p>The default for transportable tablespaces is to check for self containment rather than full containment.</p>
                           </div>
                           <p>The following statement can be used to determine whether tablespaces <code class="codeph">sales_1</code> and <code class="codeph">sales_2</code> are self-contained, with referential integrity constraints taken into consideration (indicated by <code class="codeph">TRUE</code>). 
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_TTS.TRANSPORT_SET_CHECK('sales_1,sales_2', TRUE);
</pre><p>After running the <code class="codeph">DBMS_TTS.TRANSPORT_SET_CHECK</code> procedure, you can see all the violations by selecting from the <code class="codeph">TRANSPORT_SET_VIOLATIONS</code> view<span class="italic">.</span> If the set of tablespaces is self-contained, then this view is empty. The following example illustrates a case where there are two violations: a foreign key constraint, <code class="codeph">dept_fk</code>, across the tablespace set boundary, and a partitioned table, <code class="codeph">jim.sales</code>, that is partially contained in the tablespace set. 
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TRANSPORT_SET_VIOLATIONS;

VIOLATIONS
---------------------------------------------------------------------------
Constraint DEPT_FK between table JIM.EMP in tablespace SALES_1 and table
JIM.DEPT in tablespace OTHER
Partitioned table JIM.SALES is partially contained in the transportable set
</pre><p>You must resolve these violations before <code class="codeph">sales_1</code> and <code class="codeph">sales_2</code> are transportable. As noted in the next task, one choice for bypassing the integrity constraint violation is to not to export the integrity constraints.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BF7A7711-499D-4E54-A3E9-D51950E562B2__GUID-7FC3B229-B978-44F1-85BF-9DD21BD699D2">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_TTS.html#ARPLS063" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_TTS</code> package
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../bradv/performing-rman-tspitr.html#BRADV89796" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information specific to using the <code class="codeph">DBMS_TTS</code> package for TSPITR
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11400"></a><div class="props_rev_3"><a id="GUID-95D18E42-D533-46B7-9910-291EACFF06AD" name="GUID-95D18E42-D533-46B7-9910-291EACFF06AD"></a><h5 id="ADMIN-GUID-95D18E42-D533-46B7-9910-291EACFF06AD" class="sect5"><span class="enumeration_section">15.3.3.2 </span>Task 2: Generate a Transportable Tablespace Set
                     </h5>
                     <div>
                        <p>After ensuring that you have a self-contained set of tablespaces that you want to transport, generate a transportable tablespace set.</p>
                        <div class="section">
                           <p>To generate a transportable tablespace set:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Start SQL*Plus and connect to the database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.</span></li>
                           <li class="stepexpand"><span>Make all tablespaces in the set read-only.</span><div><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales_1 READ ONLY;

ALTER TABLESPACE sales_2 READ ONLY;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the Data Pump export utility as a user with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role and specify the tablespaces in the transportable set.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; HOST

$ expdp <span class="italic">user_name</span> dumpfile=expdat.dmp directory=data_pump_dir 
        transport_tablespaces=sales_1,sales_2 logfile=tts_export.log

Password: <span class="italic">password</span>
</pre><p>You must always specify <code class="codeph">TRANSPORT_TABLESPACES</code>, which specifies that the transportable option is used. This example specifies the following additional Data Pump parameters:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">DUMPFILE</code> parameter specifies the name of the structural information export dump file to be created, <code class="codeph">expdat.dmp</code>. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that points to the operating system or Oracle Automatic Storage Management location of the dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Export utility.
                                       </p>
                                       <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                       </p>
                                       <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">LOGFILE</code> parameter specifies the log file to create for the export utility. In this example, the log file is created in the same directory as the dump file, but you can specify any other directory for storing the log file.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Triggers and indexes are included in the export operation by default. </p>
                                    </li>
                                 </ul>
                                 <p>To perform a transport tablespace operation with a strict containment check, use the <code class="codeph">TRANSPORT_FULL_CHECK</code> parameter, as shown in the following example:
                                 </p><pre class="oac_no_warn" dir="ltr">expdp <span class="italic">use_name</span> dumpfile=expdat.dmp directory=data_pump_dir
      transport_tablespaces=sales_1,sales_2 transport_full_check=y
      logfile=tts_export.log
</pre><p>In this case, the Data Pump export utility verifies that there are no dependencies between the objects inside the transportable set and objects outside the transportable set. If the tablespace set being transported is not self-contained, then the export fails and indicates that the transportable set is not self-contained. You must resolve these violations and then run this task again.</p>
                                 <div class="infoboxnote" id="GUID-95D18E42-D533-46B7-9910-291EACFF06AD__GUID-1F177546-8F81-4C16-A6C2-5ECE4012A97A">
                                    <p class="notep1">Note:</p>
                                    <p>In this example, the Data Pump utility is used to export only data dictionary structural information (metadata) for the tablespaces. No actual data is unloaded, so this operation goes relatively quickly even for large tablespace sets.</p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>The <code class="codeph">expdp</code> utility displays the names and paths of the dump file and the data files on the command line as shown in the following example. These are the files that you need to transport to the target database. Also, check the log file for any errors.</span><div><pre class="oac_no_warn" dir="ltr">*****************************************************************************
Dump file set for SYSTEM.SYS_EXPORT_TRANSPORTABLE_01 is:
  /u01/app/oracle/admin/salesdb/dpdump/expdat.dmp
*****************************************************************************
Datafiles required for transportable tablespace SALES_1:
  /u01/app/oracle/oradata/salesdb/sales_101.dbf
Datafiles required for transportable tablespace SALES_2:
  /u01/app/oracle/oradata/salesdb/sales_201.dbf
</pre></div>
                           </li>
                           <li class="stepexpand"><span>When the Data Pump export operation is completed, exit the <code class="codeph">expdp</code> utility to return to SQL*Plus:</span><div><pre class="oac_no_warn" dir="ltr">$ EXIT</pre><div class="infoboxnotealso" id="GUID-95D18E42-D533-46B7-9910-291EACFF06AD__GUID-8E749174-6CA7-491F-89F5-C6974ECBC064">
                                    <p class="notep1">See Also:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE DIRECTORY</code> command
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="../sutil/oracle-data-pump-export-utility.html#SUTIL200" target="_blank"><span class="italic">Oracle Database Utilities </span></a>for information about using the Data Pump utility
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13736"></a><div class="props_rev_3"><a id="GUID-CEDFBF9B-3A3B-43D4-9FF2-84EA2537BA8C" name="GUID-CEDFBF9B-3A3B-43D4-9FF2-84EA2537BA8C"></a><h5 id="ADMIN-GUID-CEDFBF9B-3A3B-43D4-9FF2-84EA2537BA8C" class="sect5"><span class="enumeration_section">15.3.3.3 </span>Task 3: Transport the Export Dump File
                     </h5>
                     <div>
                        <p>Transport the dump file to the directory pointed to by the <code class="codeph">DATA_PUMP_DIR</code> directory object, or to any other directory of your choosing. The new location must be accessible to the target database.
                        </p>
                        <div class="section">
                           <p>At the target database, run the following query to determine the location of <code class="codeph">DATA_PUMP_DIR</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DIRECTORIES WHERE DIRECTORY_NAME = 'DATA_PUMP_DIR';

OWNER      DIRECTORY_NAME   DIRECTORY_PATH
---------- ---------------- -----------------------------------
SYS        DATA_PUMP_DIR    C:\app\orauser\admin\orawin\dpdump\
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11401"></a><div class="props_rev_3"><a id="GUID-41D10DCA-7733-4E4C-A41A-B94F63A82F7C" name="GUID-41D10DCA-7733-4E4C-A41A-B94F63A82F7C"></a><h5 id="ADMIN-GUID-41D10DCA-7733-4E4C-A41A-B94F63A82F7C" class="sect5"><span class="enumeration_section">15.3.3.4 </span>Task 4: Transport the Tablespace Set
                     </h5>
                     <div>
                        <p>Transport the data files of the tablespaces to a directory that is accessible to the target database.</p>
                        <div class="section">
                           <p>In this example, transfer the following files from the source database to the target database:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">sales_101.dbf</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">sales_201.dbf</code></p>
                              </li>
                           </ul>
                           <p>If you are transporting the tablespace set to a platform different from the source platform, then determine if cross-platform tablespace transport is supported for both the source and target platforms, and determine the endianness of each platform. If both platforms have the same endianness, then no conversion is necessary. Otherwise, you must do the data conversion either at the source database or at the target database.</p>
                           <p>If you are transporting <code class="codeph">sales_1</code> and <code class="codeph">sales_2</code> to a different platform, then you can run the following query on each platform. If the query returns a row, the platform supports cross-platform tablespace transport.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre><p>The following is the query result from the source platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Solaris[tm] OE (32-bit)            Big
</pre><p>The following is the result from the target platform:</p><pre class="oac_no_warn" dir="ltr">PLATFORM_NAME                      ENDIAN_FORMAT
---------------------------------- --------------
Microsoft Windows IA (32-bit)      Little
</pre><p>In this example, you can see that the endian formats are different. Therefore, in this case, a conversion is necessary for transporting the database. Use either the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically. Transport the data files to the location of the existing data files of the target database. On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/. Alternatively, you can use to convert the data files.
                           </p>
                           <div class="infoboxnote" id="GUID-41D10DCA-7733-4E4C-A41A-B94F63A82F7C__GUID-6A96BCDA-3DB1-42D5-9E93-CFB80520CFF6">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you use the RMAN <code class="codeph">CONVERT</code> command, then conversion of data files between different endian formats is not supported for data files having undo segments.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If no endianness conversion of the tablespaces is needed, then you can transfer the files using any file transfer method.</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a></li>
                              <li><a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" title="You should follow a set of guidelines when transferring the data files.">Guidelines for Transferring Data Files</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12892"></a><div class="props_rev_3"><a id="GUID-089D9EC2-4736-4B6F-9CF2-B78206110224" name="GUID-089D9EC2-4736-4B6F-9CF2-B78206110224"></a><h5 id="ADMIN-GUID-089D9EC2-4736-4B6F-9CF2-B78206110224" class="sect5"><span class="enumeration_section">15.3.3.5 </span>Task 5: (Optional) Restore Tablespaces to Read/Write Mode
                     </h5>
                     <div>
                        <p>Make the transported tablespaces read/write again at the source database.</p>
                        <div class="section">
                           <p>The following statements make the <code class="codeph">sales_1</code> and <code class="codeph">sales_2</code> tablespaces read/write:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales_1 READ WRITE;
ALTER TABLESPACE sales_2 READ WRITE;
</pre><p>You can postpone this task to first ensure that the import process succeeds.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11402"></a><div class="props_rev_3"><a id="GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF" name="GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF"></a><h5 id="ADMIN-GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF" class="sect5"><span class="enumeration_section">15.3.3.6 </span>Task 6: Import the Tablespace Set
                     </h5>
                     <div>
                        <p>To complete the transportable tablespaces operation, import the tablespace set.</p>
                        <div class="section">
                           <p>To import the tablespace set:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Run the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and import the tablespace metadata.</span><div><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> dumpfile=expdat.dmp directory=data_pump_dir
   transport_datafiles=
   'c:\app\orauser\oradata\orawin\sales_101.dbf',
   'c:\app\orauser\oradata\orawin\sales_201.dbf'
   remap_schema=sales1:crm1  remap_schema=sales2:crm2
   logfile=tts_import.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">DUMPFILE</code> parameter specifies the exported file containing the metadata for the tablespaces to be imported.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that identifies the location of the export dump file. You must create the <code class="codeph">DIRECTORY</code> object before running Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Import utility. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                       </p>
                                       <p>In a non-CDB, the database creates the directory object <code class="codeph">DATA_PUMP_DIR</code> automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                       </p>
                                       <p>However, the database does not create the directory object <code class="codeph">DATA_PUMP_DIR</code> automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF__GUID-0049674F-E7B7-46B9-AEA5-7D03631D9B90">
                                          <p class="notep1">See Also:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                                </p>
                                             </li>
                                             <li>
                                                <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files containing the tablespaces to be imported.
                                       </p>
                                       <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">REMAP_SCHEMA</code> parameter changes the ownership of database objects. If you do not specify <code class="codeph">REMAP_SCHEMA</code>, then all database objects (such as tables and indexes) are created in the same user schema as in the source database, and those users must already exist in the target database. If they do not exist, then the import utility returns an error. In this example, objects in the tablespace set owned by <code class="codeph">sales1</code> in the source database will be owned by <code class="codeph">crm1</code> in the target database after the tablespace set is imported. Similarly, objects owned by <code class="codeph">sales2</code> in the source database will be owned by <code class="codeph">crm2</code> in the target database. In this case, the target database is not required to have users <code class="codeph">sales1</code> and <code class="codeph">sales2</code>, but must have users <code class="codeph">crm1</code> and <code class="codeph">crm2</code>. 
                                       </p>
                                       <p></p>
                                       <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the Recovery Manager (RMAN) <code class="codeph">RECOVER</code> command can move tables to a different schema while remapping a table. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=BRADV-GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility. In this example, the log file is written to the directory from which the dump file is read, but it can be written to a different location.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>After this statement runs successfully, all tablespaces in the set being copied remain in read-only mode. Check the import log file to ensure that no error has occurred.</p>
                                 <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process as the data file list can even exceed the statement line limit. In this situation, you can use an import parameter file. For example, you can run the Data Pump import utility as follows: </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>The <code class="codeph">par.f</code> parameter file contains the following:
                                 </p><pre class="oac_no_warn" dir="ltr">DUMPFILE=expdat.dmp 
DIRECTORY=data_pump_dir
TRANSPORT_DATAFILES=
'C:\app\orauser\oradata\orawin\sales_101.dbf',
'C:\app\orauser\oradata\orawin\sales_201.dbf'
REMAP_SCHEMA=sales1:crm1  REMAP_SCHEMA=sales2:crm2
LOGFILE=tts_import.log</pre><div class="infoboxnotealso" id="GUID-CD4A446A-3DCA-4488-A381-47390A4F2CFF__GUID-A802350C-4910-4A33-88BF-4AC5268F3593">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility 
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>If required, put the tablespaces into read/write mode on the target database.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4C56852-73A5-44A2-BB10-938831DA6E4C" title="You can transport a tablespace or a set of tablespaces between databases.">Transporting Tablespaces Between Databases</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN13897"></a><div class="props_rev_3"><a id="GUID-E1270F3E-2476-44C2-A721-6A456A372379" name="GUID-E1270F3E-2476-44C2-A721-6A456A372379"></a><h3 id="ADMIN-GUID-E1270F3E-2476-44C2-A721-6A456A372379" class="sect3"><span class="enumeration_section">15.4 </span>Transporting Tables, Partitions, or Subpartitions Between Databases
               </h3>
               <p>You can transport tables, partitions, and subpartitions between databases.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-96032842-40B1-4547-8876-574E31C3CEEC">Introduction to Transportable Tables</a><br>You can use the transportable tables feature to copy a set of tables, partitions, or subpartitions from one Oracle Database to another. A transportable tables operation moves metadata for the specified tables, partitions, or subpartitions to the target database.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-B05E88D1-689C-4E83-A32D-61D66A179A18">Limitations on Transportable Tables</a><br>There are limitations on transportable tables.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD">Transporting Tables, Partitions, or Subpartitions Using an Export Dump File</a><br>You can transport tables, partitions, or subpartitions between databases using an export file.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E">Transporting Tables, Partitions, or Subpartitions Over the Network</a><br>To transport tables over the network, you perform an import using the <code class="codeph">NETWORK_LINK</code> parameter, the import is performed using a database link, and there is no dump file involved.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13898"></a><div class="props_rev_3"><a id="GUID-96032842-40B1-4547-8876-574E31C3CEEC" name="GUID-96032842-40B1-4547-8876-574E31C3CEEC"></a><h4 id="ADMIN-GUID-96032842-40B1-4547-8876-574E31C3CEEC" class="sect4"><span class="enumeration_section">15.4.1 </span>Introduction to Transportable Tables
                  </h4>
                  <div>
                     <p>You can use the transportable tables feature to copy a set of tables, partitions, or subpartitions from one Oracle Database to another. A transportable tables operation moves metadata for the specified tables, partitions, or subpartitions to the target database.</p>
                     <p>A transportable tables operation automatically identifies the tablespaces used by the specified tables. To move the data, you copy the data files for these tablespaces to the target database. The Data Pump import automatically frees the blocks in the data files occupied by tables, partitions, or subpartitions that were not part of the transportable tables operation. It also frees the blocks occupied by the dependent objects of the tables that were not part of the transportable tables operation.</p>
                     <p>You can transport the tables, partitions, and subpartitions in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using an export dump file</p>
                           <p>During the export, specify the <code class="codeph">TABLES</code> parameter and set the <code class="codeph">TRANSPORTABLE</code> parameter to <code class="codeph">ALWAYS</code>. During import, do not specify the <code class="codeph">TRANSPORTABLE</code> parameter. Data Pump import recognizes the transportable tables operation automatically.
                           </p>
                        </li>
                        <li>
                           <p>Over the network</p>
                           <p>During the import, specify the <code class="codeph">TABLES</code> parameter, set the <code class="codeph">TRANSPORTABLE</code> parameter to <code class="codeph">ALWAYS</code>, and specify the <code class="codeph">NETWORK_LINK</code> parameter to identify the source database.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379" title="You can transport tables, partitions, and subpartitions between databases.">Transporting Tables, Partitions, or Subpartitions Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13899"></a><div class="props_rev_3"><a id="GUID-B05E88D1-689C-4E83-A32D-61D66A179A18" name="GUID-B05E88D1-689C-4E83-A32D-61D66A179A18"></a><h4 id="ADMIN-GUID-B05E88D1-689C-4E83-A32D-61D66A179A18" class="sect4"><span class="enumeration_section">15.4.2 </span>Limitations on Transportable Tables
                  </h4>
                  <div>
                     <p>There are limitations on transportable tables.</p>
                     <p>Be aware of the following limitations for transportable tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The general limitations described in <span class="q">"<a href="transporting-data.html#GUID-28800719-6CB9-4A71-95DD-4B61AA603173" title="There are general limitations on transporting data. There are also limitations that are specific to full transportable export/import, transportable tablespaces, or transportable tables.">General Limitations on Transporting Data</a>"</span> apply to transportable tables.
                           </p>
                        </li>
                        <li>
                           <p>You cannot transport a table to a target database that contains a table of the same name in the same schema. However, you can use the <code class="codeph">REMAP_TABLE</code> import parameter to import the data into a different table. Alternatively, before the transport operation, you can rename either the table to be transported or the target table.
                           </p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the Recovery Manager (RMAN) <code class="codeph">RECOVER</code> command can move tables to a different schema while remapping a table. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=BRADV-GUID-907031B5-B355-43D8-8E2B-A0A6F2283BD7" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information.
                           </p>
                        </li>
                        <li>
                           <p>You cannot transport tables with <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> (TSTZ) data across platforms with different time zone file versions.
                           </p>
                           <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL4292" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379" title="You can transport tables, partitions, and subpartitions between databases.">Transporting Tables, Partitions, or Subpartitions Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13901"></a><a id="ADMIN13902"></a><a id="ADMIN13903"></a><a id="ADMIN13904"></a><a id="ADMIN13905"></a><a id="ADMIN13906"></a><a id="ADMIN13900"></a><div class="props_rev_3"><a id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD" name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD"></a><h4 id="ADMIN-GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD" class="sect4"><span class="enumeration_section">15.4.3 </span>Transporting Tables, Partitions, or Subpartitions Using an Export Dump File
                  </h4>
                  <div>
                     <p>You can transport tables, partitions, or subpartitions between databases using an export file.</p>
                     <div class="section">
                        <p>The following list of tasks summarizes the process of transporting tables between databases using an export dump file. Details for each task are provided in the subsequent example.</p>
                        <ol>
                           <li>
                              <p>Pick a set of tables, partitions, or subpartitions.</p>
                              <p>If you are transporting partitions, then you can specify partitions from only one table in a transportable tables operation, and no other tables can be transported in the same operation. Also, if only a subset of a table's partitions are exported in a transportable tables operation, then on import each partition becomes a non-partitioned table.</p>
                           </li>
                           <li>
                              <p>At the source database, place the tablespaces associated with the data files for the tables, partitions, or subpartitions in read-only mode.</p>
                              <p>To view the tablespace for a table, query the <code class="codeph">DBA_TABLES</code> view. To view the data file for a tablespace, query the <code class="codeph">DBA_DATA_FILES</code> view.
                              </p>
                           </li>
                           <li>
                              <p>Perform the Data Pump export.</p>
                           </li>
                           <li>
                              <p>Transport the export dump file.</p>
                              <p>Copy the export dump file to a place that is accessible to the target database.</p>
                           </li>
                           <li>
                              <p>Transport the data files for the tables, partitions, or subpartitions.</p>
                              <p>Copy the data files to a place that is accessible to the target database.</p>
                              <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view in <span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span>.
                              </p>
                              <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                                    </p>
                                    <div class="infoboxnote" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-BF5A3CBF-BC09-4F17-A709-6012709E007F">
                                       <p class="notep1">Note:</p>
                                       <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                                    </div>
                                 </li>
                              </ul>
                              <p>See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>(Optional) Restore tablespaces to read/write mode on the source database.</p>
                           </li>
                           <li>
                              <p>At the target database, perform the import.</p>
                              <p>Invoke the Data Pump utility to import the metadata for the tables.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-D63013BA-F4BF-4CF9-B358-9A13EAB5A244">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>These tasks for transporting tables, partitions, and subpartitions using a Data Pump dump file are illustrated more fully in the example that follows, where it is assumed that the following partitions exist in the <code class="codeph">sh.sales_prt</code> table:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sales_q1_2000</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">sales_q2_2000</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">sales_q3_2000</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">sales_q4_2000</code></p>
                           </li>
                        </ul>
                        <p>This example transports two of these partitions to the target database.</p>
                        <p>The following SQL statements create the <code class="codeph">sales_prt</code> table and its and partitions in the <code class="codeph">sh</code> schema and the tablespace and data file for the table. The statements also insert data into the partitions by using data in the <code class="codeph">sh</code> sample schemas.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE sales_prt_tbs
   DATAFILE 'sales_prt.dbf' SIZE 20M 
   ONLINE; 
 
CREATE TABLE sh.sales_prt
    (prod_id        NUMBER(6), 
     cust_id        NUMBER, 
     time_id        DATE, 
     channel_id     CHAR(1), 
     promo_id       NUMBER(6), 
     quantity_sold  NUMBER(3), 
     amount_sold    NUMBER(10,2))
        PARTITION BY RANGE (time_id)
         (PARTITION SALES_Q1_2000 VALUES LESS THAN 
		          (TO_DATE('01-APR-2000','DD-MON-YYYY','NLS_DATE_LANGUAGE = American')),
          PARTITION SALES_Q2_2000 VALUES LESS THAN 
          		(TO_DATE('01-JUL-2000','DD-MON-YYYY','NLS_DATE_LANGUAGE = American')),
          PARTITION SALES_Q3_2000 VALUES LESS THAN 
		          (TO_DATE('01-OCT-2000','DD-MON-YYYY','NLS_DATE_LANGUAGE = American')),
          PARTITION SALES_Q4_2000 VALUES LESS THAN 
		          (TO_DATE('01-JAN-2001','DD-MON-YYYY','NLS_DATE_LANGUAGE = American')))
 TABLESPACE sales_prt_tbs;
 
INSERT INTO sh.sales_prt PARTITION(sales_q1_2000) 
  SELECT * FROM sh.sales PARTITION(sales_q1_2000);

INSERT INTO sh.sales_prt PARTITION(sales_q2_2000) 
  SELECT * FROM sh.sales PARTITION(sales_q2_2000);

INSERT INTO sh.sales_prt PARTITION(sales_q3_2000) 
  SELECT * FROM sh.sales PARTITION(sales_q3_2000);
 
INSERT INTO sh.sales_prt PARTITION(sales_q4_2000) 
  SELECT * FROM sh.sales PARTITION(sales_q4_2000);

COMMIT;
</pre><p>This example makes the following additional assumptions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The name of the source database is <code class="codeph">sourcedb</code>.
                              </p>
                           </li>
                           <li>
                              <p>The source database and target database are running on the same platform with the same endianness. To check the endianness of a platform, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre></li>
                           <li>
                              <p>Only the <code class="codeph">sales_q1_2000</code> and <code class="codeph">sales_q2_2000</code> partitions are transported to the target database. The other two partitions are not transported.
                              </p>
                           </li>
                        </ul>
                        <p>Complete the following tasks to transport the partitions using an export dump file:</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-4C8AF026-6244-43E9-A7A0-F0D5FC69194A">
                                 <!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Generate the Export Dump File
                           </dt>
                           <dd>
                              <p>Generate the export dump file by completing the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Start SQL*Plus and connect to the source database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.
                                    </p>
                                    <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Make all of the tablespaces that contain the tables being transported read-only.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales_prt_tbs READ ONLY;
</pre></li>
                                 <li>
                                    <p>Invoke the Data Pump export utility as a user with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role and specify the transportable tables options.
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; HOST

expdp <span class="italic">user_name</span> dumpfile=sales_prt.dmp  directory=data_pump_dir 
      tables=sh.sales_prt:sales_q1_2000,sh.sales_prt:sales_q2_2000
      transportable=always logfile=exp.log

Password: <span class="italic">password</span>
</pre><p>You must always specify <code class="codeph">TRANSPORTABLE=ALWAYS</code>, which specifies that the transportable option is used.
                                    </p>
                                    <p>This example specifies the following additional Data Pump parameters:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>The <code class="codeph">DUMPFILE</code> parameter specifies the name of the structural information export dump file to be created, <code class="codeph">sales_prt.dmp</code>. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that points to the operating system or Oracle Automatic Storage Management location of the dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Export utility. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                          </p>
                                          <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                          </p>
                                          <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                          </p>
                                          <div class="infoboxnotealso" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-ADCFC7B1-E086-468F-8D6E-E1FACD40DEF6">
                                             <p class="notep1">See Also:</p>
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                                   </p>
                                                </li>
                                             </ul>
                                          </div>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">TABLES</code> parameter specifies the tables, partitions, or subpartitions being exported. 
                                          </p>
                                       </li>
                                       <li>
                                          <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the export utility. In this example, the log file is written to the same directory as the dump file, but it can be written to a different location.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Check the log file for unexpected errors, and take note of the dump file and data files that you must transport to the target database. <code class="codeph">expdp</code> outputs the names and paths of these files in messages like these:
                                    </p><pre class="oac_no_warn" dir="ltr">Processing object type TABLE_EXPORT/TABLE/PLUGTS_BLK
Processing object type TABLE_EXPORT/TABLE/TABLE
Processing object type TABLE_EXPORT/TABLE/END_PLUGTS_BLK
Master table "SYSTEM"."SYS_EXPORT_TABLE_01" successfully loaded/unloaded
******************************************************************************
Dump file set for SYSTEM.SYS_EXPORT_TABLE_01 is:
  /u01/app/oracle/rdbms/log/sales_prt.dmp
******************************************************************************
Datafiles required for transportable tablespace SALES_PRT_TBS:
  /u01/app/oracle/oradata/sourcedb/sales_prt.dbf
Job "SYSTEM"."SYS_EXPORT_TABLE_01" successfully completed at 11:32:13
</pre></li>
                                 <li>
                                    <p>When finished, exit back to SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">$ exit</pre></li>
                              </ol>
                              <div class="infoboxnotealso" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-7A138D6E-5725-449A-A3AC-A75C6B8F57FF">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL200" target="_blank"><span class="italic">Oracle Database Utilities </span></a>for information about using the Data Pump utility
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-FD6B2B79-89F6-46A2-8196-F8D677AC2AD5">
                                 <!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Transport the Export Dump File
                           </dt>
                           <dd>
                              <p>Transport the dump file to the directory pointed to by the <code class="codeph">DATA_PUMP_DIR</code> directory object on the target database, or to any other directory of your choosing. The new location must be accessible to the target database.
                              </p>
                              <p>In this example, transfer the <code class="codeph">sales_prt.dmp</code> dump file from the source database to the target database.
                              </p>
                              <p>At the target database, run the following query to determine the location of <code class="codeph">DATA_PUMP_DIR</code>:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_DIRECTORIES WHERE DIRECTORY_NAME = 'DATA_PUMP_DIR';

OWNER      DIRECTORY_NAME   DIRECTORY_PATH
---------- ---------------- -----------------------------------
SYS        DATA_PUMP_DIR    /u01/app/oracle/rdbms/log/
</pre></dd>
                           <dt class="dlterm"><a name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-7C6B70C1-75B4-4458-A738-86F70D45C47B">
                                 <!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Transport the Data Files for the Tables
                           </dt>
                           <dd>
                              <p>Transport the data files of the tablespaces containing the tables being transported to a place that is accessible to the target database.</p>
                              <p>Typically, you transport the data files to the location of the existing data files of the target database. On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/.
                              </p>
                              <p>In this example, transfer the <code class="codeph">sales_prt.dbf</code> data file from the source database to the target database.
                              </p>
                              <div class="infoboxnotealso" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-56DADE67-4FD5-44DE-A969-F69F16123E60">
                                 <p class="notep1">See Also:</p>
                                 <p> <span class="q">"<a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" title="You should follow a set of guidelines when transferring the data files.">Guidelines for Transferring Data Files</a>"</span></p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-B679E70B-9E96-4360-B71B-7D30BD84CAFF">
                                 <!-- --></a>Task 4&nbsp;&nbsp;&nbsp;(Optional) Restore Tablespaces to Read/Write Mode
                           </dt>
                           <dd>
                              <p>Make the tablespaces that contain the tables being transported read/write again at the source database, as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE sales_prt_tbs READ WRITE;
</pre><p>You can postpone this task to first ensure that the import process succeeds.</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-27A60C69-A6AA-458B-A671-19E594DF91C9">
                                 <!-- --></a>Task 5&nbsp;&nbsp;&nbsp;At the Target Database, Import the Partitions
                           </dt>
                           <dd>
                              <p>At the target database, invoke the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and specify the transportable tables options.
                              </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> dumpfile=sales_prt.dmp directory=data_pump_dir
   transport_datafiles='/u01/app/oracle/oradata/targetdb/sales_prt.dbf'
   tables=sh.sales_prt:sales_q1_2000,sh.sales_prt:sales_q2_2000
   logfile=imp.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">DUMPFILE</code> parameter specifies the exported file containing the metadata for the data to be imported.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">DIRECTORY</code> parameter specifies the directory object that identifies the location of the export dump file. You must create the <code class="codeph">DIRECTORY</code> object before invoking Data Pump, and you must grant the <code class="codeph">READ</code> and <code class="codeph">WRITE</code> object privileges on the directory to the user running the Import utility. See <a href="../sqlrf/CREATE-DIRECTORY.html#SQLRF01207" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command.
                                    </p>
                                    <p>In a non-CDB, the directory object <code class="codeph">DATA_PUMP_DIR</code> is created automatically. Read and write access to this directory is automatically granted to the <code class="codeph">DBA</code> role, and thus to users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                    </p>
                                    <p>However, the directory object <code class="codeph">DATA_PUMP_DIR</code> is not created automatically in a PDB. Therefore, when importing into a PDB, create a directory object in the PDB and specify the directory object when you run Data Pump.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-EA249106-6AA0-4A7A-98E1-DA3FE9750DED">
                                       <p class="notep1">See Also:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL810" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about the default directory when the <code class="codeph">DIRECTORY</code> parameter is omitted
                                             </p>
                                          </li>
                                          <li>
                                             <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#MULTI-GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for more information about PDBs
                                             </p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files to be imported.
                                    </p>
                                    <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TABLES</code> parameter specifies the tables, partitions, or subpartitions being imported. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility. In this example, the log file is written to the directory from which the dump file is read, but it can be written to a different location.
                                    </p>
                                 </li>
                              </ul>
                              <p>After this statement executes successfully, check the import log file to ensure that no unexpected error has occurred.</p>
                              <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process. It can even exceed the statement line limit. In this situation, you can use an import parameter file. For example, you can invoke the Data Pump import utility as follows:</p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>For example, <code class="codeph">par.f</code> might contain the following lines:
                              </p><pre class="oac_no_warn" dir="ltr">DUMPFILE=sales_prt.dmp 
DIRECTORY=data_pump_dir
TRANSPORT_DATAFILES='/u01/app/oracle/oradata/targetdb/sales_prt.dbf'
TABLES=sh.sales_prt:sales_q1_2000,sh.sales_prt:sales_q2_2000
LOGFILE=imp.log
</pre><div class="infoboxnote" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-1676B1A9-8CBC-4ADC-8FBE-9C895B9A594F">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The partitions are imported as separate tables in the target database because this example transports a subset of partitions.</p>
                                    </li>
                                    <li>
                                       <p>During the import, tablespaces might be temporarily made read/write for metadata loading. Ensure that no user changes are made to the data during the import. At the successful completion of the import, all user-defined tablespaces are made read/write.</p>
                                    </li>
                                    <li>
                                       <p>When performing a network database import, the <code class="codeph">TRANSPORTABLE</code> parameter must be set to <code class="codeph">always</code>.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              <div class="infoboxnotealso" id="GUID-AB90794C-48B3-4A42-93D9-FE522E95DEBD__GUID-19380385-03C1-4CD5-A9DE-56DB60F887F2">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility 
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379" title="You can transport tables, partitions, and subpartitions between databases.">Transporting Tables, Partitions, or Subpartitions Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13908"></a><a id="ADMIN13909"></a><a id="ADMIN13910"></a><a id="ADMIN13911"></a><a id="ADMIN13912"></a><a id="ADMIN13913"></a><a id="ADMIN13907"></a><div class="props_rev_3"><a id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E" name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E"></a><h4 id="ADMIN-GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E" class="sect4"><span class="enumeration_section">15.4.4 </span>Transporting Tables, Partitions, or Subpartitions Over the Network
                  </h4>
                  <div>
                     <p>To transport tables over the network, you perform an import using the <code class="codeph">NETWORK_LINK</code> parameter, the import is performed using a database link, and there is no dump file involved.
                     </p>
                     <div class="section">
                        <p>The following list of tasks summarizes the process of transporting tables, partitions, and subpartitions between databases over the network. Details for each task are provided in the subsequent example.</p>
                        <ol>
                           <li>
                              <p>Pick a set of tables, partitions, or subpartitions.</p>
                              <p>If you are transporting partitions, then you can specify partitions from only one table in a transportable tables operation, and no other tables can be transported in the same operation. Also, if only a subset of a table's partitions are exported in a transportable tables operation, then on import each partition becomes a non-partitioned table.</p>
                           </li>
                           <li>
                              <p>At the source database, place the tablespaces associated with the data files for the tables, partitions, or subpartitions in read-only mode.</p>
                              <p>To view the tablespace for a table, query the <code class="codeph">DBA_TABLES</code> view. To view the data file for a tablespace, query the <code class="codeph">DBA_DATA_FILES</code> view.
                              </p>
                           </li>
                           <li>
                              <p>Transport the data files for the tables, partitions, or subpartitions.</p>
                              <p>Copy the data files to a place that is accessible to the target database.</p>
                              <p>If the source platform and target platform are different, then check the endian format of each platform by running the query on the <code class="codeph">V$TRANSPORTABLE_PLATFORM</code> view in <span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span>.
                              </p>
                              <p>If the source platform's endian format is different from the target platform's endian format, then use one of the following methods to convert the data files:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files. These procedures convert the data files to the target platform's endian format automatically.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the RMAN <code class="codeph">CONVERT</code> command to convert the data files to the target platform's endian format.
                                    </p>
                                    <div class="infoboxnote" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-2F80A40C-E5D9-44B0-9C74-DBB82174A25E">
                                       <p class="notep1">Note:</p>
                                       <p>Conversion of data files between different endian formats is not supported for data files having undo segments.</p>
                                    </div>
                                 </li>
                              </ul>
                              <p>See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>At the target database, perform the import.</p>
                              <p>Invoke the Data Pump utility to import the metadata for the tables.</p>
                           </li>
                           <li>
                              <p>(Optional) Restore tablespaces to read/write mode on the source database.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-C49B2277-E1C8-43A5-8595-CF3B9FAC8479">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>These tasks for transporting tables over the network are illustrated more fully in the example that follows, where it is assumed that the tables exist in the source database:</p>
                        <div class="tblformal" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-D925EB7D-349E-4F78-B3F0-CDE49DE0A53A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the assumptions for the following example. Column 1 provides the table or partition name, column 2 provides the tablespace name, and column 3 lists its datafile." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d158599e5698">Table</th>
                                    <th align="left" valign="bottom" width="19%" id="d158599e5701">Tablespace</th>
                                    <th align="left" valign="bottom" width="53%" id="d158599e5704">Data File</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d158599e5709" headers="d158599e5698 ">
                                       <p><code class="codeph">hr.emp_ttbs</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d158599e5709 d158599e5701 ">
                                       <p><code class="codeph">emp_tsp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d158599e5709 d158599e5704 ">
                                       <p>/u01/app/oracle/oradata/sourcedb/emp.dbf</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d158599e5721" headers="d158599e5698 ">
                                       <p><code class="codeph">oe.orders_ttbs</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d158599e5721 d158599e5701 ">
                                       <p><code class="codeph">orders_tsp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d158599e5721 d158599e5704 ">
                                       <p>/u01/app/oracle/oradata/sourcedb/orders.dbf</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This example transports these tables to the target database. To complete the example, these tables must exist on the source database.</p>
                        <p>The following SQL statements create the tables in the <code class="codeph">hr</code> schema and the tablespaces and data files for the tables. The statements also insert data into the tables by using data in the <code class="codeph">hr</code> and <code class="codeph">oe</code> sample schemas.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE emp_tsp
   DATAFILE 'emp.dbf' SIZE 1M 
   ONLINE;

CREATE TABLE hr.emp_ttbs( 
   employee_id    NUMBER(6), 
   first_name     VARCHAR2(20), 
   last_name      VARCHAR2(25), 
   email          VARCHAR2(25), 
   phone_number   VARCHAR2(20), 
   hire_date      DATE, 
   job_id         VARCHAR2(10), 
   salary         NUMBER(8,2), 
   commission_pct NUMBER(2,2), 
   manager_id     NUMBER(6), 
   department_id  NUMBER(4))
 TABLESPACE emp_tsp;

INSERT INTO hr.emp_ttbs SELECT * FROM hr.employees;

CREATE TABLESPACE orders_tsp
   DATAFILE 'orders.dbf' SIZE 1M 
   ONLINE;

CREATE TABLE oe.orders_ttbs( 
   order_id      NUMBER(12),
   order_date    TIMESTAMP WITH LOCAL TIME ZONE,
   order_mode    VARCHAR2(8),
   customer_id   NUMBER(6),
   order_status  NUMBER(2),
   order_total   NUMBER(8,2),
   sales_rep_id  NUMBER(6),
   promotion_id  NUMBER(6))
 TABLESPACE orders_tsp;

INSERT INTO oe.orders_ttbs SELECT * FROM oe.orders;

COMMIT;
</pre><p>This example makes the following additional assumptions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The name of the source database is <code class="codeph">sourcedb</code>.
                              </p>
                           </li>
                           <li>
                              <p>The source database and target database are running on the same platform with the same endianness. To check the endianness of a platform, run the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT d.PLATFORM_NAME, ENDIAN_FORMAT
     FROM V$TRANSPORTABLE_PLATFORM tp, V$DATABASE d
     WHERE tp.PLATFORM_NAME = d.PLATFORM_NAME;
</pre></li>
                        </ul>
                        <p>Complete the following tasks to transport the tables over the network:</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-9ED8AA23-E772-42BF-9D5B-92A0BD1170C6">
                                 <!-- --></a>Task 1&nbsp;&nbsp;&nbsp;Create a Database Link from the Target Database to the Source Database
                           </dt>
                           <dd>
                              <p>Create a database link from the target database to the source database by completing the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Ensure that network connectivity is configured between the source database and the target database.</p>
                                    <p>See <a href="../netag/index.html" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Start SQL*Plus and connect to the target database as the administrator who will transport the data with Data Pump import. This user must have <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role to transport the data.
                                    </p>
                                    <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Create the database link:</p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK sourcedb USING 'sourcedb';
</pre><p>Specify the service name for the source database in the using clause.</p>
                                    <p>During the import operation, the database link must connect to a user on the source database with <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role. The user on the source database cannot be a user with <code class="codeph">SYSDBA</code> administrative privilege.
                                    </p>
                                 </li>
                              </ol>
                              <div class="infoboxnotealso" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-5D43C6F0-8133-42EB-A89D-6F5BA0CFB851">
                                 <p class="notep1">See Also:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="q">"<a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a>"</span></p>
                                    </li>
                                    <li>
                                       <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF01205" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-4D5C8C39-FB4B-428A-ADDF-66F8B516E87A">
                                 <!-- --></a>Task 2&nbsp;&nbsp;&nbsp;Make the Tablespaces Containing the Tables Read-Only
                           </dt>
                           <dd>
                              <p>At the source database, complete the following steps:</p>
                              <ol>
                                 <li>
                                    <p>Start SQL*Plus and connect to the source database as an administrator or as a user who has either the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">MANAGE</code> <code class="codeph">TABLESPACE</code> system privilege.
                                    </p>
                                    <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span> for instructions.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Make all of the tablespaces that contain data to be transported read-only.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE emp_tsp READ ONLY;
ALTER TABLESPACE orders_tsp READ ONLY;
</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-03200024-3E5E-4C1C-BFDA-6B6F97D02976">
                                 <!-- --></a>Task 3&nbsp;&nbsp;&nbsp;Transport the Data Files for the Tables
                           </dt>
                           <dd>
                              <p>Transport the data files of the tablespaces containing the tables being transported to a place that is accessible to the target database.</p>
                              <p>Typically, you transport the data files to the location of the existing data files of the target database. On the UNIX and Linux platforms, this location is typically /u01/app/oracle/oradata/<span class="italic">dbname</span>/ or +<span class="italic">DISKGROUP</span>/<span class="italic">dbname</span>/datafile/.
                              </p>
                              <p>In this example, transfer the <code class="codeph">emp.dbf</code> and <code class="codeph">orders.dbf</code> data files from the source database to the target database.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-88FCEF78-B41F-46B0-BB1D-33C80E3831C9">
                                 <p class="notep1">See Also:</p>
                                 <p> <span class="q">"<a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" title="You should follow a set of guidelines when transferring the data files.">Guidelines for Transferring Data Files</a>"</span></p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-86D6977F-F096-44BE-8402-2A54EFC256E5">
                                 <!-- --></a>Task 4&nbsp;&nbsp;&nbsp;At the Target Database, Import the Database
                           </dt>
                           <dd>
                              <p>Invoke the Data Pump import utility as a user with <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code> role and specify the full transportable export/import options.
                              </p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> network_link=sourcedb transportable=always 
   transport_datafiles=
      '/u01/app/oracle/oradata/targetdb/emp.dbf'
      '/u01/app/oracle/oradata/targetdb/orders.dbf'
   tables=hr.emp_ttbs,oe.orders_ttbs
   logfile=import.log

Password: <span class="italic">password</span>
</pre><p>This example specifies the following Data Pump parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">NETWORK_LINK</code> parameter specifies the database link to the source database used for the network import.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORTABLE</code> parameter specifies that the import uses the transportable option.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TRANSPORT_DATAFILES</code> parameter identifies all of the data files to be imported.
                                    </p>
                                    <p>You can specify the <code class="codeph">TRANSPORT_DATAFILES</code> parameter multiple times in a parameter file specified with the <code class="codeph">PARFILE</code> parameter if there are many data files.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TABLES</code> parameter specifies the tables to be imported.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">LOGFILE</code> parameter specifies the file name of the log file to be written by the import utility.
                                    </p>
                                 </li>
                              </ul>
                              <p>After this statement executes successfully, check the import log file to ensure that no unexpected error has occurred.</p>
                              <p>When dealing with a large number of data files, specifying the list of data file names in the statement line can be a laborious process. It can even exceed the statement line limit. In this situation, you can use an import parameter file. For example, you can invoke the Data Pump import utility as follows:</p><pre class="oac_no_warn" dir="ltr">impdp <span class="italic">user_name</span> parfile='par.f'
</pre><p>For example, <code class="codeph">par.f</code> might contain the following lines:
                              </p><pre class="oac_no_warn" dir="ltr">NETWORK_LINK=sourcedb 
TRANSPORTABLE=always
TRANSPORT_DATAFILES=
      '/u01/app/oracle/oradata/targetdb/emp.dbf'
      '/u01/app/oracle/oradata/targetdb/orders.dbf'
TABLES=hr.emp_ttbs,oe.orders_ttbs
LOGFILE=import.log
</pre><div class="infoboxnote" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-0A8A8BC4-46B9-4747-881E-313D517B3F2B">
                                 <p class="notep1">Note:</p>
                                 <p>During the import, user-defined tablespaces might be temporarily made read/write for metadata loading. Ensure that no user changes are made to the data during the import. At the successful completion of the import, all user-defined tablespaces are made read/write.</p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-EE571B79-45F7-4B0D-85BF-BFFAADEC4AAB">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about using the import utility 
                                 </p>
                              </div>
                           </dd>
                           <dt class="dlterm"><a name="GUID-9B585706-F91F-42E1-9F9E-30D3B758B52E__GUID-8BBF8FA3-3D4F-46CF-9854-BDFF637F3F22">
                                 <!-- --></a>Task 5&nbsp;&nbsp;&nbsp;(Optional) Restore Tablespaces to Read/Write Mode
                           </dt>
                           <dd>
                              <p>Make the tables that contain the tables being transported read/write again at the source database, as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE emp_tsp READ WRITE;
ALTER TABLESPACE orders_tsp READ WRITE;
</pre></dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E1270F3E-2476-44C2-A721-6A456A372379" title="You can transport tables, partitions, and subpartitions between databases.">Transporting Tables, Partitions, or Subpartitions Between Databases</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13737"></a><div class="props_rev_3"><a id="GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" name="GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B"></a><h3 id="ADMIN-GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" class="sect3"><span class="enumeration_section">15.5 </span>Converting Data Between Platforms
               </h3>
               <div>
                  <p>When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the <code class="codeph">DBMS_FILE_TRANSFER</code> package or the RMAN <code class="codeph">CONVERT</code> command to convert data.
                  </p>
                  <div class="infoboxnote" id="GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B__GUID-32AE1858-0485-49F7-B293-FDE2AC0A0011">
                     <p class="notep1">Note:</p>
                     <p>Some limitations might apply that are not described in these sections. Refer to the following documentation for more information:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="transporting-data.html#GUID-FE3003B9-605A-4269-B167-005AC778C870" title="You can transport data across platforms.">Transporting Data Across Platforms</a>"</span> for information about checking the endianness of platforms
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_FILE_TRANSFER.html#ARPLS095" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about limitations related to the <code class="codeph">DBMS_FILE_TRANSFER</code> package
                           </p>
                        </li>
                        <li>
                           <p><a href="../rcmrf/CONVERT.html#RCMRF192" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for information about limitations related to the RMAN <code class="codeph">CONVERT</code> command
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43">Converting Data Between Platforms Using the DBMS_FILE_TRANSFER Package</a><br>You can use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure of the <code class="codeph">DBMS_FILE_TRANSFER</code> package to convert data between platforms during a data file transfer.
                     </li>
                     <li class="ulchildlink"><a href="transporting-data.html#GUID-DDFA71A3-396A-440A-B9AB-E0970F843904">Converting Data Between Platforms Using RMAN</a><br>When you use the RMAN <code class="codeph">CONVERT</code> command to convert data, you can either convert the data on the source platform after running Data Pump export, or you can convert the data on the target platform before running Data Pump import. In either case, you must transfer the data files from the source system to the target system.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14066"></a><div class="props_rev_3"><a id="GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43" name="GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43"></a><h4 id="ADMIN-GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43" class="sect4"><span class="enumeration_section">15.5.1 </span>Converting Data Between Platforms Using the DBMS_FILE_TRANSFER Package
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure of the <code class="codeph">DBMS_FILE_TRANSFER</code> package to convert data between platforms during a data file transfer.
                     </p>
                     <div class="section">
                        <p>When you use one of these procedures to move data files between the source platform and the target platform, each block in each data file is converted to the target platform's endianness.</p>
                        <p>This section uses an example to describe how to use the <code class="codeph">DBMS_FILE_TRANSFER</code> package to convert a data file to a different platform. The example makes the following assumptions:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">GET_FILE</code> procedure will transfer the data file.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">mytable.342.123456789</code> data file is being transferred to a different platform.
                              </p>
                           </li>
                           <li>
                              <p>The endianness of the source platform is different from the endianness of the target platform.</p>
                           </li>
                           <li>
                              <p>The global name of the source database is <code class="codeph">dbsa.example.com</code>.
                              </p>
                           </li>
                           <li>
                              <p>Both the source database and the target database use Oracle Automatic Storage Management (Oracle ASM).</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43__GUID-F697955B-11B3-4E7F-BC38-07DE715DD5C3">
                           <p class="notep1">Note:</p>
                           <p>You can also use the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer data files between platforms with the same endianness.
                           </p>
                        </div>
                        <p>Complete the following steps to convert the data file by transferring it with the <code class="codeph">GET_FILE</code> procedure:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use SQL*Plus to connect to the source database as an administrative user who can create directory objects.</span></li>
                        <li class="stepexpand"><span>Create a directory object to store the data files that you want to transfer to the target database.</span><div>
                              <p>For example, to create a directory object named <code class="codeph">sales_dir_source</code> for the <code class="codeph">+data/dbsa/datafile</code> directory, execute the following SQL statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE DIRECTORY sales_dir_source 
   AS '+data/dbsa/datafile';
</pre><p>The specified file system directory must exist when you create the directory object.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Use SQL*Plus to connect to the target database as an administrative user who can create database links, create directory objects, and run the procedures in the <code class="codeph">DBMS_FILE_TRANSFER</code> package.</span></li>
                        <li class="stepexpand"><span>Create a database link from the target database to the source database.</span><div>
                              <p>The connected user at the source database must have read privileges on the directory object that you created in Step 2.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create a directory object to store the data files that you want to transfer from the source database.</span><div>
                              <p>The user at the local database who will run the procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package must have write privileges on the directory object.
                              </p>
                              <p>For example, to create a directory object named <code class="codeph">sales_dir_target</code> for the <code class="codeph">+data/dbsb/datafile</code> directory, run the following SQL statement:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE DIRECTORY sales_dir_target 
  AS '+data/dbsb/datafile';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">GET_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data file.</span><div>
                              <p>For example, run the following procedure to transfer the <code class="codeph">mytable.342.123456789</code> data file from the source database to the target database using the database link you created in Step 4:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_FILE_TRANSFER.GET_FILE(
    source_directory_object      =&gt; 'sales_dir_source',
    source_file_name             =&gt; 'mytable.342.123456789',
    source_database              =&gt; 'dbsa.example.com',
    destination_directory_object =&gt; 'sales_dir_target',
    destination_file_name        =&gt; 'mytable');
END;
/
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43__GUID-C3EDF248-A004-42A3-AECF-C72853529A7E">
                           <p class="notep1">Note:</p>
                           <p>In this example, the destination data file name is <code class="codeph">mytable</code>. Oracle ASM does not allow a fully qualified file name form in the <code class="codeph">destination_file_name</code> parameter of the <code class="codeph">GET_FILE</code> procedure.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">About Connecting to the Database with SQL*Plus</a></li>
                           <li><a href="managing-a-distributed-database.html#GUID-B5950167-35F8-4C88-B063-382E0290CB53" title="To support application access to the data and schema objects throughout a distributed database system, you must create all necessary database links.">Creating Database Links</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43__GUID-3724EE3A-E181-4BCF-A2AF-3DED2AD8BE73">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_FILE_TRANSFER.html#ARPLS095" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about using the <code class="codeph">DBMS_FILE_TRANSFER</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../ostmg/asm-files-directories-templates.html#OSTMG94200" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information about fully qualified file name forms in ASM
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-DATABASE-LINK.html#SQLRF-GUID-D966642A-B19E-449D-9968-1121AF06D793" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about how to create a database link
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14067"></a><div class="props_rev_3"><a id="GUID-DDFA71A3-396A-440A-B9AB-E0970F843904" name="GUID-DDFA71A3-396A-440A-B9AB-E0970F843904"></a><h4 id="ADMIN-GUID-DDFA71A3-396A-440A-B9AB-E0970F843904" class="sect4"><span class="enumeration_section">15.5.2 </span>Converting Data Between Platforms Using RMAN
                  </h4>
                  <div>
                     <p>When you use the RMAN <code class="codeph">CONVERT</code> command to convert data, you can either convert the data on the source platform after running Data Pump export, or you can convert the data on the target platform before running Data Pump import. In either case, you must transfer the data files from the source system to the target system.
                     </p>
                     <p>You can convert data with the following RMAN <code class="codeph">CONVERT</code> commands:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CONVERT</code> <code class="codeph">DATAFILE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CONVERT</code> <code class="codeph">TABLESPACE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CONVERT</code> <code class="codeph">DATABASE</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DDFA71A3-396A-440A-B9AB-E0970F843904__GUID-B8E7B101-BA7A-4C02-BA71-083E07EEEC88">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Datatype restrictions apply to the RMAN <code class="codeph">CONVERT</code> command.
                              </p>
                           </li>
                           <li>
                              <p>RMAN <code class="codeph">CONVERT</code> commands do not support conversion of data files between different endian formats for data files having undo segments.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-E52793F4-8A79-44C1-9C56-783D12261102">Converting Tablespaces on the Source System After Export</a><br>An example illustrates how to use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">TABLESPACE</code> command to convert tablespaces to a different platform. 
                        </li>
                        <li class="ulchildlink"><a href="transporting-data.html#GUID-E12EFB1A-010B-4220-A898-FB6FF66D6924">Converting Data Files on the Target System Before Import</a><br>An example illustrates how to use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">DATAFILE</code> command to convert data files to a different platform.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-DDFA71A3-396A-440A-B9AB-E0970F843904__GUID-DE3F6F96-FC5E-4B85-A5AD-C9E7343211C3">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../rcmrf/CONVERT.html#RCMRF192" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../bradv/rman-transporting-data-across-platforms.html#BRADV05432" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13738"></a><div class="props_rev_3"><a id="GUID-E52793F4-8A79-44C1-9C56-783D12261102" name="GUID-E52793F4-8A79-44C1-9C56-783D12261102"></a><h5 id="ADMIN-GUID-E52793F4-8A79-44C1-9C56-783D12261102" class="sect5"><span class="enumeration_section">15.5.2.1 </span>Converting Tablespaces on the Source System After Export
                     </h5>
                     <div>
                        <p>An example illustrates how to use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">TABLESPACE</code> command to convert tablespaces to a different platform. 
                        </p>
                        <div class="section">
                           <p>The example makes the following assumptions:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">sales_1</code> and <code class="codeph">sales_2</code> tablespaces are being transported to a different platform.
                                 </p>
                              </li>
                              <li>
                                 <p>The endianness of the source platform is different from the endianness of the target platform.</p>
                              </li>
                              <li>
                                 <p>You want to convert the data on the source system, before transporting the tablespace set to the target system.</p>
                              </li>
                              <li>
                                 <p>You have completed the Data Pump export on the source database.</p>
                              </li>
                           </ul>
                           <p>Complete the following steps to convert the tablespaces on the source system:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>At a command prompt, start RMAN and connect to the source database:</span><div><pre class="oac_no_warn" dir="ltr">$ RMAN TARGET /

Recovery Manager: Release 12.1.0.1.0 - Production

Copyright (c) 1982, 2012, Oracle and/or its affiliates.  All rights reserved.

connected to target database: salesdb (DBID=3295731590)
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">TABLESPACE</code> command to convert the data files into a temporary location on the source platform.</span><div>
                                 <p>In this example, assume that the temporary location, directory <code class="codeph">/tmp</code>, has already been created. The converted data files are assigned names by the system.
                                 </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONVERT TABLESPACE sales_1,sales_2 
2&gt; TO PLATFORM 'Microsoft Windows IA (32-bit)'
3&gt; FORMAT '/tmp/%U';

Starting conversion at source at 30-SEP-08
using channel ORA_DISK_1
channel ORA_DISK_1: starting datafile conversion
input datafile file number=00007 name=/u01/app/oracle/oradata/salesdb/sales_101.dbf
<span class="bold">converted datafile=/tmp/data_D-SALESDB_I-1192614013_TS-SALES_1_FNO-7_03jru08s</span>
channel ORA_DISK_1: datafile conversion complete, elapsed time: 00:00:45
channel ORA_DISK_1: starting datafile conversion
input datafile file number=00008 name=/u01/app/oracle/oradata/salesdb/sales_201.dbf
<span class="bold">converted datafile=/tmp/data_D-SALESDB_I-1192614013_TS-SALES_2_FNO-8_04jru0aa</span>
channel ORA_DISK_1: datafile conversion complete, elapsed time: 00:00:25
Finished conversion at source at 30-SEP-08</pre><div class="infoboxnotealso" id="GUID-E52793F4-8A79-44C1-9C56-783D12261102__GUID-42DCE673-130F-4F7F-BCE9-27D0CB35FA15">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="../rcmrf/CONVERT.html#RCMRF192" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for a description of the RMAN <code class="codeph">CONVERT</code> command
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Exit Recovery Manager:</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; exit
Recovery Manager complete.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Transfer the data files to the target system.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="transporting-data.html#GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" title="You should follow a set of guidelines when transferring the data files.">Guidelines for Transferring Data Files</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-DDFA71A3-396A-440A-B9AB-E0970F843904" title="When you use the RMAN CONVERT command to convert data, you can either convert the data on the source platform after running Data Pump export, or you can convert the data on the target platform before running Data Pump import. In either case, you must transfer the data files from the source system to the target system.">Converting Data Between Platforms Using RMAN</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13739"></a><div class="props_rev_3"><a id="GUID-E12EFB1A-010B-4220-A898-FB6FF66D6924" name="GUID-E12EFB1A-010B-4220-A898-FB6FF66D6924"></a><h5 id="ADMIN-GUID-E12EFB1A-010B-4220-A898-FB6FF66D6924" class="sect5"><span class="enumeration_section">15.5.2.2 </span>Converting Data Files on the Target System Before Import
                     </h5>
                     <div>
                        <p>An example illustrates how to use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">DATAFILE</code> command to convert data files to a different platform.
                        </p>
                        <div class="section">
                           <p>During the conversion, you identify the data files by file name, not by tablespace name. Until the tablespace metadata is imported, the target instance has no way of knowing the desired tablespace names.</p>
                           <p>The example makes the following assumptions:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You have not yet converted the data files for the tablespaces being transported.</p>
                                 <p>If you used the <code class="codeph">DBMS_FILE_TRANSFER</code> package to transfer the data files to the target system, then the data files were converted automatically during the file transfer. See <span class="q">"<a href="transporting-data.html#GUID-1F6EA48A-92A8-45DE-8DFF-30E424B61C43" title="You can use the GET_FILE or PUT_FILE procedure of the DBMS_FILE_TRANSFER package to convert data between platforms during a data file transfer.">Converting Data Between Platforms Using the DBMS_FILE_TRANSFER Package</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>The following data files are being transported to a different platform:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>C:\Temp\sales_101.dbf</p>
                                    </li>
                                    <li>
                                       <p>C:\Temp\sales_201.dbf</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>The endianness of the source platform is different from the endianness of the target platform.</p>
                              </li>
                              <li>
                                 <p>You want to convert the data on the target system, before performing the Data Pump import.</p>
                              </li>
                              <li>
                                 <p>The converted data files are placed in C:\app\orauser\oradata\orawin\, which is the location of the existing data files for the target system:</p>
                              </li>
                           </ul>
                           <p>Complete the following steps to convert the tablespaces on the target system:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>If you are in SQL*Plus, then return to the host system:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; HOST
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Use the RMAN <code class="codeph">CONVERT</code> <code class="codeph">DATAFILE</code> command to convert the data files on the target platform:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt;RMAN TARGET /

Recovery Manager: Release 12.1.0.1.0 - Production

Copyright (c) 1982, 2012, Oracle and/or its affiliates.  All rights reserved.

connected to target database: ORAWIN (DBID=3462152886)

RMAN&gt; CONVERT DATAFILE 
2&gt;'C:\Temp\sales_101.dbf',
3&gt;'C:\Temp\sales_201.dbf'
4&gt;TO PLATFORM="Microsoft Windows IA (32-bit)"
5&gt;FROM PLATFORM="Solaris[tm] OE (32-bit)"
6&gt;DB_FILE_NAME_CONVERT=
7&gt;'C:\Temp\', 'C:\app\orauser\oradata\orawin\'
8&gt; PARALLELISM=4;
</pre><p>If the source location, the target location, or both do not use Oracle Automatic Storage Management (Oracle ASM), then the source and target platforms are optional. RMAN determines the source platform by examining the data file, and the target platform defaults to the platform of the host running the conversion.</p>
                                 <p>If both the source and target locations use Oracle ASM, then you must specify the source and target platforms in the <code class="codeph">DB_FILE_NAME_CONVERT</code> clause.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-E12EFB1A-010B-4220-A898-FB6FF66D6924__GUID-0E0F59B4-8E28-428F-B3C4-A4A2674E2247">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="../rcmrf/CONVERT.html#RCMRF192" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for a description of the RMAN <code class="codeph">CONVERT</code> command
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Exit Recovery Manager:</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; exit
Recovery Manager complete.</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-DDFA71A3-396A-440A-B9AB-E0970F843904" title="When you use the RMAN CONVERT command to convert data, you can either convert the data on the source platform after running Data Pump export, or you can convert the data on the target platform before running Data Pump import. In either case, you must transfer the data files from the source system to the target system.">Converting Data Between Platforms Using RMAN</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN13914"></a><div class="props_rev_3"><a id="GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" name="GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699"></a><h3 id="ADMIN-GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699" class="sect3"><span class="enumeration_section">15.6 </span>Guidelines for Transferring Data Files
               </h3>
               <div>
                  <p>You should follow a set of guidelines when transferring the data files.</p>
                  <p>If both the source and target are file systems, then you can transport using:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Any facility for copying flat files (for example, an operating system copy utility or ftp)</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DBMS_FILE_TRANSFER</code> package
                        </p>
                     </li>
                     <li>
                        <p>RMAN</p>
                     </li>
                     <li>
                        <p>Any facility for publishing on CDs</p>
                     </li>
                  </ul>
                  <p>If either the source or target is an Oracle Automatic Storage Management (Oracle ASM) disk group, then you can use:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>ftp to or from the <code class="codeph">/sys/asm</code> virtual folder in the XML DB repository
                        </p>
                        <p>See <a href="../ostmg/asm-files-directories-templates.html#OSTMG10001" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DBMS_FILE_TRANSFER</code> package
                        </p>
                     </li>
                     <li>
                        <p>RMAN</p>
                     </li>
                  </ul>
                  <p>Do not transport the data files for the administrative tablespaces (such as <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code>) or any undo or temporary tablespaces.
                  </p>
                  <p>If you are transporting data of a different block size than the standard block size of the database receiving the data, then you must first have a <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> initialization parameter entry in the receiving database parameter file.
                  </p>
                  <p>For example, if you are transporting data with an 8K block size into a database with a 4K standard block size, then you must include a <code class="codeph">DB_8K_CACHE_SIZE</code> initialization parameter entry in the parameter file. If it is not already included in the parameter file, then this parameter can be set using the <code class="codeph">ALTER SYSTEM SET</code> statement.
                  </p>
                  <p>See<a href="../refrn/DB_nK_CACHE_SIZE.html#REFRN10027" target="_blank"><span class="italic"> Oracle Database Reference</span></a> for information about specifying values for the <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> initialization parameter. 
                  </p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span>, the <code class="codeph">GET_FILE</code> or <code class="codeph">PUT_FILE</code> procedure in the <code class="codeph">DBMS_FILE_TRANSFER</code> package can convert data between platforms during the data file transfer. See <span class="q">"<a href="transporting-data.html#GUID-E4B0F929-79D0-4DEE-B1DD-378BDBC31A0B" title="When you perform a transportable operation, and the source platform and the target platform are of different endianness, you must convert the data being transported to the target platform format. If the source platform and the target platform are of the same endianness, then data conversion is not necessary. You can use the DBMS_FILE_TRANSFER package or the RMAN CONVERT command to convert data.">Converting Data Between Platforms</a>"</span>.
                  </p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span>, RMAN can transfer files using network-enabled restore. RMAN restores database files, over the network, from a remote database instance by using the <code class="codeph">FROM</code> <code class="codeph">SERVICE</code> clause of the <code class="codeph">RESTORE</code> command. The primary advantage of network-enabled restore is that it eliminates the requirement for a restore of the backup to a staging area on disk and the need to transfer the copy. Therefore, network-enabled restore saves disk space and time. This technique can also provide the following advantages during file transfer: compression, encryption, and transfer of used data blocks only. See <a href="../bradv/rman-recovery-advanced.html#BRADV680" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information.
                  </p>
                  <div class="infoboxnote" id="GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699__GUID-8D55C54D-6F02-42DD-B9A4-CC19A7823000">
                     <p class="notep1">Note:</p>
                     <p>Exercise caution when using the UNIX <code class="codeph">dd</code> utility to copy raw-device files between databases, and note that Oracle Database 12<span class="italic">c</span> and later do not support raw devices for database files. The <code class="codeph">dd</code> utility can be used to copy an entire source raw-device file, or it can be invoked with options that instruct it to copy only a specific range of blocks from the source raw-device file.
                     </p>
                     <p>It is difficult to ascertain actual data file size for a raw-device file because of hidden control information that is stored as part of the data file. If you must use the <code class="codeph">dd</code> utility to operate on raw devices, then specify the entire source raw-device file contents. If you move database file content from a raw device to either ASM or a file system to adhere to the desupport of raw devices with Oracle Database 12<span class="italic">c</span> and later, then use an Oracle-provided tool such as RMAN.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4F6AE634-053F-4CA9-AB53-7DA8B0047699__GUID-64103C45-2CCC-496D-9955-14D55750743A">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="managing-data-files-and-temp-files.html#GUID-411B0545-DD04-4223-80F0-3CE2A550D7B6" title="You do not necessarily have to use the operating system to copy a file within a database, or transfer a file between databases as you would do when using the transportable tablespace feature. You can use the DBMS_FILE_TRANSFER package for this purpose.">Copying Files Using the Database Server</a>"</span> for information about using the <code class="codeph">DBMS_FILE_TRANSFER</code> package to copy the files that are being transported and their metadata
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transporting-data.html#GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" title="Transporting data moves the data from one database to another.">Transporting Data</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>