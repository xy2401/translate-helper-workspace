<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="These topics describe the Oracle Database Advanced Queuing (AQ) administrative interface.">
      <meta name="description" content="These topics describe the Oracle Database Advanced Queuing (AQ) administrative interface.">
      <title>Oracle Database Advanced Queuing Administrative Interface</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content="These topics describe the Oracle Database Advanced Queuing (AQ) administrative interface.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="aq-troubleshooting.html" title="Previous" type="text/html">
      <link rel="next" href="aq-messaging-gateway-views.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="aq-troubleshooting.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="aq-messaging-gateway-views.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Database Advanced Queuing Administrative Interface</li>
            </ol>
            <a id="GUID-31CF7723-6AB8-455A-8841-8683D936DD3E" name="GUID-31CF7723-6AB8-455A-8841-8683D936DD3E"></a><a id="ADQUE0800"></a>
            
            <h2 id="ADQUE-GUID-31CF7723-6AB8-455A-8841-8683D936DD3E" class="sect2"><span class="enumeration_chapter">8 </span> Oracle Database Advanced Queuing Administrative Interface
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>These topics describe the Oracle Database Advanced Queuing (AQ) administrative interface.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-50E7969A-88E7-4BD7-A74F-47901E631B61" title="These topics describe how to manage non-sharded queue tables.">Managing Non-Sharded Queue Tables</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-0FA3BE2C-A988-49ED-B602-948015276F66" title="These topics describe how to manage non-sharded queues.">Managing Non-Sharded Queues</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3" title="These topics describe how to manage sharded queues.">Managing Sharded Queues</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-AAFDFFD3-0256-473A-A685-225AD0D024DB" title="Transformations change the format of a message, so that a message created by one application can be understood by another application. You can use transformations on both persistent and buffered messages. These topics describe how to manage queue tables.">Managing Transformations</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-95E67297-FD08-415D-8085-6EB635EC9F8B" title="These topics describe how to grant and revoke privileges.">Granting and Revoking Privileges</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-D9D78672-3AA0-4687-B0DA-67F2127FE3AA" title="These topics describe how to manage subscribers.">Managing Subscribers</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-1BAEBA4C-441A-43FE-B822-14E9A6E33A0E" title="The propagation schedules defined for a queue can be changed or dropped at any time during the life of the queue.">Managing Propagations</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-FF34D153-553C-48F0-9ACC-8266DBC64F15" title="These topics describe how to manage Oracle Database Advanced Queuing Agents.">Managing Oracle Database Advanced Queuing Agents</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-05DCD3B5-48BF-42B4-9D88-A54D9127F61F" title="DBMS_AQADM.ADD_ALIAS_TO_LDAP adds an alias to the LDAP server.">Adding an Alias to the LDAP Server</a></p>
                  </li>
                  <li>
                     <p><a href="aq-administrative-interface.html#GUID-90AC4D22-62AC-44A5-A06E-057CA1266864" title="DBMS_AQADM.DEL_ALIAS_FROM_LDAP removes an alias from the LDAP server.">Deleting an Alias from the LDAP Server</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-31CF7723-6AB8-455A-8841-8683D936DD3E__GUID-75833CB0-AB44-42CE-B480-C1D933F82580">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-program-interfaces.html#GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76" title="These topics describe the various language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment.">Oracle Database Advanced Queuing: Programmatic Interfaces</a> for a list of available functions in each programmatic interface
                        </p>
                     </li>
                     <li>
                        <p><a href="../arpls/DBMS_AQADM.html#ARPLS005" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the DBMS_AQADM Package
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADQUE2657"></a><div class="props_rev_3"><a id="GUID-50E7969A-88E7-4BD7-A74F-47901E631B61" name="GUID-50E7969A-88E7-4BD7-A74F-47901E631B61"></a><h3 id="ADQUE-GUID-50E7969A-88E7-4BD7-A74F-47901E631B61" class="sect3"><span class="enumeration_section">8.1 </span>Managing Non-Sharded Queue Tables
               </h3>
               <div>
                  <p>These topics describe how to manage non-sharded queue tables.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41" title="DBMS_AQADM.CREATE_QUEUE_TABLE creates a non-sharded queue table for messages of a predefined type.">Creating a Queue Table</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C" title="DBMS_AQADM.ALTER_QUEUE_TABLE alters the existing properties of a non-sharded queue table.">Altering a Queue Table</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-3CCA227A-F777-4EF5-8556-44DC599674AA" title="DBMS_AQADM.DROP_QUEUE_TABLE drops an existing non-sharded queue table.">Dropping a Queue Table</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79" title="DBMS_AQADM.PURGE_QUEUE_TABLE purges messages from a non-sharded queue table.">Purging a Queue Table</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983" title="DBMS_AQADM.MIGRATE_QUEUE_TABLE migrates a non-sharded queue table from 8.0, 8.1, or 10.0 to 8.0, 8.1, or 10.0. Only the owner of the queue table can migrate it.">Migrating a Queue Table</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2658"></a><a id="ADQUE2659"></a><a id="ADQUE2660"></a><a id="ADQUE2661"></a><a id="ADQUE2662"></a><a id="ADQUE2663"></a><a id="ADQUE2664"></a><a id="ADQUE2665"></a><a id="ADQUE2666"></a><a id="ADQUE2667"></a><a id="ADQUE2668"></a><a id="ADQUE2669"></a><a id="ADQUE2670"></a><a id="ADQUE2671"></a><a id="ADQUE2672"></a><a id="ADQUE2673"></a><a id="ADQUE2674"></a><a id="ADQUE0801"></a><div class="props_rev_3"><a id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41" name="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41"></a><h4 id="ADQUE-GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41" class="sect4"><span class="enumeration_section">8.1.1 </span>Creating a Queue Table
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.CREATE_QUEUE_TABLE</code> creates a non-sharded queue table for messages of a predefined type.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_QUEUE_TABLE(
   queue_table          IN      VARCHAR2,
   queue_payload_type   IN      VARCHAR2,
   storage_clause       IN      VARCHAR2        DEFAULT NULL,
   sort_list            IN      VARCHAR2        DEFAULT NULL,
   multiple_consumers   IN      BOOLEAN         DEFAULT FALSE,
   message_grouping     IN      BINARY_INTEGER  DEFAULT NONE,
   comment              IN      VARCHAR2        DEFAULT NULL,
   auto_commit          IN      BOOLEAN         DEFAULT TRUE,
   primary_instance     IN      BINARY_INTEGER  DEFAULT 0, 
   secondary_instance   IN      BINARY_INTEGER  DEFAULT 0,
   compatible           IN      VARCHAR2        DEFAULT NULL,
   secure               IN      BOOLEAN         DEFAULT FALSE
   replication_mode     IN      BINARY_INTEGER  DEFAULT NONE);
</pre><p>It has the following required and optional parameters:</p>
                        <div class="tblformal" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-B75DC57E-31D8-4F53-A487-EF830C145AA2">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d31062e368">Parameter</th>
                                    <th align="left" valign="bottom" id="d31062e371">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e376" headers="d31062e368 ">
                                       <p><code class="codeph">queue_table</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e376 d31062e371 ">
                                       <p><a id="d31062e382" class="indexterm-anchor"></a><a id="d31062e386" class="indexterm-anchor"></a>This required parameter specifies the queue table name. 
                                       </p>
                                       <p><a id="d31062e394" class="indexterm-anchor"></a><a id="d31062e400" class="indexterm-anchor"></a>Mixed case (upper and lower case together) <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">queue table</span></a> names are supported if database compatibility is 10.0, but the names must be enclosed in double quote marks. So <code class="codeph">abc.efg</code> means the schema is <code class="codeph">ABC</code> and the name is <code class="codeph">EFG</code>, but <code class="codeph">"abc"."efg"</code> means the schema is <code class="codeph">abc</code> and the name is <code class="codeph">efg</code>.
                                       </p>
                                       <p><a id="d31062e431" class="indexterm-anchor"></a><a id="d31062e437" class="indexterm-anchor"></a>Starting from 12<span class="italic">c</span> Release 2 (12.2.), the maximum length of AQ queue table names is 122 bytes. If you attempt to create a queue table with a longer name, error ORA-24019 results.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e448" headers="d31062e368 ">
                                       <p><code class="codeph">queue_payload_type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e448 d31062e371 ">
                                       <p><a id="d31062e454" class="indexterm-anchor"></a><a id="d31062e458" class="indexterm-anchor"></a>This required parameter specifies the payload type as RAW or an object type. See <span class="q">"<a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDHFDJG">Payload Type</a>"</span> for more information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e470" headers="d31062e368 ">
                                       <p><code class="codeph">storage_clause</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e470 d31062e371 ">
                                       <p><a id="d31062e476" class="indexterm-anchor"></a><a id="d31062e480" class="indexterm-anchor"></a>This optional parameter specifies a tablespace for the queue table. See <span class="q">"<a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFEICD">Storage Clause</a>"</span> for more information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e492" headers="d31062e368 ">
                                       <p><code class="codeph">sort_list</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e492 d31062e371 ">
                                       <p><a id="d31062e498" class="indexterm-anchor"></a><a id="d31062e502" class="indexterm-anchor"></a>This optional parameter specifies one or two columns to be used as sort keys in ascending order. It has the format <span class="italic"><code class="codeph">sort_column1,sort_column2</code></span>. See <span class="q">"<a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFDHBE">Sort Key</a>"</span> for more information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e518" headers="d31062e368 ">
                                       <p><code class="codeph">multiple_consumers</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e518 d31062e371 ">
                                       <p><a id="d31062e524" class="indexterm-anchor"></a><a id="d31062e528" class="indexterm-anchor"></a>This optional parameter specifies the queue table as single-consumer or multiconsumer. The default <code class="codeph">FALSE</code> means queues created in the table can have only one consumer for each message. <code class="codeph">TRUE</code> means queues created in the table can have multiple consumers for each message.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e542" headers="d31062e368 ">
                                       <p><code class="codeph">message_grouping</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e542 d31062e371 ">
                                       <p><a id="d31062e548" class="indexterm-anchor"></a><a id="d31062e552" class="indexterm-anchor"></a>This optional parameter specifies whether messages are grouped or not. The default <code class="codeph">NONE</code> means each message is treated individually. <code class="codeph">TRANSACTIONAL</code> means all messages enqueued in one transaction are considered part of the same group and can be dequeued as a group of related messages.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e566" headers="d31062e368 ">
                                       <p><code class="codeph">comment</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e566 d31062e371 ">
                                       <p><a id="d31062e572" class="indexterm-anchor"></a><a id="d31062e576" class="indexterm-anchor"></a>This optional parameter is a user-specified description of the queue table. This user comment is added to the queue catalog.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e584" headers="d31062e368 ">
                                       <p><code class="codeph">auto_commit</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e584 d31062e371 ">
                                       <p><code class="codeph">TRUE</code> causes the current transaction, if any, to commit before the <code class="codeph">CREATE_QUEUE_TABLE</code> operation is carried out. The <code class="codeph">CREATE_QUEUE_TABLE</code> operation becomes persistent when the call returns. This is the default. <code class="codeph">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.
                                       </p>
                                       <p>Note: This parameter has been deprecated. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e605" headers="d31062e368 ">
                                       <p><code class="codeph">primary_instance</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e605 d31062e371 ">
                                       <p><a id="d31062e611" class="indexterm-anchor"></a><a id="d31062e615" class="indexterm-anchor"></a>This optional parameter specifies the primary owner of the queue table. Queue monitor scheduling and propagation for the queues in the queue table are done in this instance. The default value <code class="codeph">0</code> means queue monitor scheduling and propagation is done in any available instance.
                                       </p>
                                       <p>You can specify and modify this parameter only if <code class="codeph">compatible</code> is <code class="codeph">8.1</code> or higher.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e634" headers="d31062e368 ">
                                       <p><code class="codeph">secondary_instance</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e634 d31062e371 ">
                                       <p><a id="d31062e640" class="indexterm-anchor"></a><a id="d31062e644" class="indexterm-anchor"></a>This optional parameter specifies the owner of the queue table if the primary instance is not available. The default value <code class="codeph">0</code> means that the queue table will fail over to any available instance.
                                       </p>
                                       <p>You can specify and modify this parameter only if <code class="codeph">primary_instance</code> is also specified and <code class="codeph">compatible</code> is <code class="codeph">8.1</code> or higher.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e666" headers="d31062e368 ">
                                       <p><code class="codeph">compatible</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e666 d31062e371 ">
                                       <p><a id="d31062e672" class="indexterm-anchor"></a><a id="d31062e676" class="indexterm-anchor"></a>This optional parameter specifies the lowest database version with which the queue table is compatible. The possible values are <code class="codeph">8.0</code>, <code class="codeph">8.1</code>, and <code class="codeph">10.0</code>. If the database is in 10.1-compatible mode, then the default value is <code class="codeph">10.0</code>. If the database is in 8.1-compatible or 9.2-compatible mode, then the default value is <code class="codeph">8.1</code>. If the database is in 8.0-compatible mode, then the default value is <code class="codeph">8.0</code>. The <code class="codeph">8.0</code> value is deprecated in Oracle Database Advanced Queuing 10<span class="italic">g</span> Release 2 (10.2).
                                       </p>
                                       <p>For more information on compatibility, see <span class="q">"<a href="managing-aq.html#GUID-D31E2B70-F6A4-4E3D-8F49-E6BF393D1448" title="The queues in which buffered messages are stored must be created with compatibility set to 8.1 or higher.">Oracle Database Advanced Queuing Compatibility Parameters</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e720" headers="d31062e368 ">
                                       <p><code class="codeph">secure</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e720 d31062e371 ">
                                       <p><a id="d31062e726" class="indexterm-anchor"></a><a id="d31062e730" class="indexterm-anchor"></a><a id="d31062e734" class="indexterm-anchor"></a><a id="d31062e740" class="indexterm-anchor"></a>This optional parameter must be set to <code class="codeph">TRUE</code> if you want to use the queue table for secure queues. Secure queues are queues for which AQ agents must be associated explicitly with one or more database users who can perform queue operations, such as enqueue and dequeue. The owner of a secure queue can perform all queue operations on the queue, but other users cannot unless they are configured as secure queue users
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d31062e751" headers="d31062e368 ">
                                       <p><code class="codeph">replication_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d31062e751 d31062e371 ">
                                       <p>Reserved for future use. <code class="codeph">DBMS_AQADM.REPLICATION_MODE</code> if queue is being created in the Replication Mode or else <code class="codeph">DBMS_AQADM.NONE</code>. Default is <code class="codeph">DBMS_AQADM.NONE</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDHFDJG">
                        <p class="subhead3" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-35C8BB2A-14F7-4A1A-B897-3ED6EE474892">Payload Type</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To specify the payload type as an object type, you must define the object type.</p>
                        <div class="infoboxnote" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-2D171E9D-A21B-4186-A796-1D9846225E53">
                           <p class="notep1">Note:</p>
                           <p>If you have created synonyms on object types, then you cannot use them in <code class="codeph">DBMS_AQADM.CREATE_QUEUE_TABLE</code>. Error ORA-24015 results.
                           </p>
                        </div>
                        <p><a href="glossary.html#GUID-6A19CAEE-F2E5-435D-B582-2ECB47FD4D06"><span class="xrefglossterm">CLOB</span></a>, <a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a>, and <a href="glossary.html#GUID-A8B4B248-A9A3-462C-A52B-517BCFAEE0ED"><span class="xrefglossterm">BFILE</span></a> objects are valid in an Oracle Database Advanced Queuing <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a>. You can propagate these object types using Oracle Database Advanced Queuing <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> with Oracle software since Oracle8<span class="italic">i</span> release 8.1.x. To <a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">enqueue</span></a> an <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> that has a <a href="glossary.html#GUID-E0E22C6A-42AE-41CF-A021-5CB63BABB48E"><span class="xrefglossterm">LOB</span></a>, you must first set the <code class="codeph">LOB_attribute</code> to <code class="codeph">EMPTY_BLOB</code>() and perform the enqueue. You can then select the <code class="codeph">LOB</code> locator that was generated from the queue table's view and use the standard <code class="codeph">LOB</code> operations.
                        </p>
                        <div class="infoboxnote" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-A4CF9D8F-31DE-4C25-BB1C-3CFFEDCB77E3">
                           <p class="notep1">Note:</p>
                           <p>Payloads containing LOBs require users to grant explicit <code class="codeph">Select</code>, <code class="codeph">Insert</code> and <code class="codeph">Update</code> privileges on the queue table for doing enqueues and dequeues.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFEICD">
                        <p class="subhead3" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-1535A5B6-8372-4611-947F-2A9A5BD77C9C">Storage Clause</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">storage_clause</code> argument can take any text that can be used in a standard <code class="codeph">CREATE TABLE</code> <code class="codeph">storage_clause</code> argument.
                        </p>
                        <p>Once you pick the tablespace, any <a href="glossary.html#GUID-3F72FEC8-8EA0-4762-8383-D99020876B61"><span class="xrefglossterm">index-organized table</span></a> (IOT) or index created for that queue table goes to the specified tablespace. You do not currently have a choice to split them between different tablespaces.
                        </p>
                        <div class="infoboxnote" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-B9C755A0-DB6E-42D3-9DEB-8010A9073CCE">
                           <p class="notep1">Note:</p>
                           <p>The qmon processes in the 11g Release 2 (11.2) perform auto-coalesce of the the dequeue IOT, history IOT, and the time manager IOT. It is not required to manually coalesce AQ IOTs. However, it can be performed as a workaround if a performance degradation is observed.</p>
                           <p>If you choose to create the queue table in a locally managed tablespace or with freelist groups &gt; 1, then Queue Monitor Coordinator will skip the cleanup of those blocks. This can cause a decline in performance over time.</p>
                           <p>Coalesce the dequeue IOT by running </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE AQ$_<span class="italic">queue_table</span>_I COALESCE;</pre><p>You can run this command while there are concurrent dequeuers and enqueuers of the queue, but these concurrent users might see a slight decline in performance while the command is running.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFDHBE">
                        <p class="subhead3" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-78B85602-15FA-42E4-BFAB-E81337DF1C23">Sort Key</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The sort_list parameter determines the order in which messages are dequeued. You cannot change the message sort order after you have created the queue table. Your choices are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ENQ_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ENQ_TIME,PRIORITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PRIORITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PRIORITY,ENQ_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PRIORITY,COMMIT_TIME</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">COMMIT_TIME</code></p>
                           </li>
                        </ul>
                        <p>If <code class="codeph">COMMIT_TIME</code> is specified, then any queue that uses the queue table is a <a href="glossary.html#GUID-F4FC927D-BBFE-451D-9CCA-96C7387A39B0"><span class="xrefglossterm">commit-time queue</span></a>, and Oracle Database Advanced Queuing computes an <a href="glossary.html#GUID-30A3A407-F784-4083-9041-D548D9E1C6C5"><span class="xrefglossterm">approximate CSCN</span></a> for each enqueued message when its transaction commits.
                        </p>
                        <p><a id="d31062e921" class="indexterm-anchor"></a>If you specify <code class="codeph">COMMIT_TIME</code> as the sort key, then you must also specify the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">multiple_consumers</code> = <code class="codeph">TRUE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">message_grouping</code> = <code class="codeph">TRANSACTIONAL</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">compatible</code> = <code class="codeph">8.1</code> or higher
                              </p>
                           </li>
                        </ul>
                        <p>Commit-time ordering is useful when transactions are interdependent or when browsing the messages in a queue must yield consistent results.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDBDFAJ">
                        <p class="subhead3" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-037F6AD9-546A-4B89-8493-849B4908F6DD">Other Tables and Views</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following objects are created at table creation time:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">AQ$</code><span class="italic"><code class="codeph">_queue_table_name</code></span>, a read-only view which is used by Oracle Database Advanced Queuing applications for querying <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">queue</span></a> data
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_E</code>, the default <a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">exception queue</span></a> associated with the queue table
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_I</code>, an index or an <a href="glossary.html#GUID-3F72FEC8-8EA0-4762-8383-D99020876B61"><span class="xrefglossterm">index-organized table</span></a> (IOT) in the case of multiple <a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">consumer</span></a> queues for dequeue operations
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_T</code>, an index for the queue monitor operations
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_L</code>, dequeue log table, used for storing message identifiers of committed dequeue operations on the queue
                              </p>
                           </li>
                        </ul>
                        <p>The following objects are created only for 8.1-compatible multiconsumer queue tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_S</code>, a table for storing information about subscribers
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_H</code>, an index organized table (IOT) for storing dequeue history data
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-332C73E1-4EE6-44D9-BE87-7425ACA5068E">
                           <p class="notep1">Note:</p>
                           <p>Oracle Database Advanced Queuing does not support the use of triggers on these internal AQ queue tables.</p>
                        </div>
                        <p>If you do not specify a schema, then you default to the user's schema. </p>
                        <p>If <code class="codeph">GLOBAL_TOPIC_ENABLED</code> <code class="codeph">=</code> <code class="codeph">TRUE</code> when a queue table is created, then a corresponding <a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">Lightweight Directory Access Protocol</span></a> (LDAP) entry is also created.
                        </p>
                        <p><a id="d31062e1069" class="indexterm-anchor"></a><a id="d31062e1071" class="indexterm-anchor"></a><a id="d31062e1075" class="indexterm-anchor"></a><a id="d31062e1077" class="indexterm-anchor"></a>If the queue type is <code class="codeph">ANYDATA</code>, then a <a href="glossary.html#GUID-4FE49D89-66C7-46AB-8628-23A241EB1DA4"><span class="xrefglossterm">buffered queue</span></a> and two additional objects are created. The buffered queue stores logical change records created by a capture process. The logical change records are staged in a memory buffer associated with the queue; they are not ordinarily written to disk. 
                        </p>
                        <p>If they have been staged in the buffer for a period of time without being dequeued, or if there is not enough space in memory to hold all of the captured events, then they are spilled to: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_P</code>, a table for storing the captured events that spill from memory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_D</code>, a table for storing information about the propagations and apply processes that are eligible for processing each event
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-84A41704-2E74-49D1-9630-551FB1045120">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="aq-introduction.html#GUID-AA8621D3-88E6-460A-8EC4-8EE6F53DE56A__CHDCEDDG">Dequeue Modes</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../adlob/introduction-to-large-objects.html#ADLOB001" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-BE8383B2-FB82-459F-9B5C-8B3D908C9F2D">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following examples assume you are in a SQL*Plus testing environment. In <a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">Example 8-1</a>, you create users in preparation for the other examples in this chapter. For this example, you must connect as a user with administrative privileges. For most of the other examples in this chapter, you can connect as user <code class="codeph">test_adm</code>. A few examples must be run as <code class="codeph">test</code> with <code class="codeph">EXECUTE</code> privileges on <code class="codeph">DBMS_AQADM</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">
                        <p class="titleinexample">Example 8-1 Setting Up AQ Administrative Users</p><pre class="oac_no_warn" dir="ltr">CREATE USER test_adm IDENTIFIED BY test_adm DEFAULT TABLESPACE example;
GRANT DBA, CREATE ANY TYPE TO test_adm; 
GRANT EXECUTE ON DBMS_AQADM TO test_adm;
GRANT aq_administrator_role TO test_adm;
BEGIN
   DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE(
      privilege          =&gt;    'MANAGE_ANY', 
      grantee            =&gt;    'test_adm', 
      admin_option       =&gt;     FALSE);
END;
/
CREATE USER test IDENTIFIED BY test;
GRANT EXECUTE ON dbms_aq TO test;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDJIFCF">
                        <p class="titleinexample">Example 8-2 Setting Up AQ Administrative Example Types</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE test.message_typ AS object(
   sender_id              NUMBER,
   subject                VARCHAR2(30),
   text                   VARCHAR2(1000));
/
CREATE TYPE test.msg_table AS TABLE OF test.message_typ;
/
CREATE TYPE test.order_typ AS object(
   custno                 NUMBER,
   item                   VARCHAR2(30),
   description            VARCHAR2(1000));
/
CREATE TYPE test.lob_typ AS object(
   id                     NUMBER, 
   subject                VARCHAR2(100), 
   data                   BLOB, 
   trailer                NUMBER);
/ </pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDCBGCF">
                        <p class="titleinexample">Example 8-3 Creating a Queue Table for Messages of Object Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.obj_qtab',
      queue_payload_type     =&gt; 'test.message_typ');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-0D5B8E62-2BF5-4C90-9A70-97BFEBDAD11F">
                        <p class="titleinexample">Example 8-4 Creating a Queue Table for Messages of RAW Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE( 
      queue_table            =&gt; 'test.raw_qtab', 
      queue_payload_type     =&gt; 'RAW'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDBEADD">
                        <p class="titleinexample">Example 8-5 Creating a Queue Table for Messages of LOB Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.lob_qtab',
      queue_payload_type     =&gt; 'test.lob_typ');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-1E5E855E-F3BA-4508-9F8A-7DB5A6CB19D7">
                        <p class="titleinexample">Example 8-6 Creating a Queue Table for Messages of XMLType</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_AQADM.CREATE_QUEUE_TABLE(
     queue_table         =&gt; 'test.xml_qtab', 
     queue_payload_type  =&gt; 'SYS.XMLType',
     multiple_consumers  =&gt; TRUE, 
     compatible          =&gt; '8.1',
     comment             =&gt; 'Overseas Shipping multiconsumer orders queue table');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDEAEID">
                        <p class="titleinexample">Example 8-7 Creating a Queue Table for Grouped Messages</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE( 
      queue_table          =&gt; 'test.group_qtab',
      queue_payload_type   =&gt; 'test.message_typ',
      message_grouping     =&gt; DBMS_AQADM.TRANSACTIONAL);
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFEDEC">
                        <p class="titleinexample">Example 8-8 Creating Queue Tables for Prioritized Messages and Multiple Consumers</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.priority_qtab', 
      queue_payload_type     =&gt; 'test.order_typ',
      sort_list              =&gt; 'PRIORITY,ENQ_TIME', 
      multiple_consumers     =&gt; TRUE);
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.multiconsumer_qtab',
      queue_payload_type     =&gt; 'test.message_typ',
      sort_list              =&gt; 'PRIORITY,ENQ_TIME', 
      multiple_consumers     =&gt; TRUE);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-0AA59776-8332-487B-9BFD-E40183512191">
                        <p class="titleinexample">Example 8-9 Creating a Queue Table with Commit-Time Ordering</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.commit_time_qtab',
      queue_payload_type     =&gt; 'test.message_typ',
      sort_list              =&gt; 'COMMIT_TIME', 
      multiple_consumers     =&gt; TRUE, 
      message_grouping       =&gt; DBMS_AQADM.TRANSACTIONAL,
      compatible             =&gt; '10.0');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-4D094470-F5D0-4FEF-BF54-F21059092133">
                        <p class="titleinexample">Example 8-10 Creating an 8.1-Compatible Queue Table for Multiple Consumers</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE(
      queue_table            =&gt; 'test.multiconsumer_81_qtab',
      queue_payload_type     =&gt; 'test.message_typ',
      multiple_consumers     =&gt;  TRUE,
      compatible             =&gt; '8.1'); 
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__GUID-AA1607E0-B16B-4C47-8D8E-43F648183025">
                        <p class="titleinexample">Example 8-11 Creating a Queue Table in a Specified Tablespace</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE_TABLE( 
      queue_table        =&gt; 'test.example_qtab',
      queue_payload_type =&gt; 'test.message_typ',
      storage_clause     =&gt; 'tablespace example');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDJIEHH">
                        <p class="titleinexample">Example 8-12 Creating a Queue Table with Freelists or Freelist Groups</p><pre class="oac_no_warn" dir="ltr">BEGIN 
   DBMS_AQADM.CREATE_QUEUE_TABLE( 
      queue_table            =&gt; 'test.freelist_qtab', 
      queue_payload_type     =&gt; 'RAW', 
      storage_clause         =&gt; 'STORAGE (FREELISTS 4 FREELIST GROUPS 2)',
      compatible             =&gt; '8.1');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2675"></a><a id="ADQUE2676"></a><a id="ADQUE0802"></a><div class="props_rev_3"><a id="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C" name="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C"></a><h4 id="ADQUE-GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C" class="sect4"><span class="enumeration_section">8.1.2 </span>Altering a Queue Table
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ALTER_QUEUE_TABLE</code> alters the existing properties of a non-sharded queue table.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_QUEUE_TABLE (
   queue_table          IN   VARCHAR2, 
   comment              IN   VARCHAR2       DEFAULT NULL,
   primary_instance     IN   BINARY_INTEGER DEFAULT NULL, 
   secondary_instance   IN   BINARY_INTEGER DEFAULT NULL
   replication_mode     IN   BINARY_INTEGER DEFAULT NULL);
</pre><div class="tblformal" id="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C__GUID-0F9ACBAA-2C45-4DCE-8F88-0EF2533294FF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d31062e1280">Parameter</th>
                                    <th align="left" valign="bottom" width="72%" id="d31062e1283">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1288" headers="d31062e1280 ">
                                       <p><code class="codeph">queue_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1288 d31062e1283 ">
                                       <p>This required parameter specifies the queue table name. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1296" headers="d31062e1280 ">
                                       <p><code class="codeph">comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1296 d31062e1283 ">
                                       <p>This optional parameter is a user-specified description of the queue table. This user comment is added to the queue catalog.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1304" headers="d31062e1280 ">
                                       <p><code class="codeph">primary_instance</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1304 d31062e1283 ">
                                       <p>This optional parameter specifies the primary owner of the queue table. Queue monitor scheduling and propagation for the queues in the queue table are done in this instance. </p>
                                       <p>You can specify and modify this parameter only if <code class="codeph">compatible</code> is <code class="codeph">8.1</code> or higher.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1320" headers="d31062e1280 ">
                                       <p><code class="codeph">secondary_instance</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1320 d31062e1283 ">
                                       <p>This optional parameter specifies the owner of the queue table if the primary instance is not available. </p>
                                       <p>You can specify and modify this parameter only if <code class="codeph">primary_instance</code> is also specified and <code class="codeph">compatible</code> is <code class="codeph">8.1</code> or higher.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1339" headers="d31062e1280 ">
                                       <p><code class="codeph">replication_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1339 d31062e1283 ">
                                       <p>Reserved for future use. <code class="codeph">DBMS_AQADM.REPLICATION_MODE</code> if Queue is being altered to be in the Replication Mode or else <code class="codeph">DBMS_AQADM.NONE</code>. Default value is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C__GUID-4B2CC8E3-CAB7-4859-BDD2-F3860A3B2030">
                           <p class="notep1">Note:</p>
                           <p>In general, DDL statements are not supported on queue tables and may even render them inoperable. For example, issuing an <code class="codeph">ALTER TABLE</code> ... <code class="codeph">SHRINK</code> statement against a queue table results in an internal error, and all subsequent attempts to use the queue table will also result in errors. Oracle recommends that you not use DDL statements on queue tables.
                           </p>
                        </div>
                        <p>If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a queue table is modified, then a corresponding LDAP entry is also altered.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C__GUID-E790A3DE-E8A5-4A39-8EBE-D0A434653D96">
                        <p class="titleinexample">Example 8-13 Altering a Queue Table by Changing the Primary and Secondary Instances</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ALTER_QUEUE_TABLE( 
      queue_table          =&gt; 'test.obj_qtab', 
      primary_instance     =&gt; 3, 
      secondary_instance   =&gt; 2);
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-13FB1BCB-5D5A-410A-AD46-B5F58F50B32C__GUID-0B0439F5-5234-40E2-8626-5730F55EB25B">
                        <p class="titleinexample">Example 8-14 Altering a Queue Table by Changing the Comment</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ALTER_QUEUE_TABLE( 
      queue_table          =&gt; 'test.obj_qtab', 
      comment              =&gt; 'revised usage for queue table');
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2678"></a><a id="ADQUE2679"></a><a id="ADQUE2677"></a><div class="props_rev_3"><a id="GUID-3CCA227A-F777-4EF5-8556-44DC599674AA" name="GUID-3CCA227A-F777-4EF5-8556-44DC599674AA"></a><h4 id="ADQUE-GUID-3CCA227A-F777-4EF5-8556-44DC599674AA" class="sect4"><span class="enumeration_section">8.1.3 </span>Dropping a Queue Table
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.DROP_QUEUE_TABLE</code> drops an existing non-sharded queue table.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_QUEUE_TABLE(
   queue_table       IN    VARCHAR2,
   force             IN    BOOLEAN DEFAULT FALSE,
</pre><p>You must stop and drop all the queues in a queue table before the queue table can be dropped. You must do this explicitly if <code class="codeph">force</code> is set to <code class="codeph">FALSE</code>. If <code class="codeph">force</code> is set to <code class="codeph">TRUE</code>, then all queues in the queue table and their associated propagation schedules are dropped automatically.
                        </p>
                        <p>If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a queue table is dropped, then a corresponding LDAP entry is also dropped.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3CCA227A-F777-4EF5-8556-44DC599674AA__GUID-EAF5D8FB-438F-47A7-8B03-B29D68B22BB3">
                        <p class="titleinexample">Example 8-15 Dropping a Queue Table</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.DROP_QUEUE_TABLE(
      queue_table        =&gt; 'test.obj_qtab');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3CCA227A-F777-4EF5-8556-44DC599674AA__GUID-1A534005-FA16-44D5-8F32-06FEC52E5C90">
                        <p class="titleinexample">Example 8-16 Dropping a Queue Table with force Option</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.DROP_QUEUE_TABLE( 
      queue_table        =&gt; 'test.raw_qtab', 
      force              =&gt; TRUE); 
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2680"></a><a id="ADQUE2681"></a><a id="ADQUE2682"></a><a id="ADQUE2683"></a><a id="ADQUE2684"></a><a id="ADQUE0812"></a><div class="props_rev_3"><a id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79" name="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79"></a><h4 id="ADQUE-GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79" class="sect4"><span class="enumeration_section">8.1.4 </span>Purging a Queue Table
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.PURGE_QUEUE_TABLE</code> purges messages from a non-sharded queue table. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.PURGE_QUEUE_TABLE(
   queue_table        IN   VARCHAR2,
   purge_condition    IN   VARCHAR2,
   purge_options      IN   aq$_purge_options_t);
</pre><p>It has the following parameters:</p>
                        <div class="tblformal" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-7EA55FBF-7495-4C9D-B678-4574B337F5FA">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d31062e1553">Parameter</th>
                                    <th align="left" valign="bottom" width="72%" id="d31062e1556">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1561" headers="d31062e1553 ">
                                       <p><code class="codeph">queue_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1561 d31062e1556 ">
                                       <p>This required parameter specifies the queue table name. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1569" headers="d31062e1553 ">
                                       <p><code class="codeph">purge_condition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1569 d31062e1556 ">
                                       <p><a id="d31062e1575" class="indexterm-anchor"></a>The purge condition must be in the format of a SQL <code class="codeph">WHERE</code> clause, and it is case-sensitive. The condition is based on the columns of <code class="codeph">aq$</code><span class="italic"><code class="codeph">queue_table_name</code></span> view. Each column name in the purge condition must be prefixed with "<code class="codeph">qtview.</code>" 
                                       </p>
                                       <p>All purge conditions supported for persistent messages are also supported for buffered messages.</p>
                                       <p>To purge all queues in a queue table, set <code class="codeph">purge_condition</code> to either <code class="codeph">NULL</code> (a bare null word, no quotes) or <code class="codeph">''</code> (two single quotes). 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d31062e1606" headers="d31062e1553 ">
                                       <p><code class="codeph">purge_options</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d31062e1606 d31062e1556 ">
                                       <p><a id="d31062e1612" class="indexterm-anchor"></a><a id="d31062e1616" class="indexterm-anchor"></a>Type <code class="codeph">aq$_purge_options_t</code> contains a <code class="codeph">block</code> parameter. If <code class="codeph">block</code> is <code class="codeph">TRUE</code>, then an exclusive lock on all the queues in the queue table is held while purging the queue table. This will cause concurrent enqueuers and dequeuers to block while the queue table is purged. The purge call always succeeds if <code class="codeph">block</code> is <code class="codeph">TRUE</code>. The default for <code class="codeph">block</code> is <code class="codeph">FALSE</code>. This will not block enqueuers and dequeuers, but it can cause the purge to fail with an error during high concurrency times.
                                       </p>
                                       <p>Type <code class="codeph">aq$_purge_options_t</code> also contains a <code class="codeph">delivery_mode</code> parameter. If it is the default <code class="codeph">PERSISTENT</code>, then only persistent messages are purged. If it is set to <code class="codeph">BUFFERED</code>, then only buffered messages are purged. If it is set to <code class="codeph">PERSISTENT_OR_BUFFERED</code>, then both types are purged. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>A trace file is generated in the udump destination when you run this procedure. It details what the procedure is doing. The procedure commits after it has processed all the messages.</p>
                        <div class="infoboxnotealso" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-0AB4EE0F-1619-4E55-9690-7775143281E4">
                           <p class="notep1">See Also:</p>
                           <p>"DBMS_AQADM" in <a href="../arpls/DBMS_AQADM.html#ARPLS005" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on <code class="codeph">DBMS_AQADM.PURGE_QUEUE_TABLE</code></p>
                        </div>
                        <div class="infoboxnote" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-CD1DE3E4-8958-443D-83BF-4D49656FD0C0">
                           <p class="notep1">Note:</p>
                           <p>Some purge conditions, such as<code class="codeph"> consumer_name</code> in <a href="aq-administrative-interface.html#GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__CHDJJABB">Example 8-20</a> and <code class="codeph">sender_name</code> in <a href="aq-administrative-interface.html#GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__CHDCAIGE">Example 8-21</a>, are supported only in 8.1-compatible queue tables. For more information, see <a href="aq-messaging-gateway-views.html#GUID-78CC1D99-D2DD-4B80-BC38-4BBF39E05EFA__G1009814" title="This table describes the contents of a view. The first column is the name of a view column. The second column is the datatype for that view column. The third column indicates whether a null value is not allowed. The fourth column provides a brief description of the view column.">Table 9-1</a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-181A7246-701D-4D5C-BC7F-5F472CF1A2AB">
                        <p class="titleinexample">Example 8-17 Purging All Messages in a Queue Table</p><pre class="oac_no_warn" dir="ltr">DECLARE
po dbms_aqadm.aq$_purge_options_t;
BEGIN
   po.block := FALSE;
   DBMS_AQADM.PURGE_QUEUE_TABLE(
     queue_table     =&gt; 'test.obj_qtab',
     purge_condition =&gt; NULL,
     purge_options   =&gt; po);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-A27C6159-D9AB-470A-A0CB-D409355FE4B4">
                        <p class="titleinexample">Example 8-18 Purging All Messages in a Named Queue</p><pre class="oac_no_warn" dir="ltr">DECLARE
po dbms_aqadm.aq$_purge_options_t;
BEGIN
   po.block := TRUE;
   DBMS_AQADM.PURGE_QUEUE_TABLE(
     queue_table     =&gt; 'test.obj_qtab',
     purge_condition =&gt; 'qtview.queue = ''TEST.OBJ_QUEUE''',
     purge_options   =&gt; po);
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__GUID-85B75C31-2B49-4E40-9775-A9F85B6C5159">
                        <p class="titleinexample">Example 8-19 Purging All PROCESSED Messages in a Named Queue</p><pre class="oac_no_warn" dir="ltr">DECLARE
po dbms_aqadm.aq$_purge_options_t;
BEGIN
   po.block := TRUE;
   DBMS_AQADM.PURGE_QUEUE_TABLE(
     queue_table     =&gt; 'test.obj_qtab',
     purge_condition =&gt; 'qtview.queue = ''TEST.OBJ_QUEUE'' 
                         and qtview.msg_state = ''PROCESSED''',
     purge_options   =&gt; po);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__CHDJJABB">
                        <p class="titleinexample">Example 8-20 Purging All Messages in a Named Queue and for a Named Consumer</p><pre class="oac_no_warn" dir="ltr">DECLARE
po dbms_aqadm.aq$_purge_options_t;
BEGIN
   po.block := TRUE;
   DBMS_AQADM.PURGE_QUEUE_TABLE(
     queue_table     =&gt; 'test.multiconsumer_81_qtab',
     purge_condition =&gt; 'qtview.queue = ''TEST.MULTICONSUMER_81_QUEUE'' 
                         and qtview.consumer_name = ''PAYROLL_APP''',
     purge_options   =&gt; po);
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B76DDA4D-550F-4847-A042-73FCE1C74C79__CHDCAIGE">
                        <p class="titleinexample">Example 8-21 Purging All Messages from a Named Sender</p><pre class="oac_no_warn" dir="ltr">DECLARE
po dbms_aqadm.aq$_purge_options_t;
BEGIN
   po.block := TRUE;
   DBMS_AQADM.PURGE_QUEUE_TABLE(
     queue_table     =&gt; 'test.multiconsumer_81_qtab',
     purge_condition =&gt; 'qtview.sender_name = ''TEST.OBJ_QUEUE''',
     purge_options   =&gt; po);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2686"></a><a id="ADQUE2685"></a><div class="props_rev_3"><a id="GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983" name="GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983"></a><h4 id="ADQUE-GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983" class="sect4"><span class="enumeration_section">8.1.5 </span>Migrating a Queue Table
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.MIGRATE_QUEUE_TABLE</code> migrates a non-sharded queue table from 8.0, 8.1, or 10.0 to 8.0, 8.1, or 10.0. Only the owner of the queue table can migrate it. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.MIGRATE_QUEUE_TABLE(
   queue_table   IN   VARCHAR2,
   compatible    IN   VARCHAR2);
</pre><div class="infoboxnote" id="GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983__GUID-1BC919D9-B5E0-43E1-AEE9-DCD9E0EA04C4">
                           <p class="notep1">Note:</p>
                           <p>This procedure requires that the <code class="codeph">EXECUTE</code> privilege on <code class="codeph">DBMS_AQADM</code> be granted to the queue table owner, who is probably an ordinary queue user. If you do not want ordinary queue users to be able to create and drop queues and queue tables, add and delete subscribers, and so forth, then you must revoke the <code class="codeph">EXECUTE</code> privilege as soon as the migration is done.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983__GUID-4DEA5242-0DBF-48E9-9019-4E86986C7B0C">
                           <p class="notep1">Note:</p>
                           <p>Queues created in a queue table with <code class="codeph">compatible</code> set to <code class="codeph">8.0</code> (referred to in this guide as 8.0-style queues) are deprecated in Oracle Database Advanced Queuing 10<span class="italic">g</span> Release 2 (10.2). Oracle recommends that any new queues you create be 8.1-style or newer and that you migrate existing 8.0-style queues at your earliest convenience.
                           </p>
                        </div>
                        <p>If a schema was created by an import of an export dump from a lower release or has Oracle Database Advanced Queuing queues upgraded from a lower release, then attempts to drop it with <code class="codeph">DROP USER CASCADE</code> will fail with ORA-24005. To drop such schemas:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Event 10851 should be set to level 1.</span></li>
                        <li><span>Drop all tables of the form <code class="codeph">AQ$_</code><span class="italic"><code class="codeph">queue_table_name</code></span><code class="codeph">_NR</code> from the schema.</span></li>
                        <li><span>Turn off event 10851.</span></li>
                        <li><span>Drop the schema.</span></li>
                     </ol>
                     <div class="example" id="GUID-98C3CCDA-7852-4F0D-8FDF-12E4DC9DB983__GUID-0E45F6E9-3978-4D4B-BA81-FEE2EE0AB156">
                        <p class="titleinexample">Example 8-22 Upgrading a Queue Table from 8.1-Compatible to 10.0-Compatible</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.MIGRATE_QUEUE_TABLE (
           queue_table    =&gt; 'test.xml_qtab', 
           compatible     =&gt; '10.0');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2687"></a><div class="props_rev_3"><a id="GUID-0FA3BE2C-A988-49ED-B602-948015276F66" name="GUID-0FA3BE2C-A988-49ED-B602-948015276F66"></a><h3 id="ADQUE-GUID-0FA3BE2C-A988-49ED-B602-948015276F66" class="sect3"><span class="enumeration_section">8.2 </span>Managing Non-Sharded Queues
               </h3>
               <div>
                  <p>These topics describe how to manage non-sharded queues.</p>
                  <div class="infoboxnote" id="GUID-0FA3BE2C-A988-49ED-B602-948015276F66__GUID-A858D62B-B5ED-4960-AB09-FE2575272EF6">
                     <p class="notep1">Note:</p>
                     <p>Starting and stopping a sharded queue use the same APIs as non-sharded queues.</p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324" title="DBMS_AQADM.CREATE_QUEUE creates a non-sharded queue.">Creating a Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-5C94D69C-7389-47F7-A927-7AC76D2F0A77" title="DBMS_AQADM.ALTER_QUEUE alters existing properties of a non-sharded queue.">Altering a Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C" title="DBMS_AQADM.START_QUEUE enables the specified non-sharded queue for enqueuing or dequeuing.">Starting a Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-A93E742B-1803-4607-B041-CDA42993373A" title="DBMS_AQADM.STOP_QUEUE disables enqueuing, dequeuing, or both on the specified non-sharded queue.">Stopping a Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-5048ED3E-4C45-4B1E-AF63-95BFC01C498D" title="This procedure drops an existing non-sharded queue. DROP_QUEUE is not allowed unless STOP_QUEUE has been called to disable the queue for both enqueuing and dequeuing. All the queue data is deleted as part of the drop operation.">Dropping a Queue</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2688"></a><a id="ADQUE2689"></a><a id="ADQUE2690"></a><a id="ADQUE2691"></a><a id="ADQUE2692"></a><a id="ADQUE2693"></a><a id="ADQUE2694"></a><a id="ADQUE2695"></a><a id="ADQUE0803"></a><div class="props_rev_3"><a id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324" name="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324"></a><h4 id="ADQUE-GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324" class="sect4"><span class="enumeration_section">8.2.1 </span>Creating a Queue
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.CREATE_QUEUE</code> creates a non-sharded queue.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_QUEUE(
   queue_name          IN       VARCHAR2,
   queue_table         IN       VARCHAR2,
   queue_type          IN       BINARY_INTEGER DEFAULT NORMAL_QUEUE,
   max_retries         IN       NUMBER         DEFAULT NULL,
   retry_delay         IN       NUMBER         DEFAULT 0,
   retention_time      IN       NUMBER         DEFAULT 0,
   dependency_tracking IN       BOOLEAN        DEFAULT FALSE,
   comment             IN       VARCHAR2       DEFAULT NULL,
</pre><p>It has the following parameters: </p>
                        <div class="tblformal" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__GUID-73CDBB82-ED16-4CE4-9E3E-BC95E0AF287F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d31062e2040">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d31062e2043">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2048" headers="d31062e2040 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2048 d31062e2043 ">
                                       <p><a id="d31062e2054" class="indexterm-anchor"></a><a id="d31062e2058" class="indexterm-anchor"></a><a id="d31062e2064" class="indexterm-anchor"></a><a id="d31062e2070" class="indexterm-anchor"></a><a id="d31062e2076" class="indexterm-anchor"></a><a id="d31062e2082" class="indexterm-anchor"></a>This required parameter specifies the name of the new queue.
                                       </p>
                                       <p>Mixed case (upper and lower case together) queue names are supported if database compatibility is 10.0, but the names must be enclosed in double quote marks. So <code class="codeph">abc.efg</code> means the schema is <code class="codeph">ABC</code> and the name is <code class="codeph">EFG</code>, but <code class="codeph">"abc"."efg"</code> means the schema is <code class="codeph">abc</code> and the name is <code class="codeph">efg</code>.
                                       </p>
                                       <p>Starting from 12<span class="italic">c</span> Release 2 (12.2.), the maximum length of user-generated queue names is 122 bytes. If you attempt to create a queue with a longer name, error ORA-24019 results. Queue names generated by Oracle Database Advanced Queuing, such as those listed in <span class="q">"<a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDBDFAJ">Other Tables and Views</a>"</span>, cannot be longer than 128 characters.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2120" headers="d31062e2040 ">
                                       <p><code class="codeph">queue_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2120 d31062e2043 ">
                                       <p><a id="d31062e2126" class="indexterm-anchor"></a><a id="d31062e2130" class="indexterm-anchor"></a>This required parameter specifies the queue table in which the queue is created. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2138" headers="d31062e2040 ">
                                       <p><code class="codeph">queue_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2138 d31062e2043 ">
                                       <p><a id="d31062e2144" class="indexterm-anchor"></a><a id="d31062e2148" class="indexterm-anchor"></a>This parameter specifies what type of queue to create. The default <code class="codeph">NORMAL_QUEUE</code> produces a normal queue. <code class="codeph">EXCEPTION_QUEUE</code> produces an exception queue. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2162" headers="d31062e2040 ">
                                       <p><code class="codeph">max_retries</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2162 d31062e2043 ">
                                       <p><a id="d31062e2168" class="indexterm-anchor"></a><a id="d31062e2172" class="indexterm-anchor"></a>This parameter limits the number of times a dequeue with the <code class="codeph">REMOVE</code> mode can be attempted on a message. The maximum value of <code class="codeph">max_retries</code> is 2**31 -1.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2186" headers="d31062e2040 ">
                                       <p><code class="codeph">retry_delay</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2186 d31062e2043 ">
                                       <p><a id="d31062e2192" class="indexterm-anchor"></a><a id="d31062e2196" class="indexterm-anchor"></a>This parameter specifies the number of seconds after which this message is scheduled for processing again after an application rollback. The default is 0, which means the message can be retried as soon as possible. This parameter has no effect if <code class="codeph">max_retries</code> is set to 0. 
                                       </p>
                                       <p>This parameter is supported for single-consumer queues and 8.1-style or higher multiconsumer queues but not for 8.0-style multiconsumer queues, which are deprecated in Oracle Database Advanced Queuing 10<span class="italic">g</span> Release 2 (10.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2212" headers="d31062e2040 ">
                                       <p><code class="codeph">retention_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2212 d31062e2043 ">
                                       <p><a id="d31062e2218" class="indexterm-anchor"></a><a id="d31062e2222" class="indexterm-anchor"></a>This parameter specifies the number of seconds a message is retained in the queue table after being dequeued from the queue. When <code class="codeph">retention_time</code> expires, messages are removed by the time manager process. <code class="codeph">INFINITE</code> means the message is retained forever. The default is 0, no retention.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2236" headers="d31062e2040 ">
                                       <p><code class="codeph">dependency_tracking</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2236 d31062e2043 ">
                                       <p>This parameter is reserved for future use. <code class="codeph">FALSE</code> is the default. <code class="codeph">TRUE</code> is not permitted in this release.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d31062e2250" headers="d31062e2040 ">
                                       <p><code class="codeph">comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d31062e2250 d31062e2043 ">
                                       <p><a id="d31062e2256" class="indexterm-anchor"></a><a id="d31062e2260" class="indexterm-anchor"></a>This optional parameter is a user-specified description of the queue. This user comment is added to the queue catalog.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>All queue names must be unique within a <a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">schema</span></a>. Once a queue is created with <code class="codeph">CREATE_QUEUE</code>, it can be enabled by calling <code class="codeph">START_QUEUE</code>. By default, the queue is created with both enqueue and dequeue disabled. To view retained messages, you can either dequeue by message ID or use SQL. If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a queue is created, then a corresponding LDAP entry is also created.
                        </p>
                        <p>The following examples (<a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDEFAFG">Example 8-23</a> through <a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDIDCCG">Example 8-30</a>) use data structures created in <a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">Example 8-1</a> through <a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDJIEHH">Example 8-12</a>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDEFAFG">
                        <p class="titleinexample">Example 8-23 Creating a Queue for Messages of Object Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE(
      queue_name         =&gt;  'test.obj_queue',
      queue_table        =&gt;  'test.obj_qtab');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__GUID-3A1EF2C2-5918-4BC1-825C-0E73C608970F">
                        <p class="titleinexample">Example 8-24 Creating a Queue for Messages of RAW Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE( 
      queue_name          =&gt; 'test.raw_queue', 
      queue_table         =&gt; 'test.raw_qtab'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDHEAID">
                        <p class="titleinexample">Example 8-25 Creating a Queue for Messages of LOB Type</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE( 
      queue_name          =&gt; 'test.lob_queue', 
      queue_table         =&gt; 'test.lob_qtab'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDHEACA">
                        <p class="titleinexample">Example 8-26 Creating a Queue for Grouped Messages</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE( 
      queue_name          =&gt; 'test.group_queue', 
      queue_table         =&gt; 'test.group_qtab'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDGCFHI">
                        <p class="titleinexample">Example 8-27 Creating a Queue for Prioritized Messages</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE(
      queue_name         =&gt; 'test.priority_queue', 
      queue_table        =&gt; 'test.priority_qtab');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDIAEEH">
                        <p class="titleinexample">Example 8-28 Creating a Queue for Prioritized Messages and Multiple Consumers</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE(
      queue_name         =&gt; 'test.multiconsumer_queue',
      queue_table        =&gt; 'test.multiconsumer_qtab');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__GUID-FD73BA65-9E96-46ED-873A-0D4F75260C50">
                        <p class="titleinexample">Example 8-29 Creating a Queue to Demonstrate Propagation</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE(
      queue_name        =&gt; 'test.another_queue',
      queue_table       =&gt; 'test.multiconsumer_qtab');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDIDCCG">
                        <p class="titleinexample">Example 8-30 Creating an 8.1-Style Queue for Multiple Consumers</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.CREATE_QUEUE( 
      queue_name         =&gt; 'test.multiconsumer_81_queue', 
      queue_table        =&gt; 'test.multiconsumer_81_qtab'); 
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2696"></a><a id="ADQUE0804"></a><div class="props_rev_3"><a id="GUID-5C94D69C-7389-47F7-A927-7AC76D2F0A77" name="GUID-5C94D69C-7389-47F7-A927-7AC76D2F0A77"></a><h4 id="ADQUE-GUID-5C94D69C-7389-47F7-A927-7AC76D2F0A77" class="sect4"><span class="enumeration_section">8.2.2 </span>Altering a Queue
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ALTER_QUEUE </code>alters existing properties of a non-sharded queue.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_QUEUE(
   queue_name        IN    VARCHAR2,
   max_retries       IN    NUMBER   DEFAULT NULL,
   retry_delay       IN    NUMBER   DEFAULT NULL,
   retention_time    IN    NUMBER   DEFAULT NULL,
   comment           IN    VARCHAR2 DEFAULT NULL);
</pre><p>Only <code class="codeph">max_retries</code>, <code class="codeph">comment</code>, <code class="codeph">retry_delay</code>, and <code class="codeph">retention_time</code> can be altered. To view retained messages, you can either dequeue by message ID or use SQL. If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a queue is modified, then a corresponding LDAP entry is also altered.
                        </p>
                        <p>The following example changes retention time, saving messages for 1 day after dequeuing:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5C94D69C-7389-47F7-A927-7AC76D2F0A77__I1006325">
                        <p class="titleinexample">Example 8-31 Altering a Queue by Changing Retention Time</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ALTER_QUEUE( 
      queue_name        =&gt; 'test.another_queue', 
      retention_time    =&gt; 86400);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2697"></a><a id="ADQUE2698"></a><a id="ADQUE0805"></a><div class="props_rev_3"><a id="GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C" name="GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C"></a><h4 id="ADQUE-GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C" class="sect4"><span class="enumeration_section">8.2.3 </span>Starting a Queue
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.START_QUEUE</code> enables the specified non-sharded queue for enqueuing or dequeuing.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.START_QUEUE( 
   queue_name      IN     VARCHAR2,
   enqueue         IN     BOOLEAN DEFAULT TRUE,
   dequeue         IN     BOOLEAN DEFAULT TRUE);
</pre><p>After creating a queue, the administrator must use <code class="codeph">START_QUEUE</code> to enable the queue. The default is to enable it for both enqueue and dequeue. Only dequeue operations are allowed on an exception queue. This operation takes effect when the call completes and does not have any <a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">transactional</span></a> characteristics.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C__GUID-E25B101E-C979-40F7-8BB8-4F6C451BCDAF">
                        <p class="titleinexample">Example 8-32 Starting a Queue with Both Enqueue and Dequeue Enabled</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.START_QUEUE (
      queue_name         =&gt; 'test.obj_queue');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C__GUID-0F4F2EFC-779D-4D8D-997B-849D74E8DFB5">
                        <p class="titleinexample">Example 8-33 Starting a Queue for Dequeue Only</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.START_QUEUE( 
      queue_name         =&gt; 'test.raw_queue', 
      dequeue            =&gt; TRUE, 
      enqueue            =&gt; FALSE); 
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2699"></a><a id="ADQUE0806"></a><div class="props_rev_3"><a id="GUID-A93E742B-1803-4607-B041-CDA42993373A" name="GUID-A93E742B-1803-4607-B041-CDA42993373A"></a><h4 id="ADQUE-GUID-A93E742B-1803-4607-B041-CDA42993373A" class="sect4"><span class="enumeration_section">8.2.4 </span>Stopping a Queue
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.STOP_QUEUE</code> disables enqueuing, dequeuing, or both on the specified non-sharded queue.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.STOP_QUEUE(
   queue_name      IN   VARCHAR2,
   enqueue         IN   BOOLEAN DEFAULT TRUE,
   dequeue         IN   BOOLEAN DEFAULT TRUE,
   wait            IN   BOOLEAN DEFAULT TRUE);
</pre><p>By default, this call disables both enqueue and dequeue. A queue cannot be stopped if there are outstanding transactions against the queue. This operation takes effect when the call completes and does not have any transactional characteristics.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A93E742B-1803-4607-B041-CDA42993373A__GUID-FCA8F7DF-7ADA-479B-B92A-8CEE1573F576">
                        <p class="titleinexample">Example 8-34 Stopping a Queue</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.STOP_QUEUE(
      queue_name        =&gt; 'test.obj_queue');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2701"></a><a id="ADQUE2700"></a><div class="props_rev_3"><a id="GUID-5048ED3E-4C45-4B1E-AF63-95BFC01C498D" name="GUID-5048ED3E-4C45-4B1E-AF63-95BFC01C498D"></a><h4 id="ADQUE-GUID-5048ED3E-4C45-4B1E-AF63-95BFC01C498D" class="sect4"><span class="enumeration_section">8.2.5 </span>Dropping a Queue
                  </h4>
                  <div>
                     <p>This procedure drops an existing non-sharded queue. <code class="codeph">DROP_QUEUE</code> is not allowed unless <code class="codeph">STOP_QUEUE</code> has been called to disable the queue for both enqueuing and dequeuing. All the queue data is deleted as part of the drop operation.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_QUEUE(
   queue_name        IN    VARCHAR2,
</pre><p> </p>
                        <p>If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a queue is dropped, then a corresponding LDAP entry is also dropped.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5048ED3E-4C45-4B1E-AF63-95BFC01C498D__GUID-98632ED6-19C9-4093-8220-803801FE7BB8">
                        <p class="titleinexample">Example 8-35 Dropping a Standard Queue</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.DROP_QUEUE(
      queue_name         =&gt; 'test.obj_queue');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3" name="GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3"></a><h3 id="ADQUE-GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3" class="sect3"><span class="enumeration_section">8.3 </span>Managing Sharded Queues
               </h3>
               <div>
                  <p>These topics describe how to manage sharded queues.</p>
                  <div class="infoboxnote" id="GUID-803975AA-F341-4B85-B35B-B2996AB7ABB3__GUID-C1C31C46-A9D7-4915-824C-0E955B0B9FB3">
                     <p class="notep1">Note:</p>
                     <p>Starting and stopping a sharded queue use the same APIs as non-sharded queues.</p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-8EBB8131-F96D-489F-8670-26FECC1F7CAD">Creating a Sharded Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-536F8941-7433-4EA9-9D33-6E5572EABF67">Dropping a Sharded Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F">Altering a Sharded Queue</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C">Setting a Queue Parameter</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A">Unsetting a Queue Parameter</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA">Getting a Queue Parameter</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7">Creating an Exception Queue</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-8EBB8131-F96D-489F-8670-26FECC1F7CAD" name="GUID-8EBB8131-F96D-489F-8670-26FECC1F7CAD"></a><h4 id="ADQUE-GUID-8EBB8131-F96D-489F-8670-26FECC1F7CAD" class="sect4"><span class="enumeration_section">8.3.1 </span>Creating a Sharded Queue
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CREATE_SHARDED_QUEUE</code> API creates a sharded queue.
                        </p><pre class="oac_no_warn" dir="ltr">PROCEDURE CREATE_SHARDED_QUEUE (
	queue_name             IN VARCHAR2,
	storage_clause         IN VARCHAR2       DEFAULT NULL,
	multiple_consumers     IN BOOLEAN        DEFAULT FALSE,
	max_retries            IN NUMBER         DEFAULT NULL,
	comment                IN VARCHAR2       DEFAULT NULL, 
	queue_payload_type     IN VARCHAR2       DEFAULT JMS_TYPE,
	queue_properties       IN QUEUE_PROPS_T  DEFAULT NULL,
	replication_mode       IN BINARY_INTEGER DEFAULT NONE);
</pre><p>It has the following parameters:</p>
                        <div class="tblformal" id="GUID-8EBB8131-F96D-489F-8670-26FECC1F7CAD__GUID-EE89678C-C17D-49D3-9D9B-9FE681AD67F6">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes the parameters of CREATE_SHARDED_QUEUE." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d31062e2847">Parameter</th>
                                    <th align="left" valign="bottom" width="71%" id="d31062e2850">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2855" headers="d31062e2847 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2855 d31062e2850 ">
                                       <p>This required parameter specifies the name of the new queue. Maximum of 128 characters allowed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2864" headers="d31062e2847 ">
                                       <p><code class="codeph">storage_clause</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2864 d31062e2850 ">
                                       <p>The storage parameter is included in the <code class="codeph">CREATE TABLE</code> statement when the queue table is created. The <code class="codeph">storage_clause</code> argument can take any text that can be used in a standard <code class="codeph">CREATE TABLE storage_clause</code> argument. The storage parameter can be made up of any combinations of the following parameters: <code class="codeph">PCTFREE</code>, <code class="codeph">PCTUSED</code>, <code class="codeph">INITRANS</code>, <code class="codeph">MAXTRANS</code>, <code class="codeph">TABLESPACE</code>, <code class="codeph">LOB</code>, and a table storage clause.
                                       </p>
                                       <p>If a tablespace is not specified here, then the queue table and all its related objects are created in the default user tablespace. If a tablespace is specified here, then the queue table and all its related objects are created in the tablespace specified in the storage clause. See <a href="../sqlrf/storage_clause.html#SQLRF52300" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for the usage of these parameters.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2908" headers="d31062e2847 ">
                                       <p><code class="codeph">multiple_consumers</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2908 d31062e2850 ">
                                       <p><code class="codeph">FALSE</code> means queues can only have one consumer for each message. This is the default. <code class="codeph">TRUE</code> means queues created in the table can have multiple consumers for each message.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2922" headers="d31062e2847 ">
                                       <p><code class="codeph">max_retries</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2922 d31062e2850 ">
                                       <p>This optional parameter limits the number of times that a dequeue can reattempted on a message after a failure. The maximum value of <code class="codeph">max_retries</code> is <code class="codeph">2**31 -1</code>. After the retry limit has been exceeded, the message will be purged from the queue. <code class="codeph">RETRY_COUNT</code> is incremented when the application issues a rollback after executing the dequeue. If a dequeue transaction fails because the server process dies (including <code class="codeph">ALTER SYSTEM KILL SESSION</code>) or <code class="codeph">SHUTDOWN ABORT</code> on the instance, then <code class="codeph">RETRY_COUNT</code> is not incremented.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2950" headers="d31062e2847 ">
                                       <p><code class="codeph">comment</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2950 d31062e2850 ">
                                       <p>This optional parameter is a user-specified description of the queue table. This user comment is added to the queue catalog.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2959" headers="d31062e2847 ">
                                       <p><code class="codeph">queue_payload_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2959 d31062e2850 ">
                                       <p>Payload can be <code class="codeph">RAW</code>, <code class="codeph">DBMS_AQADM.JMS_TYPE</code>, or an object type. Default is <code class="codeph">DBMS_AQADM.JMS_TYPE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2976" headers="d31062e2847 ">
                                       <p><code class="codeph">queue_properties</code></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2976 d31062e2850 ">
                                       <p>Properties such as Normal or Exception Queue, Retry delay, retention time, sort list and cache hint.</p>
                                       <p>See also <a href="../arpls/advanced-queuing-AQ-types.html#ARPLS-GUID-E3F15E41-1365-42C3-8B47-CA3C1E805B77" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about <code class="codeph">queue_properties</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e2995" headers="d31062e2847 ">
                                       <p><code class="codeph">replication_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e2995 d31062e2850 ">
                                       <p>Reserved for future use. <code class="codeph">DBMS_AQADM.REPLICATION_MODE</code> if queue is being created in the Replication Mode or else <code class="codeph">DBMS_AQADM.NONE</code>. Default is <code class="codeph">DBMS_AQADM.NONE</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-536F8941-7433-4EA9-9D33-6E5572EABF67" name="GUID-536F8941-7433-4EA9-9D33-6E5572EABF67"></a><h4 id="ADQUE-GUID-536F8941-7433-4EA9-9D33-6E5572EABF67" class="sect4"><span class="enumeration_section">8.3.2 </span>Dropping a Sharded Queue
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure drops an existing sharded queue from the database queuing system. You must stop the queue before calling <code class="codeph">DROP_SHARDED_QUEUE</code>. User must stop the queue explicitly if force is set to <code class="codeph">FALSE</code> before calling <code class="codeph">DROP_SHARDED_QUEUE</code>. If force is set to <code class="codeph">TRUE</code> then queue will be stopped internally and then dropped.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536F8941-7433-4EA9-9D33-6E5572EABF67__GUID-7D24C0E0-E84D-45AC-AC83-E760778FCC6E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_SHARDED_QUEUE( 
       queue_name IN VARCHAR2, 
       force      IN BOOLEAN DEFAULT FALSE )
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-536F8941-7433-4EA9-9D33-6E5572EABF67__GUID-CF5559B1-1E24-4833-9A82-B737CED5AA8D">Parameters</p>
                        <div class="tblformal" id="GUID-536F8941-7433-4EA9-9D33-6E5572EABF67__GUID-83DFA886-91AD-4989-A50E-27023FFB6B67">
                           <p class="titleintable">Table 8-1 CREATE_SHARDED_QUEUE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_SHARDED_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_SHARDED_QUEUE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d31062e3087">Parameter</th>
                                    <th align="left" valign="bottom" width="71%" id="d31062e3090">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e3095" headers="d31062e3087 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e3095 d31062e3090 ">
                                       <p>This required parameter specifies the name of the sharded queue.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d31062e3104" headers="d31062e3087 ">
                                       <p><code class="codeph">force</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d31062e3104 d31062e3090 ">
                                       <p>The sharded queue is dropped even if the queue is not stopped.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F" name="GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F"></a><h4 id="ADQUE-GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F" class="sect4"><span class="enumeration_section">8.3.3 </span>Altering a Sharded Queue
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure provides user the ability to alter <code class="codeph"><span class="codeinlineitalic">queue_properties</span></code> of a sharded queue.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F__GUID-783E6ACD-65F2-4E14-8BF5-81C3399A30A8">Syntax</p><pre class="oac_no_warn" dir="ltr">PROCEDURE ALTER_SHARDED_QUEUE(
    queue_name             IN VARCHAR2,
    max_retries            IN NUMBER         DEFAULT NULL,
    comment                IN VARCHAR2       DEFAULT NULL,
    queue_properties       IN QUEUE_PROPS_T  DEFAULT NULL,
    replication_mode       IN BINARY_INTEGER DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F__GUID-9F7CA795-5D39-4CF9-9F1B-3A7D63D5EAAA">Parameters</p>
                        <div class="tblformal" id="GUID-AA6844E7-7338-488C-9C6A-A9318CFC5C0F__GUID-AB9FE6C6-82E5-4593-A2DA-CDA9EA5E2512">
                           <p class="titleintable">Table 8-2 ALTER_SHARDED_QUEUE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_SHARDED_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_SHARDED_QUEUE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d31062e3179">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d31062e3182">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3187" headers="d31062e3179 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3187 d31062e3182 ">
                                       <p>This parameter specifies the name of the sharded queue. A maximum of 128 characters are allowed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3196" headers="d31062e3179 ">
                                       <p><code class="codeph">max_retries</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3196 d31062e3182 ">
                                       <p>The maximum number of retries allowed. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3205" headers="d31062e3179 ">
                                       <p><code class="codeph">comment</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3205 d31062e3182 ">
                                       <p>The parameter comment.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3214" headers="d31062e3179 ">
                                       <p><code class="codeph">queue_properties</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3214 d31062e3182 ">
                                       <p>Properties such as Normal or Exception Queue, Retry delay, retention time, sort list and cache hint.</p>
                                       <p>See also <a href="../arpls/advanced-queuing-AQ-types.html#ARPLS-GUID-E3F15E41-1365-42C3-8B47-CA3C1E805B77" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about <code class="codeph">queue_properties</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3233" headers="d31062e3179 ">
                                       <p><code class="codeph">replication_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3233 d31062e3182 ">
                                       <p>Reserved for future use. <code class="codeph">DBMS_AQADM.REPLICATION_MODE</code> if queue is being altered to be in the Replication Mode or else <code class="codeph">DBMS_AQADM.NONE</code>. Default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C" name="GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C"></a><h4 id="ADQUE-GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C" class="sect4"><span class="enumeration_section">8.3.4 </span>Setting a Queue Parameter
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure allows user to set different parameters for sharded queues at queue or database level. For database level the <code class="codeph">queue_name</code> should be <code class="codeph">NULL</code>. Note that queue overrides database level parameter values.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C__GUID-783E6ACD-65F2-4E14-8BF5-81C3399A30A8">Syntax</p><pre class="oac_no_warn" dir="ltr">  PROCEDURE  SET_QUEUE_PARAMETER(
    queue_name          IN VARCHAR2,
    param_name          IN VARCHAR2,
    param_value         IN NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C__GUID-9F7CA795-5D39-4CF9-9F1B-3A7D63D5EAAA">Parameters</p>
                        <div class="tblformal" id="GUID-A08F7B28-93A1-428B-BEED-4AF488BB135C__GUID-B87236DB-6D63-4B93-B188-0F8DC2DA8DC8">
                           <p class="titleintable">Table 8-3 SET_QUEUE_PARAMETER Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_QUEUE_PARAMETER Procedure Parameters" summary="This table describes the parameters of SET_QUEUE_PARAMETER." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d31062e3318">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d31062e3321">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3326" headers="d31062e3318 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3326 d31062e3321 ">
                                       <p>The name of the sharded queue.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3335" headers="d31062e3318 ">
                                       <p><code class="codeph">param_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3335 d31062e3321 ">
                                       <p>The name of the parameter.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3344" headers="d31062e3318 ">
                                       <p><code class="codeph">param_value</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3344 d31062e3321 ">
                                       <p>The value of the parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A" name="GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A"></a><h4 id="ADQUE-GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A" class="sect4"><span class="enumeration_section">8.3.5 </span>Unsetting a Queue Parameter
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure allows user to unset different parameters for sharded queues at queue or database level. For database level the <code class="codeph">queue_name</code> should be <code class="codeph">NULL</code>. Note that queue overrides database level parameter values.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A__GUID-783E6ACD-65F2-4E14-8BF5-81C3399A30A8">Syntax</p><pre class="oac_no_warn" dir="ltr">  PROCEDURE  UNSET_QUEUE_PARAMETER(
    queue_name          IN VARCHAR2,
    param_name          IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A__GUID-9F7CA795-5D39-4CF9-9F1B-3A7D63D5EAAA">Parameters</p>
                        <div class="tblformal" id="GUID-71B6A7BD-8AD7-4E4E-9591-35666623575A__GUID-B87236DB-6D63-4B93-B188-0F8DC2DA8DC8">
                           <p class="titleintable">Table 8-4 UNSET_QUEUE_PARAMETER Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNSET_QUEUE_PARAMETER Procedure Parameters" summary="This table describes the parameters of UNSET_QUEUE_PARAMETER." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d31062e3422">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d31062e3425">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3430" headers="d31062e3422 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3430 d31062e3425 ">
                                       <p>The name of the sharded queue.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3439" headers="d31062e3422 ">
                                       <p><code class="codeph">param_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3439 d31062e3425 ">
                                       <p>The name of the parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA" name="GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA"></a><h4 id="ADQUE-GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA" class="sect4"><span class="enumeration_section">8.3.6 </span>Getting a Queue Parameter
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure allows user to get different parameters for sharded queues at queue or database level. For database level the <code class="codeph">queue_name</code> should be <code class="codeph">NULL</code>. Note that queue overrides database level parameter values.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA__GUID-783E6ACD-65F2-4E14-8BF5-81C3399A30A8">Syntax</p><pre class="oac_no_warn" dir="ltr">  PROCEDURE  GET_QUEUE_PARAMETER(
    queue_name          IN VARCHAR2,
    param_name          IN VARCHAR2,
    param_value         OUT NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA__GUID-9F7CA795-5D39-4CF9-9F1B-3A7D63D5EAAA">Parameters</p>
                        <div class="tblformal" id="GUID-A1B9BDEA-C66C-43CC-888A-22C151BB09EA__GUID-B87236DB-6D63-4B93-B188-0F8DC2DA8DC8">
                           <p class="titleintable">Table 8-5 GET_QUEUE_PARAMETER Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_QUEUE_PARAMETER Procedure Parameters" summary="This table describes the parameters of GET_QUEUE_PARAMETER." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d31062e3516">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d31062e3519">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3524" headers="d31062e3516 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3524 d31062e3519 ">
                                       <p>The name of the sharded queue.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3533" headers="d31062e3516 ">
                                       <p><code class="codeph">param_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3533 d31062e3519 ">
                                       <p>The name of the parameter.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d31062e3542" headers="d31062e3516 ">
                                       <p><code class="codeph">param_value</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d31062e3542 d31062e3519 ">
                                       <p>The value of the parameter.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7" name="GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7"></a><h4 id="ADQUE-GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7" class="sect4"><span class="enumeration_section">8.3.7 </span>Creating an Exception Queue
                  </h4>
                  <div>
                     <div class="section">
                        <p>This procedure allows a user to create an exception queue for a sharded queue. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7__GUID-783E6ACD-65F2-4E14-8BF5-81C3399A30A8">Syntax</p><pre class="oac_no_warn" dir="ltr">  PROCEDURE CREATE_EXCEPTION_QUEUE(
    sharded_queue_name     IN VARCHAR2,
    exception_queue_name   IN VARCHAR2 DEFAULT NULL
    );</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7__GUID-61739772-4651-4C14-80F1-3A88269EF062">Parameters</p>
                        <div class="tblformal" id="GUID-8D66CD32-BD67-4EF1-952B-13B44B019CE7__GUID-E52D3C25-E466-4EAD-8AC8-C4A857ADFD60">
                           <p class="titleintable">Table 8-6 CREATE_EXCEPTION_QUEUE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_EXCEPTION_QUEUE Procedure Parameters" summary="This table describes the parameters of CREATE_EXCEPTION_QUEUE." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="38%" id="d31062e3613">Parameter</th>
                                    <th align="left" valign="bottom" width="62%" id="d31062e3616">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d31062e3621" headers="d31062e3613 ">
                                       <p><code class="codeph">sharded_queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d31062e3621 d31062e3616 ">
                                       <p>The name of the sharded queue.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d31062e3630" headers="d31062e3613 ">
                                       <p><code class="codeph">exception_queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d31062e3630 d31062e3616 ">
                                       <p>The name of the exception queue.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2702"></a><div class="props_rev_3"><a id="GUID-AAFDFFD3-0256-473A-A685-225AD0D024DB" name="GUID-AAFDFFD3-0256-473A-A685-225AD0D024DB"></a><h3 id="ADQUE-GUID-AAFDFFD3-0256-473A-A685-225AD0D024DB" class="sect3"><span class="enumeration_section">8.4 </span>Managing Transformations
               </h3>
               <div>
                  <p>Transformations change the format of a message, so that a message created by one application can be understood by another application. You can use transformations on both persistent and buffered messages. These topics describe how to manage queue tables.</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-264A3C43-93B3-43B5-820F-C25F686E97BD" title="DBMS_TRANSFORM.CREATE_TRANSFORMATION creates a message format transformation.">Creating a Transformation</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-07B0CC0D-63D0-43CB-91C6-2A2AE5B77E09" title="DBMS_TRANSFORM.MODIFY_TRANSFORMATION changes the transformation function and specifies transformations for each attribute of the target type.">Modifying a Transformation</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-40507A08-12D1-4DAB-950A-624C40EBDD0D" title="DBMS_TRANSFORM.DROP_TRANSFORMATION drops a transformation.">Dropping a Transformation</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-AAFDFFD3-0256-473A-A685-225AD0D024DB__GUID-9BCCC8B2-BBAF-4CFC-9A1E-DD18D9319FED">
                     <p class="notep1">Note:</p>
                     <p>Sharded queues do not support transformations.</p>
                  </div>
               </div><a id="ADQUE2703"></a><a id="ADQUE0813"></a><div class="props_rev_3"><a id="GUID-264A3C43-93B3-43B5-820F-C25F686E97BD" name="GUID-264A3C43-93B3-43B5-820F-C25F686E97BD"></a><h4 id="ADQUE-GUID-264A3C43-93B3-43B5-820F-C25F686E97BD" class="sect4"><span class="enumeration_section">8.4.1 </span>Creating a Transformation
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_TRANSFORM.CREATE_TRANSFORMATION</code> creates a message format transformation. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.CREATE_TRANSFORMATION(
    schema               VARCHAR2(30),
    name                 VARCHAR2(30),
    from_schema          VARCHAR2(30),
    from_type            VARCHAR2(30),
    to_schema            VARCHAR2(30),
    to_type              VARCHAR2(30),
    transformation       VARCHAR2(4000)); 
</pre><p>The <a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">transformation</span></a> must be a SQL function with input type <code class="codeph">from_type</code>, returning an object of type <code class="codeph">to_type</code>. It can also be a SQL expression of type <code class="codeph">to_type</code>, referring to <code class="codeph">from_type</code>. All references to <code class="codeph">from_type</code> must be of the form <code class="codeph">source.user_data</code>.
                        </p>
                        <p>You must be granted <code class="codeph">EXECUTE</code> privilege on <code class="codeph">dbms_transform</code> to use this feature. This privilege is included in the <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>.
                        </p>
                        <p>You must also have <code class="codeph">EXECUTE</code> privilege on the user-defined types that are the source and destination types of the transformation, and have <code class="codeph">EXECUTE</code> privileges on any PL/SQL function being used in the transformation function. The transformation cannot write the database state (that is, perform <a href="glossary.html#GUID-86C2F323-8484-41FB-8E51-BF0462F041DF"><span class="xrefglossterm">DML</span></a> operations) or commit or rollback the current transaction.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-264A3C43-93B3-43B5-820F-C25F686E97BD__CHDCIADC">
                        <p class="titleinexample">Example 8-36 Creating a Transformation</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_TRANSFORM.CREATE_TRANSFORMATION(
      schema         =&gt; 'test',
      name           =&gt; 'message_order_transform', 
      from_schema    =&gt; 'test',
      from_type      =&gt; 'message_typ', 
      to_schema      =&gt; 'test',
      to_type        =&gt; 'order_typ',
      transformation =&gt; 'test.order_typ(
         source.user_data.sender_id,
         source.user_data.subject,
         source.user_data.text)');
END;
/</pre><div class="p">
                           <div class="infoboxnotealso" id="GUID-264A3C43-93B3-43B5-820F-C25F686E97BD__GUID-5BD24FD2-F870-4B3D-98C0-9D8F39EEE8E7">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-aq.html#GUID-3E0B5CD0-817A-49A3-8895-4651B224D765" title="Configuration information can be managed through procedures in the DBMS_AQADM package.">Oracle Database Advanced Queuing Security</a>"</span> for more information on administrator and user roles
                              </p>
                           </div>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE0814"></a><div class="props_rev_3"><a id="GUID-07B0CC0D-63D0-43CB-91C6-2A2AE5B77E09" name="GUID-07B0CC0D-63D0-43CB-91C6-2A2AE5B77E09"></a><h4 id="ADQUE-GUID-07B0CC0D-63D0-43CB-91C6-2A2AE5B77E09" class="sect4"><span class="enumeration_section">8.4.2 </span>Modifying a Transformation
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_TRANSFORM.MODIFY_TRANSFORMATION</code> changes the transformation function and specifies transformations for each attribute of the target type. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.MODIFY_TRANSFORMATION(
    schema            VARCHAR2(30),
    name              VARCHAR2(30),
    attribute_number  INTEGER,
    transformation    VARCHAR2(4000));
</pre><p>If the attribute number 0 is specified, then the transformation expression singularly defines the transformation from the source to target types. </p>
                        <p>All references to <code class="codeph">from_type</code> must be of the form <code class="codeph">source.user_data</code>. All references to the attributes of the source type must be prefixed by <code class="codeph">source.user_data</code>.
                        </p>
                        <p>You must be granted <code class="codeph">EXECUTE</code> privileges on <code class="codeph">dbms_transform</code> to use this feature. You must also have <code class="codeph">EXECUTE</code> privileges on the user-defined types that are the source and destination types of the transformation, and have <code class="codeph">EXECUTE</code> privileges on any PL/SQL function being used in the transformation function. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2704"></a><div class="props_rev_3"><a id="GUID-40507A08-12D1-4DAB-950A-624C40EBDD0D" name="GUID-40507A08-12D1-4DAB-950A-624C40EBDD0D"></a><h4 id="ADQUE-GUID-40507A08-12D1-4DAB-950A-624C40EBDD0D" class="sect4"><span class="enumeration_section">8.4.3 </span>Dropping a Transformation
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_TRANSFORM.DROP_TRANSFORMATION</code> drops a transformation.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_TRANSFORM.DROP_TRANSFORMATION (
    schema      VARCHAR2(30),
    name        VARCHAR2(30));</pre><p>You must be granted <code class="codeph">EXECUTE</code> privileges on <code class="codeph">dbms_transform</code> to use this feature. You must also have <code class="codeph">EXECUTE</code> privileges on the user-defined types that are the source and destination types of the transformation, and have <code class="codeph">EXECUTE</code> privileges on any PL/SQL function being used in the transformation function. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2705"></a><div class="props_rev_3"><a id="GUID-95E67297-FD08-415D-8085-6EB635EC9F8B" name="GUID-95E67297-FD08-415D-8085-6EB635EC9F8B"></a><h3 id="ADQUE-GUID-95E67297-FD08-415D-8085-6EB635EC9F8B" class="sect3"><span class="enumeration_section">8.5 </span>Granting and Revoking Privileges
               </h3>
               <div>
                  <p>These topics describe how to grant and revoke privileges.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-E86BD9DC-E029-4468-948D-122943D7BD9D" title="DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE grants Oracle Database Advanced Queuing system privileges to users and roles. The privileges are ENQUEUE_ANY, DEQUEUE_ANY, MANAGE_ANY. Initially, only SYS and SYSTEM can use this procedure successfully.">Granting Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E" title="DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE revokes Oracle Database Advanced Queuing system privileges from users and roles. The privileges are ENQUEUE_ANY, DEQUEUE_ANY and MANAGE_ANY.">Revoking Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-D5644E35-45D1-40CF-8717-468233869131" title="DBMS_AQADM.GRANT_QUEUE_PRIVILEGE grants privileges on a queue to users and roles. The privileges are ENQUEUE, DEQUEUE, or ALL. Initially, only the queue table owner can use this procedure to grant privileges on the queues.">Granting Queue Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126" title="DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE revokes privileges on a queue from users and roles. The privileges are ENQUEUE or DEQUEUE.">Revoking Queue Privileges</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2707"></a><a id="ADQUE2706"></a><div class="props_rev_3"><a id="GUID-E86BD9DC-E029-4468-948D-122943D7BD9D" name="GUID-E86BD9DC-E029-4468-948D-122943D7BD9D"></a><h4 id="ADQUE-GUID-E86BD9DC-E029-4468-948D-122943D7BD9D" class="sect4"><span class="enumeration_section">8.5.1 </span>Granting Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE</code> grants Oracle Database Advanced Queuing system privileges to users and roles. The privileges are <code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code>, <code class="codeph">MANAGE_ANY</code>. Initially, only <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> can use this procedure successfully. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE(
   privilege         IN    VARCHAR2,
   grantee           IN    VARCHAR2,
   admin_option      IN    BOOLEAN := FALSE);
</pre><p>Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                        <div class="infoboxnote" id="GUID-E86BD9DC-E029-4468-948D-122943D7BD9D__GUID-0D3F66E9-4397-4705-B499-873BE6A39F98">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c</span> Release 2, <code class="codeph">MANAGE_ANY</code>, <code class="codeph">ENQUEUE_ANY</code>, and <code class="codeph">DEQUEUE_ANY</code> privileges will not allow access to <code class="codeph">SYS</code> owned queues by users other than <code class="codeph">SYS</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E86BD9DC-E029-4468-948D-122943D7BD9D__GUID-60D11FB0-E450-4473-84E3-D719AA379EB4">
                        <p class="titleinexample">Example 8-37 Granting AQ System Privileges</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE(
      privilege          =&gt;    'ENQUEUE_ANY', 
      grantee            =&gt;    'test', 
      admin_option       =&gt;     FALSE);
   DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE(
      privilege          =&gt;     'DEQUEUE_ANY', 
      grantee            =&gt;     'test', 
      admin_option       =&gt;      FALSE);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2709"></a><a id="ADQUE2708"></a><div class="props_rev_3"><a id="GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E" name="GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E"></a><h4 id="ADQUE-GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E" class="sect4"><span class="enumeration_section">8.5.2 </span>Revoking Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE </code>revokes Oracle Database Advanced Queuing system privileges from users and roles. The privileges are <code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code> and <code class="codeph">MANAGE_ANY</code>.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE(
   privilege         IN   VARCHAR2,
   grantee           IN   VARCHAR2);
</pre><p> The <code class="codeph">ADMIN</code> option for a system privilege cannot be selectively revoked.
                        </p>
                        <p>Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                        <div class="infoboxnote" id="GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E__GUID-4C7DDF37-3C46-406E-B0D2-ACC7A63D2054">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c</span> Release 2, <code class="codeph">MANAGE_ANY</code>, <code class="codeph">ENQUEUE_ANY</code>, and <code class="codeph">DEQUEUE_ANY</code> privileges will not allow access to <code class="codeph">SYS</code> owned queues by users other than <code class="codeph">SYS</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-53356AD0-F59E-4914-9B7F-5E4D5BB4FB1E__GUID-BFB2EB2E-872E-4F62-A282-D4C95A3BA199">
                        <p class="titleinexample">Example 8-38 Revoking AQ System Privileges</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE(
      privilege          =&gt;    'DEQUEUE_ANY', 
      grantee            =&gt;    'test');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2711"></a><a id="ADQUE2710"></a><div class="props_rev_3"><a id="GUID-D5644E35-45D1-40CF-8717-468233869131" name="GUID-D5644E35-45D1-40CF-8717-468233869131"></a><h4 id="ADQUE-GUID-D5644E35-45D1-40CF-8717-468233869131" class="sect4"><span class="enumeration_section">8.5.3 </span>Granting Queue Privileges
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.GRANT_QUEUE_PRIVILEGE</code> grants privileges on a queue to users and roles. The privileges are <code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE</code>, or <code class="codeph">ALL</code>. Initially, only the queue table owner can use this procedure to grant privileges on the queues.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.GRANT_QUEUE_PRIVILEGE(
   privilege        IN    VARCHAR2,
   queue_name       IN    VARCHAR2,
   grantee          IN    VARCHAR2,
   grant_option     IN    BOOLEAN := FALSE);
</pre><div class="infoboxnote" id="GUID-D5644E35-45D1-40CF-8717-468233869131__GUID-EC418618-C910-4B26-A661-0D61363CA68D">
                           <p class="notep1">Note:</p>
                           <p>This procedure requires that <code class="codeph">EXECUTE</code> privileges on <code class="codeph">DBMS_AQADM</code> be granted to the queue table owner, who is probably an ordinary queue user. If you do not want ordinary queue users to be able to create and drop queues and queue tables, add and delete subscribers, and so forth, then you must revoke the <code class="codeph">EXECUTE</code> privilege as soon as the initial <code class="codeph">GRANT_QUEUE_PRIVILEGE</code> is done.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D5644E35-45D1-40CF-8717-468233869131__GUID-B88072F2-9D84-4CE4-A4BE-CB97A468C988">
                        <p class="titleinexample">Example 8-39 Granting Queue Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.GRANT_QUEUE_PRIVILEGE (
      privilege     =&gt;     'ALL', 
      queue_name    =&gt;     'test.multiconsumer_81_queue',
      grantee       =&gt;     'test_adm', 
      grant_option  =&gt;      TRUE);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2713"></a><a id="ADQUE2712"></a><div class="props_rev_3"><a id="GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126" name="GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126"></a><h4 id="ADQUE-GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126" class="sect4"><span class="enumeration_section">8.5.4 </span>Revoking Queue Privileges
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE</code> revokes privileges on a queue from users and roles. The privileges are <code class="codeph">ENQUEUE</code> or <code class="codeph">DEQUEUE</code>. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE (
   privilege         IN      VARCHAR2,
   queue_name        IN      VARCHAR2,
   grantee           IN      VARCHAR2);
</pre><p>To revoke a privilege, the revoker must be the original grantor of the privilege. The privileges propagated through the <code class="codeph">GRANT</code> option are revoked if the grantor's privileges are revoked.
                        </p>
                        <p>You can revoke the dequeue right of a grantee on a specific queue, leaving the grantee with only the enqueue right as in <a href="aq-administrative-interface.html#GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126__i1006646">Example 8-40</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D5FCC1FC-2FF2-4B0F-8CFC-6D47A8389126__i1006646">
                        <p class="titleinexample">Example 8-40 Revoking Dequeue Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE(
      privilege     =&gt;     'DEQUEUE', 
      queue_name    =&gt;     'test.multiconsumer_81_queue', 
      grantee       =&gt;     'test_adm');
END;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2714"></a><div class="props_rev_3"><a id="GUID-D9D78672-3AA0-4687-B0DA-67F2127FE3AA" name="GUID-D9D78672-3AA0-4687-B0DA-67F2127FE3AA"></a><h3 id="ADQUE-GUID-D9D78672-3AA0-4687-B0DA-67F2127FE3AA" class="sect3"><span class="enumeration_section">8.6 </span>Managing Subscribers
               </h3>
               <div>
                  <p>These topics describe how to manage subscribers.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8" title="DBMS_AQADM.ADD_SUBSCRIBER adds a default subscriber to a queue.">Adding a Subscriber</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-A2DE2897-4A1B-4AD1-9D16-B02B3A2C751A" title="DBMS_AQADM.ALTER_SUBSCRIBER alters existing properties of a subscriber to a specified queue.">Altering a Subscriber</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D" title="DBMS_AQADM.REMOVE_SUBSCRIBER removes a default subscriber from a queue.">Removing a Subscriber</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2715"></a><a id="ADQUE2716"></a><a id="ADQUE2717"></a><a id="ADQUE2718"></a><a id="ADQUE2719"></a><a id="ADQUE0807"></a><div class="props_rev_3"><a id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8" name="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8"></a><h4 id="ADQUE-GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8" class="sect4"><span class="enumeration_section">8.6.1 </span>Adding a Subscriber
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ADD_SUBSCRIBER</code> adds a default subscriber to a queue.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ADD_SUBSCRIBER (
   queue_name     IN    VARCHAR2,
   subscriber     IN    sys.aq$_agent,
   rule           IN    VARCHAR2 DEFAULT NULL,
   transformation IN    VARCHAR2 DEFAULT NULL,
   queue_to_queue IN    BOOLEAN DEFAULT FALSE,
   delivery_mode  IN    PLS_INTEGER DEFAULT PERSISTENT);
</pre><p>An application can enqueue messages to a specific list of recipients or to the default list of <a href="glossary.html#GUID-3E2C69B7-A56C-4F86-8997-5A708E1F14F3"><span class="xrefglossterm">subscriber</span></a>s. This operation succeeds only on queues that allow multiple consumers, and the total number of subscribers must be 1024 or less. This operation takes effect immediately and the containing transaction is committed. Enqueue requests that are executed after the completion of this call reflect the new action. Any string within the <code class="codeph">rule</code> must be quoted (with single quotation marks) as follows: 
                        </p><pre class="oac_no_warn" dir="ltr">rule   =&gt; 'PRIORITY &lt;= 3 AND CORRID =  ''FROM JAPAN'''
</pre><p>User data properties or attributes apply only to object payloads and must be prefixed with <code class="codeph">tab.userdata</code> in all cases.
                        </p>
                        <p>If <code class="codeph">GLOBAL_TOPIC_ENABLED</code> is set to true when a subscriber is created, then a corresponding LDAP entry is also created.
                        </p>
                        <p>Specify the name of the transformation to be applied during dequeue or propagation. The transformation must be created using the <code class="codeph">DBMS_TRANSFORM</code> package.
                        </p>
                        <p>For queues that contain payloads with XMLType attributes, you can specify rules that contain operators such as <code class="codeph">XMLType.existsNode()</code> and <code class="codeph">XMLType.extract()</code>.
                        </p>
                        <p>If parameter <code class="codeph">queue_to_queue</code> is set to <code class="codeph">TRUE</code>, then the added subscriber is a queue-to-queue subscriber. When queue-to-queue propagation is set up between a source queue and a destination queue, queue-to-queue subscribers receive messages through that propagation schedule.
                        </p>
                        <p>If the <code class="codeph">delivery_mode</code> parameter is the default <code class="codeph">PERSISTENT</code>, then the subscriber receives only persistent messages. If it is set to <code class="codeph">BUFFERED</code>, then the subscriber receives only buffered messages. If it is set to <code class="codeph">PERSISTENT_OR_BUFFERED</code>, then the subscriber receives both types. You cannot alter this parameter with <code class="codeph">ALTER_SUBSCRIBER</code>.
                        </p>
                        <p>The agent name should be <code class="codeph">NULL</code> if the destination queue is a single consumer queue. 
                        </p>
                        <div class="infoboxnote" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-0F08B8D5-C0D0-4720-A4A0-D2349FD10D93">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">ADD_SUBSCRIBER</code> is an administrative operation on a queue. Although Oracle Database AQ does not prevent applications from issuing administrative and operational calls concurrently, they are executed serially. <code class="codeph">ADD_SUBSCRIBER</code> blocks until pending calls that are enqueuing or dequeuing messages complete. It will not wait for the pending transactions to complete.
                           </p>
                        </div>
                        <div class="p">
                           <div class="infoboxnotealso" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-FC0EF6C4-D60D-482F-AECB-51772A51AD6B">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../arpls/DBMS_TRANSFORM.html#ARPLS061" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">DBMS_TRANSFORM</code> package
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="aq-administrative-interface.html#GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2" title="DBMS_AQADM.SCHEDULE_PROPAGATION schedules propagation of messages.">Scheduling a Queue Propagation</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-5EA1FACA-F72F-4AB2-9D35-DA3554C7E807">
                        <p class="titleinexample">Example 8-41 Adding a Subscriber at a Designated Queue at a Database Link</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber          sys.aq$_agent; 
BEGIN 
   subscriber := sys.aq$_agent('subscriber1', 'test2.msg_queue2@london', null); 
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name         =&gt; 'test.multiconsumer_81_queue', 
      subscriber         =&gt;  subscriber); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-00D8A02B-8E2D-4A64-97A3-62D5061D6260">
                        <p class="titleinexample">Example 8-42 Adding a Single Consumer Queue at a Dababase Link as a Subscriber </p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber          sys.aq$_agent; 
BEGIN 
   subscriber := sys.aq$_agent('subscriber1', 'test2.msg_queue2@london', null); 
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name         =&gt; 'test.multiconsumer_81_queue', 
      subscriber         =&gt;  subscriber); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-625DE9F1-1181-48AC-BC86-9CE966D5A2E1">
                        <p class="titleinexample">Example 8-43 Adding a Subscriber with a Rule</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber       sys.aq$_agent; 
BEGIN 
   subscriber := sys.aq$_agent('subscriber2', 'test2.msg_queue2@london', null); 
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name =&gt;  'test.multiconsumer_81_queue', 
      subscriber =&gt;   subscriber, 
      rule       =&gt;  'priority &lt; 2'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-DAB5AA34-AE1B-4C8C-9C4B-CB5FCBEBFD81">
                        <p class="titleinexample">Example 8-44 Adding a Subscriber and Specifying a Transformation</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber       sys.aq$_agent; 
BEGIN 
   subscriber := sys.aq$_agent('subscriber3', 'test2.msg_queue2@london', null); 
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name     =&gt; 'test.multiconsumer_81_queue', 
      subscriber     =&gt;  subscriber, 
      transformation =&gt; 'test.message_order_transform');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-5FB46C6A-BB22-4CDE-B7D6-E242DC8808D8__GUID-3CA6908F-5BED-4C10-B868-ECCB99002202">
                        <p class="titleinexample">Example 8-45 Propagating from a Multiple-Consumer Queue to a Single Consumer Queue</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber          SYS.AQ$_AGENT; 
BEGIN 
  subscriber := SYS.AQ$_AGENT(NULL, 'test2.single_consumer__queue@london', 
null); 
  DBMS_AQADM.ADD_SUBSCRIBER( 
      queue_name         =&gt; 'test.multiconsumer_81_queue', 
      subscriber         =&gt;  subscriber); 
END; </pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2720"></a><a id="ADQUE0808"></a><div class="props_rev_3"><a id="GUID-A2DE2897-4A1B-4AD1-9D16-B02B3A2C751A" name="GUID-A2DE2897-4A1B-4AD1-9D16-B02B3A2C751A"></a><h4 id="ADQUE-GUID-A2DE2897-4A1B-4AD1-9D16-B02B3A2C751A" class="sect4"><span class="enumeration_section">8.6.2 </span>Altering a Subscriber
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ALTER_SUBSCRIBER</code> alters existing properties of a subscriber to a specified queue.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_SUBSCRIBER (
   queue_name     IN    VARCHAR2,
   subscriber     IN    sys.aq$_agent,
   rule           IN    VARCHAR2
   transformation IN    VARCHAR2);
</pre><p>The rule, the transformation, or both can be altered. If you alter only one of these attributes, then specify the existing value of the other attribute to the alter call. If GLOBAL_TOPIC_ENABLED = TRUE when a subscriber is modified, then a corresponding LDAP entry is created.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A2DE2897-4A1B-4AD1-9D16-B02B3A2C751A__GUID-15163AA7-D706-49A3-A766-26CDD443A8D7">
                        <p class="titleinexample">Example 8-46 Altering a Subscriber Rule</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   subscriber       sys.aq$_agent; 
BEGIN 
   subscriber := sys.aq$_agent('subscriber2', 'test2.msg_queue2@london', null); 
   DBMS_AQADM.ALTER_SUBSCRIBER(
      queue_name =&gt; 'test.multiconsumer_81_queue', 
      subscriber =&gt;  subscriber, 
      rule       =&gt; 'priority = 1'); 
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2722"></a><a id="ADQUE2721"></a><div class="props_rev_3"><a id="GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D" name="GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D"></a><h4 id="ADQUE-GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D" class="sect4"><span class="enumeration_section">8.6.3 </span>Removing a Subscriber
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.REMOVE_SUBSCRIBER</code> removes a default subscriber from a queue. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.REMOVE_SUBSCRIBER (
   queue_name         IN         VARCHAR2,
   subscriber         IN         sys.aq$_agent);
</pre><p>This operation takes effect immediately and the containing transaction is committed. All references to the subscriber in existing messages are removed as part of the operation. If <code class="codeph">GLOBAL_TOPIC_ENABLED = TRUE</code> when a subscriber is dropped, then a corresponding LDAP entry is also dropped.
                        </p>
                        <p>It is not an error to run the <code class="codeph">REMOVE_SUBSCRIBER</code> procedure even when there are pending messages that are available for dequeue by the consumer. These messages are automatically made unavailable for dequeue when the <code class="codeph">REMOVE_SUBSCRIBER</code> procedure finishes.
                        </p>
                        <div class="infoboxnote" id="GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D__GUID-DF81CC7E-424B-44FB-AC9F-B9F9135C2DEE">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">REMOVE_SUBSCRIBER</code> is an administrative operation on a queue. Although Oracle Database AQ does not prevent applications from issuing administrative and operational calls concurrently, they are executed serially. <code class="codeph">REMOVE_SUBSCRIBER</code> blocks until pending calls that are enqueuing or dequeuing messages complete. It will not wait for the pending transactions to complete. 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8E0C3818-52DE-4F17-8E88-8FDAC1FCB46D__GUID-5C334D44-95FF-479B-8575-7EC4BF3BD9F0">
                        <p class="titleinexample">Example 8-47 Removing a Subscriber</p><pre class="oac_no_warn" dir="ltr">DECLARE
   subscriber       sys.aq$_agent;
BEGIN
   subscriber := sys.aq$_agent ('subscriber2', 'test2.msg_queue2@london', null);
   DBMS_AQADM.REMOVE_SUBSCRIBER(
      queue_name =&gt; 'test.multiconsumer_81_queue',
      subscriber =&gt; subscriber);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2723"></a><div class="props_rev_3"><a id="GUID-1BAEBA4C-441A-43FE-B822-14E9A6E33A0E" name="GUID-1BAEBA4C-441A-43FE-B822-14E9A6E33A0E"></a><h3 id="ADQUE-GUID-1BAEBA4C-441A-43FE-B822-14E9A6E33A0E" class="sect3"><span class="enumeration_section">8.7 </span>Managing Propagations
               </h3>
               <div>
                  <p>The propagation schedules defined for a queue can be changed or dropped at any time during the life of the queue. </p>
                  <p>You can also temporarily disable a schedule instead of dropping it. All administrative calls can be made irrespective of whether the schedule is active or not. If a schedule is active, then it takes a few seconds for the calls to be processed. </p>
                  <p>These topics describe how to manage propagations.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2" title="DBMS_AQADM.SCHEDULE_PROPAGATION schedules propagation of messages.">Scheduling a Queue Propagation</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-BD52B336-FEE1-4B60-B122-B1B271425693" title="DBMS_AQADM.VERIFY_QUEUE_TYPES verifies that the source and destination queues have identical types. The result of the verification is stored in the dictionary table SYS.AQ$_MESSAGE_TYPES, overwriting all previous output of this command.">Verifying Propagation Queue Type</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-861E1547-279D-449B-9052-5342F8CBC322" title="DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE alters parameters for a propagation schedule. The destination_queue parameter for queue-to-queue propagation cannot be altered.">Altering a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870" title="DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE enables a previously disabled propagation schedule.">Enabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9" title="DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE disables a previously enabled propagation schedule.">Disabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30" title="DBMS_AQADM.UNSCHEDULE_PROPAGATION unschedules a previously scheduled propagation of messages from a queue to a destination. The destination is identified by a specific database link in the destination parameter or by name in the destination_queue parameter.">Unscheduling a Queue Propagation</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2725"></a><a id="ADQUE2726"></a><a id="ADQUE2727"></a><a id="ADQUE2724"></a><div class="props_rev_3"><a id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2" name="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2"></a><h4 id="ADQUE-GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2" class="sect4"><span class="enumeration_section">8.7.1 </span>Scheduling a Queue Propagation
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.SCHEDULE_PROPAGATION</code> schedules propagation of messages.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.SCHEDULE_PROPAGATION (
   queue_name         IN  VARCHAR2,
   destination        IN  VARCHAR2 DEFAULT NULL,
   start_time         IN  DATE     DEFAULT SYSDATE,
   duration           IN  NUMBER   DEFAULT NULL,
   next_time          IN  VARCHAR2 DEFAULT NULL,
   latency            IN  NUMBER   DEFAULT 60,
   destination_queue  IN  VARCHAR2 DEFAULT NULL);
</pre><p>The destination can be identified by a database link in the <code class="codeph">destination</code> parameter, a queue name in the <code class="codeph">destination_queue</code> parameter, or both. Specifying only a database link results in queue-to-dblink propagation. If you propagate messages to several queues in another database, then all propagations have the same frequency. 
                        </p>
                        <p>If a private database link in the schema of the queue table owner has the same name as a public database link, AQ always uses the private database link.</p>
                        <p>Specifying the destination queue name results in queue-to-queue propagation. If you propagate messages to several queues in another database, queue-to-queue propagation enables you to configure each schedule independently of the others. You can enable or disable individual propagations.</p>
                        <div class="infoboxnote" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-C4BE7EB6-7FB7-4269-B3ED-5B785EEFED6E">
                           <p class="notep1">Note:</p>
                           <p>If you want queue-to-queue propagation to a queue in another database, then you must specify parameters <code class="codeph">destination</code> and <code class="codeph">destination_queue</code>.
                           </p>
                        </div>
                        <p>Queue-to-queue propagation mode supports transparent failover when propagating to a destination Oracle Real Application Clusters (Oracle RAC) system. With queue-to-queue propagation, it is not required to repoint a database link if the owner instance of the queue fails on Oracle RAC.</p>
                        <p>Messages can also be propagated to other queues in the same database by specifying a <code class="codeph">NULL</code> destination. If a message has multiple recipients at the same destination in either the same or different queues, then the message is propagated to all of them at the same time.
                        </p>
                        <p>The source queue must be in a queue table meant for multiple consumers. If you specify a single-consumer queue, than error ORA-24039 results. Oracle Database Advanced Queuing does not support the use of synonyms to refer to queues or database links.</p>
                        <p>If you specify a propagation <code class="codeph">next_time</code> and <code class="codeph">duration</code>, propagation will run periodically for the specified duration.If you specify a latency of zero with no <code class="codeph">next_time</code> or <code class="codeph">duration</code>, the resulting propagation will run forever, propagating messages as they appear in the queue, and idling otherwise. If a non-zero latency is specified, with no <code class="codeph">next_time</code> or <code class="codeph">duration</code> (default), the propagation schedule will be event-based. It will be scheduled to run when there are messages in the queue to be propagated. When there are no more messages for a system-defined period of time, the job will stop running until there are new messages to be propagated.The time at which the job runs depends on other factors, such as the number of ready jobs and the number of job queue processes.
                        </p>
                        <p>Propagation uses a linear backoff scheme for retrying propagation from a schedule that encountered a failure. If a schedule continuously encounters failures, then the first retry happens after 30 seconds, the second after 60 seconds, the third after 120 seconds and so forth. If the retry time is beyond the expiration time of the current window, then the next retry is attempted at the start time of the next window. A maximum of 16 retry attempts are made after which the schedule is automatically disabled. </p>
                        <div class="infoboxnote" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-3BEFF902-3126-4FC1-A137-04AAFC550EBE">
                           <p class="notep1">Note:</p>
                           <p>Once a retry attempt slips to the next propagation window, it will always do so; the exponential backoff scheme no longer governs retry scheduling. If the date function specified in the <code class="codeph">next_time</code> parameter of <code class="codeph">DBMS_AQADM.SCHEDULE_PROPAGATION</code> results in a short interval between windows, then the number of unsuccessful retry attempts can quickly reach 16, disabling the schedule.
                           </p>
                        </div>
                        <p>If you specify a value for <code class="codeph">destination</code> that does not exist, then this procedure still runs without throwing an error. You can query runtime propagation errors in the <code class="codeph">LAST_ERROR_MSG</code> column of the <code class="codeph">USER_QUEUE_SCHEDULES</code> view.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-FBFAF3BF-18BC-481B-B74F-45A42967F909">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>"Managing Job Queues" in <a href="../admin/scheduling-jobs-with-oracle-scheduler.html#ADMIN034" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on job queues and <a href="glossary.html#GUID-2A213DEA-5532-4F72-8323-FC54E979CD31"><span class="xrefglossterm">Jnnn</span></a> background processes
                                 </p>
                              </li>
                              <li>
                                 <p><a href="aq-internet-access.html#GUID-8BCF7E15-F69B-4BDB-B8A7-CEEB4932211C" title="You can access Oracle Database Advanced Queuing (AQ) over the Internet by using SOAP with non-sharded queues. IDAP is the SOAP specification for Oracle Database Advanced Queuing operations."> Internet Access to Oracle Database Advanced Queuing</a></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="aq-messaging-gateway-views.html#GUID-D1D82BFE-D9EF-4AFC-88AB-1E4F5F0DDD32" title="The USER_QUEUE_SCHEDULES view is the same as DBA_QUEUE_SCHEDULES with the exception that it only shows queue schedules in the user's schema.">USER_QUEUE_SCHEDULES: Propagation Schedules in User Schema</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-53186E96-D4CA-4273-BB98-54B64BFDD18B">
                        <p class="titleinexample">Example 8-48 Scheduling a Propagation to Queues in the Same Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.SCHEDULE_PROPAGATION(
      queue_name    =&gt;    'test.multiconsumer_queue');
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-B89AAC42-5C7C-40B2-8122-5CF5653EACFA">
                        <p class="titleinexample">Example 8-49 Scheduling a Propagation to Queues in Another Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.SCHEDULE_PROPAGATION(
      queue_name    =&gt;    'test.multiconsumer_queue', 
      destination   =&gt;    'another_db.world');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3B8E1DFE-0A6A-4CF2-8069-8DAECB5359A2__GUID-7E18AF13-92D4-43D8-B738-749A8F9BB7E1">
                        <p class="titleinexample">Example 8-50 Scheduling Queue-to-Queue Propagation</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.SCHEDULE_PROPAGATION(
      queue_name         =&gt;    'test.multiconsumer_queue', 
      destination        =&gt;    'another_db.world'
      destination_queue  =&gt;    'target_queue');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2729"></a><a id="ADQUE2728"></a><div class="props_rev_3"><a id="GUID-BD52B336-FEE1-4B60-B122-B1B271425693" name="GUID-BD52B336-FEE1-4B60-B122-B1B271425693"></a><h4 id="ADQUE-GUID-BD52B336-FEE1-4B60-B122-B1B271425693" class="sect4"><span class="enumeration_section">8.7.2 </span>Verifying Propagation Queue Type
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.VERIFY_QUEUE_TYPES</code> verifies that the source and destination queues have identical types. The result of the verification is stored in the dictionary table <code class="codeph">SYS.AQ$_MESSAGE_TYPES</code>, overwriting all previous output of this command.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.VERIFY_QUEUE_TYPES(
   src_queue_name    IN    VARCHAR2,
   dest_queue_name   IN    VARCHAR2,
   destination       IN    VARCHAR2 DEFAULT NULL,
   rc                OUT   BINARY_INTEGER);
</pre><p>If the source and destination queues do not have identical types and a transformation was specified, then the transformation must map the source queue type to the destination queue type.</p>
                        <div class="infoboxnote" id="GUID-BD52B336-FEE1-4B60-B122-B1B271425693__GUID-EB6D0810-15F1-46C8-AC59-C3822032AF40">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">SYS.AQ$_MESSAGE_TYPES</code> can have multiple entries for the same source queue, destination queue, and database link, but with different transformations.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">VERIFY_QUEUE_TYPES</code> check happens once per AQ propagation schedule and <span class="italic">not</span> for every propagated message send
                                 </p>
                              </li>
                              <li>
                                 <p>In case the payload of the queue is modified then the existing propagation schedule between source and destination queue needs to be  dropped and recreated.</p>
                              </li>
                           </ul>
                        </div>
                        <p><a href="aq-administrative-interface.html#GUID-BD52B336-FEE1-4B60-B122-B1B271425693__I1007110">Example 8-51</a> involves two queues of the same type. It returns:
                        </p><pre class="oac_no_warn" dir="ltr">VQT: new style queue
Compatible: 1
</pre><p>If the same example is run with <code class="codeph">test.raw_queue</code> (a queue of type RAW) in place of <code class="codeph">test.another_queue</code>, then it returns:
                        </p><pre class="oac_no_warn" dir="ltr">VQT: new style queue
Compatible: 0
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BD52B336-FEE1-4B60-B122-B1B271425693__I1007110">
                        <p class="titleinexample">Example 8-51 Verifying a Queue Type</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE 
rc      BINARY_INTEGER; 
BEGIN 
   DBMS_AQADM.VERIFY_QUEUE_TYPES(
      src_queue_name  =&gt; 'test.multiconsumer_queue', 
      dest_queue_name =&gt; 'test.another_queue',
      rc              =&gt;  rc); 
   DBMS_OUTPUT.PUT_LINE('Compatible: '||rc);
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2730"></a><a id="ADQUE2731"></a><a id="ADQUE0811"></a><div class="props_rev_3"><a id="GUID-861E1547-279D-449B-9052-5342F8CBC322" name="GUID-861E1547-279D-449B-9052-5342F8CBC322"></a><h4 id="ADQUE-GUID-861E1547-279D-449B-9052-5342F8CBC322" class="sect4"><span class="enumeration_section">8.7.3 </span>Altering a Propagation Schedule
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE</code> alters parameters for a propagation schedule. The <code class="codeph">destination_queue</code> parameter for queue-to-queue propagation cannot be altered.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE( 
   queue_name         IN  VARCHAR2, 
   destination        IN  VARCHAR2 DEFAULT NULL,
   duration           IN  NUMBER   DEFAULT NULL, 
   next_time          IN  VARCHAR2 DEFAULT NULL, 
   latency            IN  NUMBER   DEFAULT 60,
   destination_queue  IN  VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-861E1547-279D-449B-9052-5342F8CBC322__GUID-10C7CA86-1488-4C07-B794-4298EA8F1240">
                        <p class="titleinexample">Example 8-52 Altering a Propagation Schedule to Queues in the Same Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE(
      queue_name    =&gt;    'test.multiconsumer_queue', 
      duration      =&gt;    '2000', 
      next_time     =&gt;    'SYSDATE + 3600/86400',
      latency       =&gt;    '32'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-861E1547-279D-449B-9052-5342F8CBC322__GUID-451FCDCA-3DB6-47E7-8861-9D7DA7C3AF40">
                        <p class="titleinexample">Example 8-53 Altering a Propagation Schedule to Queues in Another Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE(
      queue_name    =&gt;    'test.multiconsumer_queue', 
      destination   =&gt;    'another_db.world', 
      duration      =&gt;    '2000', 
      next_time     =&gt;    'SYSDATE + 3600/86400',
      latency       =&gt;    '32');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2732"></a><a id="ADQUE2733"></a><a id="ADQUE0809"></a><div class="props_rev_3"><a id="GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870" name="GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870"></a><h4 id="ADQUE-GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870" class="sect4"><span class="enumeration_section">8.7.4 </span>Enabling a Propagation Schedule
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE</code> enables a previously disabled propagation schedule.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE( 
   queue_name        IN   VARCHAR2, 
   destination       IN   VARCHAR2 DEFAULT NULL,
   destination_queue IN   VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870__GUID-8CC29937-281C-4283-A244-13AB1005B23F">
                        <p class="titleinexample">Example 8-54 Enabling a Propagation to Queues in the Same Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE(
      queue_name   =&gt;   'test.multiconsumer_queue');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D7E6F0A7-4625-4BA4-A5E6-4DA24D9A7870__GUID-8B39D4B5-CEDA-497F-ABD1-28B7D8034432">
                        <p class="titleinexample">Example 8-55 Enabling a Propagation to Queues in Another Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE(
      queue_name    =&gt;    'test.multiconsumer_queue', 
      destination   =&gt;    'another_db.world');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2734"></a><a id="ADQUE2735"></a><a id="ADQUE0810"></a><div class="props_rev_3"><a id="GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9" name="GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9"></a><h4 id="ADQUE-GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9" class="sect4"><span class="enumeration_section">8.7.5 </span>Disabling a Propagation Schedule
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE</code> disables a previously enabled propagation schedule.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE( 
   queue_name        IN   VARCHAR2, 
   destination       IN   VARCHAR2 DEFAULT NULL,
   destination_queue IN   VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9__GUID-055A99E6-55C3-4010-9FFF-746E73894109">
                        <p class="titleinexample">Example 8-56 Disabling a Propagation to Queues in the Same Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE(
      queue_name   =&gt;   'test.multiconsumer_queue');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F6F4572B-0DC6-4A3B-9CC4-A77DEBBE05E9__GUID-13ADAB88-F7D1-4924-B394-CE045E828EF4">
                        <p class="titleinexample">Example 8-57 Disabling a Propagation to Queues in Another Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE(
      queue_name    =&gt;    'test.multiconsumer_queue', 
      destination   =&gt;    'another_db.world');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2737"></a><a id="ADQUE2738"></a><a id="ADQUE2736"></a><div class="props_rev_3"><a id="GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30" name="GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30"></a><h4 id="ADQUE-GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30" class="sect4"><span class="enumeration_section">8.7.6 </span>Unscheduling a Queue Propagation
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.UNSCHEDULE_PROPAGATION</code> unschedules a previously scheduled propagation of messages from a queue to a destination. The destination is identified by a specific database link in the <code class="codeph">destination</code> parameter or by name in the <code class="codeph">destination_queue</code> parameter. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.UNSCHEDULE_PROPAGATION (
   queue_name        IN  VARCHAR2,
   destination       IN  VARCHAR2 DEFAULT NULL,
   destination_queue IN  VARCHAR2 DEFAULT NULL);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30__GUID-47647139-BCBA-4DB4-97B2-C5A3057EE862">
                        <p class="titleinexample">Example 8-58 Unscheduling a Propagation to Queues in the Same Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.UNSCHEDULE_PROPAGATION(
      queue_name =&gt; 'test.multiconsumer_queue'); 
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E28F5A7D-81CF-4DBC-B83F-8C19E8CB5D30__GUID-7DEBFF44-9060-45AC-8204-48EA810FFDE4">
                        <p class="titleinexample">Example 8-59 Unscheduling a Propagation to Queues in Another Database</p><pre class="oac_no_warn" dir="ltr">BEGIN
   DBMS_AQADM.UNSCHEDULE_PROPAGATION(
      queue_name    =&gt;   'test.multiconsumer_queue', 
      destination   =&gt;   'another_db.world');
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2739"></a><div class="props_rev_3"><a id="GUID-FF34D153-553C-48F0-9ACC-8266DBC64F15" name="GUID-FF34D153-553C-48F0-9ACC-8266DBC64F15"></a><h3 id="ADQUE-GUID-FF34D153-553C-48F0-9ACC-8266DBC64F15" class="sect3"><span class="enumeration_section">8.8 </span>Managing Oracle Database Advanced Queuing Agents
               </h3>
               <div>
                  <p>These topics describe how to manage Oracle Database Advanced Queuing Agents.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-ECF60C92-C8D6-4027-BE63-63C3D92872BD" title="DBMS_AQADM.CREATE_AQ_AGENT registers an agent for Oracle Database Advanced Queuing Internet access using HTTP protocols.">Creating an Oracle Database Advanced Queuing Agent</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-B5472D35-C5E5-4C20-9EC3-AC7F4A7A9CA7" title="DBMS_AQADM.ALTER_AQ_AGENT alters an agent registered for Oracle Database Advanced Queuing Internet access.">Altering an Oracle Database Advanced Queuing Agent</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-7ED7ABFE-EE1E-47FE-AF70-60AA4443F6C7" title="DBMS_AQADM.DROP_AQ_AGENT drops an agent that was previously registered for Oracle Database Advanced Queuing Internet access.">Dropping an Oracle Database Advanced Queuing Agent</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-8CD0B0E9-37F8-4B70-95BD-75DE22F92586" title="DBMS_AQADM.ENABLE_DB_ACCESS grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user. The agent should have been previously created using the CREATE_AQ_AGENT procedure.">Enabling Database Access</a></p>
                     </li>
                     <li>
                        <p><a href="aq-administrative-interface.html#GUID-79C5A423-7F4F-4E93-9AA9-0E2EB97B2AC8" title="DBMS_AQADM.DISABLE_DB_ACCESS revokes the privileges of a specific database user from an Oracle Database Advanced Queuing Internet agent. The agent should have been previously granted those privileges using the ENABLE_DB_ACCESS procedure.">Disabling Database Access</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2740"></a><div class="props_rev_3"><a id="GUID-ECF60C92-C8D6-4027-BE63-63C3D92872BD" name="GUID-ECF60C92-C8D6-4027-BE63-63C3D92872BD"></a><h4 id="ADQUE-GUID-ECF60C92-C8D6-4027-BE63-63C3D92872BD" class="sect4"><span class="enumeration_section">8.8.1 </span>Creating an Oracle Database Advanced Queuing Agent
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.CREATE_AQ_AGENT</code> registers an agent for Oracle Database Advanced Queuing Internet access using HTTP protocols.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.CREATE_AQ_AGENT (
  agent_name                IN VARCHAR2,
  certificate_location      IN VARCHAR2 DEFAULT NULL,
  enable_http               IN BOOLEAN DEFAULT FALSE,
  enable_anyp               IN BOOLEAN DEFAULT FALSE);
</pre><p>The <code class="codeph">SYS.AQ$INTERNET_USERS</code> view has a list of all Oracle Database Advanced Queuing Internet agents. When an agent is created, altered, or dropped, an LDAP entry is created for the agent if the following are true: 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">GLOBAL_TOPIC_ENABLED</code> = <code class="codeph">TRUE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">certificate_location</code> is specified
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2741"></a><div class="props_rev_3"><a id="GUID-B5472D35-C5E5-4C20-9EC3-AC7F4A7A9CA7" name="GUID-B5472D35-C5E5-4C20-9EC3-AC7F4A7A9CA7"></a><h4 id="ADQUE-GUID-B5472D35-C5E5-4C20-9EC3-AC7F4A7A9CA7" class="sect4"><span class="enumeration_section">8.8.2 </span>Altering an Oracle Database Advanced Queuing Agent
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ALTER_AQ_AGENT</code> alters an agent registered for Oracle Database Advanced Queuing Internet access. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ALTER_AQ_AGENT (
  agent_name                IN VARCHAR2,
  certificate_location      IN VARCHAR2 DEFAULT NULL,
  enable_http               IN BOOLEAN DEFAULT FALSE,
  enable_anyp               IN BOOLEAN DEFAULT FALSE);
</pre><p>When an Oracle Database Advanced Queuing agent is created, altered, or dropped, an LDAP entry is created for the agent if the following are true: </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">GLOBAL_TOPIC_ENABLED</code> = <code class="codeph">TRUE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">certificate_location</code> is specified
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2742"></a><div class="props_rev_3"><a id="GUID-7ED7ABFE-EE1E-47FE-AF70-60AA4443F6C7" name="GUID-7ED7ABFE-EE1E-47FE-AF70-60AA4443F6C7"></a><h4 id="ADQUE-GUID-7ED7ABFE-EE1E-47FE-AF70-60AA4443F6C7" class="sect4"><span class="enumeration_section">8.8.3 </span>Dropping an Oracle Database Advanced Queuing Agent
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.DROP_AQ_AGENT</code> drops an agent that was previously registered for Oracle Database Advanced Queuing Internet access. 
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DROP_AQ_AGENT (
  agent_name     IN VARCHAR2);
</pre><p>When an Oracle Database Advanced Queuing agent is created, altered, or dropped, an LDAP entry is created for the agent if the following are true: </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">GLOBAL_TOPIC_ENABLED</code> = <code class="codeph">TRUE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">certificate_location</code> is specified
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2743"></a><div class="props_rev_3"><a id="GUID-8CD0B0E9-37F8-4B70-95BD-75DE22F92586" name="GUID-8CD0B0E9-37F8-4B70-95BD-75DE22F92586"></a><h4 id="ADQUE-GUID-8CD0B0E9-37F8-4B70-95BD-75DE22F92586" class="sect4"><span class="enumeration_section">8.8.4 </span>Enabling Database Access
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.ENABLE_DB_ACCESS</code> grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user. The agent should have been previously created using the <code class="codeph">CREATE_AQ_AGENT</code> procedure.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ENABLE_DB_ACCESS (
  agent_name                IN VARCHAR2,
  db_username               IN VARCHAR2)
</pre><p>The <code class="codeph">SYS.AQ$INTERNET_USERS</code> view has a list of all Oracle Database Advanced Queuing Internet agents and the names of the database users whose privileges are granted to them.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE2744"></a><div class="props_rev_3"><a id="GUID-79C5A423-7F4F-4E93-9AA9-0E2EB97B2AC8" name="GUID-79C5A423-7F4F-4E93-9AA9-0E2EB97B2AC8"></a><h4 id="ADQUE-GUID-79C5A423-7F4F-4E93-9AA9-0E2EB97B2AC8" class="sect4"><span class="enumeration_section">8.8.5 </span>Disabling Database Access
                  </h4>
                  <div>
                     <p><code class="codeph">DBMS_AQADM.DISABLE_DB_ACCESS</code> revokes the privileges of a specific database user from an Oracle Database Advanced Queuing Internet agent. The agent should have been previously granted those privileges using the <code class="codeph">ENABLE_DB_ACCESS</code> procedure.
                     </p>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DISABLE_DB_ACCESS (
  agent_name                IN VARCHAR2,
  db_username               IN VARCHAR2)
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2745"></a><div class="props_rev_3"><a id="GUID-05DCD3B5-48BF-42B4-9D88-A54D9127F61F" name="GUID-05DCD3B5-48BF-42B4-9D88-A54D9127F61F"></a><h3 id="ADQUE-GUID-05DCD3B5-48BF-42B4-9D88-A54D9127F61F" class="sect3"><span class="enumeration_section">8.9 </span>Adding an Alias to the LDAP Server
               </h3>
               <div>
                  <p><code class="codeph">DBMS_AQADM.ADD_ALIAS_TO_LDAP</code> adds an alias to the LDAP server.
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.ADD_ALIAS_TO_LDAP(
   alias          IN VARCHAR2,
   obj_location   IN VARCHAR2);
</pre><p>This call takes the name of an alias and the distinguished name of an Oracle Database Advanced Queuing object in LDAP, and creates the alias that points to the Oracle Database Advanced Queuing object. The alias is placed immediately under the distinguished name of the database server. The object to which the alias points can be a queue, an agent, or a <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE2746"></a><div class="props_rev_3"><a id="GUID-90AC4D22-62AC-44A5-A06E-057CA1266864" name="GUID-90AC4D22-62AC-44A5-A06E-057CA1266864"></a><h3 id="ADQUE-GUID-90AC4D22-62AC-44A5-A06E-057CA1266864" class="sect3"><span class="enumeration_section">8.10 </span>Deleting an Alias from the LDAP Server
               </h3>
               <div>
                  <p><code class="codeph">DBMS_AQADM.DEL_ALIAS_FROM_LDAP</code> removes an alias from the LDAP server.
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.DEL_ALIAS_FROM_LDAP(
   alias IN VARCHAR2);
</pre><p>This call takes the name of an alias as the argument, and removes the alias entry in the LDAP server. It is assumed that the alias is placed immediately under the database server in the LDAP directory.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>