<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_AUTO_INDEX package provides the interface for managing auto indexes in an Oracle database.">
      <meta name="description" content="The DBMS_AUTO_INDEX package provides the interface for managing auto indexes in an Oracle database.">
      <title>DBMS_AUTO_INDEX</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_AUTO_INDEX package provides the interface for managing auto indexes in an Oracle database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_AUTO_SQLTUNE.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_AUTO_REPORT.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_AUTO_SQLTUNE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_AUTO_REPORT.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_AUTO_INDEX</li>
            </ol>
            <a id="GUID-78C59A20-2F92-448F-96F7-6C4FBB355E42" name="GUID-78C59A20-2F92-448F-96F7-6C4FBB355E42"></a>
            
            <h2 id="ARPLS-GUID-78C59A20-2F92-448F-96F7-6C4FBB355E42" class="sect2"><span class="enumeration_chapter">29 </span>DBMS_AUTO_INDEX
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_AUTO_INDEX</code> package provides the interface for managing auto indexes in an Oracle database.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_AUTO_INDEX.html#GUID-D1713635-9577-40B7-8BC8-A6C9321883AE" title="The DBMS_AUTO_INDEX package is the interface for configuring auto indexes and generating reports of auto indexing operations in an Oracle database.">DBMS_AUTO_INDEX Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AUTO_INDEX.html#GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640" title="This table lists the DBMS_AUTO_INDEX package subprograms and briefly describes them.">Summary of DBMS_AUTO_INDEX Subprograms</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-D1713635-9577-40B7-8BC8-A6C9321883AE" name="GUID-D1713635-9577-40B7-8BC8-A6C9321883AE"></a><h3 id="ARPLS-GUID-D1713635-9577-40B7-8BC8-A6C9321883AE" class="sect3"><span class="enumeration_section">29.1 </span>DBMS_AUTO_INDEX Overview
               </h3>
               <p>The <code class="codeph">DBMS_AUTO_INDEX</code> package is the interface for configuring auto indexes and generating reports of auto indexing operations in an Oracle database.
               </p>
            </div>
            <div class="props_rev_3"><a id="GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640" name="GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640"></a><h3 id="ARPLS-GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640" class="sect3"><span class="enumeration_section">29.2 </span>Summary of DBMS_AUTO_INDEX Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_AUTO_INDEX</code> package subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-A0FF6233-E4A5-49BD-9A5E-9342B4CF6640__DBMS_AUTO_INDEXPACKAGESUBPROGRAMS-C29E99FF">
                     <p class="titleintable">Table 29-1  DBMS_AUTO_INDEX Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title=" DBMS_AUTO_INDEX Package Subprograms" summary="This table lists the DBMS_AUTO_INDEX package subprograms in the alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d153970e294">Procedure</th>
                              <th align="left" valign="bottom" width="59%" id="d153970e297">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d153970e302" headers="d153970e294 ">
                                 <p><a href="DBMS_AUTO_INDEX.html#GUID-93A19936-453A-4C62-8DFB-FB52AC70C838" title="This procedure configures settings related to automatic indexing.">CONFIGURE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d153970e302 d153970e297 ">
                                 <p>Configures settings related to automatic indexing.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d153970e313" headers="d153970e294 ">
                                 <p><a href="DBMS_AUTO_INDEX.html#GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9" title="This procedure deletes all the indexes, except the ones used for constraints, from a schema or a table.">DROP_SECONDARY_INDEXES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d153970e313 d153970e297 ">
                                 <p>Deletes all the indexes, except the ones used for constraints, from a schema or a table.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d153970e324" headers="d153970e294 ">
                                 <p><a href="DBMS_AUTO_INDEX.html#GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5" title="This function returns a report of the automatic indexing operations executed during a specific period in a database.">REPORT_ACTIVITY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d153970e324 d153970e297 ">
                                 <p>Returns a report of the automatic indexing operations executed during a specific period in a database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d153970e335" headers="d153970e294 ">
                                 <p><a href="DBMS_AUTO_INDEX.html#GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D" title="This function returns a report of the last automatic indexing operation executed in a database.">REPORT_LAST_ACTIVITY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d153970e335 d153970e297 ">
                                 <p>Returns a report of the last automatic indexing operation executed in a database.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838" name="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838"></a><h4 id="ARPLS-GUID-93A19936-453A-4C62-8DFB-FB52AC70C838" class="sect4"><span class="enumeration_section">29.2.1 </span>CONFIGURE Procedure
                  </h4>
                  <div>
                     <p>This procedure configures settings related to automatic indexing.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__SYNTAX-1EFA3383">Syntax</p><pre class="pre codeblock"><code>DBMS_AUTO_INDEX.CONFIGURE (
   parameter_name   IN VARCHAR2,
   parameter_value  IN VARCHAR2,
   allow            IN BOOLEAN&nbsp; DEFAULT TRUE);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__PARAMETERS-1EFA38D3">Parameters</p>
                        <div class="tblformal" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__GUID-CADA479D-EF68-48D7-81BC-7AF4935A2533">
                           <p class="titleintable">Table 29-2 CONFIGURE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CONFIGURE Procedure Parameters" summary="This table describes the parameters of the DBMS_AUTO_INDEX.CONFIGURE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d153970e453">Parameter</th>
                                    <th align="left" valign="bottom" id="d153970e456">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e461" headers="d153970e453 ">
                                       <p><code class="codeph">parameter_name</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e461 d153970e456 ">
                                       <p>Automatic indexing configuration setting. It can have one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_MODE</code>: Modes of operation of auto indexes. It can have one of the following values:
                                             </p>
                                             <ul style="list-style-type: disc;" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__UL_LJL_MZQ_YFB">
                                                <li>
                                                   <p><code class="codeph">IMPLEMENT</code>: In this mode, new auto indexes are created as <span class="italic">visible</span> indexes and any existing <span class="italic">invisible</span> auto indexes are also set to <span class="italic">visible</span> indexes. In this mode, auto indexes are available to be used in SQL statements.
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">REPORT ONLY</code>: In this mode, new auto indexes are created as <span class="italic">invisible</span> indexes and are not available to be used in SQL statements.
                                                   </p>
                                                </li>
                                                <li>
                                                   <p><code class="codeph">OFF</code>: In this mode, the automatic indexing feature is disabled, that is no new auto indexes are created and the existing auto indexes are disabled.
                                                   </p>
                                                </li>
                                             </ul>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_SCHEMA</code>: Schemas to include or exclude from using auto indexes. Its value is case-sensitive and can include wildcards. Its behavior is controlled by the <code class="codeph">allow</code> parameter.
                                             </p>
                                             <p>The automatic indexing process manages two schema lists &#x2013; the <span class="italic">inclusion list</span> and the <span class="italic">exclusion list</span>. The inclusion list contains the schemas that can use auto indexes. The exclusion list contains the schemas that cannot use auto indexes. Initially, both these lists are empty and all the schemas in the database can use auto indexes when automatic indexing is enabled for a database.
                                             </p>
                                             <p>If the inclusion list contains at least one schema, then only the schemas listed in the inclusion list can use auto indexes.</p>
                                             <p>If the inclusion list is empty and the exclusion list contains at least one schema, then all the schemas can use auto indexes, except the schemas listed in the exclusion list.</p>
                                             <p>If both the lists (the inclusion list and the exclusion list) contain at least one schema, then all the schemas can use auto indexes, except the schemas listed in the exclusion list.</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_RETENTION_FOR_AUTO</code>: Number of days for which the unused auto indexes are retained in the database, after which they are deleted. Default value is 373 days.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_RETENTION_FOR_MANUAL</code>: Number of days for which the unused manually created indexes (non-auto indexes) are retained in the database, after which they are deleted. When it is set to <code class="codeph">NULL</code>, the manually created indexes are not deleted by the automatic indexing process. Default value is <code class="codeph">NULL</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_REPORT_RETENTION</code>: Number of days for which automatic indexing logs are retained in the database before they are deleted. As automatic indexing report is generated based on these logs, automatic indexing report cannot be generated for a period beyond the value specified for <code class="codeph">AUTO_INDEX_REPORT_RETENTION</code>. Default value is 31 days.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_DEFAULT_TABLESPACE</code>: Tablespace to use to store auto indexes. Default is <code class="codeph">NULL</code>, which means the default permanent tablespace specified during the database creation is used to store auto indexes.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">AUTO_INDEX_SPACE_BUDGET</code>: Percentage of tablespace size to use for auto indexes. This configuration setting can be used only when the default tablespace specified during the database creation is used for storing auto indexes.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e562" headers="d153970e453 ">
                                       <p><code class="codeph">parameter_value</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e562 d153970e456 ">
                                       <p>Value for the configuration setting specified in <code class="codeph">parameter_name</code>.
                                       </p>
                                       <p>When it is set to <code class="codeph">NULL</code>, the configuration setting is assigned the default value.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e578" headers="d153970e453 ">
                                       <p><code class="codeph">allow</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e578 d153970e456 ">
                                       <p>This parameter is applicable only for the <code class="codeph">AUTO_INDEX_SCHEMA</code> configuration setting and it can have one of the following values:
                                       </p>
                                       <ul style="list-style-type: disc;" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__UL_V1N_FXT_CGB">
                                          <li>
                                             <p><code class="codeph">TRUE</code>: Add the specified schema to the inclusion list.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FALSE</code>: Add the specified schema to the exclusion list.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NULL</code>: Remove the specified schema from the list to which it is currently added.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Refer to the description of the <code class="codeph">AUTO_INDEX_SCHEMA</code> configuration setting for more information about the inclusion list and the exclusion list. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-93A19936-453A-4C62-8DFB-FB52AC70C838__GUID-0DC78826-9979-4C15-ACAB-BAE034BB7C82">Examples</p>
                        <p>These examples are based on the assumption that the inclusion list and the exclusion list are initially empty.</p>
                        <p>The following example adds the <code class="codeph">SH</code> and <code class="codeph">HR</code> schemas to the exclusion list, so that only the <code class="codeph">SH</code> and <code class="codeph">HR</code> schemas cannot use auto indexes.
                        </p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_SCHEMA', 
         parameter_value =&gt; 'SH',
         allow           =&gt; FALSE);

    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_SCHEMA', 
         parameter_value =&gt; 'HR',
         allow           =&gt; FALSE);
end;</pre><p>The following example removes the <code class="codeph">HR</code> schema from the exclusion list, so that it can also use auto indexes. Now, only the <code class="codeph">SH</code> schema cannot use auto indexes, because it is the only schema added to the exclusion list.
                        </p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_SCHEMA', 
         parameter_value =&gt; 'HR',
         allow           =&gt; NULL);
end;</pre><p>The following example removes all the schemas from the exclusion list, so that all the schemas can use auto indexes.</p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_SCHEMA', 
         parameter_value =&gt; NULL,
         allow           =&gt; TRUE);
end;</pre><p>The following example adds the <code class="codeph">HR</code> schema to the inclusion list, so that only the <code class="codeph">HR</code> schema can use auto indexes.
                        </p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_SCHEMA', 
         parameter_value =&gt; 'HR',
         allow           =&gt; TRUE);
end;</pre><p>The following example sets the retention period for auto indexes to 90 days.</p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_RETENTION_FOR_AUTO', 
         parameter_value =&gt; '90');
end;</pre><p>The following example sets the retention period for auto indexes to the default value of 373 days.</p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.configure(
         parameter_name  =&gt; 'AUTO_INDEX_RETENTION_FOR_AUTO', 
         parameter_value =&gt; NULL);
end;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9" name="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9"></a><h4 id="ARPLS-GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9" class="sect4"><span class="enumeration_section">29.2.2 </span>DROP_SECONDARY_INDEXES Procedure
                  </h4>
                  <div>
                     <p>This procedure deletes all the indexes, except the ones used for constraints, from a schema or a table.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9__SYNTAX-1EFA3383">Syntax</p><pre class="pre codeblock"><code>DBMS_AUTO_INDEX.DROP_SECONDARY_INDEXES (
   ownname    IN  VARCHAR2 DEFAULT NULL,
   tabname    IN  VARCHAR2 DEFAULT NULL);
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9__PARAMETERS-1EFA38D3">Parameters</p>
                        <div class="tblformal" id="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9__GUID-4C155119-2976-4999-98B0-33EF1D5BA3EB">
                           <p class="titleintable">Table 29-3 DROP_SECONDARY_INDEXES Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_SECONDARY_INDEXES Procedure Parameters" summary="This table describes the parameters of the DBMS_AUTO_INDEX.DROP_SECONDARY_INDEXES subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d153970e772">Parameter</th>
                                    <th align="left" valign="bottom" id="d153970e775">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e780" headers="d153970e772 ">
                                       <p><code class="codeph">ownname</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e780 d153970e775 ">
                                       <p>(Optional) Name of the schema from which all the indexes need to be deleted.</p>
                                       <p><span class="bold">Note:</span> The indexes used for constraints are not deleted.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e792" headers="d153970e772 ">
                                       <p><code class="codeph">tabname</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e792 d153970e775 ">
                                       <p>(Optional) Name of the table from which all the indexes need to be deleted.</p>
                                       <p><span class="bold">Note:</span> The indexes used for constraints are not deleted.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B36BFB59-0D11-4173-BB90-535AD5C1F2F9__GUID-0DC78826-9979-4C15-ACAB-BAE034BB7C82">Examples</p>
                        <p>The following example deletes all the indexes, except the ones used for constraints, from the <code class="codeph">SH</code> schema.
                        </p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.drop_secondary_indexes('SH');
end;</pre><p>The following example deletes all the indexes, except the ones used for constraints, from the <code class="codeph">EMP</code> table in the <code class="codeph">HR</code> schema.
                        </p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.drop_secondary_indexes('HR', 'EMP');
end;</pre><p>The following example deletes all the indexes, except the ones used for constraints, for which the user has the delete privileges from all the schemas in a database.</p><pre class="oac_no_warn" dir="ltr">begin
    dbms_auto_index.drop_secondary_indexes;
end;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5" name="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5"></a><h4 id="ARPLS-GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5" class="sect4"><span class="enumeration_section">29.2.3 </span>REPORT_ACTIVITY Function
                  </h4>
                  <div>
                     <p>This function returns a report of the automatic indexing operations executed during a specific period in a database.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5__SYNTAX-1EFA3383">Syntax</p><pre class="pre codeblock"><code>DBMS_AUTO_INDEX.REPORT_ACTIVITY (
   activity_start  IN  TIMESTAMP WITH TIME ZONE DEFAULT SYSTIMESTAMP - 1,
   activity_end    IN  TIMESTAMP WITH TIME ZONE DEFAULT SYSTIMESTAMP,
   type            IN  VARCHAR2 DEFAULT 'TEXT',
   section         IN  VARCHAR2 DEFAULT 'ALL',
   level           IN  VARCHAR2 DEFAULT 'TYPICAL')
RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5__PARAMETERS-1EFA38D3">Parameters</p>
                        <div class="tblformal" id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5__GUID-4C155119-2976-4999-98B0-33EF1D5BA3EB">
                           <p class="titleintable">Table 29-4 REPORT_ACTIVITY Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_ACTIVITY Function Parameters" summary="This table describes the parameters of the DBMS_AUTO_INDEX.REPORT_ACTIVITY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d153970e935">Parameter</th>
                                    <th align="left" valign="bottom" id="d153970e938">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e943" headers="d153970e935 ">
                                       <p><code class="codeph">start_time</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e943 d153970e938 ">
                                       <p>Time starting from which the executed automatic indexing operations are considered for the report. If <code class="codeph">NULL</code> is specified, the last executed automatic indexing operation is considered for the report. If no value is specified for this parameter, then the current time minus one day (24 hours) is considered at the start time.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e954" headers="d153970e935 ">
                                       <p><code class="codeph">end_time</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e954 d153970e938 ">
                                       <p>Time till which the executed automatic indexing operations are considered for the report. If no value is specified, then the current time is considered as the end time.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e962" headers="d153970e935 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e962 d153970e938 ">
                                       <p>Format of the report. It can have one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TEXT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code></p>
                                          </li>
                                       </ul>
                                       <p>The default value is <code class="codeph">TEXT</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e988" headers="d153970e935 ">
                                       <p><code class="codeph">section</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e988 d153970e938 ">
                                       <p>Sections to include in the report. It can have a combination of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SUMMARY</code>: Include only the summary details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INDEX_DETAILS</code>: Include only the auto index details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">VERIFICATION_DETAILS</code>: Include only the auto index verification details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ERRORS</code>: Include only the error details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Include all the sections (summary details, auto index details, auto index verification details, and error details) in the report. This is the default value.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>A combination of these values can be specified using the <code class="codeph">+</code> or <code class="codeph">-</code> operators as shown in the following examples:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SUMMARY +INDEX_DETAILS +ERRORS</code>: Include summary details, auto index details, and error details sections in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL -ERRORS</code>: Include all the sections in the report, except the error details section.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e1041" headers="d153970e935 ">
                                       <p><code class="codeph">level</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e1041 d153970e938 ">
                                       <p>Level of automatic indexing information to include in the report. It can have one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Include basic automatic indexing information in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: Include typical automatic indexing information in the report. This is the default value.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Include all the automatic indexing information in the report.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5__RETURNVALUE-1F18267A">Return Value</p>
                        <p>A report of the automatic indexing operations executed during the specified period in a database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F3D5845-0168-4F19-A7AB-5AEECD8FEBC5__GUID-0DC78826-9979-4C15-ACAB-BAE034BB7C82">Examples</p>
                        <p>The following example generates a typical report of the automatic indexing operations executed in the last 24 hours. The report is generated in the text format and contains all the sections (summary details, auto index details, auto index verification details, and error details).</p><pre class="oac_no_warn" dir="ltr">declare
  report clob := null;
begin
  report := dbms_auto_index.report_activity();
end;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D" name="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D"></a><h4 id="ARPLS-GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D" class="sect4"><span class="enumeration_section">29.2.4 </span>REPORT_LAST_ACTIVITY Function
                  </h4>
                  <div>
                     <p>This function returns a report of the last automatic indexing operation executed in a database.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D__SYNTAX-1EFA3383">Syntax</p><pre class="pre codeblock"><code>DBMS_AUTO_INDEX.REPORT_LAST_ACTIVITY (
   type            IN  VARCHAR2 DEFAULT 'TEXT',
   section         IN  VARCHAR2 DEFAULT 'ALL',
   level           IN  VARCHAR2 DEFAULT 'TYPICAL')
RETURN CLOB;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D__PARAMETERS-1EFA38D3">Parameters</p>
                        <div class="tblformal" id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D__GUID-4C155119-2976-4999-98B0-33EF1D5BA3EB">
                           <p class="titleintable">Table 29-5 REPORT_LAST_ACTIVITY Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_LAST_ACTIVITY Function Parameters" summary="This table describes the parameters of the DBMS_AUTO_INDEX.REPORT_LAST_ACTIVITY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d153970e1184">Parameter</th>
                                    <th align="left" valign="bottom" id="d153970e1187">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e1192" headers="d153970e1184 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e1192 d153970e1187 ">
                                       <p>Format of the report. It can have one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TEXT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">HTML</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XML</code></p>
                                          </li>
                                       </ul>
                                       <p>The default value is <code class="codeph">TEXT</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e1218" headers="d153970e1184 ">
                                       <p><code class="codeph">section</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e1218 d153970e1187 ">
                                       <p>Sections to include in the report. It can have a combination of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SUMMARY</code>: Include only the summary details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">INDEX_DETAILS</code>: Include only the auto index details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">VERIFICATION_DETAILS</code>: Include only the auto index verification details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ERRORS</code>: Include only the error details section in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Include all the sections (summary details, auto index details, auto index verification details, and error details) in the report. This is the default value.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>A combination of these values can be specified using the <code class="codeph">+</code> or <code class="codeph">-</code> operators as shown in the following examples:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SUMMARY +INDEX_DETAILS +ERRORS</code>: Include summary details, auto index details, and error details sections in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL -ERRORS</code>: Include all the sections in the report, except the error details section.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d153970e1271" headers="d153970e1184 ">
                                       <p><code class="codeph">level</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d153970e1271 d153970e1187 ">
                                       <p>Level of automatic indexing information to include in the report. It can have one of the following values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">BASIC</code>: Include basic automatic indexing information in the report.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TYPICAL</code>: Include typical automatic indexing information in the report. This is the default value.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>: Include all the automatic indexing information in the report.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D__RETURNVALUE-1F18267A">Return Value</p>
                        <p>A report of the last automatic indexing operation executed in a database.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69F94FB0-B5FB-417F-B875-B03C121EEB6D__GUID-0DC78826-9979-4C15-ACAB-BAE034BB7C82">Examples</p>
                        <p>The following example generates a typical report of the last automatic indexing operation executed in a database. The report is generated in the text format and contains all the sections (summary details, auto index details, auto index verification details, and error details).</p><pre class="oac_no_warn" dir="ltr">declare
  report clob := null;
begin
  report := dbms_auto_index.report_last_activity();
end;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>