<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring a Database for Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Performance Tuning Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00">
      <meta name="dcterms.title" content="Database Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96347-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performance-improvement-methods.html" title="Previous" type="text/html">
      <link rel="next" href="part-II-diagnosing-and-tuning-database-performance.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-improvement-methods.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-II-diagnosing-and-tuning-database-performance.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-database-performance-fundamentals.html" property="item" typeof="WebPage"><span property="name">Database Performance Fundamentals </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring a Database for Performance</li>
            </ol>
            <a id="GUID-8314AD37-F37C-4A61-B909-4853D6FC9747" name="GUID-8314AD37-F37C-4A61-B909-4853D6FC9747"></a><a id="TGDBA013"></a>
            
            <h2 id="TGDBA-GUID-8314AD37-F37C-4A61-B909-4853D6FC9747" class="sect2"><span class="enumeration_chapter">4 </span>Configuring a Database for Performance
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter contains an overview of the Oracle methodology for configuring a database for performance. Although performance modifications can be made to Oracle Database on an ongoing basis, significant benefits can be gained by proper initial configuration of the database.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configuring-database-for-performance.html#GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5">Performance Considerations for Initial Instance Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-database-for-performance.html#GUID-7801AFAE-FF5B-47E0-B6F8-D4A322BE0F1C">Creating and Maintaining Tables for Optimal Performance</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-database-for-performance.html#GUID-26436874-420C-4320-A30C-C0FE765DD65D">Performance Considerations for Shared Servers</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-database-for-performance.html#GUID-9915EBFB-77BE-49D4-8C6D-7AFAF0995E27">Improved Client Connection Performance Due to Prespawned Processes</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA94142"></a><div class="props_rev_3"><a id="GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5" name="GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5"></a><h3 id="TGDBA-GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5" class="sect3"><span class="enumeration_section">4.1 </span>Performance Considerations for Initial Instance Configuration
               </h3>
               <div>
                  <p><a id="d8403e118" class="indexterm-anchor"></a>The initial database instance configuration options that have important performance impact on the database are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Initialization Parameters</p>
                     </li>
                     <li>
                        <p>Undo Space</p>
                     </li>
                     <li>
                        <p>Redo Log Files</p>
                     </li>
                     <li>
                        <p>Tablespaces</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5__GUID-B1CAF786-ADDE-4620-97ED-0D1443D5C057">
                     <p class="notep1">Note:</p>
                     <p>If you use the Database Configuration Assistant (DBCA) to create a database, then the supplied seed database includes the necessary basic initialization parameters and meet the performance recommendations that are mentioned in this document.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-5804B2DB-B022-441A-8EE9-CAA9FB692DF5__GUID-74BDC0A9-B857-4DC1-ADE1-B7DC6AF5E4DC">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgdba&amp;id=ADMIN12479" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to create a database with the Database Configuration Assistant
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgdba&amp;id=ADMIN002" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to create a database with a SQL statement
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94144"></a><a id="TGDBA94145"></a><a id="TGDBA94143"></a><div class="props_rev_3"><a id="GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82" name="GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82"></a><h4 id="TGDBA-GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82" class="sect4"><span class="enumeration_section">4.1.1 </span>Initialization Parameters
                  </h4>
                  <div>
                     <p>A running Oracle database instance is configured using initialization parameters, which are set in the initialization parameter file. These parameters influence the behavior of the running instance, including influencing performance. In general, a very simple initialization file with few relevant settings covers most situations, and the initialization file should not be the first place you expect to do performance tuning, except for the few parameters described in the following table. </p>
                     <p>The following table describes the parameters necessary in a minimal initialization file. Although these parameters are necessary, they have no performance impact.</p>
                     <div class="tblformal" id="GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82__G23930">
                        <p class="titleintable">Table 4-1 Necessary Initialization Parameters Without Performance Impact</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Necessary Initialization Parameters Without Performance Impact" summary="This table describes the initialization parameters necessary in a minimal initialization parameter file." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d8403e252">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d8403e255">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8403e260" headers="d8403e252 ">
                                    <p><code class="codeph">DB_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8403e260 d8403e255 ">
                                    <p>Name of the database. This should match the <code class="codeph">ORACLE_SID</code> environment variable.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8403e271" headers="d8403e252 ">
                                    <p><code class="codeph">DB_DOMAIN</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8403e271 d8403e255 ">
                                    <p>Location of the database in Internet dot notation.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8403e280" headers="d8403e252 ">
                                    <p><code class="codeph">OPEN_CURSORS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8403e280 d8403e255 ">
                                    <p>Limit on the maximum number of cursors (active SQL statements) for each session. The setting is application-dependent; 500 is recommended.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8403e289" headers="d8403e252 ">
                                    <p><code class="codeph">CONTROL_FILES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8403e289 d8403e255 ">
                                    <p>Set to contain at least two files on different disk drives to prevent failures from control file loss.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d8403e298" headers="d8403e252 ">
                                    <p><code class="codeph">DB_FILES</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d8403e298 d8403e255 ">
                                    <p>Set to the maximum number of files that can assigned to the database.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following table includes the most important parameters to set with performance implications:</p>
                     <div class="tblformal" id="GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82__G23964">
                        <p class="titleintable">Table 4-2 Important Initialization Parameters With Performance Impact</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Important Initialization Parameters With Performance Impact" summary="This table describes important initialization parameters with performance impact." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d8403e318">Parameter</th>
                                 <th align="left" valign="bottom" width="68%" id="d8403e321">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e326" headers="d8403e318 ">
                                    <p><code class="codeph">COMPATIBLE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e326 d8403e321 ">
                                    <p>Specifies the release with which the Oracle database must maintain compatibility. It lets you take advantage of the maintenance improvements of a new release immediately in your production systems without testing the new functionality in your environment. If your application was designed for a specific release of Oracle Database, and you are actually installing a later release, then you might want to set this parameter to the version of the previous release.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e335" headers="d8403e318 ">
                                    <p><code class="codeph">DB_BLOCK_SIZE </code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e335 d8403e321 ">
                                    <p>Sets the size of the Oracle database blocks stored in the database files and cached in the SGA. The range of values depends on the operating system, but it is typically 8192 for transaction processing systems and higher values for database warehouse systems. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e343" headers="d8403e318 ">
                                    <p><code class="codeph">SGA_TARGET</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e343 d8403e321 ">
                                    <p>Specifies the total size of all SGA components. If <code class="codeph">SGA_TARGET</code> is specified, then the buffer cache (<code class="codeph">DB_CACHE_SIZE</code>), Java pool (<code class="codeph">JAVA_POOL_SIZE</code>), large pool (<code class="codeph">LARGE_POOL_SIZE</code>), and shared pool (<code class="codeph">SHARED_POOL_SIZE</code>) memory pools are automatically sized.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e367" headers="d8403e318 ">
                                    <p><code class="codeph">PGA_AGGREGATE_TARGET</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e367 d8403e321 ">
                                    <p>Specifies the target aggregate PGA memory available to all server processes attached to the instance.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e376" headers="d8403e318 ">
                                    <p><code class="codeph">PROCESSES </code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e376 d8403e321 ">
                                    <p>Sets the maximum number of processes that can be started by that instance. This is the most important primary parameter to set, because many other parameter values are deduced from this.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e384" headers="d8403e318 ">
                                    <p><code class="codeph">SESSIONS </code></p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e384 d8403e321 ">
                                    <p>This is set by default from the value of processes. However, if you are using the shared server, then the deduced value is likely to be insufficient.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e392" headers="d8403e318 ">
                                    <p><code class="codeph">UNDO_MANAGEMENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e392 d8403e321 ">
                                    <p>Specifies the undo space management mode used by the database. The default is <code class="codeph">AUTO</code>. If unspecified, the database uses <code class="codeph">AUTO</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d8403e407" headers="d8403e318 ">
                                    <p><code class="codeph">UNDO_TABLESPACE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d8403e407 d8403e321 ">
                                    <p>Specifies the undo tablespace to be used when an instance starts.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-8BFCA1E1-C97A-4FBF-A697-421E98676C82__GUID-071AF829-7B8E-4064-9957-F57CC07C4E88">
                        <p class="notep1">See Also:</p>
                        <p>The following guides for more information about these initialization parameters:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgdba&amp;id=REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94146"></a><div class="props_rev_3"><a id="GUID-A7508E97-A754-4AE2-9CC4-5FB41D4AFCC7" name="GUID-A7508E97-A754-4AE2-9CC4-5FB41D4AFCC7"></a><h4 id="TGDBA-GUID-A7508E97-A754-4AE2-9CC4-5FB41D4AFCC7" class="sect4"><span class="enumeration_section">4.1.2 </span>Undo Space
                  </h4>
                  <div>
                     <p>The database uses undo space to store data used for read consistency, recovery, and rollback statements. This data exists in one or more undo tablespaces. If you use the Database Configuration Assistant (DBCA) to create a database, then the undo tablespace is created automatically. To manually create an undo tablespace, add the <code class="codeph">UNDO</code> <code class="codeph">TABLESPACE</code> clause to the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement.
                     </p>
                     <p>To automate the management of undo data, Oracle Database uses <span class="bold">automatic undo management</span>, which transparently creates and manages undo segments.To enable <a id="d8403e503" class="indexterm-anchor"></a><a id="d8403e505" class="indexterm-anchor"></a>automatic undo management, set the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter to <code class="codeph">AUTO</code> (the default setting). If unspecified, then the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter uses the <code class="codeph">AUTO</code> setting. Oracle strongly recommends using automatic undo management because it significantly simplifies database management and eliminates the need for any manual tuning of undo (rollback) segments. Manual undo management using rollback segments is supported for backward compatibility.
                     </p>
                     <p>The <code class="codeph">V$UNDOSTAT</code> view contains statistics for monitoring and tuning undo space. Using this view, you can better estimate the amount of undo space required for the current workload. Oracle Database also uses this information to help tune undo usage. The <code class="codeph">V$ROLLSTAT</code> view contains information about the behavior of the undo segments in the undo tablespace.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A7508E97-A754-4AE2-9CC4-5FB41D4AFCC7__GUID-83499D7B-930D-4E54-8E88-403DB1F0A26B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admqs/managing-database-storage-structures.html#ADMQS-GUID-5801E369-B27D-4DF0-B291-68C37D641C43" target="_blank"><span class="italic">Oracle Database 2 Day DBA</span></a> and Oracle Enterprise Manager Cloud Control (Cloud Control) online help to learn about the Undo Management Advisor
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing undo space using automatic undo management
                              </p>
                           </li>
                           <li>
                              <p> <a href="../refrn/V-ROLLSTAT.html#REFRN-GUID-A0AAF38C-F78A-44BF-9AA2-801F235D1457" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$ROLLSTAT</code> view
                              </p>
                           </li>
                           <li>
                              <p> <a href="../refrn/V-UNDOSTAT.html#REFRN-GUID-39DB6CBC-AF75-4C3A-A8E1-6C923F137246" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$UNDOSTAT</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94147"></a><div class="props_rev_3"><a id="GUID-BF462098-04C0-42E0-8FE4-8B6659A6A6F9" name="GUID-BF462098-04C0-42E0-8FE4-8B6659A6A6F9"></a><h4 id="TGDBA-GUID-BF462098-04C0-42E0-8FE4-8B6659A6A6F9" class="sect4"><span class="enumeration_section">4.1.3 </span>Redo Log Files
                  </h4>
                  <div>
                     <p><a id="d8403e618" class="indexterm-anchor"></a><a id="d8403e620" class="indexterm-anchor"></a><a id="d8403e624" class="indexterm-anchor"></a>The size of the redo log files can influence performance, because the behavior of the database writer and archiver processes depend on the redo log sizes. Generally, larger redo log files provide better performance. Undersized log files increase checkpoint activity and reduce performance. 
                     </p>
                     <p>Although the size of the redo log files does not affect LGWR performance, it can affect DBWR and checkpoint behavior.<span class="bold"> </span>Checkpoint frequency is affected by several factors, including log file size and the setting of the <code class="codeph">FAST_START_MTTR_TARGET</code> initialization parameter. If the <code class="codeph">FAST_START_MTTR_TARGET</code> parameter is set to limit the instance recovery time, Oracle Database automatically tries to checkpoint as frequently as necessary. Under this condition, the size of the log files should be large enough to avoid additional checkpointing due to under sized log files. The optimal size can be obtained by querying the <code class="codeph">OPTIMAL_LOGFILE_SIZE</code> column from the <code class="codeph">V$INSTANCE_RECOVERY</code> view. You can also obtain sizing advice on the <span class="bold">Redo</span> <span class="bold">Log</span> <span class="bold">Groups</span> page of Oracle Enterprise Manager Cloud Control (Cloud Control).
                     </p>
                     <p>It may not always be possible to provide a specific size recommendation for redo log files, but redo log files in the range of 100 MB to a few gigabytes are considered reasonable. Size online redo log files according to the amount of redo your system generates. A rough guide is to switch log files at most once every 20 minutes. </p>
                     <div class="infoboxnotealso" id="GUID-BF462098-04C0-42E0-8FE4-8B6659A6A6F9__GUID-B243239D-C98D-4183-911B-74E0A7708FF3">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-the-redo-log.html#ADMIN007" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing the online redo log
                        </p>
                     </div>
                  </div>
               </div><a id="TGDBA94148"></a><div class="props_rev_3"><a id="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066" name="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066"></a><h4 id="TGDBA-GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066" class="sect4"><span class="enumeration_section">4.1.4 </span>Tablespaces
                  </h4>
                  <div>
                     <p>If you use the Database Configuration Assistant (DBCA) to create a database, then the seed database automatically includes the necessary tablespaces. If you choose not to use DBCA, then you must create extra tablespaces after creating the database.</p>
                     <p>All databases should have several tablespaces in addition to the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces. These additional tablespaces include:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <a id="d8403e734" class="indexterm-anchor"></a><a id="d8403e738" class="indexterm-anchor"></a>temporary tablespace, which is used for operations such as sorting
                           </p>
                        </li>
                        <li>
                           <p>An undo tablespace to contain information for read consistency, recovery, and undo statements</p>
                        </li>
                        <li>
                           <p>At least one tablespace for application use (in most cases, applications require several tablespaces)</p>
                        </li>
                     </ul>
                     <p>For extremely large tablespaces with many data files, you can run multiple <code class="codeph">ALTER TABLESPACE ... ADD DATAFILE</code> statements in parallel. During tablespace creation, the data files that make up the tablespace are initialized with special empty block images. Temporary files are not initialized.
                     </p>
                     <p>Oracle Database does this to ensure that it can write all data files in their entirety, but this can obviously be a lengthy process if done serially. Therefore, run multiple <code class="codeph">CREATE TABLESPACE</code> statements concurrently to speed up tablespace creation. For permanent tables, the choice between local and global extent management on tablespace creation can greatly affect performance. For any permanent tablespace that has moderate to large insert, modify, or delete operations compared to reads, choose local extent management. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066__GUID-4EA4C18E-69B4-433D-9EC3-8DFE4D61AD67">Permanent Tablespaces - Automatic Segment-Space Management</p>
                        <p>For permanent tablespaces, Oracle recommends using <a id="d8403e762" class="indexterm-anchor"></a>automatic segment-space management. Such tablespaces, often referred to as bitmap tablespaces, are locally managed tablespaces with bitmap segment space management.
                        </p>
                        <div class="infoboxnotealso" id="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066__GUID-B9996F3B-A85C-4BCA-9E98-35A873E112C2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/introduction-to-oracle-database.html#CNCPT003" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for a discussion of free space management
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on creating and using automatic segment-space management for tablespaces
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066__GUID-ED18B78D-452F-4D01-8D07-0EC858E89C5D">Temporary Tablespaces</p>
                        <p><a id="d8403e785" class="indexterm-anchor"></a><a id="d8403e789" class="indexterm-anchor"></a><a id="d8403e793" class="indexterm-anchor"></a>Properly configuring the temporary tablespace helps optimize disk sort performance. Temporary tablespaces can be dictionary-managed or locally managed. Oracle recommends the use of locally managed temporary tablespaces with a <code class="codeph">UNIFORM</code> extent size of 1 <code class="codeph">MB</code>. 
                        </p>
                        <p>You should monitor temporary tablespace activity to check how many extents the database allocates for the temporary segment. If an application extensively uses temporary tables, as in a situation when many users are concurrently using temporary tables, then the extent size could be set smaller, such as 256K, because every usage requires at least one extent. The <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> clause is optional for temporary tablespaces because all temporary tablespaces are created with locally managed extents of a uniform size. The default for <code class="codeph">SIZE</code> is <code class="codeph">1M</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-6DF7065E-C70A-4B7C-A4CA-16A838AEC066__GUID-1EF84B7C-0F08-4956-B9A2-26C641CF7F9F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on managing temporary tablespaces
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/introduction-to-oracle-database.html#CNCPT003" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information on temporary tablespaces
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TABLESPACE.html#SQLRF01403" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on using the <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> statements with the <code class="codeph">TEMPORARY</code> clause
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TGDBA94151"></a><div class="props_rev_3"><a id="GUID-7801AFAE-FF5B-47E0-B6F8-D4A322BE0F1C" name="GUID-7801AFAE-FF5B-47E0-B6F8-D4A322BE0F1C"></a><h3 id="TGDBA-GUID-7801AFAE-FF5B-47E0-B6F8-D4A322BE0F1C" class="sect3"><span class="enumeration_section">4.2 </span>Creating and Maintaining Tables for Optimal Performance
               </h3>
               <div>
                  <p><a id="d8403e906" class="indexterm-anchor"></a>When installing applications, an initial step is to create all necessary tables and indexes. When you create a segment, such as a table, the database allocates space for the data. If subsequent database operations cause the data volume to increase and exceed the space allocated, then Oracle Database extends the segment. 
                  </p>
                  <p>When creating tables and indexes, note the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify automatic segment-space management for tablespaces </p>
                        <p>In this way Oracle Database automatically manages segment space for best performance.</p>
                     </li>
                     <li>
                        <p> <a id="d8403e922" class="indexterm-anchor"></a>Set storage options carefully
                        </p>
                        <p>Applications should carefully set storage options for the intended use of the table or index. This includes setting the value for <code class="codeph">PCTFREE</code>. Note that using automatic segment-space management eliminates the necessity of specifying <code class="codeph">PCTUSED</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-7801AFAE-FF5B-47E0-B6F8-D4A322BE0F1C__GUID-11905956-1A25-4AE7-9AB0-5FC283226159">
                           <p class="notep1">Note:</p>
                           <p>Use of free lists is not recommended. To use automatic segment-space management, create locally managed tablespaces, with the segment space management clause set to <code class="codeph">AUTO</code>.
                           </p>
                        </div>
                     </li>
                  </ul>
               </div><a id="TGDBA94152"></a><div class="props_rev_3"><a id="GUID-16937141-895F-4D1C-B431-B129157B515E" name="GUID-16937141-895F-4D1C-B431-B129157B515E"></a><h4 id="TGDBA-GUID-16937141-895F-4D1C-B431-B129157B515E" class="sect4"><span class="enumeration_section">4.2.1 </span>Table Compression
                  </h4>
                  <div>
                     <p>You can store heap-organized tables in a compressed format that is transparent for any kind of application. Compressed data in a database block is self-contained, which means that all information needed to re-create the uncompressed data in a block is available within the block. A block is also compressed in the buffer cache. Table compression not only reduces the disk storage but also the memory usage, specifically the buffer cache requirements. Performance improvements are accomplished by reducing the amount of necessary I/O operations for accessing a table and by increasing the probability of buffer cache hits.</p>
                     <p>Oracle Database has an advanced compression option that enables you to boost the performance of any type of application workload—including data warehousing and OLTP applications—while reducing the disk storage that is required by the database. You can use the advanced compression feature for all types of data, including structured data, unstructured data, backup data, and network data.</p>
                     <div class="infoboxnotealso" id="GUID-16937141-895F-4D1C-B431-B129157B515E__GUID-C633B1D7-0138-4BFF-ADD8-BF911C2AED62">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-tables.html#ADMIN13948" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about using table compression
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-16937141-895F-4D1C-B431-B129157B515E__GUID-627BBBFC-7F19-4BDD-9055-346CA087D0AF">Estimating the Compression Factor</p>
                        <p>Table compression works by eliminating column value repetitions within individual blocks. Duplicate values in all the rows and columns in a block are stored once at the beginning of the block, in what is called a symbol table for that block. All occurrences of such values are replaced with a short reference to the symbol table. The compression is higher in blocks that have more repeated values. </p>
                        <p>Before compressing large tables you should estimate the expected compression factor. The compression factor is defined as the number of blocks necessary to store the information in an uncompressed form divided by the number of blocks necessary for a compressed storage. The compression factor can be estimated by sampling a small number of representative data blocks of the table to be compressed and comparing the average number of records for each block for the uncompressed and compressed case. Experience shows that approximately 1000 data blocks provides a very accurate estimation of the compression factor. Note that the more blocks you are sampling, the more accurate the results become.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-16937141-895F-4D1C-B431-B129157B515E__GUID-59DF567D-F0FC-4F30-BAB0-AAD3E23A2450">Tuning to Achieve a Better Compression Ratio</p>
                        <p>Oracle Database achieves a good compression factor in many cases with no special tuning. As a DBA or application developer, you can try to tune the compression factor by reorganizing the records when the compression takes place. Tuning can improve the compression factor slightly in some cases and substantially in other cases. </p>
                        <p>To improve the compression factor you must increase the likelihood of value repetitions within a data block. The achievable compression factor depends on the cardinality of a specific column or column pairs (representing the likelihood of column value repetitions) and on the average row length of those columns. Table compression not only compresses duplicate values of a single column but tries to use multi-column value pairs whenever possible. Without a detailed understanding of the data distribution it is very difficult to predict the most optimal order.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-16937141-895F-4D1C-B431-B129157B515E__GUID-E35670AD-9CBE-494A-BC01-4ACB6C101E19">Using Attribute-Clustered Tables</p>
                        <p>An attribute-clustered table is a heap-organized table that stores data in close proximity on disk based on user-specified clustering directives. The directives determine if the data stored in a table is ordered based on specified columns, or on a special algorithm that permits multicolumn I/O reduction. Attribute clustering is only available for bulk insert operations—such as the <code class="codeph">INSERT/*+APPEND*/</code> or <code class="codeph">ALTER TABLE ... MOVE PARTITION</code> commands—and is ignored for conventional DML.
                        </p>
                        <p>By reducing physical I/O in conjunction with zone maps, using attribute-clustered tables can significant reduce the I/O costs of table scans. Furthermore, it can also improve data compression because data can be more easily compressed when the same values are closer to each other on disk.</p>
                        <div class="infoboxnotealso" id="GUID-16937141-895F-4D1C-B431-B129157B515E__GUID-30A48A7B-1682-4959-9000-4669D4710825">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT89316" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about attribute-clustered tables
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dwhsg/attribute-clustering.html#DWHSG8917" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about using attribute-clustered tables
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94155"></a><div class="props_rev_3"><a id="GUID-FCEF4C00-7358-451C-8340-DB187A88E204" name="GUID-FCEF4C00-7358-451C-8340-DB187A88E204"></a><h4 id="TGDBA-GUID-FCEF4C00-7358-451C-8340-DB187A88E204" class="sect4"><span class="enumeration_section">4.2.2 </span>Reclaiming Unused Space
                  </h4>
                  <div>
                     <p>Over time, it is common for segment space to become fragmented or for a segment to acquire a lot of free space as the result of update and delete operations. The resulting sparsely populated objects can suffer performance degradation during queries and DML operations. If an object does have space available for reclamation, then you can compact and shrink segments or deallocate unused space at the end of a segment.</p>
                     <p>Oracle Database provides a Segment Advisor that provides advice on whether an object has space available for reclamation based on the level of space fragmentation within an object.</p>
                     <div class="infoboxnotealso" id="GUID-FCEF4C00-7358-451C-8340-DB187A88E204__GUID-E824924A-F640-4CC5-80EF-66633AF25729">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-space-for-schema-objects.html#ADMIN-GUID-1950156D-DECC-4E76-84D9-2C2A3D8D6565" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for a discussion on managing space for schema objects and the Segment Advisor
                        </p>
                     </div>
                  </div>
               </div><a id="TGDBA94156"></a><div class="props_rev_3"><a id="GUID-769A6161-304A-4547-9FB8-9B767263BF71" name="GUID-769A6161-304A-4547-9FB8-9B767263BF71"></a><h4 id="TGDBA-GUID-769A6161-304A-4547-9FB8-9B767263BF71" class="sect4"><span class="enumeration_section">4.2.3 </span>Indexing Data
                  </h4>
                  <div>
                     <p><a id="d8403e1155" class="indexterm-anchor"></a>The most efficient time to create indexes is after data has been loaded. In this way, space management becomes simpler, and no index maintenance takes place for each row inserted. SQL*Loader automatically uses this technique, but if you are using other methods to do initial data load, then you may need to create indexes manually. Additionally, you can perform index creation in parallel using the <a id="d8403e1160" class="indexterm-anchor"></a><a id="d8403e1164" class="indexterm-anchor"></a><code class="codeph">PARALLEL</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement. However, SQL*Loader is not able to parallelize index creation, so you must manually create indexes in parallel after loading data.
                     </p>
                     <div class="infoboxnotealso" id="GUID-769A6161-304A-4547-9FB8-9B767263BF71__GUID-EF031CDE-D03F-43B2-AC77-AEDB71770D64">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sutil/oracle-sql-loader-concepts.html#SUTIL-GUID-DD843EE2-1FAB-4E72-A115-21D97A501ECC" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about SQL*Loader
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-769A6161-304A-4547-9FB8-9B767263BF71__GUID-71DE08A5-7310-417B-A034-95A56A998DDD">Specifying Memory for Sorting Data</p>
                        <p>During index creation on tables that contain data, the data must be sorted. This sorting is done in the fastest possible way, if all available memory is used for sorting. Oracle recommends that you enable automatic sizing of SQL working areas by setting the <code class="codeph">PGA_AGGREGATE_TARGET</code> initialization parameter.
                        </p>
                        <div class="infoboxnotealso" id="GUID-769A6161-304A-4547-9FB8-9B767263BF71__GUID-C5FBF16C-53F1-4434-8039-404ADDD36BB8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="tuning-program-global-area.html#GUID-FE1954FB-FAC9-4302-896E-6F47EB6C8A73">Tuning the Program Global Area </a>"</span> for information about PGA memory management
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/PGA_AGGREGATE_TARGET.html#REFRN10165" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">PGA_AGGREGATE_TARGET</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TGDBA021"></a><div class="props_rev_3"><a id="GUID-26436874-420C-4320-A30C-C0FE765DD65D" name="GUID-26436874-420C-4320-A30C-C0FE765DD65D"></a><h3 id="TGDBA-GUID-26436874-420C-4320-A30C-C0FE765DD65D" class="sect3"><span class="enumeration_section">4.3 </span>Performance Considerations for Shared Servers
               </h3>
               <div>
                  <p>Using shared servers reduces the number of processes and the amount of memory consumed on the database host. Shared servers are beneficial for databases where there are many OLTP users performing intermittent transactions. </p>
                  <p>Using shared servers rather than dedicated servers is also generally better for systems that have a high connection rate to the database. With shared servers, when a connect request is received, a dispatcher is available to handle concurrent connection requests. With dedicated servers, however, a connection-specific dedicated server is sequentially initialized for each connection request.</p>
                  <p><a id="d8403e1266" class="indexterm-anchor"></a>Performance of certain database features can improve when a shared server architecture is used, and performance of certain database features can degrade slightly when a shared server architecture is used. For example, a session can be prevented from migrating to another shared server while parallel execution is active. 
                  </p>
                  <p>A session can remain nonmigratable even after a request from the client has been processed, because not all the user information has been stored in the <a id="d8403e1273" class="indexterm-anchor"></a>UGA. If a server were to process the request from the client, then the part of the user state that was not stored in the UGA would be inaccessible. To avoid this situation, individual shared servers often need to remain bound to a user session. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-26436874-420C-4320-A30C-C0FE765DD65D__GUID-9C6E91B1-D54C-4B2E-BD09-6A0F8C1B64DA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/monitoring-the-database.html#ADMIN005" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to manage shared servers
                           </p>
                        </li>
                        <li>
                           <p><a href="../netag/configuring-shared-server-architecture.html#NETAG-GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> to learn how to configure dispatchers for shared servers
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>When using some features, you may need to configure more shared servers, because some servers might be bound to sessions for an excessive amount of time.</p>
                  <p><a id="d8403e1297" class="indexterm-anchor"></a><a id="d8403e1301" class="indexterm-anchor"></a><a id="d8403e1305" class="indexterm-anchor"></a>This section discusses how to reduce contention for processes used by Oracle Database architecture:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="configuring-database-for-performance.html#GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F">Identifying and Reducing Contention Using the Dispatcher-Specific Views </a></p>
                     </li>
                     <li>
                        <p><a href="configuring-database-for-performance.html#GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE">Identifying Contention for Shared Servers</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94158"></a><div class="props_rev_3"><a id="GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F" name="GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F"></a><h4 id="TGDBA-GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F" class="sect4"><span class="enumeration_section">4.3.1 </span>Identifying and Reducing Contention Using the Dispatcher-Specific Views 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following views provide dispatcher performance statistics: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">V$DISPATCHER</code>: general information about dispatcher processes
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">V$DISPATCHER_RATE</code>: dispatcher processing statistics
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">V$DISPATCHER_RATE</code> view contains current, average, and maximum dispatcher statistics for several categories. Statistics with the prefix <code class="codeph">CUR_</code> are statistics for the current sample. Statistics with the prefix <code class="codeph">AVG_</code> are the average values for the statistics after the collection period began. Statistics with the prefix <code class="codeph">MAX_</code> are the maximum values for these categories after statistics collection began. 
                        </p>
                        <p>To assess dispatcher performance, query the <code class="codeph">V$DISPATCHER_RATE</code> view and compare the current values with the maximums. If your present system throughput provides adequate response time and current values from this view are near the average and less than the maximum, then you likely have an optimally tuned shared server environment. 
                        </p>
                        <p>If the current and average rates are significantly less than the maximums, then consider reducing the number of dispatchers. Conversely, if current and average rates are close to the maximums, then you might need to add more dispatchers. A general rule is to examine <code class="codeph">V$DISPATCHER_RATE</code> statistics during both light and heavy system use periods. After identifying your shared server load patterns, adjust your parameters accordingly. 
                        </p>
                        <p>If necessary, you can also mimic processing loads by running system stress tests and periodically polling <code class="codeph">V$DISPATCHER_RATE</code> statistics. Proper interpretation of these statistics varies from platform to platform. Different types of applications also can cause significant variations on the statistical values recorded in <code class="codeph">V$DISPATCHER_RATE</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F__GUID-1A6519DB-0D2E-4AD8-A835-714EEA1322B0">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../refrn/V-DISPATCHER.html#REFRN30063" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed information about the <code class="codeph">V$DISPATCHER</code> and <code class="codeph">V$DISPATCHER_RATE</code> views
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F__GUID-73DFBD60-B057-4B2C-BD56-9DC3BC0EBD9D">Reducing Contention for Dispatcher Processes</p>
                        <p><a id="d8403e1435" class="indexterm-anchor"></a>To reduce contention, consider the following points:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Adding dispatcher processes</p>
                              <p>The total number of dispatcher processes is limited by the value of the initialization parameter <code class="codeph">MAX_DISPATCHERS</code>. You might need to increase this value before adding dispatcher processes.
                              </p>
                           </li>
                           <li>
                              <p>Enabling connection pooling</p>
                              <p>When system load increases and dispatcher throughput is maximized, it is not necessarily a good idea to immediately add more dispatchers. Instead, consider configuring the dispatcher to support more users with connection pooling.</p>
                           </li>
                           <li>
                              <p>Enabling Session Multiplexing</p>
                              <p>Multiplexing is used by a connection manager process to establish and maintain network sessions from multiple users to individual dispatchers. For example, several user processes can connect to one dispatcher by way of a single connection from a connection manager process. Session multiplexing is beneficial because it maximizes use of the dispatcher process connections. Multiplexing is also useful for multiplexing database link sessions between dispatchers.</p>
                              <div class="infoboxnotealso" id="GUID-991DB579-AA19-4A9B-820E-FF5FD09B9B6F__GUID-BAF29A32-C94E-4591-A46A-F4E5A32D772D">
                                 <p class="notep1">See Also:</p>
                                 <p> </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a href="../admin/monitoring-the-database.html#ADMIN005" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a><span class="italic"> </span>to learn how to configure dispatcher processes
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../netag/configuring-shared-server-architecture.html#NETAG012" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> to learn how to configure connection pooling
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../refrn/DISPATCHERS.html#REFRN10049" target="_blank"><span class="italic">Oracle Database Reference</span></a><span class="italic"> </span>to learn about the <code class="codeph">DISPATCHERS</code> and <code class="codeph">MAX_DISPATCHERS</code> initialization parameters
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94161"></a><a id="TGDBA94160"></a><div class="props_rev_3"><a id="GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE" name="GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE"></a><h4 id="TGDBA-GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE" class="sect4"><span class="enumeration_section">4.3.2 </span>Identifying Contention for Shared Servers
                  </h4>
                  <div>
                     <div class="section">
                        <p>Steadily increasing wait times in the requests queue indicate contention for shared servers. To examine wait time data, use the dynamic performance view <code class="codeph">V$QUEUE</code>. This view contains s<a id="d8403e1550" class="indexterm-anchor"></a>tatistics showing request queue activity for shared servers. By default, this view is available only to the user <code class="codeph">SYS</code> and to other users with <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege, such as <code class="codeph">SYSTEM</code>. <a href="configuring-database-for-performance.html#GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE__g23909" title="This table describes the columns in the V$QUEUE view for displaying wait time and total number of requests for request queues for shared server.">Table 4-3</a> lists the columns showing the wait times for requests and the number of requests in the queue.
                        </p>
                        <div class="tblformal" id="GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE__g23909">
                           <p class="titleintable">Table 4-3 Wait Time and Request Columns in V$QUEUE</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Wait Time and Request Columns in V$QUEUE" summary="This table describes the columns in the V$QUEUE view for displaying wait time and total number of requests for request queues for shared server." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d8403e1584">Column</th>
                                    <th align="left" valign="bottom" width="69%" id="d8403e1587">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d8403e1592" headers="d8403e1584 ">
                                       <p><code class="codeph">WAIT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d8403e1592 d8403e1587 ">
                                       <p>Displays the total waiting time, in hundredths of a second, for all requests that have ever been in the queue</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d8403e1601" headers="d8403e1584 ">
                                       <p><code class="codeph">TOTALQ</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d8403e1601 d8403e1587 ">
                                       <p>Displays the total number of requests that have ever been in the queue</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d8403e1610" class="indexterm-anchor"></a>Monitor these statistics occasionally while your application is running by issuing the following SQL statement:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DECODE(TOTALQ, 0, 'No Requests',
   WAIT/TOTALQ || ' HUNDREDTHS OF SECONDS') "AVERAGE WAIT TIME PER REQUESTS"
  FROM V$QUEUE
 WHERE TYPE = 'COMMON';
</pre><p>This query returns the results of a calculation that show the following:</p><pre class="oac_no_warn" dir="ltr">AVERAGE WAIT TIME PER REQUEST
-----------------------------
.090909 HUNDREDTHS OF SECONDS
</pre><p>From the result, you can tell that a request waits an average of 0.09 hundredths of a second in the queue before processing. </p>
                        <p>You can also determine how many shared servers are currently running by issuing the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) "Shared Server Processes"
  FROM V$SHARED_SERVER
 WHERE STATUS != 'QUIT';
</pre><p>The result of this query could look like the following:</p><pre class="oac_no_warn" dir="ltr">Shared Server Processes
-----------------------
10
</pre><p>If you detect resource contention with shared servers, then first ensure that this is not a memory contention issue by examining the shared pool and the large pool. If performance remains poor, then you might want to create more resources to reduce shared server process contention. You can do this by modifying the optional server process initialization parameters:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">MAX_DISPATCHERS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">MAX_SHARED_SERVERS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DISPATCHERS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SHARED_SERVERS</code> 
                              </p>
                              <div class="infoboxnotealso" id="GUID-6994F850-0865-4662-8A10-E7C1EDFC68BE__GUID-9CECC3E7-A150-4BCE-87AB-DBD938DAA0D9">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../admin/monitoring-the-database.html#ADMIN005" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> to learn how to set the shared server process initialization parameters
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9915EBFB-77BE-49D4-8C6D-7AFAF0995E27" name="GUID-9915EBFB-77BE-49D4-8C6D-7AFAF0995E27"></a><h3 id="TGDBA-GUID-9915EBFB-77BE-49D4-8C6D-7AFAF0995E27" class="sect3"><span class="enumeration_section">4.4 </span>Improved Client Connection Performance Due to Prespawned Processes
               </h3>
               <div>
                  <p>Oracle Database prespawns pools of server processes when dedicated broker connection mode is enabled or threaded execution mode is enabled. In this case, whenever a client requests for a database connection, it gets a dedicated connection to an existing server process from the process pools, thus improving the efficiency of client connections.</p>
                  <p>The <code class="codeph">V$PROCESS_POOL</code> view shows information about these server process pools, and you can manage these pools using the <code class="codeph">DBMS_PROCESS</code> package.
                  </p>
                  <div class="infoboxnotealso" id="GUID-9915EBFB-77BE-49D4-8C6D-7AFAF0995E27__NOTE-123-CF976E45">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><a href="../admin/managing-processes.html#ADMIN-GUID-22936BCB-87C5-492C-A533-EDC165B88B9A" target="_blank">Oracle Database Administrator's Guide</a></span> for more information about managing prespawned processes in Oracle Database
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="../arpls/DBMS_PROCESS.html#ARPLS-GUID-3D1BA173-E9E8-4177-998A-A10D76B5BCAE" target="_blank">Oracle Database PL/SQL Packages and Types Reference</a></span> for information about the <code class="codeph">DBMS_PROCESS</code> package
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>