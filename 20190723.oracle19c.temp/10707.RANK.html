<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>RANK</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PREVIOUS.html" title="Previous" type="text/html">
      <link rel="next" href="RATIO_TO_REPORT.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PREVIOUS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="RATIO_TO_REPORT.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RANK </li>
            </ol>
            <a id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA" name="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA"></a><a id="SQLRF51661"></a><a id="SQLRF51662"></a><a id="SQLRF51663"></a><a id="SQLRF51664"></a><a id="SQLRF51665"></a><a id="SQLRF51666"></a><a id="SQLRF51667"></a><a id="SQLRF00690"></a>
            
            <h2 id="SQLRF-GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA" class="sect2">RANK </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-C233A191-454B-444E-93DA-F36F475BEBF3">Aggregate Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-B9C102F4-9656-4339-853B-861220006B9F"><span class="italic">rank_aggregate</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-7C418DAD-6328-4BCF-B01C-DDFA8317ECD6"><img src="img/rank_aggregate.gif" alt="Description of rank_aggregate.eps follows" title="Description of rank_aggregate.eps follows" longdesc="img_text/rank_aggregate.html"><br><a href="img_text/rank_aggregate.html">Description of the illustration rank_aggregate.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-CB8B313A-084C-4C7A-82E2-93038647C64B">Analytic Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-FC99283D-9E89-40BA-AA58-0A9C6444D356"><span class="italic">rank_analytic</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-0130FC7F-CFF5-4DEE-A9F9-3A0D6DDD8E3F"><img src="img/rank_analytic.gif" alt="Description of rank_analytic.eps follows" title="Description of rank_analytic.eps follows" longdesc="img_text/rank_analytic.html"><br><a href="img_text/rank_analytic.html">Description of the illustration rank_analytic.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-3C75D486-08DF-4C3A-BC20-88D5E6FE4CB0">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">Analytic Functions</a>"</span> for information on syntax, semantics, and restrictions
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-6DFF5286-C507-4890-AA64-8CB8062620BB">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">RANK</code> calculates the rank of a value in a group of values. The return type is <code class="codeph">NUMBER</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-A00BA15E-55FB-479B-87FB-B087F5BA2AF3">
                     <p class="notep1">See Also:</p>
                     <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="This matrix lists the data types in the first column and in the header cell for each subsequent column. An X in a cell indicates implicit conversion of the data types named in the header of that column and column 1 of that row.">Table 2-8</a> for more information on implicit conversion and <span class="q">"<a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">Numeric Precedence</a>"</span> for information on numeric precedence
                     </p>
                  </div>
                  <p><a id="d146199e183" class="indexterm-anchor"></a><a id="d146199e185" class="indexterm-anchor"></a>Rows with equal values for the ranking criteria receive the same rank. Oracle Database then adds the number of tied rows to the tied rank to calculate the next rank. Therefore, the ranks may not be consecutive numbers. This function is useful for top-N and bottom-N reporting.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>As an aggregate function, <code class="codeph">RANK</code> calculates the rank of a hypothetical row identified by the arguments of the function with respect to a given sort specification. The arguments of the function must all evaluate to constant expressions within each aggregate group, because they identify a single row within each group. The constant argument expressions and the expressions in the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause of the aggregate match by position. Therefore, the number of arguments must be the same and their types must be compatible.
                        </p>
                     </li>
                     <li>
                        <p>As an analytic function, <code class="codeph">RANK</code> computes the rank of each row returned from a query with respect to the other rows returned by the query, based on the values of the <span class="italic"><code class="codeph">value_exprs</code></span> in the <span class="italic"><code class="codeph">order_by_clause</code></span>. 
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-C6F82376-874E-4D08-ACD0-40F9CCBC188C">
                     <p class="notep1">See Also:</p>
                     <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules, which define the collation <code class="codeph">RANK</code> uses to compare character values for the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-B976B9EE-2115-4412-AE36-F3DF1209DA20">Aggregate Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example calculates the rank of a hypothetical employee in the sample table <code class="codeph">hr.employees</code> with a salary of $15,500 and a commission of 5%:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT RANK(15500, .05) WITHIN GROUP
   (ORDER BY salary, commission_pct) "Rank"
   FROM employees;

      Rank
----------
       105
</pre><p>Similarly, the following query returns the rank for a $15,500 salary among the employee salaries:</p><pre class="oac_no_warn" dir="ltr">SELECT RANK(15500) WITHIN GROUP 
   (ORDER BY salary DESC) "Rank of 15500" 
   FROM employees;

Rank of 15500
--------------
             4</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-0950BD34-C994-41DA-A8F9-34B3FE53BBBA__GUID-D0182A59-D7B2-4B9B-858F-08B902BA391F">Analytic Example</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following statement ranks the employees in the sample <code class="codeph">hr</code> schema in department 60 based on their salaries. Identical salary values receive the same rank and cause nonconsecutive ranks. Compare this example with the analytic example for <a href="DENSE_RANK.html#GUID-BB66F574-09DF-4594-87A4-ABD83E8DC3FE">DENSE_RANK</a>.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT department_id, last_name, salary,
       RANK() OVER (PARTITION BY department_id ORDER BY salary) RANK
  FROM employees WHERE department_id = 60
  ORDER BY RANK, last_name;

DEPARTMENT_ID LAST_NAME                     SALARY       RANK
------------- ------------------------- ---------- ----------
           60 Lorentz                         4200          1
           60 Austin                          4800          2
           60 Pataballa                       4800          2
           60 Ernst                           6000          4
           60 Hunold                          9000          5</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>