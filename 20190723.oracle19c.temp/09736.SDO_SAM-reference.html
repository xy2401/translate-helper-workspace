<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">
      <meta name="description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">
      <title>SDO_SAM Package (Spatial Analysis and Mining)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SDO_PC_PKG-reference.html" title="Previous" type="text/html">
      <link rel="next" href="SDO_TIN_PKG-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_PC_PKG-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SDO_TIN_PKG-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">  Reference Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> SDO_SAM Package (Spatial Analysis and Mining)</li>
            </ol>
            <a id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" name="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC"></a><a id="SPATL1196"></a><a id="SPATL190"></a>
            
            <h2 id="SPATL-GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" class="sect2"><span class="enumeration_chapter">31 </span> SDO_SAM Package (Spatial Analysis and Mining)
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.</p>
               <p><a id="d152862e51" class="indexterm-anchor"></a><a id="d152862e55" class="indexterm-anchor"></a><a id="d152862e59" class="indexterm-anchor"></a><a id="d152862e65" class="indexterm-anchor"></a><a id="d152862e67" class="indexterm-anchor"></a><a id="d152862e69" class="indexterm-anchor"></a><a id="d152862e73" class="indexterm-anchor"></a>To use the subprograms in this chapter, you must understand the conceptual information about spatial analysis and data mining in <a href="spatial-analysis-mining.html#GUID-67115788-00C2-49D6-85CA-6027F759AF1F" title="This chapter describes the Oracle Spatial and Graph features that enable the use of spatial data in data mining applications."> Spatial Analysis and Mining</a>.
               </p>
               <div class="infoboxnote" id="GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC__GUID-22215780-B90C-4389-BC87-D597608E6562">
                  <p class="notep1">Note:</p>
                  <p>SDO_SAM subprograms are supported for two-dimensional geometries only. They are not supported for three-dimensional geometries.</p>
               </div>
               <p>The rest of this chapter provides reference information on the spatial analysis and mining subprograms, listed in alphabetical order.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9">SDO_SAM.COLOCATED_REFERENCE_FEATURES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-EC873FC0-BDFB-45D8-9F78-81112497D951">SDO_SAM.SIMPLIFY_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252">SDO_SAM.SPATIAL_CLUSTERS</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9">SDO_SAM.TILED_AGGREGATES</a><br></li>
                  <li class="ulchildlink"><a href="SDO_SAM-reference.html#GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB">SDO_SAM.TILED_BINS</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">Reference Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1197"></a><div class="props_rev_3"><a id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5" name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5"></a><h3 id="SPATL-GUID-3755052C-D6AD-494B-AF75-370B32C797B5" class="sect3"><span class="enumeration_section">31.1 </span>SDO_SAM.AGGREGATES_FOR_GEOMETRY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-BE702C0D-1CE8-4767-BEC7-EC8D357AA405">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_GEOMETRY(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_name       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_colname    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_type_string IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_col_string  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom             IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst_spec         IN VARCHAR2 DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7CC477F2-2BA0-45E2-816F-659BFA813953">Description</p>
                     <p>Computes the thematic aggregate for a geometry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-74B2090D-CEB2-458E-B7BC-ABE25B36FC23">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7C934FAD-6129-45A9-BCA7-F1D6094CB726">
                              <!-- --></a>theme_name
                        </dt>
                        <dd>
                           <p>Name of the theme table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8C2ED8F7-FF20-4D6E-8E28-FFE0BF377864">
                              <!-- --></a>theme_colname
                        </dt>
                        <dd>
                           <p>Name of the geometry column in <code class="codeph">theme_name</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-8DC72494-2431-42F4-B78B-C4231F768D93">
                              <!-- --></a>aggr_type_string
                        </dt>
                        <dd>
                           <p>Any Oracle SQL aggregate function that accepts one or more numeric values and computes a numeric value, such as <code class="codeph">SUM</code>, <code class="codeph">MIN</code>, <code class="codeph">MAX</code>, or <code class="codeph">AVG</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-6BB11948-CA7B-4F9A-85C2-18852527639F">
                              <!-- --></a>aggr_col_string
                        </dt>
                        <dd>
                           <p>Name of a column in <code class="codeph">theme_name</code> on which to compute aggregate values, as explained in the Usage Notes. An example might be a POPULATION column.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-3D0652E5-EB55-4477-A165-C428F9340945">
                              <!-- --></a>geom
                        </dt>
                        <dd>
                           <p>Geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-C1145288-6393-4EDE-B495-04BFBCD39196">
                              <!-- --></a>dst_spec
                        </dt>
                        <dd>
                           <p>A quoted string specifying either a distance buffer or a number of nearest neighbor geometries to consider. See the Usage Notes for an explanation of the format and meaning.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-1E088F6A-62B9-478A-B7BD-44306DC2214A">Usage Notes</p>
                     <p>For a specific geometry, this function identifies the geometries in the <code class="codeph">theme_name</code> table, finds their intersection ratio, multiplies the specified aggregate using this intersection ratio, and aggregates it for the geometry. Specifically, for all rows of the <code class="codeph">theme_name</code> table that intersect with the specified geometry, it returns the value from the following function:
                     </p><pre class="oac_no_warn" dir="ltr">aggr_type_string(aggr_col_string * proportional_area_of_intersection(geometry, theme_name.theme_colname))
</pre><p>The <code class="codeph">theme_colname</code> column must have a spatial index defined on it. For best performance, insert simplified geometries into this column.
                     </p>
                     <p>The <code class="codeph">dst_spec</code> parameter, if specified, is a quoted string that must contain either of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">distance</code> keyword and optionally the <code class="codeph">unit</code> keyword (unit of measurement associated with the distance value), to specify a buffer around the geometry. For example, <code class="codeph">'distance=2 unit=km'</code> specifies a 2-kilometer buffer around the input geometry. If <code class="codeph">dst_spec</code> is not specified, no buffer is used.
                           </p>
                           <p>If the <code class="codeph">unit</code> keyword is specified, the value must be an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code class="codeph">'unit=km'</code>). If the <code class="codeph">unit</code> keyword is not specified, the unit of measurement associated with the geometry is used. See <a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a> for more information about unit of measurement specification.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">sdo_num_res</code> keyword, to specify the number of nearest-neighbor geometries to consider, without considering proportional coverage. For example, <code class="codeph">'sdo_num_res=5'</code> could be used in a query that asks for the populations of the five cities that are nearest to a specified point.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3755052C-D6AD-494B-AF75-370B32C797B5__GUID-7F7D4D4A-1209-45F8-AEEB-F85A127609D8">Examples</p>
                     <p>The following example computes the thematic aggregate for an area with a 3-mile radius around a specified point geometry. In this case, the total population of the area is computed based on the proportion of the circle's area within different counties, assuming uniform distribution of population within the counties.</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.aggregates_for_geometry(
  'GEOD_COUNTIES', 'GEOM',
  'sum', 'totpop',
  SDO_GEOMETRY(2001, 8307,
    SDO_POINT_TYPE(-73.943849, 40.6698,NULL),
    NULL, NULL),
  'distance=3 unit=mile')
FROM DUAL a ;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1198"></a><div class="props_rev_3"><a id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363" name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363"></a><h3 id="SPATL-GUID-1074B640-8614-4EB6-9149-B60D2FB19363" class="sect3"><span class="enumeration_section">31.2 </span>SDO_SAM.AGGREGATES_FOR_LAYER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-B0ECC95F-E020-43D1-B155-5B4F52319549">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.AGGREGATES_FOR_LAYER(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_name       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_colname    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_type_string IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_col_string  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tablename        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colname          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst_spec         IN VARCHAR2 DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-EA5EFCCC-E591-4765-B737-104E7595B28C">Description</p>
                     <p>Computes thematic aggregates for a layer of geometries.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F9E4FB3E-9CFC-4B50-B901-474D110C7312">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-46B08AE2-F29E-4AA6-AB83-8B2DF5C0794A">
                              <!-- --></a>theme_name
                        </dt>
                        <dd>
                           <p>Name of the theme table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F7455971-9E62-4E84-971A-ACD36935E09F">
                              <!-- --></a>theme_colname
                        </dt>
                        <dd>
                           <p>Name of the geometry column in <code class="codeph">theme_name</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-D883F8A0-7959-4E4E-8B00-C48FF4C7C3BC">
                              <!-- --></a>aggr_type_string
                        </dt>
                        <dd>
                           <p>Any Oracle SQL aggregate function that accepts one or more numeric values and computes a numeric value, such as <code class="codeph">SUM</code>, <code class="codeph">MIN</code>, <code class="codeph">MAX</code>, or <code class="codeph">AVG</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-F4BAD472-E40A-439D-9061-98AFE4D72059">
                              <!-- --></a>aggr_col_string
                        </dt>
                        <dd>
                           <p>Name of a column in <code class="codeph">theme_name</code> on which to compute aggregate values, as explained in the Usage Notes. An example might be a POPULATION column.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-7FE8C328-7E1F-424B-9E3A-81DB77B8CF5C">
                              <!-- --></a>tablename
                        </dt>
                        <dd>
                           <p>Name of the data mining table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-1DE52E40-85ED-4284-95E0-D8E314149969">
                              <!-- --></a>colname
                        </dt>
                        <dd>
                           <p>Name of the column in <code class="codeph">tablename</code> that holds the geometries.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-0663905D-7807-4495-BA03-F3DD8D55E6E2">
                              <!-- --></a>dst_spec
                        </dt>
                        <dd>
                           <p>A quoted string specifying either a distance buffer or a number of nearest neighbor geometries to consider. See the Usage Notes for the <a href="SDO_SAM-reference.html#GUID-3755052C-D6AD-494B-AF75-370B32C797B5">SDO_SAM.AGGREGATES_FOR_GEOMETRY</a> function in this chapter for an explanation of the format and meaning.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-AC634098-39EC-43FF-B6C1-8ABC611D137D">Usage Notes</p>
                     <p>For each geometry in <code class="codeph">tablename</code>, this function identifies the geometries in the <code class="codeph">theme_name</code> table, finds their intersection ratio, multiplies the specified aggregate using this intersection ratio, and aggregates it for each geometry in <code class="codeph">tablename</code>. Specifically, for all rows of the <code class="codeph">theme_name</code> table, it returns the value from the following function:
                     </p><pre class="oac_no_warn" dir="ltr">aggr_type_string(aggr_col_string * proportional_area_of_intersection(geometry, theme_name.theme_colname))
</pre><p><a id="d152862e531" class="indexterm-anchor"></a><a id="d152862e533" class="indexterm-anchor"></a>This function returns an object of type SDO_REGAGGRSET. The SDO_REGAGGRSET object type is defined as:
                     </p><pre class="oac_no_warn" dir="ltr">TABLE OF SDO_REGAGGR
</pre><p>The SDO_REGAGGR object type is defined as:</p><pre class="oac_no_warn" dir="ltr"> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 REGION_ID                                          VARCHAR2(24)
 GEOMETRY                                           MDSYS.SDO_GEOMETRY
 AGGREGATE_VALUE                                    NUMBER
</pre><p>The <code class="codeph">theme_colname</code> column must have a spatial index defined on it. For best performance, insert simplified geometries into this column.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1074B640-8614-4EB6-9149-B60D2FB19363__GUID-9831CCC5-CB60-4C4B-934D-09BF1B7EC257">Examples</p>
                     <p>The following example computes the thematic aggregates for all geometries in a table named TEST_TAB for an area with a 3-mile radius around a specified point geometry. In this case, the total population of each area is computed based on the proportion of the circle's area within different counties, assuming uniform distribution of population within the counties.</p><pre class="oac_no_warn" dir="ltr">SELECT a.aggregate_value FROM TABLE(sdo_sam.aggregates_for_layer(
  'GEOD_COUNTIES', 'GEOM', 'SUM', TOTPOP', TEST_TAB', 'GEOM'
    'distance=3 unit=mile')) a;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1199"></a><div class="props_rev_3"><a id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B"></a><h3 id="SPATL-GUID-39661C3E-314A-45FF-B02D-FD988C32E96B" class="sect3"><span class="enumeration_section">31.3 </span>SDO_SAM.BIN_GEOMETRY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1623B60D-CCCF-4415-96E4-4AC118DCFAE5">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_GEOMETRY(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom          IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tol           IN SDO_DIM_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_tablename IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_colname   IN VARCHAR2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">
SDO_SAM.BIN_GEOMETRY(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom           IN SDO_GEOMETRY,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim           IN SDO_DIM_ARRAY,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_tablename IN VARCHAR2,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_colname   IN VARCHAR2 &nbsp;
 &nbsp;&nbsp;&nbsp;&nbsp;) RETURN NUMBER;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-D376C100-C7BD-4132-9214-702384AF31DF">Description</p>
                     <p>Computes the most-intersecting tile for a geometry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-3C737181-A785-4055-A841-863CD27AD74B">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-70FC0702-203C-48C1-8542-1AA7628A64D7">
                              <!-- --></a>geom
                        </dt>
                        <dd>
                           <p>Geometry for which to compute the bin.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5D84F8F6-29CE-4E46-85EF-91DDE5E7C5BD">
                              <!-- --></a>tol
                        </dt>
                        <dd>
                           <p>Tolerance value (see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-898E6D93-1926-4A37-ABD2-DF096E2A22BA">
                              <!-- --></a>dim
                        </dt>
                        <dd>
                           <p>Dimensional array for the table that holds the geometries for the bins.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-1E79D5EE-EB43-46C8-84D0-A093FC266FF0">
                              <!-- --></a>bin_tablename
                        </dt>
                        <dd>
                           <p>Name of the table that holds the geometries for the bins.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-CA2BFE2C-C24E-40FA-B93D-D98EBEA8F86E">
                              <!-- --></a>bin_colname
                        </dt>
                        <dd>
                           <p>Column in <code class="codeph">bin_tablename</code> that holds the geometries for the bins.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-5104A8B9-AACB-49E3-9903-1F7E225E7C0D">Usage Notes</p>
                     <p>This function returns the bin that intersects most with the specified geometry. If multiple bins intersect to the same extent with the specified geometry, the bin with the smallest area is returned.</p>
                     <p>To perform this operation on all rows in the data mining table, using the specified <code class="codeph">bin_tablename</code>, you can use the <a href="SDO_SAM-reference.html#GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0">SDO_SAM.BIN_LAYER</a> procedure.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-39661C3E-314A-45FF-B02D-FD988C32E96B__GUID-84E28D96-2B24-47E8-8325-4F5F3A3C1832">Examples</p>
                     <p>The following example computes the bin for a specified geometry.</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.bin_geometry(a.geometry, 0.0000005, 'BINTBL', 'GEOMETRY')
  FROM poly_4pt a, user_sdo_geom_metadata b
  WHERE b.table_name='POLY_4PT' AND a.gid=1;
 
SDO_SAM.BIN_GEOMETRY(A.GEOMETRY,0.0000005,'BINTBL','GEOMETRY')
--------------------------------------------------------------
                                                            43
 
1 row selected.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1200"></a><div class="props_rev_3"><a id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0"></a><h3 id="SPATL-GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0" class="sect3"><span class="enumeration_section">31.4 </span>SDO_SAM.BIN_LAYER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-6A8C37CE-E1A9-4917-BF51-756E02DFEBF0">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.BIN_LAYER(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tablename       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colname         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_tablename   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_colname     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bin_id_colname  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit_interval IN NUMBER DEFAULT 20);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-0A8E08B5-E792-4147-8A64-2B3AB8F59478">Description</p>
                     <p>Assigns each location (and the corresponding row) in a data mining table to a spatial bin.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A970D422-27BA-4B1C-BCC3-75583A11D2BF">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-DD371940-C6CC-40AF-9F32-39333C388218">
                              <!-- --></a>tablename
                        </dt>
                        <dd>
                           <p>Name of the data mining table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-2435B8D1-3020-470F-865C-532A7A02F7E8">
                              <!-- --></a>colname
                        </dt>
                        <dd>
                           <p>Name of the column in <code class="codeph">table_name</code> that holds the location coordinates.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-ABA4B7AC-D7E5-4AC9-A3B7-C0D7D1232A02">
                              <!-- --></a>bin_tablename
                        </dt>
                        <dd>
                           <p>Name of the table that contains information (precomputed for the entire two-dimensional space) about the spatial bins.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-A98BF70D-4491-4DD3-9D98-AF2F48961D40">
                              <!-- --></a>bin_colname
                        </dt>
                        <dd>
                           <p>Column in <code class="codeph">bin_tablename</code> that holds the geometries for the bins.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-CBAE3ED4-C626-4F5F-A9ED-E468489AFED3">
                              <!-- --></a>bin_id_colname
                        </dt>
                        <dd>
                           <p>Name of the column in the data mining table that holds the bin ID value of each geometry added to a bin. (Each affected row in the data mining table is updated with the ID value of the bin geometry in <code class="codeph">bin_tablename</code>.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-EDAFFFCA-EF4D-449C-BB31-CEB0F536CF7F">
                              <!-- --></a>commit_interval
                        </dt>
                        <dd>
                           <p>Number of bin insert operations to perform before Spatial and Graph performs an internal commit operation. If <code class="codeph">commit_interval</code> is not specified, a commit is performed after every 20 insert operations.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-5E7D0E87-7802-4F16-8F6A-47EDA41507B4">Usage Notes</p>
                     <p>This procedure computes the most-intersecting tile for each geometry in a specified layer using the bins in <code class="codeph">bin_tablename</code>. The bin ID value for each geometry is added in <code class="codeph">bin_id_colname</code>.
                     </p>
                     <p>Using this procedure achieves the same result as using the <a href="SDO_SAM-reference.html#GUID-39661C3E-314A-45FF-B02D-FD988C32E96B">SDO_SAM.BIN_GEOMETRY</a> function on each row in the data mining table, using the specified <code class="codeph">bin_tablename</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EAC8B89-CAD1-43BA-93A7-36901E6B45E0__GUID-59AB03EC-D3F9-4897-BF5B-918B9641CDC6">Examples</p>
                     <p>The following example assigns each GEOMETRY column location and corresponding row in the POLY_4PT_TEMP data mining table to a spatial bin, and performs an internal commit operation after each bin table insertion.</p><pre class="oac_no_warn" dir="ltr">CALL SDO_SAM.BIN_LAYER('POLY_4PT_TEMP', 'GEOMETRY', 'BINTBL', 'GEOMETRY', 'BIN_ID', 1);</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1201"></a><div class="props_rev_3"><a id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9"></a><h3 id="SPATL-GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9" class="sect3"><span class="enumeration_section">31.5 </span>SDO_SAM.COLOCATED_REFERENCE_FEATURES
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-588B9E7A-BB6B-4EDA-B7D6-326A8A66747D">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.COLOCATED_REFERENCE_FEATURES(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_tablename  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_colname    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_predicate  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tablename        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colname          IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ref_predicate    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst_spec         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result_tablename IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit_interval  IN NUMBER DEFAULT 100);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-5EF96F86-14A9-44A6-A31C-107E15A58DBC">Description</p>
                     <p>Performs a partial predicate-based join of tables, and materializes the join results into a table.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-D433CBD3-7D02-4B5D-AB45-9355851A9EF0">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-A2500CAD-0549-43A2-A042-834E91083EF8">
                              <!-- --></a>theme_tablename
                        </dt>
                        <dd>
                           <p>Name of the table with which to join <code class="codeph">tablename</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-50B99A66-CB0F-4844-9BDD-1CDCA484D3B0">
                              <!-- --></a>theme_colname
                        </dt>
                        <dd>
                           <p>Name of the geometry column in <code class="codeph">theme_tablename</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DB28F04B-F5F3-4D64-B038-2C259C6C7CBA">
                              <!-- --></a>theme_predicate
                        </dt>
                        <dd>
                           <p>Qualifying WHERE clause predicate to be applied to <code class="codeph">theme_tablename</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-B77F1A7A-8AED-4730-A022-2FEB31BABE79">
                              <!-- --></a>tablename
                        </dt>
                        <dd>
                           <p>Name of the data mining table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-DA086059-2B83-4224-B454-82BF63031A76">
                              <!-- --></a>colname
                        </dt>
                        <dd>
                           <p>Name of the column in <code class="codeph">tablename</code> that holds the location coordinates.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-9485B362-AAF0-4A3D-9350-0ED4F5F3A8A1">
                              <!-- --></a>ref_predicate
                        </dt>
                        <dd>
                           <p>Qualifying WHERE clause predicate to be applied to <code class="codeph">tablename</code>. Must a null or non-null value: if null, no predicate is applied; if non-null, it must be a single table predicate, such as <code class="codeph">'country_code=10'.</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-298E0F26-2220-4B75-97E5-5D87B2559659">
                              <!-- --></a>dst_spec
                        </dt>
                        <dd>
                           <p>A quoted string containing a distance value and optionally a unit value for a buffer around the geometries. See the Usage Notes for an explanation of the format and meaning.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-2D8D137C-7BF8-4BB1-98D5-5EECACFE316D">
                              <!-- --></a>result_tablename
                        </dt>
                        <dd>
                           <p>The table in which materialized join results are stored. This table must exist and must have the following definition: <code class="codeph">(tid NUMBER, rid1 VARCHAR2(24), rid2 VARCHAR2(24))</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F1207747-8A1C-419E-B194-C2E5730A6E01">
                              <!-- --></a>commit_interval
                        </dt>
                        <dd>
                           <p>Number of internal join operations to perform before Spatial and Graph performs an internal commit operation. If <code class="codeph">commit_interval</code> is not specified, a commit is performed after every 100 internal join operations.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-F2D9A10C-4442-4C52-8978-E1D109798F20">Usage Notes</p>
                     <p>This procedure materializes each pair of rowids returned from a predicate-based join operation, and stores them in the <code class="codeph">rid1, rid2</code> columns of <code class="codeph">result_tablename</code>. The <code class="codeph">tid</code> is a unique generated "interaction" number corresponding to each <code class="codeph">rid1</code> value.
                     </p>
                     <p>The <code class="codeph">dst_spec</code> parameter, if specified, is a quoted string containing the <code class="codeph">distance</code> keyword and optionally the <code class="codeph">unit</code> keyword (unit of measurement associated with the distance value), to specify a buffer around the geometry. For example, <code class="codeph">'distance=2 unit=km'</code> specifies a 2-kilometer buffer around the input geometry. If <code class="codeph">dst_spec</code> is not specified, no buffer is used.
                     </p>
                     <p>If the <code class="codeph">unit</code> keyword is specified, the value must be an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code class="codeph">'unit=KM'</code>). If the <code class="codeph">unit</code> keyword is not specified, the unit of measurement associated with the geometry is used. See <a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a> for more information about unit of measurement specification.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6BDC5ADF-A8C6-42CB-A49C-4FBED9C5B6D9__GUID-3AE34706-2BFE-4238-8D1D-1A7405759026">Examples</p>
                     <p>The following example identifies cities with a 1990 population (POP90 column value) greater than 120,000 that are located within 20 kilometers of interstate highways (GEOM column in the GEOD_INTERSTATES table). It stores the results in a table named COLOCATION_TABLE, and performs an internal commit operation after each 20 internal operations.</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_SAM.COLOCATED_REFERENCE_FEATURES(
  'geod_cities', 'location', 'pop90 &gt; 120000',
  'geod_interstates', 'geom', null,
  'distance=20 unit=km', 'colocation_table', 20);</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1202"></a><div class="props_rev_3"><a id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C" name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C"></a><h3 id="SPATL-GUID-3811D8E9-1355-4527-BD65-D43B3631079C" class="sect3"><span class="enumeration_section">31.6 </span>SDO_SAM.SIMPLIFY_GEOMETRY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-5E0C0299-629E-4BB9-A2E1-5E804B05B9D2">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom                  IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim                   IN SDO_DIM_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pct_area_change_limit IN NUMBER DEFAULT 2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_GEOMETRY(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geom                  IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tol                   IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pct_area_change_limit IN NUMBER DEFAULT 2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_GEOMETRY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-D2B9803B-1268-40E7-B747-242EFA2F8BD9">Description</p>
                     <p>Simplifies a geometry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-9B3DA3EE-ABDF-4994-B5C2-4134B5D5B180">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-4B60ACD6-14FD-4392-BE85-E33F89A580D0">
                              <!-- --></a>geom
                        </dt>
                        <dd>
                           <p>Geometry to be simplified.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-0806048B-BB1B-464D-BD59-F3CF6C1F8996">
                              <!-- --></a>dim
                        </dt>
                        <dd>
                           <p>Dimensional array for the geometry to be simplified.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-BD100873-24FF-4027-8586-415504095051">
                              <!-- --></a>tol
                        </dt>
                        <dd>
                           <p>Tolerance value (see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-88EC033E-861B-41DD-81FE-FA05D8714590">
                              <!-- --></a>pct_area_change_limit
                        </dt>
                        <dd>
                           <p>The percentage of area changed to be used for each simplification iteration, as explained in the Usage Notes.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-946D446D-C25A-46EA-98A8-0ADB84E4CB23">Usage Notes</p>
                     <p>This function reduces the number of vertices in a geometry by internally applying the <a href="SDO_UTIL-reference.html#GUID-1013175B-8A1A-45F7-BC60-A3DF5B109BEF">SDO_UTIL.SIMPLIFY</a> function (documented in <a href="SDO_UTIL-reference.html#GUID-7A79F1C4-FABF-432A-AF94-9E9CB23BBFBA" title="The MDSYS.SDO_UTIL package contains spatial utility subprograms."> SDO_UTIL Package (Utility)</a>) with an appropriate threshold value.
                     </p>
                     <p>Reducing the number of vertices may result in a change in the area of the geometry. The <code class="codeph">pct_area_change_limit</code> parameter specifies how much area change can be tolerated while simplifying the geometry. It is usually a number from 1 to 100. The default value is 2; that is, the area of the geometry can either increase or decrease by at most two percent compared to the original geometry as a result of the geometry simplification.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3811D8E9-1355-4527-BD65-D43B3631079C__GUID-60571175-F53B-420A-9AE8-66FCB943385E">Examples</p>
                     <p>The following example simplifies the geometries in the GEOMETRY column of the POLY_4PT_TEMP table.</p><pre class="oac_no_warn" dir="ltr">SELECT sdo_sam.simplify_geometry(a.geometry, 0.00000005)
  FROM poly_4pt_temp a, user_sdo_geom_metadata b
  WHERE b.table_name='POLY_4PT_TEMP' ;
 
SDO_SAM.SIMPLIFY_GEOMETRY(A.GEOMETRY,0.00000005)(ORIG_AREA, CUR_AREA, ORIG_LEN,
--------------------------------------------------------------------------------
SDO_SMPL_GEOMETRY(28108.5905, 28108.5905, 758.440118, 758.440118, SDO_GEOMETRY(2
003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), SDO_ORDINATE_ARRAY(-122.4215,
37.7862, -122.422, 37.7869, -122.421, 37.789, -122.42, 37.7866, -122.4215, 37.78
62)))
 
SDO_SMPL_GEOMETRY(4105.33806, 4105.33806, 394.723053, 394.723053, SDO_GEOMETRY(2
003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 1), SDO_ORDINATE_ARRAY(-122.4019,
37.8052, -122.4027, 37.8055, -122.4031, 37.806, -122.4012, 37.8052, -122.4019, 3
7.8052)))
   . 
   . 
   . 
50 rows selected.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1203"></a><div class="props_rev_3"><a id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951"></a><h3 id="SPATL-GUID-EC873FC0-BDFB-45D8-9F78-81112497D951" class="sect3"><span class="enumeration_section">31.7 </span>SDO_SAM.SIMPLIFY_LAYER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-6EDC5AAD-FF95-47B9-8603-0C484EF38586">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SIMPLIFY_LAYER(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_tablename       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_colname         IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;smpl_geom_colname     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commit_interval       IN NUMBER DEFAULT 10, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pct_area_change_limit IN NUMBER DEFAULT 2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-40FA0858-925E-4B1D-B272-2736A66C948D">Description</p>
                     <p>Simplifies a geometry layer.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-CAAB27EC-30A6-49EB-BC99-0E0E1F896FDE">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-8E51025A-0861-4A82-93B9-9BF4A14BAFC7">
                              <!-- --></a>theme_tablename
                        </dt>
                        <dd>
                           <p>Name of the table containing the geometry layer to be simplified.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3F6A08A8-DA47-418C-8AB4-A718AC27D8A9">
                              <!-- --></a>theme_colname
                        </dt>
                        <dd>
                           <p>Column in <code class="codeph">theme_tablename</code> of type SDO_GEOMETRY containing the geometries to be simplified.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-646E3D62-3F2C-4358-8D47-FADD52940D5B">
                              <!-- --></a>smpl_geom_colname
                        </dt>
                        <dd>
                           <p>Column in <code class="codeph">theme_tablename</code> of type SDO_GEOMETRY into which the simplified geometries are to be placed by this procedure.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-3809B5D3-96A3-48CF-96EE-92E760D0F827">
                              <!-- --></a>commit_interval
                        </dt>
                        <dd>
                           <p>Number of geometries to simplify before Spatial and Graph performs an internal commit operation. If <code class="codeph">commit_interval</code> is not specified, a commit is performed after every 10 simplification operations.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-D0E2A417-AD80-4412-AA1D-2BF721E467AC">
                              <!-- --></a>pct_area_change_limit
                        </dt>
                        <dd>
                           <p>The percentage of area changed to be used for each simplification iteration, as explained in the Usage Notes for the <a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a> function.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-7493F3C7-19F6-40F3-A2D3-E3427537F1B7">Usage Notes</p>
                     <p>This procedure simplifies all geometries in a layer. It is equivalent to calling the <a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a> function for each geometry in the layer, except that each simplified geometry is put in a separate column in the table instead of being returned to the caller. See also the Usage Notes for the <a href="SDO_SAM-reference.html#GUID-3811D8E9-1355-4527-BD65-D43B3631079C">SDO_SAM.SIMPLIFY_GEOMETRY</a> function.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EC873FC0-BDFB-45D8-9F78-81112497D951__GUID-696AD47E-DECE-43E5-9C8C-884E5305A906">Examples</p>
                     <p>The following example adds a column named SMPL_GEOM to the POLY_4PT_TEMP table, then simplifies all geometries in the GEOMETRY column of the POLY_4PT_TEMP table, placing each simplified geometry in the SMPL_GEOM column in the same row with its associated original geometry.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE poly_4pt_temp ADD (smpl_geom mdsys.sdo_geometry);
 
Table altered.
 
EXECUTE sdo_sam.simplify_layer('POLY_4PT_TEMP', 'GEOMETRY', 'SMPL_GEOM');
 
PL/SQL procedure successfully completed.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1204"></a><div class="props_rev_3"><a id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252"></a><h3 id="SPATL-GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252" class="sect3"><span class="enumeration_section">31.8 </span>SDO_SAM.SPATIAL_CLUSTERS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-9E62BA01-E775-4D7C-A525-409FE6096383">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.SPATIAL_CLUSTERS(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tablename      IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colname        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_clusters   IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow_outliers IN VARCHAR2 DEFAULT 'TRUE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tablepartition IN VARCHAR2 DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-382302D8-F6DA-4B6C-B8C8-66E720E002A8">Description</p>
                     <p>Computes clusters using the existing R-tree index, and returns a set of SDO_REGION objects where the geometry column specifies the boundary of each cluster and the <code class="codeph">geometry_key</code> value is set to null.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-B6F244AF-D495-451D-8E13-8F076EE4E8C9">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-91B2ABC4-BA85-4219-B841-533332923D49">
                              <!-- --></a>tablename
                        </dt>
                        <dd>
                           <p>Name of the data mining table.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-1CFEADD8-332B-4C34-9996-812192630887">
                              <!-- --></a>colname
                        </dt>
                        <dd>
                           <p>Name of the column in <code class="codeph">tablename</code> that holds the location coordinates.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-0761FEA1-8D24-410B-BEC1-5CFFB588205C">
                              <!-- --></a>max_clusters
                        </dt>
                        <dd>
                           <p>Maximum number of clusters to obtain.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-116710A8-4871-43B4-B294-7A7D534D8188">
                              <!-- --></a>allow_outliers
                        </dt>
                        <dd>
                           <p><code class="codeph">TRUE</code> (the default) causes outlying values (isolated instances) to be included in the spatial clusters; <code class="codeph">FALSE</code> causes outlying values not to be included in the spatial clusters. (<code class="codeph">TRUE</code> accommodates all data and may result in larger clusters; <code class="codeph">FALSE</code> may exclude some data and may result in smaller clusters.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-178D1878-FE25-44D9-81DC-9982A82D6C62">
                              <!-- --></a>tablepartition
                        </dt>
                        <dd>
                           <p>Name of the partition in <code class="codeph">tablename</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-952E1585-749D-40B2-B4FA-7346B36D08BB">Usage Notes</p>
                     <p>The clusters are computed using the spatial R-tree index on <code class="codeph">tablename</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-355D79C5-C25A-49C4-9FF7-09D79C55B252__GUID-FE5FCF8C-7B90-4246-B832-17DBCE086605">Examples</p>
                     <p>The following example clusters the locations in cities into at most three clusters, and includes outlying values in the clusters.</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM
  TABLE(sdo_sam.spatial_clusters('PROJ_CITIES', 'LOCATION', 3, 'TRUE'));</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1205"></a><div class="props_rev_3"><a id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9"></a><h3 id="SPATL-GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9" class="sect3"><span class="enumeration_section">31.9 </span>SDO_SAM.TILED_AGGREGATES
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-BF0A8284-CE97-4F25-ADCB-C22DB1B0C4C5">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_AGGREGATES(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_name       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;theme_colname    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_type_string IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggr_col_string  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiling_level     IN NUMBER DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiling_domain    IN SDO_DIM_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zero_agg_tiles   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xdivs            IN NUMBER DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ydivs            IN NUMBER DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_REGAGGRSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D423E7E5-22E7-4456-A803-853F91C445A3">Description</p>
                     <p>Tiles aggregates for a domain. For each tile, computes the intersecting geometries from the theme table; the values in the <code class="codeph">aggr_col_string</code> column are weighted proportionally to the area of the intersection, and aggregated according to <code class="codeph">aggr_col_string</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-5EA53CD9-BF9E-410F-83EE-396AF4DB5A9B">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-7AB9D1B6-641E-4BA0-B80D-CBF92BCAABE0">
                              <!-- --></a>theme_name
                        </dt>
                        <dd>
                           <p>Table containing theme information (for example, demographic information).</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-9107E2B3-514D-4EF2-9DAC-702405114D37">
                              <!-- --></a>theme_colname
                        </dt>
                        <dd>
                           <p>Name of the column in the <code class="codeph">theme_name</code> table that contains geometry objects.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-F3FE657B-8318-4693-9CE8-16778ABBB1A4">
                              <!-- --></a>aggr_type_string
                        </dt>
                        <dd>
                           <p>Any Oracle SQL aggregate function that accepts one or more numeric values and computes a numeric value, such as <code class="codeph">SUM</code>, <code class="codeph">MIN</code>, <code class="codeph">MAX</code>, or <code class="codeph">AVG</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-6344ECF0-7F7F-4122-A315-B39EDB7835DE">
                              <!-- --></a>aggr_col_string
                        </dt>
                        <dd>
                           <p>Name of a column in the <code class="codeph">theme_name</code> table on which to compute aggregate values. An example might be a POPULATION column.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-29546E17-5DBF-407B-B2CB-DFEDA7926274">
                              <!-- --></a>tiling_level
                        </dt>
                        <dd>
                           <p>Level to be used to create tiles. If you specify this parameter, the extent of each dimension is divided into 2^<code class="codeph">tiling_level</code> parts, resulting in at most 4*<code class="codeph">tiling_level</code> tiles. (Specify either this parameter or the combination of the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-539FE5F1-C318-4EE1-B3D6-689735060382">
                              <!-- --></a>tiling_domain
                        </dt>
                        <dd>
                           <p>Domain for the tiling level. The parameter is not required, and if you do not specify it, the extent associated with the <code class="codeph">theme_name</code> table is used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-013D2546-9DCA-4175-99E9-4F1D1927D45E">
                              <!-- --></a>zero_agg_tiles
                        </dt>
                        <dd>
                           <p>Specify 0 to exclude tiles that have a value of 0 for the computed aggregate, or specify 1 to return all tiles. The default value is 0, which ensures that only tiles with a nonzero aggregate value are returned.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-0A76D078-AD2D-4CA9-BF63-A1941B9748B1">
                              <!-- --></a>xdivs
                        </dt>
                        <dd>
                           <p>The number of times that the extent in the first dimension is divided, such that the total number of parts is <code class="codeph">xdivs</code> + 1. For example, if you specify 10 for <code class="codeph">xdivs</code>, the extent of the first dimension is divided into 11 parts.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-D9B8A566-ECB3-4BCB-8CEF-65DC22A9CEF3">
                              <!-- --></a>ydivs
                        </dt>
                        <dd>
                           <p>The number of times that the extent in the second dimension is divided, such that the total number of parts is <code class="codeph">ydivs</code> + 1. For example, if you specify 10 for <code class="codeph">ydivs</code>, the extent of the second dimension is divided into 11 parts.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-1E1196A9-6CDB-4007-8D49-2898ACC3965A">Usage Notes</p>
                     <p>This function is similar to <a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a>, but the results are dynamically generated using tiling information. Given a <code class="codeph">theme_name</code> table, the tiling domain is determined. Based on the <code class="codeph">tiling_level</code> value or the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> values, the necessary tiles are generated. For each tile geometry, thematic aggregates are computed as described in the Usage Notes for <a href="SDO_SAM-reference.html#GUID-1074B640-8614-4EB6-9149-B60D2FB19363">SDO_SAM.AGGREGATES_FOR_LAYER</a>.
                     </p>
                     <p>You must specify either the <code class="codeph">tiling_level</code> parameter or both the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters. If you specify all three of these parameters, the <code class="codeph">tiling_level</code> parameter is ignored and the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters are used.
                     </p>
                     <p>If you specify the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters, the total number of grids (tiles) returned is <code class="codeph">(xdivs+1)*(ydivs+1)</code>.
                     </p>
                     <p><a id="d152862e1765" class="indexterm-anchor"></a><a id="d152862e1767" class="indexterm-anchor"></a>This function returns an object of type SDO_REGAGGRSET. The SDO_REGAGGRSET object type is defined as:
                     </p><pre class="oac_no_warn" dir="ltr">TABLE OF SDO_REGAGGR
</pre><p>The SDO_REGAGGR object type is defined as:</p><pre class="oac_no_warn" dir="ltr"> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 REGION_ID                                          VARCHAR2(24)
 GEOMETRY                                           MDSYS.SDO_GEOMETRY
 AGGREGATE_VALUE                                    NUMBER</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C5D1129-147F-4E79-846A-7EEA1F1221E9__GUID-8F107816-2C56-4991-9D0C-825026B118D5">Examples</p>
                     <p>The following example computes the sum of the population rows of POLY_4PT_TEMP table intersecting with each tile. The extent of the POLY_4PT_TEMP table stored in the USER_SDO_GEOM_METADATA view is used as the domain, and a tiling level of 2 is used (that is, the domain is divided into 16 tiles).</p><pre class="oac_no_warn" dir="ltr">SELECT a.geometry, a.aggregate_value
  from TABLE(sdo_sam.tiled_aggregates('POLY_4PT_TEMP',
                        'GEOMETRY', 'SUM', 'POPULATION', 2)) a;
 
GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
--------------------------------------------------------------------------------
AGGREGATE_VALUE
---------------
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-180, -90, -90, -45))
     .007150754
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-180, -45, -90, 0))
     .034831005
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-180, 0, -90, 45))
     7.73307783
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-90, -90, 0, -45))
     .019498368
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-90, -45, 0, 0))
     .939061456
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-90, 0, 0, 45))
     1.26691592
 
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(0, 0, 90, 45))
             40
 
7 rows selected.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1206"></a><div class="props_rev_3"><a id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB"></a><h3 id="SPATL-GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB" class="sect3"><span class="enumeration_section">31.10 </span>SDO_SAM.TILED_BINS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0E82679D-4952-4FAC-BEF5-86C389CA6CC3">Format</p><pre class="oac_no_warn" dir="ltr">SDO_SAM.TILED_BINS(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1           IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u1           IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2           IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u2           IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiling_level IN NUMBER DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srid         IN NUMBER DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xdivs        IN NUMBER DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ydivs        IN NUMBER DEFAULT NULL 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN SDO_REGIONSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-E8C35E0A-3075-4EDA-A469-E8DBE59B0DCE">Description</p>
                     <p>Tiles a two-dimensional space and returns geometries corresponding to those tiles.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-143C5274-569E-4375-A44D-34746279BEC3">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-D2A11A77-F54B-4FEE-BA1A-A422DF31D5F8">
                              <!-- --></a>l1
                        </dt>
                        <dd>
                           <p>Lower bound of the extent in the first dimension.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-C141B1B2-FB3C-4E4B-9F9D-0598B76FFD16">
                              <!-- --></a>u1
                        </dt>
                        <dd>
                           <p>Upper bound of the extent in the first dimension.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-0ED4DA4C-2B18-4018-B109-3F1493EF45C9">
                              <!-- --></a>l2
                        </dt>
                        <dd>
                           <p>Lower bound of the extent in the second dimension.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-06126713-8F1F-4111-BDEA-1FDFEDFDE0C7">
                              <!-- --></a>u2
                        </dt>
                        <dd>
                           <p>Upper bound of the extent in the second dimension.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9AECFB8A-B5F7-4785-A6FD-F644736FA7D2">
                              <!-- --></a>tiling_level
                        </dt>
                        <dd>
                           <p>Level to be used to tile the specified extent. If you specify this parameter, the extent of each dimension is divided into 2^<code class="codeph">tiling_level</code> parts, resulting in at most 4*<code class="codeph">tiling_level</code> tiles. (Specify either this parameter or the combination of the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-9FEF4902-04F1-4B68-AD95-8B0EF3DEA50E">
                              <!-- --></a>srid
                        </dt>
                        <dd>
                           <p>SRID value to be included for the coordinate system in the returned tile geometries.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-1A57B873-2A82-48EA-9E0C-A770A3EE71EB">
                              <!-- --></a>xdivs
                        </dt>
                        <dd>
                           <p>The number of times that the extent in the first dimension is divided, such that the total number of parts is <code class="codeph">xdivs</code> + 1. For example, if you specify 10 for <code class="codeph">xdivs</code>, the extent of the first dimension is divided into 11 parts.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-B8583327-AF38-476B-B8FD-F2A5C38D85D0">
                              <!-- --></a>ydivs
                        </dt>
                        <dd>
                           <p>The number of times that the extent in the second dimension is divided, such that the total number of parts is <code class="codeph">ydivs</code> + 1. For example, if you specify 10 for <code class="codeph">ydivs</code>, the extent of the second dimension is divided into 11 parts.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-4D7DF381-136E-489A-BDA7-E8077600B6B7">Usage Notes</p>
                     <p>You must specify either the <code class="codeph">tiling_level</code> parameter or both the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters. If you specify all three of these parameters, the <code class="codeph">tiling_level</code> parameter is ignored and the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters are used.
                     </p>
                     <p>If you specify the <code class="codeph">xdivs</code> and <code class="codeph">ydivs</code> parameters, the total number of grids (tiles) returned is <code class="codeph">(xdivs+1)*(ydivs+1)</code>.
                     </p>
                     <p><a id="d152862e1977" class="indexterm-anchor"></a><a id="d152862e1979" class="indexterm-anchor"></a>This function returns an object of type SDO_REGIONSET. The SDO_REGIONSET object type is defined as:
                     </p><pre class="oac_no_warn" dir="ltr">TABLE OF SDO_REGION
</pre><p>The SDO_REGION object type is defined as:</p><pre class="oac_no_warn" dir="ltr">Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                                 NUMBER
 GEOMETRY                                           MDSYS.SDO_GEOMETRY</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A782F8F-2036-4271-B628-A6D90A79C3FB__GUID-6BF490CF-8254-4971-89D9-942E315F5EE8">Examples</p>
                     <p>The following example tiles the entire Earth's surface at the first tiling level, using the standard longitude and latitude coordinate system (SRID 8307). The resulting SDO_REGIONSET object contains four SDO_REGION objects, one for each tile.</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE(sdo_sam.tiled_bins(-180, 180, -90, 90, 1, 8307))
  ORDER BY id;
 
        ID
----------
GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
--------------------------------------------------------------------------------
         0
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-180, -90, 0, 0))
 
         1
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(-180, 0, 0, 90))
 
         2
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(0, -90, 180, 0))
 
         3
SDO_GEOMETRY(2003, 8307, NULL, SDO_ELEM_INFO_ARRAY(1, 1003, 3), SDO_ORDINATE_ARR
AY(0, 0, 180, 90))
 
4 rows selected.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_SAM-reference.html#GUID-60C6A33E-1CE1-4FE6-AC03-16EE11E97FDC" title="The MDSYS.SDO_SAM package contains subprograms for spatial analysis and data mining.">SDO_SAM Package (Spatial Analysis and Mining)</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>