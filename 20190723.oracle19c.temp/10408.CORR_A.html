<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CORR_*</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CORR.html" title="Previous" type="text/html">
      <link rel="next" href="COS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CORR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="COS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CORR_* </li>
            </ol>
            <a id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23" name="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23"></a><a id="SQLRF51301"></a><a id="SQLRF51302"></a><a id="SQLRF51303"></a><a id="SQLRF51304"></a><a id="SQLRF06314"></a>
            
            <h2 id="SQLRF-GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23" class="sect2">CORR_* </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The <code class="codeph">CORR_</code>* functions are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">CORR_S</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CORR_K</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-CC98C902-990F-4462-BFBA-275FA7B40D7A">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-9FAAF03F-E9CE-470F-929B-AC5B1732FE9C"><span class="italic">correlation</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-4BB6A2A7-711C-42A5-9997-D85CD7632FB8"><img src="img/correlation.gif" alt="Description of correlation.eps follows" title="Description of correlation.eps follows" longdesc="img_text/correlation.html"><br><a href="img_text/correlation.html">Description of the illustration correlation.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-D132924A-E759-4AE9-9AB6-0666F83620D7">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The <code class="codeph">CORR</code> function (see <a href="CORR.html#GUID-E73AF5E2-38A4-436A-955C-5122C079F49C">CORR</a>) calculates the Pearson's correlation coefficient and requires numeric expressions as input. The <code class="codeph">CORR_</code>* functions support nonparametric or rank correlation. They let you find correlations between expressions that are ordinal scaled (where ranking of the values is possible). Correlation coefficients take on a value ranging from -1 to 1, where 1 indicates a perfect relationship, -1 a perfect inverse relationship (when one variable increases as the other decreases), and a value close to 0 means no relationship.
                  </p>
                  <p>These functions takes as arguments any numeric data type or any nonnumeric data type that can be implicitly converted to a numeric data type. Oracle Database determines the argument with the highest numeric precedence, implicitly converts the remaining arguments to that data type, makes the calculation, and returns <code class="codeph">NUMBER</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-DEB4763E-EEBE-40E4-97A4-FD062A5C87B7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="This matrix lists the data types in the first column and in the header cell for each subsequent column. An X in a cell indicates implicit conversion of the data types named in the header of that column and column 1 of that row.">Table 2-8</a> for more information on implicit conversion and <a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">Numeric Precedence</a> for information on numeric precedence
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for the collation determination rules, which define the collation <code class="codeph">CORR_K</code> and <code class="codeph">CORR_S</code> use to compare characters from <span class="italic"><code class="codeph">expr1</code></span> with characters from <span class="italic"><code class="codeph">expr2</code></span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="italic"><code class="codeph">expr1</code></span> and <span class="italic"><code class="codeph">expr2</code></span> are the two variables being analyzed. The third argument is a return value of type <code class="codeph">VARCHAR2</code>. If you omit the third argument, then the default is <code class="codeph">COEFFICIENT</code>. The meaning of the return values is shown in the table that follows:
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-B2DED35A-2ECE-4DF0-BDA4-28F28B7BCA23__GUID-AB5A91D9-9BA9-4F91-90A7-E0C457FDB889">
                  <p class="titleintable">Table 7-2 CORR_* Return Values</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="CORR_* Return Values" summary="The first column lists the values you can specify for the return value of the function and the second column explains how each value is interpreted." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="31%" id="d114444e234">Return Value</th>
                           <th align="left" valign="bottom" width="69%" id="d114444e237">Meaning</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d114444e242" headers="d114444e234 ">
                              <p><code class="codeph">COEFFICIENT</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d114444e242 d114444e237 ">
                              <p>Coefficient of correlation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d114444e250" headers="d114444e234 ">
                              <p><code class="codeph">ONE_SIDED_SIG</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d114444e250 d114444e237 ">
                              <p>Positive one-tailed significance of the correlation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d114444e258" headers="d114444e234 ">
                              <p><code class="codeph">ONE_SIDED_SIG_POS</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d114444e258 d114444e237 ">
                              <p>Same as <code class="codeph">ONE_SIDED_SIG</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d114444e268" headers="d114444e234 ">
                              <p><code class="codeph">ONE_SIDED_SIG_NEG</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d114444e268 d114444e237 ">
                              <p>Negative one-tailed significance of the correlation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d114444e276" headers="d114444e234 ">
                              <p><code class="codeph">TWO_SIDED_SIG</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d114444e276 d114444e237 ">
                              <p>Two-tailed significance of the correlation</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="SQLRF51306"></a><a id="SQLRF51305"></a><div class="props_rev_3"><a id="GUID-CD1CCD1A-11DD-4FB2-9D3B-342DAA96128B" name="GUID-CD1CCD1A-11DD-4FB2-9D3B-342DAA96128B"></a><h3 id="SQLRF-GUID-CD1CCD1A-11DD-4FB2-9D3B-342DAA96128B" class="sect3">CORR_S </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">CORR_S</code> calculates the Spearman's rho correlation coefficient. The input expressions should be a set of (x<sub>i</sub>, y<sub>i</sub>) pairs of observations. The function first replaces each value with a rank. Each value of x<sub>i</sub> is replaced with its rank among all the other x<sub>i</sub>s in the sample, and each value of y<sub>i</sub> is replaced with its rank among all the other y<sub>i</sub>s. Thus, each x<sub>i</sub> and y<sub>i</sub> take on a value from 1 to <span class="italic"><code class="codeph">n</code></span>, where <span class="italic"><code class="codeph">n</code></span> is the total number of pairs of values. Ties are assigned the average of the ranks they would have had if their values had been slightly different. Then the function calculates the linear correlation coefficient of the ranks.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD1CCD1A-11DD-4FB2-9D3B-342DAA96128B__GUID-95D22B21-1893-444E-AA06-B366D953432B">CORR_S Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Using Spearman's rho correlation coefficient, the following example derives a coefficient of correlation for each of two different comparisons -- <code class="codeph">salary</code> and <code class="codeph">commission_pct</code>, and <code class="codeph">salary</code> and <code class="codeph">employee_id</code>:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) count,
       CORR_S(salary, commission_pct) commission,
       CORR_S(salary, employee_id) empid
  FROM employees;
 
     COUNT COMMISSION      EMPID
---------- ---------- ----------
       107 .735837022 -.04473016</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51308"></a><a id="SQLRF51307"></a><div class="props_rev_3"><a id="GUID-C00D906D-9421-49FC-BF3B-148C51219108" name="GUID-C00D906D-9421-49FC-BF3B-148C51219108"></a><h3 id="SQLRF-GUID-C00D906D-9421-49FC-BF3B-148C51219108" class="sect3">CORR_K </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">CORR_K</code> calculates the Kendall's tau-b correlation coefficient. As for <code class="codeph">CORR_S</code>, the input expressions are a set of (x<sub>i</sub>, y<sub>i</sub>) pairs of observations. To calculate the coefficient, the function counts the number of concordant and discordant pairs. A pair of observations is concordant if the observation with the larger x also has a larger value of y. A pair of observations is discordant if the observation with the larger x has a smaller y.
                     </p>
                     <p>The significance of tau-b is the probability that the correlation indicated by tau-b was due to chance—a value of 0 to 1. A small value indicates a significant correlation for positive values of tau-b (or anticorrelation for negative values of tau-b).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C00D906D-9421-49FC-BF3B-148C51219108__GUID-A64DBEB8-103A-460F-9960-6E0ED0836CCA">CORR_K Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Using Kendall's tau-b correlation coefficient, the following example determines whether a correlation exists between an employee's salary and commission percent:</p><pre class="oac_no_warn" dir="ltr">SELECT CORR_K(salary, commission_pct, 'COEFFICIENT') coefficient,
       CORR_K(salary, commission_pct, 'TWO_SIDED_SIG') two_sided_p_value
  FROM employees;

COEFFICIENT TWO_SIDED_P_VALUE
----------- -----------------
 .603079768        3.4702E-07</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>