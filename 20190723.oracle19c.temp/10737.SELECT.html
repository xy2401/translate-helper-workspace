<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SELECT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SAVEPOINT.html" title="Previous" type="text/html">
      <link rel="next" href="SET-CONSTRAINTS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SAVEPOINT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SET-CONSTRAINTS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: MERGE to UPDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SELECT </li>
            </ol>
            <a id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6" name="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6"></a><a id="SQLRF55224"></a><a id="SQLRF55225"></a><a id="SQLRF55226"></a><a id="SQLRF56374"></a><a id="SQLRF55663"></a><a id="SQLRF55227"></a><a id="SQLRF55228"></a><a id="SQLRF55574"></a><a id="SQLRF55229"></a><a id="SQLRF55230"></a><a id="SQLRF55231"></a><a id="SQLRF55232"></a><a id="SQLRF55233"></a><a id="SQLRF55234"></a><a id="SQLRF55235"></a><a id="SQLRF55236"></a><a id="SQLRF55237"></a><a id="SQLRF55238"></a><a id="SQLRF55239"></a><a id="SQLRF55240"></a><a id="SQLRF55241"></a><a id="SQLRF56897"></a><a id="SQLRF55242"></a><a id="SQLRF55243"></a><a id="SQLRF55244"></a><a id="SQLRF55245"></a><a id="SQLRF55246"></a><a id="SQLRF56412"></a><a id="SQLRF55247"></a><a id="SQLRF55248"></a><a id="SQLRF55249"></a><a id="SQLRF55250"></a><a id="SQLRF55251"></a><a id="SQLRF55252"></a><a id="SQLRF55253"></a><a id="SQLRF55254"></a><a id="SQLRF55255"></a><a id="SQLRF55256"></a><a id="SQLRF55257"></a><a id="SQLRF55258"></a><a id="SQLRF55259"></a><a id="SQLRF55260"></a><a id="SQLRF55261"></a><a id="SQLRF55262"></a><a id="SQLRF55263"></a><a id="SQLRF55264"></a><a id="SQLRF55265"></a><a id="SQLRF55266"></a><a id="SQLRF55631"></a><a id="SQLRF55267"></a><a id="SQLRF56441"></a><a id="SQLRF56442"></a><a id="SQLRF56443"></a><a id="SQLRF56444"></a><a id="SQLRF56445"></a><a id="SQLRF56446"></a><a id="SQLRF56447"></a><a id="SQLRF56448"></a><a id="SQLRF56449"></a><a id="SQLRF56450"></a><a id="SQLRF56452"></a><a id="SQLRF56453"></a><a id="SQLRF56451"></a><a id="SQLRF56454"></a><a id="SQLRF56455"></a><a id="SQLRF56456"></a><a id="SQLRF56457"></a><a id="SQLRF56508"></a><a id="SQLRF56509"></a><a id="SQLRF56510"></a><a id="SQLRF56511"></a><a id="SQLRF56512"></a><a id="SQLRF56513"></a><a id="SQLRF56514"></a><a id="SQLRF56515"></a><a id="SQLRF55664"></a><a id="SQLRF55665"></a><a id="SQLRF30048"></a><a id="SQLRF55268"></a><a id="SQLRF55269"></a><a id="SQLRF55575"></a><a id="SQLRF55270"></a><a id="SQLRF55271"></a><a id="SQLRF55272"></a><a id="SQLRF55273"></a><a id="SQLRF55274"></a><a id="SQLRF55275"></a><a id="SQLRF55276"></a><a id="SQLRF55277"></a><a id="SQLRF55278"></a><a id="SQLRF55279"></a><a id="SQLRF55280"></a><a id="SQLRF55281"></a><a id="SQLRF55282"></a><a id="SQLRF55283"></a><a id="SQLRF55284"></a><a id="SQLRF55632"></a><a id="SQLRF55633"></a><a id="SQLRF55285"></a><a id="SQLRF55287"></a><a id="SQLRF55286"></a><a id="SQLRF56458"></a><a id="SQLRF56459"></a><a id="SQLRF56392"></a><a id="SQLRF55288"></a><a id="SQLRF55289"></a><a id="SQLRF55290"></a><a id="SQLRF55291"></a><a id="SQLRF55292"></a><a id="SQLRF55293"></a><a id="SQLRF55294"></a><a id="SQLRF55295"></a><a id="SQLRF55296"></a><a id="SQLRF55298"></a><a id="SQLRF55299"></a><a id="SQLRF55300"></a><a id="SQLRF55301"></a><a id="SQLRF55302"></a><a id="SQLRF30047"></a><a id="SQLRF55303"></a><a id="SQLRF55304"></a><a id="SQLRF55305"></a><a id="SQLRF55306"></a><a id="SQLRF55307"></a><a id="SQLRF55308"></a><a id="SQLRF55309"></a><a id="SQLRF56898"></a><a id="SQLRF55310"></a><a id="SQLRF55311"></a><a id="SQLRF55312"></a><a id="SQLRF55313"></a><a id="SQLRF55314"></a><a id="SQLRF55315"></a><a id="SQLRF55316"></a><a id="SQLRF56413"></a><a id="SQLRF55317"></a><a id="SQLRF55319"></a><a id="SQLRF55320"></a><a id="SQLRF55325"></a><a id="SQLRF55326"></a><a id="SQLRF55318"></a><a id="SQLRF55321"></a><a id="SQLRF55322"></a><a id="SQLRF55323"></a><a id="SQLRF55324"></a><a id="SQLRF56414"></a><a id="SQLRF56415"></a><a id="SQLRF55327"></a><a id="SQLRF55328"></a><a id="SQLRF55329"></a><a id="SQLRF55330"></a><a id="SQLRF20038"></a><a id="SQLRF55331"></a><a id="SQLRF55332"></a><a id="SQLRF55333"></a><a id="SQLRF20040"></a><a id="SQLRF55334"></a><a id="SQLRF55335"></a><a id="SQLRF55336"></a><a id="SQLRF55337"></a><a id="SQLRF55338"></a><a id="SQLRF55339"></a><a id="SQLRF55340"></a><a id="SQLRF55341"></a><a id="SQLRF55342"></a><a id="SQLRF55343"></a><a id="SQLRF55344"></a><a id="SQLRF55345"></a><a id="SQLRF55346"></a><a id="SQLRF55347"></a><a id="SQLRF55348"></a><a id="SQLRF55349"></a><a id="SQLRF55350"></a><a id="SQLRF55351"></a><a id="SQLRF55352"></a><a id="SQLRF55353"></a><a id="SQLRF55354"></a><a id="SQLRF55355"></a><a id="SQLRF55356"></a><a id="SQLRF55357"></a><a id="SQLRF55358"></a><a id="SQLRF55359"></a><a id="SQLRF55360"></a><a id="SQLRF55361"></a><a id="SQLRF55362"></a><a id="SQLRF55363"></a><a id="SQLRF20039"></a><a id="SQLRF55364"></a><a id="SQLRF55365"></a><a id="SQLRF55366"></a><a id="SQLRF55367"></a><a id="SQLRF55368"></a><a id="SQLRF55369"></a><a id="SQLRF55636"></a><a id="SQLRF55637"></a><a id="SQLRF55638"></a><a id="SQLRF55639"></a><a id="SQLRF55640"></a><a id="SQLRF55641"></a><a id="SQLRF55642"></a><a id="SQLRF55643"></a><a id="SQLRF55644"></a><a id="SQLRF55370"></a><a id="SQLRF55371"></a><a id="SQLRF01706"></a><a id="SQLRF55372"></a><a id="SQLRF55373"></a><a id="SQLRF55374"></a><a id="SQLRF56466"></a><a id="SQLRF56467"></a><a id="SQLRF56468"></a><a id="SQLRF56469"></a><a id="SQLRF56470"></a><a id="SQLRF56471"></a><a id="SQLRF56472"></a><a id="SQLRF56516"></a><a id="SQLRF56473"></a><a id="SQLRF56474"></a><a id="SQLRF56475"></a><a id="SQLRF56476"></a><a id="SQLRF56517"></a><a id="SQLRF56477"></a><a id="SQLRF56478"></a><a id="SQLRF56479"></a><a id="SQLRF56480"></a><a id="SQLRF56481"></a><a id="SQLRF56518"></a><a id="SQLRF56482"></a><a id="SQLRF56483"></a><a id="SQLRF56484"></a><a id="SQLRF56485"></a><a id="SQLRF56486"></a><a id="SQLRF56487"></a><a id="SQLRF56488"></a><a id="SQLRF56489"></a><a id="SQLRF56519"></a><a id="SQLRF56491"></a><a id="SQLRF55666"></a><a id="SQLRF55375"></a><a id="SQLRF55576"></a><a id="SQLRF55376"></a><a id="SQLRF55377"></a><a id="SQLRF55378"></a><a id="SQLRF55379"></a><a id="SQLRF55380"></a><a id="SQLRF55381"></a><a id="SQLRF55382"></a><a id="SQLRF55383"></a><a id="SQLRF55384"></a><a id="SQLRF55385"></a><a id="SQLRF55386"></a><a id="SQLRF55645"></a><a id="SQLRF55387"></a><a id="SQLRF55388"></a><a id="SQLRF55389"></a><a id="SQLRF55390"></a><a id="SQLRF55391"></a><a id="SQLRF55392"></a><a id="SQLRF55393"></a><a id="SQLRF55394"></a><a id="SQLRF55395"></a><a id="SQLRF55396"></a><a id="SQLRF56416"></a><a id="SQLRF55646"></a><a id="SQLRF55397"></a><a id="SQLRF55398"></a><a id="SQLRF55399"></a><a id="SQLRF55400"></a><a id="SQLRF55401"></a><a id="SQLRF55402"></a><a id="SQLRF55403"></a><a id="SQLRF56520"></a><a id="SQLRF01702"></a>
            
            <h2 id="SQLRF-GUID-CFA006CA-6FF1-4972-821E-6996142A51C6" class="sect2">SELECT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8EE52D52-F43C-42E6-8EA4-01E18B762EDC">Purpose </p>
                  <p><a id="d425579e611" class="indexterm-anchor"></a><a id="d425579e615" class="indexterm-anchor"></a><a id="d425579e619" class="indexterm-anchor"></a><a id="d425579e623" class="indexterm-anchor"></a><a id="d425579e625" class="indexterm-anchor"></a>Use a <code class="codeph">SELECT</code> statement or subquery to retrieve data from one or more tables, object tables, views, object views, materialized views, analytic views, or hierarchies. 
                  </p>
                  <p><a id="d425579e632" class="indexterm-anchor"></a>If part or all of the result of a <code class="codeph">SELECT</code> statement is equivalent to an existing materialized view, then Oracle Database may use the materialized view in place of one or more tables specified in the <code class="codeph">SELECT</code> statement. This substitution is called <span class="bold">query rewrite</span>. It takes place only if cost optimization is enabled and the <code class="codeph">QUERY_REWRITE_ENABLED</code> parameter is set to <code class="codeph">TRUE</code>. To determine whether query rewrite has occurred, use the <code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code> statement.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF5FA7E5-41A1-4F39-B62F-F1B51FCC034C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SQL-Queries-and-Subqueries.html#GUID-5937EB2B-D3EC-45D4-BF75-1FC02E45DAE2">SQL Queries and Subqueries</a> for general information on queries and subqueries
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Oracle Database Data Warehousing Guide</span> for more information on <a href="../dwhsg/index.html" target="_blank">materialized views</a>, <a href="../dwhsg/index.html" target="_blank">query rewrite</a>, and <a href="../dwhsg/overview-analytic-views.html#DWHSG-GUID-D384C4EE-1671-4F89-BC69-2D3133194869" target="_blank">analytic views and hierarchies</a></p>
                        </li>
                        <li>
                           <p>If you are querying JSON data see <a href="../adjsn/query-json-data.html#ADJSN-GUID-119E5069-77F2-45DC-B6F0-A1B312945590" target="_blank"><span class="italic">Query JSON Data</span></a></p>
                        </li>
                        <li>
                           <p>If you are querying XML data see <a href="../adxdb/how-to-use-XML-DB.html#ADXDB-GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" target="_blank"><span class="italic">Querying XML Content Stored in Oracle XML DB</span></a></p>
                        </li>
                        <li>
                           <p><a href="EXPLAIN-PLAN.html#GUID-FD540872-4ED3-4936-96A2-362539931BA0">EXPLAIN PLAN</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065699">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82E9D92D-236A-44F6-ADA1-07382B075AE6">Prerequisites</p>
                  <p>For you to select data from a table, materialized view, analytic view, or hierarchy, the object must be in your own schema or you must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on the table, materialized view, analytic view, or hierarchy.
                  </p>
                  <p>For you to select rows from the base tables of a view:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The object must be in your own schema or you must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on it, and
                        </p>
                     </li>
                     <li>
                        <p>Whoever owns the schema containing the object must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on the base tables.
                        </p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> or <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege also allows you to select data from any table, materialized view, analytic view, or hierarchy, or the base table of any materialized view, analytic view, or hierarchy.
                  </p>
                  <p>To specify the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause, the preceding prerequisites apply with the following exception: The <code class="codeph">READ</code> and <code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> privileges, where mentioned, do not allow you to specify the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause.
                  </p>
                  <p>To issue an Oracle Flashback Query using the <span class="italic"><code class="codeph">flashback_query_clause</code></span>, you must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on the objects in the select list. In addition, either you must have <code class="codeph">FLASHBACK</code> object privilege on the objects in the select list, or you must have <code class="codeph">FLASHBACK</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065706">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4EB6C0EE-4F49-4022-8660-0CA92D920483">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-96499F3F-0417-4640-9A39-ED160D15B00E"><span class="italic">select</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FC76539-A31C-40F1-B30F-2AEC52D32A61"><img src="img/select.gif" alt="Description of select.eps follows" title="Description of select.eps follows" longdesc="img_text/select.html"><br><a href="img_text/select.html">Description of the illustration select.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126016">for_update_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-968C68DF-DC48-4A0A-9D1E-547EE7CE1CBE"><span class="italic">subquery</span>::=
                  </p><a id="d425579e831" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-59E284AE-F8D3-46F0-B9E2-7F4FC4D1AE17"><img src="img/subquery.gif" alt="Description of subquery.eps follows" title="Description of subquery.eps follows" longdesc="img_text/subquery.html"><br><a href="img_text/subquery.html">Description of the illustration subquery.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDDCHGF">query_block::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">order_by_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBADDD">row_limiting_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDDCHGF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AC332E99-C205-496E-91C0-EE35EB4B69EC"><span class="italic">query_block</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F7488060-9858-4B4F-AC0D-B38E0AFEC627"><img src="img/query_block.gif" alt="Description of query_block.eps follows" title="Description of query_block.eps follows" longdesc="img_text/query_block.html"><br><a href="img_text/query_block.html">Description of the illustration query_block.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAFID">with_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126854">select_list::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIJFDJ">join_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00C4103">inline_analytic_view</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIFBBI">where_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126079">hierarchical_query_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065777">group_by_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161264">model_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAFID">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7BFCEBF8-6459-4328-8CFC-6FF044E8A147"><span class="italic">with_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4C480357-4C90-479A-8DC4-2B4B33AF7A7B"><img src="img/with_clause.gif" alt="Description of with_clause.eps follows" title="Description of with_clause.eps follows" longdesc="img_text/with_clause.html"><br><a href="img_text/with_clause.html">Description of the illustration with_clause.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-34B7419E-44F7-4D9B-8784-3810FDF0E355">
                     <p class="notep1">Note:</p>
                     <p>You cannot specify only the <code class="codeph">WITH</code> keyword. You must specify at least one of the clauses <span class="italic"><code class="codeph">plsql_declarations</code></span>, <code class="codeph"><span class="codeinlineitalic">subquery_factoring_clause</span></code>, or <span class="italic"><code class="codeph">subav_factoring_clause</code></span>. 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-28DA0E1D-87BF-462E-BCB8-8F77921022F9"><span class="italic">plsql_declarations</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0CC837E5-92F9-43E6-AF6B-F1932C143237"><img src="img/plsql_declarations.gif" alt="Description of plsql_declarations.eps follows" title="Description of plsql_declarations.eps follows" longdesc="img_text/plsql_declarations.html"><br><a href="img_text/plsql_declarations.html">Description of the illustration plsql_declarations.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUBQUERY_FACTORING_CLAUSE-F019C19E">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-185BCBCD-7263-44B3-8C54-AC771BFE2459"><span class="italic">subquery_factoring_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D567D4D1-2B33-49E3-9332-C5EFFA0AF330"><img src="img/subquery_factoring_clause.gif" alt="Description of subquery_factoring_clause.eps follows" title="Description of subquery_factoring_clause.eps follows" longdesc="img_text/subquery_factoring_clause.html"><br><a href="img_text/subquery_factoring_clause.html">Description of the illustration subquery_factoring_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-865D8676-D3A4-4D22-A26A-9D26DA370A38"><span class="italic">search_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A28E85E-BE57-4B73-A75F-919DD010C23C"><img src="img/search_clause.gif" alt="Description of search_clause.eps follows" title="Description of search_clause.eps follows" longdesc="img_text/search_clause.html"><br><a href="img_text/search_clause.html">Description of the illustration search_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6EE9767D-C75F-4AD4-A949-F19F62434C51"><span class="italic">cycle_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1CB71DDE-619B-42D7-9F38-D63AEB40AD86"><img src="img/cycle_clause.gif" alt="Description of cycle_clause.eps follows" title="Description of cycle_clause.eps follows" longdesc="img_text/cycle_clause.html"><br><a href="img_text/cycle_clause.html">Description of the illustration cycle_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUBAV_FACTORING_CLAUSE-F019CB97">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CA1A95FF-85FB-473D-B7EA-17D5C8A0726B"><span class="italic">subav_factoring_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8A7ADE5E-EDD1-4CBE-80EE-50BC3493B8F8"><img src="img/subav_factoring_clause.gif" alt="Description of subav_factoring_clause.eps follows" title="Description of subav_factoring_clause.eps follows" longdesc="img_text/subav_factoring_clause.html"><br><a href="img_text/subav_factoring_clause.html">Description of the illustration subav_factoring_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUB_AV_CLAUSE-F01CACDC">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6367CF0A-502E-4E56-B90D-DA69E9F58647"><span class="italic">subav_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A9A59D22-CD29-4A9F-B8B3-621ADAE3B063"><img src="img/subav_clause.gif" alt="Description of subav_clause.eps follows" title="Description of subav_clause.eps follows" longdesc="img_text/subav_clause.html"><br><a href="img_text/subav_clause.html">Description of the illustration subav_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A6214ADB-2E92-4979-BDA2-41137690E78C"><span class="italic">hierarchies_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E0E3B1FB-5F71-49EE-B8BF-B22EBE5C79A5"><img src="img/hierarchies_clause.gif" alt="Description of hierarchies_clause.eps follows" title="Description of hierarchies_clause.eps follows" longdesc="img_text/hierarchies_clause.html"><br><a href="img_text/hierarchies_clause.html">Description of the illustration hierarchies_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F37AB143-CA5E-46A2-924B-030FA6C207B4"><span class="italic">filter_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5923C866-ADF8-40D1-8BD3-6E2D43069A2C"><img src="img/filter_clauses.gif" alt="Description of filter_clauses.eps follows" title="Description of filter_clauses.eps follows" longdesc="img_text/filter_clauses.html"><br><a href="img_text/filter_clauses.html">Description of the illustration filter_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1B10D3EE-8091-46CD-80D6-36439CE3FA6C"><span class="italic">filter_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EC5E0086-105D-49B5-AB55-5523A6DCBE43"><img src="img/filter_clause.gif" alt="Description of filter_clause.eps follows" title="Description of filter_clause.eps follows" longdesc="img_text/filter_clause.html"><br><a href="img_text/filter_clause.html">Description of the illustration filter_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EA8DAC8B-C74F-43BF-94C2-45107C5F60E4"><span class="italic">add_calcs_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-70ECB38B-E63B-4E89-86F8-16BE295FFF7C"><img src="img/add_calcs_clause.gif" alt="Description of add_calcs_clause.eps follows" title="Description of add_calcs_clause.eps follows" longdesc="img_text/add_calcs_clause.html"><br><a href="img_text/add_calcs_clause.html">Description of the illustration add_calcs_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B8A928E-13FC-42AE-9D74-97F074C50408"><span class="italic">calc_meas_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77D6A227-A6D0-4202-8E66-B04E17711D6A"><img src="img/calc_meas_clause.gif" alt="Description of calc_meas_clause.eps follows" title="Description of calc_meas_clause.eps follows" longdesc="img_text/calc_meas_clause.html"><br><a href="img_text/calc_meas_clause.html">Description of the illustration calc_meas_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126854">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6E4DCD2D-EF93-462D-A0AA-F2BDC530F040"><span class="italic">select_list</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-79FE442B-5DB1-4278-ABB3-08D02FC12FE6"><img src="img/select_list.gif" alt="Description of select_list.eps follows" title="Description of select_list.eps follows" longdesc="img_text/select_list.html"><br><a href="img_text/select_list.html">Description of the illustration select_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BA9EBF00-28F0-44B4-BD3A-9DB8F9F7F093"><span class="italic">table_reference</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39A71D9A-8213-4A0A-BD94-FE2EF4120197"><img src="img/table_reference.gif" alt="Description of table_reference.eps follows" title="Description of table_reference.eps follows" longdesc="img_text/table_reference.html"><br><a href="img_text/table_reference.html">Description of the illustration table_reference.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126073">query_table_expression::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126134">flashback_query_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDCEJJE">pivot_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJBHHI">unpivot_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAJHB">row_pattern_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEGGHJC">containers_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126134">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9CA8AB48-7DE6-4601-A798-42B2038CA3A6"><span class="italic">flashback_query_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-40A1E315-D04C-40EF-B135-D2E2C9DF1494"><img src="img/flashback_query_clause.gif" alt="Description of flashback_query_clause.eps follows" title="Description of flashback_query_clause.eps follows" longdesc="img_text/flashback_query_clause.html"><br><a href="img_text/flashback_query_clause.html">Description of the illustration flashback_query_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126073">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D249B1D5-F5FA-44CE-9046-85447B4C440B"><span class="italic">query_table_expression</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-98A9E74B-C56B-4397-96D5-32629E7700C7"><img src="img/query_table_expression.gif" alt="Description of query_table_expression.eps follows" title="Description of query_table_expression.eps follows" longdesc="img_text/query_table_expression.html"><br><a href="img_text/query_table_expression.html">Description of the illustration query_table_expression.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__ANALYTIC_VIEW-F117119F">analytic_view</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__HIERARCHY-F1175778">hierarchy</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126149">subquery_restriction_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065746">table_collection_expression::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AC907F76-4436-4D28-9EAB-FD3D93AE5648"><span class="italic">inline_external_table</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D38DBFFE-DD26-45BB-9509-585298E897CF"><img src="img/inline_external_table.gif" alt="Description of inline_external_table.eps follows" title="Description of inline_external_table.eps follows" longdesc="img_text/inline_external_table.html"><br><a href="img_text/inline_external_table.html">Description of the illustration inline_external_table.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F78ECBB-8A6D-4857-91C3-AEBAEA11E9F3"><span class="italic">inline_external_table_properties</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-775C1EEB-78BE-448E-AFFD-617AA000EE4B"><img src="img/inline_external_table_properties.gif" alt="Description of inline_external_table_properties.eps follows" title="Description of inline_external_table_properties.eps follows" longdesc="img_text/inline_external_table_properties.html"><br><a href="img_text/inline_external_table_properties.html">Description of the illustration inline_external_table_properties.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BC324A59-5780-461E-8DDF-F8ABCEFD741B"><span class="italic">modified_external_table</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B8405190-E425-49D5-88DA-8111F464256B"><img src="img/modified_external_table.gif" alt="Description of modified_external_table.eps follows" title="Description of modified_external_table.eps follows" longdesc="img_text/modified_external_table.html"><br><a href="img_text/modified_external_table.html">Description of the illustration modified_external_table.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F89A12C-9799-4FAA-84EF-3302D811E262"><span class="italic">modify_external_table_properties</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-71C76E72-632B-496F-AF96-C666FD46A1E3"><img src="img/modify_external_table_properties.gif" alt="Description of modify_external_table_properties.eps follows" title="Description of modify_external_table_properties.eps follows" longdesc="img_text/modify_external_table_properties.html"><br><a href="img_text/modify_external_table_properties.html">Description of the illustration modify_external_table_properties.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDCEJJE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-68257B27-1C4C-4C47-8140-5C60E0E65D35"><span class="italic">pivot_clause</span>::=
                  </p><a id="d425579e1127" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8B6BA9D2-DB8E-4961-88D7-8C80237DD20F"><img src="img/pivot_clause.gif" alt="Description of pivot_clause.eps follows" title="Description of pivot_clause.eps follows" longdesc="img_text/pivot_clause.html"><br><a href="img_text/pivot_clause.html">Description of the illustration pivot_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C0071607-686A-48F6-8DD6-652975299F20"><span class="italic">pivot_for_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B9115C0A-FAFD-4643-BDEA-8001F09C2897"><img src="img/pivot_for_clause.gif" alt="Description of pivot_for_clause.eps follows" title="Description of pivot_for_clause.eps follows" longdesc="img_text/pivot_for_clause.html"><br><a href="img_text/pivot_for_clause.html">Description of the illustration pivot_for_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EB4E6727-F533-4F6A-ACB1-BCB56D9EAEFA"><span class="italic">pivot_in_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F1AA8CE9-560F-4486-B8A1-12AF1AF08FE3"><img src="img/pivot_in_clause.gif" alt="Description of pivot_in_clause.eps follows" title="Description of pivot_in_clause.eps follows" longdesc="img_text/pivot_in_clause.html"><br><a href="img_text/pivot_in_clause.html">Description of the illustration pivot_in_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJBHHI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B4E0389-413C-4014-94A1-0A0571BDF7E1"><span class="italic">unpivot_clause</span>::=
                  </p><a id="d425579e1155" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ED74192A-B7F0-4E7E-ABB3-1E07770E8B9B"><img src="img/unpivot_clause.gif" alt="Description of unpivot_clause.eps follows" title="Description of unpivot_clause.eps follows" longdesc="img_text/unpivot_clause.html"><br><a href="img_text/unpivot_clause.html">Description of the illustration unpivot_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C362A979-F5DB-4CC2-997D-797B6B6C849F"><span class="italic">unpivot_in_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C510D732-5234-4FE2-97AC-0CA2A155D4CA"><img src="img/unpivot_in_clause.gif" alt="Description of unpivot_in_clause.edx follows" title="Description of unpivot_in_clause.edx follows" longdesc="img_text/unpivot_in_clause.html"><br><a href="img_text/unpivot_in_clause.html">Description of the illustration unpivot_in_clause.edx</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-947FB2B2-0A72-49E5-A4AE-6FC1CF3F4C70"><span class="italic">sample_clause</span>::=
                  </p><a id="d425579e1175" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6F85EF7D-E74F-4B39-9865-5A161E3DA473"><img src="img/sample_clause.gif" alt="Description of sample_clause.eps follows" title="Description of sample_clause.eps follows" longdesc="img_text/sample_clause.html"><br><a href="img_text/sample_clause.html">Description of the illustration sample_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AA6B72FA-DDAA-42CD-A8B0-D0DC9C9A65B7"><span class="italic">partition_extension_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A857202B-4629-47D8-9C5C-CC52E66381B9"><img src="img/partition_extension_clause.gif" alt="Description of partition_extension_clause.eps follows" title="Description of partition_extension_clause.eps follows" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">Description of the illustration partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126149">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E8CBEADC-ABA1-4E5F-BF73-F52E807C476C"><span class="italic">subquery_restriction_clause</span>::=
                  </p><a id="d425579e1196" class="indexterm-anchor"></a><a id="d425579e1200" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-00951DCA-FD3D-444D-87A6-C400351FB073"><img src="img/subquery_restriction_clause.gif" alt="Description of subquery_restriction_clause.eps follows" title="Description of subquery_restriction_clause.eps follows" longdesc="img_text/subquery_restriction_clause.html"><br><a href="img_text/subquery_restriction_clause.html">Description of the illustration subquery_restriction_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065746">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6C757094-E030-4D82-8A0B-EE8BB6392D7F"><span class="italic">table_collection_expression</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F312917-87C8-4F83-809C-58A75C577C6C"><img src="img/table_collection_expression.gif" alt="Description of table_collection_expression.eps follows" title="Description of table_collection_expression.eps follows" longdesc="img_text/table_collection_expression.html"><br><a href="img_text/table_collection_expression.html">Description of the illustration table_collection_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEGGHJC">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-70B918F2-7D91-4E84-A63A-825A3F3E0C6D"><span class="italic">containers_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C21030AF-DB65-4BB7-87E4-E8605D8E56D6"><img src="img/containers_clause.gif" alt="Description of containers_clause.eps follows" title="Description of containers_clause.eps follows" longdesc="img_text/containers_clause.html"><br><a href="img_text/containers_clause.html">Description of the illustration containers_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-DA9E9038-9A56-417B-934F-36083EB17AB0"><span class="italic">shards_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4BD3145B-B548-43BA-BE48-56957EB5928E"><img src="img/shards_clause.gif" alt="Description of shards_clause.eps follows" title="Description of shards_clause.eps follows" longdesc="img_text/shards_clause.html"><br><a href="img_text/shards_clause.html">Description of the illustration shards_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIJFDJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E7DA7056-07E5-4D2C-BB7E-01BC9B1562E0"><span class="italic">join_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6D4C3C6C-59E3-4DF8-B0E4-8F246EB39236"><img src="img/join_clause.gif" alt="Description of join_clause.eps follows" title="Description of join_clause.eps follows" longdesc="img_text/join_clause.html"><br><a href="img_text/join_clause.html">Description of the illustration join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCGEDH">inner_cross_join_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBCHJA">outer_join_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHDDA">cross_outer_apply_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCGEDH">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2914EBB6-0BE4-485E-AADD-C321A2BBA484"><span class="italic">inner_cross_join_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D47741D7-6E40-4EE8-80D8-7FD217FB589A"><img src="img/inner_cross_join_clause.gif" alt="Description of inner_cross_join_clause.eps follows" title="Description of inner_cross_join_clause.eps follows" longdesc="img_text/inner_cross_join_clause.html"><br><a href="img_text/inner_cross_join_clause.html">Description of the illustration inner_cross_join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBCHJA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-424F6204-C5BC-4E69-8922-2769140B44A2"><span class="italic">outer_join_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-156E2F4E-EF8B-4D91-B7FB-17A52A165F78"><img src="img/outer_join_clause.gif" alt="Description of outer_join_clause.eps follows" title="Description of outer_join_clause.eps follows" longdesc="img_text/outer_join_clause.html"><br><a href="img_text/outer_join_clause.html">Description of the illustration outer_join_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">query_partition_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIBHAJ">outer_join_type::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0BE3C985-9456-4954-9EC1-D8387094C4EE"><span class="italic">query_partition_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-53D161E1-2BD1-45F4-9A91-3A1B7393A4E9"><img src="img/query_partition_clause.gif" alt="Description of query_partition_clause.eps follows" title="Description of query_partition_clause.eps follows" longdesc="img_text/query_partition_clause.html"><br><a href="img_text/query_partition_clause.html">Description of the illustration query_partition_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIBHAJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-69A3FBC9-9FD2-4798-B5C2-9F86C650B883"><span class="italic">outer_join_type</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FC73F953-5BAF-4892-BF24-C0A6F2D423B4"><img src="img/outer_join_type.gif" alt="Description of outer_join_type.eps follows" title="Description of outer_join_type.eps follows" longdesc="img_text/outer_join_type.html"><br><a href="img_text/outer_join_type.html">Description of the illustration outer_join_type.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHDDA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D69D854B-89C9-4E0F-8BF7-33F5C40A8656"><span class="italic">cross_outer_apply_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3E33A3A-82A3-4EB8-9382-735CEC9C2120"><img src="img/cross_outer_apply_clause.gif" alt="Description of cross_outer_apply_clause.eps follows" title="Description of cross_outer_apply_clause.eps follows" longdesc="img_text/cross_outer_apply_clause.html"><br><a href="img_text/cross_outer_apply_clause.html">Description of the illustration cross_outer_apply_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126863">table_reference::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2197413">query_partition_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00C4103">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-49C0EEFF-14F2-4AB4-A75B-5E8BED74CF37"><span class="italic">inline_analytic_view</span></p><br><div class="imageleft"><img class="imageleft" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__IMAGE_FMR_YTV_PGB" src="img/inline_analytic_view.gif" alt="Description of inline_analytic_view.eps follows" title="Description of inline_analytic_view.eps follows" longdesc="img_text/inline_analytic_view.html"><br><a href="img_text/inline_analytic_view.html">Description of the illustration inline_analytic_view.eps</a></div><br><p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__SUB_AV_CLAUSE-F01CACDC">subav_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDIFBBI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-204B6B2A-770E-46E6-8A8F-ABCC6D7F6A07"><span class="italic">where_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6B56AC9D-E8DE-4BB8-B9DD-CD420B5CB07E"><img src="img/where_clause.gif" alt="Description of where_clause.eps follows" title="Description of where_clause.eps follows" longdesc="img_text/where_clause.html"><br><a href="img_text/where_clause.html">Description of the illustration where_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126079">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0000A9AB-22C6-4429-A6A6-4FD58E2CB110"><span class="italic">hierarchical_query_clause</span>::=
                  </p><a id="d425579e1349" class="indexterm-anchor"></a><a id="d425579e1353" class="indexterm-anchor"></a><a id="d425579e1357" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-40D61064-6110-4EC4-A09D-9010886AFA56"><img src="img/hierarchical_query_clause.gif" alt="Description of hierarchical_query_clause.eps follows" title="Description of hierarchical_query_clause.eps follows" longdesc="img_text/hierarchical_query_clause.html"><br><a href="img_text/hierarchical_query_clause.html">Description of the illustration hierarchical_query_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><code class="codeph">condition</code></span> can be any condition as described in <a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065777">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-355BE8B4-CEA0-4397-A401-CAD8140528BF"><span class="italic">group_by_clause</span>::=
                  </p><a id="d425579e1378" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9F5338AD-8A73-4762-8073-53EBC3EF410F"><img src="img/group_by_clause.gif" alt="Description of group_by_clause.eps follows" title="Description of group_by_clause.eps follows" longdesc="img_text/group_by_clause.html"><br><a href="img_text/group_by_clause.html">Description of the illustration group_by_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">rollup_cube_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126297">grouping_sets_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-00AF4EE1-D3F9-46F8-A251-B1AB90B62264"><span class="italic">rollup_cube_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2EF1FE22-0F22-4869-A9B1-1BB1ED31DEDA"><img src="img/rollup_cube_clause.gif" alt="Description of rollup_cube_clause.eps follows" title="Description of rollup_cube_clause.eps follows" longdesc="img_text/rollup_cube_clause.html"><br><a href="img_text/rollup_cube_clause.html">Description of the illustration rollup_cube_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">grouping_expression_list::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126297">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C7FB93A4-4BCA-4C8F-8C57-08126A0F4558"><span class="italic">grouping_sets_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2878C302-6359-4ECD-9C80-596BC98CEE59"><img src="img/grouping_sets_clause.gif" alt="Description of grouping_sets_clause.eps follows" title="Description of grouping_sets_clause.eps follows" longdesc="img_text/grouping_sets_clause.html"><br><a href="img_text/grouping_sets_clause.html">Description of the illustration grouping_sets_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126291">rollup_cube_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">grouping_expression_list::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2189804">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ABB8602F-B7A4-4CAE-8099-AF435C06A2B4"><span class="italic">grouping_expression_list</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1471BA59-A3D8-4E92-A99E-97185C30EC39"><img src="img/grouping_expression_list.gif" alt="Description of grouping_expression_list.eps follows" title="Description of grouping_expression_list.eps follows" longdesc="img_text/grouping_expression_list.html"><br><a href="img_text/grouping_expression_list.html">Description of the illustration grouping_expression_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77478495-FB49-40D3-AEB5-D37815F47B71"><span class="italic">expression_list</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D4CB785-2A67-4F6E-83F2-DE332AB002F6"><img src="img/expression_list.gif" alt="Description of expression_list.eps follows" title="Description of expression_list.eps follows" longdesc="img_text/expression_list.html"><br><a href="img_text/expression_list.html">Description of the illustration expression_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161264">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-684AEAE9-753E-45EF-9536-C0CC0B0EB3B0"><span class="italic">model_clause</span>::= 
                  </p><a id="d425579e1448" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9B7196D9-23E4-4077-B199-1DEDD95291B6"><img src="img/model_clause.gif" alt="Description of model_clause.eps follows" title="Description of model_clause.eps follows" longdesc="img_text/model_clause.html"><br><a href="img_text/model_clause.html">Description of the illustration model_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">cell_reference_options::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171032">return_rows_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161349">reference_model::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161360">main_model::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C6E42F4-E845-4C6A-B804-2B312C460436"><span class="italic">cell_reference_options</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FECDA42-80F1-4583-B880-A85B7E5B8E96"><img src="img/cell_reference_options.gif" alt="Description of cell_reference_options.eps follows" title="Description of cell_reference_options.eps follows" longdesc="img_text/cell_reference_options.html"><br><a href="img_text/cell_reference_options.html">Description of the illustration cell_reference_options.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171032">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A82DCDD3-0222-4FE6-8205-D85647C64A6B"><span class="italic">return_rows_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-085A096C-7ACF-4762-9AE2-E8397753732D"><img src="img/return_rows_clause.gif" alt="Description of return_rows_clause.eps follows" title="Description of return_rows_clause.eps follows" longdesc="img_text/return_rows_clause.html"><br><a href="img_text/return_rows_clause.html">Description of the illustration return_rows_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161349">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BC9020FF-1276-4D6D-9930-F071BEB47411"><span class="italic">reference_model</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5AD88747-D111-4F3A-8A98-8270EEB8D5F9"><img src="img/reference_model.gif" alt="Description of reference_model.eps follows" title="Description of reference_model.eps follows" longdesc="img_text/reference_model.html"><br><a href="img_text/reference_model.html">Description of the illustration reference_model.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">model_column_clauses::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">cell_reference_options::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161360">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2DF4F767-0D78-4D1D-AD1F-F2225A5057CB"><span class="italic">main_model</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-567460AA-BA56-4575-9CAB-B9210A08697F"><img src="img/main_model.gif" alt="Description of main_model.eps follows" title="Description of main_model.eps follows" longdesc="img_text/main_model.html"><br><a href="img_text/main_model.html">Description of the illustration main_model.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">model_column_clauses::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161331">cell_reference_options::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161401">model_rules_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161363">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-79C5FBFA-DEE1-41EB-AA2C-B7004C9DFD49"><span class="italic">model_column_clauses</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8642E60A-1766-48DF-A702-B74380355005"><img src="img/model_column_clauses.gif" alt="Description of model_column_clauses.eps follows" title="Description of model_column_clauses.eps follows" longdesc="img_text/model_column_clauses.html"><br><a href="img_text/model_column_clauses.html">Description of the illustration model_column_clauses.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161401">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0C68ADED-444E-48F6-AEFD-4616540DB97F"><span class="italic">model_rules_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-30F113DE-C579-461D-924A-779D9EA4BB36"><img src="img/model_rules_clause.gif" alt="Description of model_rules_clause.eps follows" title="Description of model_rules_clause.eps follows" longdesc="img_text/model_rules_clause.html"><br><a href="img_text/model_rules_clause.html">Description of the illustration model_rules_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJAAEF">model_iterate_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161423">cell_assignment::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">order_by_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDJAAEF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D0460B8-02A2-4E0B-859E-E3DF9784B205"><span class="italic">model_iterate_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D565A5F9-9D8E-445A-B977-4748825CAF20"><img src="img/model_iterate_clause.gif" alt="Description of model_iterate_clause.eps follows" title="Description of model_iterate_clause.eps follows" longdesc="img_text/model_iterate_clause.html"><br><a href="img_text/model_iterate_clause.html">Description of the illustration model_iterate_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2161423">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AEF049FB-7FA6-467B-B4DF-DEF4EC1CE2E2"><span class="italic">cell_assignment</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D5732074-A226-414E-8C89-C1C58589E584"><img src="img/cell_assignment.gif" alt="Description of cell_assignment.eps follows" title="Description of cell_assignment.eps follows" longdesc="img_text/cell_assignment.html"><br><a href="img_text/cell_assignment.html">Description of the illustration cell_assignment.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168318">single_column_for_loop::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168325">multi_column_for_loop::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168318">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-31CE0750-1880-403C-990F-DD107D6BC8CE"><span class="italic">single_column_for_loop</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3709587-664F-454B-84D8-DAE163A0AEEE"><img src="img/single_column_for_loop.gif" alt="Description of single_column_for_loop.eps follows" title="Description of single_column_for_loop.eps follows" longdesc="img_text/single_column_for_loop.html"><br><a href="img_text/single_column_for_loop.html">Description of the illustration single_column_for_loop.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168325">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-01359D63-6AAC-4F0D-8A79-5AEECD2722B6"><span class="italic">multi_column_for_loop</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-12B8FE96-397B-4C42-AF2F-B581B52330EB"><img src="img/multi_column_for_loop.gif" alt="Description of multi_column_for_loop.eps follows" title="Description of multi_column_for_loop.eps follows" longdesc="img_text/multi_column_for_loop.html"><br><a href="img_text/multi_column_for_loop.html">Description of the illustration multi_column_for_loop.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168299">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E509B561-DD21-46EC-9B11-AF8D2CF2E30C"><span class="italic">order_by_clause</span>::=
                  </p><a id="d425579e1607" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B8964D6C-37C9-4671-8A3C-F3F1CA604505"><img src="img/order_by_clause.gif" alt="Description of order_by_clause.eps follows" title="Description of order_by_clause.eps follows" longdesc="img_text/order_by_clause.html"><br><a href="img_text/order_by_clause.html">Description of the illustration order_by_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBADDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C24E9615-9183-4D47-8B1E-AE4F61B076BC"><span class="italic">row_limiting_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4A78D968-967F-4AA1-96E8-7DE90764DB47"><img src="img/row_limiting_clause.gif" alt="Description of row_limiting_clause.eps follows" title="Description of row_limiting_clause.eps follows" longdesc="img_text/row_limiting_clause.html"><br><a href="img_text/row_limiting_clause.html">Description of the illustration row_limiting_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126016">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1698E4B2-2710-4FBF-8BB5-329FF4CE3B59"><span class="italic">for_update_clause</span>::=
                  </p><a id="d425579e1627" class="indexterm-anchor"></a><div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B81105B4-B319-4ED3-8B89-DD61E70C6260"><img src="img/for_update_clause.gif" alt="Description of for_update_clause.eps follows" title="Description of for_update_clause.eps follows" longdesc="img_text/for_update_clause.html"><br><a href="img_text/for_update_clause.html">Description of the illustration for_update_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFAJHB">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3D9CAE13-7640-46E4-A75C-713263841666"><span class="italic">row_pattern_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F63741B3-F654-4FA3-B412-B7792B12D635"><img src="img/row_pattern_clause.gif" alt="Description of row_pattern_clause.eps follows" title="Description of row_pattern_clause.eps follows" longdesc="img_text/row_pattern_clause.html"><br><a href="img_text/row_pattern_clause.html">Description of the illustration row_pattern_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDAJEE">row_pattern_partition_by::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHDEB">row_pattern_order_by::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIAAGF">row_pattern_measures::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGCAD">row_pattern_rows_per_match::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJAEDA">row_pattern_skip_to::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDACDD">row_pattern::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGIDD">row_pattern_subset_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCICD">row_pattern_definition_list::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDAJEE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-714F0899-9317-4612-9BA2-298CDB55063A"><span class="italic">row_pattern_partition_by</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0FBF09D0-A396-4D08-833D-2918E6F35574"><img src="img/row_pattern_partition_by.gif" alt="Description of row_pattern_partition_by.eps follows" title="Description of row_pattern_partition_by.eps follows" longdesc="img_text/row_pattern_partition_by.html"><br><a href="img_text/row_pattern_partition_by.html">Description of the illustration row_pattern_partition_by.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHDEB">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F385E75F-25BB-4CBB-9B99-3ADE5C4D3BC0"><span class="italic">row_pattern_order_by</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0272C985-5C2B-4BE5-8B1C-2BA63134E46B"><img src="img/row_pattern_order_by.gif" alt="Description of row_pattern_order_by.eps follows" title="Description of row_pattern_order_by.eps follows" longdesc="img_text/row_pattern_order_by.html"><br><a href="img_text/row_pattern_order_by.html">Description of the illustration row_pattern_order_by.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIAAGF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A94F0E9A-39B1-484D-92A2-692960B56787"><span class="italic">row_pattern_measures</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A4B45243-365A-4357-8177-42A54F3D3BFD"><img src="img/row_pattern_measures.gif" alt="Description of row_pattern_measures.eps follows" title="Description of row_pattern_measures.eps follows" longdesc="img_text/row_pattern_measures.html"><br><a href="img_text/row_pattern_measures.html">Description of the illustration row_pattern_measures.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ACDFDF83-C18D-4F4F-B897-CFB96F1D71CF"><span class="italic">row_pattern_measure_column</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8DD47FF7-D862-489A-83A9-FA386861CA9F"><img src="img/row_pattern_measure_column.gif" alt="Description of row_pattern_measure_column.eps follows" title="Description of row_pattern_measure_column.eps follows" longdesc="img_text/row_pattern_measure_column.html"><br><a href="img_text/row_pattern_measure_column.html">Description of the illustration row_pattern_measure_column.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGCAD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6270C488-372A-43CA-B63B-5146D84A509F"><span class="italic">row_pattern_rows_per_match</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-41B93C8B-1FC6-4C94-B198-43938A7D08E9"><img src="img/row_pattern_rows_per_match.gif" alt="Description of row_pattern_rows_per_match.eps follows" title="Description of row_pattern_rows_per_match.eps follows" longdesc="img_text/row_pattern_rows_per_match.html"><br><a href="img_text/row_pattern_rows_per_match.html">Description of the illustration row_pattern_rows_per_match.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJAEDA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A8FEE10-3F7C-40B2-9880-E86124DC2A90"><span class="italic">row_pattern_skip_to</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A6C191C9-C5B3-4ED0-8110-CEE627DB5C00"><img src="img/row_pattern_skip_to.gif" alt="Description of row_pattern_skip_to.eps follows" title="Description of row_pattern_skip_to.eps follows" longdesc="img_text/row_pattern_skip_to.html"><br><a href="img_text/row_pattern_skip_to.html">Description of the illustration row_pattern_skip_to.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDACDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-248C886F-14E8-457E-9C16-B00C8C970D2B"><span class="italic">row_pattern</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3301B6D2-1F89-4ED4-A064-98690B554B40"><img src="img/row_pattern.gif" alt="Description of row_pattern.eps follows" title="Description of row_pattern.eps follows" longdesc="img_text/row_pattern.html"><br><a href="img_text/row_pattern.html">Description of the illustration row_pattern.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4D9E8FA5-DA36-4D54-AA87-0951D1C24EBA"><span class="italic">row_pattern_term</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F5A0F884-99A5-40BD-8E2A-629E9AF0A0EF"><img src="img/row_pattern_term.gif" alt="Description of row_pattern_term.eps follows" title="Description of row_pattern_term.eps follows" longdesc="img_text/row_pattern_term.html"><br><a href="img_text/row_pattern_term.html">Description of the illustration row_pattern_term.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F4D2B079-DC66-49A8-964B-02B17D29A059"><span class="italic">row_pattern_factor</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D6345930-D58C-4B0E-AFB5-6BB46D0C4DDE"><img src="img/row_pattern_factor.gif" alt="Description of row_pattern_factor.eps follows" title="Description of row_pattern_factor.eps follows" longdesc="img_text/row_pattern_factor.html"><br><a href="img_text/row_pattern_factor.html">Description of the illustration row_pattern_factor.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8708E6B7-1F3B-4F77-9679-05A9AC993BB5"><span class="italic">row_pattern_primary</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5CF849D3-EE71-4BFD-988B-DA9B67E4BFF7"><img src="img/row_pattern_primary.gif" alt="Description of row_pattern_primary.eps follows" title="Description of row_pattern_primary.eps follows" longdesc="img_text/row_pattern_primary.html"><br><a href="img_text/row_pattern_primary.html">Description of the illustration row_pattern_primary.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82B82FF8-AED0-4899-8444-E4A1343935E4"><span class="italic">row_pattern_permute</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-09D6793D-95E1-46B7-BF2E-4AECEF49A47C"><img src="img/row_pattern_permute.gif" alt="Description of row_pattern_permute.eps follows" title="Description of row_pattern_permute.eps follows" longdesc="img_text/row_pattern_permute.html"><br><a href="img_text/row_pattern_permute.html">Description of the illustration row_pattern_permute.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-73B5F60A-EC40-49D7-BA9B-15154FA5088D"><span class="italic">row_pattern_quantifier</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-42B256B7-E31D-4E7A-829A-D8C44191F0BA"><img src="img/row_pattern_quantifier.gif" alt="Description of row_pattern_quantifier.eps follows" title="Description of row_pattern_quantifier.eps follows" longdesc="img_text/row_pattern_quantifier.html"><br><a href="img_text/row_pattern_quantifier.html">Description of the illustration row_pattern_quantifier.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGIDD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D8EBF674-53F1-49C6-BE11-96A218FC5344"><span class="italic">row_pattern_subset_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D9F084E3-94C6-44E2-B465-60CCB4063F4A"><img src="img/row_pattern_subset_clause.gif" alt="Description of row_pattern_subset_clause.eps follows" title="Description of row_pattern_subset_clause.eps follows" longdesc="img_text/row_pattern_subset_clause.html"><br><a href="img_text/row_pattern_subset_clause.html">Description of the illustration row_pattern_subset_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1BD78C4C-9340-45B8-9440-681CC7029507"><span class="italic">row_pattern_subset_item</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-76C68B65-43A9-4C13-ADFE-D6DAFCE55411"><img src="img/row_pattern_subset_item.gif" alt="Description of row_pattern_subset_item.eps follows" title="Description of row_pattern_subset_item.eps follows" longdesc="img_text/row_pattern_subset_item.html"><br><a href="img_text/row_pattern_subset_item.html">Description of the illustration row_pattern_subset_item.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCICD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-34F215D9-20CA-4273-938B-2FCED73B4A47"><span class="italic">row_pattern_definition_list</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E97FD144-CAB2-472E-9926-04775438CB88"><img src="img/row_pattern_definition_list.gif" alt="Description of row_pattern_definition_list.eps follows" title="Description of row_pattern_definition_list.eps follows" longdesc="img_text/row_pattern_definition_list.html"><br><a href="img_text/row_pattern_definition_list.html">Description of the illustration row_pattern_definition_list.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8B1FF74A-DC35-422A-AC73-5CAF64C7EB04"><span class="italic">row_pattern_definition</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C77197AC-CE0F-4EF2-B6A3-BBC8B7CDC30B"><img src="img/row_pattern_definition.gif" alt="Description of row_pattern_definition.eps follows" title="Description of row_pattern_definition.eps follows" longdesc="img_text/row_pattern_definition.html"><br><a href="img_text/row_pattern_definition.html">Description of the illustration row_pattern_definition.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3604CD34-6309-4DD7-97B7-24E30934B8BF"><span class="italic">row_pattern_rec_func</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-66AA1348-F365-4732-9B90-172E25B51718"><img src="img/row_pattern_rec_func.gif" alt="Description of row_pattern_rec_func.eps follows" title="Description of row_pattern_rec_func.eps follows" longdesc="img_text/row_pattern_rec_func.html"><br><a href="img_text/row_pattern_rec_func.html">Description of the illustration row_pattern_rec_func.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGGCJ">row_pattern_classifier_func::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDBGI">row_pattern_match_num_func::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">row_pattern_navigation_func::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">row_pattern_aggregate_func::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEGGCJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-098E6FF6-CBED-4058-A7B2-880A0A41836A"><span class="italic">row_pattern_classifier_func</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9D896007-B5A0-4E89-9987-A70D4C2A7EF3"><img src="img/row_pattern_classifier_func.gif" alt="Description of row_pattern_classifier_func.eps follows" title="Description of row_pattern_classifier_func.eps follows" longdesc="img_text/row_pattern_classifier_func.html"><br><a href="img_text/row_pattern_classifier_func.html">Description of the illustration row_pattern_classifier_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDBGI">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-82B58D78-087D-4F85-8ADF-D9323176AAA6"><span class="italic">row_pattern_match_num_func</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-618F75BC-641A-4CAD-A2CE-D61A5E919C5C"><img src="img/row_pattern_match_num_func.gif" alt="Description of row_pattern_match_num_func.eps follows" title="Description of row_pattern_match_num_func.eps follows" longdesc="img_text/row_pattern_match_num_func.html"><br><a href="img_text/row_pattern_match_num_func.html">Description of the illustration row_pattern_match_num_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-172534FC-E8A1-452A-B627-B693D45F963F"><span class="italic">row_pattern_navigation_func</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-88E40061-899B-42F5-8A0D-58C33FB88938"><img src="img/row_pattern_navigation_func.gif" alt="Description of row_pattern_navigation_func.eps follows" title="Description of row_pattern_navigation_func.eps follows" longdesc="img_text/row_pattern_navigation_func.html"><br><a href="img_text/row_pattern_navigation_func.html">Description of the illustration row_pattern_navigation_func.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDCHF">row_pattern_nav_logical::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGEACD">row_pattern_nav_physical::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCFIDG">row_pattern_nav_compound::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDCHF">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9312EA94-7084-4AE2-B2EC-B4E518362647"><span class="italic">row_pattern_nav_logical</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6E0A503E-B538-44E8-A01A-F434FB242C02"><img src="img/row_pattern_nav_logical.gif" alt="Description of row_pattern_nav_logical.eps follows" title="Description of row_pattern_nav_logical.eps follows" longdesc="img_text/row_pattern_nav_logical.html"><br><a href="img_text/row_pattern_nav_logical.html">Description of the illustration row_pattern_nav_logical.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGEACD">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D65051AD-EC6F-4E89-AB65-03F4F021DD54"><span class="italic">row_pattern_nav_physical</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CC0687CA-5C41-4227-A23C-45269B07E4E3"><img src="img/row_pattern_nav_physical.gif" alt="Description of row_pattern_nav_physical.eps follows" title="Description of row_pattern_nav_physical.eps follows" longdesc="img_text/row_pattern_nav_physical.html"><br><a href="img_text/row_pattern_nav_physical.html">Description of the illustration row_pattern_nav_physical.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCFIDG">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-863CDBB4-48C1-40FA-91A0-2A16F465E8BE"><span class="italic">row_pattern_nav_compound</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-76DCCC26-81E1-4B9A-9128-EDFF760AF5FC"><img src="img/row_pattern_nav_compound.gif" alt="Description of row_pattern_nav_compound.eps follows" title="Description of row_pattern_nav_compound.eps follows" longdesc="img_text/row_pattern_nav_compound.html"><br><a href="img_text/row_pattern_nav_compound.html">Description of the illustration row_pattern_nav_compound.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B0E04A1C-C612-424D-99AF-C64D7C10C3C9"><span class="italic">row_pattern_aggregate_func</span>::=
                  </p>
                  <div class="figure" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D734FBD8-68AA-4BCD-AFC3-947C2B0E1B0D"><img src="img/row_pattern_aggregate_func.gif" alt="Description of row_pattern_aggregate_func.eps follows" title="Description of row_pattern_aggregate_func.eps follows" longdesc="img_text/row_pattern_aggregate_func.html"><br><a href="img_text/row_pattern_aggregate_func.html">Description of the illustration row_pattern_aggregate_func.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2065806">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-92B7251F-EE45-4191-BBB5-E21BC736FE6E">Semantics </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-DFD72C34-5CED-4F6D-BA6D-829BE525CF92"><span class="italic">with_clause</span></p>
                  <p><a id="d425579e1912" class="indexterm-anchor"></a>Use the <span class="italic"><code class="codeph">with_clause</code></span> to define the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>PL/SQL procedures and functions (using the <span class="italic"><code class="codeph">plsql_declarations</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Subquery blocks (using <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> or <span class="italic"><code class="codeph">subav_factoring_clause</code></span>, or both)
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJCBCC"><span class="bold"><span class="italic">plsql_declarations</span></span></p>
                  <p>The <span class="italic"><code class="codeph">plsql_declarations</code></span> clause lets you declare and define PL/SQL functions and procedures. You can then reference the PL/SQL functions in the query in which you specify this clause, as well as its subqueries, if any. For the purposes of name resolution, these function names have precedence over schema-level stored functions.
                  </p>
                  <p>If the query in which you specify this clause is not a top-level <code class="codeph">SELECT</code> statement, then the following rules apply to the top-level SQL statement that contains the query:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the top-level statement is a <code class="codeph">SELECT</code> statement, then it must have either a <code class="codeph">WITH</code> <span class="italic"><code class="codeph">plsql_declarations</code></span> clause or the <code class="codeph">WITH_PLSQL</code> hint.
                        </p>
                     </li>
                     <li>
                        <p>If the top-level statement is a <code class="codeph">DELETE</code>, <code class="codeph">MERGE</code>, <code class="codeph">INSERT</code>, or <code class="codeph">UPDATE</code> statement, then it must have the <code class="codeph">WITH_PLSQL</code> hint.
                        </p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">WITH_PLSQL</code> hint only enables you to specify the <code class="codeph">WITH</code> <span class="italic"><code class="codeph">plsql_declarations</code></span> clause within the statement. It is not an optimizer hint.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39F6D537-21E7-4809-865B-3BFE918C43E1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic">Oracle Database PL/SQL Language Reference</span> for syntax and restrictions for <a href="../lnpls/function-declaration-and-definition.html#LNPLS01322" target="_blank"><span class="italic"><code class="codeph">function_declaration</code></span></a> and <a href="../lnpls/procedure-declaration-and-definition.html#LNPLS01336" target="_blank"><span class="italic"><code class="codeph">procedure_declaration</code></span></a>.
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJFIDC">Using a PL/SQL Function in the WITH Clause: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2077142"><span class="bold"><span class="italic">subquery_factoring_clause</span></span></p>
                  <p>The <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> lets you assign a name (<span class="italic"><code class="codeph">query_name</code></span>) to a subquery block. You can then reference the subquery block multiple places in the query by specifying <span class="italic"><code class="codeph">query_name</code></span>. Oracle Database optimizes the query by treating the <span class="italic"><code class="codeph">query_name</code></span> as either an inline view or as a temporary table. The <span class="italic"><code class="codeph">query_name</code></span> is subject to the same naming conventions and restrictions as database schema objects. Refer to <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span> for information on database object names.
                  </p>
                  <p>The column aliases following the <span class="italic"><code class="codeph">query_name</code></span> and the set operators separating multiple subqueries in the <code class="codeph">AS</code> clause are valid and required for recursive subquery factoring. The <span class="italic"><code class="codeph">search_clause</code></span> and <span class="italic"><code class="codeph">cycle_clause</code></span> are valid only for recursive subquery factoring but are not required. See <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEJGIBG">Recursive Subquery Factoring</a>"</span>.
                  </p>
                  <p>You can specify this clause in any top-level <code class="codeph">SELECT</code> statement and in most types of subqueries. The query name is visible to the main query and to all subsequent subqueries. For recursive subquery factoring, the query name is even visible to the subquery that defines the query name itself.
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BCEJGIBG"><a id="d425579e2085" class="indexterm-anchor"></a><span class="bold">Recursive Subquery Factoring</span></p>
                  <p>If a <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> refers to its own <span class="italic"><code class="codeph">query_name</code></span> in the subquery that defines it, then the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> is said to be <span class="bold">recursive</span>. A recursive <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> must contain two query blocks: the first is the <span class="bold">anchor member</span> and the second is the <span class="bold">recursive member</span>. The anchor member must appear before the recursive member, and it cannot reference <span class="italic"><code class="codeph">query_name</code></span>. The anchor member can be composed of one or more query blocks combined by the set operators: <code class="codeph">UNION</code> <code class="codeph">ALL</code>, <code class="codeph">UNION</code>, <code class="codeph">INTERSECT</code> or <code class="codeph">MINUS</code>. The recursive member must follow the anchor member and must reference <span class="italic"><code class="codeph">query_name</code></span> exactly once. You must combine the recursive member with the anchor member using the <code class="codeph">UNION</code> <code class="codeph">ALL</code> set operator.
                  </p>
                  <p>The number of column aliases following <code class="codeph">WITH</code> <span class="italic"><code class="codeph">query_name</code></span> and the number of columns in the <code class="codeph">SELECT</code> lists of the anchor and recursive query blocks must be the same.
                  </p>
                  <p>The recursive member cannot contain any of the following elements:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">DISTINCT</code> keyword or a <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">model_clause</code></span></p>
                     </li>
                     <li>
                        <p>An aggregate function. However, analytic functions are permitted in the select list.</p>
                     </li>
                     <li>
                        <p>Subqueries that refer to <span class="italic"><code class="codeph">query_name</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>Outer joins that refer to <span class="italic"><code class="codeph">query_name</code></span> as the right table.
                        </p>
                     </li>
                  </ul>
                  <p>In previous releases of Oracle Database, the recursive member of a recursive <code class="codeph">WITH</code> clause ran serially regardless of the parallelism of the entire query (also known as the top-level <code class="codeph">SELECT</code> statement). Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the recursive member runs in parallel if the optimizer determines that the top-level <code class="codeph">SELECT</code> statement can be executed in parallel.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D679AAA3-9767-4EBC-89F7-1A4D218382BA"><span class="italic">search_clause</span></p>
                  <p>Use the <code class="codeph">SEARCH</code> clause to specify an ordering for the rows.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">BREADTH</code> <code class="codeph">FIRST</code> <code class="codeph">BY</code> if you want sibling rows returned before any child rows are returned.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">DEPTH</code> <code class="codeph">FIRST</code> <code class="codeph">BY</code> if you want child rows returned before any siblings rows are returned.
                        </p>
                     </li>
                     <li>
                        <p>Sibling rows are ordered by the columns listed after the <code class="codeph">BY</code> keyword. 
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">c_alias</code></span> list following the <code class="codeph">SEARCH</code> keyword must contain column names from the column alias list for <span class="italic"><code class="codeph">query_name</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">ordering_column</code></span> is automatically added to the column list for the query name. The query that selects from <span class="italic"><code class="codeph">query_name</code></span> can include an <code class="codeph">ORDER</code> <code class="codeph">BY</code> on <span class="italic"><code class="codeph">ordering_column</code></span> to return the rows in the order that was specified by the <code class="codeph">SEARCH</code> clause.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8EE64250-3C9A-40C7-A81D-46695F8B2EB9"><span class="italic">cycle_clause</span></p>
                  <p>Use the <code class="codeph">CYCLE</code> clause to mark cycles in the recursion. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <span class="italic"><code class="codeph">c_alias</code></span> list following the <code class="codeph">CYCLE</code> keyword must contain column names from the column alias list for <span class="italic"><code class="codeph">query_name</code></span>. Oracle Database uses these columns to detect a cycle. 
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">cycle_value</code></span> and <span class="italic"><code class="codeph">no_cycle_value</code></span> should be character strings of length 1.
                        </p>
                     </li>
                     <li>
                        <p>If a cycle is detected, then the cycle mark column specified by <span class="italic"><code class="codeph">cycle_mark_c_alias</code></span> for the row causing the cycle is set to the value specified for <span class="italic"><code class="codeph">cycle_value</code></span>. The recursion will then stop for this row. That is, it will not look for child rows for the offending row, but it will continue for other noncyclic rows. 
                        </p>
                     </li>
                     <li>
                        <p>If no cycles are found, then the cycle mark column is set to the default value specified for <span class="italic"><code class="codeph">no_cycle_value</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The cycle mark column is automatically added to the column list for the <span class="italic"><code class="codeph">query_name</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>A row is considered to form a cycle if one of its ancestor rows has the same values for the cycle columns.</p>
                     </li>
                  </ul>
                  <p>If you omit the <code class="codeph">CYCLE</code> clause, then the recursive <code class="codeph">WITH</code> clause returns an error if cycles are discovered. In this case, a row forms a cycle if one of its ancestor rows has the same values for all the columns in the column alias list for <span class="italic"><code class="codeph">query_name</code></span> that are referenced in the <code class="codeph">WHERE</code> clause of the recursive member.
                  </p>
                  <p><span class="bold">Restrictions on Subquery Factoring</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can specify only one <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> in a single SQL statement. Any <span class="italic"><code class="codeph">query_name</code></span> defined in the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> can be used in any subsequent named query block in the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>In a compound query with set operators, you cannot use the <span class="italic"><code class="codeph">query_name</code></span> for any of the component queries, but you can use the <span class="italic"><code class="codeph">query_name</code></span> in the <code class="codeph">FROM</code> clause of any of the component queries.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify duplicate names in the column alias list for <span class="italic"><code class="codeph">query_name</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The name used for the <span class="italic"><code class="codeph">ordering_column</code></span> has to be different from the name used for <span class="italic"><code class="codeph">cycle_mark_c_alias</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">ordering_column</code></span> and cycle mark column names cannot already be in the column alias list for <span class="italic"><code class="codeph">query_name</code></span>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EA060E73-FF20-4854-9617-5AA66C4FF867">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT010" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about inline views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129904">Subquery Factoring: Example</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCDJDB">Recursive Subquery Factoring: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FFA08384-CF16-4C37-8D49-80082A250D43"><span class="italic">subav_factoring_clause</span></p>
                  <p>With the <span class="italic"><code class="codeph">subav_factoring_clause</code></span>, you can define a transitory analytic view that filters fact data prior to aggregation or adds calculated measures to a query of an analytic view. The <code class="codeph"><span class="codeinlineitalic">subav_name</span></code> argument assigns a name to the transitory analytic view. You can then reference the transitory analytic view multiple places in the query by specifying <code class="codeph"><span class="codeinlineitalic">subav_name</span></code>. The <code class="codeph"><span class="codeinlineitalic">subav_name</span></code> is subject to the same naming conventions and restrictions as database schema objects. Refer to <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span> for information on database object names.
                  </p>
                  <p>You can specify this clause in any top-level <code class="codeph">SELECT</code> statement and in most types of subqueries. The query name is visible to the main query and to all subsequent subqueries.
                  </p>
                  <p>The <code class="codeph"><span class="codeinlineitalic">subav_clause</span></code> argument defines a transitory analytic view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3F3FE24E-2F79-4DF2-92B1-A700B3ACBF8A"><span class="italic">subav_clause</span></p>
                  <p>With the <code class="codeph">USING</code> keyword, specify the name of an analytic view, which may be a transitory analytic view previously defined in the <code class="codeph">WITH</code> clause or it may be a persistent analytic view. A persistent analytic view is defined in a <code class="codeph">CREATE</code> <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code> statement. If the analytic view is a persistent one, then the current user must have select access on it.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-17E380B3-F2DD-436D-ACBF-603D6529EC92">
                     <p class="notep1">See Also:</p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">Analytic Views: Examples</a></div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FB2A388A-DFAA-4DFF-A359-DD678589F9DC"><span class="italic">hierarchies_clause</span></p>
                  <p>The <code class="codeph"><span class="codeinlineitalic">hierarchies_clause</span></code> specifies the hierarchies of the base analytic view that the results of the transitory analytic view are dimensioned by. With the <code class="codeph">HIERARCHIES</code> keyword, specify the alias of one or more hierarchies of the base analytic view.
                  </p>
                  <p>If you do not specify a <code class="codeph">HIERARCHIES</code> clause, then the default hierarchies of the base analytic view are used.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1AAF0C79-737F-44E0-98F3-D865FE549B52"><span class="italic">filter_clauses</span></p>
                  <p>You may specify a given <span class="italic"><code class="codeph">hier_alias</code></span> in at most one <span class="italic"><code class="codeph">filter_clause</code></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7D196B75-9E61-4E21-8FE3-EF368EAC5EB8"><span class="italic">filter_clause</span></p>
                  <p>The filter clause applies the specified predicate condition to the fact table, which reduces the number of rows returned from the table before aggregation of the measure values. The predicate may contain any SQL row function or operation. The predicate may refer to any attribute of the specified hierarchy or it may refer to a measure of the analytic view if you specify the <code class="codeph">MEASURES</code> keyword.
                  </p>
                  <p>For example, the following clause restricts the aggregation of measure values to those for the first and second quarters of every year of a time hierarchy.</p><pre class="pre codeblock"><code>FILTER FACT (time_hier TO quarter_of_year IN (1,2))</code></pre><p>If you then select from the transitory analytic view the sales for the years 2000 and 2001, the values returned are the aggregated values of the first and second quarters only.</p>
                  <p>An example of specifying a predicate for a measure in the filter clause is the following.</p><pre class="pre codeblock"><code>FILTER FACT (MEASURES TO sales BETWEEN 100 AND 200)</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-787A0C7D-9974-4757-862C-F3CAF3CA7F5E"><span class="italic">attr_dim_alias</span></p>
                  <p>The alias of an attribute dimension in the base analytic view. The <code class="codeph">USER_ANALYTIC_VIEW_DIMENSIONS</code> view contains the aliases of the attribute dimensions in an analytic view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF5E2B39-D20F-4072-8E6C-79C51EEAD42B"><span class="italic">hier_alias</span></p>
                  <p>The alias of a hierarchy in the base analytic view. The <code class="codeph">USER_ANALYTIC_VIEW_HIERS</code> view contains the aliases of the hierarchies in an analytic view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-006A56D0-F40F-41E9-8F49-2CEF0987716C"><span class="italic">add_calcs_clause</span></p>
                  <p>With the <code class="codeph">ADD</code> <code class="codeph">MEASURES</code> keywords, you may add calculated measures to the transitory analytic view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E318B87F-D825-4E7C-B8DE-0EA6222BD5C8"><span class="italic">calc_meas_clause</span></p>
                  <p>Specify a name for the calculated measure and an analytic view expression that specifies values for the calculated measure. The analytic view expression can be any valid <code class="codeph"><span class="codeinlineitalic">calc_meas_expression</span></code> as described in <a href="analytic-view-measure-expressions.html#GUID-F8C7ED67-A4EC-479C-975F-12F1F4B8CBA0" title="You can use analytic view expressions to create calculated measures within the definition of an analytic view or in a query that selects from an analytic view.">Analytic View Expressions</a>. For example, the following adds a calculated measure named “share_sales.”
                  </p><pre class="pre codeblock"><code>ADD MEASURES (share_sales AS (SHARE_OF(sales HIERARCHY time_hier PARENT)))</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AF2E5568-30B6-4621-AC5E-7DB07ABEFF70"><span class="italic">hint</span></p>
                  <p>Specify a comment that passes instructions to the optimizer on choosing an execution plan for the statement. </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1E3BAD93-A28E-4832-9B0A-8EB2AFFA5DE6">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">Hints</a>"</span> for the syntax and description of hints
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CCC3D453-AF3B-4A2B-B189-8EF3E55263FC">DISTINCT | UNIQUE</p>
                  <p><a id="d425579e2631" class="indexterm-anchor"></a><a id="d425579e2633" class="indexterm-anchor"></a><a id="d425579e2635" class="indexterm-anchor"></a><a id="d425579e2639" class="indexterm-anchor"></a>Specify <code class="codeph">DISTINCT</code> or <code class="codeph">UNIQUE</code> if you want the database to return only one copy of each set of duplicate rows selected. These two keywords are synonymous. Duplicate rows are those with matching values for each expression in the select list. 
                  </p>
                  <p><span class="bold">Restrictions on DISTINCT and UNIQUE Queries</span></p>
                  <p>These types of queries are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When you specify <code class="codeph">DISTINCT</code> or <code class="codeph">UNIQUE</code>, the total number of bytes in all select list expressions is limited to the size of a data block minus some overhead. This size is specified by the initialization parameter <code class="codeph">DB_BLOCK_SIZE</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">DISTINCT</code> if the <span class="italic"><code class="codeph">select_list</code></span> contains LOB columns.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-88D9E360-577D-49E7-ADF0-F84025041BA6">ALL</p>
                  <p><a id="d425579e2682" class="indexterm-anchor"></a>Specify <code class="codeph">ALL</code> if you want the database to return all rows selected, including all copies of duplicates. The default is <code class="codeph">ALL</code>. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A833C7D-FCDD-49CC-82E5-54542384CAFA"><span class="italic">select_list</span></p>
                  <p>The <span class="italic"><code class="codeph">select_list</code></span> lets you specify the columns you want to retrieve from the database.
                  </p>
                  <p><span class="bold">* (all-column wildcard)</span></p>
                  <p><a id="d425579e2707" class="indexterm-anchor"></a><a id="d425579e2709" class="indexterm-anchor"></a><a id="d425579e2713" class="indexterm-anchor"></a>Specify the all-column wildcard (asterisk) to select all columns, excluding pseudocolumns and <code class="codeph">INVISIBLE</code> columns, from all tables, views, or materialized views listed in the <code class="codeph">FROM</code> clause. The columns are returned in the order indicated by the <code class="codeph">COLUMN_ID</code> column of the <code class="codeph">*_TAB_COLUMNS</code> data dictionary view for the table, view, or materialized view.
                  </p>
                  <p>If you are selecting from a table rather than from a view or a materialized view, then columns that have been marked as <code class="codeph">UNUSED</code> by the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">SET</code> <code class="codeph">UNUSED</code> statement are not selected. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1A7F5D24-0B0A-44C8-B9B0-B4C752F62AD8">
                     <p class="notep1">See Also:</p>
                     <p><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a>, <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129937">Simple Query Examples</a>"</span>, and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130183">Selecting from the DUAL Table: Example</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">query_name</span></span><span class="bold">.*</span></p>
                  <p>Specify <span class="italic"><code class="codeph">query_name</code></span> followed by a period and the asterisk to select all columns from the specified subquery block. For <span class="italic"><code class="codeph">query_name</code></span>, specify a subquery block name already specified in the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span>. You must have specified the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> in order to specify <span class="italic"><code class="codeph">query_name</code></span> in the <span class="italic"><code class="codeph">select_list</code></span>. If you specify <span class="italic"><code class="codeph">query_name</code></span> in the <span class="italic"><code class="codeph">select_list</code></span>, then you also must specify <span class="italic"><code class="codeph">query_name</code></span> in the <span class="italic"><code class="codeph">query_table_expression</code></span> (<code class="codeph">FROM</code> clause).
                  </p>
                  <p><span class="bold"><span class="italic">table.*</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">view.*</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">materialized view.*</span></span></p>
                  <p>Specify the object name followed by a period and the asterisk to select all columns from the specified table, view, or materialized view. Oracle Database returns a set of columns in the order in which the columns were specified when the object was created. A query that selects rows from two or more tables, views, or materialized views is a join. </p>
                  <p>You can use the schema qualifier to select from a table, view, or materialized view in a schema other than your own. If you omit <span class="italic"><code class="codeph">schema</code></span>, then the database assumes the table, view, or materialized view is in your own schema. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-71CBE0AD-1F11-45AA-B243-5FE94B46E2C6">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Joins.html#GUID-39081984-8D38-4D64-A847-AA43F515D460">Joins</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">t_alias </span></span><span class="bold">.*</span></p>
                  <p>Specify a correlation name (alias) followed by a period and the asterisk to select all columns from the object with that correlation name specified in the <code class="codeph">FROM</code> clause of the same subquery. The object can be a table, view, materialized view, or subquery. Oracle Database returns a set of columns in the order in which the columns were specified when the object was created. A query that selects rows from two or more objects is a join. 
                  </p>
                  <p><span class="bold"><span class="italic">expr</span></span></p>
                  <p>Specify an expression representing the information you want to select. A column name in this list can be qualified with <span class="italic"><code class="codeph">schema</code></span> only if the table, view, or materialized view containing the column is qualified with <span class="italic"><code class="codeph">schema</code></span> in the <code class="codeph">FROM</code> clause. If you specify a member method of an object type, then you must follow the method name with parentheses even if the method takes no arguments.
                  </p>
                  <p><span class="bold"><span class="italic">c_alias</span></span></p>
                  <p>Specify an alias for the column expression. Oracle Database will use this alias in the column heading of the result set. The <code class="codeph">AS</code> keyword is optional. The alias effectively renames the select list item for the duration of the query. The alias can be used in the <span class="italic"><code class="codeph">order_by_clause</code></span> but not other clauses in the query. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-443D6B96-06A5-4C7D-84DB-E34B5D6D5F71">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information on using the <span class="italic"><code class="codeph">expr</code></span> <code class="codeph">AS</code> <span class="italic"><code class="codeph">c_alias</code></span> syntax with the <code class="codeph">UNION</code> <code class="codeph">ALL</code> operator in queries of multiple materialized views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">About SQL Expressions</a>"</span> for the syntax of <span class="italic"><code class="codeph">expr</code></span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restrictions on the Select List</span></p>
                  <p>The select list is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you also specify a <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">group_by_clause</a></span> in this statement, then this select list can contain only the following types of expressions: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Constants </p>
                           </li>
                           <li>
                              <p>Aggregate functions and the functions <code class="codeph">USER</code>, <code class="codeph">UID</code>, and <code class="codeph">SYSDATE</code> 
                              </p>
                           </li>
                           <li>
                              <p>Expressions identical to those in the <span class="italic"><code class="codeph">group_by_clause</code></span>. If the <span class="italic"><code class="codeph">group_by_clause</code></span> is in a subquery, then all columns in the select list of the subquery must match the <code class="codeph">GROUP</code> <code class="codeph">BY</code> columns in the subquery. If the select list and <code class="codeph">GROUP</code> <code class="codeph">BY</code> columns of a top-level query or of a subquery do not match, then the statement results in ORA-00979. 
                              </p>
                           </li>
                           <li>
                              <p>Expressions involving the preceding expressions that evaluate to the same value for all rows in a group </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>You can select a rowid from a join view only if the join has one and only one key-preserved table. The rowid of that table becomes the rowid of the view. </p>
                        <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-68CB6D70-45C4-4195-A1FA-D0426B96EF4E">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN020" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on key-preserved tables
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>If two or more tables have some column names in common, and if you are specifying a join in the <code class="codeph">FROM</code> clause, then you must qualify column names with names of tables or table aliases. 
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0738FF18-4947-4763-AD68-707DCA6DC920">FROM Clause</p>
                  <p>The <code class="codeph">FROM</code> clause lets you specify the objects from which data is selected. 
                  </p>
                  <p>You can invoke a polymorphic table function (PTF) in the query block of the <code class="codeph">FROM</code> clause like other existing table functions. A PTF is a table function whose operands can have more than one type. For details on PTF, see the <a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS-GUID-981102A8-5204-4931-B10A-93486304B184" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C034AB9B-C1A4-46BD-A283-27296C39CAAE">ONLY</p>
                  <p>The <code class="codeph">ONLY</code> clause applies only to views. Specify <code class="codeph">ONLY</code> if the view in the <code class="codeph">FROM</code> clause is a view belonging to a hierarchy and you do not want to include rows from any of its subviews.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__QUERY_TABLE_EXPRESSION-55920974">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BF348D6A-0033-4C5E-8122-2A3F7ABB69CE"><span class="italic">query_table_expression</span></p>
                  <p>Use the <span class="italic"><code class="codeph">query_table_expression</code></span> clause to identify a subquery block, table, view, materialized view, analytic view, hierarchy, partition, or subpartition, or to specify a subquery that identifies the objects. In order to specify a subquery block, you must have specified the subquery block name (<span class="italic"><code class="codeph">query_name</code></span> in the <span class="italic"><code class="codeph">subquery_factoring_clause</code></span> or <span class="italic"><code class="codeph">subav_name</code></span> in the <span class="italic"><code class="codeph">subav_factoring_clause</code></span> ).
                  </p>
                  <p>The analytic view in the expression may be a transitory analytic view defined in the <code class="codeph"><span class="codeinlineitalic">with_clause</span></code> or a persistent analytic view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B4C37A4D-6A0C-4079-BD8A-3B8A4413F56A">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130078">Using Subqueries: Examples</a>"</span></p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCJCAG"><a id="d425579e3061" class="indexterm-anchor"></a><a id="d425579e3063" class="indexterm-anchor"></a><span class="bold">LATERAL</span></p>
                  <p>Specify <code class="codeph">LATERAL</code> to designate <span class="italic"><code class="codeph">subquery</code></span> as a lateral inline view. Within a lateral inline view, you can specify tables that appear to the left of the lateral inline view in the <code class="codeph">FROM</code> clause of a query. You can specify this left correlation anywhere within <span class="italic"><code class="codeph">subquery</code></span> (such as the <code class="codeph">SELECT</code>, <code class="codeph">FROM</code>, and <code class="codeph">WHERE</code> clauses) and at any nesting level.
                  </p>
                  <p><span class="bold">Restrictions on LATERAL</span></p>
                  <p>Lateral inline views are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">LATERAL</code>, then you cannot specify the <span class="italic"><code class="codeph">pivot_clause</code></span>, the <span class="italic"><code class="codeph">unpivot_clause</code></span>, or a pattern in the <span class="italic"><code class="codeph">table_reference</code></span> clause.
                        </p>
                     </li>
                     <li>
                        <p>If a lateral inline view contains the <span class="italic"><code class="codeph">query_partition_clause</code></span>, and it is the right side of a join clause, then it cannot contain a left correlation to the left table in the join clause. However, it can contain a left correlation to a table to its left in the <code class="codeph">FROM</code> clause that is not the left table.
                        </p>
                     </li>
                     <li>
                        <p>A lateral inline view cannot contain a left correlation to the first table in a right outer join or full outer join.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7B358DB8-7AE3-4410-A86F-35C80AFE4BAB">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDGIJ">Using Lateral Inline Views: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1DC2EC27-1D43-44A2-9095-91ADD07A9389"><span class="italic">inline_external_table</span></p>
                  <p>Specify this clause to inline an external table in a query. You must specify the table columns and properties for the external table that will be inlined in the query. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F9B9D0A8-8586-4E8B-8D7B-3C0A2135289A"><span class="italic">inline_external_table_properties</span></p>
                  <p>This clause extends the <code class="codeph">external_table_data_props</code> with the <code class="codeph">REJECT LIMIT</code> and <code class="codeph">access_driver_type</code> options. Use this clause to specify the properties of the external table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-040D8485-3EFB-4B49-B03F-922384A4F0DB"><span class="italic">modified_external_table</span></p>
                  <p>You can use this clause to override some external table properties specified by the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements from within a query. 
                  </p>
                  <p>You can override external table parameters at runtime.</p>
                  <p><span class="bold">Restrictions</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You must specify the key words <code class="codeph">EXTERNAL MODIFY</code> in the query. If you do not specify the keywords, you will see a <code class="codeph">Missing or invalid option</code> error.
                        </p>
                     </li>
                     <li>
                        <p>You must reference an external table in the query. If you do not, you will see an error.</p>
                     </li>
                     <li>
                        <p>You must specify at least <span class="italic">one</span> property in the query. One of <code class="codeph">DEFAULT DIRECTORY</code>, <code class="codeph">LOCATION</code>, <code class="codeph">ACCESS PARAMETERS</code>, or <code class="codeph">REJECT LIMIT</code>.
                        </p>
                     </li>
                     <li>
                        <p>If you specify more than one external table properties, they must be listed in order. First the <code class="codeph">DEFAULT DIRECTORY</code> must be specified, followed by the <code class="codeph">ACCESS PARAMETERS</code>, <code class="codeph">LOCATION</code> and <code class="codeph">REJECT LIMIT</code>. Otherwise an error will be raised. 
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">DEFAULT DIRECTORY</code> clause, you must specify only one proper default directory. Otherwise a <code class="codeph">Missing DEFAULT keyword</code> error will occur.
                        </p>
                     </li>
                     <li>
                        <p>You must enclose a filename in the <code class="codeph">LOCATION</code> clause within quotes. Otherwise a <code class="codeph">Missing keyword</code> error will occur. Note that the access driver will decide whether or not to allow a <code class="codeph">LOCATION</code> clause in the query. If the clause is disallowed for a particular access driver, an error will be raised. 
                        </p>
                     </li>
                     <li>
                        <p>For <code class="codeph">ORACLE_LOADER</code> and <code class="codeph">ORACLE_DATAPUMP</code> access drivers, the external file location in the <code class="codeph">LOCATION</code> clause must be specified in the following format: directory: location, i.e, the directory and location must be separated by a colon. Multiple locations in the clause must be separated by a comma. Otherwise, a <code class="codeph">Missing keyword</code> error will occur. 
                        </p>
                     </li>
                     <li>
                        <p>Note that <code class="codeph">LOCATION</code> will be made optional in <code class="codeph">CREATE TABLE</code>, and must be specified either when creating or querying the external table. Otherwise an error will be raised in the access driver. 
                        </p>
                     </li>
                     <li>
                        <p>When populating external data using <code class="codeph">ORACLE DATAPUMP</code> via <code class="codeph">CTAS</code>, the external file location must be specified. This will be the only case where <code class="codeph">LOCATION</code> clause is mandatory in <code class="codeph">CREATE TABLE</code>.
                        </p>
                     </li>
                     <li>
                        <p>When overriding access parameters, a proper access parameter list must be provided in the <code class="codeph">ACCESS PARAMETERS</code> clause, with enclosing parentheses. 
                        </p>
                        <p>Note that the syntax and allowable values for the access parameters in the <span class="italic"><code class="codeph">modified_external_table</code></span> clause are the same as for the external table DDL for each access driver. For more see <a href="../sutil/index.html" target="_blank"><span class="italic">Oracle Database Utilities</span></a>for additional details regarding syntax and permissible values.
                        </p>
                     </li>
                     <li>
                        <p> If you specify the <code class="codeph">REJECT LIMIT</code>, then it must either be <code class="codeph">UNLIMITED</code> or some valid value that is within range. Otherwise a <code class="codeph">Reject limit out of range</code> error will be raised.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D561FBBE-DCC1-4B4C-A576-1D7A8B571B3D"><span class="italic">modify_external_table_properties</span></p>
                  <p>You can specify the external table properties that you want to modify at run time using this clause. The parameters that you can modify are <code class="codeph">DEFAULT DIRECTORY</code>, <code class="codeph">LOCATION</code>, <code class="codeph">ACCESS PARAMETERS (BADFILE, LOGFILE, DISCARDFILE)</code> and <code class="codeph">REJECT LIMIT</code>.
                  </p>
                  <p><span class="bold">Example: Overriding External Table Parameters in a Query</span></p><pre class="oac_no_warn" dir="ltr">  SELECT * FROM
  sales_external EXTERNAL MODIFY (LOCATION 'sales_9.csv’ REJECT LIMIT UNLIMITED);</pre></div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9A510E8E-97D2-47D7-BBE3-20B30370C54D"><span class="italic">flashback_query_clause </span></p>
                  <p>Use the <span class="italic"><code class="codeph">flashback_query_clause</code></span> to retrieve data from a table, view, or materialized view based on time dimensions associated with the data.
                  </p>
                  <p>This clause implements SQL-driven Flashback, which lets you specify the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A different system change number or timestamp for each object in the select list, using the clauses <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">{</code> <code class="codeph">SCN</code> <code class="codeph">|</code> <code class="codeph">TIMESTAMP</code> <code class="codeph">}</code> or <code class="codeph">VERSIONS</code> <code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">{</code> <code class="codeph">SCN</code> <code class="codeph">|</code> <code class="codeph">TIMESTAMP</code> <code class="codeph">}</code>. You can also implement session-level Flashback using the <code class="codeph">DBMS_FLASHBACK</code> package.
                        </p>
                     </li>
                     <li>
                        <p>A valid time period for each object in the select list, using the clauses <code class="codeph">VERSIONS</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code> or <code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code>. You can also implement valid-time session-level Flashback using the <code class="codeph">DBMS_FLASHBACK_ARCHIVE</code> package.
                        </p>
                     </li>
                  </ul>
                  <p>A Flashback Query lets you retrieve a history of changes made to a row. You can retrieve the corresponding identifier of the transaction that made the change using the <code class="codeph">VERSIONS_XID</code> pseudocolumn. You can also retrieve information about the transaction that resulted in a particular row version by issuing an Oracle Flashback Transaction Query. You do this by querying the <code class="codeph">FLASHBACK_TRANSACTION_QUERY</code> data dictionary view for a particular transaction ID.
                  </p>
                  <p><span class="bold">VERSIONS BETWEEN { SCN | TIMESTAMP }</span></p>
                  <p>Specify <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> to retrieve multiple versions of the rows returned by the query. Oracle Database returns all committed versions of the rows that existed between two SCNs or between two timestamp values. The first specified SCN or timestamp must be earlier than the second specified SCN or timestamp. The rows returned include deleted and subsequently reinserted versions of the rows.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">SCN</code> ... to retrieve the versions of the row that existed between two SCNs. Both expressions must evaluate to a number and cannot evaluate to NULL. <code class="codeph">MINVALUE</code> and <code class="codeph">MAXVALUE</code> resolve to the SCN of the oldest and most recent data available, respectively.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> <code class="codeph">TIMESTAMP</code> ... to retrieve the versions of the row that existed between two timestamps. Both expressions must evaluate to a timestamp value and cannot evaluate to NULL. <code class="codeph">MINVALUE</code> and <code class="codeph">MAXVALUE</code> resolve to the timestamp of the oldest and most recent data available, respectively.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">AS OF { SCN | TIMESTAMP }</span></p>
                  <p>Specify <code class="codeph">AS</code> <code class="codeph">OF</code> to retrieve the single version of the rows returned by the query at a particular change number (SCN) or timestamp. If you specify <code class="codeph">SCN</code>, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to a number. If you specify <code class="codeph">TIMESTAMP</code>, then <span class="italic"><code class="codeph">expr</code></span> must evaluate to a timestamp value. In either case, <span class="italic"><code class="codeph">expr</code></span> cannot evaluate to NULL. Oracle Database returns rows as they existed at the specified system change number or time. 
                  </p>
                  <p>Oracle Database provides a group of version query pseudocolumns that let you retrieve additional information about the various row versions. Refer to <span class="q">"<a href="Version-Query-Pseudocolumns.html#GUID-F4DB0235-43A9-4AA2-8E9C-F2D9699D4AAD">Version Query Pseudocolumns</a>"</span> for more information.
                  </p>
                  <p>When both clauses are used together, the <code class="codeph">AS</code> <code class="codeph">OF</code> clause determines the SCN or moment in time from which the database issues the query. The <code class="codeph">VERSIONS</code> clause determines the versions of the rows as seen from the <code class="codeph">AS</code> <code class="codeph">OF</code> point. The database returns null for a row version if the transaction started before the first <code class="codeph">BETWEEN</code> value or ended after the <code class="codeph">AS</code> <code class="codeph">OF</code> point.
                  </p>
                  <p><span class="bold">VERSIONS PERIOD FOR</span></p>
                  <p>Specify <code class="codeph">VERSIONS</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code> to retrieve rows from <span class="italic"><code class="codeph">table</code></span> based on whether they are considered valid during the specified time period. In order to use this clause, <span class="italic"><code class="codeph">table</code></span> must support Temporal Validity.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">valid_time_column</code></span>, specify the name of the valid time dimension column for <span class="italic"><code class="codeph">table</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>Use the <code class="codeph">BETWEEN</code> clause to specify the time period during which rows are considered valid. Both expressions must evaluate to a timestamp value and cannot evaluate to NULL. <code class="codeph">MINVALUE</code> resolves to the earliest date or timestamp in the start time column of <span class="italic"><code class="codeph">table</code></span>. <code class="codeph">MAXVALUE</code> resolves to latest date or timestamp in the end time column of <span class="italic"><code class="codeph">table</code></span>.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">AS OF PERIOD FOR</span></p>
                  <p>Specify <code class="codeph">AS</code> <code class="codeph">OF</code> <code class="codeph">PERIOD</code> <code class="codeph">FOR</code> to retrieve rows from <span class="italic"><code class="codeph">table</code></span> based on whether they are considered valid as of the specified time. In order to use this clause, <span class="italic"><code class="codeph">table</code></span> must support Temporal Validity.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">valid_time_column</code></span>, specify the name of the valid time dimension column for <span class="italic"><code class="codeph">table</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">expr</code></span> to specify the time as of which rows are considered valid. The expression must evaluate to a timestamp value and cannot evaluate to NULL.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-02ACF4E7-3730-4687-A44C-FEE547A02D88">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adfns/design_basics.html#ADFNS967" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information on Temporal Validity
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJADHJHB">period_definition</a></span> to learn how to configure a table to support Temporal Validity and for information about the <span class="italic"><code class="codeph">valid_time_column</code></span>, start time column, and end time column
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Note on Flashback Queries</span></p>
                  <p>When performing a flashback query, Oracle Database might not use query optimizations that it would use for other types of queries, which could have a negative impact on performance. In particular, this occurs when you specify multiple flashback queries in a hierarchical query.</p>
                  <p><span class="bold">Restrictions on Flashback Queries</span></p>
                  <p>These queries are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify a column expression or a subquery in the expression of the <code class="codeph">AS</code> <code class="codeph">OF</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <code class="codeph">AS</code> <code class="codeph">OF</code> clause if you have specified the <span class="italic"><code class="codeph">for_update_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use the <code class="codeph">AS</code> <code class="codeph">OF</code> clause in the defining query of a materialized view.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use the <code class="codeph">VERSIONS</code> clause in flashback queries to temporary or external tables, or tables that are part of a cluster.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use the <code class="codeph">VERSIONS</code> clause in flashback queries to views. However, you can use the <code class="codeph">VERSIONS</code> syntax in the defining query of a view.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">flashback_query_clause</code></span> if you have specified <span class="italic"><code class="codeph">query_name</code></span> in the <span class="italic"><code class="codeph">query_table_expression</code></span>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F847414B-D7D2-4BE4-960E-52DA62DD4C60">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adfns/flashback.html#ADFNS01003" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information on Oracle Flashback Query
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112847">Using Flashback Queries: Example</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../adfns/flashback.html#ADFNS01009" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> and <a href="../arpls/DBMS_FLASHBACK.html#ARPLS142" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about session-level Flashback using the <code class="codeph">DBMS_FLASHBACK</code> package
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/managing-tables.html#ADMIN01513" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> and to the description of <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN23379" target="_blank"><code class="codeph">FLASHBACK_TRANSACTION_QUERY</code></a> in the <span class="italic">Oracle Database Reference </span>for more information about transaction history
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6927FCA1-1ADA-4099-91BD-0F7A9494294F"><span class="italic">partition_extension_clause</span></p>
                  <p>For <code class="codeph">PARTITION</code> or <code class="codeph">SUBPARTITION</code>, specify the name or key value of the partition or subpartition within <span class="italic"><code class="codeph">table</code></span> from which you want to retrieve data. 
                  </p>
                  <p>For range- and list-partitioned data, as an alternative to this clause, you can specify a condition in the <code class="codeph">WHERE</code> clause that restricts the retrieval to one or more partitions of <span class="italic"><code class="codeph">table</code></span>. Oracle Database will interpret the condition and fetch data from only those partitions. It is not possible to formulate such a <code class="codeph">WHERE</code> condition for hash-partitioned data.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3B6ABA54-3629-4E51-AFCC-BFC7FECBA48F">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-FED2E424-3F06-4B2B-88D2-DE043CA6E0E4">References to Partitioned Tables and Indexes</a>"</span> and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152">Selecting from a Partition: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A377D18F-2C67-47E4-B52D-89CDF92685DD"><span class="italic">dblink</span></p>
                  <p>For <span class="italic"><code class="codeph">dblink</code></span>, specify the complete or partial name for a database link to a remote database where the table, view, or materialized view is located. This database need not be an Oracle Database. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B1D5BEBD-E3E2-4DB9-BA73-6AD6066F18A0">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-61D0B206-A5EA-473F-AD04-7067D6E3914C">References to Objects in Remote Databases</a>"</span> for more information on referring to database links
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="Distributed-Queries.html#GUID-DADE67A5-1C58-4132-9B2F-C14AE9B65508">Distributed Queries</a>"</span> for more information about distributed queries and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130133">Using Distributed Queries: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p>If you omit <span class="italic"><code class="codeph">dblink</code></span>, then the database assumes that the table, view, or materialized view is on the local database. 
                  </p>
                  <p><span class="bold">Restrictions on Database Links</span></p>
                  <p>Database links are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot query a user-defined type or an object <code class="codeph">REF</code> on a remote table.
                        </p>
                     </li>
                     <li>
                        <p>You cannot query columns of type <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATA</code>, or <code class="codeph">ANYDATASET</code> from remote tables.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3020866D-6500-4BB5-9E9B-ED4039D91214"><span class="italic">table</span> | <span class="italic">view</span> | <span class="italic">materialized_view</span> | <span class="italic">analytic_view</span> | <span class="italic">hierarchy</span> 
                  </p>
                  <p>Specify the name of a table, view, materialized view, analytic view, or hierarchy from which data is selected.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__ANALYTIC_VIEW-F117119F">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-94272D1A-388E-4ADB-A8D7-1C89EF4C196D"><span class="italic">analytic_view</span></p>
                  <p>A persistent analytic view defined with the <code class="codeph">CREATE</code> <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code> statement or a transitory analytic view defined in a <code class="codeph">WITH</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1A323D0A-80D0-4FB7-BB98-5223D614E113">
                     <p class="notep1">See Also:</p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">Analytic Views: Examples</a></div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__HIERARCHY-F1175778">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B15631D9-5877-43AD-BC5E-928817BA2B10"><span class="italic">hierarchy</span></p>
                  <p>A hierarchy defined with the <code class="codeph">CREATE</code> <code class="codeph">HIERARCHY</code> statement.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-49792FA3-A1CC-4497-874A-631543D425A4"><span class="italic">sample_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">sample_clause</code></span> lets you instruct the database to select from a random sample of data from the table, rather than from the entire table.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-96928A04-8A30-43F2-82BC-AE4CDFBD616E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105143">Selecting a Sample: Examples</a>"</span></p>
                  </div>
                  <p><span class="bold">BLOCK</span></p>
                  <p><code class="codeph">BLOCK</code> instructs the database to attempt to perform random block sampling instead of random row sampling. 
                  </p>
                  <p>Block sampling is possible only during full table scans or index fast full scans. If a more efficient execution path exists, then Oracle Database does not perform block sampling. If you want to guarantee block sampling for a particular table or index, then use the <code class="codeph">FULL</code> or <code class="codeph">INDEX_FFS</code> hint.
                  </p>
                  <p>Beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.), you can specify block sampling for external tables. In earlier releases, specifying block sampling for external tables had no effect; row sampling was performed.
                  </p>
                  <p><span class="bold"><span class="italic">sample_percent</span></span></p>
                  <p>For <span class="italic"><code class="codeph">sample_percent</code></span>, specify the percentage of the total row or block count to be included in the sample. The value must be in the range .000001 to, but not including, 100. This percentage indicates the probability of each row, or each cluster of rows in the case of block sampling, being selected as part of the sample. It does not mean that the database will retrieve exactly <span class="italic"><code class="codeph">sample_percent</code></span> of the rows of <span class="italic"><code class="codeph">table</code></span>.
                  </p>
                  <div class="infoboxnotewarn" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BA9D969D-424C-4CD7-965E-249E04F5C135">
                     <p class="notep1">WARNING:</p>
                     <p>The use of statistically incorrect assumptions when using this feature can lead to incorrect or undesirable results. </p>
                  </div>
                  <p><span class="bold">SEED</span> <span class="bold"><span class="italic">seed_value</span></span></p>
                  <p>Specify this clause to instruct the database to attempt to return the same sample from one execution to the next. The <span class="italic"><code class="codeph">seed_value</code></span> must be an integer between 0 and 4294967295. If you omit this clause, then the resulting sample will change from one execution to the next.
                  </p>
                  <p><span class="bold">Restrictions on</span> <span class="bold"><span class="italic">sample_clause</span></span></p>
                  <p>The following restrictions apply to the <code class="codeph">SAMPLE</code> clause:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify the <code class="codeph">SAMPLE</code> clause in a subquery in a DML statement.
                        </p>
                     </li>
                     <li>
                        <p>You can specify the <code class="codeph">SAMPLE</code> clause in a query on a base table, a container table of a materialized view, or a view that is key preserving. You cannot specify this clause on a view that is not key preserving.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0A6A4636-4C95-4B2A-94B8-A338525FFFB7"><span class="italic">subquery_restriction_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">subquery_restriction_clause</code></span> lets you restrict the subquery in one of the following ways:
                  </p>
                  <p><span class="bold">WITH READ ONLY</span></p>
                  <p>Specify <code class="codeph">WITH READ ONLY</code> to indicate that the table or view cannot be updated.
                  </p>
                  <p><span class="bold">WITH CHECK OPTION</span></p>
                  <p>Specify <code class="codeph">WITH CHECK OPTION</code> to indicate that Oracle Database prohibits any changes to the table or view that would produce rows that are not included in the subquery. When used in the subquery of a DML statement, you can specify this clause in a subquery in the <code class="codeph">FROM</code> clause but not in subquery in the <code class="codeph">WHERE</code> clause.
                  </p>
                  <p><span class="bold">CONSTRAINT</span> <span class="bold"><span class="italic">constraint</span></span></p>
                  <p>Specify the name of the <code class="codeph">CHECK OPTION</code> constraint. If you omit this identifier, then Oracle automatically assigns the constraint a name of the form <code class="codeph">SYS_C</code><span class="italic"><code class="codeph">n</code></span>, where n is an integer that makes the constraint name unique within the database.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-63F177FE-08E9-4FE6-8FA1-FED4103E3B84">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598">Using the WITH CHECK OPTION Clause: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2104990">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D92F6514-D6D4-48F2-8A43-FAF5FFEA53B4"><span class="italic">table_collection_expression</span></p>
                  <p>The <span class="italic"><code class="codeph">table_collection_expression</code></span> lets you inform Oracle that the value of <span class="italic"><code class="codeph">collection_expression</code></span> should be treated as a table for purposes of query and DML operations. The <span class="italic"><code class="codeph">collection_expression</code></span> can be a subquery, a column, a function, or a collection constructor. Regardless of its form, it must return a collection value—that is, a value whose type is nested table or varray. This process of extracting the elements of a collection is called <span class="bold">collection unnesting</span>.
                  </p>
                  <p>The optional plus (+) is relevant if you are joining the <code class="codeph">TABLE</code> collection expression with the parent table. The + creates an outer join of the two, so that the query returns rows from the outer table even if the collection expression is null.
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BF34DD46-FA0D-4F83-9458-E1B126639957">
                     <p class="notep1">Note:</p>
                     <p>In earlier releases of Oracle, when <span class="italic"><code class="codeph">collection_expression</code></span> was a subquery, <span class="italic"><code class="codeph">table_collection_expression</code></span> was expressed as <code class="codeph">THE</code> <span class="italic"><code class="codeph">subquery</code></span>. That usage is now deprecated.
                     </p>
                  </div>
                  <p>The <span class="italic"><code class="codeph">collection_expression</code></span> can reference columns of tables defined to its left in the <code class="codeph">FROM</code> clause. This is called <span class="bold">left correlation</span>. Left correlation can occur only in <span class="italic"><code class="codeph">table_collection_expression</code></span>. Other subqueries cannot contains references to columns defined outside the subquery.
                  </p>
                  <p><a id="d425579e4147" class="indexterm-anchor"></a>The optional <code class="codeph">(+)</code> lets you specify that <span class="italic"><code class="codeph">table_collection_expression</code></span> should return a row with all fields set to null if the collection is null or empty. The <code class="codeph">(+)</code> is valid only if <span class="italic"><code class="codeph">collection_expression</code></span> uses left correlation. The result is similar to that of an outer join. 
                  </p>
                  <p>When you use the <code class="codeph">(+)</code> syntax in the <code class="codeph">WHERE</code> clause of a subquery in an <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> operation, you must specify two tables in the <code class="codeph">FROM</code> clause of the subquery. Oracle Database ignores the outer join syntax unless there is a join in the subquery itself.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-EB38A098-5295-4B73-8D6F-47BACC1818D2">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="Joins.html#GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A">Outer Joins</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">Table Collections: Examples</a>"</span> and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071637">Collection Unnesting: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__T_ALIAS-EF134CB8">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-598B997F-C8A1-4EBA-A059-403F7D8AAF85"><span class="italic">t_alias</span></p>
                  <p>Specify a <span class="bold">correlation</span> <span class="bold">name</span>, which is an alias for the table, view, materialized view, or subquery for evaluating the query. This alias is required if the select list references any object type attributes or object type methods. Correlation names are most often used in a correlated query. Other references to the table, view, or materialized view throughout the query must refer to this alias.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39316619-3585-4D00-BA95-4FEAE456B139">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066912">Using Correlated Subqueries: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C9CD3C5-0A70-4A6F-A76C-309A6502A2C3"><span class="italic">pivot_clause</span></p>
                  <p><a id="d425579e4221" class="indexterm-anchor"></a><a id="d425579e4223" class="indexterm-anchor"></a><a id="d425579e4227" class="indexterm-anchor"></a>The <span class="italic"><code class="codeph">pivot_clause</code></span> lets you write cross-tabulation queries that rotate rows into columns, aggregating data in the process of the rotation. The output of a pivot operation typically includes more columns and fewer rows than the starting data set. The <span class="italic"><code class="codeph">pivot_clause</code></span> performs the following steps:
                  </p>
                  <ol>
                     <li>
                        <p>The <span class="italic"><code class="codeph">pivot_clause</code></span> computes the aggregation functions specified at the beginning of the clause. Aggregation functions must specify a <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause to return multiple values, yet the <span class="italic"><code class="codeph">pivot_clause</code></span> does not contain an explicit <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause. Instead, the <span class="italic"><code class="codeph">pivot_clause</code></span> performs an implicit <code class="codeph">GROUP</code> <code class="codeph">BY</code>. The implicit grouping is based on all the columns not referred to in the <span class="italic"><code class="codeph">pivot_clause</code></span>, along with the set of values specified in the <span class="italic"><code class="codeph">pivot_in_clause</code></span>.). If you specify more than one aggregation function, then you must provide aliases for at least all but one of the aggregation functions.
                        </p>
                     </li>
                     <li>
                        <p>The grouping columns and aggregated values calculated in Step 1 are configured to produce the following cross-tabular output:</p>
                        <ol type="a">
                           <li>
                              <p>All the implicit grouping columns not referred to in the <span class="italic"><code class="codeph">pivot_clause</code></span>, followed by
                              </p>
                           </li>
                           <li>
                              <p>New columns corresponding to values in the <span class="italic"><code class="codeph">pivot_in_clause</code></span>. Each aggregated value is transposed to the appropriate new column in the cross-tabulation. If you specify the <code class="codeph">XML</code> keyword, then the result is a single new column that expresses the data as an XML string. The database generates a name for each new column. If you do not provide an alias for an aggregation function, then the database uses each pivot column value as the name for each new column to which that aggregated value is transposed. If you provide an alias for an aggregation function, then the database generates a name for each new column to which that aggregated value is transposed by concatenating the pivot column name, the underscore character (_), and the aggregation function alias. If a generated column name exceeds the maximum length of a column name, then an ORA-00918 error is returned. To avoid this issue, specify a shorter alias for the pivot column heading, the aggregation function, or both.
                              </p>
                           </li>
                        </ol>
                     </li>
                  </ol>
                  <p>The subclauses of the <span class="italic"><code class="codeph">pivot_clause</code></span> have the following semantics:
                  </p>
                  <p><span class="bold">XML</span></p>
                  <p>The optional <code class="codeph">XML</code> keyword generates XML output for the query. The <code class="codeph">XML</code> keyword permits the <span class="italic"><code class="codeph">pivot_in_clause</code></span> to contain either a subquery or the wildcard keyword <code class="codeph">ANY</code>. Subqueries and <code class="codeph">ANY</code> wildcards are useful when the <span class="italic"><code class="codeph">pivot_in_clause</code></span> values are not known in advance. With XML output, the values of the pivot column are evaluated at execution time. You cannot specify <code class="codeph">XML</code> when you specify explicit pivot values using expressions in the <span class="italic"><code class="codeph">pivot_in_clause</code></span>.
                  </p>
                  <p>When XML output is generated, the aggregate function is applied to each distinct pivot value, and the database returns a column of <code class="codeph">XMLType</code> containing an XML string for all value and measure pairs.
                  </p>
                  <p><span class="bold"><span class="italic">expr</span></span></p>
                  <p>For <span class="italic"><code class="codeph">expr</code></span>, specify an expression that evaluates to a constant value of a pivot column. You can optionally provide an alias for each pivot column value. If there is no alias, the column heading becomes a quoted identifier.
                  </p>
                  <p><span class="bold"><span class="italic">subquery</span></span></p>
                  <p>A subquery is used only in conjunction with the <code class="codeph">XML</code> keyword. When you specify a subquery, all values found by the subquery are used for pivoting. The output is not the same cross-tabular format returned by non-XML pivot queries. Instead of multiple columns specified in the <span class="italic"><code class="codeph">pivot_in_clause</code></span>, the subquery produces a single XML string column. The XML string for each row holds aggregated data corresponding to the implicit <code class="codeph">GROUP</code> <code class="codeph">BY</code> value of that row. The XML string for each output row includes all pivot values found by the subquery, even if there are no corresponding rows in the input data.
                  </p>
                  <p>The subquery must return a list of unique values at the execution time of the pivot query. If the subquery does not return a unique value, then Oracle Database raises a run-time error. Use the <code class="codeph">DISTINCT</code> keyword in the subquery if you are not sure the query will return unique values.
                  </p>
                  <p><span class="bold">ANY</span></p>
                  <p>The <code class="codeph">ANY</code> keyword is used only in conjunction with the <code class="codeph">XML</code> keyword. The <code class="codeph">ANY</code> keyword acts as a wildcard and is similar in effect to <span class="italic"><code class="codeph">subquery</code></span>. The output is not the same cross-tabular format returned by non-XML pivot queries. Instead of multiple columns specified in the <span class="italic"><code class="codeph">pivot_in_clause</code></span>, the <code class="codeph">ANY</code> keyword produces a single XML string column. The XML string for each row holds aggregated data corresponding to the implicit <code class="codeph">GROUP</code> <code class="codeph">BY</code> value of that row. However, in contrast to the behavior when you specify <span class="italic"><code class="codeph">subquery</code></span>, the <code class="codeph">ANY</code> wildcard produces an XML string for each output row that includes only the pivot values found in the input data corresponding to that row.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C5FB992C-539B-4819-A299-440B96AFC07F">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/sql-analysis-reporting-data-warehouses.html#DWHSG0209" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information about <code class="codeph">PIVOT</code> and <code class="codeph">UNPIVOT</code> and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDFIIDD">Using PIVOT and UNPIVOT: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8C5700F1-8770-49EA-B152-13459CF763D3"><span class="italic">unpivot_clause</span></p>
                  <p><a id="d425579e4443" class="indexterm-anchor"></a><a id="d425579e4445" class="indexterm-anchor"></a><a id="d425579e4449" class="indexterm-anchor"></a>The <span class="italic"><code class="codeph">unpivot_clause</code></span> rotates columns into rows.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">INCLUDE</code> | <code class="codeph">EXCLUDE</code> <code class="codeph">NULLS</code> clause gives you the option of including or excluding null-valued rows. <code class="codeph">INCLUDE</code> <code class="codeph">NULLS</code> causes the unpivot operation to include null-valued rows; <code class="codeph">EXCLUDE</code> <code class="codeph">NULLS</code> eliminates null-values rows from the return set. If you omit this clause, then the unpivot operation excludes nulls.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">column</code></span>, specify a name for each output column that will hold measure values, such as <code class="codeph">sales_quantity</code>.
                        </p>
                     </li>
                     <li>
                        <p>In the <span class="italic"><code class="codeph">pivot_for_clause</code></span>, specify a name for each output column that will hold descriptor values, such as quarter or product.
                        </p>
                     </li>
                     <li>
                        <p>In the <span class="italic"><code class="codeph">unpivot_in_clause</code></span>, specify the input data columns whose names will become values in the output columns of the <span class="italic"><code class="codeph">pivot_for_clause</code></span>. These input data columns have names specifying a category value, such as Q1, Q2, Q3, Q4. The optional <code class="codeph">AS</code> clause lets you map the input data column names to the specified <span class="italic"><code class="codeph">literal</code></span> values in the output columns.
                        </p>
                     </li>
                  </ul>
                  <p>The unpivot operation turns a set of value columns into one column. Therefore, the data types of all the value columns must be in the same data type group, such as numeric or character.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If all the value columns are <code class="codeph">CHAR</code>, then the unpivoted column is <code class="codeph">CHAR</code>. If any value column is <code class="codeph">VARCHAR2</code>, then the unpivoted column is <code class="codeph">VARCHAR2</code>.
                        </p>
                     </li>
                     <li>
                        <p>If all the value columns are <code class="codeph">NUMBER</code>, then the unpivoted column is <code class="codeph">NUMBER</code>. If any value column is <code class="codeph">BINARY_DOUBLE</code>, then the unpivoted column is <code class="codeph">BINARY_DOUBLE</code>. If no value column is <code class="codeph">BINARY_DOUBLE</code> but any value column is <code class="codeph">BINARY_FLOAT</code>, then the unpivoted column is <code class="codeph">BINARY_FLOAT</code>.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CONTAINERS_CLAUSE-2C8DC5C8">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9F2C552B-638B-4004-8E26-BA6FF47E3FFB"><span class="italic">containers_clause</span></p>
                  <p>The <code class="codeph">CONTAINERS</code> clause is useful in a multitenant container database (CDB). This clause lets you query data in the specified table or view across all containers in a CDB.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>To query data in a CDB, you must be a common user connected to the CDB root, and the table or view must exist in the root and all PDBs. The query returns all rows from the table or view in the CDB root and in all open PDBs.</p>
                     </li>
                     <li>
                        <p>To query data in an application container, you must be a common user connected to the application root, and the table or view must exist in the application root and all PDBs in the application container. The query returns all rows from the table or view in the application root and in all open PDBs in the application container.</p>
                     </li>
                  </ul>
                  <p>The table or view must be in your own schema. It is not necessary to specify <span class="italic"><code class="codeph">schema</code></span>, but if you do then you must specify your own schema.
                  </p>
                  <p>The query returns all rows from the table or view in the root and in all open PDBs, except PDBs that are open in <code class="codeph">RESTRICTED</code> mode. If the queried table or view does not already contain a <code class="codeph">CON_ID</code> column, then the query adds a <code class="codeph">CON_ID</code> column to the query result, which identifies the container whose data a given row represents.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-462B1B8C-AB21-40B3-9C1D-4559AB0A17D1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Comments.html#GUID-28F7F1DB-E265-40CB-BF41-E07A1A755566">CONTAINERS Hint</a></p>
                        </li>
                        <li>
                           <p><a href="../multi/viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#ADMIN14319" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on the <code class="codeph">CONTAINERS</code> clause
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1AD99636-9692-4F16-9A17-87C7E9FE8AD4"><span class="italic">shards_clause</span></p>
                  <p>Use the<span class="italic"><code class="codeph"> shards_clause</code></span> to query Oracle supplied objects such as <code class="codeph">V$</code>, <code class="codeph">DBA/USER/ALL</code> views, and dictionary tables across shards. You can execute a query with the <span class="italic"><code class="codeph">shards_clause</code></span> only on the shard catalog database.
                  </p>
                  <p>This feature enables easier centralized management by providing the ability to execute queries across all shards from a central shard catalog.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2080416">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-17D9037F-0079-430F-AD3B-6F87C50B5A72"><span class="italic">join_clause</span></p>
                  <p>Use the appropriate <span class="italic"><code class="codeph">join_clause</code></span> syntax to identify tables that are part of a join from which to select data. The <span class="italic"><code class="codeph">inner_cross_join_clause</code></span> lets you specify an inner or cross join. The <span class="italic"><code class="codeph">outer_join_clause</code></span> lets you specify an outer join. The <span class="italic"><code class="codeph">cross_outer_apply_clause</code></span> lets you specify a variation of an ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code> or an ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code> with left correlation support.
                  </p>
                  <p>When you join more than two row sources, you can use parentheses to override default precedence. For example, the following syntax:</p><pre class="oac_no_warn" dir="ltr">SELECT ... FROM a JOIN (b JOIN c) ...
</pre><p>results in a join of <code class="codeph">b</code> and <code class="codeph">c</code>, and then a join of that result set with <code class="codeph">a</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-77986614-F374-4C55-922E-365519AB2250">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Joins.html#GUID-39081984-8D38-4D64-A847-AA43F515D460">Joins</a>"</span> for more information on joins, <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066611">Using Join Queries: Examples</a>"</span>, <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066652">Using Self Joins: Example</a>"</span>, and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296">Using Outer Joins: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-BDF73DD3-070B-4BA2-894E-1ECC60C0DE20"><span class="italic">inner_cross_join_clause</span></p>
                  <p>Inner joins return only those rows that satisfy the join condition.</p>
                  <p><span class="bold">INNER</span></p>
                  <p>Specify <code class="codeph">INNER</code> to explicitly specify an inner join.
                  </p>
                  <p><span class="bold">JOIN</span></p>
                  <p>The <code class="codeph">JOIN</code> keyword explicitly states that a join is being performed. You can use this syntax to replace the comma-delimited table expressions used in <code class="codeph">WHERE</code> clause joins with <code class="codeph">FROM</code> clause join syntax.
                  </p>
                  <p><span class="bold">ON</span> <span class="bold"><span class="italic">condition</span></span></p>
                  <p>Use the <code class="codeph">ON</code> clause to specify a join condition. Doing so lets you specify join conditions separate from any search or filter conditions in the <code class="codeph">WHERE</code> clause.
                  </p>
                  <p><span class="bold">USING (</span><span class="bold"><span class="italic">column</span></span><span class="bold">)</span></p>
                  <p>When you are specifying an equijoin of columns that have the same name in both tables, the <code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span> clause indicates the columns to be used. You can use this clause only if the join columns in both tables have the same name. Within this clause, do not qualify the column name with a table name or table alias.
                  </p>
                  <p><span class="bold">CROSS</span> <a id="d425579e4767" class="indexterm-anchor"></a><a id="d425579e4769" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">CROSS</code> keyword indicates that a cross join is being performed. A cross join produces the cross-product of two relations and is essentially the same as the comma-delimited Oracle Database notation.
                  </p>
                  <p><span class="bold">NATURAL</span></p>
                  <p>The <code class="codeph">NATURAL</code> keyword indicates that a natural join is being performed. Refer to <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHGCAE">NATURAL</a> for the full semantics of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CC19E57B-3744-4E59-82ED-C2AA6BEAB629"><span class="italic">outer_join_clause</span></p>
                  <p>Outer joins return all rows that satisfy the join condition and also return some or all of those rows from one table for which no rows from the other satisfy the join condition. You can specify two types of outer joins: a conventional outer join using the <span class="italic"><code class="codeph">table_reference</code></span> syntax on both sides of the join, or a partitioned outer join using the <span class="italic"><code class="codeph">query_partition_clause</code></span> on one side or the other. A partitioned outer join is similar to a conventional outer join except that the join takes place between the outer table and each partition of the inner table. This type of join lets you selectively make sparse data more dense along the dimensions of interest. This process is called <span class="bold">data densification</span>.
                  </p>
                  <p><span class="bold"><span class="italic">query_partition_clause</span></span></p>
                  <p>The <span class="italic"><code class="codeph">query_partition_clause</code></span> lets you define a <span class="bold">partitioned outer join</span>. Such a join extends the conventional outer join syntax by applying the outer join to partitions returned by the query. Oracle Database creates a partition of rows for each expression you specify in the <code class="codeph">PARTITION</code> <code class="codeph">BY</code> clause. The rows in each query partition have same value for the <code class="codeph">PARTITION</code> <code class="codeph">BY</code> expression. 
                  </p>
                  <p>The <span class="italic"><code class="codeph">query_partition_clause</code></span> can be on either side of the outer join. The result of a partitioned outer join is a <code class="codeph">UNION</code> of the outer joins of each of the partitions in the partitioned result set and the table on the other side of the join. This type of result is useful for filling gaps in sparse data, which simplifies analytic calculations.
                  </p>
                  <p>If you omit this clause, then the database treats the entire table expression—everything specified in <span class="italic"><code class="codeph">table_reference</code></span>—as a single partition, resulting in a conventional outer join. 
                  </p>
                  <p>To use the <span class="italic"><code class="codeph">query_partition_clause</code></span> in an analytic function, use the upper branch of the syntax (without parentheses). To use this clause in a model query (in the <span class="italic"><code class="codeph">model_column_clauses</code></span>) or a partitioned outer join (in the <span class="italic"><code class="codeph">outer_join_clause</code></span>), use the lower branch of the syntax (with parentheses).
                  </p>
                  <p><span class="bold">Restrictions on Partitioned Outer Joins</span></p>
                  <p>Partitioned outer joins are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can specify the <span class="italic"><code class="codeph">query_partition_clause</code></span> on either the right or left side of the join, but not both.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify a <code class="codeph">FULL</code> partitioned outer join.
                        </p>
                     </li>
                     <li>
                        <p>If you specify the <span class="italic"><code class="codeph">query_partition_clause</code></span> in an outer join with an <code class="codeph">ON</code> clause, then you cannot specify a subquery in the <code class="codeph">ON</code> condition.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B74968AB-0B32-4CE7-A234-2DED0224A2F2">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2177515">Using Partitioned Outer Joins: Examples</a>"</span></p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHGCAE"><span class="bold">NATURAL</span><a id="d425579e4903" class="indexterm-anchor"></a><a id="d425579e4905" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">NATURAL</code> keyword indicates that a natural join is being performed. A natural join is based on all columns in the two tables that have the same name. It selects rows from the two tables that have equal values in the relevant columns. If two columns with the same name do not have compatible data types, then an error is raised. When specifying columns that are involved in the natural join, do not qualify the column name with a table name or table alias.
                  </p>
                  <p>On occasion, the table pairings in natural or cross joins may be ambiguous. For example, consider the following join syntax:</p><pre class="oac_no_warn" dir="ltr">   a NATURAL LEFT JOIN b LEFT JOIN c ON b.c1 = c.c1
</pre><p>This example can be interpreted in either of the following ways:</p><pre class="oac_no_warn" dir="ltr">   a NATURAL LEFT JOIN (b LEFT JOIN c ON b.c1 = c.c1) 
   (a NATURAL LEFT JOIN b) LEFT JOIN c ON b.c1 = c.c1
</pre><p>To avoid this ambiguity, you can use parentheses to specify the pairings of joined tables. In the absence of such parentheses, the database uses left associativity, pairing the tables from left to right.</p>
                  <p><span class="bold">Restriction on Natural Joins</span></p>
                  <p>You cannot specify a LOB column, columns of <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATA</code>, or <code class="codeph">ANYDATASET</code>, or a collection column as part of a natural join.
                  </p>
                  <p><span class="bold"><span class="italic">outer_join_type</span></span></p>
                  <p>The <span class="italic"><code class="codeph">outer_join_type</code></span> indicates the kind of outer join being performed:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">RIGHT</code> to indicate a right outer join.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">LEFT</code> to indicate a left outer join.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">FULL</code> to indicate a full or two-sided outer join. In addition to the inner join, rows from both tables that have not been returned in the result of the inner join will be preserved and extended with nulls.
                        </p>
                     </li>
                     <li>
                        <p>You can specify the optional <code class="codeph">OUTER</code> keyword following <code class="codeph">RIGHT</code>, <code class="codeph">LEFT</code>, or <code class="codeph">FULL</code> to explicitly clarify that an outer join is being performed.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">ON</span> <span class="bold"><span class="italic">condition</span></span></p>
                  <p>Use the <code class="codeph">ON</code> clause to specify a join condition. Doing so lets you specify join conditions separate from any search or filter conditions in the <code class="codeph">WHERE</code> clause. 
                  </p>
                  <p><span class="bold">Restriction on the ON</span> <span class="bold"><span class="italic">condition</span></span> <span class="bold">Clause</span></p>
                  <p>You cannot specify this clause with a <code class="codeph">NATURAL</code> outer join.
                  </p>
                  <p><span class="bold">USING</span> <span class="bold"><span class="italic">column</span></span></p>
                  <p>In an outer join with the <code class="codeph">USING</code> clause, the query returns a single column that coalesces the two matching columns in the join. The coalesce function is as follows:
                  </p><pre class="oac_no_warn" dir="ltr">COALESCE (a, b) = a if a NOT NULL, else b.
</pre><p>Therefore:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A left outer join returns all the common column values from the left table in the <code class="codeph">FROM</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>A right outer join returns all the common column values from the right table in the <code class="codeph">FROM</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>A full outer join returns all the common column values from both joined tables.</p>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on the USING</span> <span class="bold"><span class="italic">column</span></span> <span class="bold">Clause</span></p>
                  <p>The <code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span> clause is subject to the following restrictions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Within this clause, do not qualify the column name with a table name or table alias.</p>
                     </li>
                     <li>
                        <p>You cannot specify a LOB column or a collection column in the <code class="codeph">USING</code> <span class="italic"><code class="codeph">column</code></span> clause.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify this clause with a <code class="codeph">NATURAL</code> outer join.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D22B1F12-DA3C-4285-9059-4715BC2200FE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="Joins.html#GUID-29A4584C-0741-4E6A-A89B-DCFAA222994A">Outer Joins</a>"</span> for additional rules and restrictions pertaining to outer joins
                           </p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/sql-analysis-reporting-data-warehouses.html#DWHSG02013" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for a complete discussion of partitioned outer joins and data densification
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296">Using Outer Joins: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCHEAJ">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5D7FE723-7E46-469B-80C6-9FFE22B7D22F"><span class="italic">cross_outer_apply_clause</span></p>
                  <p>This clause allows you to perform a variation of an ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code> or an ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code> with left correlation support. You can specify a <span class="italic"><code class="codeph">table_reference</code></span> or <span class="italic"><code class="codeph">collection_expression</code></span> to the right of the <code class="codeph">APPLY</code> keyword. The <span class="italic"><code class="codeph">table_reference</code></span> can be a table, inline view, or <code class="codeph">TABLE</code> collection expression. The <span class="italic"><code class="codeph">collection_expression</code></span> can be a subquery, a column, a function, or a collection constructor. Regardless of its form, it must return a collection value—that is, a value whose type is nested table or varray. The <span class="italic"><code class="codeph">table_reference</code></span> or <span class="italic"><code class="codeph">collection_expression</code></span> can reference columns of tables defined in the <code class="codeph">FROM</code> clause to the left of the <code class="codeph">APPLY</code> keyword. This is called left correlation.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">CROSS</code> <code class="codeph">APPLY</code> to perform a variation of an ANSI <code class="codeph">CROSS</code> <code class="codeph">JOIN</code>. Only rows from the table on the left side of the join that produce a result set from <span class="italic"><code class="codeph">table_reference</code></span> or <span class="italic"><code class="codeph">collection_expression</code></span> are returned.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">OUTER</code> <code class="codeph">APPLY</code> to perform a variation of an ANSI <code class="codeph">LEFT</code> <code class="codeph">OUTER</code> <code class="codeph">JOIN</code>. All rows from the table on the left side of the join are returned. Rows that do not produce a result set from <span class="italic"><code class="codeph">table_reference</code></span> or <span class="italic"><code class="codeph">collection_expression</code></span> have the NULL value in the corresponding column(s).
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on the</span> <span class="bold"><span class="italic">cross_outer_apply_clause</span></span></p>
                  <p>The <span class="italic"><code class="codeph">table_reference</code></span> cannot be a lateral inline view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-89352E99-AD35-4741-9778-DADC021121C2">
                     <p class="notep1">See Also:</p>
                     <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDADCJ">Using CROSS APPLY and OUTER APPLY Joins: Examples</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__INLINE_AV-F00B1D52">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3C217908-3D83-471C-BF61-017E9BB19B7F"><span class="italic">inline_analytic_view</span></p>
                  <p>An inline analytic view is a transitory analytic view that is specified in the <code class="codeph">FROM</code> clause. To create an inline analytic view, use the <code class="codeph">ANALYTIC</code> <code class="codeph">VIEW</code> keyword and specify a <span class="italic"><code class="codeph">subav_clause</code></span> that defines the analytic view. Optionally, you may specify an <span class="italic"><code class="codeph">inline_av_alias</code></span>, which is an alias for the inline analytic view. The rules for the <span class="italic"><code class="codeph">inline_av_alias</code></span> are the same as the rules for an inline view alias.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-59D9DCFF-6212-49F2-B41D-0BC1EA5C6D0F">
                     <p class="notep1">See Also:</p>
                     <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731">Analytic Views: Examples</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__WHERE_CLAUSE-2C052273">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-45529A0B-CDBC-4B29-B231-4B46E2B2A4D4"><span class="italic">where_clause</span></p>
                  <p>The <code class="codeph">WHERE</code> condition lets you restrict the rows selected to those that satisfy one or more conditions. For <span class="italic"><code class="codeph">condition</code></span>, specify any valid SQL condition. 
                  </p>
                  <p>If you omit this clause, then the database returns all rows from the tables, views, or materialized views in the <code class="codeph">FROM</code> clause. 
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F8206907-55FE-4778-9FC0-E15C91BC81CA">
                     <p class="notep1">Note:</p>
                     <p>If this clause refers to a <code class="codeph">DATE</code> column of a partitioned table or index, then the database performs partition pruning only if:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You created the table or index partitions by fully specifying the year using the <code class="codeph">TO_DATE</code> function with a 4-digit format mask, <span class="italic">and</span> 
                           </p>
                        </li>
                        <li>
                           <p>You specify the date in the <span class="italic"><code class="codeph">where_clause</code></span> of the query using the <code class="codeph">TO_DATE</code> function and either a 2- or 4-digit format mask. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2A3A2805-2D7A-4A77-B4E8-8DA3C97934F5">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a> for the syntax description of <span class="italic"><code class="codeph">condition</code></span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152">Selecting from a Partition: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B00CC4A1-0359-406E-8C65-F7188A3FD093"><span class="italic">hierarchical_query_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">hierarchical_query_clause</code></span> lets you select rows in a hierarchical order.
                  </p>
                  <p><code class="codeph">SELECT</code> statements that contain hierarchical queries can contain the <code class="codeph">LEVEL</code> pseudocolumn in the select list. <code class="codeph">LEVEL</code> returns the value 1 for a root node, 2 for a child node of a root node, 3 for a grandchild, and so on. The number of levels returned by a hierarchical query may be limited by available user memory. 
                  </p>
                  <p>Oracle processes hierarchical queries as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A join, if present, is evaluated first, whether the join is specified in the <code class="codeph">FROM</code> clause or with <code class="codeph">WHERE</code> clause predicates.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CONNECT</code> <code class="codeph">BY</code> condition is evaluated.
                        </p>
                     </li>
                     <li>
                        <p>Any remaining <code class="codeph">WHERE</code> clause predicates are evaluated.
                        </p>
                     </li>
                  </ul>
                  <p>If you specify this clause, then do not specify either <code class="codeph">ORDER</code> <code class="codeph">BY</code> or <code class="codeph">GROUP</code> <code class="codeph">BY</code>, because they will destroy the hierarchical order of the <code class="codeph">CONNECT</code> <code class="codeph">BY</code> results. If you want to order rows of siblings of the same parent, then use the <code class="codeph">ORDER</code> <code class="codeph">SIBLINGS</code> <code class="codeph">BY</code> clause. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-36A860DE-D6E1-478E-A796-787D5C83FB28">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Hierarchical-Queries.html#GUID-0118DF1D-B9A9-41EB-8556-C6E7D6A5A84E">Hierarchical Queries</a>"</span> for a discussion of hierarchical queries and <span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130122">Using the LEVEL Pseudocolumn: Examples</a>"</span></p>
                  </div>
                  <p><span class="bold">START WITH Clause</span></p>
                  <p>Specify a condition that identifies the row(s) to be used as the root(s) of a hierarchical query. The <span class="italic"><code class="codeph">condition</code></span> can be any condition as described in <a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a>. Oracle Database uses as root(s) all rows that satisfy this condition. If you omit this clause, then the database uses all rows in the table as root rows.
                  </p>
                  <p><span class="bold">CONNECT BY Clause</span></p>
                  <p>Specify a condition that identifies the relationship between parent rows and child rows of the hierarchy. The <span class="italic"><code class="codeph">condition</code></span> can be any condition as described in <a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a>. However, it must use the <code class="codeph">PRIOR</code> operator to refer to the parent row.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-04773728-E005-402E-BDC5-95608B295A4F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Pseudocolumns.html#GUID-6C65C788-76AA-4A51-B011-51D53DD2521D">Pseudocolumns</a> for more information on <code class="codeph">LEVEL</code></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="Hierarchical-Queries.html#GUID-0118DF1D-B9A9-41EB-8556-C6E7D6A5A84E">Hierarchical Queries</a>"</span> for general information on hierarchical queries
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130004">Hierarchical Query Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2990E963-292A-414B-A1AB-A82074140290"><span class="italic">group_by_clause</span></p>
                  <p>Specify the <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause if you want the database to group the selected rows based on the value of <span class="italic"><code class="codeph">expr</code></span>(s) for each row and return a single row of summary information for each group. If this clause contains <code class="codeph">CUBE</code> or <code class="codeph">ROLLUP</code> extensions, then the database produces superaggregate groupings in addition to the regular groupings. 
                  </p>
                  <p>Expressions in the <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause can contain any columns of the tables, views, or materialized views in the <code class="codeph">FROM</code> clause, regardless of whether the columns appear in the select list. 
                  </p>
                  <p>The <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause groups rows but does not guarantee the order of the result set. To order the groupings, use the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-C565B23E-5AB9-46A5-9A21-22E898A3A81C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for an expanded discussion and examples of using SQL grouping syntax for data aggregation
                           </p>
                        </li>
                        <li>
                           <p>the <a href="GROUP_ID.html#GUID-3A5A9C15-1B67-4FD7-AC41-EE8349B2E834">GROUP_ID</a>, <a href="GROUPING.html#GUID-82E6084A-0BDF-4587-A40E-36899783F073">GROUPING</a>, and <a href="GROUPING_ID.html#GUID-E20A5B8E-73B6-42FD-8AFB-DD3CD6D6DC61">GROUPING_ID</a> functions for examples
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066419">Using the GROUP BY Clause: Examples</a>"</span> 
                           </p>
                        </li>
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B">Restrictions for Linguistic Collations</a> for information on implications of how <code class="codeph">GROUP</code> <code class="codeph">BY</code> character values are compared linguistically
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules for the expressions in the <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">ROLLUP</span><a id="d425579e5561" class="indexterm-anchor"></a><a id="d425579e5565" class="indexterm-anchor"></a><a id="d425579e5569" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">ROLLUP</code> operation in the <span class="italic"><code class="codeph">simple_grouping_clause</code></span> groups the selected rows based on the values of the first n, n-1, n-2, ... 0 expressions in the <code class="codeph">GROUP</code> <code class="codeph">BY</code> specification, and returns a single row of summary for each group. You can use the <code class="codeph">ROLLUP</code> operation to produce <span class="bold">subtotal values</span> by using it with the <code class="codeph">SUM</code> function. When used with <code class="codeph">SUM</code>, <code class="codeph">ROLLUP</code> generates subtotals from the most detailed level to the grand total. Aggregate functions such as <code class="codeph">COUNT</code> can be used to produce other kinds of superaggregates.
                  </p>
                  <p>For example, given three expressions (n=3) in the <code class="codeph">ROLLUP</code> clause of the <span class="italic"><code class="codeph">simple_grouping_clause</code></span>, the operation results in n+1 = 3+1 = 4 groupings.
                  </p>
                  <p>Rows grouped on the values of the first <span class="italic"><code class="codeph">n</code></span> expressions are called <span class="bold">regular rows</span>, and the others are called <span class="bold">superaggregate rows</span>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FEB36C82-87A6-4251-B1B9-A29A61EB02D7">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information on using <code class="codeph">ROLLUP</code> with materialized views
                     </p>
                  </div>
                  <p><span class="bold">CUBE</span><a id="d425579e5641" class="indexterm-anchor"></a><a id="d425579e5645" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">CUBE</code> operation in the <span class="italic"><code class="codeph">simple_grouping_clause</code></span> groups the selected rows based on the values of all possible combinations of expressions in the specification. It returns a single row of summary information for each group. You can use the <code class="codeph">CUBE</code> operation to produce <span class="bold">cross-tabulation values</span>.
                  </p>
                  <p>For example, given three expressions (n=3) in the <code class="codeph">CUBE</code> clause of the <span class="italic"><code class="codeph">simple_grouping_clause</code></span>, the operation results in 2<sup>n</sup> = 2<sup>3</sup> = 8 groupings. Rows grouped on the values of <span class="italic"><code class="codeph">n</code></span> expressions are called <span class="bold">regular rows</span>, and the rest are called <span class="bold">superaggregate rows</span>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2C1AC142-1695-4461-A18E-D1953ABC76E1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information on using <code class="codeph">CUBE</code> with materialized views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066443">Using the GROUP BY CUBE Clause: Example</a>"</span> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">GROUPING SETS</span><a id="d425579e5712" class="indexterm-anchor"></a><a id="d425579e5716" class="indexterm-anchor"></a><a id="d425579e5718" class="indexterm-anchor"></a></p>
                  <p><code class="codeph">GROUPING</code> <code class="codeph">SETS</code> are a further extension of the <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause that let you specify multiple groupings of data. Doing so facilitates efficient aggregation by pruning the aggregates you do not need. You specify just the desired groups, and the database does not need to perform the full set of aggregations generated by <code class="codeph">CUBE</code> or <code class="codeph">ROLLUP</code>. Oracle Database computes all groupings specified in the <code class="codeph">GROUPING</code> <code class="codeph">SETS</code> clause and combines the results of individual groupings with a <code class="codeph">UNION</code> <code class="codeph">ALL</code> operation. The <code class="codeph">UNION</code> <code class="codeph">ALL</code> means that the result set can include duplicate rows.
                  </p>
                  <p><a id="d425579e5763" class="indexterm-anchor"></a><a id="d425579e5769" class="indexterm-anchor"></a>Within the <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause, you can combine expressions in various ways:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>To specify <span class="bold">composite columns</span>, group columns within parentheses so that the database treats them as a unit while computing <code class="codeph">ROLLUP</code> or <code class="codeph">CUBE</code> operations. 
                        </p>
                     </li>
                     <li>
                        <p>To specify <span class="bold">concatenated grouping sets</span>, separate multiple grouping sets, <code class="codeph">ROLLUP</code>, and <code class="codeph">CUBE</code> operations with commas so that the database combines them into a single <code class="codeph">GROUP</code> <code class="codeph">BY</code> clause. The result is a cross-product of groupings from each grouping set.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-01BD9AF9-F944-47C3-BE8A-88884A2514AE">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2091446">Using the GROUPING SETS Clause: Example</a>"</span> 
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2078943"><span class="bold">HAVING Clause</span> <a id="d425579e5825" class="indexterm-anchor"></a></p>
                  <p>Use the <code class="codeph">HAVING</code> clause to restrict the groups of returned rows to those groups for which the specified <span class="italic"><code class="codeph">condition</code></span> is <code class="codeph">TRUE</code>. If you omit this clause, then the database returns summary rows for all groups. 
                  </p>
                  <p>Specify <code class="codeph">GROUP</code> <code class="codeph">BY</code> and <code class="codeph">HAVING</code> after the <span class="italic"><code class="codeph">where_clause</code></span> and <span class="italic"><code class="codeph">hierarchical_query_clause</code></span>. If you specify both <code class="codeph">GROUP</code> <code class="codeph">BY</code> and <code class="codeph">HAVING</code>, then they can appear in either order. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A3141F34-D352-4281-B704-B064570BBD20">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130020">Using the HAVING Condition: Example</a>"</span></p>
                  </div>
                  <p><span class="bold">Restrictions on the GROUP BY Clause</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify LOB columns, nested tables, or varrays as part of <span class="italic"><code class="codeph">expr</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The expressions can be of any form except scalar subquery expressions.</p>
                     </li>
                     <li>
                        <p>If the <span class="italic"><code class="codeph">group_by_clause</code></span> references any object type columns, then the query will not be parallelized.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2172805">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B140163D-32DD-4906-BF95-109981505935"><span class="italic">model_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">model_clause</code></span> lets you view selected rows as a multidimensional array and randomly access cells within that array. Using the <span class="italic"><code class="codeph">model_clause</code></span>, you can specify a series of cell assignments, referred to as <span class="bold">rules</span>, that invoke calculations on individual cells and ranges of cells. These rules operate on the results of a query and do not update any database tables.
                  </p>
                  <p>When using the <span class="italic"><code class="codeph">model_clause</code></span> in a query, the <code class="codeph">SELECT</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses must refer only to those columns defined in the <span class="italic"><code class="codeph">model_column_clauses</code></span>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-E0F3B53E-8A62-4D6C-9ED9-88067801AC44">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The syntax description of <span class="italic"><code class="codeph">expr</code></span> in <span class="q">"<a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">About SQL Expressions</a>"</span> and the syntax description of <span class="italic"><code class="codeph">condition</code></span> in <a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a></p>
                        </li>
                        <li>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for an expanded discussion and examples
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171160">The MODEL clause: Examples</a>"</span> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">main_model</span></span></p>
                  <p>The <span class="italic"><code class="codeph">main_model</code></span> clause defines how the selected rows will be viewed in a multidimensional array and what rules will operate on which cells in that array.
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168561"><span class="bold"><span class="italic">model_column_clauses</span></span></p>
                  <p>The <span class="italic"><code class="codeph">model_column_clauses</code></span> define and classify the columns of a query into three groups: partition columns, dimension columns, and measure columns. For <span class="italic"><code class="codeph">expr</code></span>, you can specify a column, constant, host variable, single-row function, aggregate function, or any expression involving them. If <span class="italic"><code class="codeph">expr</code></span> is a column, then the column alias (<span class="italic"><code class="codeph">c_alias</code></span>) is optional. If <span class="italic"><code class="codeph">expr</code></span> is not a column, then the column alias is required. If you specify a column alias, then you must use the alias to refer to the column in the <span class="italic"><code class="codeph">model_rules_clause</code></span>, <code class="codeph">SELECT</code> list, and the query <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses.
                  </p>
                  <p><span class="bold">PARTITION BY</span></p>
                  <p>The <code class="codeph">PARTITION</code> <code class="codeph">BY</code> clause specifies the columns that will be used to divide the selected rows into partitions based on the values of the specified columns.
                  </p>
                  <p><span class="bold">DIMENSION BY</span></p>
                  <p>The <code class="codeph">DIMENSION</code> <code class="codeph">BY</code> clause specifies the columns that will identify a row within a partition. The values of the dimension columns, along with those of the partition columns, serve as array indexes to the measure columns within a row.
                  </p>
                  <p><span class="bold">MEASURES</span></p>
                  <p>The <code class="codeph">MEASURES</code> clause identifies the columns on which the calculations can be performed. Measure columns in individual rows are treated like cells that you can reference, by specifying the values for the partition and dimension columns, and update.
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168572"><span class="bold"><span class="italic">cell_reference_options</span></span></p>
                  <p>Use the <span class="italic"><code class="codeph">cell_reference_options</code></span> clause to specify how null and absent values are treated in rules and how column uniqueness is constrained.
                  </p>
                  <p><span class="bold">IGNORE NAV</span></p>
                  <p>When you specify <code class="codeph">IGNORE</code> <code class="codeph">NAV</code>, the database returns the following values for the null and absent values of the data type specified:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Zero for numeric data types</p>
                     </li>
                     <li>
                        <p>01-JAN-2000 for datetime data types</p>
                     </li>
                     <li>
                        <p>An empty string for character data types</p>
                     </li>
                     <li>
                        <p>Null for all other data types</p>
                     </li>
                  </ul>
                  <p><span class="bold">KEEP NAV</span></p>
                  <p>When you specify <code class="codeph">KEEP</code> <code class="codeph">NAV</code>, the database returns null for both null and absent cell values. <code class="codeph">KEEP</code> <code class="codeph">NAV</code> is the default.
                  </p>
                  <p><span class="bold">UNIQUE SINGLE REFERENCE</span></p>
                  <p>When you specify <code class="codeph">UNIQUE</code> <code class="codeph">SINGLE</code> <code class="codeph">REFERENCE</code>, the database checks only single-cell references on the right-hand side of the rule for uniqueness, not the entire query result set.
                  </p>
                  <p><span class="bold">UNIQUE DIMENSION</span></p>
                  <p>When you specify <code class="codeph">UNIQUE</code> <code class="codeph">DIMENSION</code>, the database checks that the <code class="codeph">PARTITION</code> <code class="codeph">BY</code> and <code class="codeph">DIMENSION</code> <code class="codeph">BY</code> columns form a unique key to the query. <code class="codeph">UNIQUE</code> <code class="codeph">DIMENSION</code> is the default.
                  </p>
                  <p><span class="bold"><span class="italic">model_rules_clause</span></span></p>
                  <p>Use the <span class="italic"><code class="codeph">model_rules_clause</code></span> to specify the cells to be updated, the rules for updating those cells, and optionally, how the rules are to be applied and processed.
                  </p>
                  <p>Each rule represents an assignment and consists of a left-hand side and right-hand side. The left-hand side of the rule identifies the cells to be updated by the right-hand side of the rule. The right-hand side of the rule evaluates to the values to be assigned to the cells specified on the left-hand side of the rule.</p>
                  <p><span class="bold">UPSERT AL</span>L
                  </p>
                  <p><code class="codeph">UPSERT</code> <code class="codeph">ALL</code> allows <code class="codeph">UPSERT</code> behavior for a rule with both positional and symbolic references on the left-hand side of the rule. When evaluating an <code class="codeph">UPSERT</code> <code class="codeph">ALL</code> rule, Oracle performs the following steps to create a list of cell references to be upserted:
                  </p>
                  <ol>
                     <li>
                        <p>Find the existing cells that satisfy all the symbolic predicates of the cell reference.</p>
                     </li>
                     <li>
                        <p>Using just the dimensions that have symbolic references, find the distinct dimension value combinations of these cells.</p>
                     </li>
                     <li>
                        <p>Perform a cross product of these value combinations with the dimension values specified by way of positional references.</p>
                     </li>
                  </ol>
                  <p>Refer to <a href="../dwhsg/sql-modeling-data-warehouses.html#DWHSG0222" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the semantics of <code class="codeph">UPSERT</code> <code class="codeph">ALL</code>.
                  </p>
                  <p><span class="bold">UPSERT</span></p>
                  <p>When you specify <code class="codeph">UPSERT</code>, the database applies the rules to those cells referenced on the left-hand side of the rule that exist in the multidimensional array, and inserts new rows for those that do not exist. <code class="codeph">UPSERT</code> behavior applies only when positional referencing is used on the left-hand side and a single cell is referenced. <code class="codeph">UPSERT</code> is the default. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168603">cell_assignment</a></span> for more information on positional referencing and single-cell references.
                  </p>
                  <p><code class="codeph">UPDATE</code> and <code class="codeph">UPSERT</code> can be specified for individual rules as well. When either <code class="codeph">UPDATE</code> or <code class="codeph">UPSERT</code> is specified for a specific rule, it takes precedence over the option specified in the <code class="codeph">RULES</code> clause.
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-4C95FC62-C830-4BB8-98B0-5DFFC0E82042">
                     <p class="notep1">Note:</p>
                     <p>If an <code class="codeph">UPSERT</code> <code class="codeph">ALL</code>, <code class="codeph">UPSERT</code>, or <code class="codeph">UPDATE</code> rule does not contain the appropriate predicates, then the database may implicitly convert it to a different type of rule:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If an <code class="codeph">UPSERT</code> rule contains an existential predicate, then the rule is treated as an <code class="codeph">UPDATE</code> rule. 
                           </p>
                        </li>
                        <li>
                           <p>An <code class="codeph">UPSERT</code> <code class="codeph">ALL</code> rule must have at least one existential predicate and one qualified predicate on its left side. If it has no existential predicate, then it is treated as an <code class="codeph">UPSERT</code> rule. If it has no qualified predicate, then it is treated as an <code class="codeph">UPDATE</code> rule
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">UPDATE</span></p>
                  <p>When you specify <code class="codeph">UPDATE</code>, the database applies the rules to those cells referenced on the left-hand side of the rule that exist in the multidimensional array. If the cells do not exist, then the assignment is ignored.
                  </p>
                  <p><span class="bold">AUTOMATIC ORDER</span></p>
                  <p>When you specify <code class="codeph">AUTOMATIC</code> <code class="codeph">ORDER</code>, the database evaluates the rules based on their dependency order. In this case, a cell can be assigned a value once only.
                  </p>
                  <p><span class="bold">SEQUENTIAL ORDER</span></p>
                  <p>When you specify <code class="codeph">SEQUENTIAL</code> <code class="codeph">ORDER</code>, the database evaluates the rules in the order they appear. In this case, a cell can be assigned a value more than once. <code class="codeph">SEQUENTIAL</code> <code class="codeph">ORDER</code> is the default.
                  </p>
                  <p><span class="bold">ITERATE ... [UNTIL]</span></p>
                  <p>Use <code class="codeph">ITERATE</code> ... [<code class="codeph">UNTIL</code>] to specify the number of times to cycle through the rules and, optionally, an early termination condition. The parentheses around the <code class="codeph">UNTIL</code> condition are optional.
                  </p>
                  <p>When you specify <code class="codeph">ITERATE</code> ... [<code class="codeph">UNTIL</code>], rules are evaluated in the order in which they appear. Oracle Database returns an error if both <code class="codeph">AUTOMATIC</code> <code class="codeph">ORDER</code> and <code class="codeph">ITERATE</code> ... <code class="codeph">[UNTIL]</code> are specified in the <span class="italic"><code class="codeph">model_rules_clause</code></span>.
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168603"><span class="bold"><span class="italic">cell_assignment</span></span></p>
                  <p>The <span class="italic"><code class="codeph">cell_assignment</code></span> clause, which is the left-hand side of the rule, specifies one or more cells to be updated. When a <span class="italic"><code class="codeph">cell_assignment</code></span> references a single cell, it is called a <span class="bold">single-cell reference</span>. When more than one cell is referenced, it is called a <span class="bold">multiple-cell reference</span>.
                  </p>
                  <p>All dimension columns defined in the <span class="italic"><code class="codeph">model_clause</code></span> must be qualified in the <span class="italic"><code class="codeph">cell_assignment</code></span> clause. A dimension can be qualified using either symbolic or positional referencing.
                  </p>
                  <p>A <span class="bold">symbolic reference</span> qualifies a single dimension column using a Boolean condition like <span class="italic"><code class="codeph">dimension_column</code></span><code class="codeph">=</code><span class="italic"><code class="codeph">constant</code></span>. A <span class="bold">positional reference</span> is one where the dimension column is implied by its position in the <code class="codeph">DIMENSION</code> <code class="codeph">BY</code> clause. The only difference between symbolic references and positional references is in the treatment of nulls.
                  </p>
                  <p>Using a single-cell symbolic reference such as <code class="codeph">a[x=null,y=2000]</code>, no cells qualify because <code class="codeph">x=null</code> evaluates to <code class="codeph">FALSE</code>. However, using a single-cell positional reference such as <code class="codeph">a[null,2000]</code>, a cell where <code class="codeph">x</code> is null and <code class="codeph">y</code> is 2000 qualifies because null = null evaluates to <code class="codeph">TRUE</code>. With single-cell positional referencing, you can reference, update, and insert cells where dimension columns are null.
                  </p>
                  <p>You can specify a condition or an expression representing a dimension column value using either symbolic or positional referencing. <span class="italic"><code class="codeph">condition</code></span> cannot contain aggregate functions or the <code class="codeph">CV</code> function, and <span class="italic"><code class="codeph">condition</code></span> must reference a single dimension column. <span class="italic"><code class="codeph">expr</code></span> cannot contain a subquery. Refer to <span class="q">"<a href="Model-Expressions.html#GUID-83D3FD56-8346-4D3F-A49E-5FE41FE19257">Model Expressions</a>"</span> for information on model expressions.
                  </p>
                  <p><span class="bold"><span class="italic">single_column_for_loop</span></span></p>
                  <p>The <span class="italic"><code class="codeph">single_column_for_loop</code></span> clause lets you specify a range of cells to be updated within a single dimension column.
                  </p>
                  <p>The <code class="codeph">IN</code> clause lets you specify the values of the dimension column as either a list of values or as a subquery. When using <span class="italic"><code class="codeph">subquery</code></span>, it cannot:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Be a correlated query</p>
                     </li>
                     <li>
                        <p>Return more than 10,000 rows </p>
                     </li>
                     <li>
                        <p>Be a query defined in the <code class="codeph">WITH</code> clause
                        </p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">FROM</code> clause lets you specify a range of values for a dimension column with discrete increments within the range. The <code class="codeph">FROM</code> clause can only be used for those columns with a data type for which addition and subtraction is supported. The <code class="codeph">INCREMENT</code> and <code class="codeph">DECREMENT</code> values must be positive.
                  </p>
                  <p>Optionally, you can specify the <code class="codeph">LIKE</code> clause within the <code class="codeph">FROM</code> clause. In the <code class="codeph">LIKE</code> clause, <span class="italic"><code class="codeph">pattern</code></span> is a character string containing a single pattern-matching character <code class="codeph">%</code>. This character is replaced during execution with the current incremented or decremented value in the <code class="codeph">FROM</code> clause.
                  </p>
                  <p>If all dimensions other than those used by a <code class="codeph">FOR</code> loop involve a single-cell reference, then the expressions can insert new rows. The number of dimension value combinations generated by <code class="codeph">FOR</code> loops is counted as part of the 10,000 row limit of the <code class="codeph">MODEL</code> clause.
                  </p>
                  <p><span class="bold"><span class="italic">multi_column_for_loop</span></span></p>
                  <p>The <span class="italic"><code class="codeph">multi_column_for_loop</code></span> clause lets you specify a range of cells to be updated across multiple dimension columns. The <code class="codeph">IN</code> clause lets you specify the values of the dimension columns as either multiple lists of values or as a subquery. When using <span class="italic"><code class="codeph">subquery</code></span>, it cannot:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Be a correlated query</p>
                     </li>
                     <li>
                        <p>Return more than 10,000 rows </p>
                     </li>
                     <li>
                        <p>Be a query defined in the <code class="codeph">WITH</code> clause
                        </p>
                     </li>
                  </ul>
                  <p>If all dimensions other than those used by a <code class="codeph">FOR</code> loop involve a single-cell reference, then the expressions can insert new rows. The number of dimension value combinations generated by <code class="codeph">FOR</code> loops is counted as part of the 10,000 row limit of the <code class="codeph">MODEL</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3320EEA8-A251-43FA-9DCA-619745843180">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/sql-modeling-data-warehouses.html#DWHSG0223" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information about using <code class="codeph">FOR</code> loops in the <code class="codeph">MODEL</code> clause
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">order_by_clause</span></span></p>
                  <p>Use the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause to specify the order in which cells on the left-hand side of the rule are to be evaluated. The <span class="italic"><code class="codeph">expr</code></span> must resolve to a dimension or measure column. If the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause is not specified, then the order defaults to the order of the columns as specified in the <code class="codeph">DIMENSION</code> <code class="codeph">BY</code> clause. See <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171079">order_by_clause</a></span> for more information.
                  </p>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">order_by_clause</span></span></p>
                  <p>Use of the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause in the model rule is subject to the following restrictions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify <code class="codeph">SIBLINGS</code>, <span class="italic"><code class="codeph">position</code></span>, or <span class="italic"><code class="codeph">c_alias</code></span> in the <span class="italic"><code class="codeph">order_by_clause</code></span> of the <span class="italic"><code class="codeph">model_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify this clause on the left-hand side of the model rule and also specify a <code class="codeph">FOR</code> loop on the right-hand side of the rule.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">expr</span></span></p>
                  <p>Specify an expression representing the value or values of the cell or cells specified on the right-hand side of the rule. <span class="italic"><code class="codeph">expr</code></span> cannot contain a subquery. Refer to <span class="q">"<a href="Model-Expressions.html#GUID-83D3FD56-8346-4D3F-A49E-5FE41FE19257">Model Expressions</a>"</span> for information on model expressions.
                  </p>
                  <p><span class="bold"><span class="italic">return_rows_clause</span></span></p>
                  <p>The <span class="italic"><code class="codeph">return_rows_clause</code></span> lets you specify whether to return all rows selected or only those rows updated by the model rules. <code class="codeph">ALL</code> is the default.
                  </p>
                  <p><span class="bold"><span class="italic">reference_model</span></span></p>
                  <p>Use the <span class="italic"><code class="codeph">reference_model</code></span> clause when you need to access multiple arrays from inside the <span class="italic"><code class="codeph">model_clause</code></span>. This clause defines a read-only multidimensional array based on the results of a query.
                  </p>
                  <p>The subclauses of the <span class="italic"><code class="codeph">reference_model</code></span> clause have the same semantics as for the <span class="italic"><code class="codeph">main_model</code></span> clause. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168561">model_column_clauses</a></span> and <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2168572">cell_reference_options</a></span>.
                  </p>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">reference_model</span></span> <span class="bold">Clause</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">PARTITION</code> <code class="codeph">BY</code> columns cannot be specified for reference models.
                        </p>
                     </li>
                     <li>
                        <p>The subquery of the reference model cannot refer to columns in an outer subquery.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-39CF9C49-CC67-42AD-A2DB-B47B206B5EA4">Set Operators: UNION, UNION ALL, INTERSECT, MINUS</p>
                  <p>The set operators combine the rows returned by two <code class="codeph">SELECT</code> statements into a single result. The number and data types of the columns selected by each component query must be the same, but the column lengths can be different. The names of the columns in the result set are the names of the expressions in the select list preceding the set operator.
                  </p>
                  <p>If you combine more than two queries with set operators, then the database evaluates adjacent queries from left to right. The parentheses around the subquery are optional. You can use them to specify a different order of evaluation.</p>
                  <p>Refer to <span class="q">"<a href="The-UNION-ALL-INTERSECT-MINUS-Operators.html#GUID-B64FE747-586E-4513-945F-80CB197125EE">The UNION [ALL], INTERSECT, MINUS Operators</a>"</span> for information on these operators, including restrictions on their use.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171079">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-297A228C-EA79-4D1F-B24F-1AF975B3EFC5"><span class="italic">order_by_clause</span></p>
                  <p>Use the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause to order rows returned by the statement. Without an <span class="italic"><code class="codeph">order_by_clause</code></span>, no guarantee exists that the same query executed more than once will retrieve rows in the same order. 
                  </p>
                  <p><span class="bold">SIBLINGS</span><a id="d425579e6780" class="indexterm-anchor"></a><a id="d425579e6784" class="indexterm-anchor"></a><a id="d425579e6788" class="indexterm-anchor"></a><a id="d425579e6792" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">SIBLINGS</code> keyword is valid only if you also specify the <span class="italic"><code class="codeph">hierarchical_query_clause</code></span> (<code class="codeph">CONNECT</code> <code class="codeph">BY</code>). <code class="codeph">ORDER</code> <code class="codeph">SIBLINGS</code> <code class="codeph">BY</code> preserves any ordering specified in the hierarchical query clause and then applies the <span class="italic"><code class="codeph">order_by_clause</code></span> to the siblings of the hierarchy.
                  </p>
                  <p><span class="bold"><span class="italic">expr</span></span></p>
                  <p><span class="italic"><code class="codeph">expr</code></span> orders rows based on their value for <span class="italic"><code class="codeph">expr</code></span>. The expression is based on columns in the select list or columns in the tables, views, or materialized views in the <code class="codeph">FROM</code> clause.
                  </p>
                  <p><span class="bold"><span class="italic">position</span></span></p>
                  <p>Specify <span class="italic"><code class="codeph">position</code></span> to order rows based on their value for the expression in this position of the select list. The <span class="italic"><code class="codeph">position</code></span> value must be an integer.
                  </p>
                  <p>You can specify multiple expressions in the <span class="italic"><code class="codeph">order_by_clause</code></span>. Oracle Database first sorts rows based on their values for the first expression. Rows with the same value for the first expression are then sorted based on their values for the second expression, and so on. The database sorts nulls following all others in ascending order and preceding all others in descending order. Refer to <span class="q">"<a href="Sorting-Query-Results.html#GUID-E45EF993-20AC-4552-860C-4D74EADB5BF2">Sorting Query Results</a>"</span> for a discussion of ordering query results.
                  </p>
                  <p><span class="bold">ASC | DESC</span></p>
                  <p>Specify whether the ordering sequence is ascending or descending. <code class="codeph">ASC</code> is the default.
                  </p>
                  <p><span class="bold">NULLS FIRST | NULLS LAST</span></p>
                  <p>Specify whether returned rows containing null values should appear first or last in the ordering sequence. </p>
                  <p><code class="codeph">NULLS</code> <code class="codeph">LAST</code> is the default for ascending order, and <code class="codeph">NULLS</code> <code class="codeph">FIRST</code> is the default for descending order.
                  </p>
                  <p><span class="bold">Restrictions on the ORDER BY Clause</span></p>
                  <p>The following restrictions apply to the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you have specified the <code class="codeph">DISTINCT</code> operator in this statement, then this clause cannot refer to columns unless they appear in the select list.
                        </p>
                     </li>
                     <li>
                        <p>An <span class="italic"><code class="codeph">order_by_clause</code></span> can contain no more than 255 expressions.
                        </p>
                     </li>
                     <li>
                        <p>You cannot order by a LOB, <code class="codeph">LONG</code>, or <code class="codeph">LONG</code> <code class="codeph">RAW</code> column, nested table, or varray.
                        </p>
                     </li>
                     <li>
                        <p>If you specify a <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182483">group_by_clause</a></span> in the same statement, then this <span class="italic"><code class="codeph">order_by_clause</code></span> is restricted to the following expressions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Constants </p>
                           </li>
                           <li>
                              <p>Aggregate functions </p>
                           </li>
                           <li>
                              <p>Analytic functions</p>
                           </li>
                           <li>
                              <p>The functions <code class="codeph">USER</code>, <code class="codeph">UID</code>, and <code class="codeph">SYSDATE</code> 
                              </p>
                           </li>
                           <li>
                              <p>Expressions identical to those in the <span class="italic"><code class="codeph">group_by_clause</code></span> 
                              </p>
                           </li>
                           <li>
                              <p>Expressions comprising the preceding expressions that evaluate to the same value for all rows in a group </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7FD7466A-F69F-4439-8701-8FD9EF4AD37D">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130036">Using the ORDER BY Clause: Examples</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="Data-Type-Comparison-Rules.html#GUID-A114F1F4-A08D-4107-B679-323DC7FEA31C__P-13310-66248F0B">Restrictions for Linguistic Collations</a> for information on implications of how <code class="codeph">ORDER</code> <code class="codeph">BY</code> character values are compared linguistically
                           </p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules for the expressions in the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHFGAA">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D3747C55-7BAF-475A-842A-CB66649F21AB"><span class="italic">row_limiting_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">row_limiting_clause</code></span> allows you to limit the rows returned by the query. You can specify an offset, and the number of rows or percentage of rows to return. You can use this clause to implement top-N reporting. For consistent results, specify the <span class="italic"><code class="codeph">order_by_clause</code></span> to ensure a deterministic sort order.
                  </p>
                  <p><span class="bold">OFFSET</span></p>
                  <p>Use this clause to specify the number of rows to skip before row limiting begins. <span class="italic"><code class="codeph">offset</code></span> must be a number or an expression that evaluates to a numeric value. If you specify a negative number, then <span class="italic"><code class="codeph">offset</code></span> is treated as 0. If you specify NULL, or a number greater than or equal to the number of rows returned by the query, then 0 rows are returned. If <span class="italic"><code class="codeph">offset</code></span> includes a fraction, then the fractional portion is truncated. If you do not specify this clause, then <span class="italic"><code class="codeph">offset</code></span> is 0 and row limiting begins with the first row.
                  </p>
                  <p><span class="bold">ROW | ROWS</span></p>
                  <p>These keywords can be used interchangeably and are provided for semantic clarity.</p>
                  <p><span class="bold">FETCH</span></p>
                  <p>Use this clause to specify the number of rows or percentage of rows to return. If you do not specify this clause, then all rows are returned, beginning at row <span class="italic"><code class="codeph">offset</code></span> + 1.
                  </p>
                  <p><span class="bold">FIRST | NEXT</span></p>
                  <p>These keywords can be used interchangeably and are provided for semantic clarity.</p>
                  <p><span class="bold"><span class="italic">rowcount</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">percent</span></span> <span class="bold">PERCENT</span></p>
                  <p>Use <span class="italic"><code class="codeph">rowcount</code></span> to specify the number of rows to return. <span class="italic"><code class="codeph">rowcount</code></span> must be a number or an expression that evaluates to a numeric value. If you specify a negative number, then <span class="italic"><code class="codeph">rowcount</code></span> is treated as 0. If <span class="italic"><code class="codeph">rowcount</code></span> is greater than the number of rows available beginning at row <span class="italic"><code class="codeph">offset</code></span> + 1, then all available rows are returned. If <span class="italic"><code class="codeph">rowcount</code></span> includes a fraction, then the fractional portion is truncated. If <span class="italic"><code class="codeph">rowcount</code></span> is NULL, then 0 rows are returned.
                  </p>
                  <p>Use <span class="italic"><code class="codeph">percent</code></span> <code class="codeph">PERCENT</code> to specify the percentage of the total number of selected rows to return. <span class="italic"><code class="codeph">percent</code></span> must be a number or an expression that evaluates to a numeric value. If you specify a negative number, then <span class="italic"><code class="codeph">percent</code></span> is treated as 0. If <span class="italic"><code class="codeph">percent</code></span> is NULL, then 0 rows are returned.
                  </p>
                  <p>If you do not specify <span class="italic"><code class="codeph">rowcount</code></span> or <span class="italic"><code class="codeph">percent</code></span> <code class="codeph">PERCENT</code>, then 1 row is returned.
                  </p>
                  <p><span class="bold">ROW | ROWS</span></p>
                  <p>These keywords can be used interchangeably and are provided for semantic clarity.</p>
                  <p><span class="bold">ONLY | WITH TIES</span></p>
                  <p>Specify <code class="codeph">ONLY</code> to return exactly the specified number of rows or percentage of rows.
                  </p>
                  <p>Specify <code class="codeph">WITH</code> <code class="codeph">TIES</code> to return additional rows with the same sort key as the last row fetched. If you specify <code class="codeph">WITH</code> <code class="codeph">TIES</code>, then you must specify the <span class="italic"><code class="codeph">order_by_clause</code></span>. If you do not specify the <span class="italic"><code class="codeph">order_by_clause</code></span>, then no additional rows will be returned.
                  </p>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">row_limiting_clause</span></span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause with the <span class="italic"><code class="codeph">for_update_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>If you specify this clause, then the select list cannot contain the sequence pseudocolumns <code class="codeph">CURRVAL</code> or <code class="codeph">NEXTVAL</code>.
                        </p>
                     </li>
                     <li>
                        <p>Materialized views are not eligible for an incremental refresh if the defining query contains the <span class="italic"><code class="codeph">row_limiting_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>If the select list contains columns with identical names and you specify the <span class="italic"><code class="codeph">row_limiting_clause</code></span>, then an ORA-00918 error occurs. This error occurs whether the identically named columns are in the same table or in different tables. You can work around this issue by specifying unique column aliases for the identically named columns.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D810C86D-6B68-48F7-A78A-6221C6CE6DDE">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEAACC">Row Limiting: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066346">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7CBC2F89-25D5-464B-8C84-7E8A9C48943A"><span class="italic">for_update_clause</span></p>
                  <p>The <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause lets you lock the selected rows so that other users cannot lock or update the rows until you end your transaction. You can specify this clause only in a top-level <code class="codeph">SELECT</code> statement, not in subqueries.
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-6A5F45F9-6CC4-464E-BDBF-D846F92CB200">
                     <p class="notep1">Note:</p>
                     <p>Prior to updating a LOB value, you must lock the row containing the LOB. One way to lock the row is with an embedded <code class="codeph">SELECT</code> ... <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement. You can do this using one of the programmatic languages or <code class="codeph">DBMS_LOB</code> package. For more information on lock rows before writing to a LOB, see <a href="../adlob/using-LOB-APIs.html#ADLOB1004" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a>.
                     </p>
                  </div>
                  <p>Nested table rows are not locked as a result of locking the parent table rows. If you want the nested table rows to be locked, then you must lock them explicitly.</p>
                  <p><span class="bold">Restrictions on the FOR UPDATE Clause</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause with the following other constructs: the <code class="codeph">DISTINCT</code> operator, <code class="codeph">CURSOR</code> expression, set operators, <span class="italic"><code class="codeph">group_by_clause</code></span>, or aggregate functions.
                        </p>
                     </li>
                     <li>
                        <p>The tables locked by this clause must all be located on the same database and on the same database as any <code class="codeph">LONG</code> columns and sequences referenced in the same statement.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1C860782-5A2F-4C38-ADF4-88B0CF5BC984">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130052">Using the FOR UPDATE Clause: Examples</a>"</span></p>
                  </div>
                  <p><span class="bold">Using the FOR UPDATE Clause on Views</span></p>
                  <p>In general, this clause is not supported on views. However, in some cases, a <code class="codeph">SELECT</code> ... <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> query on a view can succeed without any errors. This occurs when the view has been merged to its containing query block internally by the query optimizer, and <code class="codeph">SELECT</code> ... <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> succeeds on the internally transformed query. The examples in this section illustrate when using the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause on a view can succeed or fail.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Using the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause on merged views
                        </p>
                        <p>An error can occur when you use the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause on a merged view if both of the following conditions apply:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The underlying column of the view is an expression</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause applies to a column list
                              </p>
                           </li>
                        </ul>
                        <p>The following statement succeeds because the underlying column of the view is not an expression:</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM (SELECT * FROM employees)
   FOR UPDATE OF employee_id;
</pre><p>The following statement succeeds because, while the underlying column of the view is an expression, the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause does not apply to a column list:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM (SELECT employee_id+1 AS employee_id FROM employees)
   FOR UPDATE;
</pre><p>The following statement fails because the underlying column of the view is an expression and the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause applies to a column list:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT employee_id FROM (SELECT employee_id+1 AS employee_id FROM employees)
   FOR UPDATE OF employee_id;
                 *
Error at line 2:
ORA-01733: virtual column not allowed here
</pre></li>
                     <li>
                        <p>Using the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause on non-merged views
                        </p>
                        <p>Since the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause is not supported on views, anything that prevents view merging, such as the <code class="codeph">NO_MERGE</code> hint, parameters that disallow view merging, or something in the query structure that prevents view merging, will result in an <code class="codeph">ORA-02014</code> error.
                        </p>
                        <p>In the following example, the <code class="codeph">GROUP</code> <code class="codeph">BY</code> statement prevents view merging, which causes an error:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT avgsal
   FROM (SELECT AVG(salary) AS avgsal FROM employees GROUP BY job_id)
   FOR UPDATE;
FROM (SELECT AVG(salary) AS avgsal FROM employees GROUP BY job_id)
     *
ERROR at line 2:
ORA-02014: cannot select FOR UPDATE from view with DISTINCT, GROUP BY, etc.</pre></li>
                  </ul>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-022F7B65-30D6-4838-AD2C-792326C7602F">
                     <p class="notep1">Note:</p>
                     <p>Due to the complexity of the view merging mechanism, Oracle recommends against using the <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause on views.
                     </p>
                  </div>
                  <p><span class="bold">OF ...</span> <span class="bold"><span class="italic">column</span></span></p>
                  <p>Use the <code class="codeph">OF</code> ... <span class="italic"><code class="codeph">column</code></span> clause to lock the select rows only for a particular table or view in a join. The columns in the <code class="codeph">OF</code> clause only indicate which table or view rows are locked. The specific columns that you specify are not significant. However, you must specify an actual column name, not a column alias. If you omit this clause, then the database locks the selected rows from all the tables in the query. 
                  </p>
                  <p><span class="bold">NOWAIT | WAIT</span></p>
                  <p>The <code class="codeph">NOWAIT</code> and <code class="codeph">WAIT</code> clauses let you tell the database how to proceed if the <code class="codeph">SELECT</code> statement attempts to lock a row that is locked by another user. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">NOWAIT</code> to return control to you immediately if a lock exists.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">WAIT</code> to instruct the database to wait <span class="italic"><code class="codeph">integer</code></span> seconds for the row to become available and then return control to you.
                        </p>
                     </li>
                  </ul>
                  <p>If you specify neither <code class="codeph">WAIT</code> nor <code class="codeph">NOWAIT</code>, then the database waits until the row is available and then returns the results of the <code class="codeph">SELECT</code> statement.
                  </p>
                  <p><span class="bold">SKIP LOCKED</span></p>
                  <p><code class="codeph">SKIP</code> <code class="codeph">LOCKED</code> is an alternative way to handle a contending transaction that is locking some rows of interest. Specify <code class="codeph">SKIP</code> <code class="codeph">LOCKED</code> to instruct the database to attempt to lock the rows specified by the <code class="codeph">WHERE</code> clause and to skip any rows that are found to be already locked by another transaction. This feature is designed for use in multiconsumer queue environments. It enables queue consumers to skip rows that are locked by other consumers and obtain unlocked rows without waiting for the other consumers to finish. Refer to <a href="../adque/aq-operations-using-pl-sql.html#ADQUE2835" target="_blank"><span class="italic">Oracle Database Advanced Queuing User's Guide</span></a> for more information.
                  </p>
                  <p><span class="bold">Note on the WAIT and SKIP LOCKED Clauses</span></p>
                  <p>If you specify <code class="codeph">WAIT</code> or <code class="codeph">SKIP</code> <code class="codeph">LOCKED</code> and the table is locked in exclusive mode, then the database will not return the results of the <code class="codeph">SELECT</code> statement until the lock on the table is released. In the case of <code class="codeph">WAIT</code>, the <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> clause is blocked regardless of the wait time specified.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHFEEE">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-0F7F7859-7475-4B37-82AE-686B118D07CC"><span class="italic">row_pattern_clause</span></p>
                  <p>The <code class="codeph">MATCH_RECOGNIZE</code> clause lets you perform pattern matching. Use this clause to recognize patterns in a sequence of rows in <span class="italic"><code class="codeph">table</code></span>, which is called the row pattern input table. The result of a query that uses the <code class="codeph">MATCH_RECOGNIZE</code> clause is called the row pattern output table.
                  </p>
                  <p>The <code class="codeph">MATCH_RECOGNIZE</code> enables you to do the following tasks:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Logically partition and order the data with the <code class="codeph">PARTITION</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses.
                        </p>
                     </li>
                     <li>
                        <p>Define measures, which are expressions usable in other parts of the SQL query, in the <code class="codeph">MEASURES</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>Define patterns of rows to seek using the <code class="codeph">PATTERN</code> clause. These patterns use regular expression syntax, a powerful and expressive feature, applied to the pattern variables you define.
                        </p>
                     </li>
                     <li>
                        <p>Specify the logical conditions required to map a row to a row pattern variable in the <code class="codeph">DEFINE</code> clause.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-36E51113-D99D-45D8-B2E5-EEF59DD35656">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8956" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on pattern matching
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHHDD">Row Pattern Matching: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-CFA9BAD1-8A54-4CBD-A94D-33E9F49AF76E"><span class="italic">row_pattern_partition_by</span></p>
                  <p>Specify <code class="codeph">PARTITION</code> <code class="codeph">BY</code> to divide the rows in the row pattern input table into logical groups called row pattern partitions. Use <span class="italic"><code class="codeph">column</code></span> to specify one or more partitioning columns. Each partition consists of the set of rows in the row pattern input table that have the same value(s) on the partitioning column(s).
                  </p>
                  <p>If you specify this clause, then matches are found within partitions and do not cross partition boundaries. If you do not specify this clause, then all rows of the row input table constitute a single row pattern partition.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A99E37AB-4943-4086-9ED8-9FBBC6EEE5F9"><span class="italic">row_pattern_order_by</span></p>
                  <p>Specify <code class="codeph">ORDER</code> <code class="codeph">BY</code> to order rows within each row pattern partition. Use <span class="italic"><code class="codeph">column</code></span> to specify one or more ordering columns. If you specify multiple columns, then Oracle Database first sorts rows based on their values for the first column. Rows with the same value for the first column are then sorted based on their values for the second column, and so on. Oracle Database sorts nulls following all others in ascending order.
                  </p>
                  <p>If you do not specify this clause, then the result of the <span class="italic"><code class="codeph">row_pattern_clause</code></span> is nondeterministic and you may get inconsistent results each time you run the query.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-3E52852E-ABEC-4204-90F0-030D09421F89"><span class="italic">row_pattern_measures</span></p>
                  <p>Use the <code class="codeph">MEASURES</code> clause to define one or more row pattern measure columns. These columns are included in the row pattern output table and contain values that are useful for analyzing data.
                  </p>
                  <p>When you define a row pattern measure column, using the <span class="italic"><code class="codeph">row_pattern_measure_column</code></span> clause, you specify its pattern measure expression. The values in the column are calculated by evaluating the pattern measure expression whenever a match is found.
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_measure_column</span></span></p>
                  <p>Use this clause to define a row pattern measure column.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">expr</code></span>, specify the pattern measure expression. A pattern measure expression is an expression as described in <a href="Expressions.html#GUID-E7A5363C-AEE9-4809-99C1-1A9C6E3AE017">Expressions</a> that can contain only the following elements:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Constants: Text literals and numeric literals</p>
                           </li>
                           <li>
                              <p>References to any column of the row pattern input table</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">CLASSIFIER</code> function, which returns the name of the primary row pattern variable to which the row is mapped. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBGAAB">row_pattern_classifier_func</a></span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">MATCH_NUMBER</code> function, which returns the sequential number of a row pattern match within the row pattern partition. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBEEBD">row_pattern_match_num_func</a></span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Row pattern navigation functions: <code class="codeph">PREV</code>, <code class="codeph">NEXT</code>, <code class="codeph">FIRST</code>, and <code class="codeph">LAST</code>. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCIIA">row_pattern_navigation_func</a></span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Row pattern aggregate functions: <a href="AVG.html#GUID-B64BCBF1-DAA0-4D88-9821-2C4D3FDE5E4A">AVG</a>, <a href="COUNT.html#GUID-AEF08B79-024D-4E3A-B362-9715FB011776">COUNT</a>, <a href="MAX.html#GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01">MAX</a>, <a href="MIN.html#GUID-F7F04E18-1AD8-4D15-9491-4622AD847A74">MIN</a>, or <a href="SUM.html#GUID-5610BE2C-CFE5-446F-A1F7-B924B5663220">SUM</a>. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDJGB">row_pattern_aggregate_func</a></span> for more information.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">c_alias</code></span>, specify the alias for the pattern measure expression. Oracle Database uses this alias in the column heading of the row pattern output table. The <code class="codeph">AS</code> keyword is optional. The alias can be used in other parts of the query, such as the <code class="codeph">SELECT</code> ... <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8CC3C636-0BC2-41E2-B0FB-73E4D12341F5"><span class="italic">row_pattern_rows_per_match</span></p>
                  <p>This clause lets you specify whether the row pattern output table includes summary or detailed data about each match.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>, then each match produces one summary row. This is the default.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>, then each match that spans multiple rows will produce one output row for each row in the match.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A0A59740-2EDF-40B5-821C-07361BAC99E0"><span class="italic">row_pattern_skip_to</span></p>
                  <p>This clause lets you specify the point to resume row pattern matching after a non-empty match is found.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">NEXT</code> <code class="codeph">ROW</code> to resume pattern matching at the row after the first row of the current match.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">PAST</code> <code class="codeph">LAST</code> <code class="codeph">ROW</code> to resume pattern matching at the next row after the last row of the current match. This is the default.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">FIRST</code> <span class="italic"><code class="codeph">variable_name</code></span> to resume pattern matching at the first row that is mapped to pattern variable <span class="italic"><code class="codeph">variable_name</code></span>. The <span class="italic"><code class="codeph">variable_name</code></span> must be defined in the <code class="codeph">DEFINE</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">LAST</code> <span class="italic"><code class="codeph">variable_name</code></span> to resume pattern matching at the last row that is mapped to pattern variable <span class="italic"><code class="codeph">variable_name</code></span>. The <span class="italic"><code class="codeph">variable_name</code></span> must be defined in the <code class="codeph">DEFINE</code> clause.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <span class="italic"><code class="codeph">variable_name</code></span> has the same behavior as <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> <code class="codeph">TO</code> <code class="codeph">LAST</code> <span class="italic"><code class="codeph">variable_name</code></span>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-7EEB88B0-B2EB-4F96-81BA-C2AC8E4F358F">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8993" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the <code class="codeph">AFTER</code> <code class="codeph">MATCH</code> <code class="codeph">SKIP</code> clauses
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-2672B038-2A53-4ACB-810B-49BCC6C5023E">PATTERN</p>
                  <p>Use the <code class="codeph">PATTERN</code> clause to define which pattern variables must be matched, the sequence in which they must be matched, and the quantity of rows that must be matched for each pattern variable.
                  </p>
                  <p>A row pattern match consists of a set of contiguous rows in a row pattern partition. Each row of the match is mapped to a pattern variable. The mapping of rows to pattern variables must conform to the regular expression specified in the <span class="italic"><code class="codeph">row_pattern</code></span> clause, and all conditions in the <code class="codeph">DEFINE</code> clause must be true.
                  </p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D40CC2BB-3610-4074-89AE-BE65205154DC">
                     <p class="notep1">Note:</p>
                     <p>It is outside the scope of this document to explain regular expression concepts and details. If you are not familiar with regular expressions, then you are encouraged to familiarize yourself with the topic using other sources.</p>
                  </div>
                  <p>The precedence of the elements that you specify in the regular expression of the <code class="codeph">PATTERNS</code> clause, in decreasing order, is as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Row pattern elements (specified in the <span class="italic"><code class="codeph">row_pattern_primary</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Row pattern quantifiers (specified in the <span class="italic"><code class="codeph">row_pattern_quantifier</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Concatenation (specified in the <span class="italic"><code class="codeph">row_pattern_term</code></span> clause)
                        </p>
                     </li>
                     <li>
                        <p>Alternation (specified in the <span class="italic"><code class="codeph">row_pattern</code></span> clause)
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-084FD2F9-D558-4FF5-A732-C0E4DC0497C9">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8986" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the <code class="codeph">PATTERN</code> clause
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern</span></span></p>
                  <p>Use this clause to specify the row pattern. A row pattern is a regular expression that can take one of the following forms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A single row pattern term</p>
                        <p>For example: <code class="codeph">PATTERN(A)</code></p>
                     </li>
                     <li>
                        <p>A row pattern, a vertical bar, and a row pattern term</p>
                        <p>For example: <code class="codeph">PATTERN(A|B)</code></p>
                     </li>
                     <li>
                        <p>A recursively built row pattern, a vertical bar, and a row pattern term</p>
                        <p>For example: <code class="codeph">PATTERN(A|B|C)</code></p>
                     </li>
                  </ul>
                  <p>The vertical bar in this clause represents <span class="bold">alternation</span>. Alternation matches a single regular expression from a list of several possible regular expressions. Alternatives are preferred in the order they are specified. For example, if you specify <code class="codeph">PATTERN(A|B|C)</code>, then Oracle Database attempts to match <code class="codeph">A</code> first. If <code class="codeph">A</code> is not matched, then it attempts to match <code class="codeph">B</code>. If <code class="codeph">B</code> is not matched, then it attempts to match <code class="codeph">C</code>.
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_term</span></span></p>
                  <p>This clause lets you specify a row pattern term. A row pattern term can take one of the following forms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A single row pattern factor</p>
                        <p>For example: <code class="codeph">PATTERN(A)</code></p>
                     </li>
                     <li>
                        <p>A row pattern term followed by a row pattern factor.</p>
                        <p>For example: <code class="codeph">PATTERN(A B)</code></p>
                     </li>
                     <li>
                        <p>A recursively built row pattern term followed by a row pattern factor</p>
                        <p>For example: <code class="codeph">PATTERN(A B C)</code></p>
                     </li>
                  </ul>
                  <p>The syntax used in the second and third examples represents <span class="bold">concatenation</span>. Concatenation is used to list two or more items in a pattern to be matched and the order in which they are to be matched. For example, if you specify <code class="codeph">PATTERN(A B C)</code>, then Oracle Database first matches <code class="codeph">A</code>, then uses the resulting matched rows to match <code class="codeph">B</code>, then uses the resulting matched rows to match <code class="codeph">C</code>. Only rows that match <code class="codeph">A</code>, <code class="codeph">B</code>, and <code class="codeph">C</code>, are included in the row pattern match.
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_factor</span></span></p>
                  <p>This clause lets you specify a row pattern factor. A row pattern factor consists of a row pattern element, specified using the <span class="italic"><code class="codeph">row_pattern_primary</code></span> clause, and an optional row pattern quantifier, specified using the <span class="italic"><code class="codeph">row_pattern_quantifier</code></span> clause.
                  </p>
                  <p><span class="bold"><span class="italic">row_pattern_primary</span></span></p>
                  <p>Use this clause to specify the row pattern element. <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDGEJ" title="First column lists row pattern quantifiers; second column provides descriptions.">Table 19-1</a> lists the valid row pattern elements and their descriptions.
                  </p>
                  <div class="tblformal" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDGEJ">
                     <p class="titleintable">Table 19-1 Row Pattern Elements</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Row Pattern Elements" summary="First column lists row pattern quantifiers; second column provides descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d425579e8177">Row Pattern Element</th>
                              <th align="left" valign="bottom" width="69%" id="d425579e8180">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8185" headers="d425579e8177 ">
                                 <p><span class="italic"><code class="codeph">variable_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8185 d425579e8180 ">
                                 <p>Specify a primary pattern variable name that is defined in the <span class="italic"><code class="codeph">row_pattern_definition</code></span> clause. You cannot specify a union pattern variable that is defined in the <span class="italic"><code class="codeph">row_pattern_subset_item</code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8202" headers="d425579e8177 ">
                                 <p><code class="codeph">$</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8202 d425579e8180 ">
                                 <p><code class="codeph">$</code> matches the position after the last row in the partition. This element is an anchor. Anchors work in terms of positions rather than rows.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8212" headers="d425579e8177 ">
                                 <p><code class="codeph">^</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8212 d425579e8180 ">
                                 <p><code class="codeph">^</code> matches the position before the first row in the partition. This element is an anchor. Anchors work in terms of positions rather than rows
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8222" headers="d425579e8177 ">
                                 <p><code class="codeph">(</code> <code class="codeph">[</code><span class="italic"><code class="codeph">row_pattern</code></span><code class="codeph">]</code> <code class="codeph">)</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8222 d425579e8180 ">
                                 <p>Use <span class="italic"><code class="codeph">row_pattern</code></span> to specify the row pattern to be matched. An empty pattern <code class="codeph">()</code> matches an empty set of rows.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8248" headers="d425579e8177 ">
                                 <p><code class="codeph">{-</code> <span class="italic"><code class="codeph">row_pattern</code></span> <code class="codeph">-}</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8248 d425579e8180 ">
                                 <p>Exclusion syntax. Use <span class="italic"><code class="codeph">row_pattern</code></span> to specify parts of the pattern to be excluded from the output of <code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d425579e8279" headers="d425579e8177 ">
                                 <p><span class="italic"><code class="codeph">row_pattern_permute</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d425579e8279 d425579e8180 ">
                                 <p>Use <span class="italic"><code class="codeph">row_pattern_permute</code></span> to specify a pattern that is a permutation of row pattern elements. Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEEAJJ">row_pattern_permute</a></span> for the full semantics of this clause.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEEAJJ"><span class="bold"><span class="italic">row_pattern_permute</span></span></p>
                  <p>Use the <code class="codeph">PERMUTE</code> clause to express a pattern that is a permutation of the specified row pattern elements. For example, <code class="codeph">PATTERN</code> <code class="codeph">(PERMUTE</code> <code class="codeph">(A,</code> <code class="codeph">B,</code> <code class="codeph">C))</code> is equivalent to an alternation of all permutations of the three row pattern elements <code class="codeph">A</code>, <code class="codeph">B</code>, and <code class="codeph">C</code>, similar to the following:
                  </p><pre class="oac_no_warn" dir="ltr">PATTERN (A B C | A C B | B A C | B C A | C A B | C B A)
</pre><p>Note that the row pattern elements are expanded lexicographically and that each element to permute must be separated by a comma from the other elements.</p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9E8045E1-345F-4634-B49D-0989CD161D4C">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9022" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on permutations
                     </p>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_quantifier</span></span></p>
                  <p>Use this clause to specify the row pattern quantifier, which is a postfix operator that defines the number of iterations accepted for a match.</p>
                  <p>Row pattern quantifiers are referred to as greedy; they will attempt to match as many instances of the regular expression on which they are applied as possible. The exception is row pattern quantifiers that have a question mark (<code class="codeph">?</code>) as a suffix, which are referred to as reluctant. They will attempt to match as few instances as possible of the regular expression on which they are applied.
                  </p>
                  <p><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGAGEF" title="First column lists row pattern quantifiers; second column provides descriptions.">Table 19-2</a> lists the valid row pattern quantifiers and the number of iterations they accept for a match. In this table, <span class="italic"><code class="codeph">n</code></span> and <span class="italic"><code class="codeph">m</code></span> represent unsigned integers.
                  </p>
                  <div class="tblformal" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGAGEF">
                     <p class="titleintable">Table 19-2 Row Pattern Quantifiers</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Row Pattern Quantifiers" summary="First column lists row pattern quantifiers; second column provides descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d425579e8376">Row Pattern Quantifier</th>
                              <th align="left" valign="bottom" width="84%" id="d425579e8379">Number of Iterations Accepted for a Match</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8384" headers="d425579e8376 ">
                                 <p><code class="codeph">*</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8384 d425579e8379 ">
                                 <p>0 or more iterations (greedy)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8392" headers="d425579e8376 ">
                                 <p><code class="codeph">*?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8392 d425579e8379 ">
                                 <p>0 or more iterations (reluctant)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8400" headers="d425579e8376 ">
                                 <p><code class="codeph">+</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8400 d425579e8379 ">
                                 <p>1 or more iterations (greedy)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8408" headers="d425579e8376 ">
                                 <p><code class="codeph">+?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8408 d425579e8379 ">
                                 <p>1 or more iterations (reluctant)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8416" headers="d425579e8376 ">
                                 <p><code class="codeph">?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8416 d425579e8379 ">
                                 <p>0 or 1 iterations (greedy)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8424" headers="d425579e8376 ">
                                 <p><code class="codeph">??</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8424 d425579e8379 ">
                                 <p>0 or 1 iterations (reluctant)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8432" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">,}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8432 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span> or more iterations, (<span class="italic"><code class="codeph">n </code></span>&gt;= 0) (greedy)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8452" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">,}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8452 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span> or more iterations, (<span class="italic"><code class="codeph">n</code></span> &gt;= 0) (reluctant)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8472" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">m</code></span><code class="codeph">}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8472 d425579e8379 ">
                                 <p>Between <span class="italic"><code class="codeph">n</code></span> and <span class="italic"><code class="codeph">m</code></span> iterations, inclusive, (0 &lt;= <span class="italic"><code class="codeph">n</code></span> &lt;= <span class="italic"><code class="codeph">m</code></span>, 0 &lt; <span class="italic"><code class="codeph">m</code></span>) (greedy)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8510" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">m</code></span><code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8510 d425579e8379 ">
                                 <p>Between <span class="italic"><code class="codeph">n</code></span> and <span class="italic"><code class="codeph">m</code></span> iterations, inclusive, (0 &lt;= <span class="italic"><code class="codeph">n</code></span> &lt;= <span class="italic"><code class="codeph">m</code></span>, 0 &lt; <span class="italic"><code class="codeph">m</code></span>) (reluctant)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8548" headers="d425579e8376 ">
                                 <p><code class="codeph">{,</code><span class="italic"><code class="codeph">m</code></span><code class="codeph">}</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8548 d425579e8379 ">
                                 <p>Between 0 and <span class="italic"><code class="codeph">m</code></span> iterations, inclusive (<span class="italic"><code class="codeph">m</code></span> &gt; 0) (greedy)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8570" headers="d425579e8376 ">
                                 <p><code class="codeph">{,</code><span class="italic"><code class="codeph">m</code></span><code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8570 d425579e8379 ">
                                 <p>Between 0 and <span class="italic"><code class="codeph">m</code></span> iterations, inclusive (<span class="italic"><code class="codeph">m</code></span> &gt; 0) (reluctant)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d425579e8591" headers="d425579e8376 ">
                                 <p><code class="codeph">{</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">}?</code></p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d425579e8591 d425579e8379 ">
                                 <p><span class="italic"><code class="codeph">n</code></span> iterations, (<span class="italic"><code class="codeph">n</code></span> &gt; 0)
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-D57E69D0-B99D-4A93-A76D-6F69ABDF6C32">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/sql-pattern-matching-data-warehouses.html#DWHSG8986" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on row pattern quantifiers
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-AD48B32F-975F-4FE2-95C9-BEC4402EA536"><span class="italic">row_pattern_subset_clause</span></p>
                  <p>The <code class="codeph">SUBSET</code> clause lets you specify one or more union row pattern variables. Use the <span class="italic"><code class="codeph">row_pattern_subset_item</code></span> clause to declare each union row pattern variable.
                  </p>
                  <p>You can specify union row pattern variables in the following clauses:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">MEASURES</code> clause: In the expression for a row pattern measure column. That is, in expression <span class="italic"><code class="codeph">expr</code></span> of the <span class="italic"><code class="codeph">row_pattern_measure_column</code></span> clause.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code> clause: In the condition that defines a primary pattern variable. That is, in <span class="italic"><code class="codeph">condition</code></span> of the <span class="italic"><code class="codeph">row_pattern_definition</code></span> clause
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">row_pattern_subset_item</span></span></p>
                  <p>This clause lets you create a grouping of multiple pattern variables that can be referred to with a variable name of its own. The variable name that refers to this grouping is called a union row pattern variable.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">variable_name</code></span> on the left side of the equal sign, specify the name of the union row pattern variable.
                        </p>
                     </li>
                     <li>
                        <p>On the right side of the equal sign, specify a comma-separated list of distinct primary row pattern variables within parentheses. This list cannot include any union row pattern variables.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-57BCDC3E-1172-40B9-A0F7-856846D5B06A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8989" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on defining union row pattern variables
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-5DCD19B1-8D16-4D54-BF30-72B8AF2850D6">DEFINE</p>
                  <p>Use the <code class="codeph">DEFINE</code> clause to specify one or more row pattern definitions. A row pattern definition specifies the conditions that a row must meet in order to be mapped to a specific pattern variable.
                  </p>
                  <p>The <code class="codeph">DEFINE</code> clause only supports running semantics.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B9B5E8CE-1722-488A-9A53-8120E61002FB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8999" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the <code class="codeph">DEFINE</code> clause
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on running and final semantics
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_definition_list</span></span></p>
                  <p>This clause lets you specify one or more row pattern definitions.</p>
                  <p><span class="bold"><span class="italic">row_pattern_definition</span></span></p>
                  <p>This clause lets you specify a row pattern definition, which contains the conditions that a row must meet in order to be mapped to the specified pattern variable.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">variable_name</code></span>, specify the name of the pattern variable.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">condition</code></span>, specify a condition as described in <a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a>, with the following extension: <span class="italic"><code class="codeph">condition</code></span> can contain any of the functions described by <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDHIEA">row_pattern_navigation_func::=</a></span> and <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBDCFA">row_pattern_aggregate_func::=</a></span>.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">row_pattern_rec_func</span></span></p>
                  <p>This clause comprises the following clauses, which let you specify row pattern recognition functions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_classifier_func</code></span>: Use this clause to specify the <code class="codeph">CLASSIFIER</code> function, which returns a character string whose value is the name of the variable to which the row is mapped.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_match_num_func</code></span>: Use this clause to specify the <code class="codeph">MATCH_NUMBER</code> function, which returns a numeric value with scale 0 (zero) whose value is the sequential number of the match within the row pattern partition.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_navigation_func</code></span>: Use this clause to specify functions that perform row pattern navigation operations.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">row_pattern_aggregate_func</code></span>: Use this clause to specify an aggregate function in the expression for a row pattern measure column or in the condition that defines a primary pattern variable.
                        </p>
                     </li>
                  </ul>
                  <p>You can specify row pattern recognition functions in the following clauses:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">MEASURES</code> clause: In the expression for a row pattern measure column. That is, in expression <span class="italic"><code class="codeph">expr</code></span> of the <span class="italic"><code class="codeph">row_pattern_measure_column</code></span> clause.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DEFINE</code> clause: In the condition that defines a primary pattern variable. That is, in <span class="italic"><code class="codeph">condition</code></span> of the <span class="italic"><code class="codeph">row_pattern_definition</code></span> clause
                        </p>
                     </li>
                  </ul>
                  <p>A row pattern recognition function may behave differently depending whether you specify it in the <code class="codeph">MEASURES</code> or <code class="codeph">DEFINE</code> clause. These details are explained in the semantics for each clause.
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBGAAB"><span class="bold"><span class="italic">row_pattern_classifier_func</span></span></p>
                  <p>The <code class="codeph">CLASSIFIER</code> function returns a character string whose value is the name of the variable to which the row is mapped.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In the <code class="codeph">MEASURES</code> clause: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you specify <code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>, then the query uses the last row of the match when processing the <code class="codeph">MEASURES</code> clause, so the <code class="codeph">CLASSIFIER</code> function returns the name of the pattern variable to which the last row of the match is mapped.
                              </p>
                           </li>
                           <li>
                              <p>If you specify <code class="codeph">ALL</code> <code class="codeph">ROWS</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>, then for each row of the match found, the <code class="codeph">CLASSIFIER</code> function returns the name of the pattern variable to which the row is mapped.
                              </p>
                           </li>
                        </ul>
                        <p>For empty matches—that is, matches that contain no rows, the <code class="codeph">CLASSIFER</code> function returns NULL.
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">DEFINE</code> clause, the <code class="codeph">CLASSIFIER</code> function returns the name of the primary pattern variable to which the current row is mapped.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABBEEBD"><span class="bold"><span class="italic">row_pattern_match_num_func</span></span></p>
                  <p>The <code class="codeph">MATCH_NUMBER</code> function returns a numeric value with scale 0 (zero) whose value is the sequential number of the match within the row pattern partition.
                  </p>
                  <p>Matches within a row pattern partition are numbered sequentially starting with 1 in the order in which they are found. If multiple rows satisfy a match, then they are all assigned the same match number. Note that match numbering starts over again at 1 in each row pattern partition, because there is no inherent ordering between row pattern partitions.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In the <code class="codeph">MEASURES</code> clause: You can use <code class="codeph">MATCH_NUMBER</code> to obtain the sequential number of the match within the row pattern.
                        </p>
                     </li>
                     <li>
                        <p>In the <code class="codeph">DEFINE</code> clause: You can use <code class="codeph">MATCH_NUMBER</code> to define conditions that depend upon the match number.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABGCIIA"><span class="bold"><span class="italic">row_pattern_navigation_func</span></span></p>
                  <p>This clause lets you perform the following row pattern navigation operations:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Navigate among the group of rows mapped to a pattern variable using the <code class="codeph">FIRST</code> and <code class="codeph">LAST</code> functions of the <span class="italic"><code class="codeph">row_pattern_nav_logical</code></span> clause.
                        </p>
                     </li>
                     <li>
                        <p>Navigate among all rows in a row pattern partition using the <code class="codeph">PREV</code> and <code class="codeph">NEXT</code> functions of the <span class="italic"><code class="codeph">row_pattern_nav_physical</code></span> clause
                        </p>
                     </li>
                     <li>
                        <p>Nest the <code class="codeph">FIRST</code> or <code class="codeph">LAST</code> function within the <code class="codeph">PREV</code> or <code class="codeph">NEXT</code> function using the <span class="italic"><code class="codeph">row_pattern_nav_compound</code></span> clause.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHCBFE"><span class="bold"><span class="italic">row_pattern_nav_logical</span></span></p>
                  <p>This clause lets you use the <code class="codeph">FIRST</code> and <code class="codeph">LAST</code> functions to navigate among the group of rows mapped to a pattern variable using an optional logical offset.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">FIRST</code> function returns the value of expression <span class="italic"><code class="codeph">expr</code></span> when evaluated in the first row of the group of rows mapped to the pattern variable that is specified in <span class="italic"><code class="codeph">expr</code></span>. If no rows are mapped to the pattern variable, then the <code class="codeph">FIRST</code> function returns NULL.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">LAST</code> function returns the value of expression <span class="italic"><code class="codeph">expr</code></span> when evaluated in the last row of the group of rows mapped to the pattern variable that is specified in <span class="italic"><code class="codeph">expr</code></span>. If no rows are mapped to the pattern variable, then the <code class="codeph">LAST</code> function returns NULL.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">expr</code></span> to specify the expression to be evaluated. It must contain at least one row pattern column reference. If it contains more than one row pattern column reference, then all must refer to the same pattern variable.
                        </p>
                     </li>
                     <li>
                        <p>Use the optional <span class="italic"><code class="codeph">offset</code></span> to specify the logical offset within the set of rows mapped to the pattern variable. When specified with the <code class="codeph">FIRST</code> function, the offset is the number of rows from the first row, in ascending order. When specified with the <code class="codeph">LAST</code> function, the offset is the number of rows from the last row in descending order. The default offset is 0.
                        </p>
                        <p>For <span class="italic"><code class="codeph">offset</code></span>, specify a non-negative integer. It must be a runtime constant (literal, bind variable, or expressions involving them), but not a column or subquery.
                        </p>
                        <p>If you specify an <span class="italic"><code class="codeph">offset</code></span> that is greater than or equal to the number of rows mapped to the pattern variable minus 1, then the function returns NULL.
                        </p>
                     </li>
                  </ul>
                  <p>You can specify running or final semantics for the <code class="codeph">FIRST</code> and <code class="codeph">LAST</code> functions as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">MEASURES</code> clause supports running and final semantics. Specify <code class="codeph">RUNNING</code> for running semantics. Specify <code class="codeph">FINAL</code> for final semantics. The default is <code class="codeph">RUNNING</code>.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DEFINE</code> clause supports only running semantics. Therefore, running semantics will be used whether you specify or omit <code class="codeph">RUNNING</code>. You cannot specify <code class="codeph">FINAL</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-ED886EB5-465F-49FA-AFE4-ABA6F1619CFD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9001" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the <code class="codeph">FIRST</code> and <code class="codeph">LAST</code> functions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on running and final semantics
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFIFBC"><span class="bold"><span class="italic">row_pattern_nav_physical</span></span></p>
                  <p>This clause lets you use the <code class="codeph">PREV</code> and <code class="codeph">NEXT</code> functions to navigate all rows in a row pattern partition using an optional physical offset.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">PREV</code> function returns the value of expression <span class="italic"><code class="codeph">expr</code></span> when evaluated in the previous row in the partition. If there is no previous row in the partition, then the <code class="codeph">PREV</code> function returns NULL.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">NEXT</code> function returns the value of expression <span class="italic"><code class="codeph">expr</code></span> when evaluated in the next row in the partition. If there is no next row in the partition, then the NEXT function returns NULL.
                        </p>
                     </li>
                     <li>
                        <p>Use <span class="italic"><code class="codeph">expr</code></span> to specify the expression to be evaluated. It must contain at least one row pattern column reference. If it contains more than one row pattern column reference, then all must refer to the same pattern variable.
                        </p>
                     </li>
                     <li>
                        <p>Use the optional <span class="italic"><code class="codeph">offset</code></span> to specify the physical offset within the partition. When specified with the <code class="codeph">PREV</code> function, it is the number of rows before the current row. When specified with the <code class="codeph">NEXT</code> function, it is the number of rows after the current row. The default is 1. If you specify an offset of 0, then the current row is evaluated.
                        </p>
                        <p>For <span class="italic"><code class="codeph">offset</code></span>, specify a non-negative integer. It must be a runtime constant (literal, bind variable, or expressions involving them), but not a column or subquery.
                        </p>
                     </li>
                  </ul>
                  <p>The <code class="codeph">PREV</code> and <code class="codeph">NEXT</code> functions always use running semantics. Therefore, you cannot specify the <code class="codeph">RUNNING</code> or <code class="codeph">FINAL</code> keywords with this clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-FBAC125E-A989-48CC-A5EA-98A193C8DA50">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8999" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on the <code class="codeph">PREV</code> and <code class="codeph">NEXT</code> functions
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on running and final semantics
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">row_pattern_nav_compound</span></span></p>
                  <p>This clause lets you nest the <span class="italic"><code class="codeph">row_pattern_nav_logical</code></span> clause within the <span class="italic"><code class="codeph">row_pattern_nav_physical</code></span> clause. That is, it lets you nest the <code class="codeph">FIRST</code> or <code class="codeph">LAST</code> function within the <code class="codeph">PREV</code> or <code class="codeph">NEXT</code> function. The <span class="italic"><code class="codeph">row_pattern_nav_logical</code></span> clause is evaluated first and then the result is supplied to the <span class="italic"><code class="codeph">row_pattern_nav_physical</code></span> clause.
                  </p>
                  <p>Refer to <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABHCBFE">row_pattern_nav_logical</a></span> and <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFIFBC">row_pattern_nav_physical</a></span> for the full semantics of these clauses.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-9DB56F1C-E096-4B9B-8777-2280FF24A03B">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9015" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on nesting the <code class="codeph">FIRST</code> and <code class="codeph">LAST</code> functions within the <code class="codeph">PREV</code> and <code class="codeph">NEXT</code> functions
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABIDJGB"><span class="bold"><span class="italic">row_pattern_aggregate_func</span></span></p>
                  <p>This clause lets you use an aggregate function in the expression for a row pattern measure column or in the condition that defines a primary pattern variable.</p>
                  <p>For <span class="italic"><code class="codeph">aggregate_function</code></span>, specify any one of the <a href="AVG.html#GUID-B64BCBF1-DAA0-4D88-9821-2C4D3FDE5E4A">AVG</a>, <a href="COUNT.html#GUID-AEF08B79-024D-4E3A-B362-9715FB011776">COUNT</a>, <a href="MAX.html#GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01">MAX</a>, <a href="MIN.html#GUID-F7F04E18-1AD8-4D15-9491-4622AD847A74">MIN</a>, or <a href="SUM.html#GUID-5610BE2C-CFE5-446F-A1F7-B924B5663220">SUM</a> functions. The <code class="codeph">DISTINCT</code> keyword is not supported.
                  </p>
                  <p>You can specify running or final semantics for aggregate functions as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">MEASURES</code> clause supports running and final semantics. Specify <code class="codeph">RUNNING</code> for running semantics. Specify <code class="codeph">FINAL</code> for final semantics. The default is <code class="codeph">RUNNING</code>.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DEFINE</code> clause supports only running semantics. Therefore, running semantics will be used whether you specify or omit <code class="codeph">RUNNING</code>. You cannot specify <code class="codeph">FINAL</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-51960E83-48BC-4B15-9AF7-B508915E66CB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG8998" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on aggregate functions
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG9193" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on running and final semantics
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066378">
                  <p class="subhead1" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-B98ADD28-D7EE-4A71-9CC3-41836D8777E9">Examples</p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJFIDC"><span class="bold">Using a PL/SQL Function in the WITH Clause: Examples</span></p>
                  <p>The following example declares and defines a PL/SQL function <code class="codeph">get_domain</code> in the <code class="codeph">WITH</code> clause. The <code class="codeph">get_domain</code> function returns the domain name from a URL string, assuming that the URL string has the "<code class="codeph">www</code>" prefix immediately preceding the domain name, and the domain name is separated by dots on the left and right. The <code class="codeph">SELECT</code> statement uses <code class="codeph">get_domain</code> to find distinct catalog domain names from the <code class="codeph">orders</code> table in the <code class="codeph">oe</code> schema.
                  </p><pre class="oac_no_warn" dir="ltr">WITH
 FUNCTION get_domain(url VARCHAR2) RETURN VARCHAR2 IS
   pos BINARY_INTEGER;
   len BINARY_INTEGER;
 BEGIN
   pos := INSTR(url, 'www.');
   len := INSTR(SUBSTR(url, pos + 4), '.') - 1;
   RETURN SUBSTR(url, pos + 4, len);
 END;
SELECT DISTINCT get_domain(catalog_url)
  FROM product_information;
/</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129904"><span class="bold">Subquery Factoring: Example</span></p>
                  <p>The following statement creates the query names <code class="codeph">dept_costs</code> and <code class="codeph">avg_cost</code> for the initial query block containing a join, and then uses the query names in the body of the main query.
                  </p><pre class="oac_no_warn" dir="ltr">WITH 
   dept_costs AS (
      SELECT department_name, SUM(salary) dept_total
         FROM employees e, departments d
         WHERE e.department_id = d.department_id
      GROUP BY department_name),
   avg_cost AS (
      SELECT SUM(dept_total)/COUNT(*) avg
      FROM dept_costs)
SELECT * FROM dept_costs
   WHERE dept_total &gt;
      (SELECT avg FROM avg_cost)
      ORDER BY department_name;

DEPARTMENT_NAME                DEPT_TOTAL
------------------------------ ----------
Sales                              304500
Shipping                           156400</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABCDJDB"><span class="bold">Recursive Subquery Factoring: Examples</span></p>
                  <p>The following statement shows the employees who directly or indirectly report to employee 101 and their reporting level.</p><pre class="oac_no_warn" dir="ltr">WITH
  reports_to_101 (eid, emp_last, mgr_id, reportLevel) AS
  (
     SELECT employee_id, last_name, manager_id, 0 reportLevel
     FROM employees
     WHERE employee_id = 101
   UNION ALL
     SELECT e.employee_id, e.last_name, e.manager_id, reportLevel+1
     FROM reports_to_101 r, employees e
     WHERE r.eid = e.manager_id
  )
SELECT eid, emp_last, mgr_id, reportLevel
FROM reports_to_101
ORDER BY reportLevel, eid;

       EID EMP_LAST                      MGR_ID REPORTLEVEL
---------- ------------------------- ---------- -----------
       101 Kochhar                          100           0
       108 Greenberg                        101           1
       200 Whalen                           101           1
       203 Mavris                           101           1
       204 Baer                             101           1
       205 Higgins                          101           1
       109 Faviet                           108           2
       110 Chen                             108           2
       111 Sciarra                          108           2
       112 Urman                            108           2
       113 Popp                             108           2
       206 Gietz                            205           2
</pre><p>The following statement shows employees who directly or indirectly report to employee 101, their reporting level, and their management chain.</p><pre class="oac_no_warn" dir="ltr">WITH
  reports_to_101 (eid, emp_last, mgr_id, reportLevel, mgr_list) AS
  (
     SELECT employee_id, last_name, manager_id, 0 reportLevel,
            CAST(manager_id AS VARCHAR2(2000))
     FROM employees
     WHERE employee_id = 101
  UNION ALL
     SELECT e.employee_id, e.last_name, e.manager_id, reportLevel+1,
            CAST(mgr_list || ',' || manager_id AS VARCHAR2(2000))
     FROM reports_to_101 r, employees e
     WHERE r.eid = e.manager_id
  )
SELECT eid, emp_last, mgr_id, reportLevel, mgr_list
FROM reports_to_101
ORDER BY reportLevel, eid;

        EID EMP_LAST                      MGR_ID REPORTLEVEL MGR_LIST
 ---------- ------------------------- ---------- ----------- --------
       101 Kochhar                          100           0  100
       108 Greenberg                        101           1  100,101
       200 Whalen                           101           1  100,101
       203 Mavris                           101           1  100,101
       204 Baer                             101           1  100,101
       205 Higgins                          101           1  100,101
       109 Faviet                           108           2  100,101,108
       110 Chen                             108           2  100,101,108
       111 Sciarra                          108           2  100,101,108
       112 Urman                            108           2  100,101,108
       113 Popp                             108           2  100,101,108
       206 Gietz                            205           2  100,101,205
</pre><p>The following statement shows the employees who directly or indirectly report to employee 101 and their reporting level. It stops at reporting level 1.</p><pre class="oac_no_warn" dir="ltr">WITH
  reports_to_101 (eid, emp_last, mgr_id, reportLevel) AS
  (
    SELECT employee_id, last_name, manager_id, 0 reportLevel
    FROM employees
    WHERE employee_id = 101
  UNION ALL
    SELECT e.employee_id, e.last_name, e.manager_id, reportLevel+1
    FROM reports_to_101 r, employees e
    WHERE r.eid = e.manager_id
  )
SELECT eid, emp_last, mgr_id, reportLevel
FROM reports_to_101
WHERE reportLevel &lt;= 1
ORDER BY reportLevel, eid;

       EID EMP_LAST                      MGR_ID REPORTLEVEL
---------- ------------------------- ---------- -----------
       101 Kochhar                          100           0
       108 Greenberg                        101           1
       200 Whalen                           101           1
       203 Mavris                           101           1
       204 Baer                             101           1
       205 Higgins                          101           1
</pre><p>The following statement shows the entire organization, indenting for each level of management.</p><pre class="oac_no_warn" dir="ltr">WITH
  org_chart (eid, emp_last, mgr_id, reportLevel, salary, job_id) AS
  (
    SELECT employee_id, last_name, manager_id, 0 reportLevel, salary, job_id
    FROM employees
    WHERE manager_id is null
  UNION ALL
    SELECT e.employee_id, e.last_name, e.manager_id,
           r.reportLevel+1 reportLevel, e.salary, e.job_id
    FROM org_chart r, employees e
    WHERE r.eid = e.manager_id
  )
  SEARCH DEPTH FIRST BY emp_last SET order1
SELECT lpad(' ',2*reportLevel)||emp_last emp_name, eid, mgr_id, salary, job_id
FROM org_chart
ORDER BY order1;

EMP_NAME                    EID     MGR_ID     SALARY JOB_ID
-------------------- ---------- ---------- ---------- ----------
King                        100                 24000 AD_PRES
  Cambrault                 148        100      11000 SA_MAN
    Bates                   172        148       7300 SA_REP
    Bloom                   169        148      10000 SA_REP
    Fox                     170        148       9600 SA_REP
    Kumar                   173        148       6100 SA_REP
    Ozer                    168        148      11500 SA_REP
    Smith                   171        148       7400 SA_REP
  De Haan                   102        100      17000 AD_VP
    Hunold                  103        102       9000 IT_PROG
      Austin                105        103       4800 IT_PROG
      Ernst                 104        103       6000 IT_PROG
      Lorentz               107        103       4200 IT_PROG
      Pataballa             106        103       4800 IT_PROG
  Errazuriz                 147        100      12000 SA_MAN
    Ande                    166        147       6400 SA_REP
. . .
</pre><p>The following statement shows the entire organization, indenting for each level of management, with each level ordered by <span class="italic"><code class="codeph">hire_date</code></span>. The value of <span class="italic"><code class="codeph">is_cycle</code></span> is set to <code class="codeph">Y</code> for any employee who has the same <span class="italic"><code class="codeph">hire_date</code></span> as any manager above him in the management chain.
                  </p><pre class="oac_no_warn" dir="ltr">WITH
  dup_hiredate (eid, emp_last, mgr_id, reportLevel, hire_date, job_id) AS
  (
    SELECT employee_id, last_name, manager_id, 0 reportLevel, hire_date, job_id
    FROM employees
    WHERE manager_id is null
  UNION ALL
    SELECT e.employee_id, e.last_name, e.manager_id,
           r.reportLevel+1 reportLevel, e.hire_date, e.job_id
    FROM dup_hiredate r, employees e
    WHERE r.eid = e.manager_id
  )
  SEARCH DEPTH FIRST BY hire_date SET order1
  CYCLE hire_date SET is_cycle TO 'Y' DEFAULT 'N'
SELECT lpad(' ',2*reportLevel)||emp_last emp_name, eid, mgr_id,
       hire_date, job_id, is_cycle
FROM dup_hiredate
ORDER BY order1;

EMP_NAME                    EID     MGR_ID HIRE_DATE JOB_ID     IS_CYCLE
-------------------- ---------- ---------- --------- ---------- --------
King                        100            17-JUN-03 AD_PRES           N
  De Haan                   102        100 13-JAN-01 AD_VP             N
    Hunold                  103        102 03-JAN-06 IT_PROG           N
      Austin                105        103 25-JUN-05 IT_PROG           N
. . .
  Kochhar                   101        100 21-SEP-05 AD_VP             N
    Mavris                  203        101 07-JUN-02 HR_REP            N
    Baer                    204        101 07-JUN-02 PR_REP            N
    Higgins                 205        101 07-JUN-02 AC_MGR            N
      <span class="bold">Gietz</span>                 <span class="bold">206</span>        <span class="bold">205</span> <span class="bold">07-JUN-02</span> <span class="bold">AC_ACCOUNT</span>        <span class="bold">Y</span>
    Greenberg               108        101 17-AUG-02 FI_MGR            N
      Faviet                109        108 16-AUG-02 FI_ACCOUNT        N
      Chen                  110        108 28-SEP-05 FI_ACCOUNT        N
. . .
</pre><p>The following statement counts the number of employees under each manager.</p><pre class="oac_no_warn" dir="ltr">WITH
  emp_count (eid, emp_last, mgr_id, mgrLevel, salary, cnt_employees) AS
  (
    SELECT employee_id, last_name, manager_id, 0 mgrLevel, salary, 0 cnt_employees
    FROM employees
  UNION ALL
    SELECT e.employee_id, e.last_name, e.manager_id,
           r.mgrLevel+1 mgrLevel, e.salary, 1 cnt_employees
    FROM emp_count r, employees e
    WHERE e.employee_id = r.mgr_id
  )
  SEARCH DEPTH FIRST BY emp_last SET order1
SELECT emp_last, eid, mgr_id, salary, sum(cnt_employees), max(mgrLevel) mgrLevel
FROM emp_count
GROUP BY emp_last, eid, mgr_id, salary
HAVING max(mgrLevel) &gt; 0
ORDER BY mgr_id NULLS FIRST, emp_last;

EMP_LAST                  EID     MGR_ID     SALARY SUM(CNT_EMPLOYEES)   MGRLEVEL
------------------ ---------- ---------- ---------- ------------------ ----------
King                      100                 24000                106          3
Cambrault                 148        100      11000                  7          2
De Haan                   102        100      17000                  5          2
Errazuriz                 147        100      12000                  6          1
Fripp                     121        100       8200                  8          1
Hartstein                 201        100      13000                  1          1
Kaufling                  122        100       7900                  8          1
. . .</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__P-1314421-F3347731"><span class="bold">Analytic Views: Examples</span></p>
                  <p>The following statement uses the persistent analytic view sales_av. The query selects the <code class="codeph">member_name</code> hierarchical attribute of time_hier, which is the alias of a hierarchy of the same name, and values from the sales and units measures of the analytic view that are dimensioned by the time attribute dimension used by the time_hier hierarchy.. The results of the selection are filtered to those for the YEAR level of the hierarchy. The results are returned in hierarchical order. 
                  </p><pre class="pre codeblock"><code>SELECT time_hier.member_name as TIME,
 sales,
 units
FROM
 sales_av HIERARCHIES(time_hier)
WHERE time_hier.level_name = 'YEAR'
ORDER BY time_hier.hier_order;
</code></pre><p>The results of the query are the following:</p><pre class="pre codeblock"><code>TIME    SALES           UNITS
------  -------------  ---------
CY2011  6755115980.73  24462444
CY2012  6901682398.95  24400619
CY2013  7240938717.57  24407259
CY2014  7579746352.89  24402666
CY2015  7941102885.15  24475206</code></pre><p>Transitory Analytic View Examples</p>
                  <p>The following statement defines the transitory analytic view my_av in the <code class="codeph">WITH</code> clause. The transitory analytic view is based on the persistent analytic view sales_av. The lag_sales calculated measure is a <code class="codeph">LAG</code> calculation that is used at query time.
                  </p><pre class="pre codeblock"><code>WITH
  my_av ANALYTIC VIEW AS (
    USING sales_av HIERARCHIES (time_hier)
    ADD MEASURES (
      lag_sales AS (LAG(sales) OVER (HIERARCHY time_hier OFFSET 1))
    )
  )
SELECT time_hier.member_name time, sales, lag_sales
FROM my_av HIERARCHIES (time_hier)
WHERE time_hier.level_name = 'YEAR'
ORDER BY time_hier.hier_order;</code></pre><p>The results of the query are the following:</p><pre class="pre codeblock"><code>TIME         SALES   LAG_SALES
------  ----------  ----------
CY2011  6755115981      (null)
CY2012  6901682399  6755115981
CY2013  7240938718  6901682399
CY2014  7579746353  7240938718
CY2015  7941102885  7579746353</code></pre><p>The following statement defines a transitory analytic view that uses a filter clause.</p><pre class="pre codeblock"><code>WITH
  my_av ANALYTIC VIEW AS (
    USING sales_av HIERARCHIES (time_hier)
    FILTER FACT (
      time_hier TO quarter_of_year IN (1, 2) 
        AND year_name IN ('CY2011', 'CY2012')
    )
  )
SELECT time_hier.member_name time, sales
  FROM my_av HIERARCHIES (time_hier)
  WHERE time_hier.level_name IN ('YEAR', 'QUARTER')
  ORDER BY time_hier.hier_order;</code></pre><p>The results of the query are the following:</p><pre class="pre codeblock"><code>TIME           SALES
--------  ----------
CY2011    3340459835
Q1CY2011  1625299627
Q2CY2011  1715160208
CY2012    3397271965
Q1CY2012  1644857783
Q2CY2012  1752414182</code></pre><p>Inline Analytic View Example</p>
                  <p>The following statement defines an inline analytic view in the <code class="codeph">FROM</code> clause. The transitory analytic view is based on the persistent analytic view sales_av. The lag_sales calculated measure is a <code class="codeph">LAG</code> calculation that is used at query time.
                  </p><pre class="pre codeblock"><code>SELECT time_hier.member_name time, sales, lag_sales
FROM
  ANALYTIC VIEW (
    USING sales_av HIERARCHIES (time_hier)
    ADD MEASURES (
      lag_sales AS (LAG(sales) OVER (HIERARCHY time_hier OFFSET 1))
    )
  )
WHERE time_hier.level_name = 'YEAR'
ORDER BY time_hier.hier_order;</code></pre><p>The results of the query are the following:</p><pre class="pre codeblock"><code>TIME         SALES   LAG_SALES
------  ----------  ----------
CY2011  6755115981      (null)
CY2012  6901682399  6755115981
CY2013  7240938718  6901682399
CY2014  7579746353  7240938718
CY2015  7941102885  7579746353</code></pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2129937"><span class="bold">Simple Query Examples</span></p>
                  <p>The following statement selects rows from the <code class="codeph">employees</code> table with the department number of 30:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * 
   FROM employees 
   WHERE department_id = 30
   ORDER BY last_name;
</pre><p>The following statement selects the name, job, salary and department number of all employees except purchasing clerks from department number 30:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name, job_id, salary, department_id 
   FROM employees 
   WHERE NOT (job_id = 'PU_CLERK' AND department_id = 30)
   ORDER BY last_name; 
</pre><p>The following statement selects from subqueries in the <code class="codeph">FROM</code> clause and for each department returns the total employees and salaries as a decimal value of all the departments:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT a.department_id "Department",
   a.num_emp/b.total_count "%_Employees",
   a.sal_sum/b.total_sal "%_Salary"
FROM
(SELECT department_id, COUNT(*) num_emp, SUM(salary) sal_sum
   FROM employees
   GROUP BY department_id) a,
(SELECT COUNT(*) total_count, SUM(salary) total_sal
   FROM employees) b
ORDER BY a.department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105152"><span class="bold">Selecting from a Partition: Example</span></p>
                  <p>You can select rows from a single partition of a partitioned table by specifying the keyword <code class="codeph">PARTITION</code> in the <code class="codeph">FROM</code> clause. This SQL statement assigns an alias for and retrieves rows from the <code class="codeph">sales_q2_2000</code> partition of the sample table <code class="codeph">sh.sales</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales PARTITION (sales_q2_2000) s
   WHERE s.amount_sold &gt; 1500
   ORDER BY cust_id, time_id, channel_id;
</pre><p>The following example selects rows from the <code class="codeph">oe.orders</code> table for orders earlier than a specified date:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM orders
   WHERE order_date &lt; TO_DATE('2006-06-15', 'YYYY-MM-DD');</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2105143"><span class="bold">Selecting a Sample: Examples</span> 
                  </p>
                  <p>The following query estimates the number of orders in the <code class="codeph">oe.orders</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) * 10 FROM orders SAMPLE (10);

COUNT(*)*10
-----------
         70
</pre><p>Because the query returns an estimate, the actual return value may differ from one query to the next. </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) * 10 FROM orders SAMPLE (10);

COUNT(*)*10
-----------
         80
</pre><p>The following query adds a seed value to the preceding query. Oracle Database always returns the same estimate given the same seed value:</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) * 10 FROM orders SAMPLE(10) SEED (1);

COUNT(*)*10
-----------
        130

SELECT COUNT(*) * 10 FROM orders SAMPLE(10) SEED(4);

COUNT(*)*10
-----------
        120

SELECT COUNT(*) * 10 FROM orders SAMPLE(10) SEED (1);

COUNT(*)*10
-----------
        130</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112847"><span class="bold">Using Flashback Queries: Example</span></p>
                  <p>The following statements show a current value from the sample table <code class="codeph">hr.employees</code> and then change the value. The intervals used in these examples are very short for demonstration purposes. Time intervals in your own environment are likely to be larger.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT salary FROM employees
   WHERE last_name = 'Chung';
   
    SALARY
----------
      3800

UPDATE employees SET salary = 4000
   WHERE last_name = 'Chung';
1 row updated.

SELECT salary FROM employees
   WHERE last_name = 'Chung';

    SALARY
----------
      4000
</pre><p>To learn what the value was before the update, you can use the following Flashback Query:</p><pre class="oac_no_warn" dir="ltr">SELECT salary FROM employees
   AS OF TIMESTAMP (SYSTIMESTAMP - INTERVAL '1' MINUTE)
   WHERE last_name = 'Chung';
   
    SALARY
----------
      3800
</pre><p>To learn what the values were during a particular time period, you can use a version Flashback Query:</p><pre class="oac_no_warn" dir="ltr">SELECT salary FROM employees
  VERSIONS BETWEEN TIMESTAMP
    SYSTIMESTAMP - INTERVAL '10' MINUTE AND
    SYSTIMESTAMP - INTERVAL '1' MINUTE
  WHERE last_name = 'Chung';
</pre><p>To revert to the earlier value, use the Flashback Query as the subquery of another <code class="codeph">UPDATE</code> statement:
                  </p><pre class="oac_no_warn" dir="ltr">UPDATE employees SET salary =      
   (SELECT salary FROM employees
   AS OF TIMESTAMP (SYSTIMESTAMP - INTERVAL '2' MINUTE)
   WHERE last_name = 'Chung')
   WHERE last_name = 'Chung';
1 row updated.

SELECT salary FROM employees
   WHERE last_name = 'Chung';
   
    SALARY
----------
      3800</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066419"><span class="bold">Using the GROUP BY Clause: Examples</span></p>
                  <p>To return the minimum and maximum salaries for each department in the <code class="codeph">employees</code> table, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT department_id, MIN(salary), MAX (salary)
     FROM employees
     GROUP BY department_id
   ORDER BY department_id;
</pre><p>To return the minimum and maximum salaries for the clerks in each department, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">SELECT department_id, MIN(salary), MAX (salary)
     FROM employees
     WHERE job_id = 'PU_CLERK'
     GROUP BY department_id
   ORDER BY department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066443"><span class="bold">Using the GROUP BY CUBE Clause: Example</span></p>
                  <p>To return the number of employees and their average yearly salary across all possible combinations of department and job category, issue the following query on the sample tables <code class="codeph">hr.employees</code> and <code class="codeph">hr.departments</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT DECODE(GROUPING(department_name), 1, 'All Departments',
      department_name) AS department_name,
   DECODE(GROUPING(job_id), 1, 'All Jobs', job_id) AS job_id,
   COUNT(*) "Total Empl", AVG(salary) * 12 "Average Sal"
   FROM employees e, departments d
   WHERE d.department_id = e.department_id
   GROUP BY CUBE (department_name, job_id)
   ORDER BY department_name, job_id;

DEPARTMENT_NAME                JOB_ID     Total Empl Average Sal
------------------------------ ---------- ---------- -----------
Accounting                     AC_ACCOUNT          1       99600
Accounting                     AC_MGR              1      144000
Accounting                     All Jobs            2      121800
Administration                 AD_ASST             1       52800
. . .
Shipping                       ST_CLERK           20       33420
Shipping                       ST_MAN              5       87360</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2091446"><span class="bold">Using the GROUPING SETS Clause: Example</span></p>
                  <p>The following example finds the sum of sales aggregated for three precisely specified groups:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">(channel_desc, calendar_month_desc, country_id)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">(channel_desc, country_id)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">(calendar_month_desc, country_id)</code></p>
                     </li>
                  </ul>
                  <p>Without the <code class="codeph">GROUPING</code> <code class="codeph">SETS</code> syntax, you would have to write less efficient queries with more complicated SQL. For example, you could run three separate queries and <code class="codeph">UNION</code> them, or run a query with a <code class="codeph">CUBE(channel_desc, calendar_month_desc, country_id)</code> operation and filter out five of the eight groups it would generate.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT channel_desc, calendar_month_desc, co.country_id,
      TO_CHAR(sum(amount_sold) , '9,999,999,999') SALES$
   FROM sales, customers, times, channels, countries co
   WHERE sales.time_id=times.time_id 
      AND sales.cust_id=customers.cust_id 
      AND sales.channel_id= channels.channel_id 
      AND customers.country_id = co.country_id
      AND channels.channel_desc IN ('Direct Sales', 'Internet') 
      AND times.calendar_month_desc IN ('2000-09', '2000-10')
      AND co.country_iso_code IN ('UK', 'US')
  GROUP BY GROUPING SETS( 
      (channel_desc, calendar_month_desc, co.country_id), 
      (channel_desc, co.country_id), 
      (calendar_month_desc, co.country_id) );

CHANNEL_DESC         CALENDAR COUNTRY_ID     SALES$
-------------------- -------- ----------     ----------
Internet             2000-09       52790        124,224
Direct Sales         2000-09       52790        638,201
Internet             2000-10       52790        137,054
Direct Sales         2000-10       52790        682,297
                     2000-09       52790        762,425
                     2000-10       52790        819,351
Internet                           52790        261,278
Direct Sales                       52790      1,320,497</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-1931E623-8DF7-4C55-8592-8FE017D75224">
                     <p class="notep1">See Also:</p>
                     <p>The functions <a href="GROUP_ID.html#GUID-3A5A9C15-1B67-4FD7-AC41-EE8349B2E834">GROUP_ID</a>, <a href="GROUPING.html#GUID-82E6084A-0BDF-4587-A40E-36899783F073">GROUPING</a>, and <a href="GROUPING_ID.html#GUID-E20A5B8E-73B6-42FD-8AFB-DD3CD6D6DC61">GROUPING_ID</a> for more information on those functions
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130004"><span class="bold">Hierarchical Query Examples</span></p>
                  <p>The following query with a <code class="codeph">CONNECT</code> <code class="codeph">BY</code> clause defines a hierarchical relationship in which the <code class="codeph">employee_id</code> value of the parent row is equal to the <code class="codeph">manager_id</code> value of the child row:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, employee_id, manager_id FROM employees
   CONNECT BY employee_id = manager_id
   ORDER BY last_name;
</pre><p>In the following <code class="codeph">CONNECT</code> <code class="codeph">BY</code> clause, the <code class="codeph">PRIOR</code> operator applies only to the <code class="codeph">employee_id</code> value. To evaluate this condition, the database evaluates <code class="codeph">employee_id</code> values for the parent row and <code class="codeph">manager_id</code>, <code class="codeph">salary</code>, and <code class="codeph">commission_pct</code> values for the child row:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, employee_id, manager_id FROM employees
   CONNECT BY PRIOR employee_id = manager_id
   AND salary &gt; commission_pct
   ORDER BY last_name; 
</pre><p>To qualify as a child row, a row must have a <code class="codeph">manager_id</code> value equal to the <code class="codeph">employee_id</code> value of the parent row and it must have a <code class="codeph">salary</code> value greater than its <code class="codeph">commission_pct</code> value. 
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130020"><span class="bold">Using the HAVING Condition: Example</span></p>
                  <p>To return the minimum and maximum salaries for the employees in each department whose lowest salary is less than $5,000, issue the next statement:</p><pre class="oac_no_warn" dir="ltr">SELECT department_id, MIN(salary), MAX (salary)
   FROM employees
   GROUP BY department_id
   HAVING MIN(salary) &lt; 5000
   ORDER BY department_id;

DEPARTMENT_ID MIN(SALARY) MAX(SALARY)
------------- ----------- -----------
           10        4400        4400
           30        2500       11000
           50        2100        8200
           60        4200        9000
</pre><p>The following example uses a correlated subquery in a <code class="codeph">HAVING</code> clause that eliminates from the result set any departments without managers and managers without departments:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT department_id, manager_id 
   FROM employees 
   GROUP BY department_id, manager_id HAVING (department_id, manager_id) IN
   (SELECT department_id, manager_id FROM employees x 
      WHERE x.department_id = employees.department_id)
   ORDER BY department_id;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130036"><span class="bold">Using the ORDER BY Clause: Examples</span></p>
                  <p>To select all purchasing clerk records from <code class="codeph">employees</code> and order the results by salary in descending order, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * 
   FROM employees
   WHERE job_id = 'PU_CLERK' 
   ORDER BY salary DESC; 
</pre><p>To select information from <code class="codeph">employees</code> ordered first by ascending department number and then by descending salary, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, department_id, salary
   FROM employees
   ORDER BY department_id ASC, salary DESC, last_name; 
</pre><p>To select the same information as the previous <code class="codeph">SELECT</code> and use the positional <code class="codeph">ORDER</code> <code class="codeph">BY</code> notation, issue the following statement, which orders by ascending <code class="codeph">department_id</code>, then descending <code class="codeph">salary</code>, and finally alphabetically by <code class="codeph">last_name</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, department_id, salary 
   FROM employees 
   ORDER BY 2 ASC, 3 DESC, 1; </pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2171160"><span class="bold">The MODEL clause: Examples</span></p>
                  <p>The view created below is based on the sample <code class="codeph">sh</code> schema and is used by the example that follows.
                  </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW sales_view_ref AS
  SELECT country_name country,
         prod_name prod,
         calendar_year year,
         SUM(amount_sold) sale,
         COUNT(amount_sold) cnt
    FROM sales,times,customers,countries,products
    WHERE sales.time_id = times.time_id
      AND sales.prod_id = products.prod_id
      AND sales.cust_id = customers.cust_id
      AND customers.country_id = countries.country_id
      AND ( customers.country_id = 52779
            OR customers.country_id = 52776 )
      AND ( prod_name = 'Standard Mouse'
            OR prod_name = 'Mouse Pad' )
    GROUP BY country_name,prod_name,calendar_year;

SELECT country, prod, year, sale
  FROM sales_view_ref
  ORDER BY country, prod, year;

COUNTRY       PROD                                         YEAR        SALE
----------    -----------------------------------      --------   ---------
France        Mouse Pad                                    1998     2509.42
France        Mouse Pad                                    1999     3678.69
France        Mouse Pad                                    2000     3000.72
France        Mouse Pad                                    2001     3269.09
France        Standard Mouse                               1998     2390.83
France        Standard Mouse                               1999     2280.45
France        Standard Mouse                               2000     1274.31
France        Standard Mouse                               2001     2164.54
Germany       Mouse Pad                                    1998     5827.87
Germany       Mouse Pad                                    1999     8346.44
Germany       Mouse Pad                                    2000     7375.46
Germany       Mouse Pad                                    2001     9535.08
Germany       Standard Mouse                               1998     7116.11
Germany       Standard Mouse                               1999     6263.14
Germany       Standard Mouse                               2000     2637.31
Germany       Standard Mouse                               2001     6456.13
 
16 rows selected.
</pre><p>The next example creates a multidimensional array from <code class="codeph">sales_view_ref</code> with columns containing country, product, year, and sales. It also:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Assigns the sum of the sales of the Mouse Pad for years 1999 and 2000 to the sales of the Mouse Pad for year 2001, if a row containing sales of the Mouse Pad for year 2001 exists.</p>
                     </li>
                     <li>
                        <p>Assigns the value of sales of the Standard Mouse for year 2001 to sales of the Standard Mouse for year 2002, creating a new row if a row containing sales of the Standard Mouse for year 2002 does not exist.</p>
                     </li>
                  </ul><pre class="oac_no_warn" dir="ltr">SELECT country,prod,year,s
  FROM sales_view_ref
  MODEL
    PARTITION BY (country)
    DIMENSION BY (prod, year)
    MEASURES (sale s)
    IGNORE NAV
    UNIQUE DIMENSION
    RULES UPSERT SEQUENTIAL ORDER
    (
      s[prod='Mouse Pad', year=2001] =
        s['Mouse Pad', 1999] + s['Mouse Pad', 2000],
      s['Standard Mouse', 2002] = s['Standard Mouse', 2001]
    )
  ORDER BY country, prod, year;
 
COUNTRY       PROD                                         YEAR        SALE
----------    -----------------------------------      --------   ---------
France        Mouse Pad                                    1998     2509.42
France        Mouse Pad                                    1999     3678.69
France        Mouse Pad                                    2000     3000.72
France        Mouse Pad                                    2001     6679.41
France        Standard Mouse                               1998     2390.83
France        Standard Mouse                               1999     2280.45
France        Standard Mouse                               2000     1274.31
France        Standard Mouse                               2001     2164.54
France        Standard Mouse                               2002     2164.54
Germany       Mouse Pad                                    1998     5827.87
Germany       Mouse Pad                                    1999     8346.44
Germany       Mouse Pad                                    2000     7375.46
Germany       Mouse Pad                                    2001     15721.9
Germany       Standard Mouse                               1998     7116.11
Germany       Standard Mouse                               1999     6263.14
Germany       Standard Mouse                               2000     2637.31
Germany       Standard Mouse                               2001     6456.13
Germany       Standard Mouse                               2002     6456.13

18 rows selected.
</pre><p>The first rule uses <code class="codeph">UPDATE</code> behavior because symbolic referencing is used on the left-hand side of the rule. The rows represented by the left-hand side of the rule exist, so the measure columns are updated. If the rows did not exist, then no action would have been taken.
                  </p>
                  <p>The second rule uses <code class="codeph">UPSERT</code> behavior because positional referencing is used on the left-hand side and a single cell is referenced. The rows do not exist, so new rows are inserted and the related measure columns are updated. If the rows did exist, then the measure columns would have been updated.
                  </p>
                  <div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-8418D42A-7107-426B-8482-6C5ABF3D15BF">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG021" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for an expanded discussion and examples
                     </p>
                  </div>
                  <p>The next example uses the same <code class="codeph">sales_view_ref</code> view and the analytic function <code class="codeph">SUM</code> to calculate a cumulative sum (<code class="codeph">csum</code>) of sales per country and per year.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT country, year, sale, csum
   FROM 
   (SELECT country, year, SUM(sale) sale
    FROM sales_view_ref
    GROUP BY country, year
   )
   MODEL DIMENSION BY (country, year)
         MEASURES (sale, 0 csum) 
         RULES (csum[any, any]= 
                  SUM(sale) OVER (PARTITION BY country 
                                  ORDER BY year 
                                  ROWS UNBOUNDED PRECEDING) 
                )
   ORDER BY country, year;

COUNTRY               YEAR       SALE       CSUM
--------------- ---------- ---------- ----------
France                1998    4900.25    4900.25
France                1999    5959.14   10859.39
France                2000    4275.03   15134.42
France                2001    5433.63   20568.05
Germany               1998   12943.98   12943.98
Germany               1999   14609.58   27553.56
Germany               2000   10012.77   37566.33
Germany               2001   15991.21   53557.54
 
8 rows selected.</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABEAACC"><span class="bold">Row Limiting: Examples</span></p>
                  <p>The following statement returns the 5 employees with the lowest <code class="codeph">employee_id</code> values:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT employee_id, last_name
  FROM employees
  ORDER BY employee_id
  FETCH FIRST 5 ROWS ONLY;

EMPLOYEE_ID LAST_NAME
----------- -------------------------
        100 King
        101 Kochhar
        102 De Haan
        103 Hunold
        104 Ernst
</pre><p>The following statement returns the next 5 employees with the lowest <code class="codeph">employee_id</code> values:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT employee_id, last_name
  FROM employees
  ORDER BY employee_id
  OFFSET 5 ROWS FETCH NEXT 5 ROWS ONLY;

EMPLOYEE_ID LAST_NAME
----------- -------------------------
        105 Austin
        106 Pataballa
        107 Lorentz
        108 Greenberg
        109 Faviet
</pre><p>The following statement returns the 5 percent of employees with the lowest salaries:</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id, last_name, salary
  FROM employees
  ORDER BY salary
  FETCH FIRST 5 PERCENT ROWS ONLY;

EMPLOYEE_ID LAST_NAME                     SALARY
----------- ------------------------- ----------
        132 Olson                           2100
        128 Markle                          2200
        136 Philtanker                      2200
        127 Landry                          2400
        135 Gee                             2400
        119 Colmenares                      2500
</pre><p>Because <code class="codeph">WITH</code> <code class="codeph">TIES</code> is specified, the following statement returns the 5 percent of employees with the lowest salaries, plus all additional employees with the same salary as the last row fetched in the previous example:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT employee_id, last_name, salary
  FROM employees
  ORDER BY salary
  FETCH FIRST 5 PERCENT ROWS WITH TIES;

EMPLOYEE_ID LAST_NAME                     SALARY
----------- ------------------------- ----------
        132 Olson                           2100
        128 Markle                          2200
        136 Philtanker                      2200
        127 Landry                          2400
        135 Gee                             2400
        119 Colmenares                      2500
        131 Marlow                          2500
        140 Patel                           2500
        144 Vargas                          2500
        182 Sullivan                        2500
        191 Perkins                         2500</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130052"><span class="bold">Using the FOR UPDATE Clause: Examples</span></p>
                  <p>The following statement locks rows in the <code class="codeph">employees</code> table with purchasing clerks located in Oxford, which has <code class="codeph">location_id</code> 2500, and locks rows in the <code class="codeph">departments</code> table with departments in Oxford that have purchasing clerks:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT e.employee_id, e.salary, e.commission_pct
   FROM employees e, departments d
   WHERE job_id = 'SA_REP'
   AND e.department_id = d.department_id
   AND location_id = 2500
   ORDER BY e.employee_id
   FOR UPDATE;
</pre><p>The following statement locks only those rows in the <code class="codeph">employees</code> table with purchasing clerks located in Oxford. No rows are locked in the <code class="codeph">departments</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT e.employee_id, e.salary, e.commission_pct
   FROM employees e JOIN departments d
   USING (department_id)
   WHERE job_id = 'SA_REP'
   AND location_id = 2500
   ORDER BY e.employee_id
   FOR UPDATE OF e.salary;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598"><span class="bold">Using the WITH CHECK OPTION Clause: Example</span></p>
                  <p>The following statement is legal even though the third value inserted violates the condition of the subquery <span class="italic"><code class="codeph">where_clause</code></span>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO (SELECT department_id, department_name, location_id
   FROM departments WHERE location_id &lt; 2000)
   VALUES (9999, 'Entertainment', 2500);
</pre><p>However, the following statement is illegal because it contains the <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> clause:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO (SELECT department_id, department_name, location_id
   FROM departments WHERE location_id &lt; 2000 WITH CHECK OPTION)
   VALUES (9999, 'Entertainment', 2500);
     *
ERROR at line 2:
ORA-01402: view WITH CHECK OPTION where-clause violation</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__CHDFIIDD"><span class="bold">Using PIVOT and UNPIVOT: Examples</span><a id="d425579e9956" class="indexterm-anchor"></a><a id="d425579e9960" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">oe.orders</code> table contains information about when an order was placed (<code class="codeph">order_date</code>), how it was place (<code class="codeph">order_mode</code>), and the total amount of the order (<code class="codeph">order_total</code>), as well as other information. The following example shows how to use the <code class="codeph">PIVOT</code> clause to pivot <code class="codeph">order_mode</code> values into columns, aggregating <code class="codeph">order_total</code> data in the process, to get yearly totals by order mode:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE pivot_table AS
SELECT * FROM
(SELECT EXTRACT(YEAR FROM order_date) year, order_mode, order_total FROM orders)
PIVOT
(SUM(order_total) FOR order_mode IN ('direct' AS Store, 'online' AS Internet));

SELECT * FROM pivot_table ORDER BY year;

      YEAR      STORE   INTERNET
---------- ---------- ----------
      2004     5546.6
      2006   371895.5   100056.6
      2007  1274078.8  1271019.5
      2008   252108.3   393349.4
</pre><p>The <code class="codeph">UNPIVOT</code> clause lets you rotate specified columns so that the input column headings are output as values of one or more descriptor columns, and the input column values are output as values of one or more measures columns. The first query that follows shows that nulls are excluded by default. The second query shows that you can include nulls using the <code class="codeph">INCLUDE</code> <code class="codeph">NULLS</code> clause.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM pivot_table
  UNPIVOT (yearly_total FOR order_mode IN (store AS 'direct',
           internet AS 'online'))
  ORDER BY year, order_mode;

      YEAR ORDER_ YEARLY_TOTAL
---------- ------ ------------
      2004 direct       5546.6
      2006 direct     371895.5
      2006 online     100056.6
      2007 direct    1274078.8
      2007 online    1271019.5
      2008 direct     252108.3
      2008 online     393349.4

7 rows selected.

SELECT * FROM pivot_table
  UNPIVOT INCLUDE NULLS 
    (yearly_total FOR order_mode IN (store AS 'direct', internet AS 'online'))
  ORDER BY year, order_mode;

      YEAR ORDER_ YEARLY_TOTAL
---------- ------ ------------
      2004 direct       5546.6
      2004 online
      2006 direct     371895.5
      2006 online     100056.6
      2007 direct    1274078.8
      2007 online    1271019.5
      2008 direct     252108.3
      2008 online     393349.4

8 rows selected.</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066611"><span class="bold">Using Join Queries: Examples</span></p>
                  <p>The following examples show various ways of joining tables in a query. In the first example, an equijoin returns the name and job of each employee and the number and name of the department in which the employee works:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name, job_id, departments.department_id, department_name
   FROM employees, departments
   WHERE employees.department_id = departments.department_id
   ORDER BY last_name, job_id;

LAST_NAME           JOB_ID     DEPARTMENT_ID DEPARTMENT_NAME
------------------- ---------- ------------- ----------------------
Abel                 SA_REP               80 Sales
Ande                 SA_REP               80 Sales
Atkinson             ST_CLERK             50 Shipping
Austin               IT_PROG              60 IT
. . .
</pre><p>You must use a join to return this data because employee names and jobs are stored in a different table than department names. Oracle Database combines rows of the two tables according to this join condition: </p><pre class="oac_no_warn" dir="ltr">employees.department_id = departments.department_id 
</pre><p>The following equijoin returns the name, job, department number, and department name of all sales managers:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name, job_id, departments.department_id, department_name
   FROM employees, departments
   WHERE employees.department_id = departments.department_id
   AND job_id = 'SA_MAN'
   ORDER BY last_name;

LAST_NAME           JOB_ID     DEPARTMENT_ID DEPARTMENT_NAME
------------------- ---------- ------------- -----------------------
Cambrault           SA_MAN                80 Sales
Errazuriz           SA_MAN                80 Sales
Partners            SA_MAN                80 Sales
Russell             SA_MAN                80 Sales
Zlotkey             SA_MAN                80 Sales
</pre><p>This query is identical to the preceding example, except that it uses an additional <span class="italic"><code class="codeph">where_clause</code></span> condition to return only rows with a <code class="codeph">job</code> value of '<code class="codeph">SA_MAN</code>'. 
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130078"><span class="bold">Using Subqueries: Examples</span></p>
                  <p>To determine who works in the same department as employee '<code class="codeph">Lorentz</code>', issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, department_id FROM employees
   WHERE department_id =
     (SELECT department_id FROM employees
      WHERE last_name = 'Lorentz')
   ORDER BY last_name, department_id; 
</pre><p>To give all employees in the <code class="codeph">employees</code> table a 10% raise if they have changed jobs—if they appear in the <code class="codeph">job_history</code> table—issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">UPDATE employees 
    SET salary = salary * 1.1
    WHERE employee_id IN (SELECT employee_id FROM job_history);
</pre><p>To create a second version of the <code class="codeph">departments</code> table <code class="codeph">new_departments</code>, with only three of the columns of the original table, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE new_departments 
   (department_id, department_name, location_id)
   AS SELECT department_id, department_name, location_id 
   FROM departments; </pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066652"><span class="bold">Using Self Joins: Example</span> 
                  </p>
                  <p>The following query uses a self join to return the name of each employee along with the name of the employee's manager. A <code class="codeph">WHERE</code> clause is added to shorten the output.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT e1.last_name||' works for '||e2.last_name 
   "Employees and Their Managers"
   FROM employees e1, employees e2 
   WHERE e1.manager_id = e2.employee_id
      AND e1.last_name LIKE 'R%'
   ORDER BY e1.last_name;

Employees and Their Managers   
-------------------------------
Rajs works for Mourgos
Raphaely works for King
Rogers works for Kaufling
Russell works for King
</pre><p>The join condition for this query uses the aliases <code class="codeph">e1</code> and <code class="codeph">e2</code> for the sample table <code class="codeph">employees</code>: 
                  </p><pre class="oac_no_warn" dir="ltr">e1.manager_id = e2.employee_id</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2107296"><span class="bold">Using Outer Joins: Examples</span></p>
                  <p>The following example shows how a partitioned outer join fills data gaps in rows to facilitate analytic function specification and reliable report formatting. The example first creates a small data table to be used in the join:</p><pre class="oac_no_warn" dir="ltr">SELECT d.department_id, e.last_name
   FROM departments d LEFT OUTER JOIN employees e
   ON d.department_id = e.department_id
   ORDER BY d.department_id, e.last_name;
</pre><p>Users familiar with the traditional Oracle Database outer joins syntax will recognize the same query in this form:</p><pre class="oac_no_warn" dir="ltr">SELECT d.department_id, e.last_name
   FROM departments d, employees e
   WHERE d.department_id = e.department_id(+)
   ORDER BY d.department_id, e.last_name;
</pre><p>Oracle strongly recommends that you use the more flexible <code class="codeph">FROM</code> clause join syntax shown in the former example. 
                  </p>
                  <p>The left outer join returns all departments, including those without any employees. The same statement with a right outer join returns all employees, including those not yet assigned to a department:</p>
                  <div class="infoboxnote" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-F5EA6579-E6D7-4289-BFA7-7659881532BE">
                     <p class="notep1">Note:</p>
                     <p>The employee Zeuss was added to the employees table for these examples, and is not part of the sample data.</p>
                  </div><pre class="oac_no_warn" dir="ltr">SELECT d.department_id, e.last_name
   FROM departments d RIGHT OUTER JOIN employees e
   ON d.department_id = e.department_id
   ORDER BY d.department_id, e.last_name;

DEPARTMENT_ID LAST_NAME
------------- -------------------------
. . .
          110 Gietz
          110 Higgins
              Grant
              Zeuss
</pre><p>It is not clear from this result whether employees Grant and Zeuss have <code class="codeph">department_id</code> <code class="codeph">NULL</code>, or whether their <code class="codeph">department_id</code> is not in the <code class="codeph">departments</code> table. To determine this requires a full outer join:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT d.department_id as d_dept_id, e.department_id as e_dept_id,
      e.last_name
   FROM departments d FULL OUTER JOIN employees e
   ON d.department_id = e.department_id
   ORDER BY d.department_id, e.last_name;

 D_DEPT_ID  E_DEPT_ID LAST_NAME
---------- ---------- -------------------------
  . . .
       110        110 Gietz
       110        110 Higgins
  . . .
       260
       270
                  999 Zeuss
                      Grant
</pre><p>Because the column names in this example are the same in both tables in the join, you can also use the common column feature by specifying the <code class="codeph">USING</code> clause of the join syntax. The output is the same as for the preceding example except that the <code class="codeph">USING</code> clause coalesces the two matching columns <code class="codeph">department_id</code> into a single column output: 
                  </p><pre class="oac_no_warn" dir="ltr">SELECT department_id AS d_e_dept_id, e.last_name
   FROM departments d FULL OUTER JOIN employees e
   USING (department_id)
   ORDER BY department_id, e.last_name;

D_E_DEPT_ID LAST_NAME
----------- -------------------------
  . . .
        110 Higgins
        110 Gietz
  . . .
        260
        270
        999 Zeuss
            Grant</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2177515"><span class="bold">Using Partitioned Outer Joins: Examples</span></p>
                  <p>The following example shows how a partitioned outer join fills in gaps in rows to facilitate analytic calculation specification and reliable report formatting. The example first creates and populates a simple table to be used in the join:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE inventory (time_id    DATE,
                        product    VARCHAR2(10),
                        quantity   NUMBER);

INSERT INTO inventory VALUES (TO_DATE('01/04/01', 'DD/MM/YY'), 'bottle', 10);
INSERT INTO inventory VALUES (TO_DATE('06/04/01', 'DD/MM/YY'), 'bottle', 10);
INSERT INTO inventory VALUES (TO_DATE('01/04/01', 'DD/MM/YY'), 'can', 10);
INSERT INTO inventory VALUES (TO_DATE('04/04/01', 'DD/MM/YY'), 'can', 10);

SELECT times.time_id, product, quantity FROM inventory 
   PARTITION BY  (product) 
   RIGHT OUTER JOIN times ON (times.time_id = inventory.time_id) 
   WHERE times.time_id BETWEEN TO_DATE('01/04/01', 'DD/MM/YY') 
      AND TO_DATE('06/04/01', 'DD/MM/YY') 
   ORDER BY  2,1; 

TIME_ID   PRODUCT      QUANTITY
--------- ---------- ----------
01-APR-01 bottle             10
02-APR-01 bottle
03-APR-01 bottle
04-APR-01 bottle
05-APR-01 bottle
06-APR-01 bottle             10
01-APR-01 can                10
02-APR-01 can
03-APR-01 can
04-APR-01 can                10
05-APR-01 can
06-APR-01 can

12 rows selected.
</pre><p>The data is now more dense along the time dimension for each partition of the product dimension. However, each of the newly added rows within each partition is null in the quantity column. It is more useful to see the nulls replaced by the preceding non-<code class="codeph">NULL</code> value in time order. You can achieve this by applying the analytic function <code class="codeph">LAST_VALUE</code> on top of the query result:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT time_id, product, LAST_VALUE(quantity IGNORE NULLS) 
   OVER (PARTITION BY product ORDER BY time_id) quantity 
   FROM ( SELECT times.time_id, product, quantity 
             FROM inventory PARTITION BY  (product) 
                RIGHT OUTER JOIN times ON (times.time_id = inventory.time_id) 
   WHERE times.time_id BETWEEN TO_DATE('01/04/01', 'DD/MM/YY') 
      AND TO_DATE('06/04/01', 'DD/MM/YY')) 
   ORDER BY  2,1; 

TIME_ID   PRODUCT      QUANTITY
--------- ---------- ----------
01-APR-01 bottle             10
02-APR-01 bottle             10
03-APR-01 bottle             10
04-APR-01 bottle             10
05-APR-01 bottle             10
06-APR-01 bottle             10
01-APR-01 can                10
02-APR-01 can                10
03-APR-01 can                10
04-APR-01 can                10
05-APR-01 can                10
06-APR-01 can                10

12 rows selected.</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-A1AAAF33-181D-4742-98B8-D14A21C4C44A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=DWHSG02013" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for an expanded discussion on filling gaps in time series calculations and examples of usage
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2182875"><span class="bold">Using Antijoins: Example</span></p>
                  <p>The following example selects a list of employees who are not in a particular set of departments:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees 
   WHERE department_id NOT IN 
   (SELECT department_id FROM departments 
       WHERE location_id = 1700)
   ORDER BY last_name;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2166436"><span class="bold">Using Semijoins: Example</span></p>
                  <p>In the following example, only one row needs to be returned from the <code class="codeph">departments</code> table, even though many rows in the <code class="codeph">employees</code> table might match the subquery. If no index has been defined on the <code class="codeph">salary</code> column in <code class="codeph">employees</code>, then a semijoin can be used to improve query performance.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM departments 
   WHERE EXISTS 
   (SELECT * FROM employees 
       WHERE departments.department_id = employees.department_id 
       AND employees.salary &gt; 2500)
   ORDER BY department_name;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABDADCJ"><span class="bold">Using CROSS APPLY and OUTER APPLY Joins: Examples</span></p>
                  <p>The following statement uses the <code class="codeph">CROSS</code> <code class="codeph">APPLY</code> clause of the <span class="italic"><code class="codeph">cross_outer_apply_clause</code></span>. The join returns only rows from the table on the left side of the join (<code class="codeph">departments</code>) that produce a result from the inline view on the right side of the join. That is, the join returns only the departments that have at least one employee. The <code class="codeph">WHERE</code> clause restricts the result set to include only the Marketing, Operations, and Public Relations departments. However, the Operations department is not included in the result set because it has no employees.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT d.department_name, v.employee_id, v.last_name
  FROM departments d CROSS APPLY (SELECT * FROM employees e
                                  WHERE e.department_id = d.department_id) v
  WHERE d.department_name IN ('Marketing', 'Operations', 'Public Relations')
  ORDER BY d.department_name, v.employee_id;

DEPARTMENT_NAME                EMPLOYEE_ID LAST_NAME
------------------------------ ----------- -------------------------
Marketing                      201         Hartstein
Marketing                      202         Fay
Public Relations               204         Baer
</pre><p>The following statement uses the <code class="codeph">OUTER</code> <code class="codeph">APPLY</code> clause of the <span class="italic"><code class="codeph">cross_outer_apply_clause</code></span>. The join returns all rows from the table on the left side of the join (<code class="codeph">departments</code>) regardless of whether they produce a result from the inline view on the right side of the join. That is, the join returns all departments regardless of whether the departments have any employees. The <code class="codeph">WHERE</code> clause restricts the result set to include only the Marketing, Operations, and Public Relations departments. The Operations department is included in the result set even though it has no employees.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT d.department_name, v.employee_id, v.last_name
  FROM departments d OUTER APPLY (SELECT * FROM employees e
                                  WHERE e.department_id = d.department_id) v
  WHERE d.department_name IN ('Marketing', 'Operations', 'Public Relations')
  ORDER by d.department_name, v.employee_id;

DEPARTMENT_NAME                EMPLOYEE_ID LAST_NAME
------------------------------ ----------- -------------------------
Marketing                      201         Hartstein
Marketing                      202         Fay
Operations
Public Relations               204         Baer</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABFDGIJ"><span class="bold">Using Lateral Inline Views: Example</span></p>
                  <p>The following example shows a join with two operands. The second operand is an inline view that specifies the first operand, table <code class="codeph">e</code>, in the <code class="codeph">WHERE</code> clause. This results in an error.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e, (SELECT * FROM departments d
                            WHERE e.department_id = d.department_id);
ORA-00904: "E"."DEPARTMENT_ID": invalid identifier
</pre><p>The following example shows a join with two operands. The second operand is a lateral inline view that specifies the first operand, table <code class="codeph">e</code>, in the <code class="codeph">WHERE</code> clause and succeeds without an error.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees e, LATERAL(SELECT * FROM departments d
                                   WHERE e.department_id = d.department_id);</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643"><span class="bold">Table Collections: Examples</span></p>
                  <p>You can perform DML operations on nested tables only if they are defined as columns of a table. Therefore, when the <span class="italic"><code class="codeph">query_table_expr_clause</code></span> of an <code class="codeph">INSERT</code>, <code class="codeph">DELETE</code>, or <code class="codeph">UPDATE</code> statement is a <span class="italic"><code class="codeph">table_collection_expression</code></span>, the collection expression must be a subquery that uses the <code class="codeph">TABLE</code> collection expression to select the nested table column of the table. The examples that follow are based on the following scenario: 
                  </p>
                  <p>Suppose the database contains a table <code class="codeph">hr_info</code> with columns <code class="codeph">department_id</code>, <code class="codeph">location_id</code>, and <code class="codeph">manager_id</code>, and a column of nested table type <code class="codeph">people</code> which has <code class="codeph">last_name</code>, <code class="codeph">department_id</code>, and <code class="codeph">salary</code> columns for all the employees of each respective manager:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE people_typ AS OBJECT (
   last_name      VARCHAR2(25),
   department_id  NUMBER(4),
   salary         NUMBER(8,2));
/
CREATE TYPE people_tab_typ AS TABLE OF people_typ;
/
CREATE TABLE hr_info (
   department_id   NUMBER(4),
   location_id     NUMBER(4),
   manager_id      NUMBER(6),
   people          people_tab_typ)
   NESTED TABLE people STORE AS people_stor_tab;

INSERT INTO hr_info VALUES (280, 1800, 999, people_tab_typ());
</pre><p>The following example inserts into the <code class="codeph">people</code> nested table column of the <code class="codeph">hr_info</code> table for department 280:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO TABLE(SELECT h.people FROM hr_info h
   WHERE h.department_id = 280)
   VALUES ('Smith', 280, 1750);
</pre><p>The next example updates the department 280 <code class="codeph">people</code> nested table:
                  </p><pre class="oac_no_warn" dir="ltr">UPDATE TABLE(SELECT h.people FROM hr_info h
   WHERE h.department_id = 280) p
   SET p.salary = p.salary + 100;
</pre><p>The next example deletes from the department 280 <code class="codeph">people</code> nested table:
                  </p><pre class="oac_no_warn" dir="ltr">DELETE TABLE(SELECT h.people FROM hr_info h
   WHERE h.department_id = 280) p
   WHERE p.salary &gt; 1700;</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071637"><a id="d425579e10339" class="indexterm-anchor"></a><a id="d425579e10345" class="indexterm-anchor"></a><span class="bold">Collection Unnesting: Examples</span></p>
                  <p>To select data from a nested table column, use the <code class="codeph">TABLE</code> collection expression to treat the nested table as columns of a table. This process is called <span class="bold">collection unnesting</span>.
                  </p>
                  <p>You could get all the rows from <code class="codeph">hr_info</code>, which was created in the preceding example, and all the rows from the <code class="codeph">people</code> nested table column of <code class="codeph">hr_info</code> using the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id, t2.* FROM hr_info t1, TABLE(t1.people) t2
   WHERE t2.department_id = t1.department_id;
</pre><p>Now suppose that <code class="codeph">people</code> is not a nested table column of <code class="codeph">hr_info</code>, but is instead a separate table with columns <code class="codeph">last_name</code>, <code class="codeph">department_id</code>, <code class="codeph">address</code>, <code class="codeph">hiredate</code>, and <code class="codeph">salary</code>. You can extract the same rows as in the preceding example with this statement:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id, t2.* 
   FROM hr_info t1, TABLE(CAST(MULTISET(
      SELECT t3.last_name, t3.department_id, t3.salary 
         FROM people t3
      WHERE t3.department_id = t1.department_id)
      AS people_tab_typ)) t2;
</pre><p>Finally, suppose that <code class="codeph">people</code> is neither a nested table column of table <code class="codeph">hr_info</code> nor a table itself. Instead, you have created a function <code class="codeph">people_func</code> that extracts from various sources the name, department, and salary of all employees. You can get the same information as in the preceding examples with the following query:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT t1.department_id, t2.* FROM hr_info t1, TABLE(CAST
   (people_func( ... ) AS people_tab_typ)) t2;</pre><div class="infoboxnotealso" id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__GUID-268BFAF8-611E-4ED4-88A3-ADFE346707C6">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adobj/support-for-collection-data-types.html#ADOBJ00204" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for more examples of collection unnesting.
                     </p>
                  </div>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130122"><span class="bold">Using the LEVEL Pseudocolumn: Examples</span></p>
                  <p>The following statement returns all employees in hierarchical order. The root row is defined to be the employee whose job is <code class="codeph">AD_VP</code>. The child rows of a parent row are defined to be those who have the employee number of the parent row as their manager number.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT LPAD(' ',2*(LEVEL-1)) || last_name org_chart, 
        employee_id, manager_id, job_id
    FROM employees
    START WITH job_id = 'AD_VP' 
    CONNECT BY PRIOR employee_id = manager_id; 

ORG_CHART          EMPLOYEE_ID MANAGER_ID JOB_ID
------------------ ----------- ---------- ----------
Kochhar                    101        100 AD_VP
  Greenberg                108        101 FI_MGR
    Faviet                 109        108 FI_ACCOUNT
    Chen                   110        108 FI_ACCOUNT
    Sciarra                111        108 FI_ACCOUNT
    Urman                  112        108 FI_ACCOUNT
    Popp                   113        108 FI_ACCOUNT
  Whalen                   200        101 AD_ASST
  Mavris                   203        101 HR_REP
  Baer                     204        101 PR_REP
  Higgins                  205        101 AC_MGR
    Gietz                  206        205 AC_ACCOUNT
De Haan                    102        100 AD_VP
  Hunold                   103        102 IT_PROG
    Ernst                  104        103 IT_PROG
    Austin                 105        103 IT_PROG
    Pataballa              106        103 IT_PROG
    Lorentz                107        103 IT_PROG
</pre><p>The following statement is similar to the previous one, except that it does not select employees with the job <code class="codeph">FI_MGR</code>.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT LPAD(' ',2*(LEVEL-1)) || last_name org_chart, 
        employee_id, manager_id, job_id
    FROM employees
    WHERE job_id != 'FI_MGR'
    START WITH job_id = 'AD_VP' 
    CONNECT BY PRIOR employee_id = manager_id; 

ORG_CHART          EMPLOYEE_ID MANAGER_ID JOB_ID
------------------ ----------- ---------- ----------
Kochhar                    101        100 AD_VP
    Faviet                 109        108 FI_ACCOUNT
    Chen                   110        108 FI_ACCOUNT
    Sciarra                111        108 FI_ACCOUNT
    Urman                  112        108 FI_ACCOUNT
    Popp                   113        108 FI_ACCOUNT
  Whalen                   200        101 AD_ASST
  Mavris                   203        101 HR_REP
  Baer                     204        101 PR_REP
  Higgins                  205        101 AC_MGR
    Gietz                  206        205 AC_ACCOUNT
De Haan                    102        100 AD_VP
  Hunold                   103        102 IT_PROG
    Ernst                  104        103 IT_PROG
    Austin                 105        103 IT_PROG
    Pataballa              106        103 IT_PROG
    Lorentz                107        103 IT_PROG

</pre><p>Oracle Database does not return the manager <code class="codeph">Greenberg</code>, although it does return employees who are managed by <code class="codeph">Greenberg</code>. 
                  </p>
                  <p>The following statement is similar to the first one, except that it uses the <code class="codeph">LEVEL</code> pseudocolumn to select only the first two levels of the management hierarchy:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT LPAD(' ',2*(LEVEL-1)) || last_name org_chart, 
employee_id, manager_id, job_id 
    FROM employees
    START WITH job_id = 'AD_PRES' 
    CONNECT BY PRIOR employee_id = manager_id AND LEVEL &lt;= 2; 

ORG_CHART          EMPLOYEE_ID MANAGER_ID JOB_ID
------------------ ----------- ---------- ----------
King                       100            AD_PRES
  Kochhar                  101        100 AD_VP
  De Haan                  102        100 AD_VP
  Raphaely                 114        100 PU_MAN
  Weiss                    120        100 ST_MAN
  Fripp                    121        100 ST_MAN
  Kaufling                 122        100 ST_MAN
  Vollman                  123        100 ST_MAN
  Mourgos                  124        100 ST_MAN
  Russell                  145        100 SA_MAN
  Partners                 146        100 SA_MAN
  Errazuriz                147        100 SA_MAN
  Cambrault                148        100 SA_MAN
  Zlotkey                  149        100 SA_MAN
  Hartstein                201        100 MK_MAN</pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130133"><span class="bold">Using Distributed Queries: Example</span> 
                  </p>
                  <p>This example shows a query that joins the <code class="codeph">departments</code> table on the local database with the <code class="codeph">employees</code> table on the <code class="codeph">remote</code> database: 
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name, department_name 
   FROM employees@remote, departments
   WHERE employees.department_id = departments.department_id; </pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066912"><span class="bold">Using Correlated Subqueries: Examples</span></p>
                  <p>The following examples show the general syntax of a correlated subquery:</p><pre class="oac_no_warn" dir="ltr">SELECT <span class="italic">select_list</span> 
    FROM <span class="italic">table1</span> <span class="italic">t_alias1</span> 
    WHERE <span class="italic">expr</span> <span class="italic">operator</span> 
        (SELECT <span class="italic">column_list</span> 
            FROM <span class="italic">table2</span> <span class="italic">t_alias2</span> 
            WHERE <span class="italic">t_alias1</span>.<span class="italic">column</span> 
               operator <span class="italic">t_alias2</span>.<span class="italic">column</span>); 

UPDATE <span class="italic">table1</span> <span class="italic">t_alias1</span> 
    SET <span class="italic">column</span> = 
        (SELECT <span class="italic">expr</span> 
            FROM <span class="italic">table2</span> <span class="italic">t_alias2</span> 
            WHERE <span class="italic">t_alias1</span>.<span class="italic">column</span> = <span class="italic">t_alias2</span>.<span class="italic">column</span>); 

DELETE FROM <span class="italic">table1</span> <span class="italic">t_alias1</span> 
    WHERE <span class="italic">column</span> <span class="italic">operator</span> 
        (SELECT <span class="italic">expr</span> 
            FROM <span class="italic">table2</span> <span class="italic">t_alias2</span> 
            WHERE <span class="italic">t_alias1</span>.<span class="italic">column</span> = <span class="italic">t_alias2</span>.<span class="italic">column</span>); 
</pre><p>The following statement returns data about employees whose salaries exceed their department average. The following statement assigns an alias to <code class="codeph">employees</code>, the table containing the salary information, and then uses the alias in a correlated subquery:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT department_id, last_name, salary 
   FROM employees x 
   WHERE salary &gt; (SELECT AVG(salary) 
      FROM employees 
      WHERE x.department_id = department_id) 
   ORDER BY department_id; 
</pre><p>For each row of the <code class="codeph">employees</code> table, the parent query uses the correlated subquery to compute the average salary for members of the same department. The correlated subquery performs the following steps for each row of the <code class="codeph">employees</code> table: 
                  </p>
                  <ol>
                     <li>
                        <p>The <code class="codeph">department_id</code> of the row is determined. 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">department_id</code> is then used to evaluate the parent query. 
                        </p>
                     </li>
                     <li>
                        <p>If the salary in that row is greater than the average salary of the departments of that row, then the row is returned. </p>
                     </li>
                  </ol>
                  <p>The subquery is evaluated once for each row of the <code class="codeph">employees</code> table. 
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130183"><span class="bold">Selecting from the DUAL Table: Example</span></p>
                  <p>The following statement returns the current date:</p><pre class="oac_no_warn" dir="ltr">SELECT SYSDATE FROM DUAL; 
</pre><p>You could select <code class="codeph">SYSDATE</code> from the <code class="codeph">employees</code> table, but the database would return 14 rows of the same <code class="codeph">SYSDATE</code>, one for every row of the <code class="codeph">employees</code> table. Selecting from <code class="codeph">DUAL</code> is more convenient. 
                  </p>
                  <p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2130199"><span class="bold">Selecting Sequence Values: Examples</span></p>
                  <p>The following statement increments the <code class="codeph">employees_seq</code> sequence and returns the new value:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT employees_seq.nextval 
    FROM DUAL; 
</pre><p>The following statement selects the current value of <code class="codeph">employees_seq</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT employees_seq.currval 
    FROM DUAL; </pre><p id="GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__BABJHHDD"><span class="bold">Row Pattern Matching: Example</span></p>
                  <p>This example uses row pattern matching to query stock price data. The following statements create table <code class="codeph">Ticker</code> and inserts stock price data into the table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE Ticker (SYMBOL VARCHAR2(10), tstamp DATE, price NUMBER);

INSERT INTO Ticker VALUES('ACME', '01-Apr-11', 12);
INSERT INTO Ticker VALUES('ACME', '02-Apr-11', 17);
INSERT INTO Ticker VALUES('ACME', '03-Apr-11', 19);
INSERT INTO Ticker VALUES('ACME', '04-Apr-11', 21);
INSERT INTO Ticker VALUES('ACME', '05-Apr-11', 25);
INSERT INTO Ticker VALUES('ACME', '06-Apr-11', 12);
INSERT INTO Ticker VALUES('ACME', '07-Apr-11', 15);
INSERT INTO Ticker VALUES('ACME', '08-Apr-11', 20);
INSERT INTO Ticker VALUES('ACME', '09-Apr-11', 24);
INSERT INTO Ticker VALUES('ACME', '10-Apr-11', 25);
INSERT INTO Ticker VALUES('ACME', '11-Apr-11', 19);
INSERT INTO Ticker VALUES('ACME', '12-Apr-11', 15);
INSERT INTO Ticker VALUES('ACME', '13-Apr-11', 25);
INSERT INTO Ticker VALUES('ACME', '14-Apr-11', 25);
INSERT INTO Ticker VALUES('ACME', '15-Apr-11', 14);
INSERT INTO Ticker VALUES('ACME', '16-Apr-11', 12);
INSERT INTO Ticker VALUES('ACME', '17-Apr-11', 14);
INSERT INTO Ticker VALUES('ACME', '18-Apr-11', 24);
INSERT INTO Ticker VALUES('ACME', '19-Apr-11', 23);
INSERT INTO Ticker VALUES('ACME', '20-Apr-11', 22);
</pre><p>The following query uses row pattern matching to find all cases where stock prices dipped to a bottom price and then rose. This is generally called a V-shape. The resulting output contains only three rows because the query specifies <code class="codeph">ONE</code> <code class="codeph">ROW</code> <code class="codeph">PER</code> <code class="codeph">MATCH</code>, and three matches were found.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT *
FROM Ticker MATCH_RECOGNIZE (
     PARTITION BY symbol
     ORDER BY tstamp
     MEASURES STRT.tstamp AS start_tstamp,
              LAST(DOWN.tstamp) AS bottom_tstamp,
              LAST(UP.tstamp) AS end_tstamp
     ONE ROW PER MATCH
     AFTER MATCH SKIP TO LAST UP
     PATTERN (STRT DOWN+ UP+)
     DEFINE
        DOWN AS DOWN.price &lt; PREV(DOWN.price),
        UP AS UP.price &gt; PREV(UP.price)
     ) MR
ORDER BY MR.symbol, MR.start_tstamp;

SYMBOL     START_TST BOTTOM_TS END_TSTAM
---------- --------- --------- ---------
ACME       05-APR-11 06-APR-11 10-APR-11
ACME       10-APR-11 12-APR-11 13-APR-11
ACME       14-APR-11 16-APR-11 18-APR-11</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>