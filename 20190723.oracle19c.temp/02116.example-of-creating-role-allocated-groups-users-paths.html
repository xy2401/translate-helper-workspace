<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment.">
      <meta name="description" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment.">
      <title>Example of Creating Role-allocated Groups, Users, and Paths</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Grid Infrastructure Installation and Upgrade Guide">
      <meta property="og:description" content="Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="grid-infrastructure-installation-and-upgrade-guide-linux.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T21:10:05-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96272-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="example-of-creating-minimal-users-roles-groups.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-software-users-environments.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Grid Infrastructure Installation and Upgrade Guide for Linux">
    <meta name="dcterms.isVersionOf" content="CWLIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-of-creating-minimal-users-roles-groups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-software-users-environments.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Grid Infrastructure Installation and Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-users-groups-and-environments-for-oracle-grid-infrastructure-and-oracle-database.html" property="item" typeof="WebPage"><span property="name">Configuring Users, Groups and Environments for Oracle Grid Infrastructure and Oracle Database</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-operating-system-oracle-installation-user-accounts.html" property="item" typeof="WebPage"><span property="name">Creating Operating
System Oracle Installation User Accounts</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Example of Creating Role-allocated Groups, Users, and Paths</li>
            </ol>
            <a id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509" name="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509"></a>
            
            <h2 id="CWLIN-GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509" class="sect2">Example of Creating Role-allocated Groups, Users, and Paths</h2>
         </header>
         <div class="ind">
            <div>
               <p> Understand this example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment.</p>
               <p></p>
               <div class="section">
                  <p class="subhead1" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-B19FBB12-D89D-437F-9F0F-B59A5A8DE482"></p>
                  <p>This example illustrates the following scenario:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An Oracle Grid Infrastructure installation</p>
                     </li>
                     <li>
                        <p>Two separate Oracle Database installations planned for the cluster, <code class="codeph">DB1</code> and <code class="codeph">DB2</code></p>
                     </li>
                     <li>
                        <p>Separate installation owners for Oracle Grid Infrastructure, and for each Oracle Database</p>
                     </li>
                     <li>
                        <p>Full role allocation of system privileges for Oracle ASM, and for each Oracle Database</p>
                     </li>
                     <li>
                        <p>Oracle Database owner <code class="codeph">oracle1</code> granted the right to start up and shut down the Oracle ASM instance
                        </p>
                     </li>
                  </ul>
                  <p>Create groups and users for a role-allocated configuration for this scenario using the following commands:</p><pre class="pre codeblock"><code># groupadd -g 54321 oinstall
# groupadd -g 54322 dba1
# groupadd -g 54332 dba2
# groupadd -g 54323 oper1
# groupadd -g 54333 oper2
# groupadd -g 54324 backupdba1
# groupadd -g 54334 backupdba2
# groupadd -g 54325 dgdba1
# groupadd -g 54335 dgdba2
# groupadd -g 54326 kmdba1
# groupadd -g 54336 kmdba2
# groupadd -g 54327 asmdba
# groupadd -g 54328 asmoper
# groupadd -g 54329 asmadmin
# groupadd -g 54330 racdba1
# groupadd -g 54340 racdba2
# useradd -u 54322 -g oinstall -G asmadmin,asmdba,racdba1,racdba2 grid
# useradd -u 54321 -g oinstall -G dba1,backupdba1,dgdba1,kmdba1,asmdba,racdba1,asmoper oracle1
# useradd -u 54323 -g oinstall -G dba2,backupdba2,dgdba2,kmdba2,asmdba,racdba2 oracle2
# mkdir -p /u01/app/19.0.0/grid
# mkdir -p /u01/app/grid
# mkdir -p /u01/app/oracle1
# mkdir -p u01/app/oracle2
# chown -R grid:oinstall /u01
# chmod -R 775 /u01/
# chown oracle1:oinstall /u01/app/oracle1
# chown oracle2:oinstall /u01/app/oracle2
</code></pre><p>After running these commands, you have a set of administrative privileges groups and users for Oracle Grid Infrastructure, and for two separate Oracle databases (<code class="codeph">DB1</code> and <code class="codeph">DB2</code>):
                  </p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-ED96D62A-7BAD-445B-B6BB-20E52ECAF4D9">
                  <p class="titleinexample">Example 6-1 Oracle Grid Infrastructure Groups and Users Example</p>
                  <p>The command creates the following Oracle Grid Infrastructure groups and users:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An Oracle central inventory group, or <code class="codeph">oraInventory</code> group (<code class="codeph">oinstall</code>), whose members that have this group as their primary group. Members of this group are granted the OINSTALL system privileges, which grants permissions to write to the <code class="codeph">oraInventory</code> directory, and other associated install binary privileges.
                        </p>
                     </li>
                     <li>
                        <p>An OSASM group (<code class="codeph">asmadmin</code>), associated with Oracle Grid Infrastructure during installation, whose members are granted the SYSASM privileges to administer Oracle ASM.
                        </p>
                     </li>
                     <li>
                        <p>An OSDBA for ASM group (<code class="codeph">asmdba</code>), associated with Oracle Grid Infrastructure storage during installation. Its members include grid and any database installation owners, such as <code class="codeph">oracle1</code> and <code class="codeph">oracle2</code>, who are granted access to Oracle ASM. Any additional installation owners that use Oracle ASM for storage must also be made members of this group.
                        </p>
                     </li>
                     <li>
                        <p>An OSOPER for ASM group for Oracle ASM (<code class="codeph">asmoper</code>), associated with Oracle Grid Infrastructure during installation. Members of <code class="codeph">asmoper</code> group are granted limited Oracle ASM administrator privileges, including the permissions to start and stop the Oracle ASM instance.
                        </p>
                     </li>
                     <li>
                        <p>An Oracle Grid Infrastructure installation owner (<code class="codeph">grid</code>), with the oraInventory group (<code class="codeph">oinstall</code>) as its primary group, and with the OSASM (<code class="codeph">asmadmin</code>) group and the OSDBA for ASM (<code class="codeph">asmdba</code>) group as secondary groups.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">/u01/app/oraInventory</code>. The central inventory of Oracle installations on the cluster. This path remains owned by <code class="codeph">grid:oinstall</code>, to enable other Oracle software owners to write to the central inventory.
                        </p>
                     </li>
                     <li>
                        <p>An OFA-compliant mount point <code class="codeph">/u01</code> owned by <code class="codeph">grid:oinstall</code> before installation, so that Oracle Universal Installer can write to that path.
                        </p>
                     </li>
                     <li>
                        <p>An Oracle base for the grid installation owner <code class="codeph">/u01/app/grid</code> owned by <code class="codeph">grid:oinstall</code> with 775 permissions, and changed during the installation process to 755 permissions.
                        </p>
                     </li>
                     <li>
                        <p>A Grid home <code class="codeph">/u01/app/19.0.0/grid</code> owned by <code class="codeph">grid:oinstall</code> with 775 (drwxdrwxr-x) permissions. These permissions are required for installation, and are changed during the installation process to <code class="codeph">root:oinstall</code> with 755 permissions (<code class="codeph">drwxr-xr-x</code>).
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-3EEC0A2A-87FD-45FB-93B2-90B6794DD6A7">
                  <p class="titleinexample">Example 6-2 Oracle Database DB1 Groups and Users Example</p>
                  <p>The command creates the following Oracle Database (<code class="codeph">DB1</code>) groups and users:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An Oracle Database software owner (<code class="codeph">oracle1</code>), which owns the Oracle Database binaries for <code class="codeph">DB1</code>. The <code class="codeph">oracle1</code> user has the oraInventory group as its primary group, and the OSDBA group for its database (<code class="codeph">dba1</code>) and the OSDBA for ASM group for Oracle Grid Infrastructure (<code class="codeph">asmdba</code>) as secondary groups. In addition, the <code class="codeph">oracle1</code> user is a member of <code class="codeph">asmoper</code>, granting that user privileges to start up and shut down Oracle ASM.
                        </p>
                     </li>
                     <li>
                        <p>An OSDBA group (<code class="codeph">dba1</code>). During installation, you identify the group <code class="codeph">dba1</code> as the OSDBA group for the database installed by the user <code class="codeph">oracle1</code>. Members of <code class="codeph">dba1</code> are granted the SYSDBA privileges for the Oracle Database <code class="codeph">DB1</code>. Users who connect as SYSDBA are identified as user SYS on <code class="codeph">DB1</code>.
                        </p>
                     </li>
                     <li>
                        <p>An OSBACKUPDBA group (<code class="codeph">backupdba1</code>). During installation, you identify the group <code class="codeph">backupdba1</code> as the OSDBA group for the database installed by the user <code class="codeph">oracle1</code>. Members of <code class="codeph">backupdba1</code> are granted the SYSBACKUP privileges for the database installed by the user <code class="codeph">oracle1</code> to back up the database.
                        </p>
                     </li>
                     <li>
                        <p>An OSDGDBA group (<code class="codeph">dgdba1</code>). During installation, you identify the group <code class="codeph">dgdba1</code> as the OSDGDBA group for the database installed by the user <code class="codeph">oracle1</code>. Members of <code class="codeph">dgdba1</code> are granted the SYSDG privileges to administer Oracle Data Guard for the database installed by the user <code class="codeph">oracle1</code>.
                        </p>
                     </li>
                     <li>
                        <p>An OSKMDBA group (<code class="codeph">kmdba1</code>). During installation, you identify the group <code class="codeph">kmdba1</code> as the OSKMDBA group for the database installed by the user <code class="codeph">oracle1</code>. Members of <code class="codeph">kmdba1</code> are granted the SYSKM privileges to administer encryption keys for the database installed by the user <code class="codeph">oracle1</code>.
                        </p>
                     </li>
                     <li>
                        <p>An OSOPER group (<code class="codeph">oper1</code>). During installation, you identify the group <code class="codeph">oper1</code> as the OSOPER group for the database installed by the user <code class="codeph">oracle1</code>. Members of <code class="codeph">oper1</code> are granted the SYSOPER privileges (a limited set of the SYSDBA privileges), including the right to start up and shut down the <code class="codeph">DB1</code> database. Users who connect as OSOPER privileges are identified as user PUBLIC on <code class="codeph">DB1</code>.
                        </p>
                     </li>
                     <li>
                        <p>An Oracle base <code class="codeph">/u01/app/oracle1</code> owned by <code class="codeph">oracle1:oinstall</code> with 775 permissions. The user <code class="codeph">oracle1</code> has permissions to install software in this directory, but in no other directory in the <code class="codeph">/u01/app</code> path.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-A4DAFF84-F691-474C-AE60-F1694DDBB509__GUID-1B671461-A748-421E-A0D3-DF03CE3ADB58">
                  <p class="titleinexample">Example 6-3 Oracle Database DB2 Groups and Users Example</p>
                  <p>The command creates the following Oracle Database (DB2) groups and users:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>An Oracle Database software owner (<code class="codeph">oracle2</code>), which owns the Oracle Database binaries for DB2. The <code class="codeph">oracle2</code> user has the oraInventory group as its primary group, and the OSDBA group for its database (<code class="codeph">dba2</code>) and the OSDBA for ASM group for Oracle Grid Infrastructure (<code class="codeph">asmdba</code>) as secondary groups. However, the <code class="codeph">oracle2</code> user is not a member of the <code class="codeph">asmoper</code> group, so <code class="codeph">oracle2</code> cannot shut down or start up Oracle ASM.
                        </p>
                     </li>
                     <li>
                        <p>An OSDBA group (<code class="codeph">dba2</code>). During installation, you identify the group <code class="codeph">dba2</code> as the OSDBA group for the database installed by the user <code class="codeph">oracle2</code>. Members of <code class="codeph">dba2</code> are granted the SYSDBA privileges for the Oracle Database DB2. Users who connect as SYSDBA are identified as user SYS on DB2.
                        </p>
                     </li>
                     <li>
                        <p>An OSBACKUPDBA group (<code class="codeph">backupdba2</code>). During installation, you identify the group <code class="codeph">backupdba2</code> as the OSDBA group for the database installed by the user <code class="codeph">oracle2</code>. Members of <code class="codeph">backupdba2</code> are granted the SYSBACKUP privileges for the database installed by the user <code class="codeph">oracle2</code> to back up the database.
                        </p>
                     </li>
                     <li>
                        <p>An OSDGDBA group (<code class="codeph">dgdba2</code>). During installation, you identify the group <code class="codeph">dgdba2</code> as the OSDGDBA group for the database installed by the user <code class="codeph">oracle2</code>. Members of <code class="codeph">dgdba2</code> are granted the SYSDG privileges to administer Oracle Data Guard for the database installed by the user <code class="codeph">oracle2</code>.
                        </p>
                     </li>
                     <li>
                        <p>An OSKMDBA group (<code class="codeph">kmdba2</code>). During installation, you identify the group <code class="codeph">kmdba2</code> as the OSKMDBA group for the database installed by the user <code class="codeph">oracle2</code>. Members of <code class="codeph">kmdba2</code> are granted the SYSKM privileges to administer encryption keys for the database installed by the user <code class="codeph">oracle2</code>.
                        </p>
                     </li>
                     <li>
                        <p>An OSOPER group (<code class="codeph">oper2</code>). During installation, you identify the group <code class="codeph">oper2</code> as the OSOPER group for the database installed by the user <code class="codeph">oracle2</code>. Members of <code class="codeph">oper2</code> are granted the SYSOPER privileges (a limited set of the SYSDBA privileges), including the right to start up and shut down the DB2 database. Users who connect as OSOPER privileges are identified as user PUBLIC on DB2.
                        </p>
                     </li>
                     <li>
                        <p>An Oracle base <code class="codeph">/u01/app/oracle2</code> owned by <code class="codeph">oracle1:oinstall</code> with 775 permissions. The user <code class="codeph">oracle2</code> has permissions to install software in this directory, but in no other directory in the <code class="codeph">/u01/app</code> path.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="creating-operating-system-oracle-installation-user-accounts.html#GUID-4DA71FFA-AB5B-49AA-B21D-92C952C8A3FC" title="Before starting installation, create Oracle software owner user accounts, and configure their environments.">Creating Operating System Oracle Installation User Accounts</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>