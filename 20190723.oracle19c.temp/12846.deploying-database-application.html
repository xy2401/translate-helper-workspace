<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">
      <meta name="description" content="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">
      <title>Deploying an Oracle Database Application</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day Developer's Guide ">
      <meta property="og:description" content="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="2-day-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:00:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94801-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="developing-simple-database-application.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="2 Day Developer's Guide">
    <meta name="dcterms.isVersionOf" content="TDDDG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="developing-simple-database-application.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Deploying an Oracle Database Application</li>
            </ol>
            <a id="GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" name="GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5"></a><a id="TDDDG70000"></a>
            
            <h2 id="TDDDG-GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" class="sect2"><span class="enumeration_chapter">10 </span>Deploying an Oracle Database Application
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-1DBF5E7D-1294-4C7B-BC69-5728ECB10CF5">About Development and Deployment Environments</a><br>The database on which you develop your application is called the <strong class="term">development environment</strong>. After developing your application, you can install it on other databases, called <strong class="term">deployment environments</strong>, where other users can run it.
                  </li>
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-EA334D38-81D1-4B06-B272-08EDFE50A424">About Installation Scripts</a><br>An <strong class="term">installation script</strong> can either have all the SQL statements needed to create the application or it can be a <strong class="term">master script</strong> that runs other scripts.
                  </li>
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3">Creating Installation Scripts</a><br>You can create installation scripts in SQL Developer or a text editor.
                  </li>
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA">Deploying the Sample Application</a><br>You can deploy the sample application using installation scripts.
                  </li>
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-F2BDB974-026B-4746-A68E-C83239A785A1">Checking the Validity of an Installation</a><br>After installing your application in a deployment environment, you can check its validity using SQL Developer.
                  </li>
                  <li class="ulchildlink"><a href="deploying-database-application.html#GUID-2343DECE-C394-4668-849C-434BE385D92B">Archiving the Installation Scripts</a><br>After you verify that the installation of your application is valid, Oracle recommends that you archive your installation scripts in a source code control system.
                  </li>
               </ul>
            </div>
            <a id="TDDDG72000"></a><div class="props_rev_3"><a id="GUID-1DBF5E7D-1294-4C7B-BC69-5728ECB10CF5" name="GUID-1DBF5E7D-1294-4C7B-BC69-5728ECB10CF5"></a><h3 id="TDDDG-GUID-1DBF5E7D-1294-4C7B-BC69-5728ECB10CF5" class="sect3"><span class="enumeration_section">10.1 </span>About Development and Deployment Environments
               </h3>
               <div>
                  <p>The database on which you develop your application is called the <strong class="term">development environment</strong>. After developing your application, you can install it on other databases, called <strong class="term">deployment environments</strong>, where other users can run it.
                  </p>
                  <p>The first deployment environment is the <strong class="term">test environment</strong>. In the test environment, you can thoroughly test the functionality of the application, determine whether it is structured correctly, and fix any problems before deploying it in the <strong class="term">production environment</strong>.
                  </p>
                  <p>You might also deploy your application to an <strong class="term">education environment</strong>, either before or after deploying it to the production environment. An education environment provides a place for users to practice running the application without affecting other environments.
                  </p>
                  <p>If the desired deployment environments do not exist in your organization, you can create them.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG99980"></a><div class="props_rev_3"><a id="GUID-EA334D38-81D1-4B06-B272-08EDFE50A424" name="GUID-EA334D38-81D1-4B06-B272-08EDFE50A424"></a><h3 id="TDDDG-GUID-EA334D38-81D1-4B06-B272-08EDFE50A424" class="sect3"><span class="enumeration_section">10.2 </span>About Installation Scripts
               </h3>
               <div>
                  <p>An <strong class="term">installation script</strong> can either have all the SQL statements needed to create the application or it can be a <strong class="term">master script</strong> that runs other scripts.
                  </p>
                  <p>A <strong class="term">script</strong> is a series of SQL statements in a file whose name ends with <code class="codeph">.sql</code> (for example, create_app.sql). When you run a script in a client program such as SQL*Plus or SQL Developer, the SQL statements run in the order in which they appear in the script. A script whose SQL statements create an application is called an <strong class="term">installation script</strong>.
                  </p>
                  <p>To deploy an application, you run one or more installation scripts in the deployment environment. For a new application, you must create the installation scripts. For an older application, the installation scripts might exist, but if they do not, you can create them.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-DBA580A8-4AD1-41A2-92DB-F0ECD4879493">About DDL Statements and Schema Object Dependencies</a><br>An installation script contains DDL statements that create schema objects and, optionally, <span class="keyword">INSERT</span> statements that load data into tables that DDL statements create. To create installation scripts correctly, and to run multiple installation scripts in the correct order, you must understand the dependencies between the schema objects of your application.
                     </li>
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-7C87F532-9F81-4234-9E21-60B12F7A91CE">About INSERT Statements and Constraints</a><br>When you run an installation script that contains <span class="keyword">INSERT</span> statements, you must determine whether constraints could be violated when data from source tables (in the development environment) is inserted into new tables in the deployment environment.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99943"></a><div class="props_rev_3"><a id="GUID-DBA580A8-4AD1-41A2-92DB-F0ECD4879493" name="GUID-DBA580A8-4AD1-41A2-92DB-F0ECD4879493"></a><h4 id="TDDDG-GUID-DBA580A8-4AD1-41A2-92DB-F0ECD4879493" class="sect4"><span class="enumeration_section">10.2.1 </span>About DDL Statements and Schema Object Dependencies
                  </h4>
                  <div>
                     <p>An installation script contains DDL statements that create schema objects and, optionally, <span class="keyword">INSERT</span> statements that load data into tables that DDL statements create. To create installation scripts correctly, and to run multiple installation scripts in the correct order, you must understand the dependencies between the schema objects of your application.
                     </p>
                     <p>If the definition of object A references object B, then A depends on B. Therefore, you must create B before you create A. Otherwise, the statement that creates B either fails or creates B in an invalid state, depending on the object type.</p>
                     <p>For a complex application, the order for creating the objects is rarely obvious. Usually, you must consult the database designer or a diagram of the design.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DBA580A8-4AD1-41A2-92DB-F0ECD4879493__GUID-70B09BE9-BD4C-4921-A16A-72F000A4358B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../adfns/schema-object-dependency.html#ADFNS99967" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information about schema object dependencies
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-0663F857-7E62-464C-9EE8-42BC600FAA6C" title="Data definition language (DDL) statements create, change, and drop schema objects. Before and after a DDL statement, Oracle Database issues an implicit COMMIT statement; therefore, you cannot roll back a DDL statement.">About Data Definition Language (DDL) Statements</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-EA334D38-81D1-4B06-B272-08EDFE50A424" title="An installation script can either have all the SQL statements needed to create the application or it can be a master script that runs other scripts.">About Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99942"></a><div class="props_rev_3"><a id="GUID-7C87F532-9F81-4234-9E21-60B12F7A91CE" name="GUID-7C87F532-9F81-4234-9E21-60B12F7A91CE"></a><h4 id="TDDDG-GUID-7C87F532-9F81-4234-9E21-60B12F7A91CE" class="sect4"><span class="enumeration_section">10.2.2 </span>About INSERT Statements and Constraints
                  </h4>
                  <div>
                     <p>When you run an installation script that contains <span class="keyword">INSERT</span> statements, you must determine whether constraints could be violated when data from source tables (in the development environment) is inserted into new tables in the deployment environment.
                     </p>
                     <p>For each source table in your application, you must determine whether any constraints could be violated when their data is inserted in the new table. If so, you must first disable those constraints, then insert the data, and then try to re-enable the constraints. If a data item violates a constraint, then you cannot re-enable that constraint until you correct the data item.</p>
                     <p>If you are simply inserting lookup data in correct order (as in <span class="q">"<a href="developing-simple-database-application.html#GUID-CB8BB171-DB56-49F6-8895-F7AE32961B24">Loading the Data</a>"</span>), then constraints are not violated. Therefore, you do not need to disable them first.
                     </p>
                     <p>If you are inserting data from an outside source (such as a file, spreadsheet, or older application), or from many tables that have much dependent data, disable the constraints before inserting the data.</p>
                     <p>Some possible ways to disable and re-enable the constraints are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using SQL Developer, disable and re-enable the constraints one at a time:</p>
                           <ol>
                              <li>
                                 <p>In the <span class="wintitle">Connections</span> frame, select the appropriate table.
                                 </p>
                              </li>
                              <li>
                                 <p>In the pane labeled with table name, select the subtab <span class="uicontrol bold">Constraints</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the list of all constraints on the table, change <code>ENABLED</code> to <code>DISABLED</code> (or the reverse).
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Edit the installation script, adding SQL statements that disable and re-enable each constraint.</p>
                        </li>
                        <li>
                           <p>Create a SQL script with SQL statements that disable and enable each constraint.</p>
                        </li>
                        <li>
                           <p>Find the constraints in the Oracle Database data dictionary, and create a SQL script with the SQL statements to disable and enable each constraint.</p>
                           <p>For example, to find and enable the constraints used in the EVALUATIONS, PERFORMANCE_PARTS, and SCORES tables from <span class="q">"<a href="creating-managing-schema-objects.html#GUID-87AA2B05-2B7B-49D9-AD21-1B2877113D23" title="To create tables, use either the SQL Developer tool Create Table or the DDL statement CREATE TABLE.">Creating Tables</a>"</span>, enter these statements in the <span class="wintitle">Worksheet</span>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT 'ALTER TABLE '|| TABLE_NAME || ' DISABLE CONSTRAINT '|| 
  CONSTRAINT_NAME ||';'
  FROM user_constraints
 WHERE table_name IN ('EVALUATIONS','PERFORMANCE_PARTS','SCORES');
 
SELECT 'ALTER TABLE '|| TABLE_NAME || ' ENABLE CONSTRAINT '|| 
  CONSTRAINT_NAME ||';'
  FROM user_constraints
 WHERE table_name IN ('EVALUATIONS','PERFORMANCE_PARTS','SCORES');</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7C87F532-9F81-4234-9E21-60B12F7A91CE__GUID-ECF0193A-05A6-4D36-8631-B90076DE175C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="dml-and-transactions.html#GUID-E49519F6-5B93-43D9-852B-C6EB3DA8F1E1" title="The INSERT statement inserts rows into an existing table.">About the INSERT Statement</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-144C564C-0B08-40BF-9AC9-3035CFD03F66" title="To ensure that the data in your tables satisfies the business rules that your application models, you can use constraints, application logic, or both.">Ensuring Data Integrity in Tables</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-EA334D38-81D1-4B06-B272-08EDFE50A424" title="An installation script can either have all the SQL statements needed to create the application or it can be a master script that runs other scripts.">About Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG74000"></a><div class="props_rev_3"><a id="GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" name="GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3"></a><h3 id="TDDDG-GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" class="sect3"><span class="enumeration_section">10.3 </span>Creating Installation Scripts
               </h3>
               <div>
                  <p>You can create installation scripts in SQL Developer or a text editor.</p>
                  <div class="section">
                     <p>If an installation script needs only DDL and <span class="keyword">INSERT</span> statements, then you can create it with either SQL Developer or any text editor. In SQL Developer, you can use either the Cart or the Database Export wizard. Oracle recommends the Cart for installation scripts that you expect to run in multiple deployment environments and the Database Export wizard for installation scripts that you expect to run in only one deployment environment.
                     </p>
                     <p>If an installation script needs SQL statements that are neither DDL nor <span class="keyword">INSERT</span> statements, then you must create it with a text editor.
                     </p>
                     <p>This section explains how to create installation scripts with the Cart and the Database Export wizard, when and how to edit installation scripts that create sequences and triggers, and how create installation scripts for the application in <a href="developing-simple-database-application.html#GUID-98FFDC3A-FD76-4466-921C-F0E411829CD7" title="By following the instructions for developing this simple application, you learn the general procedure for developing Oracle Database applications.">Developing a Simple Oracle Database Application</a> ("the sample application").
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1">Creating Installation Scripts with the Cart</a><br>The SQL Developer Cart is a convenient tool for deploying Oracle Database objects from one or more database connections to a destination connection. 
                     </li>
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B">Creating an Installation Script with the Database Export Wizard</a><br>To create an installation script in SQL Developer with the Database Export wizard, you specify the name of the installation script, the objects and data to export, and the desired options, and the wizard generates an installation script.
                     </li>
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE">Editing Installation Scripts that Create Sequences</a><br>If your application uses the sequence to generate unique keys, and you <span class="italic">will not</span> insert the data from the source tables into the corresponding new tables, then you might want to edit the <span class="keyword">START WITH</span> value in the installation script.
                     </li>
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-D044C8DC-3505-4885-8A86-ACAABF45F139">Editing Installation Scripts that Create Triggers</a><br>If your application has a <span class="keyword">BEFORE INSERT</span> trigger on a source table, and you <span class="italic">will</span> insert data from that source table into the corresponding new table, you must decide if you want the trigger to fire before each <span class="keyword">INSERT</span> statement in the installation script inserts data into the new table.
                     </li>
                     <li class="ulchildlink"><a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A">Creating Installation Scripts for the Sample Application</a><br>You can create installation scripts for the sample application.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG317"></a><a id="TDDDG316"></a><div class="props_rev_3"><a id="GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1" name="GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1"></a><h4 id="TDDDG-GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1" class="sect4"><span class="enumeration_section">10.3.1 </span>Creating Installation Scripts with the Cart
                  </h4>
                  <div>
                     <p>The SQL Developer Cart is a convenient tool for deploying Oracle Database objects from one or more database connections to a destination connection. </p>
                     <div class="section">
                        <p>You drag and drop objects from the navigator frame into the Cart window, specify the desired options, and click the Export Cart icon to display the Export Objects dialog box. After you complete the information in that dialog box, SQL Developer creates a <code class="codeph">.zip</code> file containing scripts (including a master script) to create the objects in the schema of a desired destination connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1__GUID-05A3E3DB-4262-4C91-9042-79947C157D01">To create installation scripts with the Cart:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the SQL Developer window, click the menu <span class="uicontrol bold">View</span>.</span></li>
                        <li class="stepexpand"><span>From the <span class="wintitle">View</span> menu, select <span class="uicontrol bold">Cart</span>.</span><div>
                              <p>The Cart window opens. The Export Cart icon is inactive (gray).</p>
                              <div class="infobox-tip" id="GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1__GUID-B5535FD3-A0CD-467B-94A1-23509570FFD2">
                                 <p class="notep1">Tip:</p>
                                 <p>In the <span class="wintitle">Cart</span> window, for information about Cart user preferences, press the key <span class="uicontrol bold">F1</span>.
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, select the schema objects that you want the installation script to create and drag them into the <span class="wintitle">Cart</span> window.</span><div>
                              <p>In The <span class="wintitle">Cart</span> window, the <span class="wintitle">Export Cart</span> icon is now active (not gray).
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For each <span class="wintitle">Selected Object</span> of type TABLE, if you want the installation script to export data, then select the option <span class="uicontrol bold">Data</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">Export Cart</span>.</span></li>
                        <li class="stepexpand"><span>In the <span class="wintitle">Export Objects</span> dialog box, enter the desired values in the fields.</span><div>
                              <p>For information about these fields, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG45483" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">Apply</span>.</span><div>
                              <p>SQL Developer creates a <code class="codeph">.zip</code> file containing scripts (including a master script) to create the objects in the schema of a desired destination connection.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the master script and the scripts that it runs, check that:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Referenced objects are created before their dependent objects.</p>
                                 </li>
                                 <li>
                                    <p>Tables are created before data is inserted into them.</p>
                                 </li>
                              </ul>
                              <p>If the installation scripts create sequences, see <span class="q">"<a href="deploying-database-application.html#GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE" title="If your application uses the sequence to generate unique keys, and you will not insert the data from the source tables into the corresponding new tables, then you might want to edit the START WITH value in the installation script.">Editing Installation Scripts that Create Sequences</a>"</span>.
                              </p>
                              <p>If the installation scripts create triggers, see <span class="q">"<a href="deploying-database-application.html#GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE" title="If your application uses the sequence to generate unique keys, and you will not insert the data from the source tables into the corresponding new tables, then you might want to edit the START WITH value in the installation script.">Editing Installation Scripts that Create Sequences</a>"</span>.
                              </p>
                              <p>If necessary, edit the installation files in the Worksheet or any text editor.</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1__GUID-F26A6EA1-C4E2-4A47-ACE9-77ADDC61F92F">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG45333" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for more information about the Cart
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" title="You can create installation scripts in SQL Developer or a text editor.">Creating Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG272"></a><a id="TDDDG99974"></a><div class="props_rev_3"><a id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B" name="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B"></a><h4 id="TDDDG-GUID-28560E14-D48C-4D3F-955A-608054AB2B3B" class="sect4"><span class="enumeration_section">10.3.2 </span>Creating an Installation Script with the Database Export Wizard
                  </h4>
                  <div>
                     <p>To create an installation script in SQL Developer with the Database Export wizard, you specify the name of the installation script, the objects and data to export, and the desired options, and the wizard generates an installation script.</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__GUID-61DB7B4E-0D55-479B-A5F5-F978174E2A5F">
                           <p class="notep1">Note:</p>
                           <p>In the following procedure, you might have to enlarge the SQL Developer windows to see all fields and options.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__GUID-0C28FF24-F5ED-4AFE-A891-34C1477D9B5E">To create an installation script with the Database Export wizard:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>If you have not done so, create a directory for the installation script, separate from the Oracle Database installation directory (for example, <code>C:\my_exports</code>).
                              </p>
                           </li>
                           <li>
                              <p>In the SQL Developer window, click the menu <span class="uicontrol bold">Tools</span>.
                              </p>
                           </li>
                           <li>
                              <p>From the menu, select <span class="uicontrol bold">Database Export</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the <span class="wintitle">Export Wizard - Step 1 of 5 (Source/Destination)</span> window:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>In the <span class="wintitle">Connection</span> field, select your connection to the development environment.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select the desired Export DDL options (and deselect any selected undesired options).</p>
                                    <div class="infoboxnote" id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__GUID-70605363-D591-4019-9F80-D7BF3E1B0D81">
                                       <p class="notep1">Note:</p>
                                       <p>Do not deselect <span class="wintitle">Terminator</span>, or the installation script will fail.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>If you do <span class="italic">not</span> want the installation script to export data, then deselect <span class="uicontrol bold">Export Data</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the <span class="wintitle">Save As</span> field, accept the default <code>Single File</code> and type the full path name of the installation script (for example, <code>C:\my_exports\hr_export.sql</code>).
                                    </p>
                                    <p>The file name must end with .<code class="codeph">sql</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="uicontrol bold">Next</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the <span class="wintitle">Export Wizard - Step 2 of 5 (Types to Export)</span> window:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Deselect the check boxes for the types that you do <span class="italic">not</span> want to export.
                                    </p>
                                    <p>Selecting or deselecting <span class="uicontrol bold">Toggle All</span> selects or deselects all check boxes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="uicontrol bold">Next</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the <span class="wintitle">Export Wizard - Step 3 of 5 (Specify Objects)</span> window:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Click <span class="uicontrol bold">More</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the <span class="wintitle">Schema</span> field, select your schema from the menu.
                                    </p>
                                 </li>
                                 <li id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CHDIBFAC">
                                    <p>In the <span class="wintitle">Type</span> field, select from the menu either <code>ALL OBJECTS</code> or a specific object type (for example, <code>TABLE</code>).
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="uicontrol bold">Lookup</span>.
                                    </p>
                                    <p>A list of objects appears in the left frame. If the value of the <span class="wintitle">Type</span> field is <code>ALL OBJECTS</code>, then the list contains all objects in the selected schema. If the value of the <span class="wintitle">Type</span> field is a specific object type, then the list contains all objects of that type in the selected schema.
                                    </p>
                                 </li>
                                 <li id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CHDGGCFJ">
                                    <p>Move the objects that you want to export from the left frame to the right frame:</p>
                                    <p>To move all objects, click <span class="uicontrol bold">&gt;&gt;</span>. (To move all objects back, click <span class="uicontrol bold">&lt;&lt;</span>.)
                                    </p>
                                    <p>To move selected objects, select them and then click <span class="uicontrol bold">&gt;</span>. (To move selected objects back, select them and click <span class="uicontrol bold">&lt;</span>.)
                                    </p>
                                 </li>
                                 <li>
                                    <p>(Optional) Repeat steps <a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CHDIBFAC">6.c</a> through <a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CHDGGCFJ">6.e</a> for other object types.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="uicontrol bold">Next</span>.
                                    </p>
                                    <p>If you deselected <code>Export Data</code> in the <span class="wintitle">Source/Destination</span> window, then the <span class="wintitle">Export Summary</span> window appearsâ€”go to step&nbsp;<a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CEGBBJFF">8</a>.
                                    </p>
                                    <p>If you did <span class="italic">not</span> deselect <code>Export Data</code> in the <span class="wintitle">Source/Destination</span> window, then the <span class="wintitle">Export Wizard - Step 4 of 5 (Specify Data)</span> window appears. The lower frame lists the objects that you specified in the <span class="wintitle">Specify Objects</span> window.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the <span class="wintitle">Specify Data</span> window:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Move the objects whose data you <span class="italic">do not</span> want to export from the lower frame to the upper frame:
                                    </p>
                                    <p>To move all objects, click the double upward arrow icon. (To move all objects back, click the double downward arrow icon.)</p>
                                    <p>To move selected objects, select them and then click the single upward arrow icon.</p>
                                 </li>
                                 <li>
                                    <p>Click <span class="uicontrol bold">Next</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__CEGBBJFF">
                              <p>In the <span class="wintitle">Export Wizard - Step 5 of 5 (Export Summary)</span> window, click <span class="uicontrol bold">Finish</span>.
                              </p>
                              <p>The Exporting window opens, showing that exporting is occurring. When exporting is complete, the Exporting window closes, and the Worksheet shows the contents of the installation script that you specified in the Source/Destination window.</p>
                           </li>
                           <li>
                              <p>In the installation script, check that:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Referenced objects are created before their dependent objects.</p>
                                 </li>
                                 <li>
                                    <p>Tables are created before data is inserted into them.</p>
                                 </li>
                              </ul>
                              <p>If necessary, edit the file in the <span class="wintitle">Worksheet</span> or any text editor.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-28560E14-D48C-4D3F-955A-608054AB2B3B__GUID-F9106752-48A7-4D44-A3E8-7A17B7E15E20">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG30590" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for more information about the Database Export wizard
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" title="You can create installation scripts in SQL Developer or a text editor.">Creating Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99938"></a><div class="props_rev_3"><a id="GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE" name="GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE"></a><h4 id="TDDDG-GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE" class="sect4"><span class="enumeration_section">10.3.3 </span>Editing Installation Scripts that Create Sequences
                  </h4>
                  <div>
                     <p>If your application uses the sequence to generate unique keys, and you <span class="italic">will not</span> insert the data from the source tables into the corresponding new tables, then you might want to edit the <span class="keyword">START WITH</span> value in the installation script.
                     </p>
                     <div class="section">
                        <p>For a sequence, SQL Developer generates a <span class="keyword">CREATE SEQUENCE</span> statement whose <span class="keyword">START WITH</span> value is relative to the current value of the sequence in the development environment.
                        </p>
                        <p>If your application uses the sequence to generate unique keys, and you <span class="italic">will not</span> insert the data from the source tables into the corresponding new tables, then you might want to edit the <span class="keyword">START WITH</span> value in the installation script.
                        </p>
                        <p>You can edit the installation script in either the <span class="wintitle">Worksheet</span> or any text editor.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2F6AA522-C392-4796-B6A6-283387FE8FFE__GUID-BA4C6672-3EEC-4C6F-ACFC-2E77F678F397">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-3164ECEB-0C7C-4578-8237-0960CA424760" title="This tutorial shows how to use the Create Database Sequence tool to create a sequence to use to generate primary keys for the EVALUATIONS table.">Tutorial: Creating a Sequence</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" title="You can create installation scripts in SQL Developer or a text editor.">Creating Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG74100"></a><div class="props_rev_3"><a id="GUID-D044C8DC-3505-4885-8A86-ACAABF45F139" name="GUID-D044C8DC-3505-4885-8A86-ACAABF45F139"></a><h4 id="TDDDG-GUID-D044C8DC-3505-4885-8A86-ACAABF45F139" class="sect4"><span class="enumeration_section">10.3.4 </span>Editing Installation Scripts that Create Triggers
                  </h4>
                  <div>
                     <p>If your application has a <span class="keyword">BEFORE INSERT</span> trigger on a source table, and you <span class="italic">will</span> insert data from that source table into the corresponding new table, you must decide if you want the trigger to fire before each <span class="keyword">INSERT</span> statement in the installation script inserts data into the new table.
                     </p>
                     <div class="section">
                        <p>For example, NEW_EVALUATION_TRIGGER (created in <span class="q">"<a href="using-triggers.html#GUID-C4DA3CAF-522D-4851-84D2-732C8F1FCF5C" title="This tutorial shows how to use the SQL Developer Create Trigger tool to create a trigger that fires before a row is inserted into the EVALUATIONS table, and generates the unique number for the primary key of that row, using EVALUATIONS_SEQUENCE.">Tutorial: Creating a Trigger that Generates a Primary Key for a Row Before It Is Inserted</a>"</span>) fires before a row is inserted into the EVALUATIONS table. The trigger generates the unique number for the primary key of that row, using EVALUATIONS_SEQUENCE.
                        </p>
                        <p>The source EVALUATIONS table is populated with primary keys. If you do not want the installation script to put new primary key values in the new EVALUATIONS table, then you must edit the <span class="keyword">CREATE TRIGGER</span> statement in the installation script as shown in bold font:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
TRIGGER NEW_EVALUATION_TRIGGER
BEFORE INSERT ON EVALUATIONS
FOR EACH ROW
BEGIN
  <span class="bold">IF :NEW.evaluation_id IS NULL THEN</span>
    :NEW.evaluation_id := evaluations_sequence.NEXTVAL
  <span class="bold">END IF;</span>
END;
</pre><p>Also, if the current value of the sequence is not greater than the maximum value in the primary key column, then you must make it greater.</p>
                        <p>You can edit the installation script in either the <span class="wintitle">Worksheet</span> or any text editor.
                        </p>
                        <p>Two alternatives to editing the installation script are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Change the trigger definition in the source file and then re-create the installation script.</p>
                              <p>For information about changing triggers, see <span class="q">"<a href="using-triggers.html#GUID-5941E132-742E-4337-9D8C-F835E2F1F1E0" title="To change a trigger, use either the SQL Developer tool Edit or the DDL statement CREATE TRIGGER with the OR REPLACE clause.">Changing Triggers</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Disable the trigger before running the data installation script, and then re-enable it afterward.</p>
                              <p>For information about disabling and enabling triggers, see <span class="q">"<a href="using-triggers.html#GUID-86E7AF13-C7A6-4594-A333-180DD16382AA" title="You might need to temporarily disable triggers that reference objects that are unavailable, or to upload a large amount of data without the delay that triggers cause (as in a recovery operation). After the referenced objects become available, or you have finished uploading the data, you can re-enable the triggers.">Disabling and Enabling Triggers</a>"</span>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D044C8DC-3505-4885-8A86-ACAABF45F139__GUID-455408EB-1683-4DD3-8C1F-7CEC8C4CFDF7">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="using-triggers.html#GUID-96CB6070-0C3A-4A1F-953A-FF67A487E212" title="To create triggers, use either the SQL Developer graphical interface or the DDL statement CREATE TRIGGER.">Creating Triggers</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" title="You can create installation scripts in SQL Developer or a text editor.">Creating Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99936"></a><div class="props_rev_3"><a id="GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" name="GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A"></a><h4 id="TDDDG-GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" class="sect4"><span class="enumeration_section">10.3.5 </span>Creating Installation Scripts for the Sample Application
                  </h4>
                  <div>
                     <p>You can create installation scripts for the sample application.</p>
                     <div class="section">
                        <p>These scripts are for the application in <a href="developing-simple-database-application.html#GUID-98FFDC3A-FD76-4466-921C-F0E411829CD7" title="By following the instructions for developing this simple application, you learn the general procedure for developing Oracle Database applications.">Developing a Simple Oracle Database Application</a>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">schemas.sql</span>, which does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-D8812009-9F2A-4EB4-A973-036EDA23697D" title="Using the procedure in this section, create the schemas for the application.">Creating the Schemas for the Application</a>"</span> and <span class="q">"<a href="developing-simple-database-application.html#GUID-F8260678-DAC7-4EB1-86A9-1792FD709AF1" title="To grant privileges to schemas, use the SQL statement GRANT.">Granting Privileges to the Schemas</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="bold">objects.sql</span>, which does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-FCA887BA-6F7C-4863-8903-52B79C09F76D" title="This section shows how to create the tables, editioning views, triggers, and sequences for the application, how to load data into the tables, and how to grant privileges on these schema objects to the users that need them.">Creating the Schema Objects and Loading the Data</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="bold">employees.sql</span>, which does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-A814459E-682F-44DB-8421-CB960B924F2D" title="This section shows how to create the employees_pkg package, how its subprograms work, how to grant the execute privilege on the package to the users who need it, and how those users can invoke one of its subprograms.">Creating the employees_pkg Package</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="bold">admin.sql</span>, which does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-52BF06F0-37A5-49A9-A762-39FA7D5887BE" title="This section shows how to create the admin_pkg package, how its subprograms work, how to grant the execute privilege on the package to the user who needs it, and how that user can invoke one of its subprograms.">Creating the admin_pkg Package</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="bold">create_app.sql</span>, a master script that runs the preceding scripts, thereby deploying the sample application in the deployment environment
                              </p>
                           </li>
                        </ul>
                        <p>You can create the scripts in any order. To create schemas.sql and create_app.sql, you must use a text editor. To create the other scripts, you can use either a text editor or SQL Developer.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="deploying-database-application.html#GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379">Creating Installation Script schemas.sql</a><br></li>
                        <li class="ulchildlink"><a href="deploying-database-application.html#GUID-50F38156-AEE7-4B72-BCE7-F842A8993933">Creating Installation Script objects.sql</a><br></li>
                        <li class="ulchildlink"><a href="deploying-database-application.html#GUID-8EB28104-4EB5-492D-A78C-EDF33DD0F12B">Creating Installation Script employees.sql</a><br></li>
                        <li class="ulchildlink"><a href="deploying-database-application.html#GUID-35E7FFA1-4217-4467-894D-2121F1DF1E45">Creating Installation Script admin.sql</a><br></li>
                        <li class="ulchildlink"><a href="deploying-database-application.html#GUID-CAC28766-5EB6-4E1D-A995-D80CF0447040">Creating Master Installation Script create_app.sql</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-E40F78EB-0D1D-4FE4-9F01-615A917585C3" title="You can create installation scripts in SQL Developer or a text editor.">Creating Installation Scripts</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG118"></a><div class="props_rev_3"><a id="GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379" name="GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379"></a><h5 id="TDDDG-GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379" class="sect5"><span class="enumeration_section">10.3.5.1 </span>Creating Installation Script schemas.sql
                     </h5>
                     <div>
                        <div class="section">
                           <p>The installation script schemas.sql does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-D8812009-9F2A-4EB4-A973-036EDA23697D" title="Using the procedure in this section, create the schemas for the application.">Creating the Schemas for the Application</a>"</span> and <span class="q">"<a href="developing-simple-database-application.html#GUID-F8260678-DAC7-4EB1-86A9-1792FD709AF1" title="To grant privileges to schemas, use the SQL statement GRANT.">Granting Privileges to the Schemas</a>"</span>.
                           </p>
                           <p>To create schemas.sql, enter the following text in any text editor and save the file as schemas.sql.</p>
                           <div class="infoboxnote" id="GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379__GUID-BAC091AC-ECD6-4550-9917-9464D83F6E4E">
                              <p class="notep1">Caution:</p>
                              <p>Choose secure passwords. For guidelines for secure passwords, see <a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span class="italic">Oracle Database Security Guide</span></a>.
                              </p>
                           </div><pre class="oac_no_warn" dir="ltr">-----------------
-- Create schemas
-----------------
 
DROP USER app_data CASCADE;
 
CREATE USER app_data IDENTIFIED BY <span class="italic">password</span>
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON USERS
ENABLE EDITIONS;
 
DROP USER app_code CASCADE;
 
CREATE USER app_code IDENTIFIED BY <span class="italic">password</span>
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON USERS
ENABLE EDITIONS;
 
DROP USER app_admin CASCADE;
 
CREATE USER app_admin IDENTIFIED BY <span class="italic">password</span>
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON USERS
ENABLE EDITIONS;
 
DROP USER app_user CASCADE;
 
CREATE USER app_user IDENTIFIED BY <span class="italic">password</span>
ENABLE EDITIONS;
 
DROP USER app_admin_user CASCADE;
 
CREATE USER app_admin_user IDENTIFIED BY <span class="italic">password</span>
ENABLE EDITIONS;
 
------------------------------
-- Grant privileges to schemas
------------------------------
 
GRANT CREATE SESSION TO app_data;
GRANT CREATE TABLE, CREATE VIEW, CREATE TRIGGER, CREATE SEQUENCE TO app_data;
GRANT SELECT ON HR.DEPARTMENTS TO app_data;
GRANT SELECT ON HR.EMPLOYEES TO app_data;
GRANT SELECT ON HR.JOB_HISTORY TO app_data;
GRANT SELECT ON HR.JOBS TO app_data;
 
GRANT CREATE SESSION, CREATE PROCEDURE, CREATE SYNONYM TO app_code;
 
GRANT CREATE SESSION, CREATE PROCEDURE, CREATE SYNONYM TO app_admin;
 
GRANT CREATE SESSION, CREATE SYNONYM TO app_user;
 
GRANT CREATE SESSION, CREATE SYNONYM TO app_admin_user;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DA0274F9-E99E-4624-BE6B-CFD56F82B379__GUID-DB84D98C-C949-49B6-BED2-8CB89EC61BE0">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="developing-simple-database-application.html#GUID-DA4704AD-7557-4455-889E-3E1745B56D81">Schemas for the Application</a>"</span> for descriptions of the schemas for the sample application
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG318"></a><div class="props_rev_3"><a id="GUID-50F38156-AEE7-4B72-BCE7-F842A8993933" name="GUID-50F38156-AEE7-4B72-BCE7-F842A8993933"></a><h5 id="TDDDG-GUID-50F38156-AEE7-4B72-BCE7-F842A8993933" class="sect5"><span class="enumeration_section">10.3.5.2 </span>Creating Installation Script objects.sql
                     </h5>
                     <div>
                        <div class="section">
                           <p>The installation script objects.sql does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-FCA887BA-6F7C-4863-8903-52B79C09F76D" title="This section shows how to create the tables, editioning views, triggers, and sequences for the application, how to load data into the tables, and how to grant privileges on these schema objects to the users that need them.">Creating the Schema Objects and Loading the Data</a>"</span>.
                           </p>
                           <p>You can create objects.sql using either a text editor or SQL Developer.</p>
                           <p>To create objects.sql in any text editor, enter the following text and save the file as objects.sql. For <span class="synph">password</span>, use the password that schema.sql specifies when it creates the user app_data.
                           </p>
                           <div class="infoboxnote" id="GUID-50F38156-AEE7-4B72-BCE7-F842A8993933__GUID-A5E18D3C-E987-4F51-BD16-96C56EFEF470">
                              <p class="notep1">Note:</p>
                              <p>The <span class="keyword">INSERT</span> statements that load the data work only if the deployment environment has a standard HR schema. If it does not, then either use SQL Developer to create a script that loads the new tables (in the deployment environment) with data from the source tables (in the development environment) or modify the <span class="keyword">INSERT</span> statements in the following script.
                              </p>
                           </div><pre class="oac_no_warn" dir="ltr">------------------------
-- Create schema objects
------------------------
 
CONNECT app_data/<span class="italic">password</span>
 
CREATE TABLE jobs#
( job_id      VARCHAR2(10)
              CONSTRAINT jobs_pk PRIMARY KEY,
  job_title   VARCHAR2(35)
              CONSTRAINT jobs_job_title_not_null NOT NULL,
  min_salary  NUMBER(6)
              CONSTRAINT jobs_min_salary_not_null NOT NULL,
  max_salary  NUMBER(6)
              CONSTRAINT jobs_max_salary_not_null NOT NULL
)
/
 
CREATE TABLE departments#
( department_id    NUMBER(4)
                   CONSTRAINT departments_pk PRIMARY KEY,
  department_name  VARCHAR2(30)
                   CONSTRAINT dept_department_name_not_null NOT NULL
                   CONSTRAINT dept_department_name_unique UNIQUE,
  manager_id       NUMBER(6) 
)
/
 
CREATE TABLE employees#
( employee_id     NUMBER(6)
                  CONSTRAINT employees_pk PRIMARY KEY,
  first_name      VARCHAR2(20)
                  CONSTRAINT emp_first_name_not_null NOT NULL,
  last_name       VARCHAR2(25)
                  CONSTRAINT emp_last_name_not_null NOT NULL,
  email_addr      VARCHAR2(25) 
                  CONSTRAINT emp_email_addr_not_null NOT NULL,
  hire_date       DATE
                  DEFAULT TRUNC(SYSDATE)
                  CONSTRAINT emp_hire_date_not_null NOT NULL
                  CONSTRAINT emp_hire_date_check
                    CHECK(TRUNC(hire_date) = hire_date),
  country_code    VARCHAR2(5)
                  CONSTRAINT emp_country_code_not_null NOT NULL,
  phone_number    VARCHAR2(20)
                  CONSTRAINT emp_phone_number_not_null NOT NULL,
  job_id          CONSTRAINT emp_job_id_not_null NOT NULL
                  CONSTRAINT emp_to_jobs_fk REFERENCES jobs#,
  job_start_date  DATE
                  CONSTRAINT emp_job_start_date_not_null NOT NULL,
                  CONSTRAINT emp_job_start_date_check
                    CHECK(TRUNC(JOB_START_DATE) = job_start_date),
  salary          NUMBER(6)
                  CONSTRAINT emp_salary_not_null NOT NULL,
  manager_id      CONSTRAINT emp_mgrid_to_emp_empid_fk REFERENCES employees#,
  department_id   CONSTRAINT emp_to_dept_fk REFERENCES departments#
)
/
 
CREATE TABLE job_history#
( employee_id  CONSTRAINT job_hist_to_emp_fk REFERENCES employees#,
  job_id       CONSTRAINT job_hist_to_jobs_fk REFERENCES jobs#,
  start_date   DATE
               CONSTRAINT job_hist_start_date_not_null NOT NULL,
  end_date     DATE
               CONSTRAINT job_hist_end_date_not_null NOT NULL,
  department_id
             CONSTRAINT job_hist_to_dept_fk REFERENCES departments#
             CONSTRAINT job_hist_dept_id_not_null NOT NULL,
             CONSTRAINT job_history_pk PRIMARY KEY(employee_id,start_date),
             CONSTRAINT job_history_date_check CHECK( start_date &lt; end_date )
)
/
 
CREATE EDITIONING VIEW jobs AS SELECT * FROM jobs#
/
CREATE EDITIONING VIEW departments AS SELECT * FROM departments#
/
CREATE EDITIONING VIEW employees AS SELECT * FROM employees#
/
CREATE EDITIONING VIEW job_history AS SELECT * FROM job_history#
/
 
CREATE OR REPLACE TRIGGER employees_aiufer
AFTER INSERT OR UPDATE OF salary, job_id ON employees FOR EACH ROW
DECLARE
  l_cnt NUMBER;
BEGIN
  LOCK TABLE jobs IN SHARE MODE;  -- Ensure that jobs does not change
                                  -- during the following query.
  SELECT COUNT(*) INTO l_cnt
  FROM jobs
  WHERE job_id = :NEW.job_id
  AND :NEW.salary BETWEEN min_salary AND max_salary;
 
  IF (l_cnt&lt;&gt;1) THEN
    RAISE_APPLICATION_ERROR( -20002,
      CASE
        WHEN :new.job_id = :old.job_id
        THEN 'Salary modification invalid'
        ELSE 'Job reassignment puts salary out of range'
      END );
  END IF;
END;
/
 
CREATE OR REPLACE TRIGGER jobs_aufer
AFTER UPDATE OF min_salary, max_salary ON jobs FOR EACH ROW
WHEN (NEW.min_salary &gt; OLD.min_salary OR NEW.max_salary &lt; OLD.max_salary)
DECLARE
  l_cnt NUMBER;
BEGIN
  LOCK TABLE employees IN SHARE MODE;
 
  SELECT COUNT(*) INTO l_cnt
  FROM employees
  WHERE job_id = :NEW.job_id
  AND salary NOT BETWEEN :NEW.min_salary and :NEW.max_salary;
 
  IF (l_cnt&gt;0) THEN
    RAISE_APPLICATION_ERROR( -20001,
      'Salary update would violate ' || l_cnt || ' existing employee records' );
  END IF;
END;
/
 
CREATE SEQUENCE employees_sequence START WITH 210;
CREATE SEQUENCE departments_sequence START WITH 275;
 
------------
-- Load data
------------
 
<span class="bold">INSERT</span> INTO jobs (job_id, job_title, min_salary, max_salary)
SELECT job_id, job_title, min_salary, max_salary
  <span class="bold">FROM HR.JOBS</span>
/
 
<span class="bold">INSERT</span> INTO departments (department_id, department_name, manager_id)
SELECT department_id, department_name, manager_id
  <span class="bold">FROM HR.DEPARTMENTS</span>
/
 
<span class="bold">INSERT</span> INTO employees (employee_id, first_name, last_name, email_addr,
  hire_date, country_code, phone_number, job_id, job_start_date, salary,
  manager_id, department_id)
SELECT employee_id, first_name, last_name, email, hire_date,
  CASE WHEN phone_number LIKE '011.%'
    THEN '+' || SUBSTR( phone_number, INSTR( phone_number, '.' )+1,
      INSTR( phone_number, '.', 1, 2 ) -  INSTR( phone_number, '.' ) - 1 )
    ELSE '+1'
  END country_code,
  CASE WHEN phone_number LIKE '011.%'
    THEN SUBSTR( phone_number, INSTR(phone_number, '.', 1, 2 )+1 )
    ELSE phone_number
  END phone_number,
  job_id,
  NVL( (SELECT MAX(end_date+1)
        FROM HR.JOB_HISTORY jh
        WHERE jh.employee_id = employees.employee_id), hire_date),
  salary, manager_id, department_id  
  <span class="bold">FROM HR.EMPLOYEES</span>
/
 
<span class="bold">INSERT</span> INTO job_history (employee_id, job_id, start_date, end_date,
  department_id)
SELECT employee_id, job_id, start_date, end_date, department_id
  <span class="bold">FROM HR.JOB_HISTORY</span>
/
 
COMMIT;
 
-----------------------------
-- Add foreign key constraint
-----------------------------
 
ALTER TABLE departments#
ADD CONSTRAINT dept_to_emp_fk
FOREIGN KEY(manager_id) REFERENCES employees#;
 
----------------------------------------------
-- Grant privileges on schema objects to users
----------------------------------------------
 
GRANT SELECT, INSERT, UPDATE, DELETE ON employees TO app_code;
GRANT SELECT ON departments TO app_code;
GRANT SELECT ON jobs TO app_code;
GRANT SELECT, INSERT on job_history TO app_code;
GRANT SELECT ON employees_sequence TO app_code;
 
GRANT SELECT, INSERT, UPDATE, DELETE ON jobs TO app_admin;
GRANT SELECT, INSERT, UPDATE, DELETE ON departments TO app_admin;
GRANT SELECT ON employees_sequence TO app_admin;
GRANT SELECT ON departments_sequence TO app_admin;
 
GRANT SELECT ON jobs TO app_admin_user;
GRANT SELECT ON departments TO app_admin_user;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-50F38156-AEE7-4B72-BCE7-F842A8993933__GUID-6158B454-7075-4A81-89A3-47D2809B2A16">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="developing-simple-database-application.html#GUID-68114096-D18C-4E48-BD90-6E07F35CBEF9">Schema Objects of the Application</a>"</span> for descriptions of the schema objects of the sample application
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1" title="The SQL Developer Cart is a convenient tool for deploying Oracle Database objects from one or more database connections to a destination connection.">Creating Installation Scripts with the Cart</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B" title="To create an installation script in SQL Developer with the Database Export wizard, you specify the name of the installation script, the objects and data to export, and the desired options, and the wizard generates an installation script.">Creating an Installation Script with the Database Export Wizard</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG319"></a><div class="props_rev_3"><a id="GUID-8EB28104-4EB5-492D-A78C-EDF33DD0F12B" name="GUID-8EB28104-4EB5-492D-A78C-EDF33DD0F12B"></a><h5 id="TDDDG-GUID-8EB28104-4EB5-492D-A78C-EDF33DD0F12B" class="sect5"><span class="enumeration_section">10.3.5.3 </span>Creating Installation Script employees.sql
                     </h5>
                     <div>
                        <div class="section">
                           <p>The installation script employees.sql does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-A814459E-682F-44DB-8421-CB960B924F2D" title="This section shows how to create the employees_pkg package, how its subprograms work, how to grant the execute privilege on the package to the users who need it, and how those users can invoke one of its subprograms.">Creating the employees_pkg Package</a>"</span>.
                           </p>
                           <p>You can create employees.sql using either a text editor or SQL Developer.</p>
                           <p>To create employees.sql in any text editor, enter the following text and save the file as employees.sql. For <span class="synph">password</span>, use the password that schema.sql specifies when it creates the user app_code.
                           </p><pre class="oac_no_warn" dir="ltr">-----------------------
-- Create employees_pkg
-----------------------
 
CONNECT app_code/<span class="italic">password</span>
 
CREATE SYNONYM employees FOR app_data.employees;
CREATE SYNONYM departments FOR app_data.departments;
CREATE SYNONYM jobs FOR app_data.jobs;
CREATE SYNONYM job_history FOR app_data.job_history;
 
CREATE OR REPLACE PACKAGE employees_pkg
AS
  PROCEDURE get_employees_in_dept
    ( p_deptno     IN     employees.department_id%TYPE,
      p_result_set IN OUT SYS_REFCURSOR );
 
  PROCEDURE get_job_history
    ( p_employee_id  IN     employees.department_id%TYPE,
      p_result_set   IN OUT SYS_REFCURSOR );
 
  PROCEDURE show_employee
    ( p_employee_id  IN     employees.employee_id%TYPE,
      p_result_set   IN OUT SYS_REFCURSOR );
 
  PROCEDURE update_salary
    ( p_employee_id IN employees.employee_id%TYPE,
      p_new_salary  IN employees.salary%TYPE );
 
  PROCEDURE change_job
    ( p_employee_id IN employees.employee_id%TYPE,
      p_new_job     IN employees.job_id%TYPE,
      p_new_salary  IN employees.salary%TYPE := NULL,
      p_new_dept    IN employees.department_id%TYPE := NULL );
END employees_pkg;
/
 
CREATE OR REPLACE PACKAGE BODY employees_pkg
AS
  PROCEDURE get_employees_in_dept
    ( p_deptno     IN     employees.department_id%TYPE,
      p_result_set IN OUT SYS_REFCURSOR )
  IS
     l_cursor SYS_REFCURSOR;
  BEGIN
    OPEN p_result_set FOR
      SELECT e.employee_id,
        e.first_name || ' ' || e.last_name name,
        TO_CHAR( e.hire_date, 'Dy Mon ddth, yyyy' ) hire_date,
        j.job_title,
        m.first_name || ' ' || m.last_name manager,
        d.department_name
      FROM employees e INNER JOIN jobs j ON (e.job_id = j.job_id)
        LEFT OUTER JOIN employees m ON (e.manager_id = m.employee_id)
        INNER JOIN departments d ON (e.department_id = d.department_id)
      WHERE e.department_id = p_deptno ;
  END get_employees_in_dept;
 
  PROCEDURE get_job_history
    ( p_employee_id  IN     employees.department_id%TYPE,
      p_result_set   IN OUT SYS_REFCURSOR )
  IS 
  BEGIN
    OPEN p_result_set FOR
      SELECT e.First_name || ' ' || e.last_name name, j.job_title,
        e.job_start_date start_date,
        TO_DATE(NULL) end_date
      FROM employees e INNER JOIN jobs j ON (e.job_id = j.job_id)
      WHERE e.employee_id = p_employee_id
      UNION ALL
      SELECT e.First_name || ' ' || e.last_name name,
        j.job_title,
        jh.start_date,
        jh.end_date
      FROM employees e INNER JOIN job_history jh
        ON (e.employee_id = jh.employee_id)
        INNER JOIN jobs j ON (jh.job_id = j.job_id)
      WHERE e.employee_id = p_employee_id
      ORDER BY start_date DESC;
  END get_job_history;
 
  PROCEDURE show_employee
    ( p_employee_id  IN     employees.employee_id%TYPE,
      p_result_set   IN OUT sys_refcursor )
  IS 
  BEGIN
    OPEN p_result_set FOR
      SELECT *
      FROM (SELECT TO_CHAR(e.employee_id) employee_id,
              e.first_name || ' ' || e.last_name name,
              e.email_addr,
              TO_CHAR(e.hire_date,'dd-mon-yyyy') hire_date,
              e.country_code,
              e.phone_number,
              j.job_title,
              TO_CHAR(e.job_start_date,'dd-mon-yyyy') job_start_date,
              to_char(e.salary) salary,
              m.first_name || ' ' || m.last_name manager,
              d.department_name
            FROM employees e INNER JOIN jobs j on (e.job_id = j.job_id)
              RIGHT OUTER JOIN employees m ON (m.employee_id = e.manager_id)
              INNER JOIN departments d ON (e.department_id = d.department_id)
            WHERE e.employee_id = p_employee_id)
      UNPIVOT (VALUE FOR ATTRIBUTE IN (employee_id, name, email_addr, hire_date,
        country_code, phone_number, job_title, job_start_date, salary, manager,
        department_name) );
  END show_employee;
 
  PROCEDURE update_salary
    ( p_employee_id IN employees.employee_id%type,
      p_new_salary  IN employees.salary%type )
  IS 
  BEGIN
    UPDATE employees
    SET salary = p_new_salary
    WHERE employee_id = p_employee_id;
  END update_salary;
 
  PROCEDURE change_job
    ( p_employee_id IN employees.employee_id%TYPE,
      p_new_job     IN employees.job_id%TYPE,
      p_new_salary  IN employees.salary%TYPE := NULL,
      p_new_dept    IN employees.department_id%TYPE := NULL )
  IS
  BEGIN
    INSERT INTO job_history (employee_id, start_date, end_date, job_id,
      department_id)
    SELECT employee_id, job_start_date, TRUNC(SYSDATE), job_id, department_id
      FROM employees
      WHERE employee_id = p_employee_id;
 
    UPDATE employees
    SET job_id = p_new_job,
      department_id = NVL( p_new_dept, department_id ),
      salary = NVL( p_new_salary, salary ),
      job_start_date = TRUNC(SYSDATE)
    WHERE employee_id = p_employee_id;
  END change_job;
END employees_pkg;
/
 
---------------------------------------------
-- Grant privileges on employees_pkg to users
---------------------------------------------
 
GRANT EXECUTE ON employees_pkg TO app_user;
GRANT EXECUTE ON employees_pkg TO app_admin_user;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8EB28104-4EB5-492D-A78C-EDF33DD0F12B__GUID-E37D82F7-E775-43C0-9232-A9B6420EAA65">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1" title="The SQL Developer Cart is a convenient tool for deploying Oracle Database objects from one or more database connections to a destination connection.">Creating Installation Scripts with the Cart</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B" title="To create an installation script in SQL Developer with the Database Export wizard, you specify the name of the installation script, the objects and data to export, and the desired options, and the wizard generates an installation script.">Creating an Installation Script with the Database Export Wizard</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG320"></a><div class="props_rev_3"><a id="GUID-35E7FFA1-4217-4467-894D-2121F1DF1E45" name="GUID-35E7FFA1-4217-4467-894D-2121F1DF1E45"></a><h5 id="TDDDG-GUID-35E7FFA1-4217-4467-894D-2121F1DF1E45" class="sect5"><span class="enumeration_section">10.3.5.4 </span>Creating Installation Script admin.sql
                     </h5>
                     <div>
                        <div class="section">
                           <p>The installation script admin.sql does in the deployment environment what you did in the development environment in <span class="q">"<a href="developing-simple-database-application.html#GUID-52BF06F0-37A5-49A9-A762-39FA7D5887BE" title="This section shows how to create the admin_pkg package, how its subprograms work, how to grant the execute privilege on the package to the user who needs it, and how that user can invoke one of its subprograms.">Creating the admin_pkg Package</a>"</span>.
                           </p>
                           <p>You can create admin.sql using either a text editor or SQL Developer.</p>
                           <p>To create admin.sql in any text editor, enter the following text and save the file as admin.sql. For <span class="synph">password</span>, use the password that schema.sql specifies when it creates the user app_admin.
                           </p><pre class="oac_no_warn" dir="ltr">-------------------
-- Create admin_pkg
-------------------
 
CONNECT app_admin/<span class="italic">password</span>
 
CREATE SYNONYM departments FOR app_data.departments;
CREATE SYNONYM jobs FOR app_data.jobs;
CREATE SYNONYM departments_sequence FOR app_data.departments_sequence;
 
CREATE OR REPLACE PACKAGE admin_pkg
AS
  PROCEDURE update_job
    ( p_job_id      IN jobs.job_id%TYPE,
      p_job_title   IN jobs.job_title%TYPE := NULL,
      p_min_salary  IN jobs.min_salary%TYPE := NULL,
      p_max_salary  IN jobs.max_salary%TYPE := NULL );
 
  PROCEDURE add_job
    ( p_job_id      IN jobs.job_id%TYPE,
      p_job_title   IN jobs.job_title%TYPE,
      p_min_salary  IN jobs.min_salary%TYPE,
      p_max_salary  IN jobs.max_salary%TYPE );
 
  PROCEDURE update_department
    ( p_department_id     IN departments.department_id%TYPE,
      p_department_name   IN departments.department_name%TYPE := NULL,
      p_manager_id        IN departments.manager_id%TYPE := NULL,
      p_update_manager_id IN BOOLEAN := FALSE );
 
  FUNCTION add_department
    ( p_department_name   IN departments.department_name%TYPE,
      p_manager_id        IN departments.manager_id%TYPE )
    RETURN departments.department_id%TYPE;
 
END admin_pkg;
/
 
CREATE OR REPLACE PACKAGE BODY admin_pkg
AS
  PROCEDURE update_job
    ( p_job_id      IN jobs.job_id%TYPE,
      p_job_title   IN jobs.job_title%TYPE := NULL,
      p_min_salary  IN jobs.min_salary%TYPE := NULL,
      p_max_salary  IN jobs.max_salary%TYPE := NULL )
  IS
  BEGIN
    UPDATE jobs
    SET job_title  = NVL( p_job_title, job_title ),
        min_salary = NVL( p_min_salary, min_salary ),
        max_salary = NVL( p_max_salary, max_salary )
    WHERE job_id = p_job_id;
  END update_job;
 
  PROCEDURE add_job
    ( p_job_id      IN jobs.job_id%TYPE,
      p_job_title   IN jobs.job_title%TYPE,
      p_min_salary  IN jobs.min_salary%TYPE,
      p_max_salary  IN jobs.max_salary%TYPE )
  IS
  BEGIN
    INSERT INTO jobs ( job_id, job_title, min_salary, max_salary )
    VALUES ( p_job_id, p_job_title, p_min_salary, p_max_salary );
  END add_job;
 
  PROCEDURE update_department
    ( p_department_id     IN departments.department_id%TYPE,
      p_department_name   IN departments.department_name%TYPE := NULL,
      p_manager_id        IN departments.manager_id%TYPE := NULL,
      p_update_manager_id IN BOOLEAN := FALSE )
  IS
  BEGIN
    IF ( p_update_manager_id ) THEN
      UPDATE departments
      SET department_name = NVL( p_department_name, department_name ),
          manager_id = p_manager_id
      WHERE department_id = p_department_id;
    ELSE
      UPDATE departments
      SET department_name = NVL( p_department_name, department_name )
      WHERE department_id = p_department_id;
    END IF;
  END update_department;
 
  FUNCTION add_department
    ( p_department_name   IN departments.department_name%TYPE,
      p_manager_id        IN departments.manager_id%TYPE )
    RETURN departments.department_id%TYPE
  IS
    l_department_id departments.department_id%TYPE;
  BEGIN
    INSERT INTO departments ( department_id, department_name, manager_id )
      VALUES ( departments_sequence.NEXTVAL, p_department_name, p_manager_id )
      RETURNING department_id INTO l_department_id;
    RETURN l_department_id;
  END add_department;
 
END admin_pkg;
/
 
----------------------------------------
-- Grant privileges on admin_pkg to user
----------------------------------------
 
GRANT EXECUTE ON admin_pkg TO app_admin_user;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-35E7FFA1-4217-4467-894D-2121F1DF1E45__GUID-BDCCCE6E-3756-42DF-9A6F-0EDFEE43DB82">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-2BFEE40F-139F-4C72-A135-DA19E44432E1" title="The SQL Developer Cart is a convenient tool for deploying Oracle Database objects from one or more database connections to a destination connection.">Creating Installation Scripts with the Cart</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="deploying-database-application.html#GUID-28560E14-D48C-4D3F-955A-608054AB2B3B" title="To create an installation script in SQL Developer with the Database Export wizard, you specify the name of the installation script, the objects and data to export, and the desired options, and the wizard generates an installation script.">Creating an Installation Script with the Database Export Wizard</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG321"></a><div class="props_rev_3"><a id="GUID-CAC28766-5EB6-4E1D-A995-D80CF0447040" name="GUID-CAC28766-5EB6-4E1D-A995-D80CF0447040"></a><h5 id="TDDDG-GUID-CAC28766-5EB6-4E1D-A995-D80CF0447040" class="sect5"><span class="enumeration_section">10.3.5.5 </span>Creating Master Installation Script create_app.sql
                     </h5>
                     <div>
                        <div class="section">
                           <p>The master installation script create_app.sql runs the other four installation scripts for the sample application in the correct order, thereby deploying the sample application in the deployment environment.</p>
                           <p>To create create_app.sql, enter the following text in any text editor and save the file as create_app.sql:</p><pre class="oac_no_warn" dir="ltr">@schemas.sql
@objects.sql
@employees.sql
@admin.sql</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TDDDG326"></a><a id="TDDDG120"></a><a id="TDDDG76000"></a><div class="props_rev_3"><a id="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA" name="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA"></a><h3 id="TDDDG-GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA" class="sect3"><span class="enumeration_section">10.4 </span>Deploying the Sample Application
               </h3>
               <div>
                  <p>You can deploy the sample application using installation scripts.</p>
                  <div class="section">
                     <p>Use the installation scripts that you created in <span class="q">"<a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a>"</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA__GUID-7F192469-57F2-4CC9-BEC1-C7C2E9920779">
                        <p class="notep1">Note:</p>
                        <p>For the following procedures, you need the name and password of a user who has the <span class="keyword">CREATE USER</span> and <span class="keyword">DROP USER</span> system privileges.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA__GUID-04E3CD4E-C3E3-4715-BD3B-EDA53B6B48BF">To deploy the sample application using SQL*Plus:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>Copy the installation scripts that you created in <span class="q">"<a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a>"</span> to the deployment environment.
                           </p>
                        </li>
                        <li>
                           <p>In the deployment environment, connect to Oracle Database as a user with the <span class="keyword">CREATE USER</span> and <span class="keyword">DROP USER</span> system privileges.
                           </p>
                        </li>
                        <li>
                           <p>At the <samp class="sysout">SQL&gt;</samp> prompt, run the master installation script:
                           </p><pre class="oac_no_warn" dir="ltr">@create_app.sql
</pre><p>The master installation script runs the other four installation scripts for the sample application in the correct order, thereby deploying the sample application in the deployment environment.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA__GUID-9114DA1B-BD48-40A0-990B-473562312422">To deploy the sample application using SQL Developer:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>If necessary, create a connection to the deployment environment.</span><div>
                           <p>For Connection Name, enter a name that is <span class="italic">not</span> the name of the connection to the development environment.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Copy the installation scripts that you created in <span class="q">"<a href="deploying-database-application.html#GUID-288D504D-8AD7-4750-87A9-FAF28A89AF3A" title="You can create installation scripts for the sample application.">Creating Installation Scripts for the Sample Application</a>"</span> to the deployment environment.</span></li>
                     <li class="stepexpand"><span>Connect to Oracle Database as a user with the <span class="keyword">CREATE USER</span> and <span class="keyword">DROP USER</span> system privileges in the deployment environment.</span><div>
                           <p>A new pane appears. On its tab is the name of the connection to the deployment environment. The pane has two subpanes, <span class="wintitle">Worksheet</span> and <span class="wintitle">Query Builder</span>.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>In the <span class="wintitle">Worksheet</span> pane, type the command for running the master installation script:</span><div><pre class="oac_no_warn" dir="ltr">@create_app.sql
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Click the icon <span class="uicontrol bold">Run Script</span>.</span><div>
                           <p>The master installation script runs the other four installation scripts for the sample application in the correct order, thereby deploying the sample application in the deployment environment. The output appears in the <span class="wintitle">Script Output</span> pane, under the <span class="wintitle">Worksheet</span> pane.
                           </p>
                           <p>In the <span class="wintitle">Connections</span> frame, if you expand the connection to the deployment environment, and then expand the type of each object that the sample application uses, you see the objects of the sample application.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-25097EF6-B6FB-408E-BA38-2681C99D10AA__GUID-4515F02E-FB4E-43A3-BFB6-F8A5142C8F47">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqpug/using-scripts-in-SQL-Plus.html#SQPUG015" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a> for more information about using scripts in SQL*Plus
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10720" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for more information about running scripts in SQL Developer
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG77000"></a><div class="props_rev_3"><a id="GUID-F2BDB974-026B-4746-A68E-C83239A785A1" name="GUID-F2BDB974-026B-4746-A68E-C83239A785A1"></a><h3 id="TDDDG-GUID-F2BDB974-026B-4746-A68E-C83239A785A1" class="sect3"><span class="enumeration_section">10.5 </span>Checking the Validity of an Installation
               </h3>
               <div>
                  <p>After installing your application in a deployment environment, you can check its validity using SQL Developer.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In the <span class="wintitle">Connections</span> frame:
                           </p>
                           <ol>
                              <li>
                                 <p>Expand the connection to the deployment environment.</p>
                              </li>
                              <li>
                                 <p>Examine the definitions of the new objects.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>In the <span class="wintitle">Reports</span> pane:
                           </p>
                           <ol>
                              <li>
                                 <p>Expand <span class="uicontrol bold">Data Dictionary Reports</span>.
                                 </p>
                                 <p>A list of data dictionary reports appears.</p>
                              </li>
                              <li>
                                 <p>Expand <span class="uicontrol bold">All Objects</span>.
                                 </p>
                                 <p>A list of objects reports appears.</p>
                              </li>
                              <li>
                                 <p>Select <span class="uicontrol bold">All Objects</span>.
                                 </p>
                                 <p>The <span class="wintitle">Select Connection</span> window appears.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="wintitle">Connection</span> field, select from the menu the connection to the deployment environment.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="uicontrol bold">OK</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="wintitle">Enter Bind Values</span> window, select either <code>Owner</code> or <code>Object Name</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="uicontrol bold">Apply</span>.
                                 </p>
                                 <p>The message <samp class="sysout">Displaying Results</samp>shows, followed by the results.
                                 </p>
                                 <p>For each object, this report lists the Owner, Object Type, Object Name, Status (Valid or Invalid), Date Created, and Last DDL. Last DDL is the date of the last DDL operation that affected the object.</p>
                              </li>
                              <li>
                                 <p>In the <span class="wintitle">Reports</span> pane, select <span class="uicontrol bold">Invalid Objects</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="wintitle">Enter Bind Values</span> window, click <span class="uicontrol bold">Apply</span>.
                                 </p>
                                 <p>For each object whose Status is Invalid, this report lists the Owner, Object Type, and Object Name.</p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F2BDB974-026B-4746-A68E-C83239A785A1__GUID-B0CD35AA-6108-403E-9038-BC7E49F07B83">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG11000" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for more information about SQL Developer reports
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG78000"></a><div class="props_rev_3"><a id="GUID-2343DECE-C394-4668-849C-434BE385D92B" name="GUID-2343DECE-C394-4668-849C-434BE385D92B"></a><h3 id="TDDDG-GUID-2343DECE-C394-4668-849C-434BE385D92B" class="sect3"><span class="enumeration_section">10.6 </span>Archiving the Installation Scripts
               </h3>
               <div>
                  <p>After you verify that the installation of your application is valid, Oracle recommends that you archive your installation scripts in a source code control system.</p>
                  <div class="section">
                     <p>Before doing so, add comments to each file, documenting its creation date and purpose. If you ever must deploy the same application to another environment, you can use these archived files.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2343DECE-C394-4668-849C-434BE385D92B__GUID-1F0BA2DB-DBA4-4F4F-8525-25C328A9948E">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about Oracle Data Pump, which enables very high-speed movement of data and metadata from one database to another
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="deploying-database-application.html#GUID-3EC7DEF5-3FF2-47C7-A18F-E11DAC206BE5" title="After you develop your application, you can install it on other databases, called deployment environments, where other users can run it.">Deploying an Oracle Database Application</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>