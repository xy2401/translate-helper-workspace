<html dir="ltr">
<head>
    <meta name="copyright" content="Copyright (c) 2010 Shane Clarke and others. All rights reserved. This program and the accompanying materials are made available under the terms of the . Contributors: Shane Clarke - initial API and implementation"></meta>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
	<title>在命令行中使用Ant任务</title>
	<link href="../book.css" rel="stylesheet" type="text/css" charset="ISO-8859-1"></link>
	<script type="text/javascript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script>
</head>

<body lang="EN-US" dir="ltr">
<h2>在命令行中使用Ant任务</h2>
<h3>先决条件：</h3>
<ol>
    <li>在通过选择从命令行运行任务之前，将正在运行的方案的CXF Ant属性文件导入Eclipse工作空间<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开ant文件向导"> <strong>文件&gt;新建&gt;其他...&gt; Web服务&gt; Ant</strong></a>顶级菜单中的<a class="command-link" href="javascript:void(0);"><strong>文件</strong></a> 。
    </li>
    <li>编辑CXF Ant属性文件并设置<samp class="codeph">scenarioType</samp>和<samp class="codeph">initialSelection</samp>参数：<ul>
            <li><samp class="codeph">cxf_tdjava.properties</samp> 。确保scenarioType参数设置为service，initialSelection指向WSDL文件的位置。有关设置这些参数的其他信息，请参阅<a href="../tasks/cxf_ant_td_prop_ref.html">自上而下的CXF Web服务Ant任务属性文件参考</a> 。</li>
            <li><samp class="codeph">cxf_bujava.properties</samp> 。确保scenarioType参数设置为service，initialSelection指向Java bean的位置。有关设置这些参数的其他信息，请参阅<a href="../tasks/cxf_ant_bu_prop_ref.html">自下而上的CXF Web服务Ant任务属性文件参考</a> 。</li>
            <li><samp class="codeph">cxf_client.properties</samp> 。确保scenarioType参数设置为client，initialSelection指向WSDL文件的位置。有关设置这些参数的其他信息，请参阅<a href="../tasks/cxf_ant_client_prop_ref.html">CXF Web服务客户端Ant任务属性文件参考</a> 。</li>
        </ul>
    </li>
</ol>要从命令行调用Ant任务，请完成以下步骤：<ol>
    <li>导航到WTP安装的plugins目录并解压缩<b>org.eclipse.wst.command.env</b>插件的内容。</li>
    <li>在提取的插件中转到<b>ant</b>文件夹。那里应该存在以下文件：<ul>
            <li><b>wsant.bat</b></li>
            <li><b>wsgen.xml</b></li>
        </ul>
    </li>
    <li>将先决条件中导入的所需CXF Ant属性文件复制到<b>ant</b>文件夹中。</li>
    <li>编辑<b>wsgen.xml</b>文件以指向CXF Ant属性文件。</li>
    <li>编辑<b>wsant.bat</b>文件并设置以下本地环境变量以反映您的系统配置：<ul>
            <li><samp class="codeph">JAVAEXE</samp>的JDK位置为1.5或更高。</li>
            <li><samp class="codeph">INSTALL_DIRECTORY</samp> Eclipse安装目录。</li>
            <li><samp class="codeph">LAUNCHER_JAR</samp> Eclipse Equinox Launcher jar的位置。</li>
            <li><samp class="codeph">WORKSPACE</samp>包含正在使用的Dynamic Web项目的工作空间的位置。</li>
        </ul>
    </li>
    <li>要运行Ant任务，请打开命令行，导航到<b>ant</b>文件夹并键入<i>wsant</i></li>
    <li>生成完成后，检查<b>wsgen.txt</b>文件以获取输出。</li>
    <li>导航到文件系统中的Dynamic Web项目或刷新Eclipse中的项目以查找生成的工件。</li>
</ol>

</body>
</html>