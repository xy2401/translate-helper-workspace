<html  xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Trace Compass用户指南 - 计数器分析</title>
		<link type="text/css" rel="stylesheet" href="book.css">
	</head>
	<body >
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">计数器分析</th>
			</tr>
			<tr>
				<td align="left" style="width:20%">
					<a href="Latency-Analyses.html" title="延迟分析">
						<img alt="以前" border="0" src="images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="Java-Logging.html" title="Java日志记录">
						<img alt="下一个" border="0" src="images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">延迟分析</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">Java日志记录</td>
			</tr>
		</table><hr class="navigation-separator">
		<h1 id="Counters_Analysis">计数器分析</h1>
		<p><b>计数器视图</b>允许用户在跟踪的生命周期内检查硬件性能计数器的值。计数器存储有关硬件相关活动（如页面错误）的数据。Counters View目前可用于LTTng UST和内核跟踪。Counters View支持实验。
		</p>
		<h2 id="Creating_an_LTTng_trace_with_performance_counters">使用性能计数器创建LTTng跟踪</h2>
		<p>对于“计数器视图”显示任何数据，跟踪需要收集与性能计数器相关的信息。有两种方法可以为此类日志记录配置跟踪。在命令行上，使用<code>lttng-add-context</code>命令将新的上下文字段添加到LTTng通道（有关更多信息，请参阅<a href="http://lttng.org/docs/">LTTng文档</a> ）。在LTTng Tracer控件上，使用“添加上下文...”窗口添加新的上下文字段（请参阅<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_Channels_and_Events_of_a_Domain">将上下文添加到域的通道和事件</a> ）。
		</p>
		<h2 id="Counters_View">计数器视图</h2>
		<p>要打开视图，请双击<i>Project Explorer</i>的<b>Counters</b>树元素，或在<i>快速访问</i>搜索栏中键入“Counters”。
		</p>
		<p>
			<img border="0" src="images/counters/OpenCountersView.png">
		</p>
		<p>“计数器视图”在左侧包含已过滤的复选框树，在右侧包含一个图表。复选框树还包含一个<b>图例</b>列，其目的是显示图表中条目的样式。因此，在检查树元素时，其数据将显示在图表中，其样式将显示在元素旁边。无论条目是否显示在图表上，条目都将保留相同的样式。
		</p>
		<p>
			<img border="0" src="images/counters/CountersView.png">
		</p>
		<p>计数器数据也可以在整个时间内累积可视化，这要归功于<img border="0" src="images/counters/sigma.gif">工具栏按钮。默认情况下，视图以差异方式显示，每个数据点的值是该点的时间戳减去前一个点的时间戳的计数器值。
		</p>
		<p>
			<img border="0" src="images/counters/CumulativeCountersView.png">
		</p>
		<p>视图的复选框树具有增强的功能。首先，复选框有三种视觉状态。它们是根据树的可见元素确定的。</p>
		<p>
			<img border="0" src="images/counters/UncheckedCheckbox.png"> - 未选中该条目。
			<br>

			<img border="0" src="images/counters/GrayedCheckbox.png"> - 检查条目，但不检查其所有子项。
			<br>

			<img border="0" src="images/counters/CheckedCheckbox.png"> - 检查条目及其所有子项。
		</p>
		<p>其次，复选框树有一个搜索栏，允许用户在树元素上应用过滤器。需要使用“/”符号分隔多个过滤器。当树元素的子序列与用户输入的模式匹配时，检测到匹配。检查过滤树的元素时，检查状态仅传播到可见元素。以下是应用于同一树的过滤器的不同示例：</p>
		<p>
			<img border="0" src="images/counters/FilteredTree1.png"> 
			<img border="0" src="images/counters/FilteredTree2.png"> 
			<img border="0" src="images/counters/FilteredTree3.png"> 
			<img border="0" src="images/counters/FilteredTree4.png">
		</p>
		<p>最后，从一条轨迹切换到另一条轨迹时，会记住树的复选框。</p>
		<h3 id="Navigation_7">导航</h3>
		<p>有关导航，请参阅CPU使用情况视图<b><a href="LTTng-Kernel-Analysis.html#Using_the_mouse_2">使用鼠标</a></b> ， <b><a href="LTTng-Kernel-Analysis.html#Using_the_keyboard_2">使用键盘</a></b>和<b><a href="LTTng-Kernel-Analysis.html#Zoom_region">缩放区域</a></b> 。
		</p>
		<h3 id="Toolbar_8">工具栏</h3>
		<p>视图<b>工具栏</b>位于视图的右上角，具有执行常用操作的快捷按钮：</p>
		<table>
			<tr>
				<td>
					<img border="0" src="images/counters/sigma.gif">
				</td>
				<td>切换累积或非累积</td>
				<td>在累积或非累积演示之间切换</td>
			</tr>
		</table>
		<p>对于其他工具栏按钮，请参阅CPU使用情况视图的<b><a href="LTTng-Kernel-Analysis.html#Toolbar_3">工具栏</a></b> 。
		</p>
		<h3 id="View_Menu_5">查看菜单</h3>
		<p>位于<b>视图</b>右上角的“计数器视图” <b>视图菜单</b>具有执行常用操作的快捷按钮：</p>
		<table>
			<tr>
				<td>新计数器视图</td>
				<td>产生一个新的计数器视图。新视图可以固定到当前跟踪的新实例，固定到任何打开的跟踪或取消固定。</td>
			</tr>
			<tr>
				<td>对齐视图</td>
				<td>禁用并启用基于时间的视图的自动时间轴对齐。在此视图中禁用对齐将在所有视图中禁用此功能，因为它是工作区首选项。</td>
			</tr>
		</table><hr class="navigation-separator">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%">
					<a href="Latency-Analyses.html" title="延迟分析">
						<img alt="以前" border="0" src="images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%">
					<a href="User-Guide.html" title="Trace Compass用户指南">
						<img alt="Trace Compass用户指南" border="0" src="images/home.gif">
					</a>
				</td>
				<td align="right" style="width:20%">
					<a href="Java-Logging.html" title="Java日志记录">
						<img alt="下一个" border="0" src="images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">延迟分析</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">Java日志记录</td>
			</tr>
		</table>
	</body>
</html>