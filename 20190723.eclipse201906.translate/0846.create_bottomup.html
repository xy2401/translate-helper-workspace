<html dir="ltr">
<head>
    <meta name="copyright" content="Copyright (c) 2009 Shane Clarke. All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License 2.0 which accompanies this distribution, and is available at https://www.eclipse.org/legal/epl-2.0/. Contributors: Shane Clarke - initial API and implementation"></meta>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
	<title>使用Apache CXF从Java实现bean创建Web服务</title>
	<link href="../book.css" rel="stylesheet" type="text/css" charset="ISO-8859-1"></link>
    <script type="text/javascript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript"></script>
</head>

<body lang="EN-US" dir="ltr">
<h2>使用Apache CXF从Java实现bean创建Web服务</h2>
<h3>先决条件：</h3>
<ol>
<li>安装和配置Apache CXF运行时环境。有关详细信息，请参阅“ <a href="PLUGINS_ROOT/org.eclipse.jst.ws.jaxws.doc.user/gettingstarted/requirements.html">要求和安装”</a>页面。</li>
<li>创建动态Web项目并为Apache CXF Web服务开发启用它，如下所述： <a href="../tasks/create_cxf_project.html">为CXF Web服务创建项目</a> 。</li>
<li>创建或导入Java实现bean到Dynamic Web Project的源文件夹中。</li>
</ol>要使用Apache CXF运行时环境从Java bean创建Web服务，请执行以下操作：<ol>
<li>选择<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开Java EE透视图"></a>从顶级菜单中选择<a class="command-link" href="javascript:void(0);"><strong>Window&gt; Open Perspective&gt; Java EE</strong></a>切换到Java EE透视图。</li>
<li>在Project Explorer视图中，选择您创建或导入到Dynamic Web Projects源文件夹中的Java实现bean。</li>
<li>选择打开Web服务向导<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开新的Web服务向导"> <strong>文件&gt;新建&gt;其他...&gt; Web服务&gt;</strong></a>顶级菜单中的<a class="command-link" href="javascript:void(0);"><strong>Web服务</strong></a> 。</li>
<li>Web Services页面：选择<b>Bottom up Java bean Web Service</b>作为Web服务类型，并浏览以选择用于创建Web服务的Java实现bean：<p><img src="./images/bottom_up_wizard.png" alt="自下而上的Web服务向导"></p>
<ol type="a">
<li>将服务滑块移动到您希望完成的Web服务开发阶段。
<ul>
<li>开发：使用首选项默认值和向导中收集的信息调用Apache CXF java2ws工具来创建服务。该向导还会生成JAX-WS端点配置文件。</li>
<li>汇编：如果目标服务器需要，此阶段将承载Web服务的项目组装并配置到EAR中。</li>
<li>部署：生成Web服务的部署工件。</li>
<li>安装：在目标服务器上安装和配置Web模块和EAR。</li>
<li>开始：一旦安装了Web服务，就启动目标服务器。</li>
<li>测试：使用Web服务资源管理器测试生成的Web服务。</li>
</ul>
</li>
<li>服务器：选择要将Web服务部署到的服务器。</li>
<li>Web服务运行时：选择Apache CXF 2.x.</li>
<li>服务项目：在工作区中选择Apache CXF将生成代码的项目。</li>
<li>如果要为Web服务生成客户端，请选择<b>Java Proxy</b>作为客户端类型：<ul>
<li>将客户端滑块移动到<b>Develop客户端</b>阶段。</li>
<li>客户端项目：选择要生成客户端代码的其他项目。如果项目不存在，向导将为您创建项目，并使用CXF Facet进行配置。</li>
</ul></li>
<li>发布Web服务：启动Web Services Explorer以将Web服务发布到UDDI注册中心。</li>
<li>监视Web服务：使用TCP / IP Monitor监视Web服务的SOAP流量。</li>
</ol></li>
<li>单击<b>Next&gt;</b>转到Service Endpoint Interface配置页面：<ol>
<li>使用服务端点接口：选择或创建服务端点接口（SEI），该接口定义您希望在服务中公开的方法。这是推荐的方法。
<ul>
<li>选择SEI：浏览以选择现有的SEI。</li>
<li>创建SEI：通过提供在提取的接口中声明的名称和方法，从实现创建接口。</li>
</ul>这两个选项都会在实现bean上创建或更新<i>@WebService.endpointInterface</i>元素。
</li></ol>
</li>
<li>单击<b>Next&gt;</b>转到JAX-WS注释配置页面：<p>此页面允许您将JAX-WS注释添加到SEI或实现（如果不使用显式SEI）。</p>
<p>JAX-WS annotations元素值默认为JAX-WS规范中列出的值。</p>
<p>如果Implementation bean / SEI包含重载方法，则此页面上添加的JAX-WS注释会进行调整以解决这些冲突。</p></li>
<li>单击<b>Next&gt;</b>转到Apache CXF java2ws配置页面，该页面允许您覆盖默认的<a href="../reference/java2ws_tab.html">java2ws</a>首选项：</li>
	<li>测试Web服务页面。如果第一页上的服务滑块设置为测试服务，将显示此页面。
	<p>选择启动按钮以使用<a href="PLUGINS_ROOT/org.eclipse.jst.ws.consumption.ui.doc.user/tasks/ttestwsdl.html">Web Services Explorer</a>测试Web Service。</p>
	</li>
	<li>Apache CXF JAX-WS客户端配置页面：如果Web服务页面上的客户端滑块设置为“ <b>开发客户端”，</b>则将显示此页面。
	<p>有关此页面上显示的选项的信息，请参阅<a href="./create_client.html">生成JAX-WS Web服务客户端</a>页面。</p>
	</li>
	<li>Web服务发布页面：选择是否要将此Web服务发布到UDDI注册中心。单击<b>完成</b></li>
</ol>
<p><img src="../images/ngrelt.png" alt="相关任务" border="0"></p>
<a href="../tasks/create_topdown.html">使用Apache CXF从WSDL文档生成SEI和框架实现bean</a><br>
<a href="../tasks/create_client.html">使用Apache CXF从WSDL文档生成JAX-WS Web服务客户端</a><br>
</body>
</html>