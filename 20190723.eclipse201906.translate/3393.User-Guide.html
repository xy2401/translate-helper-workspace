<html  xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Pcap网络跟踪用户指南</title>
		<link type="text/css" rel="stylesheet" href="book.css">
	</head>
	<body >
		<h1 id="Pcap_Support_Within_Trace_Compass">Trace Compass中的Pcap支持</h1>
		<p>Trace Compass现在支持读取libpcap文件以进行网络跟踪。这些文件包含在网络上看到的数据包，具有.pcap或.cap扩展名，可以使用Wireshark / Tshark / Tcpdump等工具捕获。要打开libpcap跟踪，只需像任何其他跟踪类型一样导入它，Trace Compass将识别该格式。打开导入的跟踪以查看捕获的数据包。有关Trace Compass的通用功能的更多信息，请参阅<a href="https://wiki.eclipse.org/index.php/Trace_Compass#User_Guides">用户指南</a> 。
		</p>
		<h2 id="Supported_Protocols">支持的协议</h2>
		<p>目前，Trace Compass中的Pcap集成只能识别四种协议：以太网，Internet协议版本4，TCP和UDP。将来，将添加和支持更多协议。如果您想参与，请参阅“ <a href="https://wiki.eclipse.org/index.php/Trace_Compass#User_Guides">TMF开发人员指南</a> ”中的“添加协议”部分。
		</p>
		<h2 id="Network_Tracing_Perspective">网络追踪视角</h2>
		<p>为帮助分析网络跟踪，已创建新的透视图：“网络跟踪”透视图。它看起来很像Wireshark（因为它是事实上的标准），并包含对网络跟踪分析有用的所有视图。这些意见是：</p>
		<ul>
			<li>
				<b>事件编辑器</b> ：所有数据包的高级视图。它列出了所有数据包并提供了有关它们的基本信息，如源，目标，时间戳，协议等。</li>
			<li>
				<b>属性视图</b> ：特定数据包的低级视图。在事件编辑器中选择数据包后，其所有字段都将显示在属性视图中。
			</li>
			<li>
				<b>直方图视图</b> ：数据包相对于时间的分布。例如，这允许识别网络被请求最多的时段。
			</li>
			<li>
				<b>统计视图</b> ：跟踪中存在的不同数据包类型的视图。
			</li>
			<li>
				<b>颜色视图</b> ：用于为事件编辑器中的事件着色的视图。这对于在视觉上快速识别数据包类型很有用。默认情况下，没有事件被着色。
			</li>
			<li>
				<b>过滤视图</b> ：用于过滤数据包以便于分析的视图。
			</li>
			<li>
				<b>流列表视图</b> ：列出跟踪/实验中存在的所有流的视图。流是两个端点之间的双向数据包流（会话）。端点是数据包的源或目标（与协议相关）。
			</li>
		</ul>
		<p>要打开透视图，请选择“ <b>窗口”</b> &gt;“ <b>打开透视图”</b> &gt;“ <b>其他...”</b> &gt;“ <b>网络跟踪”</b> 。
		</p>
		<p>
			<img title="网络追踪视角" alt="网络追踪视角" border="0" src="images/networkTracingPerspective.png">
		</p>
		<h2 id="Filtering_On_Subfield">在子字段上过滤</h2>
		<p>现在可以在子字段上进行过滤，这对于pcap跟踪非常有用。为此，在“过滤视图”的字段组合中，以斜杠开头，并通过用斜杠分隔不同的级别来键入子字段路径。例如，要获取Internet协议版本4的源IP地址，请键入：</p>
		<p>
			<i>/ Internet协议版本4 /源IP地址</i>
		</p>
		<p>如果字段名称包含实际斜杠，请键入“\ /”（反斜杠 - 斜杠）以生成未解释的斜杠。例如，要获取名为“Process / Thread”的字段，请键入：</p>
		<p>
			<i>/过程\ /螺纹</i>
		</p>
		<p>
			<img title="在子字段上过滤的示例" alt="在子字段上过滤的示例" border="0" src="images/subfieldFiltering.png">
		</p>
		<h2 id="Stream_List_View">流列表视图</h2>
		<p>大多数情况下，您希望分析两个端点（流）之间的对话。流列表视图允许您通过隔离有趣的数据包来做到这一点。对于所有支持的协议，在打开新的pcap跟踪时会更新流列表视图，并列出跟踪/实验中存在的所有不同的流。通过右键单击流，您可以跟随流，该流将发送TmfNewPacketStreamSignal，其他视图可以使用该流来对流进行分析。您还可以将流提取为过滤器，这将根据流属性生成过滤器。然后可以自定义该过滤器并将其应用于事件编辑器以获取有趣的数据包。</p>
		<p>
			<img title="流列表视图的示例" alt="流列表视图的示例" border="0" src="images/streamListView.png">
		</p>
		<h2 id="Limitations">限制</h2>
		<ul>
			<li>没有版本检查。它假设版本是2.4（这是足够安全的，因为格式没有改变10年以上，并且不应该很快改变。</li>
			<li>假设所有时间戳都在GMT时间内。</li>
		</ul>
		<h2 id="References">参考</h2>
		<ul>
			<li>
				<a href="https://wiki.eclipse.org/index.php/Trace_Compass#User_Guides">Trace Compass用户指南</a>
			</li>
		</ul>
	</body>
</html>