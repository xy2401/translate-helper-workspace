<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<title>入门</title>
<link href="book.css" rel="stylesheet" type="text/css"></link>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1"></meta>
<link rel="home" href="index.html" title="OCL Documentation"></link>
<link rel="up" href="OverviewandGettingStarted.html" title="Overview and Getting Started"></link>
<link rel="prev" href="WhoisBehindEclipseOCL.html" title="Who is Behind Eclipse OCL?"></link>
<link rel="next" href="UsersGuide.html" title="Users Guide"></link>
</head>
<body bgcolor="white" dir="ltr" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">入门</h1>
<div class="section" title="入门">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="GettingStarted"></a>入门</h2>
</div>
</div>
</div>
<p>有关OCL的快速演示，您可以按照<a class="link" href="Tutorials.html#OCLinEcoreTutorial" title="OCLinEcore tutorial">OCLinEcore教程的</a>这个非常简短的版本进行<a class="link" href="Tutorials.html#OCLinEcoreTutorial" title="OCLinEcore教程">操作</a> ，您可以在其中找到<a class="link" href="Installation.html" title="安装Eclipse OCL示例和编辑器">安装</a>说明。一旦安装了OCL示例和编辑器功能，您可以按照这些说明深入了解OCL和Eclipse OCL工具的功能。
			</p>
<p>调用<span class="bold"><strong>File-&gt; New-&gt; Project ...</strong></span>然后选择<span class="bold"><strong>Examples</strong></span>然后选择<span class="bold"><strong>OCL（Object Constraint Language）插件，</strong></span>然后选择<span class="bold"><strong>OCLinEcore Tutorial</strong></span>和<span class="bold"><strong>Finish</strong></span>来创建一个名为<span class="bold"><strong>org.eclipse.ocl.examples.project.oclinecoretutorial</strong></span>的小示例项目。它包含</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
						
<span class="bold"><strong>model / Tutorial.ecore</strong></span> - 一个小型的图书馆元模型</p>
</li>
<li class="listitem">
<p>
						
<span class="bold"><strong>model / Tutorial.xmi</strong></span> - 一个更小的库模型</p>
</li>
<li class="listitem">
<p>
						
<span class="bold"><strong>model / Tutorial.genmodel</strong></span> -  Java代码的gebnerator</p>
</li>
</ul>
</div>
<p>选择<span class="bold"><strong>model / Tutorial.ecore</strong></span>并使用右键调用<span class="bold"><strong>Open With-&gt; OCLinEcore Editor</strong></span> 。这将为您提供Ecore文件的文本视图，其中包含嵌入的OCL不变量，例如Book约束</p>
<div class="literallayout">
<p>
<code class="code">不变的SufficientCopies：<br>library.loans-&gt; select（（book = self）） - &gt; size（）&lt;= copies;<br>

</code>
</p>
</div>
<p></p>
<p>这个不变量被命名为SufficientCopies。它</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>从隐含的自我导航（一本书）</p>
</li>
<li class="listitem">
<p>通过图书馆</p>
</li>
<li class="listitem">
<p>它搜索的贷款</p>
</li>
<li class="listitem">
<p>选择那些满足谓词的贷款</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>借书等于自书</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>计算贷款的规模（数量）</p>
</li>
<li class="listitem">
<p>并与自助书的副本数量进行比较</p>
</li>
</ul>
</div>
<p>如果评估为真，则满足不变量;即贷款数量是否小于或等于副本数量。</p>
<p>您可以通过选择<span class="bold"><strong>model / Tutorial.xmi</strong></span>并使用右键调用<span class="bold"><strong>Open With-&gt; Sample Reflective Ecore Model Editor</strong></span>来查看此不变量。这为您提供了一个小型库模型的树视图。
			</p>
<p>展开根元素，然后选择<span class="bold"><strong>Library lib</strong></span>元素并使用右键菜单调用<span class="bold"><strong>Validate</strong></span> 。您应该在验证期间收到弹出报告问题。单击“ <span class="bold"><strong>详细信息”</strong></span> ，您将看到其中一个问题是我们刚刚查看的<span class="bold"><strong>SufficientCopies</strong></span>不变量。如果您浏览<span class="bold"><strong>model / Tutorial.xmi</strong></span>的Properties View，您可以验证有三个贷款，但只有两个副本用于违规Book。
			</p>
<p>您可以交互式评估自定义OCL查询。从<span class="bold"><strong>Tutorial.xmi</strong></span>的编辑器中，从上下文菜单中调用<span class="bold"><strong>OCL-&gt; Show Xtext OCL Console</strong></span> 。在编辑器中选择<span class="bold"><strong>Book b2</strong></span> ，然后在控制台的底行输入OCL表达式<span class="bold"><strong>loan.member</strong></span> ，然后按Enter键。结果显示在小组中，并确定所有三笔贷款均由<span class="bold"><strong>会员m3提供</strong></span> 。
			</p>
<p><span class="bold"><strong>loan.member</strong></span>表达式是<span class="bold"><strong>self.loans-&gt; collect（aLoan：Loan | aLoan.member）</strong></span>的缩写形式，演示了OCL能够对多元素属性执行许多有用的导航。表达方式</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>导航自我，书b2选择</p>
</li>
<li class="listitem">
<p>贷款，使用Book :: loan，这是OCL中定义的派生财产</p>
</li>
<li class="listitem">
<p>对于每个贷款，迭代器变量aLoan被分配给贷款和</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>身体，aLoan.member被评估为返回贷款的成员</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>收集结果成员以返回收集结果</p>
</li>
<li class="listitem">
<p>结果显示在结果面板中的三行上</p>
</li>
</ul>
</div>
<p>您可以使用OCL调试器逐步执行。在控制台视图中键入要恢复较早文本条目的PageUp，然后在编辑器中仍然选择<span class="bold"><strong>Book b2</strong></span> ，单击控制台工具栏中的调试图标。调试器应该自动打开，但如果没有，请使用Eclipse菜单栏中的<span class="bold"><strong>Window-&gt; Show View-&gt; Debug</strong></span> 。“变量视图”显示模型元素值。单击F5或Step Into几次以进行执行。
			</p>
<p>你现在看到了</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>一个Xtext编辑器，它将OCL直接嵌入到Ecore模型中，以提供程序化的丰富功能</p>
</li>
<li class="listitem">
<p>使用传统的Ecore工具验证模型时执行OCL</p>
</li>
<li class="listitem">
<p>用于自定义OCL评估的交互式控制台</p>
</li>
<li class="listitem">
<p>执行在OCL中定义的派生属性</p>
</li>
<li class="listitem">
<p>OCL能够紧凑地表达对多元素的操作</p>
</li>
<li class="listitem">
<p>调试OCL执行和浏览数据的能力</p>
</li>
</ul>
</div>
<p>你还没有</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>编写任何Java代码</p>
</li>
<li class="listitem">
<p>生成任何插件</p>
</li>
<li class="listitem">
<p>需要启动一个额外的Eclipse会话</p>
</li>
</ul>
</div>
<p>请按照教程，示例和参考资料获取更多信息。</p>
</div>
</body>
</html>