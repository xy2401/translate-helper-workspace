<html dir="ltr">
<head>
<title>第2步：使用XML Schema定义元模型</title>
<link href="book.css" rel="stylesheet" type="text/css"></link>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1"></meta>
<link rel="home" href="index.html" title="Xpand Documentation"></link>
<link rel="up" href="xsd_tutorial.html" title="XSD Tutorial"></link>
<link rel="prev" href="xsd_tutorial_create_project.html" title="Step 1: Create a Project"></link>
<link rel="next" href="xsd_tutorial_model.html" title="Step 3: Create a Model using XML"></link>
</head>
<body bgcolor="white" dir="ltr" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">第2步：使用XML Schema定义元模型</h1>
<div class="section" title="第2步：使用XML Schema定义元模型">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="xsd_tutorial_metamodel"></a>第2步：使用XML Schema定义元模型</h2>
</div>
</div>
</div>
<p>如果您不打算使用现有的XML Schema Definition，可以创建一个新的，如下所述。这些步骤使用Eclipse Web Tools Platform（WTP）来创建花哨的编辑器。</p>
<p>在Eclipse中，单击<span class="emphasis"><em>“File”，“New”，“Other ...”，</em></span>然后从“XML”类别中选择<span class="emphasis"><em>“XML Schema</em></span> ”。选择项目的“src”文件夹并指定文件名。单击“完成”将创建一个空的XSD文件。XSD文件位于项目类路径中的某个位置非常重要。</p>
<p>此XML模式由两种复杂数据类型组成，其中包含一些元素和属性。 XSD术语中的“复杂”意味着与简单数据类型相反，它们实际上可以具有子元素和/或属性。这个例子过于简约，无法做任何有用的事情。</p>
<p>复杂的类型<code class="classname">Wizard</code>包含元素<code class="classname">startpage</code> ， <code class="classname">name</code> ， <code class="classname">welcometext</code>和<code class="classname">choicepage</code> 。除了<code class="classname">choicepage</code>之外，所有元素都必须包含字符串，而<code class="classname">startpage</code>字符串必须是任何<code class="classname">ChoicePage</code>的有效id。复杂类型<code class="classname">ChoicePage</code>只包含一个<code class="classname">id</code>和一个<code class="classname">name</code> 。对于Xpand，如果将某些内容建模为XML属性或XML元素，则没有任何区别。只是数据字段的类型定义了Xpand如何处理该值。</p>
<p>要概述Xpand XSD Adapter如何使用模式，请参阅<a class="xref" href="xsd_reference_declare_xsd.html" title="如何声明XML Schema">“如何声明XML模式”一节。</a>
</p>
<p>在内部，Xpand XSD Adapter将XSD模型转换为Ecore模型，Xpand可以像任何其他Ecore模型一样使用它。有关更多信息，请参阅<a class="xref" href="xsd_reference_xsd2ecore.html" title="幕后制作：将XSD转变为Ecore">“幕后操作：将XSD转换为Ecore”一节</a>
</p>
<div class="figure">
<a name="xsd_tutorial_xsd_editor"></a>
<p class="title">
<b>图4。WTP架构编辑器</b>
</p>
<div class="figure-contents">
<div class="mediaobject">
<img src="xsd_tutorial/xsd-editor.png" alt="WTP架构编辑器">
</div>
</div>
</div>
<br class="figure-break">
<pre class="programlisting">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;schema xmlns =“http://www.w3.org/2001/XMLSchema”targetNamespace =“http://www.example.org/wizard”xmlns：tns =“http://www.example.org/向导“elementFormDefault =”qualified“&gt; &lt;complexType name =”Wizard“&gt; &lt;sequence&gt; &lt;element name =”startpage“type =”IDREF“/&gt; &lt;element name =”name“type =”string“/&gt; &lt;element name =“welcometext”type =“string”/&gt; &lt;element name =“choicepage”type =“tns：ChoicePage”/&gt; &lt;/ sequence&gt; &lt;/ complexType&gt; &lt;complexType name =“ChoicePage”&gt; &lt;sequence&gt; &lt;element name = “title”type =“string”/&gt; &lt;/ sequence&gt; &lt;attribute name =“id”type =“ID”/&gt; &lt;/ complexType&gt; &lt;element name =“wizard”type =“tns：Wizard”/&gt; &lt;/模式&gt;</pre>
</div>
</body>
</html>