<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>4.1.2。演练</title>
<link rel="stylesheet" type="text/css" href="../../css/style.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="../index.html" title="Jubula Developer Manual">
<link rel="up" href="ch04s01.html" title="4.1.�Creating an accessibility plug-in">
<link rel="prev" href="ch04s01s01.html" title="4.1.1.�Setting up your Workspace">
<link rel="next" href="ch04s02.html" title="4.2.�Accessibility plug-in example">
</head>
<body bgcolor="white"  text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">4.1.2。演练</th></tr>
<tr>
<td width="20%" align="left">
<a href="ch04s01s01.html" accesskey="p">上一页</a> �</td>
<th width="60%" align="center">4.1。�创建辅助功能插件</th>
<td width="20%" align="right">� <a href="ch04s02.html" accesskey="n">下一步</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs" xmlns:d="http://docbook.org/ns/docbook">
<span class="breadcrumb-link"><a href="../index.html">Jubula开发人员手册</a></span> &gt; <span class="breadcrumb-link"><a href="ch04.html">创建GEF工具包扩展</a></span> &gt; <span class="breadcrumb-link"><a href="ch04s01.html">创建辅助功能插件</a></span> &gt; <span class="breadcrumb-node">演练</span>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="walkthrough"></a> 4.1.2。演练</h3></div></div></div>
<p>实现辅助功能插件的第一步是为希望使测试可访问的每种类型的GEF组件创建标识符。一个标识符是从命名<span class="emphasis"><em>org.eclipse.jubula.rc.rcp.e3.gef.identifier</em></span>包实现<span class="input">IEditPartIdentifier</span>并提供了有关从所述包装件的特定<span class="input">的EditPart</span>名为<span class="emphasis"><em>org.eclipse.gef</em></span>附加的和/或更精确的信息的Java类。标识符类的粒度将取决于AUT中编辑部分的类层次结构。例如，如果许多编辑部分共享一个公共超类，那么您可以为该超类编写一个标识符，该标识符将能够为从该超类继承的所有编辑部件提供可访问性。请参阅第<a class="xref" href="ch04s02.html" title="4.2。�Accessibility插件示例">4.2节“辅助功能插件示例”中的示例</a> ，该示例显示了一个示例实现。
    </p>
<p>下一步是创建适配器工厂。此扩展提供有关每个编辑部分使用哪个标识符的信息。
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>从辅助功能插件中打开<span class="input">plugin.xml</span>文件，然后选择“ <span class="strong"><strong>扩展”</strong></span>选项卡。
        </p></li>
<li class="listitem"><p>添加<span class="emphasis"><em>org.eclipse.core.runtime.adapters</em></span>扩展的实例。
        </p></li>
<li class="listitem"><p>为您希望提供可访问性的每种类型的GEF组件添加<span class="strong"><strong>工厂</strong></span>到新扩展。每个工厂必须从名为<span class="emphasis"><em>org.eclipse.jubula.rc.rcp.e3.gef.identifier</em></span>的包中实现<span class="input">IEditPartIdentifier</span> ，以提供来自<span class="emphasis"><em>org.eclipse.gef</em></span>实现<span class="input">EditPart</span>的GEF组件的适配器。如果要使用<span class="emphasis"><em>检查锚点计数</em></span>操作来区分传入和传出连接，则必须从名为<span class="emphasis"><em>org.eclipse.jubula.rc.rcp.e3.gef.identifier</em></span>的包中实现<span class="input">IExtendedEditPartIdentifier</span> 。
        </p></li>
<li class="listitem"><p>一旦定义了适配器工厂，就需要实现它。您的适配器工厂必须从名为<span class="emphasis"><em>org.eclipse.core.runtime</em></span>的包中实现<span class="input">IAdapaterFactory</span> ，它为给定的编辑部件提供所创建标识符的相应实例。有关示例实现<a class="xref" href="ch04s02.html" title="4.2.�Accessibility plug-in example">，</a>请参见第<a class="xref" href="ch04s02.html" title="4.2。�Accessibility插件示例">4.2节“辅助功能插件示例”</a> 。
        </p></li>
<li class="listitem">
<p>创建标识符后<br xmlns:d="http://docbook.org/ns/docbook">和适配器工厂，您可以导出和部署插件以在AUT中使用它。</p>
<p xmlns:d="http://docbook.org/ns/docbook"></p><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>在添加或替换辅助功能插件后启动AUT时，建议使用<span class="input">-clean</span>参数启动AUT。
        </strong></span></td>
</tr></tbody>
</table>
</li>
</ol></div>
</div>
<br xmlns:d="http://docbook.org/ns/docbook"><hr xmlns:d="http://docbook.org/ns/docbook">
<address xmlns:d="http://docbook.org/ns/docbook">版权所有BREDEX GmbH 2015。根据Eclipse Public License v1.0提供。</address>
<br xmlns:d="http://docbook.org/ns/docbook">
</body>
</html>