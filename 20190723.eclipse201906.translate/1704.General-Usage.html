<?xml version="1.0" encoding="utf-8" ?=""><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" gtc:encodedoriginal="PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXRyYW5zaXRpb25hbC5kdGQiPg==">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
		<title>Specfile Editor用户指南 - 一般用法</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"></link>
	</head>
	<body dir="ltr">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">一般用法</th>
			</tr>
			<tr>
				<td align="left" style="width:20%">
					<a href="Installing.html" title="安装">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="Import-src-rpm.html" title="导入src.rpm">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">安装</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">导入src.rpm</td>
			</tr>
		</table><hr class="navigation-separator">
		<h1 id="General_Usage">一般用法</h1>
		<p>要充分受益于Specfile Editor提供的所有功能，请确保<i><code>.spec</code></i>文件是Eclipse工作区内项目的一部分。 <code>rpmlint</code>集成，文件超链接和一些自动完成功能不可用。以下屏幕截图提供了Specfile Editor插件提供的完整界面优势的印象：<br>
			<img border="0" src="images/Specfile_generic.png">
		</p>
		<h2 id="Creating_a_New_RPM_project">创建一个新的RPM项目</h2>
		<p>要创建RPM项目，用户必须转到文件&gt;新建&gt;其他，展开RPM并选择RPM项目。在下一个窗口中，需要选择项目名称和要使用的布局。RPMBUILD布局意味着将使用BUILD，RPMS，SOURCES，SPECS和SRPMS的目录布局。FLAT布局意味着所有文件都将保存在主项目目录中。</p>
		<p>可以使用默认文件系统或远程创建RPM项目。要创建远程项目，用户必须清除“使用默认位置”复选框，然后选择“RSE”或“RemoteTools”。“浏览”按钮可用于查找项目在远程服务器上的存储位置。</p>
		<p>
			<img border="0" src="images/RPM_NewProject.png">
		</p>
		<h2 id="Creating_a_New_Specfile">创建新的Specfile</h2>
		<p>Specfile Editor插件提供了一个用于创建新<i><code>.spec</code></i>文件的向导。要使用此向导，请先导航到<u>文件</u> &gt; <u>新建</u> &gt; <u>其他...</u> ;然后，展开<u>RPM Wizards</u>条目以<u>根据模板</u>选择<u>New specfile</u> 。
		</p>
		<p>
			<img border="0" src="images/Specfile_new_wizard.png">
		</p>
		<p>这将打开Specfile Creation向导，该向导提供用于生成<i><code>.spec</code></i>文件的基本内容的<i><code>.spec</code></i> 。
		</p>
		<p>
			<img border="0" src="images/Specfile_new_from_template.png">
		</p>
		<p>Specfile Creation向导包含以下字段：</p>
		<dl>
			<dt>项目</dt>
			<dd>此字段将生成的<i><code>.spec</code></i>与当前工作空间中的项目相关联，该项目最终指定<i><code>.spec</code></i>将保存在<i><code>.spec</code></i> 。<b><i>选择一个项目......</i>
				</b>按钮允许您轻松地为此字段选择特定项目。默认情况下，Specfile Editor插件指定调用Specfile Creation向导时的最后一个活动项目。
			</dd>
		</dl>
		<dl>
			<dt>选择一个模板</dt>
			<dd>此下拉列表允许您选择要使用的<i><code>.spec</code></i>模板。您可以安装<code>rpmdevtools</code>提供的模板，这些模板可用<a href="https://fedorahosted.org/rpmdevtools">https://fedorahosted.org/rpmdevtools</a> 。
			</dd>
		</dl>
		<dl>
			<dt>版</dt>
			<dd>这将填充<i><code>.spec</code></i>文件的<code>Version:</code>行。
			</dd>
		</dl>
		<dl>
			<dt>摘要</dt>
			<dd>这将填写<i><code>.spec</code></i>文件的<code>Summary:</code>行。
			</dd>
		</dl>
		<dl>
			<dt>组</dt>
			<dd>此下拉列表允许您选择项目所属的包组。</dd>
		</dl>
		<dl>
			<dt>执照</dt>
			<dd>这将填写<i><code>.spec</code></i>文件的<code>License:</code>行。
			</dd>
		</dl>
		<dl>
			<dt>网址</dt>
			<dd>这将填充<i><code>.spec</code></i>文件的<code>URL:</code>行，该文件通常指定项目的公共主页。
			</dd>
		</dl>
		<dl>
			<dt>Source0</dt>
			<dd>此字段指定从中构建包的源存档。</dd>
		</dl>
		<h2 id="Building_RPMs">构建RPM</h2>
		<p>要构建RPM，请右键单击RPM项目或Specfile Editor。然后，从上下文菜单中选择<u>RPM</u>菜单项。您将获得<i><code>.spec</code></i>文件的构建选项列表，以及其他Specfile选项。
		</p>
		<p>
			<img border="0" src="images/SpecfileEditor_rpmMenu.png">
		</p>
		<h4 id="Toolbar">工具栏</h4>
		<p>这些构建选项也可以在工具栏菜单中随时使用，以便更快地访问。</p>
		<p>
			<img border="0" src="images/SpecfileEditor_rpmToolbar.png">
		</p>
		<h2 id="rpmlint">rpmlint</h2>
		<p>要启用<code>rpmlint</code>警告，请右键单击包含<i><code>.spec</code></i>文件的项目。然后，选择<u>RPM</u>菜单项。然后，从上下文菜单中<u>添加/删除rpmlint警告</u> 。您也可以使用此菜单选项来禁用<code>rpmlint</code>警告。
		</p>
		<p>
			<img border="0" src="images/Specfileeditor_rpmlint.png">
		</p>
		<p>启用<code>rpmlint</code>警告将向项目添加新的<code>rpmlint</code>构建器。此<code>rpmlint</code>构建器在每个项目构建或清理期间检查<i><code>.spec</code></i>文件。之后，构建器将在“ <b><i>问题”</i></b>窗格中显示任何相应的警告和错误。每个警告/错误也会在<i><code>.spec</code></i>文件中绘制;单击“ <b><i>问题”</i></b>窗格中的<code>rpmlint</code>警告/错误将自动将插入点放在<i><code>.spec</code></i>文件的相应部分中。
		</p>
		<p>
			<img border="0" src="images/Specfile_problems_rpmlint.png">
		</p>
		<h3 id="Quick_Fixes">快速修复</h3>
		<p>您还可以通过“ <b><i>快速修复”</i></b>菜单直接解决多个警告和错误。要访问此菜单，请右键单击“ <b><i>问题”</i></b>窗格中的警告或错误，然后选择“ <u>快速修复”</u> 。
		</p>
		<p>顾名思义，“ <b><i>快速修复”</i></b>菜单为您提供常见的<i><code>.spec</code></i>文件错误和问题的快速解决方案。例如， <code>rpmlint</code>从<code>.spec</code>文件中检测到以下<code>%install</code>部分中的<code>no-cleaning-of-buildroot</code>错误：</p>
		<p>
			<img border="0" src="images/Specfile_rpmlint_fix_before.png">
		</p>
		<p>如果“ <b><i>快速修复”</i></b>菜单可以为特定错误提供解决方案，则菜单中将显示该解决方案。要应用它，只需选择解决方案（从“ <b><i>选择修复：”</i></b>区域）和相应的问题（从“ <b><i>问题：”</i></b>区域），然后单击“ <u>完成”</u>按钮。
		</p>
		<p>
			<img border="0" src="images/Specfile_rpmlint_quickfix.png">
		</p>
		<p>以下屏幕截图显示了“ <b><i>快速修复”</i></b>菜单应用的“ <code>%install</code>部分的<b><i>修订</i></b> ：</p>
		<p>
			<img border="0" src="images/Specfile_rpmlint_fix_after.png">
		</p>
		<h2 id="Hyperlink_Detection">超链接检测</h2>
		<p>大多数eclipse插件的一个共同特征是能够检测超链接并为用户提供处理单击超链接的选项。</p>
		<p>SpecfileEditor处理超链接，通常位于<i><code>SOURCE</code></i>和<i><code>PATCH</code></i>定义中，与常规超链接不同。
		</p>
		<p>如下所示，您可以选择：</p>
		<ul>
			<li>在浏览器中打开超链接</li>
			<li>如果文件存在于项目中，则打开该文件（如果不存在则隐藏）</li>
			<li>从浏览器下载文件</li>
		</ul>
		<p>除此之外，如果用户也碰巧悬停在宏上方（例如<i><code>%{name}</code></i>或<i><code>%{version}</code></i> ），它将显示“转到...”选项以跳转到定义宏的位置，如果位于<i><code>.spec</code></i>文件中。
		</p>
		<p>
			<img border="0" src="images/SpecfileEditor_hyperlinksAfter.png">
		</p>
		<h4 id="Patches">补丁</h4>
		<p>修补程序也被视为SpecfileEditor中的超链接。根据链接本身，补丁选项可以显示以下选项的组合：</p>
		<ul>
			<li>如果是URL，则在浏览器中打开补丁文件</li>
			<li>如果文件不存在，则创建该文件（如果存在，则将其打开）</li>
			<li>如果是URL，请下载该文件</li>
		</ul>
		<p>
			<img border="0" src="images/SpecfileEditor_patchSourceImprovement.png">
		</p><hr class="navigation-separator">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%">
					<a href="Installing.html" title="安装">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%">
					<a href="User-Guide.html" title="Specfile Editor用户指南">
						<img alt="Specfile Editor用户指南" border="0" src="../../../images/home.gif">
					</a>
				</td>
				<td align="right" style="width:20%">
					<a href="Import-src-rpm.html" title="导入src.rpm">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">安装</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">导入src.rpm</td>
			</tr>
		</table>
	</body>
</html>