<html  xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>SystemTap用户指南 -  SystemTap图形</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css">
	</head>
	<body >
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">SystemTap图形</th>
			</tr>
			<tr>
				<td align="left" style="width:20%">
					<a href="SystemTap-IDE.html" title="SystemTap IDE">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="Copyright-Information.html" title="版权信息">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">SystemTap IDE</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">版权信息</td>
			</tr>
		</table><hr class="navigation-separator">
		<h1 id="SystemTap_Graphing">SystemTap图形</h1>
		<h2 id="Getting_Started_2">入门</h2>
		<h3 id="Introduction">介绍</h3>
		<p>在使用<b>图形</b>运行配置下启动SystemTap脚本时，启用<b>此脚本运行</b>选项<b>的输出，</b>可以以图形形式绘制其输出。（如果您不熟悉如何加载或编写SystemTap脚本，请查看SystemTap IDE用户指南中的<a href="SystemTap-IDE.html#IDE_Tutorial">IDE教程</a> 。）有多种图形类型可用于绘制SystemTap脚本的输出：</p>
		<ul>
			<li>
				<a href="#Scatter_Graph">散点图</a>
			</li>
			<li>
				<a href="#Line_Graph">线形图</a>
			</li>
			<li>
				<a href="#Area_Graph">面积图</a>
			</li>
			<li>
				<a href="#Bar_Graph">条状图</a>
			</li>
			<li>
				<a href="#Pie_Graph">饼图</a>
			</li>
		</ul>
		<p>只要脚本运行，就可以通过在脚本的运行配置中创建脚本，或者在使用脚本运行脚本运行后实例化这些图表类型。 <img border="0" src="images/New_wiz.gif">在图形选择器视图中<a href="#Create_Graph_Wizard">创建图形</a>向导。有关如何使用“运行配置”和正则表达式从脚本输出中捕获数据以及如何在图形中绘制数据的信息，请参阅<a href="SystemTap-IDE.html#Lesson_3:_Running_Your_Script">第3课：运行脚本</a> 。
		</p>
		<h3 id="Graphing_Tutorial">图形教程</h3>
		<p>本教程从<a href="SystemTap-IDE.html#Lesson_3:_Running_Your_Script">第3课：运行脚本的</a>位置开始，提供了有关图形配置的更多信息。如果您已经按照该教程进行操作，请单击<b>“运行方式” - &gt;“运行配置...”，</b>然后查看先前创建的配置。如果没有，请立即关注该教程，并在完成后返回此处。
		</p>
		<p>在选择配置的情况下打开“运行配置”菜单后，单击“ <b>图形”</b>选项卡。在窗口的底部，标记为<b>Graph Set＃</b>的部分显示为当前选择的<b>正则表达式</b>创建的所有图形的列表（ <b>图形集＃中的＃</b>表示选择了哪个表达式）。还有一组与图形配置相关的按钮：</p>
		<ul>
			<li>
				<b>添加...</b> - 打开“ <a href="#Create_Graph_Wizard">创建图”</a>向导，以允许您创建新图。
			</li>
			<li>
				<b>重复</b> - 当选择条目列表中的一个图形（通过单击它）时，此按钮会创建该图形的副本。
			</li>
			<li>
				<b>编辑...</b> - 当选择条目列表中的某个图形时，此按钮允许您使用“ <a href="#Create_Graph_Wizard">编辑图形”</a>向导<a href="#Create_Graph_Wizard">编辑</a>该图形的设置。
			</li>
			<li>
				<b>删除</b> - 删除当前选定的图表。
			</li>
		</ul>
		<p>
			<b>注意：</b>您创建的每个正则表达式都有自己的图表集。创建和编辑图形时，“ <b>图形集＃”</b>部分中可见的唯一图形将是用于当前在“ <b>正则表达式”</b>组合框中选择的表达式的图形。
		</p>
		<h4 id="Create_Graph_Wizard">创建图表向导</h4>
		<p><b>创建图形</b> （或<b>编辑图形</b>向导）用于创建新图形或编辑现有图形。它允许您设置图形的所有属性，例如标题，图形类型和系列数据。
		</p>
		<ul>
			<li>
				<b>图表类型</b> - 要绘制的图表类型。有关可用<a href="#Data_Graph_Types">图表类型</a>的列表，请参阅<a href="#Data_Graph_Types">图表类型</a> ，以及每种图表类型的说明。
			</li>
			<li>
				<b>标题</b> - 图形选择器视图中显示时图形的标题。
			</li>
			<li>
				<b>X系列</b> - 将提供图形X系列数据的数据类。此数据可以来自正则表达式的一个捕获组（显示为用户定义的标题），或者，如果设置为<b>行号</b> ，则图形将为每个输出行/行绘制一个新数据点。与正则表达式匹配。
			</li>
			<li>
				<b>Y Series 0</b> - 将提供相对于X轴的图形Y系列数据的数据类。必须使用正则表达式中的捕获组。
			</li>
			<li>
				<b>Y系列1,2,3</b> ......  - 如果在正则表达式中包含多个捕获组，则可以选择为图形提供多个Y系列数据，每个数据都将相对于同一X系列绘制您之前指定的轴。它们将在图表上显示为一组单独的数据点，标题为标题。如果您不想包含任何额外的Y系列值，请选择<b>NA</b> 。</li>
		</ul>
		<p>请注意，两个不同的系列可能不共享相同的数据选择。</p>
		<h2 id="Concepts_2">概念</h2>
		<h3 id="Data_Table">数据表</h3>
		<p>数据表是在使用图表选项运行脚本时始终可用的视图。它最初开始为空并填充，因为它收到最初从脚本解析的控制台信息。数据表是每种其他图表类型产生的数据结构的可视化。</p>
		<p>
			<img border="0" src="images/SystemtapGraphDataView.png">
		</p>
		<p>只要<b>自动调整大小列</b>选项（在Preferences-&gt; SystemTap-&gt; Graphing-&gt; Data Table中）已被停用，就可以通过拖动列标题之间的分隔线随意调整数据表的列数。此外，可以<a href="#Importing_a_Data_Set">保存和加载</a>数据表中的信息，而无需重新运行脚本。此外，如果脚本的输出已保存到文件中，用户可以填充数据表而无需运行脚本;请参阅<a href="#Opening_Script_Output">打开脚本输出</a> 。右键单击数据表可提供包含以下选项的菜单：</p>
		<ul>
			<li>
				<b>格式为...</b> - 根据用户右键单击的列，这允许用户将该列的数据格式化为以下之一：<ul>
					<li>未格式化 - 未应用格式。</li>
					<li>串</li>
					<li>日期</li>
					<li>双</li>
					<li>十六进制</li>
					<li>八进制</li>
					<li>二进制</li>
				</ul>
			</li>
			<li>
				<b>添加过滤器...</b> - 向数据表添加<a href="#Filters">过滤器</a> 。
			</li>
			<li>
				<b>删除过滤器...</b> - 从数据表中删除<a href="#Filters">过滤器</a> 。
			</li>
			<li>
				<b>手动调整大小</b> - 允许用户调整列宽，而不会根据最大值弹回最小值。
			</li>
		</ul>
		<h3 id="Data_Graph_Types">数据图类型</h3>
		<p>目前，SystemTap插件中内置了五种图形类型。</p>
		<p>填充数据表后，可以使用“ <a href="#Create_Graph_Wizard">创建图”</a>向导实例化这些图类型。Graphing Perspective可以支持来自一个数据表的多个图。每个都会更新，可以通过在图形选择器视图中浏览每个图表集顶部显示的选项卡来查看。
		</p>
		<h4 id="Scatter_Graph">散点图</h4>
		<p>散点图使用笛卡尔坐标来显示两个或更多定量变量的关系。所有值必须为数字。</p>
		<p>
			<img border="0" src="images/Scatter.png">
		</p>
		<h4 id="Line_Graph">线形图</h4>
		<p>线图传统上理想地用于水平描绘时间上的非累积数据。所有值必须为数字。</p>
		<p>
			<img border="0" src="images/Line.png">
		</p>
		<h4 id="Area_Graph">面积图</h4>
		<p>区域图传统上是水平描绘非累积数据（例如时间）的理想选择。所有值必须为数字。</p>
		<p>
			<img border="0" src="images/Area.png">
		</p>
		<h4 id="Bar_Graph">条状图</h4>
		<p>条形图通常使用条形来显示频率或值。通过将字符串值应用于x轴，可以将标签赋予条形。但是，Y轴值必须是数字。</p>
		<p>
			<img border="0" src="images/Bar.png">
		</p>
		<h4 id="Pie_Graph">饼图</h4>
		<p>饼图使用饼图来显示百分比。为每个提供的数据系列绘制一个饼图。通过将字符串值应用于x轴，可以将标题赋予切片。但是，Y轴值必须是数字。</p>
		<p>
			<img border="0" src="images/Pie.png">
		</p>
		<h3 id="Filters">过滤器</h3>
		<p>过滤器是您可以在数据表上设置的屏幕，用于限制您希望使用的样品数量。过滤器经常用于限制可用的大量信息，以使数据表和图形更加实质和易于管理。</p>
		<p>存在以下选项以使用数据表中的过滤器：</p>
		<ul>
			<li>
				<b>添加过滤器...</b> - 向数据表添加过滤器。可以一次应用多个过滤器。
			</li>
			<li>
				<b>删除过滤器...</b> - 从数据表中删除过滤器。所有当前应用的过滤器都会列在下拉菜单中;用户可以选择要删除哪些。
			</li>
		</ul>
		<p>选择<b>添加过滤器时，</b>您会看到以下对话框：</p>
		<p>
			<img border="0" src="images/StapDataFilters.png">
		</p>
		<p>以下是每种过滤器类型的细分，以及每种过滤器类型如何影响此样本数据集的示例：</p>
		<p>
			<img border="0" src="images/UnfilteredDataset.png">
		</p>
		<ul>
			<li>
				<b>匹配过滤器</b> - 此过滤器可以删除或保留所选选定列的值与所选值匹配的数据集中的所有内容。
			</li>
		</ul>
		<p>
			<img border="0" src="images/Match.png">
		</p>
		<p>结果：</p>
		<p>
			<img border="0" src="images/Match2.png">
		</p>
		<ul>
			<li>
				<b>范围过滤器</b> - 此过滤器保留所选值范围内或外的数据集中的所有内容。请注意，可以通过将下限或上限留空来使用无界范围。
			</li>
		</ul>
		<p>
			<img border="0" src="images/Range.png">
		</p>
		<p>结果：</p>
		<p>
			<img border="0" src="images/Range2.png">
		</p>
		<ul>
			<li>
				<b>排序过滤器</b> - 此过滤器将根据所选列对数据集进行排序。没有数据</li>
		</ul>
		<p>除去。</p>
		<p>
			<img border="0" src="images/Sort.png">
		</p>
		<p>结果：</p>
		<p>
			<img border="0" src="images/Sort2.png">
		</p>
		<ul>
			<li>
				<b>唯一过滤器</b> - 此过滤器将删除该数据集中共享公共的所有合并条目</li>
		</ul>
		<p>所选列中的值。已删除行的数据将根据所选的聚合方法聚合在一起。</p>
		<p>
			<img border="0" src="images/Unique.png">
		</p>
		<ul>
			<li>
				<ul>
					<li>
						<b>Average Aggregate</b> - 此汇总将返回合并的所有项目的平均值。
					</li>
					<li>
						<b>Count Aggregate</b> - 此聚合将返回合并的项目数。
					</li>
					<li>
						<b>Max Aggregate</b> - 此聚合将返回合并的所有项目的最大值。
					</li>
					<li>
						<b>Min Aggregate</b> - 此汇总将返回合并的所有项目的最小值。
					</li>
					<li>
						<b>Sum Aggregate</b> - 此汇总将返回合并的所有项目的总和。
					</li>
				</ul>
			</li>
		</ul>
		<h3 id="Graph_Interaction">图形交互</h3>
		<h4 id="Graph_Options">图表选项</h4>
		<p>每个<a href="#Data_Graph_Types">图表类型</a>都有类似的选项，可以在图形选择器视图中使用：</p>
		<ul>
			<li>
				<b>图例</b> - 此选项可打开和关闭图例，在显示多个系列的图表类型中尤其有用。
			</li>
			<li>
				<b>图形滚动/缩放</b> - 可以缩放和滚动任何图形轴。提供不同的控制以用于导航连续轴和离散轴。
			</li>
		</ul>
		<p>
			<img border="0" src="images/GraphNavBefore.png">
		</p>
		<p>要放大/缩小连续轴（即散点/线/面积图），请使用+/-按钮或图形左侧/下方的比例尺。要滚动查看区域，请使用提供的水平/垂直滚动条。</p>
		<p>
			<img border="0" src="images/GraphNavAfter.png">
		</p>
		<p>专用控件可用于缩放和滚动离散轴，即条形图的条形或饼图的饼图。</p>
		<p>
			<img border="0" src="images/BarNavBefore.png">
		</p>
		<p>使用图表下方的<b>放大/缩小</b>按钮执行<b>缩放</b> 。要向左或向右滚动，请分别单击<b>&lt;</b>或<b>&gt;</b> 。要跳转到轴的开头或结尾，请分别单击<b>&lt;&lt;</b>或<b>&gt;&gt;</b> 。
		</p>
		<p>
			<img border="0" src="images/BarNavAfter.png">
		</p>
		<p>使用<a href="SystemTap-IDE.html#Preferences">“首选项”</a>配置其他图形设置，例如网格线和可查看的数据项。
		</p>
		<h4 id="Graph_Coordinate_Tooltips">图形坐标工具提示</h4>
		<p>将鼠标悬停在图表上的任何数据点上，以显示有关该点坐标的详细信息。此功能适用于所有图表类型。</p>
		<p>
			<img border="0" src="images/LineChartTooltip.png">
		</p>
		<h2 id="Graphing_Tasks">图形化任务</h2>
		<h3 id="Importing.2FExporting_Data_Sets">导入/导出数据集</h3>
		<p>数据集由图表集的数据表的内容组成。用户可能不时希望保留此数据以便在以后的日期/时间继续工作或与其他人共享发现。“导入和导出”选项提供了一种简单的方法。</p>
		<p>要保存数据集，请在查看要保存的图表集数据的其中一个选项卡（数据表或其中一个图表）时单击“ <b>导出数据集”</b>工具栏按钮。要加载和显示以前导出的数据集，请使用“ <b>导入数据集”</b>工具栏按钮，该按钮始终可用。
		</p>
		<p>
			<img border="0" src="images/DataSetImportExport.png"> <i>查看图表集时出现的数据集工具栏按钮。（蓝/左：出口。红色/右：进口。）</i>
		</p>
		<p>
			<img border="0" src="images/DataSetImportOnly.png"> <i>未显示图表集时出现的“导入数据集”按钮。</i>
		</p>
		<p>在任何一种情况下，都会出现一个文件对话框，允许用户选择文件系统中应该导出/导入数据集的路径。</p>
		<h3 id="Saving_a_Graph_Image">保存图形图像</h3>
		<p>可以将图形保存为图像文件。为此，请查看要保存的图形，然后单击工具栏中显示的“ <b>保存图形”</b>按钮。这将打开一个对话框，用户可以在其中导航到他们希望保存图像文件的位置。
		</p>
		<p>
			<img border="0" src="images/SaveStapGraphButton.png">
		</p>
		<h2 id="Reference_2">参考</h2>
		<h3 id="Frequently_Asked_Questions_2">经常问的问题</h3>
		<p>本节详细介绍了与图形脚本输出相关的常见问题。</p>
		<p>
			<b>我可以同时制作多个图表吗？他们同时更新吗？</b>
		</p>
		<p>答：是的，是的。在要创建绘图的脚本的“运行配置”中，您可以一次创建多个图形。此外，在运行启用图形的脚本后，您可以通过单击“图形选择器视图”中的“图形向导”按钮来创建多个附加图形。</p>
		<p>
			<b>我可以提高图表更新的速度吗？</b>
		</p>
		<p>答：是的。默认情况下，它设置为每秒一次，但您可以在<a href="SystemTap-IDE.html#Preferences">“首选项”中</a>增加此值。
		</p>
		<p>
			<b>有没有办法保存或导出图形图像？</b>
		</p>
		<p>答：是的。每当您查看图形时，工具栏中都会出现“ <b>保存图形”</b>按钮。单击它将允许您保存当前焦点的图形。
		</p>
		<p>
			<b>如果我想保留此数据以便稍后进行操作，该怎么办？</b>
		</p>
		<p>答：在查看数据表或其中一个提供数据的图表时，可以使用“ <b>导出数据集”</b>工具栏按钮。单击此按钮可将焦点数据表的内容保存到.set文件中。稍后可以使用工具栏上的“ <b>导入数据集”</b>按钮（始终可用）加载此类文件。
		</p><hr class="navigation-separator">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%">
					<a href="SystemTap-IDE.html" title="SystemTap IDE">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%">
					<a href="User-Guide.html" title="SystemTap用户指南">
						<img alt="SystemTap用户指南" border="0" src="../../../images/home.gif">
					</a>
				</td>
				<td align="right" style="width:20%">
					<a href="Copyright-Information.html" title="版权信息">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">SystemTap IDE</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">版权信息</td>
			</tr>
		</table>
	</body>
</html>