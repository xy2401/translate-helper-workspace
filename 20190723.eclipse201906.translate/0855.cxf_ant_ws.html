<html >
<head>
<meta name="copyright" content="Copyright (c) 2010 Shane Clarke and others. All rights reserved. This program and the accompanying materials are made available under the terms of the . Contributors: Shane Clarke - initial API and implementation">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>使用Workbench中的Ant任务创建Web服务</title>
<link href="../book.css" rel="stylesheet" type="text/css" charset="ISO-8859-1">
<script type="text/javascript" language="JavaScript"
	src="PLUGINS_ROOT/org.eclipse.help/livehelp.js"></script>
</head>

<body lang="EN-US" >
<h2>使用Workbench中的Ant任务创建Web服务</h2>
<p>您可以通过Eclipse工作区使用Ant来使用CXF运行时环境生成Web服务。Ant任务支持自上而下和自下而上的Web服务开发。</p>
<p>在创建Web服务之前，您必须：</p>
<ul>
	<li>完成以下先决条件： <a href="../tasks/ant_tasks.html">使用Apache CXF和Ant任务创建Web服务和客户端</a></li>
    <li>如果要创建自上而下的Web服务，请在Dynamic Web项目的WebContent文件夹中创建或导入WSDL文件。</li>
	<li>如果要创建自下而上的Web服务，请在Dynamic Web项目的源文件夹中创建或导入Java bean。
	<p><b><i>注意</i></b> ：使用Ant任务而不是Web服务向导开发自下而上的Web服务时存在某些限制。如果需要显式服务端点接口（SEI），则必须事先提取，并且实现类和SEI都必须使用@ javax.jws进行注释。运行Ant构建文件之前的WebService。</p></li>
</ul>
<p>首先，您需要修改Ant属性文件，而不是在先决条件中使用Ant Files向导导入。</p>
<ol>
    <li>如果执行自上而下的开发，则编辑<samp class="codeph">cxf_tdjava.properties</samp>或使用<samp class="codeph">cxf_bujava.properties</samp>文件进行自底向上开发。
    <ol type="a">
        <li>确保scenarioType参数设置为service。</li>
        <li>将initialSelection参数设置为WSDL文件（自上而下）或Java bean（自下而上）的位置。</li>
        <li>所有其他参数都是可选的，如果没有明确设置，则应删除。将从Dynamic Web项目设置和首选项中检索其余属性的默认值。有关如何设置这些参数的其他信息，请参阅：<ul>
                <li><a href="../tasks/cxf_ant_td_prop_ref.html">自上而下的CXF Web服务Ant任务属性文件参考</a></li>
                <li><a href="../tasks/cxf_ant_bu_prop_ref.html">自下而上的CXF Web服务Ant任务属性文件参考</a></li>
            </ul>
            <p>保存属性文件。</p>
        </li>
    </ol>
    </li>
    <li>选择<samp class="codeph">cxf_tdjava.xml</samp> （自上而下）或<samp class="codeph">cxf_bujava.xml</samp> （自下而上），然后从顶级菜单中选择<b>Run&gt; External Tools&gt; External Tools Configurations。</b></li>
    <li>在打开的对话框中选择<b>Ant Build</b> ，然后在工具栏中选择<b>“New launch configuration”</b>按钮。选择<b>JRE</b>选项卡，然后选择<b>与工作空间在同一JRE中运行</b> 。单击<b>Apply</b> ，然后单击<b>Run</b> 。</li>
   <li><samp class="codeph">生成</samp> Web服务后，将向控制台输出<samp class="codeph">Build Successful</samp>消息。</li>
</ol>
        <p><img src="../images/ngrelt.png" alt="相关任务" border="0"></p>
        <a href="../tasks/cxf_ant_ws_client.html">使用Workbench中的Ant任务创建Web服务客户端</a>
 </body>
</html>