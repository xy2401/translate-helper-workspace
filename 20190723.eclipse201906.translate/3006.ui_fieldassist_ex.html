<html dir="ltr">
<head>
   <meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2013. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
   <link rel="stylesheet" href="../../../book.css" type="text/css" charset="ISO-8859-1"></link>
   <title>工作台 - 现场辅助示例</title>
</head>
<body dir="ltr">

<h2>
<b>示例 - 现场辅助</b></h2>

<h3>介绍</h3>Field Assist示例显示如何使用<code>org.eclipse.jface.fieldassist</code>中提供的支持在文本字段中提供任务帮助。示例对话框显示如何设置字段装饰以指示必填字段，包含错误和警告的字段以及提供内容辅助或快速修复的字段。该示例还包括一个首选项页面，允许您配置装饰和内容辅助支持。
<h3>运行示例</h3>安装插件后，您应该在操作栏上看到FieldAssist操作。选择菜单项“打开现场辅助对话框...”这将启动现场辅助对话框。可以使用示例首选项配置对话框。
<h4>设置字段辅助首选项</h4>
<p>提供了两个首选项页面，用于设置对话框的行为方式。“ <b>字段辅助示例首选项”</b>页面允许您配置对话框如何使用错误和警告，必填字段和内容辅助来注释字段。装饰的组合可用于注释字段。此首选项页面旨在显示配置装饰时可能的内容。它更倾向于程序员尝试现场辅助，并不打算成为让最终用户控制注释的良好偏好页面的示例。
</p>
<p>“ <b>内容辅助首选项”</b>页面允许您配置对话框文本字段中内容辅助的安装方式。现场辅助API（ContentProposalAdapter）中提供的大多数选项都可在此页面上进行配置。请注意，可以为不良用户体验配置内容辅助。例如，设置内容辅助以使用长延迟对所有字符自动激活是不可取的。当过滤器密钥未传播回控件时，使用累积建议过滤可能会造成混淆。在首选项页面中公开API的目的是允许现场辅助程序员尝试所有可能的组合。预计这些偏好中的任何一个都不会暴露给最终用户，而是开发者选择这些值的最佳组合以提供某种风格的内容辅助。
</p>
<h4>使用对话框</h4>
<p>示例对话框显示了在第一个对话框组（安全组）中配置装饰和内容提议行为的几种不同方法：</p><ul>
<li>“ <b>用户名”</b>字段配置为包含内容辅助的必填字段。在字段中键入非字母字符时，此字段被视为错误。错误修饰上安装了一个快速修复菜单，允许用户删除非字母字符。当在字段中键入名称“bob”时，该字段被视为警告模式。此字段还在装饰上安装默认选择（双击）侦听器以演示装饰侦听器界面。</li>
<li><b>Combo用户名字</b>段的配置类似，但使用组合框而不是文本字段，并在装饰而不是默认选择侦听器上安装选择（单击）侦听器。</li>
<li><b>Age</b>字段演示了Spinner小部件与装饰的使用。它被配置为必填字段，但不提供错误状态。当设置年龄大于65岁时，它被认为处于警告模式。</li>
<li>“ <b>密码”</b>字段不使用任何装饰或内容辅助。仅用于证明非装饰区域可以容易地与装饰区域对齐。</li>
</ul>

<p>第二个对话框组显示如何使用AutoCompleteField获取自动字段完成，而无需使用内容辅助键或装饰器。
</p>
<h4>示例源代码</h4>
<p>示例对话框不是很复杂，但旨在演示如何编程现场辅助。关于源代码的一些注意事项如下：</p><ul>
<li>使用ControlDecoration时，布局代码必须确保装饰周围有足够的边距空间来渲染装饰。
</li><li>示例插件注册标准字段装饰器，用于指示内容辅助的可用性，根据需要标记字段，或标记具有快速修复或警告错误的字段。如果在所有字段中使用标准装饰器描述，则使用注册表中的实际装饰。如果字段提供错误或警告的唯一描述，则包含文本的唯一装饰由字段管理。</li>
<li>SmartField及其子类用于为对话框中的不同字段提供特定于字段的验证，错误和警告消息，内容检索以及可选的快速修复。我们希望应用程序提供类似的框架（例如数据绑定）来实现这一目标。SmartField旨在显示一种用于验证对话框内不同字段的简单技术。它不被视为语义字段定义框架的强大示例。</li>
</ul>

</body>
</html>