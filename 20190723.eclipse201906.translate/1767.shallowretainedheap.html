<html lang="en-us" dir="ltr" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="DC.Type" content="concept"></meta>
<meta name="DC.Title" content="Shallow vs. Retained Heap"></meta>
<meta name="copyright" type="primary" content="Copyright (c) 2008, 2010 SAP AG and others. All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html "></meta>
<meta name="DC.Rights.Owner" type="primary" content="Copyright (c) 2008, 2010 SAP AG and others. All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html "></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="concept_shallowretainedsize"></meta>
<meta name="DC.Language" content="en-us"></meta>
<link rel="stylesheet" type="text/css" href="../styles/commonltr.css"></link>
<title>浅与保留堆</title>
</head>
<body id="concept_shallowretainedsize" dir="ltr">


	<h1 class="title topictitle1">浅与保留堆</h1>

	
	
	<div class="body conbody">
		<p class="p">
			<strong class="ph b">浅堆</strong>是一个对象消耗的内存。一个对象每个引用需要32位或64位（取决于OS体系结构），每个整数4个字节，每个长度8个字节等。根据堆转储格式，可以调整大小（例如，对齐到8等等... ）更好地模拟VM的实际消耗。</p>

		<p class="p">
			<strong class="ph b">保留</strong>的X集是当X被垃圾收集时将由GC移除的对象集。
		</p>

		<p class="p">
			<strong class="ph b">保留</strong>的X <strong class="ph b">堆</strong>是保留的X集中所有对象的浅大小的总和，即由X保持活着的内存。</p>

		<p class="p">一般来说，对象的浅堆是它在堆中的大小，同一对象的保留大小是当对象被垃圾回收时将释放的堆内存量。
		</p>

		<p class="p">一组主要对象的保留集，例如特定类的所有对象或由特定类加载器或简单地一堆任意对象加载的所有类的所有对象，是如果所有对象都被释放的对象集。领先的集合变得无法访问。保留集包括这些对象以及只能通过这些对象访问的所有其他对象。保留的大小是保留集中包含的所有对象的总堆大小。</p>

		<img class="image" src="../mimes/62ff1436.png" alt="示例对象图">
		<p class="p">最小保留大小给出保留大小的良好（欠）估计，其计算方式比一组对象的精确保留大小快。它仅取决于被检查集中的对象数，而不是堆转储中的对象数。</p>

	</div>


</body>
</html>