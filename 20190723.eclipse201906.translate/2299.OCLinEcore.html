<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<title>OCLinEcore语言</title>
<link href="book.css" rel="stylesheet" type="text/css"></link>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1"></meta>
<link rel="home" href="index.html" title="OCL Documentation"></link>
<link rel="up" href="UsersGuide.html" title="Users Guide"></link>
<link rel="prev" href="EssentialOCL.html" title="The Essential OCL Language"></link>
<link rel="next" href="CompleteOCL.html" title="The Complete OCL Language"></link>
</head>
<body bgcolor="white" dir="ltr" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">OCLinEcore语言</h1>
<div class="section" title="OCLinEcore语言">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="OCLinEcore"></a> OCLinEcore语言</h2>
</div>
</div>
</div>
<p>Ecore Abstract Syntax支持使用嵌入在EAnnotations中的OCL。</p>
<p>OCLinEcore语言提供了一个文本的具体语法，使用户可以访问Ecore和OCL。可以在<a class="link" href="Tutorials.html#OCLinEcoreMetamodel" title="将Ecore模型编辑为OCLinEcore">OCLinEcore Library Metamodel</a>和<a class="link" href="Tutorials.html#OCLinEcoreTutorialHelpers" title="帮手功能和操作">OCLinEcore Helpers中</a>找到示例。
			</p>
<p>OCLinEcore工具提供了基于Xtext的丰富编辑环境，具有强大的语义检查功能。</p>
<p>OCLinEcore不仅仅是Ecore的OCL编辑器，它非常有用</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>提供Ecore元模型的连贯文本视图</p>
</li>
<li class="listitem">
<p>为某些Ecore约定提供语法糖</p>
</li>
<li class="listitem">
<p>编辑和验证OCL</p>
</li>
<li class="listitem">
<p>将OCL整合到Ecore中</p>
</li>
</ul>
</div>
<p>计划进一步采用语法糖并为所有与类相关的UML概念提供全面支持。因此，语言尽可能使用UML作为其参考点。</p>
<p>OCLinEcore工具可以直接在* .ecore文件上使用，也可以在* .oclinecore文本对应文件上使用。</p>
<p>请按照<a class="link" href="Tutorials.html#OCLinEcoreTutorial" title="OCLinEcore教程">OCLinEcore教程</a>了解该语言及其工具的介绍。
			</p>
<div class="section" title="句法">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Syntax2"></a>句法</h3>
</div>
</div>
</div>
<p>OCLinEcore语法具有一致的结构，受OMG规范中的非正式定义和Ecore层次结构的影响。大多数Ecore概念由表单的语法表示：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>可选的主要形容词</p>
</li>
<li class="listitem">
<p>强制关键字</p>
</li>
<li class="listitem">
<p>强制名称方面</p>
</li>
<li class="listitem">
<p>进一步的方面</p>
</li>
<li class="listitem">
<p>次要形容词的可选括号</p>
</li>
<li class="listitem">
<p>元素的可选括号子句</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>组成元素</p>
</li>
<li class="listitem">
<p>注释</p>
</li>
<li class="listitem">
<p>限制</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>因此在：</p>
<div class="literallayout">
<p>
<code class="code">abstract class示例extends Base {interface} {...}<br>

</code>
</p>
</div>
<p></p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
							
<code class="code">abstract</code>是一个主要的形容词</p>
</li>
<li class="listitem">
<p>
							
<code class="code">class</code>是一个关键字</p>
</li>
<li class="listitem">
<p>
							
<code class="code">Example</code>是名称facet</p>
</li>
<li class="listitem">
<p>
							
<code class="code">extends Base</code>是另一个方面</p>
</li>
<li class="listitem">
<p>
							
<code class="code">{ interface }</code>支持二级界面形容词。
						</p>
</li>
<li class="listitem">
<p>
							
<code class="code">{ ... }</code>为类内容提供嵌套上下文。
						</p>
</li>
</ul>
</div>
<div class="section" title="语法实现">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="GrammarImplementation2"></a>语法实现</h4>
</div>
</div>
</div>
<p>Xtext编辑器使用的语法可以在以下位置找到：</p>
<p>/src/org/eclipse/ocl/examples/xtext/oclinecore/OCLinEcore.xtext</p>
<p>在org.eclipse.ocl.xtext.oclinecore插件中。OCLinEcore语法扩展了Essential OCL语法。</p>
</div>
<div class="section" title="模">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="Module"></a>模</h4>
</div>
</div>
</div>
<p>Module语法支持Ecore文件的整体结构</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-rootpackage.png"></div>
<p>
					
</p>
<p>该模块的定义包括</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>可选模块声明</p>
</li>
<li class="listitem">
<p>OCL标准库的可选规范</p>
</li>
<li class="listitem">
<p>可选导入引用的Ecore或UML或OCLinEcore资源</p>
</li>
<li class="listitem">
<p><a class="link" href="OCLinEcore.html#OCLinEcore-Package" title="包">包</a>的层次结构
							
</p>
</li>
</ul>
</div>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-library.png"></div>
<p>
					
</p>
<p>可以导入零个或多个外部库，以便合并它们的定义，以形成基本和扩展评估功能的复合库。</p>
<p>如果导入了任何库，则会禁止隐式导入默认OCL标准库。可以通过将默认库指定为第一个库导入来扩展默认库。</p>
<div class="literallayout">
<p>
<code class="code">library ocl：'http：//www.eclipse.org/ocl/3.1.0/OCL.oclstdlib'<br>

</code>
</p>
</div>
<p></p>
<p>第一个库包的名称空间URI定义了复合库的名称空间URI。后续库导入的名称空间URI可能不会冲突，但可能为null。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-import.png"></div>
<p>
					
</p>
<p>可以导入零个或多个外部元模型。</p>
</div>
<div class="section" title="包">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Package"></a>包</h4>
</div>
</div>
</div>
<p>Package语法支持包和分类器的嵌套层次结构</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-package1.png"></div>
<p>
					
</p>
<p>包具有名称和可选的名称空间前缀和名称空间URI。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-package2.png"></div>
<p>
					
</p>
<p>包的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Package" title="包">包</a> ， <a class="link" href="OCLinEcore.html#OCLinEcore-Classifier" title="分类">分类器</a>和<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> 。
					</p>
</div>
<div class="section" title="分类">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Classifier"></a>分类</h4>
</div>
</div>
</div>
<p>Classifier语法支持<a class="link" href="OCLinEcore.html#OCLinEcore-Package" title="包">Package</a>中类型的定义。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-classifiers.png"></div>
<p>
					
</p>
<p>分类器可以是</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>一<a class="link" href="OCLinEcore.html#OCLinEcore-Class" title="类">类</a>
							
</p>
</li>
<li class="listitem">
<p>一个<a class="link" href="OCLinEcore.html#OCLinEcore-DataType" title="数据类型">DataType</a>
							
</p>
</li>
<li class="listitem">
<p>一个<a class="link" href="OCLinEcore.html#OCLinEcore-Enumeration" title="列举">枚举</a>具有相关<a class="link" href="OCLinEcore.html#OCLinEcore-EnumerationLiteral" title="EnumerationLiteral">EnumerationLiterals</a>
							
</p>
</li>
</ul>
</div>
</div>
<div class="section" title="数据类型">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-DataType"></a>数据类型</h4>
</div>
</div>
</div>
<p>DataType语法支持EDataType的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-datatype1.png"></div>
<p>
					
</p>
<p>DataType具有名称和可选的模板参数以及实例类名称。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-datatype2.png"></div>
<p>
					
</p>
<p>DataType可以是可序列化的;默认情况下不是。</p>
<p>DataType的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">不变量</a>和<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> 。
					</p>
</div>
<div class="section" title="列举">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Enumeration"></a>列举</h4>
</div>
</div>
</div>
<p>Enumeration语法支持EEnum的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-enumeration1.png"></div>
<p>
					
</p>
<p>Enumeration具有名称和可选的模板参数以及实例类名称。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-enumeration2.png"></div>
<p>
					
</p>
<p>枚举可以是可序列化的;默认情况下不是。</p>
<p>枚举的内容可以包括枚举文字， <a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">不变量</a>和<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> 。
					</p>
</div>
<div class="section" title="EnumerationLiteral">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-EnumerationLiteral"></a> EnumerationLiteral</h4>
</div>
</div>
</div>
<p>EnumerationLiteral语法支持EEnumLiteral的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-enumerationliteral.png"></div>
<p>
					
</p>
<p>EnumerationLiteral具有名称和可选值。</p>
<p>EnumerationLiteral的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">Annotations</a> 。
					</p>
</div>
<div class="section" title="类">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Class"></a>类</h4>
</div>
</div>
</div>
<p>Class语法支持EClass的定义。</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>可选的抽象前缀</p>
</li>
<li class="listitem">
<p>其他分类器的可选扩展</p>
</li>
<li class="listitem">
<p>可选的不变量，注释，功能和操作</p>
</li>
</ul>
</div>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-class1.png"></div>
<p>
					
</p>
<p>一个类可以是抽象的，具有名称和可选的模板参数。</p>
<p>（注意，'abstract'前缀是可选的，即使该图表明它是必需的。）</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-class2.png"></div>
<p>
					
</p>
<p>类可以使用模板参数扩展可以专门化的一个或多个其他<a class="link" href="OCLinEcore.html#OCLinEcore-TypeRef" title="类型">类</a> 。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-class3.png"></div>
<p>
					
</p>
<p>Class可以具有实例类名称，也可以声明为接口。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-class4.png"></div>
<p>
					
</p>
<p>类的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> ， <a class="link" href="OCLinEcore.html#OCLinEcore-Operation" title="手术">操作</a> ， <a class="link" href="OCLinEcore.html#OCLinEcore-StructuralFeature" title="StructuralFeature">结构特征</a>和<a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">不变量</a> 。
					</p>
</div>
<div class="section" title="StructuralFeature">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-StructuralFeature"></a> StructuralFeature</h4>
</div>
</div>
</div>
<p>StructuralFeature语法支持StructuralFeatures的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-features.png"></div>
<p>
					
</p>
<p>结构特征可能是</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p><a class="link" href="OCLinEcore.html#OCLinEcore-Attribute" title="属性">属性</a>
							
</p>
</li>
<li class="listitem">
<p><a class="link" href="OCLinEcore.html#OCLinEcore-Reference" title="参考">参考</a>
							
</p>
</li>
</ul>
</div>
</div>
<div class="section" title="属性">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Attribute"></a>属性</h4>
</div>
</div>
</div>
<p>Attribute语法支持EAttribute的定义;具有DataType值的属性。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-attribute1.png"></div>
<p>
					
</p>
<p>属性可以是静态的并且具有名称。</p>
<p><code class="code">static</code>限定符支持UML和OCL支持的静态属性声明。请注意，Ecore不支持静态属性。
					</p>
<p><code class="code">definition</code>限定符是完整OCL定义的过时实验语法。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-attribute2.png"></div>
<p>
					
</p>
<p>属性可以具有<a class="link" href="OCLinEcore.html#OCLinEcore-TypeRef" title="类型">类型</a>和多重性。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-attribute3.png"></div>
<p>
					
</p>
<p>Attribute可以是一个简单的初始化程序和各种限定符：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<code class="code">derived</code>指定派生属性（默认值<code class="code">!derived</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">id</code>指定该属性提供其类的标识符（默认值<code class="code">!id</code> ））</p>
</li>
<li class="listitem">
<p>
								
<code class="code">ordered</code>指定属性元素是有序的（默认<code class="code">!ordered</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">readonly</code>指定属性元素是只读的（不可更改）（默认<code class="code">!readonly</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">transient</code>指定属性元素是动态计算的（默认值<code class="code">!transient</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unique</code>指定没有重复的属性元素（默认<code class="code">unique</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unsettable</code>指定属性元素可能没有值（默认值<code class="code">!unsettable</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">volatile</code>指定属性元素不是持久化的（默认值<code class="code">!volatile</code> ）</p>
</li>
</ul>
</div>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-attribute4.png"></div>
<p>
					
</p>
<p>属性的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> ，初始和派生<a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">约束</a> 。
					</p>
<p>可以使用初始化器定义简单的常量值。计算值需要使用约束。如果存在初始约束和派生约束，则忽略初始约束。</p>
<p>多重性下限和上限以及<code class="code">ordered</code>和<code class="code">unique</code>的默认值遵循UML规范，因此对应于单个元素集<code class="code">[1] {unique,!ordered}</code> 。请注意，UML默认值与Ecore默认值不同，后者对应于可选元素OrderedSet，即<code class="code">[?]{ordered,unique}</code> 。
					</p>
</div>
<div class="section" title="参考">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Reference"></a>参考</h4>
</div>
</div>
</div>
<p>Reference语法支持EReference的定义;具有类值的属性。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-reference1.png"></div>
<p>
					
</p>
<p>引用可以是静态的，并且具有名称和可选的相反名称。</p>
<p><code class="code">static</code>限定符支持UML和OCL支持的静态属性声明。请注意，Ecore不支持静态属性。
					</p>
<p><code class="code">definition</code>限定符是完整OCL定义的过时实验语法。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-reference2.png"></div>
<p>
					
</p>
<p>参考可以具有<a class="link" href="OCLinEcore.html#OCLinEcore-TypeRef" title="类型">类型</a>和多重性。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-reference3.png"></div>
<p>
					
</p>
<p>Reference可以是一个简单的初始化器和各种限定符：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<code class="code">composes</code>指定一个撰写（包含）引用（默认<code class="code">!composes</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">derived</code>指定派生引用（默认<code class="code">!derived</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">ordered</code>指定参考元素是有序的（默认<code class="code">!ordered</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">readonly</code>指定引用元素是只读的（不可更改）（默认值<code class="code">!readonly</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">resolve</code>指定参考元素代理可能需要解析（默认<code class="code">!resolve</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">transient</code>指定参考元素是动态计算的（默认值<code class="code">!transient</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unique</code>指定没有重复的引用元素（默认<code class="code">unique</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unsettable</code>指定引用元素可能没有值（默认值<code class="code">!unsettable</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">volatile</code>指定不保留引用元素（默认值<code class="code">!volatile</code> ）</p>
</li>
</ul>
</div>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-reference4.png"></div>
<p>
					
</p>
<p>Reference的内容可以包括键， <a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> ，初始和派生<a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">约束</a> 。
					</p>
<p>可以使用初始化器定义简单的常量值。计算值需要使用约束。如果存在初始约束和派生约束，则忽略初始约束。</p>
<p>多重性下限和上限以及<code class="code">ordered</code>和<code class="code">unique</code>的默认值遵循UML规范，因此对应于单个元素集<code class="code">[1] {unique,!ordered}</code> 。请注意，UML默认值与Ecore默认值不同，后者对应于可选元素OrderedSet，即<code class="code">[?]{ordered,unique}</code> 。
					</p>
</div>
<div class="section" title="手术">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Operation"></a>手术</h4>
</div>
</div>
</div>
<p>Operation语法支持EOperation的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation1.png"></div>
<p>
					
</p>
<p>操作可以是静态的，并且具有名称和可选的模板参数。</p>
<p><code class="code">static</code>限定符支持UML和OCL支持的静态操作的声明。请注意，Ecore不支持静态操作。
					</p>
<p><code class="code">definition</code>限定符是完整OCL定义的过时实验语法。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation2.png"></div>
<p>
					
</p>
<p>操作具有零个更多<a class="link" href="OCLinEcore.html#OCLinEcore-Parameter" title="参数">参数</a> 。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation3.png"></div>
<p>
					
</p>
<p>操作可以具有返回<a class="link" href="OCLinEcore.html#OCLinEcore-TypeRef" title="类型">类型</a>和多重性。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation4.png"></div>
<p>
					
</p>
<p>操作可以声明零次或多次抛出<a class="link" href="OCLinEcore.html#OCLinEcore-TypeRef" title="类型">异常</a> 。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation5.png"></div>
<p>
					
</p>
<p>操作可能有多种限定符：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<code class="code">derived</code>指定派生操作（默认<code class="code">!derived</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">ordered</code>指定返回的元素是有序的（默认<code class="code">!ordered</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unique</code>指定没有重复的返回元素（默认<code class="code">unique</code> ）</p>
</li>
</ul>
</div>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-operation6.png"></div>
<p>
					
</p>
<p>操作的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> ，前提条件，后置条件和身体<a class="link" href="OCLinEcore.html#OCLinEcore-Constraint" title="约束">约束</a> 。
					</p>
<p><code class="code">static</code>限定符支持UML和OCL支持的静态操作的声明。请注意，Ecore不支持静态操作。
					</p>
<p><code class="code">definition</code>限定符是完整OCL定义的过时实验语法。
					</p>
<p>多重性下限和上限以及<code class="code">ordered</code>和<code class="code">unique</code>的默认值遵循UML规范，因此对应于单个元素集<code class="code">[1] {unique,!ordered}</code> 。请注意，UML默认值与Ecore默认值不同，后者对应于可选元素OrderedSet，即<code class="code">[?]{ordered,unique}</code> 。
					</p>
</div>
<div class="section" title="参数">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Parameter"></a>参数</h4>
</div>
</div>
</div>
<p>Parameter语法支持EParameter的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-parameter1.png"></div>
<p>
					
</p>
<p>参数有一个名称，可选“Type：＃OCLinEcore-TypeRef和multiplicity</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-parameter2.png"></div>
<p>
					
</p>
<p>参数可以有多种限定符：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<code class="code">ordered</code>指定返回的元素是有序的（默认<code class="code">!ordered</code> ）</p>
</li>
<li class="listitem">
<p>
								
<code class="code">unique</code>指定没有重复的返回元素（默认<code class="code">unique</code> ）</p>
</li>
</ul>
</div>
<p>参数的内容可以包括<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a> 。
					</p>
<p>多重性下限和上限以及<code class="code">ordered</code>和<code class="code">unique</code>的默认值遵循UML规范，因此对应于单个元素集<code class="code">[1] {unique,!ordered}</code> 。请注意，UML默认值与Ecore默认值不同，后者对应于可选元素OrderedSet，即<code class="code">[?]{ordered,unique}</code> 。
					</p>
</div>
<div class="section" title="类型">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-TypeRef"></a>类型</h4>
</div>
</div>
</div>
<p>Type语法支持EType和EGenericType的定义以及ETypedElement。语法与Java非常相似。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-types.png"></div>
<p>
					
</p>
<p>
						
<span class="emphasis"><em>PrimitiveTypeRefCS</em></span>提供对内置OCL类型及其相应的Ecore对应类型的访问</p>
<table id="N10D05">
<tr>
							
<th>OCL类型</th>
							<th>Ecore类型</th>
						
</tr>
<tr>
							
<td>布尔</td>
							<td>EBoolean</td>
						
</tr>
<tr>
							
<td>整数</td>
							<td>EBigInteger</td>
						
</tr>
<tr>
							
<td>真实</td>
							<td>EBigDecimal</td>
						
</tr>
<tr>
							
<td>串</td>
							<td>为EString</td>
						
</tr>
<tr>
							
<td>UnlimitedNatural</td>
							<td>EBigInteger</td>
						
</tr>
</table>
<p>
						
<span class="emphasis"><em>TypedTypeRefCS</em></span>提供用户定义的类型及其模板参数化。
					</p>
</div>
<div class="section" title="AnnotationElement">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Annotations"></a> AnnotationElement</h4>
</div>
</div>
</div>
<p>AnnotationElement语法支持使用详细信息，引用和内容定义EAnnotation层次结构。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-annotations.png"></div>
<p>
					
</p>
<p>AnnotationElement可以是<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a>或<a class="link" href="OCLinEcore.html#OCLinEcore-Documentation" title="文档">文档</a> 。
					</p>
</div>
<div class="section" title="注解">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Annotation"></a>注解</h4>
</div>
</div>
</div>
<p>Annotation语法支持使用详细信息，引用和内容定义EAnnotation层次结构。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-annotation1.png"></div>
<p>
					
</p>
<p>Annotation具有源URI，如果URI只是名称，则可以不带引号指定。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-annotation2.png"></div>
<p>
					
</p>
<p>注释可能包含<a class="link" href="OCLinEcore.html#OCLinEcore-Detail" title="详情">详细信息</a> 。
					</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-annotation3.png"></div>
<p>
					
</p>
<p>注释的内容可以包括</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
								
<a class="link" href="OCLinEcore.html#OCLinEcore-Annotation" title="注解">注释</a>
							
</p>
</li>
<li class="listitem">
<p>内容要素</p>
</li>
<li class="listitem">
<p>引用其他元素的名称</p>
</li>
</ul>
</div>
</div>
<div class="section" title="详情">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Detail"></a>详情</h4>
</div>
</div>
</div>
<p>Detail语法支持EAnnotation细节的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-detail.png"></div>
<p>
					
</p>
<p>细节包括细节键和可选值。</p>
</div>
<div class="section" title="文档">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Documentation"></a>文档</h4>
</div>
</div>
</div>
<p>Documentation语法是genmodel注释的实验性语法糖。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-annotations.png"></div>
<p>
					
</p>
<p>它可能会被一个Javadoc风格的评论所取代，该评论将持续存在于Ecore中。</p>
</div>
<div class="section" title="约束">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="OCLinEcore-Constraint"></a>约束</h4>
</div>
</div>
</div>
<p>Constraints语法支持将OCL表达式嵌入为类的不变量，作为前提条件，后置条件或操作主体以及属性的初始值或派生值。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-constraints.png"></div>
<p>
					
</p>
<p>通过调用<a class="link" href="EssentialOCL.html#EssentialOCL-Exp" title="OCL Expression">ExpCS</a>的<span class="emphasis"><em>SpecificationCS</em></span>规则进行<a class="link" href="EssentialOCL.html#EssentialOCL-Exp" title="OCL表达">集成</a> 。 （替代<span class="emphasis"><em>UnquotedString</em></span>是一个实现细节，支持从Ecore导入，其中OCL是未解析的文本形式而不是分析的语法树。）
					</p>
<p>可以<code class="code">callable</code>类不变量来指定Ecore表示将使用EOperation而不是EAnnotation表示。
					</p>
<p>类不变量可选地支持第二个OCL表达式作为不变名称的括号。当不变量失败以便提供用户定义的失败消息时，将调用此带括号的表达式。此消息是错误还是警告取决于对不变量的评估：</p>
</div>
<div class="section" title="码头">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="Terminals"></a>码头</h4>
</div>
</div>
</div>
<p>OCLinEcore语法扩展了Esstial OCL语法，应该参考INT语法和ExpCS的定义。</p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/1200-terminals.png"></div>
<p>
					
</p>
</div>
<div class="section" title="名称">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="Names"></a>名称</h4>
</div>
</div>
</div>
<p>Unrestricted name是OCL保留关键字以外的任何名称。请参见<a class="link" href="EssentialOCL.html#EssentialOCL-UnrestrictedName" title="UnrestrictedName">UnrestrictedName</a> 。
					</p>
<p>未保留的名称是除上述OCL保留关键字或OCL保留类型之外的任何名称。请参见<a class="link" href="EssentialOCL.html#EssentialOCL-UnreservedName" title="UnreservedName">UnreservedName</a> 。
					</p>
<p>如果需要使用任何这些名称或非字母数字名称，则必须使用转义字符串语法作为名称：例如<code class="code">_'true'</code> 。除了八进制外，支持通常的Java反斜杠转义： <code class="code">_'new-lines\n\x0a\u000a'</code>
					
</p>
</div>
<div class="section" title="评论">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="Comments"></a>评论</h4>
</div>
</div>
</div>
<p>忽略以下所有文本支持单行注释<code class="code">--</code> 。
					</p>
<p>忽略<code class="code">/* ...所有文本支持多行注释*/</code> 。
					</p>
<p><code class="code">/** ...所有文本都支持文档注释<code class="code">/** ...*/</code> 。遗憾的是，目前没有创建文档EAnnotation。
					</p>
</div>
</div>
<div class="section" title="限制">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Limitations"></a>限制</h3>
</div>
</div>
</div>
<p>OCLinEcore支持Ecore的全部功能，但是对泛型类型的上限和下限的支持尚未得到充分测试。</p>
<p>OCLinEcore为一些Ecore约定提供了主要语法，例如genmodel注释和约束;功能图需要更多支持。</p>
</div>
</div>
</body>
</html>