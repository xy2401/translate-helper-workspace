<!doctype html public "-//w3c//dtd html 4.0//en" gtc:encodedoriginal="PCFkb2N0eXBlIGh0bWwgcHVibGljICItLy93M2MvL2R0ZCBodG1sIDQuMC8vZW4iPg==">
<html dir="ltr">
<head>
   <meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2013. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
   <link rel="stylesheet" href="../../../book.css" type="text/css" charset="ISO-8859-1"></link>
   <title>Workbench  - 自述文件工具示例</title>
</head>
<body dir="ltr">

<h2>
<b>示例 - 自述文件工具</b></h2>

<h3>介绍</h3>自述文件编辑器显示如何定义自己的扩展点以供其他插件使用。它还显示了如何为资源弹出菜单项，新资源向导，扩展名（.readme）上的文件编辑器，自定义视图和属性页创建扩展。
<h3>运行示例</h3>要开始使用此示例，请使用文件创建向导创建扩展名为.readme的文件，或使用示例创建向导创建一个文件。通过选择“窗口”&gt;“显示视图”&gt;“其他”并展开“自述文件”部分，可以看到此示例提供的其他视图。单击导航器视图上的自述文件图标可以查看视图操作。
<h4>创建一个新的自述文件</h4>创建一个文件扩展名为.readme的新文件。从“文件”菜单中，选择“新建”，然后从子菜单中选择“其他...”。在向导中单击“简单”，然后在左侧列表中选择“文件”。单击“下一步”以提供文件名（确保扩展名为.readme）以及应包含该文件的文件夹。
<h4>示例创建向导</h4>从File菜单中，选择New，然后从子菜单中选择Example ...现在选择Example Creation Wizards。选择自述文件。点击下一步。选择要在其中创建文件的文件夹。键入扩展名为.readme的文件的名称。单击完成。
<h4>自述文件视图扩展操作</h4>在“导航器视图”中，选择扩展名为.readme的文件。如果没有人创建具有该扩展名的文件。在导航器视图的本地工具栏上，您将看到一个按钮，其悬停帮助显示“运行自述文件视图扩展”。单击此按钮。将弹出一个对话框，说明已执行View Action。
<h4>弹出菜单</h4>在“导航器视图”中，选择扩展名为.readme的文件。如果没有人创建具有该扩展名的文件。选择要调出弹出菜单的文件。请注意，弹出菜单中有一个菜单项显示Show Readme Action。选择此菜单项可打开一个对话框，显示弹出菜单操作已执行。
<h4>首选项页面</h4>从“窗口”菜单中选择“首选项”。单击名为Readme Example的页面。这显示了首选项页面的示例。
<h4>物业页面</h4>在“导航器视图”中，选择扩展名为.readme的文件。如果没有人创建具有该扩展名的文件。选择要打开弹出菜单的文件，然后选择“属性”菜单项。单击名为Readme Tool的页面以查看属性页面的示例。
<h4>自述文件编辑器</h4>自述文件编辑器是* .readme类型文件的默认编辑器。创建扩展名为.readme的文件，双击打开文件，或弹出弹出菜单，选择打开方式，然后从子菜单中选择自述文件编辑器。请注意，编辑器有一个带铅笔的图标。这是自述文件工具默认使用的类型为* .readme的文件的编辑器。
<h4>自述编辑器操作</h4>这演示了仅适用于特定编辑器的操作示例。当自述文件编辑器具有焦点时，请注意4个附加工具栏按钮 - 运行自述文件编辑器扩展，自述文件编辑器操作1，自述文件编辑器操作2，自述文件编辑器操作3。
<p>当自述文件编辑器具有焦点时，会出现名为Readme的下拉菜单。它包含前面描述的操作：自述文件编辑器操作1，自述文件编辑器操作2，自述文件编辑器操作3。
</p><h4>自述文件部分视图</h4>要查看此自述文件部分视图，请从“窗口”菜单中选择“显示视图”，然后从子菜单中选择“其他...”。展开自述文件，然后选择自述文件。当在导航器视图中选择.readme文件时，这将显示当前* .readme文件中的部分列表。您还可以在“大纲”视图中查看* .readme文件的结构。
<p>当每个部分以数字开头时，扩展名为.readme的文件可以分解为多个部分。例如，如果在自述文件编辑器中输入以下文本，则自述文件工具将检测2个部分。要查看自述文件工具中如何检测到部分，请在自述文件编辑器中键入一些文本，通过键入CTRL-S或选择文件 - &gt;保存来保存文件。打开“自述文件节”视图，然后在“导航器视图”中选择.readme文件。
</p><p>示例文字：</p><p>99.1这是我的第一部分<br>这是我的第一部分中的一些文字。
</p><p>99.1.1这是一个小节<br>这是我的小节中的一些文字。
</p><h4>拖放</h4>
<p>通过在“大纲视图”中选择一个部分并将选择拖动到文本文件的顶部，可以看到拖放功能。选择的内容将附加到文件中。
</p><h4>帮助贡献</h4>自述文件工具示例还演示了如何在它提供的所有扩展上使用和实现上下文帮助 - 视图，各种操作和向导页面。要获取操作的上下文帮助，请将鼠标悬停在菜单项上，但不选择它，然后按F1键。您还可以在“自述文件节”视图和“示例创建向导”页面（在“新建”向导中）获取上下文相关（F1）帮助。
<br> 
<h3>细节</h3>自述文件工具示例声明了一个扩展点并提供了许多扩展。所提供的扩展在理解Workbench如何工作方面非常全面，因为它使用了工作台声明的一些更有趣的扩展点。此示例中包含的提供的扩展包括视图和视图操作，首选项页面，属性页面，向导，编辑器和编辑器操作，弹出菜单，操作集，帮助贡献，帮助上下文和放置操作。
<p>此示例还提供了插件中声明的扩展点。任何使用此示例定义的org.eclipse.ui.examples.readmetool.sectionParser扩展的插件都需要IReadmeFileParser类。DefaultSectionParser类是IReadmeFileParser的示例实现。
</p><p>ReadmeEditor类实现IEditorPart，并使用org.eclipse.ui.editors扩展点在plugin.xml中定义为扩展名为.readme的文件的编辑器。ReadmeSectionsView类实现IViewPart，并使用org.eclipse.ui.views扩展点定义为视图。此扩展点还定义视图的类别，以供在视图选择中使用。
</p><p>在此示例中定义了两种类型的首选项设置，即工作台首选项和资源属性。工作台首选项在类ReadmePreferencePage中定义，该类实现IWorkbenchPreferencePage，以便将其添加到Window-&gt; Preferences对话框中。该类在plugin.xml的扩展点org.eclipse.ui.preferencePages中定义。两个资源属性页是ReadmeFilePropertyPage和ReadmeFilePropertyPage2，它们都实现了IWorkbenchPropertyPage。它们都被定义为由org.eclipse.ui.propertyPages扩展点中plugin.xml中的objectClass标记在IFile类型上调用。
</p><p>ReadmeCreationWizard类实现了INewWizard，并在plugin.xml的org.eclipse.ui.newWizards扩展点中定义。此扩展点还定义了当用户选择File-&gt; New-&gt; Example ....时显示的向导类别。
</p><p>此示例中添加了几个操作存根。操作集声明了一个标有自述文件编辑器的菜单<b> </b>使用扩展点org.eclipse.ui.actionSets包含在工作台窗口菜单栏中。它还使用标签toolbarPath和menubarPath为工作台工具栏和菜单栏定义操作。它使用WindowActionDelegate类来实现IWorkbenchWindowActionDelegate来实现该操作。弹出菜单的操作被扩展点org.eclipse.ui.popupMenus中的类PopupMenuActionDelegate定义为objectContribution。PopupMenuActionDelegate实现IObjectActionDelegate并使用提供的IWorkbenchPart打开消息对话框。视图操作ViewActionDelegate在扩展点org.eclipse.ui.viewActions中定义，并实现IViewActionDelegate。它出现的视图由标记targetID定义，在此示例中为org.eclipse.ui.views。ResourceNavigator。编辑器操作由实现IEditorActionDelegate的类EditorActionDelegate定义，并使用org.eclipse.ui.editorActions扩展点添加。应用它的编辑器由标记targetID定义，在此示例中，标记targetID在org.eclipse.ui.examples.readmetool上定义。ReadmeEditor。</p><p>ReadmeDropActionDelegate类实现了IDropDelegate。每次在工作台中执行删除操作时都会通知IDropDelegates。此操作的扩展点是org.eclipse.ui.dropActions。

</p></body>
</html>
