<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>使用调试器 -  PHP开发工具帮助</title><link type="text/css" rel="stylesheet" href="../../css/main.css"></link></head><body dir="ltr"><h1 id="working-with-the-debugger">使用调试器</h1><!--context:working_with_the_debugger--><p>本教程的目的是教您如何远程和本地调试文件和应用程序，以便从文件和项目中获得最高的效率和准确性。</p><h4 id="contents">内容：</h4><ul><li><a href="#purpose-and-usage">目的和用法</a></li><li><a href="#debugging-local-php-files-php-cli-application">调试本地PHP文件（PHP CLI应用程序）</a></li><li><a href="#debugging-php-web-applications-php-web-application">调试PHP Web应用程序（PHP Web应用程序）</a></li></ul><h2 id="purpose-and-usage">目的和用法</h2><p>PDT的调试功能可以检测和诊断位于本地或远程服务器上的PHP代码中的错误。调试器允许您通过设置断点，挂起启动的程序，单步执行代码以及检查变量的内容来控制程序的执行。</p><p>应该在脚本和应用程序形成足以进行试验和测试的阶段使用调试。</p><p>PDT包括几种类型的调试：</p><ul><li>本地调试PHP脚本 - 使用内部PHP可执行调试器调试PHP文件。</li><li>调试PHP Web页面 - 调试服务器上的文件，应用程序和项目</li></ul><h2 id="debugging-local-php-files-php-cli-application">调试本地PHP文件（PHP CLI应用程序）</h2><p>可以使用PDT的内部调试器在本地调试工作区上的PHP文件（PHP CLI Application）。</p><div class="note"><h4 id="note">注意：</h4><p>您的服务器必须运行Xdebug或Zend Debugger才能使远程调试功能正常运行。</p></div><p>在本地调试PHP文件</p><p>可以使用PDT的内部调试器调试文件。</p><div class="ref"><p>此过程演示如何使用内部调试器或服务器的调试器调试文件：</p><p>1。在PHP项目中， <a href="../../tasks/file_creation/creating_a_php_file_within_a_project.html">创建一个</a>名为“debug” <a href="../../tasks/file_creation/creating_a_php_file_within_a_project.html">的PHP文件</a> ，并将示例代码复制粘贴到其中。（ <a href="resources/debugger_code_.htm">点击这里查看代码</a> 。）</p><p>2。通过双击编辑器窗口左侧的标记栏，在第103行设置断点。将出现一个蓝色球。</p><p>3。保存文件。</p><p>4。单击调试按钮旁边的箭头<img alt="debug_icon.png" title="debug_icon.png" src="images/debug_icon.png" style="border-width:0px">在工具栏上，选择<strong>Debug Configurations ...</strong> - 或 - 选择<strong>Run |</strong>从主菜单<strong>调试配置</strong> - 或者 - 在Project Explorer视图中右键单击该文件，然后选择<strong>Debug Configurations ....</strong>  将出现“调试”对话框。</p><p>5。双击“PHP CLI应用程序”选项以创建新的调试配置。</p><p><img alt="新的调试配置" title="新的调试配置" src="images/debug_phpscript_configuration.png" style="border-width:0px"></p><p>6。输入新配置的名称。</p><p>7。要使用PHP可执行文件调试器调试文件，请在<strong>Runtime PHP</strong>类别中选择适当的选项。如果没有可用的PHP可执行文件，请单击“ <strong>已安装的PHP”</strong>按钮，并在“ <a href="../../reference/preferences/php_executables/index.html">PHP可执行首选项”</a>页面中添加PHP可执行<a href="../../reference/preferences/php_executables/index.html">文件</a> 。</p><p>8。在PHP文件下，单击“ <strong>浏览”</strong>并选择“调试”文件。</p><p>9。确保选中“在第一行中断”断点复选框。</p><p>10。单击<strong>Apply</strong> ，然后单击<strong>Debug</strong> 。</p><p>11。如果询问是否打开PHP Debug Perspective，请单击<strong>Yes</strong> 。</p><p>12。将打开许多视图，其中包含有关脚本的信息。</p><p>13。调试视图是显示调试堆栈跟踪的位置，可以监视和控制调试过程。</p><p><img alt="调试视图" title="调试视图" src="images/debug_view.png" style="border-width:0px"></p> <p>14。调试过程目前已停止在你的第一个<code>&lt;?php标签出现。</code></p><p>15。单击“继续”图标<img alt="resume_icon.png" title="resume_icon.png" src="images/resume_icon.png" style="border-width:0px">继续到断点。</p><p>16。单击Step Into <img alt="step_into_icon.png" title="step_into_icon.png" src="images/step_into_icon.png" style="border-width:0px"> 。调试器进入第103行定义的功能并前进到第77行。</p><p>17。现在，“变量”视图将显示有关相关变量和参数的各种信息。</p><p>18。在编辑器窗口中，将光标放在$ worker_name，$ worker_address和$ worker_phone上。出现工具提示，显示变量值。</p><p><img alt="调试时的编辑器视图" title="调试时的编辑器视图" src="images/debug_tutorial_editor.png" style="border-width:0px"></p><p>19。单击Step Return。 <img alt="debug_step_return_icon.png" title="debug_step_return_icon.png" src="images/debug_step_return_icon.png" style="border-width:0px"> 光标返回第103行。Debug Output视图将显示在断点之前创建的HTML输出，而Browser Output视图将显示当前输出到浏览器。</p><p>20。在“调试”视图中，单击“恢复” <img alt="resume_icon.png" title="resume_icon.png" src="images/resume_icon.png" style="border-width:0px">直到调试过程终止。请注意，随着调试过程的进行，将更新“调试输出”和“浏览器输出”显示。</p><p><img alt="浏览器输出" title="浏览器输出" src="images/debug_browser_output.png" style="border-width:0px"></p><p>21。控制台视图将显示有关脚本的任何错误或警告。在这种情况下，它将在第105行显示有关未定义变量的通知。</p><p>22。单击PHP Perspective图标以返回正常编辑模式。</p><p>23。要再次运行调试过程，请单击调试图标旁边的箭头<img alt="debug_icon.png" title="debug_icon.png" src="images/debug_icon.png" style="border-width:0px">在工具栏上选择您的配置 - 或 - 选择<strong>Debug Configurations ...</strong>并从“Debug”对话框中双击您的配置。单击调试图标将调试上次执行的启动配置。</p></div><div class="note"><h4 id="note2">注意：</h4><p>您的服务器必须运行Xdebug或Zend Debugger才能使远程调试功能正常运行。</p></div><h2 id="debugging-php-web-applications-php-web-application">调试PHP Web应用程序（PHP Web应用程序）</h2><p>PDT还允许您调试服务器上已有的应用程序，项目或文件。</p><div class="note"><h4 id="note3">注意：</h4><p>您的服务器必须运行Xdebug或Zend Debugger才能使远程调试功能正常运行。</p></div><div class="ref"><p>此过程演示如何在服务器上调试应用程序：</p><p>1。在PHP项目中，使用以下代码<a href="../../tasks/file_creation/creating_a_php_file_within_a_project.html">创建一个</a>名为“form1” <a href="../../tasks/file_creation/creating_a_php_file_within_a_project.html">的新PHP文件</a> ：</p><pre><code>&lt;html&gt; &lt;body&gt; &lt;form action =“welcome.php”method =“post”&gt;名称：&lt;input type =“text”name =“name”/&gt;年龄：&lt;input type =“text”name =“age “/&gt; &lt;input type =”submit“/&gt; &lt;/ form&gt; &lt;/ body&gt; &lt;/ html&gt;</code></pre><p>2。使用以下代码创建第二个名为“welcome”的PHP文件：</p><pre><code>&lt;html&gt; &lt;body&gt;欢迎&lt;？php echo $ _POST [“name”]; ？&gt;。&lt;br /&gt;你是&lt;？php echo $ _POST [“age”]; ？&gt;岁。&lt;/ body&gt; &lt;/ html&gt;</code></pre><p>3。保存这两个文件并将其复制到您的服务器。</p><p>4。单击调试按钮旁边的箭头<img alt="debug_icon.png" title="debug_icon.png" src="images/debug_icon.png" style="border-width:0px">在工具栏上，选择Debug Configurations ...  - 或者 - 右键单击Project explorer中或文件编辑器窗口中的文件，然后选择<strong>Debug as |调试配置....</strong>  将出现“调试”对话框。</p><p>5。双击PHP Web Application选项以创建新的调试配置。</p><p>6。输入新配置的名称。</p><p>7。从Server Debugger下拉列表中选择Debugger。</p><p>8。从下拉列表中选择您的服务器。如果尚未配置服务器，请单击“ <strong>新建”</strong>按钮以打开用于创建新PHP服务器的向导。</p><p>9。在“文件/项目”类别下，单击“ <strong>浏览”</strong>并选择“form1”文件。这将是调试器将从中调试的文件（'调试目标'）。</p><p>10。确保指向文件位置的URL正确无误。如果这不正确，请取消选中“自动生成”复选框并手动更改URL。</p><p><img alt="新的调试配置服务器页面" title="新的Web调试配置" src="images/debug_configuration_webpage_server.png" style="border-width:0px"></p><p><img alt="新的调试配置调试器页面" title="新的Web调试配置" src="images/debug_configuration_webpage_debugger.png" style="border-width:0px"></p><p>11。单击<strong>Apply</strong> ，然后单击<strong>Debug</strong> 。</p><p>12。当询问是否打开PHP Debug Perspective时，单击<strong>Yes</strong> 。</p><p>13。Debug Perspective将打开几个与调试过程相关的视图（有关不同视图的更多信息，请参阅“ <a href="../../reference/php_perspectives_and_views/php_debug_perspective/index.html">PHP Debug Perspective</a> ”。）</p><p>14。在编辑器视图中，您将看到“form1”文件的代码。</p><p>15。在“调试”视图中，单击“ <strong>恢复”</strong>以恢复调试过程。</p><p>16。浏览器输出将显示一个表单，要求您输入姓名和年龄。</p><p>17。选择浏览器视图（使用编辑器窗口选项卡）。这将在“实时”中在浏览器中显示脚本的输出。请注意，这与“浏览器输出”窗口不同。</p><p>18。在浏览器视图中，输入您的名称和年龄，然后单击“ <strong>提交查询”</strong> 。</p><p><img alt="浏览器视图" title="浏览器视图" src="images/debug_webpage_ouput.png" style="border-width:0px"></p><p>19。将使用welcome.php文件中的脚本打开另一个编辑器选项卡。</p><p>20。在“调试”视图中，单击“ <strong>恢复”</strong>以恢复调试过程。</p><p>21。浏览器输出和浏览器视图将显示应用程序的最终结果：<br><code>欢迎[姓名]。你[年龄]岁。</code></p><p><img alt="浏览器输出" title="浏览器输出" src="images/debug_webpage_browser_output.png" style="border-width:0px"></p><p>22。调试过程将终止。</p><p>23。单击PHP Perspective图标以返回正常编辑模式。</p><p>24。要再次运行调试过程，请单击调试图标旁边的箭头<img alt="debug_icon.png" title="debug_icon.png" src="images/debug_icon.png" style="border-width:0px">在工具栏上，选择您的调试配置。</p></div><div class="links"><h4 id="related-links">相关链接：</h4><ul><li><a href="../../tasks/debugging/index.html">调试</a></li><li><a href="../../tasks/debugging/index.html">使用调试器</a></li><li><a href="../../tasks/debugging/debugging_a_php_web_page.html">调试PHP网页</a></li><li><a href="../../reference/preferences/debug/index.html">调试首选项</a></li><li><a href="../../tasks/debugging/analyzing_debugger_results.html">运行和分析调试器结果</a></li></ul></div><div class="footer">
    <p>PHP开发工具6.2.0-201812112302的<a href="https://bugs.eclipse.org/bugs/enter_bug.cgi?product=PDT&amp;component=Documentation&amp;short_desc=Bug in getting_started/basic_tutorial/working_with_the_debugger.html" target="_BLANK">文档</a> ，报告<a href="https://bugs.eclipse.org/bugs/enter_bug.cgi?product=PDT&amp;component=Documentation&amp;short_desc=Bug in getting_started/basic_tutorial/working_with_the_debugger.html" target="_BLANK">文档错误（</a>如果有）。
    </p>
</div></body></html>