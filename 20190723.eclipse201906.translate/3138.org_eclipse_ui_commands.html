<html dir="ltr">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
<title>命令</title>
<style type="text/css"></style>
<style type="text/css"></style>
</head>
<body dir="ltr">
<h1 style="text-align:center">命令</h1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">标识符：</h6>org.eclipse.ui.commands<p></p>
<h6 class="CaptionFigColumn SchemaHeader">以来：</h6>2.1<p></p>

<h6 class="CaptionFigColumn SchemaHeader">描述：</h6><p><code>org.eclipse.ui.commands</code>扩展点用于使用<code>command</code>和<code>category</code>元素声明命令和命令类别。命令是一些语义行为的抽象表示，但不是它的实际实现。这允许不同的开发人员为他们的各个部分贡献特定的行为。例如，可能存在“粘贴”命令，其中编辑器中具有一个实现，而浏览器窗口小部件中具有不同的实现。这些实现称为处理程序。命令也可以被视为声明性函数指针或信号处理程序。
</p><p></p>
<h6 class="CaptionFigColumn SchemaHeader">配置标记：</h6>
<p></p>
<p class="code SchemaDtd">&lt;！ELEMENT <a name="e.extension">扩展</a> （ <a href="#e.category">类别</a> *， <a href="#e.command">命令</a> *， <a href="#e.commandParameterType">commandParameterType</a> *， <a href="#e.context">context</a> *， <a href="#e.scope">scope</a> *）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST扩展</p>
<p class="code SchemaDtdAttlist">id CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">名称CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">点CDATA #REQUIRED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - 扩展实例的可选标识符。</li>
<li><b>name</b> - 扩展实例的可选名称。</li>
<li><b>point</b> - 目标扩展点的标准标识符。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.command">命令</a> （ <a href="#e.defaultHandler">defaultHandler</a> ？， <a href="#e.state">state</a> *， <a href="#e.commandParameter">commandParameter</a> *）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST命令</p>
<p class="code SchemaDtdAttlist">类别CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">描述CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">categoryId IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">defaultHandler CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">returnTypeId IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>该元素用于定义命令。命令表示来自用户的可以由动作处理的请求，并且在其他命令中应该在语义上是唯一的。如果已经定义了具有相同含义的命令，则不要定义命令。如果这些元素中的多个元素具有相同的<code>id</code>属性，则只有最后声明的元素（按读取插件注册表的顺序）才被视为有效。请参阅扩展点<a href="org_eclipse_ui_actionSets.html">org.eclipse.ui.actionSets</a>和<a href="org_eclipse_ui_editorActions.html">org.eclipse.ui.editorActions</a>以了解操作如何连接到命令。
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color:red">弃用</i> <b>类别</b> - 请改用<code>categoryId</code> 。</li>
<li><b>description</b> - 此命令的可翻译简短描述，用于在UI中显示。</li>
<li><b>id</b> - 此命令的唯一标识符。</li>
<li><b>name</b> - 要在UI中显示的此命令的可翻译名称。命令通常以命令式动词的形式命名。</li>
<li><b>categoryId</b> -<p>此命令的类别的唯一ID。如果此命令未指定类别，则将其置于全局“未分类”类别中。
</p>
<p><em>从：3.0</em></p></li>
<li><b>defaultHandler</b> -<p>此命令的默认处理程序（请参阅<a href="org_eclipse_ui_handlers.html">org.eclipse.ui.handlers</a>扩展点）。如果没有其他处理程序处于活动状态，则此处理程序将处此处理程序将与指定没有<code>activeWhen</code>条件的其他处理程序定义冲突。如果要创建<code>IExecutableExtension</code> ，则可以使用<code>defaultHandler</code>元素。
</p>
<p><em>自：3.1</em></p></li>
<li><b>returnTypeId</b> -<p><code>commandParameterType</code>的id，指示此命令返回的值的类型。指定<code>returnTypeId</code>允许执行该命令的客户端将返回的值与Java类型相关联，并将该值转换为可以存储和/或传递给另一个接受相同类型参数的命令的String形式。
</p>
<p><em>自：3.2</em></p></li>
<li><b>helpContextId</b> -<p>通常与此命令相关的帮助上下文的标识符。处理程序可以覆盖此上下文标识符，以提供更特定于其特定行为的帮助。
</p>
<p><em>自：3.2</em></p></li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.category">类别</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST类别</p>
<p class="code SchemaDtdAttlist">描述CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>在UI中，命令通常按类别组织，以使其更易于管理。此元素用于定义这些类别。命令可以将自己添加到最多一个类别。如果这些元素中的多个元素具有相同的<code>id</code>属性，则只有最后声明的元素（按读取插件注册表的顺序）才被视为有效。
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>description</b> - 此类别的可翻译简短描述，用于在UI中显示。</li>
<li><b>id</b> - 此类别的唯一标识符。</li>
<li><b>name</b> - 要在UI中显示的此类别的可翻译名称。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.commandParameter">commandParameter</a> （ <a href="#e.values">值</a> ？）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST命令参数</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">值CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">typeId IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">optional（true | false）“true”&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>定义命令应该理解的参数。参数是一种在执行时向处理程序提供更多信息的方法。例如，“show view”命令可能会将视图作为参数。处理程序应该能够理解这些参数，因此它们应该像API一样对待。</p>
<p><em>自：3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - 此参数的唯一标识符。</li>
<li><b>name</b> - 参数的名称。这是将显示给最终用户的名称。因此，它应该是可翻译的。这个名字应该简短 - 最好是一个字。</li>
<li><b>values</b> - 提供用户选择的参数值列表的类。这个类应该实现<code>org.eclipse.core.commands.IParameterValues</code> 。如果未指定此类，则必须指定更详细的<code>values</code>元素。请参阅<code>org.eclipse.core.runtime.IExecutableExtension</code> 。</li>
<li><b>typeId</b> - 此<b>commandParameter的commandParameterType</b>的id。指定typeId允许命令的处理程序以一致的方式将字符串参数值转换为对象，并允许命令的潜在调用者查找为其参数获取各种类型的对象的命令。</li>
<li><b>可选</b> - 此参数是否可选。如果参数是可选的，则处理程序应该能够处理参数的缺失。默认情况下，所有参数都是可选的。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.commandParameterType">commandParameterType</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST commandParameterType</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">键入CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">转换器CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>定义commandParameter的对象类型，并可以指定<code>org.eclipse.core.commands.AbstractParameterValueConverter</code>子类，用于在字符串参数值和对象之间进行转换。
</p>
<p><em>自：3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - 此commandParameterType的唯一标识符。</li>
<li><b>type</b> - 要用作此命令参数类型的Java类或接口的标准名称。此属性是可选的，但如果省略，则为<code>java.lang.Object</code>将用作参数类型。</li>
<li><b>converter</b> - 用于在命令参数值的对象和字符串表示形式之间进行转换的类。这个类应该扩展<code>org.eclipse.core.commands.AbstractParameterValueConverter</code> 。转换器应生成和使用<code>type</code>属性中指示的<code>type</code>对象。如果未指定此类，则此参数类型的字符串和对象值之间的转换将无法使用（类<code>ParameterType</code>上的<code>getValueConverter()</code>将返回<code>null</code> ）。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.values">值</a> （ <a href="#e.parameter">参数</a> *）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST值</p>
<p class="code SchemaDtdAttlist">class CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p><code>commandParameter</code>上的<code>values</code>属性的详细版本。
</p>
<p><em>自：3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - 提供用户选择的参数值列表的类。这个类应该实现<code>org.eclipse.core.commands.IParameterValues</code> 。如果未指定此类，则必须指定更详细的<code>values</code>元素。请参阅<code>org.eclipse.core.runtime.IExecutableExtension</code> 。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.parameter">参数</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST参数</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">值CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>参数的可能值。
</p>
<p><em>自：3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - 要传递给<code>IExecutableExtension</code>的参数的名称。</li>
<li><b>value</b> - 要传递给<code>IExecutableExtension</code>的参数的值。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.defaultHandler">defaultHandler</a> （ <a href="#e.parameter">参数</a> ）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST defaultHandler</p>
<p class="code SchemaDtdAttlist">class CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>此命令的默认处理程序。如果没有其他处理程序处于活动状态，则此处理程序将处此处理程序将与指定没有<code>activeWhen</code>条件的其他处理程序定义冲突。如果您没有创建<code>IExecutableExtension</code> ，则可以使用<code>defaultHandler</code>属性。
</p>
<p><em>自：3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - 实现<code>org.eclipse.core.commands.的类<code>org.eclipse.core.commands.IHandler</code> 。</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.state">状态</a> （ <a href="#e.class">类</a> ？）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST州</p>
<p class="code SchemaDtdAttlist">class CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>所有处理程序之间共享的状态信息，并且可能在会话之间持续存在。状态只是一个被加载以监视状态的类。有关更多详细信息，请参阅API信息。这不用于UI属性，如菜单贡献复选框状态或标签。
</p>
<p><em>自：3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - 可以加载以存储此命令状态的类。状态由处理程序共享，并且可以在会话之间保持不变。该类必须是<code>org.eclipse.core.commands.子类<code>org.eclipse.core.commands.State</code> 。请参阅API信息。</li>
<li><b>id</b> -<p>此状态的唯一标识符。这用于在会话之间保持状态（如果状态是<code>org.eclipse.jface.commands.的实例<code>org.eclipse.jface.commands.PersistentState</code> ）。某些常用标识符（请参阅<code>org.eclipse.jface.menus.在菜单或工具栏中呈现命令时，可以理解IMenuStateIds</code> ）。标识符在定义状态的命令中只需要是唯一的。
</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.class">类</a> （ <a href="#e.parameter">参数</a> *）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST课程</p>
<p class="code SchemaDtdAttlist">class CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>可以加载以存储此命令状态的类。如果要将多个参数传递给<code>org.eclipse.core.runtime.则使用此元素<code>org.eclipse.core.runtime.IExecutableExtension</code> 。
</p>
<p><em>自：3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - 可以加载以存储此命令状态的类。状态由处理程序共享，并且可以在会话之间保持不变。该类必须实现<code>org.eclipse.core.commands.State</code> 。请参阅API信息。</li>
</ul>
<br><div style="color:red;font-style:italic">不推荐使用<b>context</b>元素</div> <p class="code SchemaDtd">&lt;！ELEMENT <a name="e.context">context</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST背景</p>
<p class="code SchemaDtdAttlist">描述CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">父CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">parentId CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">此元素用于定义上下文。如果这些元素中的多个元素具有相同的<code>id</code>属性，则只有最后声明的元素（按读取插件注册表的顺序）才被视为有效。请改用<a href="org_eclipse_ui_contexts.html">org.eclipse.ui.contexts</a>扩展点。</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color:red">不推荐使用的</i> <b>描述</b> - 用于在UI中显示的此上下文的可翻译简短描述。</li>
<li><i style="color:red">不推荐使用的</i> <b>ID</b> - 此上下文的唯一标识符。</li>
<li><i style="color:red">不推荐使用的</i> <b>名称</b> - 用于在UI中显示的此上下文的可翻译名称。如果此上下文具有父级，则不必在名称中添加“（extends parent）”。这将在必要时由UI自动添加。</li>
<li><i style="color:red">不推荐使用的</i> <b>父级</b> - 父级上下文的唯一ID。如果此上下文具有父级，则除了在其自己的上下文中定义的键绑定之外，它还将从其父级借用所有键绑定。@deprecated请改用“parentId”。</li>
<li><i style="color:red">不推荐使用的</i> <b>parentId</b> - 父上下文的唯一ID。如果此上下文具有父级，则除了在其自己的上下文中定义的键绑定之外，它还将从其父级借用所有键绑定。</li>
</ul>
<br><div style="color:red;font-style:italic"><b>scope</b>元素已弃用</div> <p class="code SchemaDtd">&lt;！ELEMENT <a name="e.scope">范围</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST范围</p>
<p class="code SchemaDtdAttlist">描述CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">父CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">此元素用于定义范围。如果这些元素中的多个元素具有相同的<code>id</code>属性，则只有最后声明的元素（按读取插件注册表的顺序）才被视为有效。@deprecated请改用“org.eclipse.ui.contexts”扩展点。</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color:red">不推荐使用的</i> <b>描述</b> - 用于在UI中显示的此范围的可翻译简短描述。 @deprecated请改用“org.eclipse.ui.contexts”扩展点。</li>
<li><i style="color:red">不推荐使用的</i> <b>ID</b> - 此范围的唯一标识符。@deprecated请改用“org.eclipse.ui.contexts”扩展点。</li>
<li><i style="color:red">不推荐使用的</i> <b>名称</b> - 此范围的可翻译名称，用于在UI中显示。如果此范围具有父级，则无需在名称中添加“（extends parent）”。这将在必要时由UI自动添加。@deprecated请改用“org.eclipse.ui.contexts”扩展点。</li>
<li><i style="color:red">不推荐使用的</i> <b>父级</b> - 父级作用域的唯一ID。如果此作用域具有父作用域，则除了在其自己的作用域中定义的键绑定外，它还将从其父作业中借用所有键绑定。@deprecated请改用“org.eclipse.ui.contexts”扩展点。</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">例子：</h6><p><code>org.eclipse.ui</code>插件中的<code>plugin.xml</code>文件广泛使用了<code>org.eclipse.ui.commands</code>扩展点。
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API信息：</h6><p>可以使用<code>org.eclipse.ui.handlers.在命令中注册处理程序<code>org.eclipse.ui.handlers.IHandlerService</code> 。这可以通过调用<code>getService(IHandlerService.class)</code>从各种工作台组件（例如，工作台，工作台窗口，零件站点等）中<code>getService(IHandlerService.class)</code> 。
</p>
<p>通常，最好静态地声明所有命令（在<code>plugin.xml</code> ）。这样用户可以将键绑定附加到命令。但是，可以在运行时声明命令。为此，请检索<code>org.eclipse.ui.commands.来自工作台组件的ICommandService</code> ，调用<code>getCommand(yourCommandID)</code>然后调用<code>Command.define(...)</code> 。如果已卸载，则必须通过编程方式清除以编程方式定义的命令。
</p>
<p>有一些处理程序状态的默认实现可能对此扩展点的用户有用：</p>
<ul>
<li>org.eclipse.jface.commands。TextState</li>
<li>org.eclipse.jface.commands。RadioState</li>
<li>org.eclipse.jface.commands。ToggleState</li>
<li>org.eclipse.ui.handlers。RegistryRadioState</li>
<li>org.eclipse.ui.handlers。RegistryToggleState</li>
</ul>
<p></p>

<br>
<p class="note SchemaCopyright">版权所有（c）2000,2007 IBM Corporation等。<br>版权所有。本程序及随附材料根据本发行版附带的Eclipse Public License v1.0条款提供，可从<a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>获取<a href="http://www.eclipse.org/legal/epl-v10.html">。</a>

</p>
</body>
</html>