<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>解析OCL文档</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="ProgrammersGuide.html" title="Classic Ecore/UML Programmers Guide">
<link rel="prev" href="EvaluatingConstraints.html" title="Evaluating Constraints and Queries">
<link rel="next" href="TargetMetamodels.html" title="OCL Relationship to Metamodels">
</head>
<body bgcolor="white"  text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">解析OCL文档</h1>
<div class="section" title="解析OCL文档">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="ParsingDocuments"></a>解析OCL文档</h2>
</div>
</div>
</div>
<p>正如我们在<a class="link" href="ProgrammersGuide.html#ParsingConstraints" title="解析约束和查询">Parsing Constraints和Queries</a>主题中看到的那样，OCL解析器提供了一个<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/helper/OCLHelper.html" target="_new"><code class="code">OCLHelper</code></a> API，用于解析模型中嵌入的约束。OCL还允许在文本文档中指定约束，作为模型的附件。在这种情况下，上下文声明的具体语法指示约束的上下文，等同于它们在模型中的位置。
			</p>
<p>例如，请考虑以下完整OCL文档：“</p>
<p>
				
</p>
<div class="mediaobject">
<img src="images/5120-extlibrary.png"></div>
<p>

				
<a class="ulink" href="../references/5120-extlibrary.ocl" target="_new">[剪切和粘贴文本]</a>
			
</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>第一行的<span class="emphasis"><em>导入</em></span>是Complete OCL编辑器支持的扩展，用于与Pivot元模型一起使用。Ecore或UML绑定的解析器忽略<span class="emphasis"><em>导入</em></span> ，假设相关元模型已在全局EPackage中注册。注册表或本地EPackage。注册表传递给EnvironmentFactory ..
				</p>
</blockquote>
</div>
<p></p>
<div class="section" title="OCL输入">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="TheOCLInput"></a> OCL输入</h3>
</div>
</div>
</div>
<p><a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/OCLInput.html" target="_new"><code class="code">OCLInput</code></a>类封装了一个OCL文档。可以从字符串或输入流创建输入。
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/5120-input.png"></div>
<p>
				
</p>
<p>给定一个<code class="code">OCLInput</code> ，只需要求<code class="code">OCL</code>解析它：“</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/5120-parsing.png"></div>
<p>

					
<a class="ulink" href="../references/5120-parsing.txt" target="_new">[剪切和粘贴文本]</a>
				
</p>
</div>
<div class="section" title="访问约束">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="AccessingtheConstraints"></a>访问约束</h3>
</div>
</div>
</div>
<p>如果成功解析了<code class="code">OCL</code>返回约束列表。它们由OCL保留（可以随时通过<code class="code">getConstraints()</code>方法获得），特别是，其他操作或属性的任何定义都可用于后续约束解析。任何数量的OCL文档都可以由同一个<code class="code">OCL</code>实例解析，也可以与<code class="code">OCLHelpers</code>解析的约束相结合。所有这些约束都由<code class="code">OCL</code>环境保留。
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/5120-accessing.png"></div>
<p>

					
<a class="ulink" href="../references/5120-accessing.txt" target="_new">[剪切和粘贴文本]</a>
				
</p>
<p>这些示例的源代码可以在model / parsingDocumentsExample.ocl中的org.eclipse.ocl.ecore.tests插件和src / org / eclipse / ocl / ecore / tests / DocumentationExamples.java中找到。</p>
</div>
</div>
</body>
</html>