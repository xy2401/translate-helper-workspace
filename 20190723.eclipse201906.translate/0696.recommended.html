<html lang="zh-Hans" dir="ltr">
<head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2014. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>
<link rel="STYLESHEET" href="../../book.css" type="text/css" charset="ISO-8859-1"></link>
<title>采用JDT Luna（4.4）机制和API</title>
</head>

<body dir="ltr">

<h1>采用JDT Luna（4.4）机制和API</h1>
<p>本节介绍在尝试更改4.3插件以采用4.4机制和API时所需的更改。</p>

<ol>
	<li><a href="#jls8">AST.JLS8 for Java 8构造</a></li>
</ol>

<hr>

<!-- ############################################## -->
<h2>1。<a name="jls8">AST.JLS8 for Java 8构造</a></h2>
<p>一个新的AST级别<code>org.eclipse.jdt.core.dom.已添加AST#JLS8</code>用于Java 8语言更改。建议先前AST级别的客户端采用新的AST级别并添加对新构造的支持（新的ASTNode类型和现有节点类型上的新API）。
</p>
<p><code>org.eclipse.jdt.core.dom</code>的一些API已被弃用，并且在JLS8 AST上调用时会抛出异常：</p>
<ul>
<li>ArrayType的“componentType”属性已替换为“elementType”和“dimensions”属性</li>
<li>MethodDeclaration和VariableDeclaration的#setExtraDimensions（int）已被#extraDimensions（）取代，它支持带注释的Dimensions</li>
<li>MethodDeclaration＃thrownExceptions（）已被#thrownExceptionTypes（）取代</li>
</ul>
<p>
<code>org.eclipse.jdt.core.compiler。应该使用ReconcileContext#getAST8()</code> 。
</p>
<p>
<code>org.eclipse.jdt.ui。SharedASTProvider#getAST(..)</code>现在返回一个JLS8 AST。</p>

<!-- ############################################## -->

</body>
</html>