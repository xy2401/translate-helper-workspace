<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<title>3.14.5。�使用变量作为测试用例的数据</title>
<link rel="stylesheet" type="text/css" href="../../css/style.css"></link>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></meta>
<link rel="home" href="../index.html" title="Jubula User Manual"></link>
<link rel="up" href="ch03s14.html" title="3.14.�Working with test data"></link>
<link rel="prev" href="ch03s14s04.html" title="3.14.4.�Using the edit parameters dialog to add, edit and delete references"></link>
<link rel="next" href="ch03s14s06.html" title="3.14.6.�Using functions as data for Test Cases"></link>
</head>
<body bgcolor="white" dir="ltr" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">3.14.5。�使用变量作为测试用例的数据</th></tr>
<tr>
<td width="20%" align="left">
<a href="ch03s14s04.html" accesskey="p">上一页</a> �</td>
<th width="60%" align="center">3.14。�使用测试数据</th>
<td width="20%" align="right">� <a href="ch03s14s06.html" accesskey="n">下一步</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="breadcrumbs" xmlns:d="http://docbook.org/ns/docbook">
<span class="breadcrumb-link"><a href="../index.html">Jubula用户手册</a></span> &gt; <span class="breadcrumb-link"><a href="ch03.html">任务</a></span> &gt; <span class="breadcrumb-link"><a href="ch03s14.html">使用测试数据</a></span> &gt; <span class="breadcrumb-node">使用变量作为</span> <span class="breadcrumb-link"><a href="ch03s14.html">测试用例的数据</a></span>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="using-variables-as-data-for-test-cases"></a> 3.14.5。�使用变量作为测试用例的数据</h3></div></div></div>
<a name="using-variables-as-data-for-test-cases.guidancerDataSetViewContextId"></a><a name="using-variables-as-data-for-test-cases.guidancerPropertiesViewContextId"></a><a name="using-variables-as-data-for-test-cases.guidancerCentralTestDataEditorContextId"></a><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type:disc">
<li class="listitem"><p>您可以在测试期间存储AUT的值，以便稍后在测试中使用。</p></li>
<li class="listitem"><p>某些操作（例如存储值）允许您将值保存为变量。您指定变量的名称，例如<span class="input">USERNAME</span> 。请注意，变量名中只允许使用标准ASCII字母数字和下划线，即字符'a'...'z'，'A'...'Z'，'0'......'9'，'_'。
      </p></li>
<li class="listitem"><p>如果要使用该变量，可以将其作为参数输入，方法是在其前面添加美元符号： <span class="input">$ USERNAME</span> 。解析器将解释$符号后允许的最长字符序列，以构成变量名称，例如<span class="input">$VAR�ABLE</span>被解释为名为VAR的变量的值，后跟文字文本'�ABLE'。
      </p></li>
</ul></div>
<p>有关使用变量的更多信息，请参阅以下部分：</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type:disc">
<li class="listitem"><p>在测试中使用变量（ <a class="xref" href="ch03s14s05.html#reading-and-using-values-variables-from-the-aut" title="3.14.5.1。�读取和使用AUT的值（变量）">Section�3.14.5.1，“从AUT读取和使用值（变量）”</a> ）。
      </p></li>
<li class="listitem"><p>使用系统变量（ <a class="xref" href="ch03s14s05.html#using-environment-variables-in-tests" title="3.14.5.2。�在测试中使用环境变量">Section�3.14.5.2，“在测试中使用环境变量”</a> ）。
      </p></li>
<li class="listitem"><p>使用预定义的变量（ <a class="xref" href="ch03s14s05.html#using-the-pre-defined-test-execution-variables" title="3.14.5.3。�使用预定义的测试执行变量">Section�3.14.5.3，“使用预定义的测试执行变量”</a> ）。
      </p></li>
</ul></div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="reading-and-using-values-variables-from-the-aut"></a> 3.14.5.1。�读取和使用AUT的值（变量）</h4></div></div></div>
<p>您可以存储从AUT读取的值，以用作其他测试用例中的数据。
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>使用各种组件上的某个<span class="emphasis"><em>商店值</em></span>操作从AUT中的组件读取值。</p>
<p xmlns:d="http://docbook.org/ns/docbook"></p><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>您还可以使用<span class="emphasis"><em>应用程序</em></span>组件上的<span class="emphasis"><em>store value</em></span>操作来存储您输入的值。
        </strong></span></td>
</tr></tbody>
</table>
</li>
<li class="listitem">
<p>在参数字段中，输入此变量的名称（例如USERNAME）。
        </p>
<p xmlns:d="http://docbook.org/ns/docbook"></p><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="100" height="91" src="../images/img2.jpg"></td>
<td class="topbotline"><span class="strong"><strong>变量名称只能包含字母，数字和下划线</strong></span></td>
</tr></tbody>
</table>
</li>
<li class="listitem">
<p>如果要将此值用作参数的数据，请输入前面带有美元符号（$）的变量名作为参数值（例如$ USERNAME）。
        </p>
<p>请记住，变量必须先存储才能用作参数值。
        </p>
</li>
</ol></div>
<p>阅读以下部分以获取更多信息：</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type:disc">
<li class="listitem"><p>在测试中使用系统变量（ <a class="xref" href="ch03s14s05.html#using-environment-variables-in-tests" title="3.14.5.2。�在测试中使用环境变量">Section�3.14.5.2，“在测试中使用环境变量”</a> ）。
        </p></li>
<li class="listitem"><p>在测试中使用预定义的变量（ <a class="xref" href="ch03s14s05.html#using-the-pre-defined-test-execution-variables" title="3.14.5.3。�使用预定义的测试执行变量">Section�3.14.5.3，“使用预定义的测试执行变量”</a> ）</p></li>
</ul></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="using-environment-variables-in-tests"></a> 3.14.5.2。�在测试中使用环境变量</h4></div></div></div>
<p>您可以向操作系统添加变量，这些变量可以在测试中使用。
    </p>
<p>您需要设置具有以下形式的环境变量：</p>
<p>
      <span class="input">TEST_UDV_ &lt;VARIABLENAME&gt;</span>
    </p>
<p>要在测试中使用变量，请输入变量名称（下划线后面的所有内容），前面带有美元符号。不要输入“ <span class="emphasis"><em>TEST_UDV_</em></span> ”部分。
    </p>
<p xmlns:d="http://docbook.org/ns/docbook"></p><table>
<colgroup>
<col>
<col>
</colgroup>
<tbody><tr>
<td><img align="bottom" width="102" height="89" src="../images/img1.jpg"></td>
<td class="topbotline"><span class="strong"><strong>输入或更改环境变量后，您需要重新启动ITE。 ITE的环境变量（即测试）仅从运行ITE的机器读取，而不是从运行AUT代理的机器读取。
    </strong></span></td>
</tr></tbody>
</table>
<p>您的系统管理员将能够帮助您使用特定于操作系统的环境变量设置方法。
    </p>
<p>
      <span class="strong"><strong>有用的变量</strong></span>这些变量可用作计算机上的环境变量，也可用作AUT配置中的JVM属性。
    </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">TEST_AUT_KEEP_ALIVE_DELAY</span></dt>
<dd><p>如果您使用该操作<span class="emphasis"><em>准备终止，</em></span>这可能很有用。您可以使用此变量来配置（以毫秒为单位）终止命令后AUT应保持“保持活动”的时间长度（例如，按“ <span class="emphasis"><em>退出</em></span> ”以便ITE和AUT之间的正确通信发生）。该值默认设置为2000毫秒。
          </p></dd>
<dt><span class="term">TEST_AUT_POST_DEREGISTRATION_DELAY</span></dt>
<dd><p>如果您使用动作<span class="emphasis"><em>同步关闭并重新启动，</em></span>这将非常有用。您可以使用此变量来配置（以毫秒为单位）关闭后AUT需要多长时间来执行诸如保存资源和设置之类的任务。
          </p></dd>
</dl></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="using-the-pre-defined-test-execution-variables"></a> 3.14.5.3。�使用预定义的测试执行变量</h4></div></div></div>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>您可以在测试中使用预定义的测试执行变量。
        </p></li>
<li class="listitem">
<p>执行Test Suite时会自动初始化以下变量：</p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">TEST_PROJECT_NAME：</span></dt>
<dd><p>项目名称。
              </p></dd>
<dt><span class="term">TEST_PROJECT_VERSION：</span></dt>
<dd><p>项目版本。
              </p></dd>
<dt><span class="term">TEST_TESTSUITE：</span></dt>
<dd><p>测试套件名称。
              </p></dd>
<dt><span class="term">TEST_USERNAME：</span></dt>
<dd><p>您登录计算机的帐户名称。
              </p></dd>
<dt><span class="term">TEST_DBUSERNAME：</span></dt>
<dd><p>数据库用户。
              </p></dd>
<dt><span class="term">TEST_AUTAGENT：</span></dt>
<dd><p>运行测试的AUT代理的主机名。
              </p></dd>
<dt><span class="term">TEST_PORTNUMBER：</span></dt>
<dd><p>运行测试的AUT代理的端口号。
              </p></dd>
<dt><span class="term">TEST_AUT：</span></dt>
<dd><p>AUT名称。
              </p></dd>
<dt><span class="term">TEST_AUTCONFIG：</span></dt>
<dd><p>AUT配置名称。
              </p></dd>
<dt><span class="term">TEST_AUT_ARGUMENTS：</span></dt>
<dd><p>传递给AUT的参数。</p></dd>
<dt><span class="term">TEST_CLIENTVERSION：</span></dt>
<dd><p>您正在使用的ITE版本。
              </p></dd>
</dl></div>
</li>
<li class="listitem">
<p>要在测试中使用其中一个变量的值，请输入：</p>
<p>
          <code class="literal">$ {VARIABLE_NAME}</code>
        </p>
<p>作为参数值。
        </p>
</li>
</ol></div>
</div>
</div>
<br xmlns:d="http://docbook.org/ns/docbook"><hr xmlns:d="http://docbook.org/ns/docbook">
<address xmlns:d="http://docbook.org/ns/docbook">版权所有BREDEX GmbH 2015。根据Eclipse Public License v1.0提供。</address>
<br xmlns:d="http://docbook.org/ns/docbook">
</body>
</html>