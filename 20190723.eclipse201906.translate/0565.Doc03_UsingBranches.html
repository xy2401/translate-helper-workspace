<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd" gtc:encodedoriginal="PCFkb2N0eXBlIGh0bWwgcHVibGljICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI-">
<html dir="ltr">

<head>
<title>使用分支（CDO模型存储库文档）</title>

<link rel="stylesheet" href="../book.css" type="text/css" charset="UTF-8"></link>

<noscript></noscript>
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Working with Branches (CDO Model Repository Documentation)";
    }
}
</script>
</head>

<body bgcolor="white" dir="ltr" onload="windowTitle();">
<!-- <div class="help_breadcrumbs breadcrumbs_top"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a> > <a href="index.html" title="Category in CDO Model Repository Documentation">User's Guide</a></div> -->

<table border="0">
	<tr>
		<td width="100%"><h1>与分支机构合作</h1></td>
		<td align="right" valign="middle" nowrap=""><a href="Doc02_ManagingRepositories.html" title="向后管理存储库"><img src="../../images/backward.png" border="0"></a> <a href="Doc04_CheckingOut.html" title="转发到存储库检出"><img src="../../images/forward.png" border="0"></a></td>
	</tr>
</table>
<p class="author">作者：Eike Stepper</p>
<p>
 <a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranch.html" title="org.eclipse.emf.cdo.common.branch中的接口"><code>Branches</code></a>是CDO中非常强大的概念。它们允许从其他提交序列中隔离一系列提交，以及所涉及的对象上的所有锁。分支由<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranch.html#getBase()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranch"><code>base point</code></a>和<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranch.html#getName()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranch"><code>name</code></a> 。分支X的基点是分支X分叉的<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranchPoint.html#getBranch()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranchPoint"><code>parent branch</code></a>中的<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranchPoint.html#getTimeStamp()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranchPoint"><code>timestamp</code></a> 。因此，存储库的所有分支都形成一个以<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranchManager.html#getMainBranch()" title="Method in org.eclipse.emf.cdo.common.branch.CDOBranchManager"><code>main branch</code></a>为根的树，该<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranchManager.html#getMainBranch()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranchManager"><code>main branch</code></a>本身没有适当的基点（基本分支为<code>null</code> ，基本时间与存储库的<a href="../../javadoc/org/eclipse/emf/cdo/common/CDOCommonRepository.html#getCreationTime()" title="org.eclipse.emf.cdo.common中的方法。CDOCommonRepository"><code>creation time</code></a>相同）。
 </p><p>存储库的分支树显示在<a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="Chapter in CDO Model Repository Documentation">CDO存储库视图</a>中的该<a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="CDO模型存储库文档中的章节">存储库下</a> 。主分支始终由存储库节点本身表示。即使其他用户在其工作站上创建新分支或修改现有分支，也会实时更新显示的分支树。
 </p><p>每个存储库至少有一个主分支，但是，为了能够以有意义的方式使用分支，存储库的<i>版本控制模式</i>必须设置为<i>分支</i> 。有关如何为远程存储库或<a href="Doc02_ManagingRepositories.html#Doc_LocalRepositories" title="Chapter in CDO Model Repository Documentation">创建本地存储</a>库执行此操作的说明，请参阅<a href="../operators/Doc01_ConfiguringRepositories.html#Property_supportingBranches" title="CDO模型存储库文档中的章节">Property</a> <a href="Doc02_ManagingRepositories.html#Doc_LocalRepositories" title="CDO模型存储库文档中的章节">supportsBranches</a>以获取有关如何为本地存储库执行此操作的说明。
 </p><p>注意，分支模式通常不会在存储消耗或处理时间方面增加太多开销，但分支模式总是包括审计模式的功能和特征;并且该模式可能会显着增加底层数据库的大小。换句话说，使用审核模式而不是正常模式会产生很大的差异;使用分支模式而不是审核模式。
 </p><p>
 <b>目录</b> </p><p>
</p><table border="0">
<tr><td>1</td><td class="te" colspan="3"><a href="Doc03_UsingBranches.html#Doc_CreatingBranches" title="CDO模型存储库文档中的章节">创建分支</a></td></tr>
<tr><td>2</td><td class="te" colspan="3"><a href="Doc03_UsingBranches.html#Doc_RenamingBranches" title="CDO模型存储库文档中的章节">重命名分支</a></td></tr>
<tr><td>3</td><td class="te" colspan="3"><a href="Doc03_UsingBranches.html#Doc_DeletingBranches" title="CDO模型存储库文档中的章节">删除分支</a></td></tr>
<tr><td>4</td><td class="te" colspan="3"><a href="Doc03_UsingBranches.html#Doc_BranchShowInHistory" title="CDO模型存储库文档中的章节">在历史视图中显示分支</a></td></tr>
</table>



<h2><a name="Doc_CreatingBranches"></a> 1创建分支</h2>
<p>有几种方法可以创建新的分支。最明确的方法是使用<a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="CDO模型存储库文档中的章节">CDO存储库视图</a> ，选择存储库（将版本控制模式设置为分支）或该存储库下的现有分支，打开该存储库或分支上的上下文菜单，然后选择“新建分支”操作。将弹出以下对话框：</p><p align="center"><img src="branch-create.png">

 </p><p>对话框的上半部分显示目标存储库的当前分支树。如果需要，可以更改新分支的<b>基本分支</b> 。
 </p><p>必须指定<b>基准时间戳</b> 。存在三种不同的选择：</p><ul>
 <li> <b>Base</b>是指在上部分支树中选择的分支的基点的时间戳。这意味着，当基础分支从其自己的基本分支分叉时，生成的新分支将同时对所选基本分支进行分支。
 </li><li> <b>时间</b>允许输入任何有效的时间戳。无效的时间戳是在创建基本分支之前或当前时间之后的时间戳。
 </li><li> <b>头</b>指的是当前时间。请注意，分支的<a href="../../javadoc/org/eclipse/emf/cdo/common/branch/CDOBranch.html#getHead()" title="org.eclipse.emf.cdo.common.branch中的方法。CDOBranch"><code>head</code></a>是浮动分支点，即它始终指向分支中的当前时间。但是，选择此选项会在实际创建分支时将新分支的基本时间戳设置为服务器上的固定时间点。
 </li></ul>
 <p>新分支的<b>名称</b>在所选基本分支的子分支中必须是唯一的。
 </p><p>“ <a href="Doc05_UsingCheckouts.html#Doc_SwitchNewBranch" title="CDO模型存储库文档中的章节">切换到新分支</a>和<a href="Doc01_UserInterface.html#Doc_HistoryIntegration" title="CDO模型存储库文档中的章节">历史记录集成”</a>中介绍了创建分支的其他方法。

</p><h2><a name="Doc_RenamingBranches"></a> 2重命名分支</h2>
<p>可以在任何时间点重命名现有分支。无法重命名存储库的主分支。
 </p><p>要重命名分支，请在<a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="CDO模型存储库文档中的章节">CDO存储库视图中</a>选择它，按F2键或打开该分支上的上下文菜单，然后选择重命名操作。将弹出以下对话框：</p><p align="center"><img src="branch-rename.png">

 </p><p>所选分支的输入新名称在所选分支的基本分支的其他子分支中被验证为唯一的。

</p><h2><a name="Doc_DeletingBranches"></a> 3删除分支</h2>
<p>尚不支持删除分支。

</p><h2><a name="Doc_BranchShowInHistory"></a> 4在历史记录视图中显示分支</h2>
<p>所有分支都可以显示在<a href="Doc01_UserInterface.html#Doc_HistoryIntegration" title="CDO模型存储库文档中的章节">历史记录视图中</a> ：</p><p align="center"><img src="history.png">

 </p><p>如果未启用“历史记录”视图工具栏中的“使用编辑器和选择链接”按钮，并且历史记录页面不会自动调整为工作台选择，则此功能特别有用。

</p><p align="right">
<a href="Doc02_ManagingRepositories.html" title="向后管理存储库"><img src="../../images/backward.png" border="0"></a> <a href="Doc04_CheckingOut.html" title="转发到存储库检出"><img src="../../images/forward.png" border="0"></a></p>
<!-- <div class="help_breadcrumbs breadcrumbs_bottom"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a> > <a href="index.html" title="Category in CDO Model Repository Documentation">User's Guide</a></div> -->

<div class="copyright">版权所有（c）2014 Eike Stepper（德国柏林）等。<br>版权所有。本程序及随附材料根据本发行版附带的Eclipse Public License v1.0条款提供，可从http://www.eclipse.org/legal/epl-v10.html获取。</div>
</body>
</html>
