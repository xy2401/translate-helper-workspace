<html  xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>ATL开发人员指南</title>
		<link type="text/css" rel="stylesheet" href="book.css">
	</head>
	<body >
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">ATL开发人员指南</th>
			</tr>
			<tr>
				<td align="left" style="width:20%"></td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="ATL-Architecture.html" title="ATL架构">
						<img alt="下一个" border="0" src="images/images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%"></td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">ATL架构</td>
			</tr>
		</table><hr>
		<p>
			<a href="http://wiki.eclipse.org/Category:ATL" title="类别：ATL">类别：ATL</a>本文档旨在帮助提高对ATL源代码的理解。
		</p>
		<h1 id="ATL_Source_Code">ATL源代码</h1>
		<h2 id="Plug-ins_organization">插件组织</h2>
		<p>以下是<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/?root=Modeling_Project">ATL插件</a>列表：</p>
		<ul>
			<li>
				<b>ATL Core</b> ：提供API以启动和扩展ATL<ul>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.common/?root=Modeling_Project">org.eclipse.m2m.atl.common</a> ：提供常用工具</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.core/?root=Modeling_Project">org.eclipse.m2m.atl.core</a> ：定义<a href="ATL-Architecture.html#Core">ATL Core API</a> （启动，模型处理）</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.core.emf/?root=Modeling_Project">org.eclipse.m2m.atl.core.emf</a> ：Core API的EMF实现</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.core.ui.vm/?root=Modeling_Project">org.eclipse.m2m.atl.core.ui.vm</a> ：定义一个包装器，允许使用Core API启动ATL常规VM</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.core.ant/?root=Modeling_Project">org.eclipse.m2m.atl.core.ant</a> ：基于Core API提供ATL ant任务</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>
				<b>ADT</b> <b><i>（ATL开发工具）</i></b> ：Eclipse集成插件：<ul>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.core.ui/?root=Modeling_Project">org.eclipse.m2m.atl.core.ui</a> ：提供基于Core API的ATL启动配置</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.adt/?root=Modeling_Project">org.eclipse.m2m.atl.adt</a> ：提供ATL性质和构建器</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.adt.ui/?root=Modeling_Project">org.eclipse.m2m.atl.adt.ui</a> ：提供ATL透视图和向导（新文件，新项目）</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.adt.debug/?root=Modeling_Project">org.eclipse.m2m.atl.adt.debug</a> ：ATL常规VM调试器</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.adt.editor/?root=Modeling_Project">org.eclipse.m2m.atl.adt.editor</a> ：ATL文本编辑器</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>
				<b>ATL解析器和编译器</b> ：<ul>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.dsls/?root=Modeling_Project">org.eclipse.m2m.atl.dsls</a> ：提供ATL和ACG的语法/语义定义</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.engine/?root=Modeling_Project">org.eclipse.m2m.atl.engine</a> ：提供ATL编译和解析实用程序</li>
				</ul>
			</li>
		</ul>
		<ul>
			<li>
				<b>ATL虚拟机</b> ：<ul>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.engine.emfvm/?root=Modeling_Project">org.eclipse.m2m.atl.engine.emfvm</a> ：ATL EMF特定的VM</li>
					<li>
						<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.engine.vm/?root=Modeling_Project">org.eclipse.m2m.atl.engine.vm</a> ：使用模型处理程序的ATL常规VM：<ul>
							<li>
								<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.drivers.emf4atl/?root=Modeling_Project">org.eclipse.m2m.atl.drivers.emf4atl</a> ：EMF的ATL常规VM模型处理程序</li>
							<li>
								<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.m2m/org.eclipse.m2m.atl/plugins/org.eclipse.m2m.atl.drivers.uml24atl/?root=Modeling_Project">org.eclipse.m2m.atl.drivers.uml24atl</a> ：UML2的ATL常规VM模型处理程序</li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
		<h2 id="External_dependencies">外部依赖</h2>
		<p>从历史上看，ATL导入两个库：ANTLR版本2和MDR。这些库在Eclipse中未获得授权，因为它们不符合Eclipse IP策略。因此，ATL强制用户自己下载这些库并将它们安装到Eclipse插件文件夹中。</p>
		<p>今天，ATL依赖性大大降低：ATL只需要ANTLR运行时（版本3）库，它符合Eclipse IP策略并包含在ATL源代码中。MDR库仅对MDR模型处理程序是必需的。根据大多数人使用EMF模型处理程序（它似乎更强大）的事实，MDR模型处理程序已被分成单个功能，这在ATL本身并不需要。</p>
		<p>
			<a href="http://wiki.eclipse.org/TCS" title="TCS">TCS（Textual Concrete Syntax）</a>是一种用于解析和提取的工具，用于生成一些ATL组件（例如ATL-Parser）。与ATL不同，TCS在版本2中使用ANTLR库，在版本3中使用新版本。TCS可在<a href="http://www.eclipse.org/gmt/">GMT上使用</a> 。 ATL与TCS没有任何依赖关系。特定的注射器也依赖于ANTLR。
		</p>
		<h2 id="Install_ATL_from_CVS">从CVS安装ATL</h2>
		<h3 id="Import_team_project_set">导入团队项目集</h3>
		<p>ATL提供团队项目集以简化对源代码的访问。您必须在本地磁盘上下载.psf文件，然后您可以使用以下方法在Eclipse中导入项目： <i>File-&gt; Import-&gt; Team-&gt; Team Project Set</i>
		</p>
		<ul>
			<li>
				<a href="http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.m2m/org.eclipse.atl/plugins/org.eclipse.m2m.atl/psf/ATL_anonymous.psf?view=markup&amp;root=Modeling_Project">匿名访问，使用pserver连接CVS</a>
			</li>
			<li>
				<a href="http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.m2m/org.eclipse.atl/plugins/org.eclipse.m2m.atl/psf/ATL_commiter.psf?view=markup&amp;root=Modeling_Project">提交者访问，使用extssh连接CVS</a>
			</li>
		</ul>
		<h4 id="ANTLR_installation">ANTLR安装</h4>
		<p>请注意，此插件的下载嵌入到atl.psf文件中。因此，如果您按照前面的说明操作，则无需阅读后续步骤。在Eclipse中，antlr由<a href="http://www.eclipse.org/orbit/">Orbit</a>项目管理。要签出此插件，请按照以下步骤操作：</p>
		<ul>
			<li>打开与<code>dev.eclipse.org</code> ，repository <code>/cvsroot/tools</code>的匿名/委托者CVS连接</li>
			<li>右键单击存储库位置，然后选择“ <i>刷新分支”</i>
			</li>
			<li>在向导中，检查<code>org.eclipse.orbit</code>项目</li>
			<li>在分支中，选择名为<code>v3_0_0</code>的分支</li>
			<li>结帐<code>org.antlr.runtime</code></li>
		</ul>
		<h4 id="MDR_installation_.28Regular_VM_only.29">MDR安装（仅限常规VM）</h4>
		<p>插件org.eclipse.m2m.atl.drivers.mdr4atl需要一些外部库，但在CVS存储库中不可用。您需要将jar文件下载到此项目的lib /目录中。</p>
		<p>从<a href="http://mdr.netbeans.org/download/">http://mdr.netbeans.org/download/</a>下载mdr-standalone.zip，并将包含的jar文件放入lib / of plugin org.eclipse.m2m.atl.drivers.mdr4atl中。
		</p>
		<p>请注意，mdr-standalone.zip在MDR网站上比在我们的开发源中更频繁地更新。因此，使用最新的mdr-standalone版本的MDR时可能会出现错误。</p>
		<p>完成此操作后，通常不会出现错误。</p>
		<p>警告：不再维护MDR模型处理程序，因此可能需要修复它。</p>
		<h4 id="Testing">测试</h4>
		<p>ATL已准备好接受测试。有两种方法可以使用它：</p>
		<ul>
			<li>在“插件开发透视图”中，您可以启动运行时工作台（单击运行 - &gt;运行为 - &gt;运行时工作台）。</li>
			<li>您可以在Eclipse的副本中安装ATL。进入Plug-in透视图并选择所有插件项目。在上下文菜单中，选择Export  - &gt; Deployable Plug-ins and Fragments。</li>
		</ul>
		<p>在屏幕导出插件和片段中，检查是否已选择所有项目并选择输出文件夹。</p>
		<p>现在你需要关闭Eclipse。进入“eclipse”目录（包含插件和功能目录），然后将创建的Jar文件复制到“plugins”目录中。之后，您可以重新启动Eclipse。</p><hr>
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%"></td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="ATL-Architecture.html" title="ATL架构">
						<img alt="下一个" border="0" src="images/images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%"></td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">ATL架构</td>
			</tr>
		</table>
	</body>
</html>