<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="CONTENT-TYPE"></meta>
<link rel="stylesheet" href="../../book.css" type="text/css"></link>
<title>分配</title>
</head>

<body dir="ltr">
	<h1>分配</h1>

	<p>由于BPEL Assign活动的性质，Assign部分可能是BPEL Designer中更复杂的页面之一。下图显示了一个空的Assign活动的详细信息选项卡，其中包含描述每个组件的标注：</p>

	<p><img src="../../../images/reference/Details_tab_08.png" alt="分配"></p>
	<p><b>分配</b></p>

	<ol>
		<li>列出（最初为空）当前定义的赋值操作。</li>
		<li><strong>从</strong>组合框中选择源元素类别。</li>
		<li><strong>要</strong>为选择目标元素类别组合框。</li>
		<li>内容和订单管理按钮。“ <strong>新建”</strong>按钮将新的分配操作添加到列表中。单击时，“ <strong>从”</strong>和“ <strong>到”</strong>组合框将变为活动状态并显示“变量”。这些允许您选择目标项的源和类别。
		</li>
		<li>
			<strong>验证复选框</strong> ：启用后将使BPEL引擎在分配后验证数据。如果检测到错误，则会导致错误，该错误可由BPEL流程中的错误处理程序捕获。
		</li>
		<li>
			<strong>忽略丢失的源数据复选框</strong> ;启用后，缺少的源数据不会被视为错误（不会生成错误）。
		</li>
		<li>
			<strong>保留源元素名称复选框</strong> ：启用后，如果源元素名称不同，则复杂目标变量元素名称将不会被源元素名称替换。
		</li>
	</ol>

	<p>下图显示了Assign活动的详细信息选项卡，其中包含XPath表达式作为源（ <strong>From</strong> ），过程变量元素作为目标（ <strong>To</strong> ）：</p>

	<p><img src="../../../images/reference/Details_tab_08b.png" alt="分配"></p>
	<p><b>分配</b></p>

	<p>BPEL语言的一个要求是，所有复杂变量必须先用有效的XML进行初始化，然后才能将它们作为赋值的目标引用，或者引用到另一个BPEL活动中。BPEL Designer理解这一点，一旦您选择了赋值操作的目标，它就会询问您是否希望为目标变量生成XML片段：</p>
	
	<p><img src="../../../images/reference/Details_tab_08c-Initializer.png" alt="分配"></p>
	<p><b>分配</b></p>

	<p>除非您确定变量已在先前的分配操作或其他活动期间初始化，否则应单击<strong>是</strong> 。下图显示了生成初始化程序后的“指定详细信息”选项卡：</p>
	
	<p><img src="../../../images/reference/Details_tab_08d.png" alt="分配"></p>
	<p><b>分配</b></p>
	
	<h5>分配操作类别</h5>
	<p>其他类型选择或数据输入窗口小部件将显示在“ <strong>从”</strong>和“ <strong>到”</strong>组合框下方，具体取决于在组合框中选择的源项目和目标项目类别。最初这些将是用于选择过程变量的控件，因为默认的组合框选择是Variable。可能的源和目标类别如下表所述：</p>
	
	
	<p><b>可能的来源和目标类别</b></p>
	<table border="1" summary="Possible source and target categories">
		<colgroup>
			<col align="left">
			<col align="left">
			<col align="left">
			<col align="left">
			<col align="left">
		</colgroup>
		<thead>
			<tr>
				<th align="left">类别</th>
				<th align="left">控制类型</th>
				<th align="left">可以来源吗？</th>
				<th align="left">可以成为目标吗？</th>
				<th align="left">更多的信息</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td align="left">变量</td>
				<td align="left">树</td>
				<td align="left">是</td>
				<td align="left">是</td>
				<td align="left">选择范围内变量或任何部分（如果它是复杂变量）。赋值的目标必须具有相同的类型（对于简单变量）或结构（对于复杂变量）作为源。
				</td>
			</tr>
			<tr>
				<td align="left">表达</td>
				<td align="left">XPath的</td>
				<td align="left">是</td>
				<td align="left">是</td>
				<td align="left">使用XPath编辑器输入有效的XPath表达式。对于目标，表达式必须解析为L值;也就是说，它必须是一个变量引用。
				</td>
			</tr>
			<tr>
				<td align="left">固定价值</td>
				<td align="left">文本</td>
				<td align="left">是</td>
				<td align="left">没有</td>
				<td align="left">输入与目标在结构和数据类型上兼容的有效XML片段。
				</td>
			</tr>
			<tr>
				<td align="left">变量的属性</td>
				<td align="left">名单</td>
				<td align="left">是</td>
				<td align="left">是</td>
				<td align="left">N / A</td>
			</tr>
			<tr>
				<td align="left">Partner Link参考</td>
				<td align="left">名单</td>
				<td align="left">是</td>
				<td align="left">是</td>
				<td align="left">N / A</td>
			</tr>
			<tr>
				<td align="left">端点参考</td>
				<td align="left">名单</td>
				<td align="left">是</td>
				<td align="left">没有</td>
				<td align="left">N / A</td>
			</tr>
			<tr>
				<td align="left">不透明</td>
				<td align="left">没有</td>
				<td align="left">是</td>
				<td align="left">没有</td>
				<td align="left">N / A</td>
			</tr>
		</tbody>
	</table>
</body>
</html>