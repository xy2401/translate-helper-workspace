<?xml version="1.0" encoding="utf-8" ?=""><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" gtc:encodedoriginal="PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXRyYW5zaXRpb25hbC5kdGQiPg==">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
		<title>LDT用户指南 - 概念</title>
	</head>
	<body dir="ltr">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">概念</th>
			</tr>
			<tr>
				<td align="left" style="width:20%">
					<a href="Getting-started.html" title="入门">
						<img alt="以前" border="0" src="../../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="Tasks.html" title="任务">
						<img alt="下一个" border="0" src="../../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">入门</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">任务</td>
			</tr>
		</table><hr>
		<h1 id="Concepts">概念</h1>
		<p>在深入研究<i>LDT的</i>概念之前，您可能需要有关Lua本身概念的更多信息。在这种情况下，强烈建议您参考<a href="http://www.lua.org/manual/" target="doc_external">Lua手册</a> 。
		</p>
		<h2 id="Buildpath">的Buildpath</h2>
		<p>它是一组<i>文件夹路径</i> ，包含可从项目访问的源和库。它们有以下几种：</p>
		<ul>
			<li>项目依赖项</li>
			<li>源文件夹</li>
			<li>
				<a href="Concepts.html#Execution_Environment">执行环境</a>
			</li>
		</ul>
		<p><i>源文件夹</i>和<i>项目依赖项</i>等元素用于<i>工具</i>和<i>运行时</i>目的。其他一些仅用于<i>工具</i>目的，例如<a href="Concepts.html#Execution_Environment">执行环境</a>和<b>.doclua</b>文件。
		</p>
		<p>关于<i>运行时</i> ， <i>当前</i>项目的源文件夹以及它所依赖的项目将一次性附加到<a href="http://www.lua.org/manual/5.1/manual.html#pdf-LUA_PATH" target="doc_external">LUA_PATH</a> 。在运行时，仅<b>考虑.lua</b>文件。
		</p>
		<p>关于<i>工具</i> ，解析来自<b>buildpath的</b>所有<b>.lua</b>和<b>.doclua</b>文件，以便启用IDE的某些功能，例如<i>代码完成</i> ， <i>代码导航</i>和<i>TODO /任务</i> 。
		</p>
		<p>您可以要求源文件夹中的文件作为模块。让我们说在<code>src/</code> source路径中你有一个<code>foo.lua</code>文件，你可以写：</p>
		<pre>要求'foo'</pre>
		<p>此逻辑适用于子目录，文件夹<code>src/sub/</code>有<code>bar.lua</code>文件，您可以使用：</p>
		<pre>需要'sub.bar'</pre>
		<p><code>init.lua</code>形式主义也得到了处理。如果你在目录<code>src/bar/</code>下有一个<code>init.lua</code>文件，你可以写：</p>
		<pre>要求'酒吧'</pre>
		<p>
			<b>注意</b> ： <i>源文件夹</i>很重要，因为它们是为工具信息处理的。也就是说，如果您<b>在源文件夹之外</b>编写模块，则<b>无法</b>从其他模块或脚本<b>访问</b>该模块;因此，其内容将不会在例如<i>代码完成</i> ， <i>文档</i>或<i>TODO /任务中提供</i> 。
		</p>
		<p>
			<a href="Tasks.html#Configuring_Build_paths">配置Buildpaths</a> 。
		</p>
		<h2 id="Execution_Environment">执行环境</h2>
		<p><i>执行环境</i>是一个文件，包含有关应该运行Lua应用程序的环境的信息。<i>环境</i>是一组可供应用程序开箱即用的库和全局变量，如<i>Lua 5.1</i>或<i>MOAI SDK</i> 。每个项目只需要一个<i>执行环境</i> 。
		</p>
		<p>想法是提供描述环境元素的文件。提供的信息允许<i>LDT</i>提供更好的代码完成，代码导航和文档布局。
		</p>
		<p>执行环境可以包含：</p>
		<ul>
			<li>使用<a href="http://wiki.eclipse.org/LDT/User_Area/Documentation_Language" target="doc_external">Lua文档语言的</a> <b>全局</b>和<b>模块API</b>的描述提供：<ul>
					<li>
						<b>代码帮助</b>
					</li>
					<li>
						<b>文件</b>
					</li>
				</ul>
			</li>
			<li>
				<b>模板文件</b> ：针对此执行环境的应用程序的典型入口点的模板。将用于初始化新的Lua项目。
			</li>
			<li>
				<b>文档</b> ：环境文档作为HTML页面。
			</li>
		</ul>
		<p>
			<a href="Tasks.html#Managing_Execution_Environments">管理执行环境</a>
			<br>

			<a href="http://wiki.eclipse.org/LDT/User_Area/Available_Execution_Environments" target="doc_external">获得执行环境</a>
			<br>

			<a href="http://wiki.eclipse.org/LDT/User_Area/Execution_Environment_file_format" target="doc_external">创建执行环境</a>
		</p>
		<h2 id="Interpreters">口译</h2>
		<p>在我们的例子中，解释器是一个程序，一个Lua虚拟机，运行你的Lua程序。Lua世界中最常用的可能是<a href="http://www.lua.org/manual/5.1/manual.html#6" target="doc_external">Lua独立解释器</a> 。可以使用LDT的解释器运行Lua应用程序。有<i>现成</i>可用<i>的</i> JNLua基于实现，但你可以用你自己的。
		</p>
		<p>
			<b>注意</b> ：如果您打算使用自己的解释器进行<a href="Tasks.html#Local_session">调试</a> ，则必须<b>确保</b>已安装<i>luasocket</i>并可从解释器中获取。
		</p>
		<p>
			<a href="Tasks.html#Managing_Interpreters">管理口译员</a>
			<br>

			<a href="Tasks.html#Local_session">使用解释器调试应用程序</a>
		</p>
		<h2 id="Debug">调试</h2>
		<p>调试是一种常用的方法，可以逐步监视程序在运行时的行为方式。您可以调试在PC上或远程计算机上本地运行的程序。</p>
		<h3 id="Local_Debug">本地调试</h3>
		<p>这是典型的用例，您可以监控桌面上运行的程序。您的申请将由LDT中引用的口译员执行。 LDT将管理<a href="http://www.lua.org/manual/5.1/manual.html#pdf-LUA_PATH" target="doc_external">LUA_PATH</a>设置，以允许解释器访问构建路径中的所有文件。
		</p>
		<p>
			<a href="Concepts.html#Buildpath">概念Buildpath</a>
			<br>

			<a href="Concepts.html#Interpreters">概念口译员</a>
			<br>

			<a href="Tasks.html#Local_session">配置本地调试会话</a>
		</p>
		<h3 id="Attach_Debug">附加调试</h3>
		<p>您希望监视在特定上下文中运行的应用程序，使<i>LDT</i>无法启动它（例如，嵌入在较大的C / C ++应用程序中的Lua VM）。在这种情况下，您的应用程序可以在启动时连接到IDE，然后进行监视。
		</p>
		<p>这种调试方式称为<i>附加调试</i> ，使用DBGp并由两方组成。
		</p>
		<ul>
			<li>
				<b>DBGp服务器</b> ：在我们的例子中，它是<i>LDT</i>等待应用程序连接。
			</li>
			<li>
				<b>DBGp客户端</b> ：在我们的例子中，它是在调试的应用程序中执行的<i>debugger.lua</i>文件，它将有关其运行的信息发送给<i>LDT</i> 。</li>
		</ul>
		<p>这种方式更灵活，但您可以自己管理整个运行时配置（LUA_PATH，调试器引导程序，...）。</p>
		<p>
			<a href="Tasks.html#Attach_session">配置Attach Debug会话</a>
		</p>
		<h4 id="Source_Mapping">源映射</h4>
		<p>DBGp服务器（IDE）必须知道在哪里可以找到与DBGp客户端（调试应用程序）共享的调试信息相关的源文件。</p>
		<p>
			<i>例如，当您设置断点时，IDE需要向正在运行的应用程序说明必须在哪个文件上添加断点。</i>
		</p>
		<p>
			<i>例如，当正在运行的应用程序在文件的断点处停止时，IDE必须检索该文件并将其打开。</i>
		</p>
		<p>问题是在Lua VM中执行的文件可能与IDE中的源文件（在工作区中）不同。例如，代码可以在不同的主机上执行，或者甚至只是复制在同一桌面上的另一个文件夹中。</p>
		<p>为了解决这个问题， <i>LDT</i>附带了几个策略，每个策略都有自己的优点和缺点：</p>
		<ul>
			<li>
				<b>地方决议</b>
			</li>
		</ul>
		<p>这种解决源映射的方法是最简单和最可靠的。实际上，客户端和服务器共享给定资源的相同绝对路径。这意味着执行的文件应该在您的工作区中（更准确地说，在项目的构建路径中），并且您不能使用此策略来调试在远程主机上运行的代码。</p>
		<ul>
			<li>
				<b>模块解析</b>
			</li>
		</ul>
		<p>在这种情况下，IDE和应用程序都有自己的方法从名称中检索模块。然后将模块名称（而不是绝对路径）用作文件ID。此策略可用于远程调试会话，而无需设置路径映射列表。但它有一些限制：</p>
		<ul>
			<li>由于LUA_PATH环境变量，必须加载模块。</li>
			<li>模块名称解析中的某些冲突可能发生在客户端。实际上，模块名称是由Lua调试API（debug.getinfo）返回的源路径和可能不明确的LUA_PATH构建的。</li>
		</ul>
		<p>
			<i>例如：使用<code>package.path = "/foo/bar/?.lua;/foo/?.lua"</code> <code>debug.getinfo="@/foo/bar/baz.lua"</code> <code>package.path = "/foo/bar/?.lua;/foo/?.lua"</code>和<code>debug.getinfo="@/foo/bar/baz.lua"</code>可能的模块名称是bar.baz或baz</i>
			<br>在这种情况下，调试器将使用较短的调试器。选择此策略时，应避免理想的模糊LUA_PATH。
		</p>
		<ul>
			<li>
				<b>替换路径分辨率</b>
			</li>
		</ul>
		<p>如果之前的两个不合适，则应将此政策用作后备。在此模式下，在客户端使用绝对路径，在服务器（IDE）端使用相对（到项目的构建路径）的路径。为了实现两种路径之间的转换，必须在启动配置中设置客户端资源根路径。</p>
		<p>''例如：设置根路径“/ foo / bar /”。
			<br>当从客户端（/foo/bar/baz/qux.lua）发送绝对文件路径时，将删除根路径，并在构建路径中搜索具有生成的相对路径（baz / qux.lua）的文件。
			<br>相反，当从服务器（baz / qux.lua）发送相对文件路径时，根路径将被添加到路径之前，并且使用结果绝对路径（/foo/bar/baz/qux.lua）客户方。
		</p>
		<p>但是这个政策有一些限制：</p>
		<ul>
			<li>启动配置仅限于必须由所有资源共享的单个根路径。</li>
			<li>即使在Windows操作系统上，所有路径都区分大小写。</li>
			<li>在Windows上，根路径必须以“/”为前缀（例如/ C：/ foo / bar /）。</li>
		</ul>
		<p>
			<b>在所有情况下，如果在工作空间中找不到文件，则源代码将通过DBGp协议发送</b>
		</p>
		<p>
			<a href="Tasks.html#Attach_session">配置Attach Debug会话</a>
		</p>
		<h3 id="Remote_Debug">远程调试</h3>
		<p><i>远程调试</i>启动配置可以调试在远程系统上运行的应用程序。但是，这些系统<b>必须</b>类似于Unix并允许SSH连接。
		</p>
		<p>LDT将复制项目构建路径中您选择的远程目录中的所有文件（默认为<code>/tmp</code> ），并且还将管理LUA_PATH设置，允许远程解释器访问这些文件。</p>
		<p>
			<a href="Tasks.html#Remote_session">配置远程调试会话</a>
		</p><hr>
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%">
					<a href="Getting-started.html" title="入门">
						<img alt="以前" border="0" src="../../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%">
					<a href="User-Guide-1.4.html" title="LDT用户指南">
						<img alt="LDT用户指南" border="0" src="../../../../images/home.gif">
					</a>
				</td>
				<td align="right" style="width:20%">
					<a href="Tasks.html" title="任务">
						<img alt="下一个" border="0" src="../../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">入门</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">任务</td>
			</tr>
		</table>
	</body>
</html>