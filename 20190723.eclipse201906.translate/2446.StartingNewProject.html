<html >
  <head>
    <meta http-equiv="Content-Type" content="text/html" charset="iso-8859-1">
    <title>开始一个新项目</title>
    <link rel="stylesheet" type="text/css" href="../help.css">
  </head>
<body >
<div><p>对使用Photran的优点（或缺点）是它<i>不</i>包括一个Fortran编译器。相反，它使用<b>make</b>来编译Fortran程序。这允许您使用任何您想要的Fortran编译器，但这也意味着必须编写一个Makefile来告诉<b>make</b>程序如何编译Fortran程序。
</p><ul><li>对于小型，简单的项目，Photran可以<b>自动生成</b>一个Makefile，它将使用GNU Fortran编译器（gfortran）。
</li><li>对于更复杂的项目，您可以编写自定义Makefile。
</li></ul><p><b>有关项目类型的更多信息，</b>请单击Eclipse中的“帮助”&gt;“帮助内容”，然后导航到“ <b>C / C ++开发用户指南”&gt;“概念”&gt;“CDT项目”。
</b></p><h1>使用自动生成的Makefile启动项目</h1><p>以下是使用自动生成的Makefile启动新项目的典型过程。您的系统必须安装GNU Fortran（gfortran）编译器才能使此过程正常工作。要确保安装了gfortran，可以打开命令提示符（Windows）或终端窗口（Linux / Mac）并键入“gfortran”（不带引号）;它应该回应“gfortran：没有输入文件”。
</p><ol><li>单击文件&gt;新建&gt; Fortran项目</li><li>称之为HelloFortran</li><li>从项目类型列表中选择“可执行（Gnu Fortran）”</li><li>从工具链列表中选择“GCC工具链”（您可能需要先取消选中窗口底部的“显示项目类型...”复选框，然后才能看到此内容）</li><li>点击下一步</li><li>单击“高级设置”</li><li>在左侧列表中展开C / C ++ Build，然后单击Settings</li><li>单击Binary Parsers选项卡。检查适用于您的平台的解析器。如果您使用的是Windows，请检查PE Windows Parser和/或Cygwin PE Parser;如果您使用的是Linux，请检查Elf Parser;如果您使用的是Mac，请检查Mach-O解析器。
</li><li>单击Error Parsers选项卡。检查您将使用的Fortran编译器的错误解析器。
</li><li>单击确定</li><li>单击完成</li><li>单击文件&gt;新建&gt;源文件</li><li>叫它hello.f90;单击完成</li><li>键入下面显示的标准“Hello，World”程序，然后单击“文件”&gt;“保存”。
</li><li>打开Console视图，确保“make”运行正常并编译您的程序</li><li>在Fortran Projects视图中，展开Binaries条目，然后单击您的可执行文件（例如，“HelloFortran.exe  -  x86le”）</li><li>运行|运行为|运行本地Fortran应用程序</li><li>选择GDB调试器（如果您在Windows下，则选择Cygwin GDB调试器）</li><li>检查控制台视图，确保出现“Hello World”。
</li></ol><p><br>
<i>hello.f90：</i></p><pre>program hello
print *, &quot;Hello World&quot;
end program</pre>
<h1>使用手写的Makefile启动项目</h1><p>以下是使用手写Makefile启动新项目的典型过程。以下示例使用GNU Fortran（gfortran）编译器，但可以使用任何Fortran编译器。我们假设您熟悉如何编写Makefile。如果没有，网上有大量资源，包括夏威夷大学的教程<a href="http://www.eng.hawaii.edu/Tutor/Make/">http://www.eng.hawaii.edu/Tutor/Make/</a> ...当然，你总是可以阅读整个GNU的手册制作<a href="http://www.gnu.org/software/make/manual/make.html">http://www.gnu.org/software/make/manual/make.html</a> 。</p><ol><li>单击文件&gt;新建&gt; Fortran项目</li><li>称之为HelloFortran</li><li>在项目类型列表中展开“Makefile项目”（它有一个文件夹图标），然后选择“清空项目”</li><li>在右侧列的工具链列表中选择“ -  Other Toolchain  - ”，然后单击Next</li><li>单击“高级设置”</li><li>在左侧列表中展开C / C ++ Build，然后单击Settings</li><li>单击Binary Parsers选项卡。检查适用于您的平台的解析器。如果您使用的是Windows，请检查PE Windows Parser和/或Cygwin PE Parser;如果您使用的是Linux，请检查Elf Parser;如果您使用的是Mac，请检查Mach-O解析器。
</li><li>单击Error Parsers选项卡。检查您将使用的Fortran编译器的错误解析器。
</li><li>单击确定</li><li>单击完成</li><li>单击文件&gt;新建&gt;源文件</li><li>叫它hello.f90</li><li>单击完成</li><li>键入下面显示的标准“Hello，World”程序。
</li><li>单击文件&gt;新建&gt;文件</li><li>称之为Makefile</li><li>单击完成</li><li>创建一个类似于下面所示的Makefile。同样，我们假设您熟悉Makefile的结构。
<b>您不能简单地复制并粘贴此示例，</b>因为gfortran和rm行必须以制表符开头，而不是空格。-g开关指示gfortran在生成的可执行文件中包含调试符号，以便稍后进行调试。-o开关告诉它命名生成的可执行文件的名称。
</li><li>单击Project&gt; Clean，然后单击OK</li><li>打开Console视图，确保“make”运行正常并编译您的程序</li><li>在Fortran Projects视图中，展开Binaries条目，然后单击您的可执行文件（例如，“hello.exe  -  x86le”）</li><li>单击运行&gt;运行方式&gt;本地Fortran应用程序</li><li>选择GDB调试器（如果您在Windows下，则选择Cygwin GDB调试器）</li><li>检查控制台视图，确保出现“Hello World”。
</li></ol><p><br>
<i>hello.f90</i></p><pre>program hello
print *, &quot;Hello World&quot;
end program</pre>
<br>
<i>Makefile :(</i> <b>你必须用制表符替换以gfortran和rm行开头的空格！）
</b><pre>all:
&nbsp;&nbsp;&nbsp;&nbsp;gfortran -o hello.exe -g hello.f90

clean:
&nbsp;&nbsp;&nbsp;&nbsp;rm -f hello.exe
</pre>
<h1>将C / C ++项目转换为Fortran项目</h1><p>每个Fortran项目也都是一个C项目，因此CDT的功能将在Fortran项目中按预期工作。但是，在明确转换之前，C / C ++ <i>不是</i> Fortran项目。（在Fortran项目视图中，Fortran项目将具有“F”图标，而C / C ++项目将具有“C”图标。）要将现有的C / C ++项目转换为Fortran项目：</p><ol><li>切换到Fortran透视图。
</li><li>在Fortran Projects视图中，右键单击要转换的项目，然后从弹出菜单中选择Convert to Fortran Project。
</li><li>该项目现在应该在Fortran项目视图中有一个“F”图标。
</li></ol><p><center>
<img src="../images/Photran-f-vs-c-project.png"></center>
</p></div>
</body>
</html>