<html >

<head>
<title>管理存储库（CDO模型存储库文档）</title>

<link rel="stylesheet" href="../book.css" type="text/css" charset="UTF-8">

<noscript></noscript>
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Managing Repositories (CDO Model Repository Documentation)";
    }
}
</script>
</head>

<body bgcolor="white"  onload="windowTitle();">
<!-- <div class="help_breadcrumbs breadcrumbs_top"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a> > <a href="index.html" title="Category in CDO Model Repository Documentation">User's Guide</a></div> -->

<table border="0">
	<tr>
		<td width="100%"><h1>管理存储库</h1></td>
		<td align="right" valign="middle" nowrap=""><a href="Doc01_UserInterface.html" title="向后到用户界面的元素"><img src="../../images/backward.png" border="0"></a> <a href="Doc03_UsingBranches.html" title="转发到分支机构"><img src="../../images/forward.png" border="0"></a></td>
	</tr>
</table>
<p class="author">作者：Eike Stepper</p>
<p>CDO在存储库中存储模型和元模型。需要创建这些存储库，或者如果它们已经存在于远程服务器上，则必须先将它们连接起来，然后才能在Eclipse中使用它们。这些存储库连接的管理发生在<a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="CDO模型存储库文档中的章节">CDO存储库视图中</a> 。
 </p><p>目前，CDO支持两种不同类型的存储库连接：</p><ul>
 <li>与现有远程存储库的连接，如<a href="Doc02_ManagingRepositories.html#Doc_RemoteRepositories" title="CDO模型存储库文档中的章节">连接到远程存储库中所述</a> 。
 </li><li>与新创建的本地存储库的连接，如<a href="Doc02_ManagingRepositories.html#Doc_LocalRepositories" title="CDO模型存储库文档中的章节">创建本地存储库中所述</a> 。
 </li></ul>请注意，CDO Explorer用户界面上下文中的术语<a href="../../javadoc/org/eclipse/emf/cdo/explorer/repositories/CDORepository.html" title="org.eclipse.emf.cdo.explorer.repositories中的接口"><code>repository</code></a>指的是与核心级<a href="../../javadoc/org/eclipse/emf/cdo/server/IRepository.html" title="org.eclipse.emf.cdo.server中的接口"><code>IRepository</code></a>的<i>连接</i> ，而不是引用<a href="../../javadoc/org/eclipse/emf/cdo/server/IRepository.html" title="org.eclipse.emf.cdo.server中的接口"><code>IRepository</code></a>本身。有关操作CDO服务器以及创建和管理<a href="../../javadoc/org/eclipse/emf/cdo/server/IRepository.html" title="org.eclipse.emf.cdo.server中的接口"><code>IRepository</code></a> ，请参阅“ <a href="../operators/index.html" title="CDO模型存储库文档中的类别">操作员指南”</a> 。
 <p>以下各节说明如何创建，重命名，连接，断开连接或删除存储库以及如何使用分支。
 </p><p>
 <b>目录</b> </p><p>
</p><table border="0">
<tr><td>1</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_CreatingRepositories" title="CDO模型存储库文档中的章节">创建存储库和连接</a></td></tr>
<tr><td></td><td>1.1</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RemoteRepositories" title="CDO模型存储库文档中的章节">连接到远程存储库</a></td></tr>
<tr><td></td><td>1.2</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_CloneRepositories" title="CDO模型存储库文档中的章节">克隆主存储库</a></td></tr>
<tr><td></td><td>1.3</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_LocalRepositories" title="CDO模型存储库文档中的章节">创建本地存储库</a></td></tr>
<tr><td>2</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_RenamingConnections" title="CDO模型存储库文档中的章节">重命名存储库连接</a></td></tr>
<tr><td>3</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_DeletingConnections" title="CDO模型存储库文档中的章节">删除存储库连接</a></td></tr>
<tr><td>4</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_ConnectingDisconnecting" title="CDO模型存储库文档中的章节">连接和断开存储库</a></td></tr>
<tr><td>五</td><td class="te" colspan="4"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowIn" title="CDO模型存储库文档中的章节">在其他视图中显示存储库</a></td></tr>
<tr><td></td><td>5.1</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInSessions" title="CDO模型存储库文档中的章节">在CDO会话视图中显示存储库</a></td></tr>
<tr><td></td><td>5.2</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInServerBrowser" title="CDO模型存储库文档中的章节">在CDO服务器浏览器中显示存储库</a></td></tr>
<tr><td></td><td>5.3</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInProperties" title="CDO模型存储库文档中的章节">在属性视图中显示存储库</a></td></tr>
<tr><td></td><td>5.4</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInHistory" title="CDO模型存储库文档中的章节">在历史记录视图中显示存储库</a></td></tr>
<tr><td></td><td>5.5</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInProjectExplorer" title="CDO模型存储库文档中的章节">在Project Explorer中显示存储库</a></td></tr>
<tr><td></td><td>5.6</td><td class="te" colspan="3"><a href="Doc02_ManagingRepositories.html#Doc_RepositoryShowInSystemExplorer" title="CDO模型存储库文档中的章节">在系统资源管理器中显示存储库</a></td></tr>
</table>



<h2><a name="Doc_CreatingRepositories"></a> 1创建存储库和连接</h2>
<p><a href="Doc01_UserInterface.html#Doc_RepositoriesView" title="CDO模型存储库文档中的章节">CDO存储库视图</a>提供了使用不同类型的CDO存储库的统一方法。只有在创建或连接时，存储库类型之间的差异才会变得明显。
 </p><p>以下部分说明如何使用不同的存储库创建或连接向导。可以通过单击CDO存储库视图工具栏上的绿色加号按钮来启动它们中的每一个：</p><p align="center"><img src="repositories-view.png">


</p><h3><a name="Doc_RemoteRepositories"></a> 1.1连接远程存储库</h3>
<p>要创建与现有远程存储库的在线连接，必须在第一个向导页面上选择第一个类型选项：</p><p align="center"><img src="repo-wizard-type-remote.png">

 </p><p>双击类型选项或单击“下一步”按钮前进到下一个向导页面，在该页面上，新连接的标签和有关远程服务器的信息，该服务器上的存储库以及可选的登录凭据需要输入：</p><p align="center"><img src="repo-wizard-remote.png">

 </p><p><b>标签</b>标识与远程存储库的连接。它在当前工作空间中的所有已配置连接中必须是唯一的。它也可以稍后更改，请参阅<a href="Doc02_ManagingRepositories.html#Doc_RenamingConnections" title="CDO模型存储库文档中的章节">重命名存储库连接</a> 。
 </p><p><b>主机</b>和<b>端口</b>字段指定要连接的存储库的服务器，更确切地说是该服务器上接受目标存储库的连接请求的<a href="../../../org.eclipse.net4j.doc/javadoc/org/eclipse/net4j/acceptor/IAcceptor.html" title="org.eclipse.net4j.acceptor中的接口"><code>IAcceptor</code></a> 。请参阅<a href="../operators/Doc02_ConfiguringAcceptors.html" title="CDO模型存储库文档中的文章">配置接受者</a>以获取操作员详
 </p><p><b>存储库</b>列表显示在目标服务器上发现的存储库。在此列表中选择已发现的存储库会将所选存储库的名称复制到存储库名称字段中。
 </p><p><b>存储库名称</b>字段标识指定CDO服务器上的目标存储库。有关如何在CDO服务器上配置存储库名称，请参阅<a href="../operators/Doc01_ConfiguringRepositories.html#Element_repository" title="CDO模型存储库文档中的章节">元素存储</a>库。
 </p><p>仅当目标存储库支持身份验证时，才会启用<b>用户名</b>和<b>密码</b>字段。有关如何在CDO存储库中配置身份验证和授权的信息，请参阅<a href="http://wiki.eclipse.org/CDO/Security_Manager" title="CDO模型存储库文档中的文章">管理安全性</a> 。

</p><h3><a name="Doc_CloneRepositories"></a> 1.2克隆主存储库</h3>
<p>用户界面尚不支持克隆主存储库。

</p><h3><a name="Doc_LocalRepositories"></a> 1.3创建本地存储库</h3>
<p>要创建新的本地存储库并向其添加在线连接，必须在第一个向导页面上选择第三个类型选项：</p><p align="center"><img src="repo-wizard-type-local.png">

 </p><p>双击类型选项或单击“下一步”按钮前进到下一个向导页面，在该页面上需要输入新连接的标签和有关新本地存储库的信息：</p><p align="center"><img src="repo-wizard-local.png">

 </p><p><b>标签</b>标识与新本地存储库的连接。它在当前工作空间中的所有已配置连接中必须是唯一的。它也可以稍后更改，请参阅<a href="Doc02_ManagingRepositories.html#Doc_RenamingConnections" title="CDO模型存储库文档中的章节">重命名存储库连接</a> 。
 </p><p><b>存储库名称</b>字段指定新本地存储库的名称。它必须在当前工作空间中的所有本地存储库中是唯一的。创建存储库后，与连接标签不同，存储库的名称可以不再更改。
 </p><p><b>版本控制模式</b>确定是保留已更改模型的历史记录（例如，在<a href="Doc04_CheckingOut.html#Doc_HistoricalCheckouts" title="CDO模型存储库文档中的章节">联机历史签出</a>和<a href="Doc01_UserInterface.html#Doc_TimeMachineView" title="CDO模型存储库文档中的章节">CDO时间机器视图中使用</a> ）以及是否支持分支。创建存储库后，无法再更改存储库的版本控制模式。
 </p><p><b>ID生成</b>确定生成新模型元素的位置（服务器或客户端）和方式（计数器或UUID）ID。服务器端计数器ID是更有效的选项，但它们阻止在复制方案中使用存储库，例如<a href="Doc02_ManagingRepositories.html#Doc_CloneRepositories" title="CDO模型存储库文档中的章节">脱机克隆存储库</a>或<a href="Doc04_CheckingOut.html#Doc_OfflineCheckouts" title="CDO模型存储库文档中的章节">脱机签出</a> 。对于这些方案，应选择客户端UUID。创建存储库后，无法再更改存储库的ID生成。
 </p><p>可选的<b>TCP端口</b>字段指定<a href="../../../org.eclipse.net4j.doc/javadoc/org/eclipse/net4j/tcp/ITCPAcceptor.html" title="org.eclipse.net4j.tcp中的接口"><code>ITCPAcceptor</code></a>将接受传入连接请求的端口。默认情况下，此选项被禁用，因为本地存储库在与托管Eclipse IDE相同的Java VM中运行，并且始终通过隐式<a href="../../../org.eclipse.net4j.doc/javadoc/org/eclipse/net4j/jvm/IJVMAcceptor.html" title="org.eclipse.net4j.jvm中的接口"><code>IJVMAcceptor</code></a>接受来自那里的连接请求。

</p><h2><a name="Doc_RenamingConnections"></a> 2重命名存储库连接</h2>
<p>CDO支持在任何时候重命名现有存储库连接，即更改其标签，即使已经存在来自该存储库的检出。可以通过选择存储库连接并按F2键或在上下文菜单中选择“重命名”操作来重命名存储库连接。将弹出以下对话框：</p><p align="center"><img src="repo-rename.png">

 </p><p>如果存储库标签未更改或更改为不存在的标签，则只能使用“确定”按钮完成对话框。

</p><h2><a name="Doc_DeletingConnections"></a> 3删除存储库连接</h2>
<p>通过选择存储库连接并按Del键或在上下文菜单中选择“删除”操作，可以删除现有存储库连接。将弹出以下对话框：</p><p align="center"><img src="repo-delete.png">

 </p><p>如果存在要删除的存储库连接的检出，则将<b>首先</b>弹出以下警告对话框：</p><p align="center"><img src="repo-delete-checkouts.png">

 </p><p>如果确认删除现有结帐，则会按照<a href="Doc05_UsingCheckouts.html#Doc_DeletingCheckouts" title="CDO模型存储库文档中的章节">删除结帐中的</a>说明弹出结帐删除对话框。

</p><h2><a name="Doc_ConnectingDisconnecting"></a> 4连接和断开存储库</h2>
<p>要使用已配置的存储库，例如创建分支（请参阅<a href="Doc03_UsingBranches.html#Doc_CreatingBranches" title="CDO模型存储库文档中的章节">创建分支</a> ）或签出（请参阅<a href="Doc04_CheckingOut.html" title="Article in CDO Model Repository Documentation">从存储库</a>签<a href="Doc04_CheckingOut.html" title="CDO模型存储库文档中的文章">出，存储</a>库必须处于<i>连接</i>状态。创建后直接连接存储库。在Eclipse启动后，所有存储库都处于<i>断开连接</i>状态。
 </p><p>如果存储库已断开连接，则可以通过双击它或在其上下文菜单中选择“连接”来连接它。当打开来自此存储库的现有签出时，它会自动连接。
 </p><p>如果存储库已连接，则可以通过在其上下文菜单中选择“断开连接”来断开连接。当<a href="Doc01_UserInterface.html#Doc_PreferencePages" title="CDO模型存储库文档中的章节">配置的超时时间</a>已过，并且在此期间未使用存储库时，它会自动断开连接。

</p><h2><a name="Doc_RepositoryShowIn"></a> 5在其他视图中显示存储库</h2>
<p>通过选择存储库，打开其上下文菜单，打开Show In子菜单以及选择Show In操作之一，可以在许多其他视图中显示存储库，具体取决于存储库的类型。
 </p><p>本地存储库可以在以下视图中显示：</p><p align="center"><img src="repository-local-showin.png">

 </p><p>远程存储库可以在以下视图中显示：</p><p align="center"><img src="repository-remote-showin.png">


</p><h3><a name="Doc_RepositoryShowInSessions"></a> 5.1在CDO会话视图中显示存储库</h3>
<p>所有存储库都可以在<a href="Doc01_UserInterface.html#Doc_SessionsView" title="CDO模型存储库文档中的章节">CDO Sessions视图中显示</a> ：</p><p align="center"><img src="sessions-view.png">

 </p><p>在CDO会话视图中打开与所选存储库具有相同目标存储库的新<a href="../../javadoc/org/eclipse/emf/cdo/session/CDOSession.html" title="org.eclipse.emf.cdo.session中的接口"><code>session</code></a> 。

</p><h3><a name="Doc_RepositoryShowInServerBrowser"></a> 5.2在CDO服务器浏览器中显示存储库</h3>
<p>本地存储库可以在CDO服务器浏览器中显示：</p><p align="center"><img src="server-browser.png">

 </p><p>CDO Server Browser允许在Web浏览器中内省本地存储库的内部数据。它仅用于测试和调试目的。它<b>并不</b>意味着可以扩展到任意存储库大小的生产工具！

</p><h3><a name="Doc_RepositoryShowInProperties"></a> 5.3在属性视图中显示存储库</h3>
<p>所有存储库都可以在<a href="Doc01_UserInterface.html#Doc_PropertySheetIntegration" title="CDO模型存储库文档中的章节">Properties视图中显示</a> ：</p><p align="center"><img src="property-sheet.png">


</p><h3><a name="Doc_RepositoryShowInHistory"></a> 5.4在历史记录视图中显示存储库</h3>
<p>所有存储库都可以显示在“ <a href="Doc01_UserInterface.html#Doc_HistoryIntegration" title="CDO模型存储库文档中的章节">历史记录”视图中</a> ：</p><p align="center"><img src="history.png">

 </p><p>如果未启用“历史记录”视图工具栏中的“使用编辑器和选择链接”按钮，并且历史记录页面不会自动调整为工作台选择，则此功能特别有用。

</p><h3><a name="Doc_RepositoryShowInProjectExplorer"></a> 5.5在Project Explorer中显示存储库</h3>
<p>所有存储库都可以在<a href="Doc01_UserInterface.html#Doc_ProjectExplorerIntegration" title="CDO模型存储库文档中的章节">Project Explorer中显示</a> ，这意味着将选择所选存储库中的所有已配置检出。

</p><h3><a name="Doc_RepositoryShowInSystemExplorer"></a> 5.6在系统资源管理器中显示存储库</h3>
<p>所有存储库都可以在系统资源管理器中显示：</p><p align="center"><img src="system-explorer-repository.png">

 </p><p>每个存储库都拥有当前工作空间的.metadata下的专用目录。此目录包含repository.properties文件，该文件包含存储库的配置。本地存储库还将本地存储库的数据库存储在此目录中。

</p><p align="right">
<a href="Doc01_UserInterface.html" title="向后到用户界面的元素"><img src="../../images/backward.png" border="0"></a> <a href="Doc03_UsingBranches.html" title="转发到分支机构"><img src="../../images/forward.png" border="0"></a></p>
<!-- <div class="help_breadcrumbs breadcrumbs_bottom"><a href="../Overview.html" title="CDO Model Repository Documentation">CDO Model Repository Documentation</a> > <a href="index.html" title="Category in CDO Model Repository Documentation">User's Guide</a></div> -->

<div class="copyright">版权所有（c）2014 Eike Stepper（德国柏林）等。<br>版权所有。本程序及随附材料根据本发行版附带的Eclipse Public License v1.0条款提供，可从http://www.eclipse.org/legal/epl-v10.html获取。</div>
</body>
</html>