<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" gtc:encodedoriginal="PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9uYWwvL0VOIj4=">
<html dir="ltr">
<head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
<title>ECF共享对象工厂</title>
<style type="text/css"></style>
<style type="text/css"></style>
</head>
<body dir="ltr">
<h1 style="text-align:center">ECF共享对象工厂</h1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">标识符：</h6>org.eclipse.ecf.sharedObjectFactory<p></p>
<h6 class="CaptionFigColumn SchemaHeader">以来：</h6>0.6.0<p></p>

<h6 class="CaptionFigColumn SchemaHeader">描述：</h6>ECF共享对象工厂扩展点（ <b>org.eclipse.ecf.sharedObjectFactory</b> 。此扩展点允许implmenters定义<b>org.eclipse.ecf.core.sharedobject.provider。ISharedObjectInstantiator</b>将负责创建<b>org.eclipse.ecf.core.sharedobject。客户端请求时的ISharedObject</b>实例。这是扩展必须实现的<b>ISharedObjectInstantiator</b> ：<pre class="Example"><span class="code SchemaTag">public interface ISharedObjectInstantiator {/ ** *创建ISharedObject的实例。这是插件*实现必须为sharedObjectFactory扩展*点实现的接口。调用者可以选择指定将传递给此方法的参数类型和*参数（因此也指向实现此方法的* provider实现）。例如：* &lt;p&gt; * &lt;/ p&gt; * &lt;p&gt; * &lt;b&gt; * SharedObjectFactory.getDefault（）。createSharedObject（“foosharedobject”，new * String [] {java.lang。String}，new Object {“hello”}）; &lt;/ b&gt; * &lt;/ p&gt; * &lt;p&gt; * &lt;/ p&gt; * * @param typeDescription *与注册的*共享对象提供程序实现插件相关联的SharedObjectTypeDescription * @ param args *调用者指定的参数。如果调用者没有将参数*传递给* SharedObjectFactory.getDefault（），则可以为null.createSharedObject（...）* @return ISharedObject实例。提供程序实现必须返回实现ISharedObject的*有效对象或抛出* SharedObjectCreateException * @throws SharedObjectCreateException *如果无法创建共享对象实例* / public ISharedObject createInstance（SharedObjectTypeDescription typeDescription，Object [] args）抛出SharedObjectCreateException; }</span></pre><p></p>
<h6 class="CaptionFigColumn SchemaHeader">配置标记：</h6>
<p></p>
<p class="code SchemaDtd">&lt;！ELEMENT <a name="e.extension">扩展</a> （ <a href="#e.sharedObjectFactory">sharedObjectFactory</a> +）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST扩展</p>
<p class="code SchemaDtdAttlist">点CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">id CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">名称CDATA #IMPLIED</p>&gt;<p></p>
<ul class="ConfigMarkupAttlistDesc">
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.sharedObjectFactory">sharedObjectFactory</a> （ <a href="#e.property">property</a> *）&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST sharedObjectFactory</p>
<p class="code SchemaDtdAttlist">class CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">名称CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">描述CDATA #IMPLIED</p>&gt;<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - 实现<b>org.eclipse.ecf.core.provider的类的完全限定名称<b>。ISharedObjectInstantiator</b>接口。</li>
<li><b>name</b> - 扩展<b>名</b>的可选名称。如果扩展名未明确提供名称，则使用sharedObjectFactory类名作为名称。请注意，为了成功注册，此名称<b>不得</b>与ECF SharedObjectFactory中的任何其他名称冲突。因此，应注意选择名称，使其与此工厂实施的其他预先存在的名称不冲突</li>
<li><b>说明</b> -</li>
</ul>
<br><p class="code SchemaDtd">&lt;！ELEMENT <a name="e.property">属性</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;！ATTLIST财产</p>
<p class="code SchemaDtdAttlist">名称CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">值CDATA #REQUIRED</p>&gt;<p></p>
<p class="ConfigMarkupElementDesc">与SharedObjectTypeDescription关联的属性（名称，值）</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - 属性的名称</li>
<li><b>value</b> - 属性的值</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">例子：</h6>以下是扩展点声明的示例：<pre class="Example"><span class="code SchemaTag">&lt;extension point =</span> <span class="code SchemaCstring">“org.eclipse.ecf.sharedobject.sharedObjectFactory”</span> <span class="code SchemaTag">&gt; &lt;sharedObjectFactory class =</span> <span class="code SchemaCstring">“org.eclipse.ecf.tests.provider。TestSharedObjectInstantiator“</span> <span class="code SchemaTag">name =</span> <span class="code SchemaCstring">”ecf.test.sharedobjectfactory“</span> <span class="code SchemaTag">/&gt; &lt;/ extension&gt;</span></pre>并定义了TestSharedObjectInstantiator：<pre class="Example"><span class="code SchemaTag">公共类TestSharedObjectInstantiator实现ISharedObjectInstantiator {public ISharedObject createInstance（SharedObjectTypeDescription description，Object [] args）抛出SharedObjectCreateException {System.out.println（“createInstance（”+ description +“，”+（（args == null）？“空”：Arrays.asList（参数）的ToString（）））;返回新的TestSharedObject（）; }}</span></pre>

<h3>客户端使用容器的示例</h3>客户可以通过以下呼叫使用扩展程序：<pre class="Example"><span class="code SchemaTag">ISharedObject obj = SharedObjectFactory.getDefault（）。createSharedObject（“ecf.test.sharedobjectfactory”）;</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API信息：</h6>用于访问通过扩展提供的功能的API是通过<b>org.eclipse.ecf.core.sharedobject。SharedObjectFactory.getDefault（）</b>方法。具体来说，是<b>org.eclipse.ecf.core.sharedobject。ISharedObjectFactory.createSharedObject（）</b>方法用于创建共享对象实例，其中扩展实现实际的共享对象创建。这是<b>org.eclipse.ecf.core.sharedobject。由<b>org.eclipse.ecf.core.sharedobject实现的ISharedObjectFactory</b>契约<b>。SharedObjectFactory</b> ：<pre class="Example"><span class="code SchemaTag">公共接口ISharedObjectFactory {/ * *将SharedObjectTypeDescription添加到已知的* SharedObjectTypeDescriptions集合中。* * @param scd将SharedObjectTypeDescription添加到此工厂@return * SharedObjectTypeDescription同名的旧描述，如果* none找不到null * / public SharedObjectTypeDescription addDescription（SharedObjectTypeDescription description）; / ** *获取*此工厂当前已知的SharedObjectTypeDescriptions的集合。这允许客户端查询工厂以确定*当前任何其他SharedObjectTypeDescriptions目前在工厂注册了什么，如果是，那么它们是什么。* * @return SharedObjectTypeDescription实例列表。不会为空。* / public List getDescriptions（）; / ** *检查给定的命名描述是否已包含在此* factory * * @param描述* SharedObjectTypeDescription以查找* @return如果描述已为工厂已知，则为true，否则为false * / public boolean containsDescription（ SharedObjectTypeDescription description）; / ** *获取已知的SharedObjectTypeDescription，并给出其名称。* *找到@param name * @return SharedObjectTypeDescription。如果未找到描述，则为空。* @throws SharedObjectCreateException * / public SharedObjectTypeDescription getDescriptionByName（String name）抛出SharedObjectCreateException; / ** *创建ISharedObject实例。给定一个SharedObjectTypeDescription *对象，一个参数类型的String []和一个参数的Object []，*此方法将* &lt;p&gt; * &lt;ul&gt; * &lt;li&gt;查找已知的SharedObjectTypeDescriptions以找到*匹配的名称之一&lt; / li&gt; * &lt;li&gt;如果找到，将为*描述检索或创建一个ISharedObjectInstantiator &lt;/ li&gt; * &lt;li&gt;调用ISharedObjectInstantiator.createInstance方法返回* ISharedObject的实例&lt;/ li&gt; * &lt;/ ul&gt; * * @param typeDescription *用于创建实例的SharedObjectTypeDescription * @param args *一个传递给ISharedObjectInstantiator的createInstance方法*的参数的Object [] *返回一个有效的ISharedObject实例。不会为空。* @throws SharedObjectCreateException *如果无法创建共享对象* / public ISharedObject createSharedObject（SharedObjectTypeDescription typeDescription，Object [] args）抛出SharedObjectCreateException; / ** *创建ISharedObject实例。给定SharedObjectTypeDescription名称，*此方法将* &lt;p&gt; * &lt;ul&gt; * &lt;li&gt;查找已知的SharedObjectTypeDescriptions以查找*匹配名称之一&lt;/ li&gt; * &lt;li&gt;如果找到，将检索或创建ISharedObjectInstantiator for *该描述&lt;/ li&gt; * &lt;li&gt;调用ISharedObjectInstantiator.createInstance方法返回* ISharedObject的实例&lt;/ li&gt; * &lt;/ ul&gt; * * @param descriptionName * SharedObjectTypeDescription名称以查找* @return有效实例ISharedObject。不会为空。* @throws SharedObjectCreateException * / public ISharedObject createSharedObject（String descriptionName）抛出SharedObjectCreateException; / ** *创建ISharedObject实例。给定SharedObjectTypeDescription名称，*此方法将* &lt;p&gt; * &lt;ul&gt; * &lt;li&gt;查找已知的SharedObjectTypeDescriptions以查找*匹配名称之一&lt;/ li&gt; * &lt;li&gt;如果找到，将检索或创建ISharedObjectInstantiator for *该描述&lt;/ li&gt; * &lt;li&gt;调用ISharedObjectInstantiator.createInstance方法以返回* ISharedObject的实例&lt;/ li&gt; * &lt;/ ul&gt; * * @param descriptionName * SharedObjectTypeDescription名称以查找* @param args * the传递给* ISharedObjectInstantiator.createInstance方法的参数的Object [] * @return一个有效的IContainer实例。不会为空。* @throws SharedObjectCreateException * / public ISharedObject createSharedObject（String descriptionName，Object [] args）抛出SharedObjectCreateException; / ** *从本工厂已知的集合中删除给定的描述。* * @param scd *要删除的SharedObjectTypeDescription * @return删除的SharedObjectTypeDescription，如果没有删除则为null * / public SharedObjectTypeDescription removeDescription（SharedObjectTypeDescription scd）; }</span></pre>有关扩展点的示例用法，请参阅“示例”页面。
<p></p>

<br>
<p class="note SchemaCopyright">版权所有（c）2004 Composent，Inc。和其他人。版权所有。本程序及随附材料根据本发行版附带的Eclipse Public License v1.0条款提供，可从http://www.eclipse.org/legal/epl-v10.html获取。贡献者：Composent，Inc。 - 初始API和实施</p>
</body>
</html>
