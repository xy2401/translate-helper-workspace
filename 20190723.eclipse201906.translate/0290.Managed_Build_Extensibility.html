<html lang="zh-Hans" dir="ltr" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns="http://www.w3.org/TR/REC-html40">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
  <meta name="GENERATOR" content="Microsoft FrontPage 6.0"></meta>
  <meta http-equiv="Content-Style-Type" content="text/css"></meta>

  <title>托管构建系统可扩展性文档</title>
  <link rel="stylesheet" href="asset?aid=0" type="text/css"></link>
  <link rel="stylesheet" href="../../../book.css" type="text/css"></link>
	<style></style>
	<!--[if !mso]>
	<style>h2
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic}
table.MsoTableGrid
	{border:1.0pt solid windowtext;
	font-size:10.0pt;
	font-family:"Times New Roman";
	}
 li.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	margin-left:0in; margin-right:0in; margin-top:0in}
  h4
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.6in;
	text-indent:-.6in;
	page-break-after:avoid;
	tab-stops:list .6in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	}
 table.MsoNormalTable
	{mso-style-parent:"";
	font-size:10.0pt;
	font-family:"Times New Roman";
	}
</style>
	<![endif]-->
</head>
<body dir="ltr">
<!-- Document Header -->
<table border="0" cellpadding="2" width="100%">
  <tbody>
    <tr>
      <td align="left" width="72%">托管构建系统可扩展性文档<br>本文档描述了托管构建系统的设计以及如何扩展它。</td>
      <td width="28%"><img src="http://dev.eclipse.org/images/Idea.jpg" alt="理念" height="86" width="120"></td>
    </tr>
  </tbody>
</table>
<table border="1">
 <tr>
    <td width="50%" rowspan="4">作者</td>
    <td width="50%"> <a href="mailto:sevoy@ca.ibm.com">肖恩·埃弗伊</a></td>
  </tr>
  <tr>
    <td width="50%"><a href="mailto:leo.treggiari@intel.com">Leo Treggiari</a></td>
  </tr>
  <tr>
    <td width="50%"><a href="mailto:mikhail.sennikovsky@intel.com">米哈伊尔·塞尼科夫斯基</a></td>
  </tr>
  <tr>
  <td width="50%"><a href="mailto:recoskie@ca.ibm.com">Chris Recoskie</a></td>
  </tr>
  <tr>
    <td width="50%" rowspan="8">修订日期</td>
    <td width="50%">10/21/2003  - 版本：0.1.0</td>
  </tr>
  <tr>
    <td width="50%">09/10/2004  - 版本：2.0.0</td>
  </tr>
  <tr>
    <td width="50%">11/08/2004  - 版本：2.1.0</td>
  </tr>
  <tr>
    <td width="50%">8/10/2005  -  3.0.0版</td>
  </tr>
  <tr>
    <td width="50%">2005年9月28日 - 版本3.0.1</td>
  </tr>
  <tr>
    <td width="50%">05/09/06  -  3.1版</td>
  </tr>
  <tr>
    <td width="50%">06/22/07  - 版本4.0</td>
  </tr>
  <tr>
    <td width="50%">02/23/11  - 版本4.0.1</td>
  </tr>
  <tr>
    <td width="50%" rowspan="8">改变历史</td>
    <td width="50%" height="22">0.1.0  - 文档创建</td>
  </tr>
  <tr>
    <td width="50%">2.0.0  - 针对CDT 2.0进行了更新</td>
  </tr>
  <tr>
    <td width="50%">2.1.0  - 针对CDT 2.1进行了更新</td>
  </tr>
  <tr>
    <td width="50%">3.0  - 针对CDT 3.0进行了更新</td>
  </tr>
  <tr>
    <td width="50%">3.0.1  - 针对CDT 3.0.1进行了更新</td>
  </tr>
  <tr>
    <td width="50%">3.1  - 针对CDT 3.1进行了更新</td>
  </tr>
	<tr>
    <td width="50%">4.0  - 添加了<a href="../../cdt_build_system/whats_new/4.0/whats_new_CBS_40.html">“4.0中的新内容”文档的链接</a></td>
  </tr>
    <tr>
    <td width="50%">4.0.1  - 自CDT 8.0起增加了选项/类别启用</td>
  </tr>
</table>
<br>
<!-- End of Document Header --><!-- Table of Contents -->
<div class="section">目录</div>
<br>
<div class="indent"><a href="#_TocSectionIntro">1简介</a>
<a href="#_TocSectionIntro_1"><div class="indent">1.1谁需要这些信息</div></a>
<a href="#_TocSectionIntro_2"><div class="indent">1.2托管构建系统概述</div></a>
<div class="indent"><a href="#_TocSectionIntro_3">1.3标准构建系统</a></div>
</div>
<div class="indent"><a href="#_TocSectionUIModel">2用户模型</a>
<div class="indent"><a href="#_TocSectionUIModel_1">2.1用户场景</a></div>
</div>
<div class="indent"><a href="#_TocSectionGrammar">3构建模型语法元素</a>
<div class="indent"><a href="#_TocSectionGrammar_1">3.1模型</a></div>
<div class="indent"><a href="#_TocSectionGrammar_2">3.2项目类型</a></div>
<div class="indent"><a href="#_TocSectionGrammar_3">3.3管理项目</a></div>
<div class="indent"><a href="#_TocSectionGrammar_4">3.4配置</a></div>
<div class="indent"><a href="#_TocSectionGrammar_5">3.5工具链</a></div>
<div class="indent"><a href="#_TocSectionGrammar_6">3.6生成器</a></div>
<div class="indent"><a href="#_TocSectionGrammar_7">3.7目标平台</a></div>
<div class="indent"><a href="#_TocSectionGrammar_8">3.8工具</a></div>
<div class="indent"><a href="#_TocSectionGrammar_9">3.9 InputType</a></div>
<div class="indent"><a href="#_TocSectionGrammar_10">3.10 AdditionalInput</a></div>
<div class="indent"><a href="#_TocSectionGrammar_11">3.11 OutputType</a></div>
<div class="indent"><a href="#_TocSectionGrammar_12">3.12期权类别</a></div>
<div class="indent"><a href="#_TocSectionGrammar_13">3.13选项</a></div>
<div class="indent"><a href="#_TocSectionGrammar_14">3.14列表选项值</a></div>
<div class="indent"><a href="#_TocSectionGrammar_15">3.15枚举期权价值</a></div>
<div class="indent"><a href="#_TocSectionGrammar_16">3.16资源配置</a></div>
<div class="indent"><a href="#_TocSectionGrammar_17">3.17环境变量构建路径</a></div>
<div class="indent"><a href="#_TocSectionGrammar_18">3.18托管构建版本</a></div>
<div class="indent"><a href="#_TocSectionGrammar_19">3.19选项/类别启用</a></div>
<div class="indent"><a href="#_TocSectionGrammar_20">3.20动态元素提供者</a></div>
</div>
<div class="indent"><a href="#_TocSectionUIElements">4 UI表示</a>
<div class="indent"><a href="#_TocSectionUIElements_1">4.1新项目向导</a></div>
<div class="indent"><a href="#_TocSectionUIElements_2">4.2构建属性页面</a></div>
</div>
<div class="indent"><a href="#_TocSectionMakefile">5构建文件生成</a>
<div class="indent"><a href="#_TocSectionMakefile_1">5.1默认构建文件生成器</a></div>
</div>
<div class="indent"><a href="#_TocSectionTutorial">6教程：示例工具集成</a>
<div class="indent"><a href="#_TocSectionTutorial_1">6.1设置环境</a></div>
<div class="indent"><a href="#_TocSectionTutorial_2">6.2创建插件项目</a></div>
<div class="indent"><a href="#_TocSectionTutorial_3">6.3创建扩展</a></div>
<div class="indent"><a href="#_TocSectionTutorial_4">6.4添加ProjectType</a></div>
<div class="indent"><a href="#_TocSectionTutorial_5">6.5添加配置</a></div>
<div class="indent"><a href="#_TocSectionTutorial_6">6.6添加ToolChain</a></div>
<div class="indent"><a href="#_TocSectionTutorial_7">6.7添加构建器</a></div>
<div class="indent"><a href="#_TocSectionTutorial_8">6.8添加TargetPlatform</a></div>
<div class="indent"><a href="#_TocSectionTutorial_9">6.9添加工具</a></div>
<div class="indent"><a href="#_TocSectionTutorial_10">6.10添加输入和输出类型</a></div>
<div class="indent"><a href="#_TocSectionTutorial_11">6.11测试ProjectType</a></div>
<div class="indent"><a href="#_TocSectionTutorial_12">6.12添加工具选项</a></div>
<div class="indent"><a href="#_TocSectionTutorial_13">6.13采取下一步措施</a></div>
</div>
<div class="indent"><a href="#_TocSectionDynamic">7添加动态行为</a>
<div class="indent"><a href="#_TocSectionDynamic_1">7.1概述</a></div>
<div class="indent"><a href="#_TocSectionDynamic_2">7.2替换构建文件生成器</a></div>
<div class="indent"><a href="#_TocSectionDynamic_3">7.3替换依赖性计算器</a></div>
<div class="indent"><a href="#_TocSectionDynamic_4">7.4更换命令行生成器</a></div>
<div class="indent"><a href="#_TocSectionDynamic_5">7.5确定是否安装了工具链</a></div>
<div class="indent"><a href="#_TocSectionDynamic_6">7.6定义环境变量</a></div>
<div class="indent"><a href="#_TocSectionDynamic_7">7.7定义构建路径解析器</a></div>
<div class="indent"><a href="#_TocSectionDynamic_8">7.8定义构建宏</a></div>
<div class="indent"><a href="#_TocSectionDynamic_9">7.9定义配置名称提供程序</a></div>
<div class="indent"><a href="#_TocSectionDynamic_10">7.10定义输出名称提供程序</a></div>
<div class="indent"><a href="#_TocSectionDynamic_11">7.11定义选项值处理程序</a></div>
<div class="indent"><a href="#_TocSectionDynamic_12">7.12定义选项适用性计算器</a></div>
<div class="indent"><a href="#_TocSectionDynamic_13">7.13定义动态元素提供程序</a></div>
<div class="indent"><a href="#_TocSectionDynamic_14">7.14将自定义页面添加到新项目向导</a><br>
  <a href="#_TocSectionStartup_15">7.15定义构建配置加载的启动行为</a><br>
</div>
</div>
<div class="indent"><a href="#_TocSectionAdvanced">8高级功能</a>
<div class="indent"><a href="#_TocSectionAdvanced_1">8.1转换CDT 2.0清单文件</a></div>
<div class="indent"><a href="#_TocSectionAdvanced_2">8.2支持多个版本的工具链</a></div>
</div>
<!-- End of Table of Contents --><br>
<p class="section"><a name="_TocSectionIntro">1简介</a></p>
<p style="margin-top:0;margin-bottom:0"><strong><span style="color:#ff0000">注意：</span></strong>该文档描述了CDT托管构建系统（MBS）3.x功能。尽管4.0中的构建系统已经进行了许多重大更改，但该文档仍然有效，因为所有4.0构建系统更改都是通过扩展本文档中描述的MBS功能来实现的。从CDT 8.0开始，仍然使用MBS 4.0，尽管本文档中未必反映许多改进。</p>
<p style="margin-top:0;margin-bottom:0"><a href="../../cdt_build_system/whats_new/4.0/whats_new_CBS_40.html">有关CDT 4.0中</a>提供的其他新功能的列表和说明，请参阅<a href="../../cdt_build_system/whats_new/4.0/whats_new_CBS_40.html">“CDT Build System 4.0中</a>的新功能<a href="../../cdt_build_system/whats_new/4.0/whats_new_CBS_40.html">”文档</a> 。</p>
<p>C和C ++开发人员是一个多元化的团队。他们使用的工具，他们遵循的流程以及他们对开发环境的期望支持程度差异很大。CDT提供了将这些工具集成到Eclipse中的框架，托管构建系统是该框架的一部分。了解托管构建系统的工作原理以及扩展它所需的步骤是本文档的重点。</p>
<p>本文档中的大部分内容摘自Eclipse Bugzilla数据库中包含的托管构建系统（MBS）设计文档。这些文件的作者包括Mikhail Sennikovsky，Bob Monteleone，Sunil Davasam，Chris Recoskie，Lars Kurth和Bala Torati。这些设计文档是关于特定MBS功能的附加信息的来源。请注意，这些文档在初始设计之后不一定保持最新，因为本文档试图是最新的。以下是一些文件清单：</p>
<ul>
	<li>自定义构建步骤（＃88922）</li>
	<li>工具链安装支持（＃87478）</li>
	<li>工具链多版本支持（＃89872）</li>
	<li>构建环境变量（＃88497）</li>
	<li>构建宏（＃89210）</li>
	<li>自定义项目向导页面（＃90334）</li>
	<li>共享工具选项（＃90481）</li>
</ul>
<p class="subsection"><a name="_TocSectionIntro_1">1.1谁需要这些信息</a></p>
<p>本文档中的信息描述了托管构建系统的设计，并讨论了如何通过<code>buildDefinitions</code>扩展点向其添加新的工具链定义。它适用于想要了解托管构建系统如何工作，或者有兴趣向其添加自己的工具链规范的人。</p>
<p>CDT托管构建系统配置为使用Gnu编译器集合（GCC）生成Gnu makefile以构建可执行文件，静态库和共享库。如果您可以访问平台上的GCC工具并找到足以满足您需求的预定义项目类型，那么您无需修改任何内容。请随意跳过第3,6,7和8节，因为它们主要关注的是为构建模型添加新的工具集成。</p>
<p>如果您正在使用GCC以外的工具，或者您希望创建CDT不支持的项目类型，您可以添加项目类型/工具链的描述并让CDT获取您提供的信息与您的定义。使用CDT 4.0，您可以为这两种情况执行此操作，无论您是否愿意CDT自动为您的项目生成makefile。</p>
<p>如果您选择将自己的工具添加到托管构建系统，则假定您熟悉XML和Eclipse扩展点机制。制定了标准免责声明之后，应该说第6节中的教程提供了一种添加新工具规范的烹饪方法，因此，如果您可以随时直接进入并参考<span style="font-style:italic">平台插件开发人员指南中</span>的在线帮助。进度停止了。</p>
<p class="subsection"><a name="_TocSectionIntro_2">1.2托管构建系统概述</a></p>
<p>托管构建系统由几个相互作用以构建项目的组件组成。托管构建系统的核心是构建模型。它是内部和外部客户所需的所有与构建相关的信息的中央交换所。有三个内部客户;用户界面组件，构建文件生成器，负责在项目构建时为项目生成正确的构建文件，以及随CDT提供的内置解析器。外部客户端是最终用户，通过用户界面与构建模型交互，以及向构建模型提供工具定义的工具集成商。下图显示了这些组件之间的基本关系集。</p>
<p>
<img src="./image002.gif" title="图1托管构建系统概述" alt="构建模型逻辑元素" style="border:0px solid"></p>
<h5>图1托管构建系统概述</h5>
<p class="subsection">1.2.1外部用户</p>
<p>从构建系统的角度来看，有两个外部用户。第一个是通过第5节中描述的UI元素与之交互的最终用户。UI包括一个新的项目向导，它依赖于构建系统来告诉它可以创建哪些类型的新项目。创建项目后，项目属性页将使用构建系统中的信息来填充其显示。用户可以通过属性页面更改与项目工具相关的信息，构建系统负责在会话之间保存这些更改。第二个外部用户是工具集成商，他将有关其工具链的信息添加到插件清单中，如第6节中的教程所述。工具集成商是本文档的主要受众。
</p>
<p class="subsection">1.2.2内部用户</p>
<p>托管构建系统中有三个内部客户端。第一个是构建文件生成器，它根据为构建系统中的项目定义的工具和设置为项目创建正确的构建文件。第二个是内置的CDT解析器，它依赖于构建系统来告诉它有关给定项目的包含路径和已定义的预处理器符号，以便它可以正确地构造文件所属的编译单元的内部表示。第三个客户端是构建系统的UI组件，它查询构建模型以查找为项目定义的工具和选项，以构建其显示并存储用户设置。</p>
<p class="subsection">1.2.3内置编译器设置</p>每个编译器都依赖于拥有一组正确的预处理器符号和头文件搜索路径来执行正确的构建。甚至来自同一供应商的编译器在构建不同的操作系统时也可能使用不同的符号和搜索路径。其中一些值可能由用户定义，但其他值将内置到工具本身中，因此用户将不知道它们。上一节中描述的CDT解析器需要知道整个集合以正确解析源文件。MBS负责回答解析器的用户提供的和内置的路径和符号。在这两者中，用户提供的包含路径和定义是微不足道的，因为用户通过UI输入它们。另一方面，内置的编译器设置难以破译，解决方案因工具而异。第6.12节提供了对可能解决方案的讨论。<br>
<p class="subsection">1.2.4工具定义和设置存储</p>托管构建系统的一个关键特性是它是可扩展的。工具集成商可以使用第3节中描述的语法将自己的工具添加到构建系统中。在项目的.cdtbuild文件中，相同的语法用于保存用户在会话之间通过UI覆盖的设置。<p class="subsection"><a name="_TocSectionIntro_3">1.3标准构建系统</a></p>
<p>还有一个标准构建系统作为CDT框架的一部分提供，与托管构建系统无关。标准系统提供了一小组工具来构建用户的项目。用户需要提供一个makefile，其中包含足够的信息来构建他们的项目。UI允许用户在makefile中定义的目标之间切换，并且可以在运行时动态发现构建设置以允许解析器正常运行。</p>
<p>使用标准或托管构建系统的决定是一种权衡。对于已经拥有一组工作makefile的现有项目的用户，或者喜欢（或需要）编写自己的makefile的用户，标准系统可能是完美的。但是，许多用户发现为项目编写和维护makefile是件苦差事。对于这些用户而言，为了不必维护它们而进行权衡是控制makefile的灵活性。</p>
<p class="section"><a name="_TocSectionUIModel">2</a>用户模型</p>
<p class="MsoNormal" style="margin-top:6.0pt">CDT用户的MBS模型包含以下主要对象：</p>
<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" id="table9" style="border-collapse:collapse;border:medium none">
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">项目类型</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:1.0pt solid windowtext;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">工具集成商定义的项目类，充当用户将创建的项目的模板。模板指定一个或多个默认配置，并且可以选择性地提供代码生成功能，以便为项目创建初始输入资源集。该模板还可以在向导页面中显示各种选项，允许用户进一步自定义项目。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">项目</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">用户定义的特定项目类型的实例以及一组用户指定的输入资源和配置。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">组态</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">特定的工具链（可能使用其他工具或不同的工具进行定制），这些工具的一组选项以及定义构建项目的独特方式的其他信息。示例包括构建用于调试的项目，构建要发布的项目，或者为不同的目标平台构建项目。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">工具链</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">一组有序的工具，用于将项目资源转换为项目的最终输出（构建工件）。工具集成商可以提供一系列工具链，支持不同的主机/目标平台组合以及工具链的不同版本。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">工具</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">在构建过程中使用的某种实用程序。工具通常将处理一个或多个资源以产生输出资源。大多数工具都有一组可用于修改工具行为的选项。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">选项</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">用户可以设置的单个控件，用于修改工具的行为。</p></td>
	</tr>
	<tr>
		<td width="127" valign="top" style="width:95.4pt;border-left:1.0pt solid windowtext;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">选项类别</p></td>
		<td width="463" valign="top" style="width:347.4pt;border-left:medium none;border-right:1.0pt solid windowtext;border-top:medium none;border-bottom:1.0pt solid windowtext;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
		<p class="MsoNormal" style="margin-top:6.0pt">一组命名选项，用于在层次结构中将类似选项分组在一起。</p></td>
	</tr>
</table>
<p class="subsection"><a name="_TocSectionUIModel_1">2.1用户场景</a></p>
<p>以下部分描述用户如何与MBS交互。<span style="color:#ff0000">红色</span>文本表示尚未实现的MBS功能，但打算在将来的MBS版本中实现。</p>
<h3 class="subsection">2.1.1创建新项目</h3>
<p class="MsoNormal" style="margin-top:6.0pt">CDT用户在创建新的Managed Make项目时开始使用MBS。用户从已安装的清单文件中定义的项目类型列表中选择要创建的项目类型。默认情况下，项目类型列表按以下方式过滤：</p>
<p class="MsoNormal" style="margin-left:.25in;margin-right:0in;margin-top:6.0pt;margin-bottom:.0001pt">
<span style="font-family:Symbol">· <span style="font:7.0pt &quot;Times New Roman&quot;">       
</span></span>项目类型必须至少包含一个使用支持主机操作系统和体系结构的工具链的默认配置。</p>
<p class="MsoNormal" style="margin-left:.25in;margin-right:0in;margin-top:6.0pt;margin-bottom:.0001pt">
<span style="font-family:Symbol">· <span style="font:7.0pt &quot;Times New Roman&quot;">       
</span></span>如果项目类型实现验证其支持已安装的方法，则该方法必须返回TRUE。</p>
<p class="MsoNormal" style="margin-left:.25in;margin-right:0in;margin-top:6.0pt;margin-bottom:.0001pt">
<span style="font-family:Symbol;color:red">· <span style="font:7.0pt &quot;Times New Roman&quot;">       
</span></span> <span style="color:red">用户可以通过在MBS首选项页面中将其关闭来删除已安装和可能已安装的（即项目类型未实现验证其支持已安装的方法）项目类型。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以关闭项目类型过滤，但是使用未安装的工具链的配置将无法在主机系统上构建。</p>
<p class="MsoNormal" style="margin-top:6.0pt">选择项目类型后，用户从项目类型中定义的配置列表中为新项目选择1 ... <em>n个</em>配置。不同的配置可以使用不同的工具链。默认情况下，配置列表按以下方式过滤：</p>
<p class="MsoNormal" style="margin-left:.25in;margin-right:0in;margin-top:6.0pt;margin-bottom:.0001pt">
<span style="font-family:Symbol">· <span style="font:7.0pt &quot;Times New Roman&quot;">       
</span></span>配置使用的工具链必须支持主机操作系统和体系结构。</p>
<p class="MsoNormal" style="margin-left:.25in;margin-right:0in;margin-top:6.0pt;margin-bottom:.0001pt">
<span style="font-family:Symbol">· <span style="font:7.0pt &quot;Times New Roman&quot;">       
</span></span>如果工具链实现了验证其支持已安装的方法，则该方法必须返回TRUE。</p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以关闭配置筛选，但是使用未安装的工具链的配置将无法在主机系统上构建。</p>
<p class="MsoNormal" style="margin-top:6.0pt">在为项目选择初始配置集后，用户可以选择“其他项目设置”页面中的任何标准选项卡，以便自定义所有Managed Build系统项目通用的其他选项（例如，新项目取决于等）。</p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以继续执行项目类型提供的任何其他页面，以便自定义项目类型特定选项。例如，这些附加选项可能导致生成项目的初始代码和/或设置与项目类型默认值不同的工具选项。</p>
<p class="MsoNormal" style="margin-top:6.0pt">创建新项目后，用户可以使用任何将文件添加到项目的Eclipse方法。</p>
<h3 class="subsection">2.1.2添加新配置</h3>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以基于其中一个现有配置使用的设置创建新配置。<span style="color:red">如果需要，用户可以从项目类型中选择不同的工具链。这允许定义项目类型（例如，“Gnu可执行文件”），其包含用于主机和目标平台的多个组合的工具链，和/或用于工具链的多个版本。用户应该很容易将现有的CDT项目带到不同的主机系统，并使用支持新主机的工具链版本快速创建基于该主机系统构建的配置。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户还可以从项目类型中定义的默认配置列表中选择1 ... <em>n个</em>配置。默认情况下，配置列表按上面指定进行过滤。</p>
<h3 class="subsection">2.1.3修改配置的工具链</h3>
<p class="MsoNormal">用户可以选择配置并修改工具链的以下属性：</p>
<ol type="1" style="margin-top:0in;margin-bottom:0in" start="1">
	<li style="margin-top:6.0pt">用于调用工具链中特定工具的命令。</li>
	<li style="margin-top:6.0pt">与构建输出一起使用的错误解析器集以及将调用错误解析器的顺序</li>
	<li style="margin-top:6.0pt">与构建二进制输出一起使用的二进制解析器。</li>
	<li style="margin-top:6.0pt">由工具处理的文件扩展名集。</li>
	<li style="margin-top:6.0pt">在构建之前或之后添加自定义构建步骤。用户指定步骤要执行的命令。</li>
	<li style="margin-top:6.0pt">将单个资源映射到“自定义生成”步骤。用户指定步骤要执行的命令，步骤的输入依赖性以及步骤创建的输出文件。</li>
	<li style="margin-top:6.0pt">将一组文件扩展名映射到“自定义构建”步骤。用户指定步骤要执行的命令，步骤的输入依赖性以及步骤创建的输出资源。</li>
	<li style="margin-top:6.0pt">
	<span style="color:red">工具链本身：用户可以更改要与配置一起使用的工具链。所有适用的设置都会自动传输到新的工具链。</span></li>
	<li style="margin-top:6.0pt">
	<span style="color:red">单个资源到工具的映射：</span> <span style="color:red">可用工具来自配置的工具链，来自不同的工具链或单独定义的工具。</span></li>
	<li style="margin-top:6.0pt">
	<span style="color:red">将设置文件扩展名映射到工具类别或特定工具：用户可以修改当前分配并添加新分配。可用的工具来自配置的工具链，来自不同的工具链或单独定义的工具。</span></li>
</ol>
<h3 class="subsection">2.1.4修改配置的工具选项</h3>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以修改单个配置的选项<span style="color:#ff0000">，或者他可以更改他选择的一组配置</span> 。<span style="color:#ff0000">用户可以单独选择一组配置，也可以选择配置</span> <span style="color:red">的“类别”。类别的名称由配置提供程序定义 - 通常支持“debug”和“release”。按目标平台分组配置的类别也可能有用。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以修改配置使用的工具的选项。<span style="color:red">工具可以验证新值是否有效，如果值无效，将显示错误消息。如果值与工具的默认值不同，则构建设置的当前值以粗体显示。用户可以轻松地将值设置回默认值，而无需知道默认值是什么。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt"><span style="color:red">即使配置不使用相同的工具链，用户也可以修改多个所选配置的某些“众所周知的”构建设置。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以在接受文本的所有选项中使用Build Macros。MBS预定义了许多有用的宏，并允许工具集成商和CDT用户定义其他宏。可以在MBS首选项页面中为单个项目或配置定义其他宏。构建宏在字符串中引用，方法是将它们括在大括号中，前面加一个美元符号。</p>
<p class="MsoNormal" style="margin-top:6.0pt"><span style="color:red">工具集成商可以定义属性设置“向导”，其修改工具选项集以便达到用户期望的总体目标。一个例子是“最高度优化的构建”向导，它为多个工具设置选项。</span></p>
<h3 class="subsection">2.1.5修改单个文件的工具选项</h3>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以为项目中的各个文件指定不同的配置特定构建设置。 <span style="color:red"> 如果值与配置中的值不同，则构建设置的当前值以粗体显示。用户可以轻松地将值设置回配置值，而无需知道该值是什么。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以为单个资源添加或删除自定义构建步骤。 <span style="color:red">  </span>该步骤<span style="color:red">可以在分配给资源的工具之前或之后执行，也可以</span>执行而不是分配给资源的工具。用户指定工具命令行，步骤的输入依赖关系以及步骤创建的输出资源。</p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以将单个文件标记为不在所选配置的构建中使用。</p>
<h3 class="subsection">2.1.6构建配置</h3>
<p class="MsoNormal">用户可以从Eclipse / CDT用户界面中构建项目，也可以从可以放置在批处理/脚本文件中的命令行构建项目。</p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以构建当前活动的配置<span style="color:red">，或选择要构建的不同配置集。</span></p>
<p class="MsoNormal" style="margin-top:6.0pt">用户可以重建与构建整个项目不同的单个资源。</p>
<h3 class="subsection">2.1.7将项目升级到新的MBS或工具链版本。</h3>
<p class="MsoNormal">MBS定义存储在每个MBS项目文件（.cdtbuild）中的版本号。</p>
<p class="MsoNormal" style="margin-top:6.0pt">当MBS读取具有旧版本号的项目文件时：</p>
<ol type="1" style="margin-top:0in;margin-bottom:0in" start="1">
	<li style="margin-top:6.0pt">MBS要求用户确认转换。</li>
	<li style="margin-top:6.0pt">如果用户确认转换，则转换项目文件，并且以前版本的MBS无法再加载项目。</li>
	<li style="margin-top:6.0pt">如果用户未确认转换，则MBS信息以只读模式加载，并且在项目关闭时将丢弃对MBS信息所做的任何更改。</li>
</ol>
<p class="MsoNormal" style="margin-top:6.0pt">当MBS读取具有较新版本号的项目文件时，它会显示错误消息，并且不会加载MBS信息。项目中没有可用的MBS操作（例如，编辑构建属性，清理，构建......）。</p>
<p class="MsoNormal" style="margin-top:6.0pt">一些构建模型元素（工具链，工具或构建器）也可以定义版本号。版本号附加到元素id的末尾，并由MBS存储，每次引用该元素。MBS尝试以下列方式解析引用：</p>
<ol type="1" style="margin-top:0in;margin-bottom:0in" start="1">
	<li style="margin-top:6.0pt">MBS使用引用指定的版本查找id。</li>
	<li style="margin-top:6.0pt">如果未找到，MBS将查找所有出现的id，并按以下顺序选择匹配：<ol type="a" style="margin-top:0in;margin-bottom:0in" start="1">
		<li style="margin-top:6.0pt">具有最接近的较高版本号的id，其在<em>versionsSupported</em>属性中列出引用的版本</li>
		<li style="margin-top:6.0pt">没有指定版本信息的id</li>
	</ol>
	</li>
</ol>
<p class="MsoNormal" style="margin-top:6.0pt">如果找到匹配项，则有两种情况：</p>
<ol type="1" style="margin-top:0in;margin-bottom:0in" start="1">
	<li style="margin-top:6.0pt">工具集成商仍然积极支持该版本，并加载MBS信息。</li>
	<li style="margin-top:6.0pt">该版本指定需要转换为更高版本的工具链/工具/构建器。根据工具链/工具/构建器的判断，转换可以自动进行，或者转换器可以提示用户确认升级。对于用户是否确认转换，适用与上述相同的规则。</li>
</ol>
<p class="MsoNormal" style="margin-top:6.0pt">如果未找到匹配项，则MBS显示错误消息，并且不加载MBS信息。项目中没有可用的MBS操作（例如，编辑构建属性，清理，构建......）。</p>
<p class="section">3 <a name="_TocSectionGrammar">构建模型语法元素</a></p>
<p>托管构建系统定义了用于描述工具和构建信息的语法。此信息用于存储不变数据，例如，特定编译器的命令行调用。构建系统还在会话之间存储用户设置，例如特定构建配置所需的调试信息级别。以下部分描述了语法的格式以及构建模型使用的信息。有关使用托管构建对象模型的示例，请参阅CDT 3.0 Gnu工具链定义。</p>
<h3>共同属性</h3>
<p>许多MBS元素都需要<em>id</em>属性的规范。属性值通常采用类似于Eclipse包名称的形式，例如“cdt.managedbuild.tool.gnu.c.linker”。每个<em>id</em>在MBS和所有已加载的清单文件中必须是唯一的。建议您在自己创建的<em>ID中</em>包含公司/组织名称。</p>
<p>许多MBS元素可以指定<em>name</em>属性。属性值在MBS用户界面中使用，因此如果您的工具链支持多种语言，则可能会更改。您可以使用plugin.properties文件在外部文件中定义这些字符串（有关示例，请参阅Gnu工具链定义）。</p>
<p>许多MBS元素可以指定<em>superClass</em>属性。属性值是与此元素相同类型的元素的id。对于大多数属性，当未在元素中指定属性的值时，该值将默认为由第一个超类祖先定义的值，该值指定属性的值。</p>
<h3>架构说明</h3>
<ul>
	<li>以<span style="background-color:#ffff00">黄色</span>突出显示的属性表示自CDT 3.0.1以来的新功能。</li>
	<li><span style="background-color:#00ffff">aqua中</span>突出显示的属性表示已弃用的属性。这些属性中的每一个都描述了用于获取等效功能的新方法。</li>
	<li>“必需”列可以包含3个值。 “是”表示该元素的每个实例都需要该属性。“否”表示永远不需要该属性，并在必要时提供适当的默认值。 “在层次结构中”意味着模式不需要该属性，但MBS要求该属性由元素本身指定，或者从其祖先之一继承（请参阅<em>superClass</em>属性）。</li>
</ul>
<p class="subsection"><a name="_TocSectionGrammar_1">3.1模型</a></p>
<p class="MsoNormal" style="margin-top:6.0pt">下图显示了架构元素的UML模型。通过省略可以在清单文件的顶层定义配置，toolChain，tool，targetPlatform和构建器定义元素的事实来简化它。</p>
<p>
<img src="./image003.gif" title="图2托管构建模型元素" alt="构建模型语法元素" style="border:0px solid"></p>
<h5>图2托管构建模型元素</h5>
<p class="subsection"><a name="_TocSectionGrammar_2">3.2 ProjectType</a></p>
<p class="MsoNormal">projectType元素表示用户模型中的项目类型。它是工具集成商定义的项目类，充当用户将创建的项目的模板。projectType包含一个或多个类型为配置的子项。这些是用户可以选择的默认配置。请注意，没有理由在.cdtbuild文件中定义projectType元素。它永远不会被使用，因为projectType元素用于填充New Project对话框。</p>
<p class="MsoNormal" style="margin-top:6.0pt">您必须在<em>id</em>属性中为项目类型提供唯一标识符。构建模型使用此信息来区分它找到的项目类型定义。您还必须提供一个有意义的<var>名称</var> ，该<var>名称</var>将在UI和新项目向导中显示给用户。</p>
<p class="MsoNormal" style="margin-top:6.0pt">项目类型可以安排到层次结构中，以促进配置的有效共享。如果已定义了一个不应由用户选择但又是其他项目类型的根的项目类型，则可以通过将<em>isAbstract</em>属性设置为“true”来将其声明为abstract。UI中不显示抽象项目类型。抽象项目类型的后代将具有与抽象项目类型相同的配置。为了使这些子项正常运行，它们的<em>superClass</em>属性必须包含超类项目类型的唯一标识符。</p>
<p class="MsoNormal" style="margin-top:6.0pt">具体项目类型必须至少为其定义一个配置。配置必须定义（或继承）一组工具链定义，这些定义协同工作以将构建目标生成为输出。</p>
<p class="MsoNormal" style="margin-top:6.0pt">一个项目类型可以定义在<em>projectEnvironmentSupplier</em>属性的项目级的环境变量提供商。有关其他信息，请参见第7.6节。<br>
</p>
<p class="MsoNormal" style="margin-top:6.0pt">projectType可以在<em>projectMacroSupplier</em>属性中定义项目级宏提供程序。有关其他信息，请参见§7.8。<br>
</p>
<p class="subsection">3.2.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" height="170" style="border:medium none;border-collapse:collapse;width:669px">
  <tbody>
    <tr>
      <th height="22" style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top">
      <p align="left">属性</p>
      </th>
      <th height="22" style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top">
      <p align="left">描述</p>
      </th>
      <th height="22" style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p align="left">需要</p>
      </th>
    </tr>
    <tr>
      <td valign="top" height="33" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">
      <p>ID</p>
      </td>
      <td valign="top" height="33" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>模型管理器将用于跟踪此特定元素的唯一标识符。</p>
      </td>
      <td valign="top" height="33" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" height="17" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">
      <p>名称</p>
      </td>
      <td valign="top" height="17" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>在UI中向用户显示的projectType的名称。</p>
      </td>
      <td valign="top" height="17" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" height="17" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">超</td>
      <td valign="top" height="17" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">此projectType派生自的projectType的唯一标识符。</td>
      <td valign="top" height="17" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">
      <p>isAbstract</p>
      </td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>将projectType标记为abstract。用户无法在UI中选择抽象projectType，但是从此projectType派生的projectType将继承其属性和子项。默认值为false。</p>
      </td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">
      <p>isTest</p>
      </td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>可以标记projectType仅用于测试目的。例如，可以在JUnit测试中以编程方式操作它，但UI中的用户不会选择它。默认值为false。</p>
      </td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" height="49" bgcolor="#FFFFFF" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">projectMacro供应商</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IProjectBuildMacroSupplier接口的类的名称，以便提供项目级构建宏。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" bgcolor="#FFFFFF" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">projectEnvironment供应商</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IProjectEnvironmentVariableSupplier接口的类的名称，以便提供项目级环境变量。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" bgcolor="#FFFFFF" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">configurationName提供程序</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IConfigurationNameProvider接口的类的名称，以便为配置提供默认名称。用户项目中的配置名称必须是唯一的。projectType可以包含具有相同名称的配置子项。在这种情况下，必须指定configurationNameProvider，以便在“新建项目”和“新建配置”对话框中向用户显示名称之前使其成为唯一名称。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" bgcolor="#FFFFFF" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">convertToId</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">projectType的标识符，使用此定义加载的项目类型应转换为。MBS将调用适当的转换器。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_3">3.3管理项目</a></p>
<p class="MsoNormal">managedProject元素表示.cdtbuild文件中的项目实例。请注意，没有理由在清单文件中定义项目元素 - 它永远不会被使用。</p>
<p class="MsoNormal" style="margin-top:6.0pt">当CDT用户创建新的托管生成项目时，会发生以下步骤：</p>
<ol>
	<li>将创建一个新的managedProject元素。其<em>projectType</em>属性设置为用户选择的projectType。其<em>name</em>属性设置为用户输入的项目名称。</li>
	<li>当用户添加默认配置时，将克隆选定的配置元素，使其成为在步骤1中创建的managedProject元素的子元素。</li>
	<li>添加工具链元素，该元素指定作为其<em>superClass</em>的工具链，该工具链是所选配置元素的子元素。</li>
	<li>对于作为所选配置元素的子项的工具链的每个工具元素子项，创建克隆配置的工具链元素的工具元素子项，该元素将原始工具元素指定为其<em>superClass</em> 。</li>
</ol>
<p class="MsoNormal" style="margin-top:6.0pt">这将准备新项目/配置以供用户修改。</p>
<p class="subsection">3.3.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" height="72" id="table3" style="border:medium none;border-collapse:collapse;width:669px">
  <tbody>
    <tr>
      <th height="22" style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top">
      <p align="left">属性</p>
      </th>
      <th height="22" style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top">
      <p align="left">描述</p>
      </th>
      <th height="22" style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p align="left">需要</p>
      </th>
    </tr>
    <tr>
      <td valign="top" height="17" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">名称</td>
      <td valign="top" height="17" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">在UI中向用户显示的managedProject的名称。这是用户在“新建项目”向导中输入的名称。</td>
      <td valign="top" height="17" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
    <tr>
      <td valign="top" height="33" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">项目类型</td>
      <td valign="top" height="33" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">创建此项目时使用的projectType的唯一标识符。</td>
      <td valign="top" height="33" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_4">3.4配置</a></p>
<p class="MsoNormal" style="margin-top:6.0pt">配置元素表示用户模型中的配置。工具集成器将默认配置定义为项目类型的子项。这些为添加到用户项目的配置提供了模板，这些模板存储在项目的.cdtbuild文件中。projectType必须至少为其定义一个默认配置，并且项目必须始终包含至少一个配置。</p>
<p class="MsoNormal" style="margin-top:6.0pt">配置包含一个类型为工具链的子项。这描述了如何将项目的资源转换为构建工件。配置负责维护最终构建目标的名称。用户在UI中选择构建工件的名称，配置将其保留在<em>artifactName</em>和<em>artifactExtension</em>属性中。配置可以包含一个或多个resourceConfiguration类型的子项。这些描述了与整个配置不同的各个资源的构建设置。</p>
<p class="MsoNormal" style="margin-top:6.0pt">每个配置必须具有<var>id</var>属性中指定的唯一标识符，构建模型将使用该<var>标识符</var>来管理配置。它还必须具有将在构建属性页面和新项目向导的UI中显示的<var>名称</var> 。该配置包含“清理”主机上的构建文件所需的信息。配置可以指定<em>cleanCommand</em>属性，该属性指定删除构建文件的命令。</p>
<p class="MsoNormal" style="margin-top:6.0pt"><em>prebuildStep，preannounceBuildStep，postbuildStep</em>和<em>postannouncebuildStep</em>属性定义了在工具链定义的构建步骤之前和/或之后运行的自定义构建步骤。这些属性通常不在清单文件中定义，而是由用户从配置属性用户界面添加。</p>
<p class="MsoNormal" style="margin-top:6.0pt">其他配置属性在下面的架构表中描述。</p>
<p class="subsection">3.4.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table4" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">模型管理器将用于跟踪此特定配置的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td height="18" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">名称</td>
      <td height="18" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">UI中使用的配置的人类可读名称。</td>
      <td height="18" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">亲</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此配置派生自的配置的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">artifactName</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">配置定义的构建目标的名称。这可以由用户在UI中设置。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">artifactExtension</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">构建目标将具有的扩展名，例如“.exe”或“.so”</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">在层次结构中</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">cleanCommand</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">用于删除构建计算机上的中间文件和输出文件的命令。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">在层次结构中</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">errorParsers</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">与此配置一起使用的默认错误解析器的分号分隔列表。按顺序排列列表，首先调用列表中的第一个错误解析器，然后调用第二个错误解析器，依此类推。该列表可能包含CDT定义的错误解析器和/或其他已安装的错误解析器扩展。用户可以在每个配置的基础上更改要使用的错误解析器列表。指定后，将覆盖工具链errorParsers属性。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">prebuildStep</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定在标准MBS构建之前运行的预构建命令。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">preannouncebuild Step</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定在标准MBS构建之后运行的构建后命令。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">postbuildStep</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定运行预构建命令步骤时要显示的字符串。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">postannouncebuild Step</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定运行构建后命令步骤时要显示的字符串。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">描述</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定在创建项目和管理配置时将向用户显示的配置的描述。描述仅显示在UI中 - 它不被视为配置名称的一部分。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_5">3.5工具链</a></p>
<p class="MsoNormal" style="margin-top:6.0pt">toolChain元素表示用户模型中的工具链。它是一个工具集成商定义的工具集，可将项目的输入转换为项目的输出。工具链可以定义为配置的一部分，也可以定义为通过toolChain超类属性在单独配置中引用的独立规范。</p>
<p class="MsoNormal" style="margin-top:6.0pt">toolChain包含一个或多个类型工具的子项。这些定义了工具链中使用的工具。</p>
<p class="MsoNormal" style="margin-top:6.0pt">toolChain包含一个targetPlatform类型的子项。这定义了可以部署项目输出的体系结构/ os组合。</p>
<p class="MsoNormal" style="margin-top:6.0pt">toolChain包含一个类型构建器的子项。这定义了“构建”或“制造”实用程序，用于驱动输入到输出的转换。</p>
<p class="MsoNormal" style="margin-top:6.0pt">tooChain可能包含一个或多个类型为optionCategory和option的子项。这些定义了特定于特定工具的工具链范围设置。</p>
<p class="MsoNormal" style="margin-top:6.0pt">通常，工具链仅托管在操作系统/体系结构组合的有限子集上。例如，如果用户在Windows上运行Eclipse和CDT，则尝试构建Solaris共享库项目没有多大意义。您可以在<em>osList</em>和<em>archList</em>属性中以逗号分隔列表的<em>形式</em>指定支持工具链的操作系统和体系结构。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具链应指定<em>targetTool</em>属性，以标识运行以生成主构建输出的工具。如果未指定，则MBS使用用户提供的构建工件名称的文件扩展名。当用户使用该工具预期的扩展之一时，这将起作用，但如果用户不使用，则不起作用。</p>
<p class="MsoNormal" style="margin-top:6.0pt">MBS支持多个版本的工具链。<em>版本支持</em> <strong> </strong> attribute包含特定工具链的受支持版本列表。这表示当用户使用其中一个受支持的工具链版本导入/加载项目时，无需执行转换。当工具集成商决定不再支持某个工具链版本时，他们会继续发布旧的工具链定义，并在<em>convertToId</em>属性中指定要转换为工具链定义的版本号的id。如果需要通过转换执行项目信息的更改，则工具链必须提供转换器扩展以执行转换。如果未提供转换器扩展，则不会进行任何转换。有关其他信息，请参见第8.2节。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具链可以在<em>configurationEnvironmentSupplier</em>属性中定义配置级环境变量提供程序。有关其他信息，请参见第7.6节。<br>
</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具链可以在<em>configurationMacroSupplier</em>属性中定义配置级宏提供程序。有关其他信息，请参见§7.8。<br>
</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具链可以与扫描仪配置配置文件相关联，该配置文件定义了如何发现内置编译器定义并包括搜索路径。</p>
<p class="MsoNormal" style="margin-top:6.0pt">其他工具链属性在下面的架构表中描述。</p>
<p class="subsection">3.5.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table5" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-top:1.5pt double windowtext;border-bottom:1.5pt double windowtext;width:17%;vertical-align:top;text-align:left;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">属性</th>
      <th style="border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;width:62%;vertical-align:top;text-align:left;border-left-style:none;border-left-width:medium;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">模型管理器将用于跟踪此特定工具链的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">名称</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">用于在UI中使用的toolChain的人类可读名称。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">超</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此工具链从中派生的toolChain的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">isAbstract</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">将toolChain标记为抽象。抽象工具链接必须在模型定义中定义为顶级对象，并且用户无法在UI中选择，但是从此工具链派生的工具链将继承其属性和子项。默认值为false。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">targetTool</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <span style="font-family:Arial">以分号分隔的工具标识符列表，可用于创建构建工件。例如，当有两个版本的目标工具与不同的项目性质一起使用时，需要一个列表。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">secondaryOutputs</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <span style="font-family:Arial">除了targetTool的主要输出之外，其他输出类型的标识符的分号分隔列表，也被视为构建工件。构建文件生成器将确保构建输出。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">osList</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <span class="typewriter"><span style="font-size:10.0pt">逗号分隔的工具链列表，支持工具链。操作系统的有效列表</span></span> <span class="typewriter"><span style="font-size:10.0pt">是Platform.getOS（）返回的字符串值。</span></span><br><span class="typewriter"><span style="font-size:10.0pt">如果未指定osList属性，或者值为“all”，则所有操作系统都支持工具链。否则，仅当CDT在其中一个指定的操作系统上运行时，才会显示工具链，除非用户已关闭过滤。</span></span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">archList</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span class="typewriter"><span style="font-size:10.0pt">逗号分隔的工具链支持的体系结构列表。有效的</span></span> <span class="typewriter"><span style="font-size:10.0pt">体系结构</span></span> 列表</span></span> <span class="typewriter"><span style="font-size:10.0pt">是Platform.getOSArch（）返回的字符串值。</span></span><br>
		<span class="typewriter"><span style="font-size:10.0pt">如果未指定archList属性，或者值为“all”，则所有体系结构都支持工具链。否则，仅当CDT在其中一个指定体系结构上运行时，才会显示工具链，除非用户已关闭过滤。</span></span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">errorParsers</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">与此工具链一起使用的默认错误解析器的分号分隔列表。按顺序排列列表，首先调用列表中的第一个错误解析器，然后调用第二个错误解析器，依此类推。该列表可能包含CDT定义的错误解析器和/或其他已安装的错误解析器扩展。指定时，将覆盖工具链的工具子项和工具链的构建器子项的工具errorParsers属性。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">configurationMacro供应商</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IConfigurationBuildMacroSupplier接口的类的名称，以便提供配置级别的构建宏。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
	<tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">配置环境供应商</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IConfigurationEnvironmentVariableSupplier接口的类的名称，以便提供配置级环境变量。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
	<tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">isToolChain支持</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">实现<span style="font-size:12.0pt;font-family:Times New Roman">IManagedIsToolChainSupported</span>接口的类的名称。这提供了一种方法，用于确定系统上当前是否安装了对工具链的支持。MBS使用此信息来过滤提交给CDT用户的选择，并在未安装项目所需的支持时通知用户。如果工具链定义未提供<em>isToolChainSupported</em>回调，则工具链将被视为受支持。如果不支持为给定项目类型定义的所有配置，则将项目类型视为不受支持。</p></td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
	<tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">versionsSupported</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定此工具链的版本分隔的逗号分隔列表，可以在不调用转换器的情况下加载。有关其他信息，请参见第8.2节。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
	<tr>
      <td valign="top" height="49" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:92.15pt">convertToId</td>
      <td valign="top" height="49" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">工具链的标识符，使用此定义加载的工具链应转换为。MBS将调用适当的转换器。有关其他信息，请参见第8.2节。</td>
      <td valign="top" height="49" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt"><span style="background-color:#00ffff">scannerInfoCollector</span></td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">REMOVED  - 请参阅scannerConfigDiscoveryProfileId属性</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">scannerConConig DiscoveryProfileId</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定扫描程序配置发现配置文件的ID，用于收集工具链的内置编译器设置。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">optionPathConverter</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">实现IOptionPathConverter的类的名称。Windows上的Cygwin等一些工具理解非标准路径，例如“/ usr / local / include”，这些路径在平台本身无效，CDT的PathEntry框架无法理解。每次评估工具的包含或库路径设置以供PathEntry使用时，都会调用路径转换器，并且可以将给定路径更改为与平台兼容的格式。<br>可以根据工具链或每个工具全局定义optionPathConverter。当需要路径转换时，工具会被要求输入它的optionPathConverter。如果为工具定义了转换器，则将使用该转换器并覆盖任何工具链设置。如果未在工具上定义转换器，该工具将询问其工具链是否为转换器。
	  </p></td>
	  <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
  </tr></tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_6">3.6生成器</a></p>
<p class="MsoNormal" style="margin-top:6.0pt">builder元素表示驱动构建过程的实用程序（通常但不一定是“make”的变体）。它定义了在<em>命令</em>属性中调用构建实用程序所需的<em>命令</em> 。需要传递给构建器的任何特殊标志都在<em>arguments</em>属性中定义。构建器可以指定用于解析其输出的错误解析器。构建器还指定生成构建文件的Java类。MBS提供内置的gnu makefile生成。</p>
<p class="MsoNormal">构建器可以指定许多适用于构建宏的参数以及它们如何与构建文件生成器交互。</p>
<p class="MsoNormal">构建器可以通过指定<em>variableFormat</em>属性指定如何将包含环境变量的构建宏转换为构建文件环境变量格式的模板。
</p>
<p class="MsoNormal">构建器可以指定构建器内部（保留）宏名称和构建文件生成器保留的宏名称（用于存储对象文件列表，输入文件等）。如果不在构建文件中展开构建环境变量宏，则构建文件生成器将使用此信息。如果环境变量构建宏名称与某些保留宏的名称冲突，则它始终在构建文件中得到解析。请参阅下面的<em>reservedMacroNames</em>和<em>reservedMacroNameSupplier</em>属性。</p>
<p class="MsoNormal">构建器可以提供文件上下文构建宏的值。要为宏$ {&lt;macro_name&gt;}提供值，应指定<em>宏&lt;macro_name&gt; Value</em>属性。应将此属性的值设置为给定宏的值。MBS将不受支持的文件上下文宏的值解析为其实际宏值。在这种情况下，当使用特定于文件的宏时，将生成每个文件的单独规则。有关为gnu make设置这些属性的示例，请参阅gnu工具链。</p>
<p class="MsoNormal" style="margin-top:6.0pt">MBS支持多个版本的构建器。<em>版本支持</em> <strong> </strong> attribute包含特定构建器的受支持版本的列表。这表示当用户使用其中一个受支持的构建器版本导入/加载项目时，无需执行转换。当工具集成商决定不再支持构建器的版本时，他们将继续发送旧的构建器定义，并在<em>convertToId</em>属性中指定要转换为的新构建器的版本号的id。如果需要通过转换执行项目信息的更改，则工具链定义必须提供转换器扩展以执行转换。如果未提供转换器扩展，则不会进行任何转换。有关其他信息，请参见第8.2节。</p>
<p class="MsoNormal" style="margin-top:6.0pt">其他构建器属性在下面的架构表中描述。</p>
<p class="subsection">3.6.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table6" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">模型管理器将用于跟踪此特定构建器的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">名称</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">要在UI中使用的构建器的人类可读名称。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">超</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此构建器派生自的构建器的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
	<tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">isAbstract</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">将构建器标记为抽象。抽象构建器必须在模型定义中定义为顶级对象，并且用户不能在UI中选择，但是从此构建器派生的构建器将继承其属性和子级。默认值为false。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">命令</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">指定用于启动工具链的构建实用程序的默认命令。如果用户通过UI更改此设置，则overriden值将存储在项目构建文件中。如果用户重置更改，则构建模型将默认为此值。默认为“make”。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">参数</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">指定在构建器调用构建实用程序时将传递给构建实用程序的其他缺省参数。如果用户通过UI更改标志，则overriden值将存储在项目构建设置文件中。如果用户重置更改，则构建模型将默认为此值。默认值为“-k”。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">errorParsers</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">指定构建器使用的默认错误解析器列表。这些错误解析器将添加到父工具链指定的列表中。它是一个有序的，以分号分隔的解析器ID列表。该顺序指定在构建期间调用错误解析器的顺序。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">buildfileGenerator</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IManagedBuilderMakefileGenerator的类的名称。有关其他信息，请参见第7.2节。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">variableFormat</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">应将此属性的值设置为表示变量格式的表达式。例如，要生成具有$ {macro}格式的宏，该属性将包含$ {=}。要使用@macro格式生成宏，该属性将包含@ =。如果未指定属性或包含空字符串，则这意味着构建器不能将环境变量视为其自己的变量。在这种情况下，包含环境变量的构建宏将由MBS解析为其实际值。用户还可以指定包含环境变量的构建宏被解析为其实际值，如前所述。</p></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="background-color:#ffff00">我</span> sVariableCase敏感</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">指定构建器变量是否区分大小写。可以设置为“true”或“false”。默认值为“true”。如果构建器不支持区分大小写的变量，并且有一些构建环境变量仅在大小写不同（类Unix操作系统上的环境变量区分大小写），那么这些宏将始终在构建文件中得到解析。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">reservedMacro名称</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">以逗号分隔的保留宏名称列表。宏名称可以包含确切的名称或java正则表达式。后者可用于提供由MBS生成的变量名模式，以防未指定“InputType”元素的“buildVariable”属性等。如果指定了此属性且未指定reservedMacroNameSupplier，则以下宏名称将被视为保留：</p>
		<p class="MsoNormal" style="margin-left:.25in">1。 <span style="font-style:normal;font-variant:normal;font-weight:normal;font-family:Arial">   </span>一个宏名称，它等于reservedMacroNames值中指定的名称之一</p>
		<p class="MsoNormal" style="margin-left:.25in">2。 <span style="font-style:normal;font-variant:normal;font-weight:normal;font-family:Arial">   </span>与reservedMacroNames值中指定的其中一个正则表达式模式匹配的宏名称</p>
		<p class="MsoNormal" style="margin-left:.25in">3。 <span style="font-style:normal;font-variant:normal;font-weight:normal;font-family:Arial">   </span>一个宏名称，它等于指定的构建变量名称之一，是工具链中使用的工具的InputType元素</p>
		<span style="font-family:Arial">如果未指定此属性，MBS将假定没有可能与构建环境变量宏冲突的保留宏名称，但“InputType”元素的“buildVariable”属性中指定的名称除外：这些名称将始终视为保留。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">reservedMacro NameSupplier</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">应设置为实现IReservedMacroNameSupplier接口的类的名称。如果指定了此属性，则忽略reservedMacroNames属性，并将以下宏名称视为保留：</p>
		<p class="MsoNormal" style="margin-left:.25in">1。 <span style="font-style:normal;font-variant:normal;font-weight:normal;font-family:Arial">   </span> IReservedMacroNamesSupplier指定为保留的宏名称</p>
		<p style="margin-left:0.25in">
		<span style="font-family:Arial">2.一个宏名称，它等于一个构建变量名称，指定工具链中使用的工具中的InputType元素。
		</span></p></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputFile NameValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputFileName宏值。宏指定输入文件名。输入文件具有以下含义：<br>1。如果工具不接受使用一个工具调用构建主输入类型的多个文件，则输入文件是正在构建的主输入类型的文件。<br>2。如果工具接受使用一个工具调用构建多个主输入类型的文件，则输入文件是未定义的，表示输入文件的宏包含有关正在构建的主输入类型的一个输入的信息。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputFile ExtValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputFileExt宏值。宏指定输入文件的扩展名。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputFile BaseNameValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputFileBaseName宏值。宏指定输入文件的基本名称。这是剥离了扩展名的文件名。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputFile RelPathValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputFileRelPath宏值。该宏指定相对于构建器当前目录的输入文件路径。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputDir RelPathValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputDirRelPath宏值。该宏指定相对于构建器当前目录的输入文件目录路径。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroInputDir RelPathValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示InputDirRelPath宏值。该宏指定相对于构建器当前目录的输入文件目录路径。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroOutput FileNameValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示OutputFileName宏值。宏指定输出文件名。输出文件具有以下含义：<br>1。如果工具无法使用一个工具调用生成主输出类型的多个文件，则输出文件是使用给定工具调用构建的主输出类型的文件。<br>2。如果一个工具能够通过一个工具调用生成多个主输出类型的文件，则输出文件是未定义的，表示输出文件的宏包含有关使用给定工具调用构建的主输出类型的一个文件的信息。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroOutput FileExtValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示OutputFileExt宏值。宏指定输出文件扩展名。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroOutput FileBaseNameValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示OutputFileBaseName宏值。宏指定输出文件基本名称。这是剥离扩展名的输出文件名。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroOutput FileRelPathValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示OutputFileRelPath宏值。该宏指定相对于当前构建器目录的输出文件路径。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">macroOutput DirRelPathValue</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">表示OutputDirRelPath宏值。该宏指定相对于当前构建器目录的输出文件目录路径。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">versionsSupported</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定此Builder的版本的逗号分隔列表，可以在不调用转换器的情况下加载该版本。有关其他信息，请参见第8.2节。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">convertToId</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">使用此定义加载的构建器的构建器的标识符应转换为。MBS将调用适当的转换器。有关其他信息，请参见第8.2节。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_7">3.7目标平台</a></p>
<p class="MsoNormal">targetPlatform元素表示可以部署工具链输出的操作系统/体系结构组合。<em>osList</em>和<em>archList</em>属性包含此元素描述的操作系统和体系结构的Eclipse名称。</p>
<p class="MsoNormal" style="margin-top:6.0pt">CDT提供了一种解析二进制文件的工具，如果它知道生成构建工件的输出格式。如果要在工作空间中解析工具链的构建工件，则<em>binaryParser</em>属性必须包含相应解析器的id。</p>
<p class="subsection">3.7.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table7" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">模型管理器将用于跟踪此特定targetPlatform的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">名称</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">要在UI中使用的targetPlatform的可读名称。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">超</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此targetPlatform派生自的targetPlatform的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">isAbstract</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">将targetPlatform标记为抽象。抽象targetPlatform必须在模型定义中定义为顶级对象，并且用户不能在UI中选择，但是从此目标平台派生的目标平台将继承其属性和子级。默认值为false。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">osList</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <span class="typewriter"><span style="font-size:10.0pt">对此目标平台有效的操作系统列表。操作系统的有效列表</span></span> <span class="typewriter"><span style="font-size:10.0pt">是Platform.getOS（）返回的字符串值。</span></span><span class="typewriter"><span style="font-size:10.0pt">如果未指定osList属性，或者值为“all”，则目标平台支持所有操作系统。</span></span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">archList</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span class="typewriter"><span style="font-size:10.0pt">对此目标平台有效的体系结构列表。架构<span class="typewriter"><span style="font-size:10.0pt">的</span></span> 有效列表</span></span> <span class="typewriter"><span style="font-size:10.0pt">是Platform.getOSArch（）返回的字符串值。</span></span><span class="typewriter"><span style="font-size:10.0pt">如果未指定archList属性，或者值为“all”，则目标平台支持所有体系结构。</span></span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">binaryParser</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">用于构建工件的适当解析器的ID的分号分隔列表</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_8">3.8工具</a></p>
<p class="MsoNormal" style="margin-top:6.0pt">工具元素表示用户模型中的工具。 <span style="color:red"> </span>工具必须具有构建模型的唯一<em>ID</em> ，以及通过UI向用户显示的<em>名称</em> 。工具可以定义为工具链的一部分，也可以定义为独立的规范。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具可以包含一个或多个类型为option的子项，用于定义可由用户更改的工具命令行设置。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具可以包含一个或多个optionCategory类型的子项。这些用于通过将选项划分为类别层次结构来简化用户对工具设置的管理。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具可以包含一个或多个inputType和outputType类型的子项。它们在构建文件生成所需的详细信息中定义工具的输入和输出。</p>
<p class="MsoNormal" style="margin-top:6.0pt">工具可以包含一个或多个envVarBuildPath类型的子项。它们指定工具用于指定包含和库路径的环境变量的名称。</p>
<p class="MsoNormal" style="margin-top:6.0pt">某些工具在逻辑上属于某些类型的项目。例如，对C和C ++源文件调用Gnu编译器的方式不同。您可以使用<em>natureFilter</em>属性根据项目的性质为工具指定过滤器。创建新的C项目时，会向其添加“cnature”。新的C ++项目同时具有“cnature”和“ccnature”。构建模型按如下方式解释过滤器。如果指定了“cnature”过滤器，则该工具将仅该项目具有“cnature”， <em>不</em>具有“ccnature”显示。如果指定“ccnature”过滤器，则在项目具有“ccnature”时将显示该工具。如果未指定过滤器，则默认为显示所有项目的工具。</p>
<p class="MsoNormal" style="margin-top:6.0pt">每个工具都指定一个<em>命令</em> ，该<em>命令</em>将在构建的构建文件生成阶段放置在构建文件中。如果该工具需要特殊的输出标志，例如编译器或链接器的“-o”，则实现者必须在<em>outputFlag</em>属性中指定该标志。</p>
<p class="MsoNormal" style="margin-top:6.0pt"><em>commandLineGenerator</em>属性允许实现者指定实现<code>IManagedCommandLineGenerator</code>接口的类。有关如何替换默认命令行生成器的说明，请参见第7.4节。</p>
<p class="MsoNormal" style="margin-top:6.0pt">MBS支持多个版本的工具。<em>版本支持</em> <strong> </strong> attribute包含特定工具的受支持版本列表。这表示当用户使用其中一个受支持的工具版本导入/加载项目时，无需执行转换。当工具集成商决定不再支持某个工具版本时，他们会继续发布旧工具定义，并在<em>convertToId</em>属性中指定要转换为工具版本号的ID。如果需要通过转换执行项目信息的更改，则工具链必须提供转换器扩展以执行转换。如果未提供转换器扩展，则不会进行任何转换。有关其他信息，请参见第8.2节。</p>
<p class="MsoNormal" style="margin-top:6.0pt">其他工具属性在下面的架构表中描述。</p>
<p class="subsection">3.8.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">
      <p>属性</p>
      </th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">
      <p>描述</p>
      </th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p>需要</p>
      </th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>ID</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>构建模型将使用的工具的唯一标识符。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>名称</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>用于在UI中使用的工具的人类可读名称。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">超</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">此工具派生自的工具的唯一标识符。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">isAbstract</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">将工具标记为抽象。抽象工具必须在模型定义中定义为顶级对象，并且用户无法在UI中选择，但从此工具派生的工具将继承其属性和子项。默认值为false。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p><span style="background-color:#00ffff">来源</span></p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>DEPRECATED  - 请参阅inputType元素。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
       </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p><span style="background-color:#00ffff">输出</span></p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>DEPRECATED  - 请参阅outputType元素。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
       </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>outputFlag</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>工具的可选标志，允许用户指定工具工件的名称。例如，GCC编译器和链接器工具通常允许用户使用“-o”标志指定输出的名称，而创建库的存档器则不允许。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p><span style="background-color:#00ffff">outputPrefix</span></p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>DEPRECATED  - 请参阅outputType元素。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
       </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="background-color:#00ffff">headerExtensions</span></td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>DEPRECATED  - 请参阅inputType元素。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
       </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">natureFilter</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">根据项目的性质过滤工具的显示（和使用）。选择'cnature'的值。确保工具将显示IFF有一个与项目相关的cnature。ccnature将过滤此工具。如果是“ccnature”，则如果选中，该工具将仅适用于C ++项目。如果“两者”都是如果选择此选项，则当存在任何一种性质时，将显示该工具。如果它不是从其superClass继承，则此属性是必需的。默认值为“both”。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">命令</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">调用该工具的命令。例如，gn用于Gnu C编译器，g ++用于Gnu C ++编译器。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">在层次结构中</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">commandLinePattern</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定命令“pattern”，指示如何使用命令行的各部分来创建整个命令行。该模式由可替换变量COMMAND，FLAGS，OUTPUT_FLAG，OUTPUT_PREFIX，OUTPUT和INPUTS组成。默认的命令行模式是<br>$ {COMMAND} $ {FLAGS} $ {OUTPUT_FLAG} $ {OUTPUT_PREFIX} $ {OUTPUT} $ {INPUTS}，除非customBuildStep为true，默认值为$（COMMAND）。空格和其他字符很重要，并复制到生成的命令。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">customBuildStep</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">如果为True，则表示该工具代表CDT最终用户定义的自定义构建步骤。默认值为False。如果为True，则commandLinePattern属性的默认值将更改为“$（command）”。MBS配置属性页上的自定义生成步骤的实现使用此属性。它不适用于工具集成商定义的工具。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">errorParsers</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">包含一个分号，有序，错误解析器ID列表。当定义项目资源以使用该工具时，MBS将错误解析器添加到toolChain错误解析器列表的末尾（如果尚未存在）。CDT用户可以删除错误解析器，并在没有更多项目资源使用该工具时自动删除。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">公告</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定在每次调用工具之前写入构建输出的字符串。默认值为“调用工具名称（工具ID）...”</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">图标</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">要显示的16x16像素大图标的路径，而不是默认图标。该路径相对于定义构建定义的插件目录。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">versionsSupported</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定此工具的逗号分隔列表，可以在不调用转换器的情况下加载该版本。有关其他信息，请参见第8.2节。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
	<tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">convertToId</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">应使用此定义加载的工具的标识符应转换为。MBS将调用适当的转换器。有关其他信息，请参见第8.2节。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p><span style="background-color:#00ffff">dependencyCalculator</span></p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>DEPRECATED  - 请参阅inputType元素。<br>
      </p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
       </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>commandLineGenerator</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">实现IManagedCommandLineGenerator的类的名称，以便提供自定义命令行生成逻辑。</p></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>

    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>optionPathConverter</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">实现IOptionPathConverter的类的名称。Windows上的Cygwin等一些工具理解非标准路径，例如“/ usr / local / include”，这些路径在平台本身无效，CDT的PathEntry框架无法理解。每次评估工具的包含或库路径设置以供PathEntry使用时，都会调用路径转换器，并且可以将给定路径更改为与平台兼容的格式。<br>如果未在工具上定义路径转换器，该工具还会询问其工具链是否为路径转换器。
	  </p></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>




  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_9">3.9输入类型</a></p>
<p class="MsoNormal">此元素是Tool元素的子元素。它描述了该工具的一种输入。工具可能有多个InputType元素子元素。元素可以引用与输入类型对应的Eclipse内容类型。如果Eclipse / CDT尚未定义适当的内容类型，则工具集成可以提供Eclipse内容类型扩展。内容类型描述诸如标识类型的文件扩展名之类的内容（请参阅Eclipse <span style="font-size:10.0pt;font-family:&quot;Courier New&quot;">org.eclipse.core.runtime.contentTypes</span>扩展点。）</p>
<p class="MsoNormal" style="margin-top:6.0pt">CDT预定义以下内容类型：</p>
<ul>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">cSource .c</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">cHeader .h</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">cxxSource。C，的.cpp，.CXX，.CC</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">cxxHeader .hpp，.hh，.hxx</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">asmSource .asm，.s</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">objectFile .o，.obj</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">可执行的.exe</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">staticLibrary .lib，.a</p></li>
	<li>
	<p class="MsoNormal" style="margin-top:6.0pt">sharedLibrary .dll，.so，.dylib</p></li>
</ul>
<p class="MsoNormal" style="margin-top:6.0pt">工具可以定义多个输入类型。主输入类型的使用方式与任何辅助输入类型不同。对于multipleOfType == false主输入类型，将为每个主要输入类型的项目资源调用该工具。每个辅助输入类型的所有文件都会添加到工具的每次调用中。对于multipleOfType == true主要输入类型，主要输入在次要输入之前列出。</p>
<p class="MsoNormal" style="margin-top:6.0pt">输入类型的计算依赖性不是由单独的输入类型描述，而是在必要时由依赖性计算器扩展回调确定。<var>dependencyCalculator</var>属性允许实现者指定实现<code>IManagedDependencyGenerator2</code>接口的类。此类负责回答给定输入的所有源级依赖关系。有关为什么这对基于make的构建实用程序很重要的讨论可以在第5.1.3节中找到。有关如何替换默认依赖计算器的说明，请参见第7.3节。<br>
</p>
<p class="MsoNormal" style="margin-top:6.0pt">InputType元素的其他属性在下表中描述。</p>
<p class="subsection">3.9.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table12" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">MBS将用于跟踪此元素的唯一标识符。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
    <tr>
      <td valign="top" height="19" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">名称</td>
      <td valign="top" height="19" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">在UI中向用户显示的输入类型的名称。</span></td>
      <td valign="top" height="19" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">超</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">此inputType派生自的inputType的唯一标识符。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">sourceContentType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">描述此输入类型的Eclipse内容类型的id。如果同时指定了sources属性和sourceContentType属性，则在Eclipse中定义sourceContentType时将使用它。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">来源</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">以逗号分隔的文件扩展名列表，工具将为其生成输出。请注意，当指定sourceContentType时，用户将无法修改文件扩展名集。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">dependencyContent类型</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">用于依赖项文件的Eclipse内容类型的id。如果同时指定了dependencyExtensions属性和dependencyContentType属性，那么如果在Eclipse中定义了dependencyContentType，则将使用dependencyContentType。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">dependencyExtensions</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">由依赖项文件使用的以逗号分隔的文件扩展名列表。请注意，当指定dependencyContentType时，用户将无法修改文件扩展名集。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">选项</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">在命令行上使用的Option元素的id，用于标识此类型的输入。如果指定，则此输入类型的输入文件的名称取自为该选项指定的值。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">assignToOption</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">Option元素的id，其值将分配给为此输入类型计算的文件。默认情况下不是将输入文件分配给命令行选项，而是将文件分配给命令行的$ {Inputs}部分。请注意，选项值仅在构建文件生成期间更新，因此可能与项目不同步，直到生成构建文件为止。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">multipleOfType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">如果在该工具的一次调用中使用此类别的所有输入，则为True。输入可以是项目资源，也可以是工具链中其他工具的输出。默认值为False。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">primaryInput</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">是的，这被认为是该工具的主要输入。默认值为False。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">dependencyCalculator</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">提供输入类型的源文件依赖关系计算的类的名称。该类实现IManagedDependencyGenerator2接口。默认值为none。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">buildVariable</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">构建文件中用于表示输入文件列表的变量。outputType可以使用相同的变量名来标识有助于此工具输入的一组输出文件（即，使用相同buildVariable名称的那些输出文件）。当multipleOfType为false并且这是该工具的主要输入时，将忽略构建变量。默认名称由MBS选择。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_10">3.10附加输入</a></p>
<p class="MsoNormal">此元素是InputType元素的子元素。它描述了特定输入类型的附加输入。<span style="font-size:10.0pt;font-family:Arial">
</span> InputType可能有多个AdditionalInput元素子元素。仅当用户（或工具集成商）指定了其他输入和/或依赖项时，才会出现此元素。</p>
<p class="subsection">3.10.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table14" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">路径</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <span style="font-family:Arial">定义以此分号应用的资源的相对路径或绝对路径的分号分隔列表。资源必须是项目的成员，工具链中另一个工具的输出或外部文件。路径的文件名可以使用GNU Make模式规则语法（以便从输出文件名生成名称）。</span></td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
    <tr>
      <td valign="top" height="18" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">类</td>
      <td valign="top" height="18" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal"><span style="font-size:10.0pt;font-family:Arial">定义附加输入的类型。有效的字符串值为：</span></p>
		<ul type="disc" style="margin-top:0in;margin-bottom:0in">
			<li class="MsoNormal">
			<span style="font-size:10.0pt;font-family:Arial">AdditionalDependency  - 作为工具依赖项添加，但不添加到命令行。</span></li>
			<li class="MsoNormal">
			<span style="font-size:10.0pt;font-family:Arial">AdditionalInput  - 作为命令行的附加输入添加，但不作为依赖项添加。</span></li>
			<li class="MsoNormal">
			<span style="font-size:10.0pt;font-family:Arial">AdditionalInputDependency  - 同时添加。</span></li>
		</ul>
		<span style="font-family:Arial">默认值为</span> <span style="font-size:10.0pt;font-family:Arial">AdditionalInputDependency。</span></td>
      <td valign="top" height="18" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_11">3.11输出类型</a></p>
<p class="MsoNormal">此元素是Tool元素的子元素。它描述了该工具创建的一类输出。工具可能有多个OutputType元素子项。元素可以引用与输出类型对应的Eclipse内容类型。如果Eclipse / CDT尚未定义适当的内容类型，则工具集成可以提供Eclipse内容类型扩展。它描述了标识类型的文件扩展名等内容（请参阅Eclipse <span style="font-size:10.0pt;font-family:&quot;Courier New&quot;">org.eclipse.core.runtime.contentTypes</span>扩展点。）</p>
<p class="MsoNormal" style="margin-top:6.0pt">许多OutputType属性为MBS提供了一种机制，用于确定从此OutputType生成的输出文件的名称。这对于MBS生成正确的构建文件以及允许输入排序是必要的。确定输出资源名称的优先顺序如下：</p>
<ol type="1" style="margin-top:0in;margin-bottom:0in" start="1">
	<li style="margin-top:6.0pt">如果这是工具链中的“目标”工具，并且这是主OutputType，请使用用户定义的工件名称和扩展名。</li>
	<li style="margin-top:6.0pt">如果指定了<em>option</em>属性，请使用该选项的值。</li>
	<li style="margin-top:6.0pt">如果指定了<em>nameProvider</em>属性，则调用nameProvider并使用返回的名称。</li>
	<li style="margin-top:6.0pt">如果指定了<em>outputNames</em>属性，请使用该属性的值。</li>
	<li style="margin-top:6.0pt">使用<em>namePattern</em>属性值从输入文件名构造名称。</li>
</ol>
<p>如果工具的输出通常具有特殊前缀，例如POSIX系统上的库的前缀'lib'，则实现者必须在<em>outputPrefix</em>属性中指定它。</p>
<p class="subsection">3.11.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table13" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">ID</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">MBS将用于跟踪此元素的唯一标识符。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">是</td>
    </tr>
    <tr>
      <td valign="top" height="19" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">名称</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">在UI中向用户显示的输出类型的名称。</td>
      <td valign="top" height="18" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">超</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">此outputType派生自的outputType的唯一标识符。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">outputContentType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">描述此输出类型的Eclipse内容类型的id。如果同时指定了outputs属性和outputContentType属性，则在Eclipse中定义outputContentType时将使用它。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">输出</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">工具将从给定输入生成的默认扩展名。请注意，当指定outputContentType时，用户将无法修改文件扩展名集。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">选项</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">命令行上用于指定此输出的选项的id。如果primaryOutput为True，则默认使用Tool“outputFlag”属性。如果未指定option且primaryOutput为False，则此outputType的输出文件不会添加到命令行。如果指定，则忽略nameProvider，namePattern和outputNames。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">multipleOfType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">如果通过一次调用工具创建此类型的多个输出，则为True。默认值为False。如果为True，则必须指定nameProvider属性或outputNames属性。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">primaryInputType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">输入类型的Id，用于确定输出类型的构建“规则”和输出文件的默认名称。默认值为primaryInput == true的输入类型。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">primaryOutput</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">如果为True，那么这是该工具的主要输出。默认值为False。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" height="83" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">outputPrefix</td>
      <td valign="top" height="83" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">某些工具会生成具有必须指定的特殊前缀的文件。例如，POSIX系统上的库管理员期望输出为lib.a，因此'lib'将是前缀。如果primaryOutput为True，则默认使用Tool“outputPrefix”属性，否则默认为空字符串。</td>
      <td valign="top" height="83" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">outputNames</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定由输出类型创建的以分号分隔的完整输出资源名称集。如果指定，则忽略namePattern。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">namePattern</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">使用Gnu模式规则语法指定具有文件扩展名的名称模式，以从输入资源名称派生输出资源名称。默认值“％”是将输入文件基本文件名与输出扩展名一起使用。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">nameProvider</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IManagedOutputNameProvider接口的类的名称。指定时，将忽略namePattern和outputNames属性。当multipleOfType为true时，此属性或outputNames属性是必需的，以便MBS知道输出文件的名称。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">buildVariable</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">构建文件中用于表示输出文件列表的变量。inputType可以使用相同的变量名来标识一组有助于工具输入的输出文件（即那些使用相同buildVariable名称的输出文件）。默认名称由MBS选择。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_12">3.12期权类别</a></p>
<p>optionCategory元素表示用户模型中的选项类别。工具可以有大量选项。为了帮助组织这些选项的用户界面，可以定义一组分层的选项类别。必须在<var>id</var>属性中指定唯一标识符。构建模型将使用它来管理类别。用户将看到分配给<var>name</var>属性的值。如果类别嵌套在另一个类别中，则必须在<var>owner</var>属性中指定更高级别类别的唯一标识符，否则指定该类别所属工具的标识符。</p>
<p class="subsection">3.12.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-top:1.5pt double windowtext;border-bottom:1.5pt double windowtext;width:106px;vertical-align:top;text-align:left;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
      <p>属性</p>
      </th>
      <th style="border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;width:66%;vertical-align:top;text-align:left;border-left-style:none;border-left-width:medium;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
      <p>描述</p>
      </th>
      <th style="border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;width:13%;vertical-align:top;border-left-style:none;border-left-width:medium;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
      <p>需要</p>
      </th>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>ID</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>由构建模型用于唯一标识选项类别。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>名称</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>人类可读的类别名称，例如“预处理器选项”。这将是用户在UI中显示的名称。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>所有者</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>选项类别可以属于工具，工具链或嵌套在其他选项类别中。这是该类别所有者的ID。默认所有者，如果是父工具或工具链。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" height="53" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">图标</td>
      <td valign="top" height="52" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">要显示的16x16像素大图标的路径，而不是默认图标。该路径相对于定义构建定义的插件目录。</td>
      <td height="52" style="border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;width:13%;vertical-align:top;border-left-style:none;border-left-width:medium;border-top-style:none;border-top-width:medium;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">
      <p>没有</p></td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_13">3.13选项</a></p>
<p class="MsoNormal">option元素表示用户模型中的选项。选项用于组织和维护在构建期间发送到工具的命令参数。用户通过UI与构建模型交互以设置选项的值。每个选项必须具有唯一<em>ID</em> ，以便构建模型正确管理它。必须指定将出现在UI中的描述性<em>名称</em> 。可以将选项组织到类别中以使UI更易于管理。如果已为该工具定义了选项类别，并且该选项应显示为该类别的一部分，则必须在<em>category</em>属性中指定选项类别的唯一标识符。</p>
<p class="subsection">3.13.1选项类型</p>
<p>某些选项包含关闭或打开功能的命令，例如设置标志以查看工具中的描述性消息。其他包含值列表，例如一组用于搜索文件的目录。还有一些是从预先确定的选择范围中进行的单一选择，例如要生成的调试信息的级别，或者要构建的体系结构的类型。<var>valueType</var>属性用于向构建模型指示它是什么类型的选项。</p>
<p>指定选项包含的值的类型是一个重要的设计决策，因为它控制构建模型如何处理选项属性的内容，同样重要的是，如何向用户显示选项。基本类型是<code>string</code> ， <code>boolean</code> ， <code>stringList</code>和<code>enumerated</code> 。
</p>
<p>列表选项还有四种特殊情况， <code>includePath</code> ， <code>definedSymbols</code> ， <code>libs</code>和<code>userObjs</code>用于管理搜索头文件的路径列表，定义的预处理器符号，要链接的外部库和要链接的对象模块。</p>
<p class="subsection">3.13.1.1字符串选项</p>
<p class="MsoNormal" style="margin-top:6.0pt">字符串选项用于获取用户定义值的工具命令。字符串选项的UI表示是文本框。</p>
<p class="subsection">3.12.1.2布尔选项</p>
<p>布尔选项用于指定true或false的选项。布尔选项的UI表示是一个复选框。通过选中复选框将选项的值设置为true，并通过取消选择将其设置为false。如果为true，则与该选项关联的<var>命令</var>将在调用时传递给该工具。如果为false，则将传递与<var>commandFalse</var>属性关联的值。</p>
<p class="subsection">3.13.1.3枚举选项</p>
<p class="MsoNormal" style="margin-top:6.0pt">当工具命令从预先确定的选择范围中获取值时，将使用枚举选项。枚举选项的UI表示是一个组合框。枚举选项可能包含enumeratedOptionValue子项。请注意，当枚举选项具有enumeratedOptionValue子项时，子项定义完整的可能选项值集并覆盖任何超类的enumeratedOptionValue子项。</p>
<p class="subsection">3.13.1.4字符串列表选项</p>
<p class="MsoNormal" style="margin-top:6.0pt">字符串列表选项用于获取用户定义值列表的工具命令。字符串列表选项的UI表示是一个多行文本框和按钮栏。字符串列表选项可能包含listOptionValue子项。</p>
<p class="subsection">3.13.1.4.1特殊列表选项</p>
<p>字符串列表选项有四种特殊情况; <code>includePaths</code>指定搜索头文件的路径，为用户定义的预处理器定义的<code>definedSymbols</code> ，必须链接到最终构建目标的库的<code>libs</code> ，以及必须链接的外部对象文件的<code>userObjs</code> 。</p>
<p>虽然将这些类型的选项指定为<var>stringList</var>类型将使它们正确地出现在UI中，但构建模型将无法以任何方式将它们识别为特殊。由于CDT的某些功能要求此信息正常运行，因此适当标记这些类型的选项非常重要。例如，如果没有为项目设置包含路径和定义的符号，则搜索和索引功能可能无法正确执行。类似地，如果构建文件生成器不知道存在参与最终构建步骤的库和外部对象文件，则它可能无法正确生成依赖项。</p>
<p class="subsection">3.13.1.4.2浏览类型</p>
<p>如果UI中提供了浏览按钮，则用户可以更轻松地处理某些类型的处理文件或目录的列表和字符串选项。对于包含和库搜索路径以及库和目标文件列表尤其如此。因为UI需要知道要显示的浏览器的“类型”，所以实现者可以将列表和字符串选项的<var>browseType</var>指定为<code>none</code> （默认）， <code>file</code>或<code>directory</code> 。请注意， <var>browseType</var>属性仅用于列表和字符串选项。所有其他选项类型都会被忽略。<br>
</p>
<p class="subsection">3.13.2值和默认值</p>
<p class="MsoNormal" style="margin-top:6.0pt">选项可以定义应用于该选项的默认值，直到指定了值。选项使用<em>defaultValue</em>属性定义其默认值。如果选项具有专门设置的值，则该值包含在<em>value</em>属性中。为了确定选项的当前值，MBS执行以下步骤，直到找到值：</p>
<ol>
	<li>检查选项的<em>value</em>属性。</li>
	<li>递归检查选项的<em>superClass</em>的<em>value</em>属性。</li>
	<li>检查该选项的<em>defaultValue</em>属性。</li>
	<li><em>递归</em>检查选项的<em>superClass</em>的<em>defaultValue</em>属性。</li>
	<li>使用选项类型的默认值。</li>
</ol>
<p class="MsoNormal" style="margin-top:6.0pt">选项类型将确定构建模型如何处理与属性关联的值。定义简单字符串值的选项将按原样使用该值，如下所述。对于布尔选项，任何值，但字符串'true'将被视为false。列表选项将所有已定义的列表选项值视为默认值，枚举选项将搜索默认的已定义枚举值。</p>
<p class="subsection">3.13.3选项命令</p>
<p class="MsoNormal" style="margin-top:6.0pt">存储在选项中的值将传递给具有唯一标志的构建工具，具体取决于编译器和选项。例如，定义链接器应搜索库的路径的选项可能包含大量搜索路径，但每个路径都使用“-L”标志传递给链接器。<em>command</em>属性用于保存实际标志以及选项值。</p>
<p class="MsoNormal" style="margin-top:6.0pt">构建模型根据选项基于以下启发式管理的值的类型，以不同方式处理它与命令属性关联的值。对于字符串选项，选项值将附加到<em>命令</em>属性的值。<em>命令</em>属性可以为空，以便支持用于键入其他选项的区域。对于枚举选项，将使用与所选枚举值关联的<em>命令</em> ，而不是选项中定义的命令。对于布尔选项，如果选项值设置为true，则使用该<em>命令</em> ，否则使用<em>commandFalse</em>属性的值。对于列表选项，该<em>命令</em>将应用于列表的每个元素。</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;border-collapse:collapse">
  <tbody>
    <tr>
      <th valign="top" width="148" style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:110.7pt">
      <p>期权价值类型</p>
      </th>
      <th valign="top" width="148" style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>使用默认值</p>
      </th>
      <th valign="top" width="148" style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>使用命令</p>
      </th>
      <th valign="top" width="148" style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>UI元素</p>
      </th>
    </tr>
    <tr>
      <td valign="top" width="148" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>串</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>是</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">是</td>
      <td valign="top" width="148" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>文本框</p>
      </td>
    </tr>
    <tr>
      <td valign="top" width="148" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>布尔</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>是</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>如果是，则为是，否则为commandFalse</p>
      </td>
      <td valign="top" width="148" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>复选框</p>
      </td>
    </tr>
    <tr>
      <td valign="top" width="148" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>枚举</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>是</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>没有。</p>
      </td>
      <td valign="top" width="148" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>组合框</p>
      </td>
    </tr>
    <tr>
      <td valign="top" width="148" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>StringList的</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>没有。</p>
      </td>
      <td valign="top" width="148" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>是。</p>
      </td>
      <td valign="top" width="148" style="border-style:none double double none;border-width:medium 1.5pt 1.5pt medium;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:110.7pt">
      <p>列表和按钮栏</p>
      </td>
    </tr>
  </tbody>
</table>
<p class="subsection">3.13.4 <span style="background-color:#ffff00">选项适用性</span></p>
<p>本节将在本文档的未来版本中提供。</p>
<p class="subsection">3.13.5架构</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">
      <p>属性</p>
      </th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">
      <p>描述</p>
      </th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p>需要</p>
      </th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>ID</p>
      </td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>构建模型将使用的选项的唯一标识符。</p>
      </td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>名称</p>
      </td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>UI中使用的选项的人类可读名称。</p>
      </td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">超</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此选项派生自的选项的唯一标识符。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">isAbstract</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">将选项标记为抽象。抽象选项必须在模型定义中定义为顶级对象，并且用户不能在UI中选择，但从此选项派生的选项将继承其属性和子项。默认值为false。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">类别</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">这是此选项的选项类别的ID。id可以是工具的id，也是一个类别。默认类别是父工具。请注意，必须提供optionCategory id作为toolChain子项的选项的值。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
	<tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">值类型</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">常规选项可以是以下类型之一; 'string'表示无法轻易定义的选项的catch-all条目，'string list'表示由一系列值组成的条目，如定义的符号或路径，'boolean'表示有两个值的选项，以及对于作为值列表之一的选项，“枚举”。<br>
		<br>存在其他特殊类型以标记与构建模型特别相关的选项; 'include'，'libs'，'userObjs'和'definedSymbols'。您可以预先填充optionValues，它们将在UI中以与'stringList'选项相同的方式显示。当客户端查询包含路径和预处理器定义时，构建模型将专门查找这些值类型。makefile生成器以不同于其他stringLists的方式处理libs和userObjs条目。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">在层次结构中</td>
    </tr>
    <tr>
      <td height="18" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">值</td>
      <td height="18" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">最终用户或默认配置分配给该选项的值。对于包含布尔值的选项，字符串'true'被视为true，任何其他值被视为false。</td>
      <td height="18" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>默认值<br>
      </p>
      </td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>如果用户尚未对其进行编辑，则可以选择指定该选项的值。对于包含布尔值的选项，字符串'true'被视为true，任何其他值被视为false。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>命令</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>一个可选值，指定将在命令行上传递给工具的实际命令。该命令提供了一个“模式”，用于指定应为string和stringlist类型的选项放置值的位置。模式可以包含可替换变量“value”。如果命令中未指定$ {value}，则将选项值附加到指定命令的末尾。</p>
      </td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">commandFalse</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">一个可选值，仅用于Boolean类型的选项，指定当Boolean选项的值为False时将在命令行上传递给工具的实际命令。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">browseType</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">此值仅用于字符串和字符串列表（和相关）选项。如果在添加新值时需要列表选项来提示用户浏览文件或目录，请相应地设置属性的值。默认情况下，该值被视为不需要浏览。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">resourceFilter</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">指定此选项适用的资源类型。值为“project”，“file”和“all”。默认为“全部”。指定“project”表示在修改配置选项时显示该选项，但在修改单个文件选项时不显示。指定“文件”表示相反。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">valueHandler</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">实现IManagedOptionValueHandler接口的类的名称。此接口用于动态管理选项的值。见§7.11。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">valueHandlerExtra参数</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">传递给valueHandler的可选额外文本字符串。</td>
      <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">适用性计算器</td>
      <td valign="top" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">类的名称，用于在运行时动态确定该选项是否在命令行生成中可见，启用和使用。该类必须实现IOptionApplicability接口。如果未指定计算器，则该选项始终可见，已启用，并在命令行生成中使用。见第7.12节。</td>
      <td valign="top" style="border-style:none double double none;border-width:medium 1.5pt 1.5pt medium;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt"><span style="background-color:#ffff00">小费</span></td>
      <td valign="top" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">指定可以在悬停帮助中或属性页面上显示的“提示”。</td>
      <td valign="top" style="border-style:none double double none;border-width:medium 1.5pt 1.5pt medium;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_14">3.14列表选项值</a></p>
<p>使用值列表可以最好地描述某些选项。此构建模型元素用于定义列表选项的单个元素。通常，这些选项由用户填充，而不是由描述该选项的人填充。但是，如果在扩展点中定义一个或多个值，则当用户编辑项目的构建设置时，它们将显示在UI中。如果用户修改了这些设置，则覆盖的值将由构建模型存储并显示在UI中。</p>
<p>但是，有一个例外。CDT中的某些核心功能依赖于内置解析器才能正常运行。为了返回准确的值，CDT解析器必须模拟（尽可能接近）工具附带的预处理器。不幸的是，这些工具通常具有许多内置符号，并且包括用户永远不需要设置的路径，并且可能不知道甚至存在。在这些情况下，工具集成商必须在工具定义中设置这些值，并通过将<var>builtIn</var>属性的值设置为true来标记它们。内置列表选项值永远不会显示给用户，并且仅传递给专门请求它们的构建模型的客户端。</p>
<p class="subsection">3.14.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;border-collapse:collapse;width:642px">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">
      <p>属性</p>
      </th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">
      <p>描述</p>
      </th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p>需要</p>
      </th>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>值</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>列表项的内容。构建模型将选项中定义的命令应用于列表中的每个值。</p>
      </td>
      <td style="border-style:none double solid solid;border-width:medium 1.5pt 1pt 1pt;border-left:1pt solid windowtext;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">
      <p>内建</p>
      </td>
      <td valign="top" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">
      <p>此属性将列表值标记为内置值，而不是用户输入的内容。内置函数不会传递给生成命令行的客户端（如makefile生成器）。但是，需要考虑这些设置的客户端（如索引服务）将收到这些设置。这些值在UI中显示为灰色。</p>
      </td>
      <td style="border-style:none double double solid;border-width:medium 1.5pt 1.5pt 1pt;border-left:1pt solid windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>没有</p>
      </td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_15">3.15枚举期权价值</a></p>
<p>有些选项最好从选择列表中描述为单个选项。例如，用户通常在创建构建工件时选择他们希望编译器应用的优化级别。枚举选项值用于定义选项列表的元素。</p>
<p>枚举选项的每个元素都有一个<var>名称</var> ，该<var>名称</var>将在UI中显示给用户。它还有一个<var>命令</var> ，该<var>命令</var>应对应于构建器传递给工具的命令行选项（如果选择此元素）。</p>
<p>可以通过将<var>isDefault</var>的值设置为“true”来指示默认元素。如果用户未覆盖UI中的选择，则将显示默认元素。如果未指定默认值，则假定列表中的第一个元素是默认值，并显示给用户。</p>
<p class="subsection">3.15.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" style="border:medium none;border-collapse:collapse;width:681px">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">
      <p>属性</p>
      </th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">
      <p>描述</p>
      </th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">
      <p>需要</p>
      </th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>ID</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>构建模型将使用的工具的唯一标识符。</p>
      </td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>名称</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>将在UI中显示给用户的描述性名称，作为要选择的选项值之一。</p>
      </td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>是</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>ISDEFAULT</p>
      </td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p>如果用户未更改设置，则将此枚举值标记为应用于该选项的默认值。</p>
      </td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>没有</p>
      </td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid double double;border-width:medium 1pt 1.5pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">
      <p>命令</p>
      </td>
      <td valign="top" style="border-style:none solid double none;border-width:medium 1pt 1.5pt medium;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt">
      <p>枚举值转换为命令行的命令。</p>
      </td>
      <td style="border-style:none double double none;border-width:medium 1.5pt 1.5pt medium;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;vertical-align:top">
      <p>是</p>
      </td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_16">3.16资源配置</a></p>
<p class="MsoNormal">resourceConfiguration元素在用户模型中不可见。它是存储与整个配置不同的各个资源的构建属性的地方。resourceConfiguration元素可以具有包含重写的属性和选项的工具子项，和/或包含资源的自定义构建步骤的工具子项。</p>
<p class="MsoNormal" style="margin-top:6.0pt">resourceConfiguration属性在下面的架构表中指定。</p>
<p class="subsection">3.16.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table8" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">resourcePath</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">此resourceConfiguration适用的项目资源的路径。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">排除</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">指定是否在父配置中从构建中排除资源。默认值为false。resourceConfiguration元素保留其工具子项（如果存在），即使从构建中排除也是如此。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">rcbsApplicability</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">标识用户希望如何应用资源自定义构建步骤：<br>1。在为资源定义的任何其他工具之前应用rcbs工具。<br>2。在为资源定义的任何其他工具之后应用rcbs工具。<br>3。应用rcbs工具覆盖为资源定义的任何其他工具。<br>4。禁用（不适用）rcbs工具。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">toolsToInvoke</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">标识由分号分隔的子工具ID列表调用的工具。适用范围如下：<br>1。默认为找到的订单中的所有工具<br>2。使用指定的有序子列表进行调用<br>3。如果为空字符串，则将其视为没有资源配置，即使用项目级别工具。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_17">3.17环境变量构建路径</a></p>
<p class="MsoNormal">工具集成器可以指定工具用于指定包含和库路径的环境变量的名称。要指定构建路径变量（包含路径变量或库路径变量），工具集成器必须将envVarBuildPath元素定义为工具元素的子元素。工具元素可能有几个envVarBuildPath元素，每个元素代表环境变量名称列表，以及用于这些变量的分隔符或构建路径解析器。</p>

<p class="MsoNormal" style="margin-top:6.0pt">envVarBuildPath属性在下面的架构表中指定。</p>
<p class="subsection">3.17.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table17" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">pathType</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">构建路径类型。可以是以下之一：“buildpathInclude”，“buildpathLibrary”</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">的variablelist</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">以逗号分隔的用于存储包含路径的环境变量名称列表</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">pathDelimiter</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p class="MsoNormal">表示用于分隔路径的分隔符。如果省略，将使用默认的系统分隔符。这是类Unix系统的“：”和Windows系统的“;”。如果指定了“buildPathResolver”属性，则忽略“pathDelimiter”</p></td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">buildPathResolver</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
      <p class="MsoNormal">实现工具集成器可以提供的IBuildPathResolver接口的类的名称，以便提供他/她自己的逻辑来将变量值解析为构建路径</p>
		<p class="MsoNormal"><strong>设计说明：</strong>需要此回调的原因是，某些工具可能以某种特殊方式或以&lt;path1&gt; &lt;delimiter&gt; &lt;path2&gt; &lt;delimiter&gt; ... &lt;pathN&gt;以外的格式存储构建路径。这种工具的例子是Win32 Cygwin的gcc。gcc的cygwin版本不接受存储在构建路径环境变量中的Windows样式路径。必须以POSIX格式指定路径并使用“：”分隔符，例如：“/ cygdrive / c / includes：/ cygdrive / d / ...”</p></td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">没有</td>
    </tr>
  </tbody>
</table>
<p class="subsection"><a name="_TocSectionGrammar_18">3.18托管构建版本</a></p>
<p>托管构建扩展点的版本标识符。它是一个字符串表示形式，由三（3）个由小数点分隔的标记组成。3个令牌是正整数。加载工具定义时，构建模型使用此方法。该模型将比较插件清单中的版本字符串与模型语法的内部版本。如果清单与内部版本兼容，则MBS将尽力加载清单文件。<br>
</p>
<p class="subsection">3.18.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table11" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">FILEVERSION</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">包含三个版本标记的字符串</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
  </tbody>
</table>

<p class="subsection"><a name="_TocSectionGrammar_19">3.19选项/类别启用</a></p>
<p>工具集成商可以提供元素<i>启用</i>以使元素（例如选项和选项类别）有条件地可用</p>
<p>3.19.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table5" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-top:1.5pt double windowtext;border-bottom:1.5pt double windowtext;width:17%;vertical-align:top;text-align:left;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">属性</th>
      <th style="border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;width:62%;vertical-align:top;text-align:left;border-left-style:none;border-left-width:medium;padding-left:5.4pt;padding-right:5.4pt;padding-top:0in;padding-bottom:0in">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">类型</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">
	<p class="MsoNormal">表示此启用的适用类型。可以包含以下值：</p>
<p>UI_VISIBILITY  - 给定的启用表达式指定该选项是否在UI中可见</p>
<p>UI_ENABLEMENT  - 给定的启用表达式指定表示UI中选项的控件的启用状态</p>
<p>CMD_USAGE  - 给定的启用表达式指定是否在命令行中使用该选项</p>
<p>CONTAINER_ATTRIBUTE  - 给定的启用表达式指定容器属性值</p>
<p>ALL  - 所有上述值的组合</p>可以使用“|”同时指定几种类型作为分隔符，例如：type =“UI_VISIBILITY | CMD_USAGE”</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">属性</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">与CONTAINER_ATTRIBUTE启用一起使用，以指定此启用适用的属性的名称。目前支持以下选项属性：“command”“commandFalse”“defaultValue”“value”“artifactExtension”</p></td>
	  <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">值</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">与CONTAINER_ATTRIBUTE启用一起使用，以指定在此启用适用的属性中指定的属性的值。
	  </p></td>
	  <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
	  
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">extensionAdjustment</td>
      <td valign="top" style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">
      <p class="MsoNormal">与CONTAINER_ATTRIBUTE启用一起使用。 true指定为调整扩展元素定义的启用。 false指定为非扩展元素调整定义启用。默认值为true。
      
	  </p></td>
	  <td valign="top" style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">没有</td>
	  
  </tr></tbody>
</table>

<p class="subsection"><a name="_TocSectionGrammar_20">3.20动态元素提供者</a></p>
<p>工具集成商可以提供此元素以动态提供在buildDefinitions扩展点中另外指定的定义。从此IManagedConfigElementProvider接口返回的每个配置元素都被视为它是buildDefinitions扩展的直接子子节点。因此，它应符合buildDefinitions.exsd。唯一的例外是它不应包含嵌套的dynamicElementProvider元素。</p>
<p class="subsection">3.20.1架构</p>
<table border="1" cellpadding="0" cellspacing="0" id="table10" style="border:medium none;width:670px;border-collapse:collapse">
  <tbody>
    <tr>
      <th style="border-style:double solid double double;border-color:windowtext;border-width:1.5pt 1pt 1.5pt 1.5pt;padding:0in 5.4pt;width:20%;vertical-align:top;text-align:left">属性</th>
      <th style="border-style:double solid double none;border-width:1.5pt 1pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:65%;vertical-align:top;text-align:left">描述</th>
      <th style="border-style:double double double none;border-width:1.5pt 1.5pt 1.5pt medium;border-top:1.5pt double windowtext;border-right:1.5pt double windowtext;border-bottom:1.5pt double windowtext;padding:0in 5.4pt;width:15%;vertical-align:top">需要</th>
    </tr>
    <tr>
      <td valign="top" style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt">名称</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">动态元素提供程序的名称。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
    <tr>
      <td style="border-style:none solid solid double;border-width:medium 1pt 1pt 1.5pt;border-left:1.5pt double windowtext;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">类</td>
      <td style="border-style:none solid solid none;border-width:medium 1pt 1pt medium;border-right:1pt solid windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">实现IManagedConfigElementProvider接口的类。确定元素的逻辑留给实现者，但它们必须正确形成，否则构建模型将无法加载。</td>
      <td style="border-style:none double solid none;border-width:medium 1.5pt 1pt medium;border-right:1.5pt double windowtext;border-bottom:1pt solid windowtext;padding:0in 5.4pt;vertical-align:top">是</td>
    </tr>
  </tbody>
</table>

<p class="section"><a name="_TocSectionUIElements">4 UI表示</a></p>
<p>除了控制项目的构建方式之外，构建模型还定义了用户界面的显示方式。用户与构建设置模型交互有两种主要方式。第一个是在项目创建时通过New Project向导，第二个是通过构建设置属性页面。</p>
<p class="subsection"><a name="_TocSectionUIElements_1">4.1新项目向导</a></p>
<p>新项目向导依赖于所有托管构建系统清单文件中的项目类型和配置定义，以填充它向用户显示的选项列表。下图显示了如何使用<var>isTest</var>和<var>isAbstract</var>属性设置为<code>false</code>任何projectType填充项目类型列表。projectType的<var>name</var>属性的值用于填充下拉列表框选择小部件。有关创建新项目的说明，请参见第2.1.1节。同样，配置检查列表中填充了与所选projectType关联的所有已定义配置。<br>
</p>
<p> 
<img src="./image024.gif" title="图3新建项目向导" alt="新项目向导项目类型选择页面" style="border:0px solid"></p>
<h5>图3新建项目向导</h5>
<p class="subsection"><a name="_TocSectionUIElements_2">4.2构建属性页面</a></p>
<p>通过检查为当前配置定义的工具链，工具，选项类别和选项，可以创建项目的构建属性页面的内容。在本节中，我们将了解用户界面如何解释构建模型中的信息以向用户显示选项。</p>
<p class="subsection">4.2.1管理配置</p>
<p>构建属性页面的活动配置信息窗格包含两个下拉列表控件和一个按钮。第一个下拉列表当前是只读的，并显示项目的类型。第二个包含为项目定义的配置列表。下图显示了一个仅针对使用GCC构建的Windows共享库的项目，该库具有两种配置; '释放'（未显示）和'调试'。请注意，将查询构建设置模型以获取项目类型和配置<var>名称</var>信息。</p>
<p>
<img src="./image026.gif" title="图4配置选择" alt="项目属性页面配置选择/编辑区域" style="border:0px solid"></p>
<h5>图4配置选择</h5>
<p>用户更改与工具链和工具关联的选项的构建设置。UI依赖于该信息的构建设置模型中的信息。下图显示了如何填充树视图中显示的工具列表。工具和工具链类别是树的根元素。类别显示为它们所属工具的叶子，或者当它们属于工具链时显示为根元素。在所有情况下，插件清单中定义的名称都将用作树元素的文本。请注意，该工具使用外部化字符串来标识其名称以帮助国际化工具规范，但这不是必需的。</p>
<p>
<img src="./image028.gif" title="图5工具和选项类别显示" alt="项目属性页面工具选择区域" style="border:0px solid;width:575px;height:413px"></p>
<h5>图5工具和选项类别显示</h5>
<p>正如讨论构建设置模型中所提到的，选项知道它们管理的数据类型。不同的选项类型需要不同的UI小部件才能正确地向用户表示该数据。下图显示了为每种类型的选项创建的UI元素。</p>
<p>Compiler Flags选项包含一个<var>字符串</var>选项。在此示例中，该选项旨在成为用户输入所有未在属性页中的任何其他位置定义的额外标志的位置。包含字符串的选项在简单的文本框中显示其内容。</p>
<p>“优化级别”选项是<var>枚举</var>选项。这些类型的选项强制用户从可能的选择列表中选择单个值。请注意，选项的<var>名称</var>应用于UI中的标签，而每个<var>enumeratedOptionValue</var>元素的<var>名称</var>用于填充列表。</p>
<p>Include Paths选项是<var>stringList</var>选项的<var>特例</var> 。在此示例中，此选项的内容未定义，因此用户将看到一个空列表。但是，所有列表选项都显示在列表控件中，并带有相关的按钮栏，用于添加，删除和重新排序列表元素。请注意， <var>optionType</var>属性设置为<code>includePath</code> 。这通知构建系统必须特别注意在此选项中输入的值。CDT中有这些信息的客户端将查询构建系统以获取此信息，这是目前将这些值标记为特殊值的唯一方法。</p>
<p>
<img src="./image030.gif" title="图6选项显示" alt="项目属性页面选项编辑区域" style="border:0px solid"></p>
<h5>图6选项显示</h5>
<p>最后，Verbose是一个布尔选项，显示为复选框。由于此选项的默认值定义为<code>false</code> ，因此在创建复选框时将取消选中该复选框。</p>
<p>需要注意的是UI实际上在插件清单建立自己<span style="font-style:italic">的</span>基于选项的说明<span style="font-style:italic">飞</span> 。选项的顺序是页面布局的基础。如果布局不满意，则必须编辑清单文件本身。然后，必须在编辑清单后重新启动工作区，以使更改在UI中生效。</p>
<p class="section"><a name="_TocSectionMakefile">5构建文件生成</a></p>
<p>托管构建系统的第三个元素是构建文件生成器。构建文件生成器是存储在构建设置模型中的信息的客户端之一。您可以使用随CDT提供的默认构建文件生成器（对于Gnu makefile），或者使用自定义生成器替换它，具体取决于您要使用的构建实用程序的变体。构建器，构建文件生成器和编译器依赖性计算器之间的关系如下所示。</p>
<p>注意：此图使用不推荐使用的接口IManagedDependencyGenerator而不是IManagedDependencyGenerator2。然而，部件之间的关系保持不变。</p>
<p>
<img src="./image031.gif" title="图6选项显示" alt="生成器，生成器和依赖计算器模型" style="border:0px solid"></p>
<h5>图6构建文件生成器和依赖计算器之间的关系</h5>
<p class="subsection"><a name="_TocSectionMakefile_1">5.1默认构建文件生成器</a></p>
<p>理解构建文件生成器如何工作的最佳方法是查看实际项目。下图显示了我们将在本次讨论中使用的项目。该项目的源散布在目录<code>source1/</code> ， <code>source2/</code>和<code>source2/source21</code> 。头文件位于2个位置; <code>headers/</code> ，和<code>source2/source21</code> 。为了说明计算<span style="font-style:italic">make的</span>源级依赖关系的问题， <span style="font-style:italic">Class1</span>与<span style="font-style:italic">Class2</span>处于has-a关系。<br>
</p>
<table border="0" cellpadding="2" cellspacing="2" style="text-align:left;width:739px;height:269px">
  <tbody>
    <tr>
      <td> <img src="./image032.gif" title="" alt="示例项目" style="border:0px solid"> </td>
      <td> <img alt="具有Class1和Class2之间的关系" src="./image035.gif" style="width:246px;height:216px">
      </td>
    </tr>
  </tbody>
</table>
<p><br>
</p>
<h5>图7示例项目源文件</h5>
<p>虽然简单，但这个例子说明了当源文件按层次结构组织时，使用<span style="font-style:italic">make的</span>项目通常面临的一些问题。解决这些类型问题的一种方法是为每个子目录生成一个makefile，然后以递归方式调用make，最终在最终构建步骤中结束，理论上将所有构建结果集中在一起。</p>
<p>管理这种方法的问题在于理解所有源级依赖关系并在生成makefile时正确处理它们。为了实现这一点，必须正确指定和完成所有依赖项。只要不同子目录中的资源之间没有依赖关系，递归方法中的makefile将包含一组正确分区的依赖项。但是，在更现实的项目组织中，片段的makefile将具有不完整的依赖关系表示。为了纠正这一点，我们必须做一些<span style="font-style:italic">让</span>给了我们自由的工作。</p>
<p>makefile生成器采用的方法是使用单个makefile来构建整个项目。为了使makefile易于管理和可读，makefile生成器为项目的每个子目录创建makefile片段，为每个源文件提供源代码和依赖片段，并使用<span style="font-style:italic">make</span>的include功能将它们组合在一起。</p>
<p>下图显示了为项目生成的makefile，makefile片段和依赖项片段。请注意，所有生成的文件和目录都标记为派生，以便CM系统不会检入它们。</p>
<p>
<img src="./image034.gif" title="" alt="示例项目生成的文件" style="border:0px solid"></p>
<h5>图8生成的makefile</h5>
<p>在下一节中，我们将更详细地检查由默认构建文件生成器生成的makefile。</p>
<p class="subsection">5.1.1主Makefile</p>
<p>为每个项目配置生成一个主makefile。根据配置信息，将正确的clean命令定义为宏。请注意，为了提高效率，默认构建文件生成器会尽可能利用Gnu make的'：='和'+ ='变量赋值运算符，以便仅在分配或修改值时评估makefile宏的内容，而不是每个他们被使用的时间。makefile包含外部makefile，它包含构建目录，目标文件，makefile片段和依赖项makefile的列表。</p>
<p>
<img border="0" src="./image036.gif" alt="生成的makefile"></p>
<p>这个makefile作为参数传递给<span style="font-style:italic">make</span> ，因此它包含<span style="font-style:italic">clean</span>和<span style="font-style:italic">所有</span>目标。它包含工具链中定义的以下类型工具的构建规则：</p>
<ol>
	<li>工具链定义的目标工具</li>
	<li>主输入类型定义multipleOfType == true的所有工具</li>
	<li>所有使用＃2型工具输出的工具</li>
</ol>
<p class="subsection">5.1.2 Makefile片段</p>
<p>显然，我们刚看到的makefile是不完整的。没有用于构建源文件的规则，这些源文件不是由主makefile中定义的规则构建的。但是，构建文件生成器将该信息放入makefile片段中，以用于构建构建的每个子目录。下图显示了<code>source1/</code>子目录的片段。</p>
<p><img src="./image038.gif" title="" alt="生成的片段makefile" style="border:0px solid"></p>
<p>如您所见，该片段提供了一个文件<code>class1.cpp</code> ，以及一个规则，用于在其所在的子目录中构建具有“cpp”扩展名的所有源文件。依赖项和命令行的内容源自构建设置模型。依赖项行由构建模型提供，该模型具有工具列表并知道具有特定扩展名的构建文件（如果有）。找到工具时，会要求输出的扩展名。对于命令行，为扩展构建的工具提供实际命令，而工具的选项提供传递给它的参数。</p>
<p class="subsection">5.1.3依赖Makefile片段</p>
<p>这个难题有一个最后的部分，这是构建中每个源文件的依赖关系列表。回想一下<span style="font-style:italic">make</span>会在其依赖图中重建任何过时的文件，但只有在明确告知它的情况下才会将依赖项添加到图形中。因此，makefile生成器有责任完全描述<span style="font-style:italic">make的</span>所有依赖项。考虑最终构建目标与<span style="font-style:italic">Class1</span>的依赖关系。很明显，如果实现文件<span style="font-style:italic">Class1.cpp</span>发生更改，则应重建对象模块<span style="font-style:italic">Class1.o</span> 。实际上，我们在第5.1.2节中描述的makefile中描述了依赖关系。可能不太清楚的是，如果<span style="font-style:italic">Class1.h中</span>的类描述发生更改，则应更新对象模块。为了使问题更复杂<span style="font-style:italic">，Class1的</span>是在有a和<span style="font-style:italic">等级2</span>的关系，所以<span style="font-style:italic">Class2.h</span>任何变化应导致重建<span style="font-style:italic">Class1.o</span>的。最后，构建文件生成器为依赖项列表中的每个头文件放置虚拟构建目标。这很重要，因为如果移动或删除头文件，make将尝试查找构建依赖关系的规则，如果不存在虚拟目标，它将停止。<br>
</p>添加到makefile的依赖项信息取决于工具链中工具使用的依赖项计算器。MBS支持的一种模式是使用GNU .d文件。在此模式下，构建文件调用依赖项生成器命令，以便为参与构建的每个文件生成单独的makefile片段。下图显示了<span style="font-family:monospace">Class1</span>的片段<code></code> 。
<p>
<img src="./image040.gif" title="" alt="生成的依赖关系makefile片段" name="Generated Dependencies" style="border:0px solid"></p>
<p>MBS支持其他依赖性计算器模式。见第7.3节。</p>
<p class="subsection">5.1.4支持Makefile</p>
<p>生成并包含在主makefile中的另外两个makefile。第一个是<code>sources.mk</code> ，它定义了一个源宏列表，例如<code>C_SRCS</code> ，以及构建器认为为构建提供源代码的所有子目录。第二个， <code>objects.mk</code> ，包含构建，LIBS和USER_OBJS使用的两个特殊宏，它们可以通过在工具链定义中用特殊类型标记的选项来提供。</p>
<p class="subsection">5.1.5项目间依赖性</p>
<p>项目可以引用工作空间中的一个或多个其他项目。makefile生成器尝试以两种方式生成这些依赖项。首先，makefile必须依赖于主目标中引用项目的构建目标，并且必须包含将这些目标构建为单独规则的指令。</p>
<p>对于本讨论的其余部分，让我们考虑以下基本方案。Project <code>Makefile Example</code>构建可执行文件<code>Messages.exe</code> 。它引用了一个项目<code>UI Widgets</code> ，它构建了一个共享库<code>UIWidgets.dll</code> 。将使用<code>UI Widgets</code>的输出作为依赖项生成<code>Makefile Example</code>的makefile中的主构建目标。</p>
<p>
<img src="./image042.gif" title="" alt="生成的项目间依赖关系目标" style="border:0px solid"></p>
<p>从上面生成的makefile中可以看到，如果<code>UIWidgets.dll</code>发生了更改，将运行目标<code>Messages.exe</code>的规则。如果可以确定引用项目的输出，这很有效。目前，仅在管理引用项目时才会出现这种情况。标准make项目不知道其构建步骤的输出是什么，因为该信息在makefile中编码。如果托管项目引用标准项目，则它不会明确依赖于该项目的输出。</p>
<p>托管构建器依赖于Eclipse构建框架，以便在构建中涉及的项目引用其他项目时正确确定构建顺序。只要构建发生在CDT内部，托管构建器就可以信任构建框架将以正确的顺序构建项目。</p>
<p class="subsection">5.1.6 Makefile生成器约束</p>
<p>默认Gnu makefile生成器的当前实现假定在工具链定义中必须满足一组约束，以便生成有效的makefile：</p>
<ol>
	<li>必须通过项目相对或绝对路径指定输入文件。</li>
	<li>必须通过配置构建目录相对路径或绝对路径指定输出文件。</li>
	<li>具有主输入类型的工具（其中multipleOfType属性设置为true）在构建期间使用与其输入文件扩展名匹配的所有项目资源和生成的输出执行一次。可以使用工具的inputType中的buildVariable属性和其他工具的outputType来定义整个输入文件集的子集。</li>
	<li>如果工具的任何inputType将multipleOfType属性设置为true，则工具的primary inputType必须将multipleOfType属性设置为true。</li>
	<li>具有主输入类型的工具（其中multipleOfType属性设置为false）按项目资源执行，并生成与其输入文件扩展名匹配的输出。可以使用工具的inputType中的buildVariable属性和其他工具的outputType来定义整个输入文件集的子集。</li>
	<li>一个工具必须能够在给定其主输入文件的名称的情况下确定其所有输出文件名和依赖关系。</li>
	<li>主makefile包含“目标”工具的规则，适用于具有主输入类型的所有工具，其中multipleOfType属性设置为true，以及任何使用这些工具的输出的工具。</li>
	<li>每个片段makefile都包含当前目录中所有项目资源的规则，以及multipOfType属性设置为true的工具不使用的生成输出。</li>
</ol>
<p class="section"><a name="_TocSectionTutorial">6教程：示例工具集成</a></p>
<p>MBS的一个功能是您可以添加自定义项目类型和工具集成。本节中的教程将指导您完成设置环境的基本步骤，创建一个新的插件，您可以在其中定义工具集成，并为您提供发布工具集成以供其他人使用的指针。<br>
</p>
<p class="subsection">
<a name="_TocSectionTutorial_1">6.1设置环境</a></p>
<p>通过扩展<code>org.eclipse.cdt.managedbuilder.core</code>插件中定义的<code>buildDefinitions</code>扩展点来指定工具集成。这要求您可以访问扩展点和描述它的架构，这些扩展点仅可从CDT的SDK版本获得。要确认已安装SDK，请选择“ <span style="font-weight:bold">帮助”&gt;“关于Eclipse SDK”&gt;“功能详细信息”，</span>然后检查列表中是否显示“Eclipse C / C ++开发工具（源）”和“Eclipse C / C ++开发工具SDK”。如果他们不这样做，只需从用于安装CDT的同一更新站点安装SDK。<br>
</p>
<p class="subsection">
<a name="_TocSectionTutorial_2">6.2创建插件项目</a></p>
<p>既然CDT的源代码已经可用，您将创建一个包含工具定义的插件项目。从技术上讲，扩展可以在任何插件清单中定义，但是对于本教程，我们将使用空插件清单文件创建一个新的空插件项目。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>打开<span style="font-weight:bold">New Project ...</span>向导（ <span style="font-weight:bold">File&gt; New&gt; Project ...</span> ），从<span style="font-weight:bold">Plug-in Development</span>类别中选择<span style="font-weight:bold">Plug-in Project</span> ，然后单击<span style="font-weight:bold">Next&gt;</span>按钮。<br>
  </li>
  <li>在<span style="font-weight:bold">Plug-in Project</span>页面上，使用<code>org.eclipse.cdt.example.toolchain</code>作为项目的名称，然后单击<span style="font-weight:bold">Next&gt;</span>按钮。<br>
  </li>
  <li>在<span style="font-weight:bold">Plug-in Content</span>页面上，您将看到向导默认将id设置为<code>org.eclipse.cdt.example.toolchain</code> 。我们将在插件清单文件中定义工具集成而不编写任何代码，因此取消选中<span style="font-weight:bold">“Generate the Java class that ...”</span>复选框并单击<span style="font-weight:bold">Finish</span>按钮。</li>
  <li>如果询问您是否要切换到<span style="font-weight:bold">Plug-in Development</span>透视图，请回答<span style="font-weight:bold">是</span> 。</li>
</ol>
<p class="subsection">
<a name="_TocSectionTutorial_3">6.3创建扩展</a></p>
<p>您已经安装了CDT源，并且您有一个带有清单文件的全新项目。您现在可以通过扩展<code>buildDefinitions</code>扩展点将工具定义添加到托管构建系统。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>如果在切换到<span style="font-weight:bold">Plug-in Development</span>透视图时默认情况下未打开插件的MANIFEST.MF文件，请在<span style="font-weight:bold">Package Explorer中</span>双击<code>org.eclipse.cdt.example.toolchain</code>项目以展开它。单击META-INF旁边的扩展图标，然后双击<span style="font-weight:700">MANIFEST.MF</span>文件以编辑其内容。</li>
  <li>我们必须在项目和定义了扩展点的<code>org.eclipse.cdt.managedbuilder.core</code>插件之间添加依赖项。单击清单编辑器底部的<strong>Dependencies</strong>选项卡。单击<span style="font-weight:bold">Required Plug-Ins</span>列表旁边的<span style="font-weight:bold">Add ...</span>按钮。从列表中选择<code>org.eclipse.cdt.managedbuilder.core</code> ，然后单击“ <span style="font-weight:bold">确定”</span>按钮。</li>
  <li>选择清单编辑器底部的“ <span style="font-weight:bold">扩展”</span>选项卡。单击<span style="font-weight:bold">All Extensions</span>列表旁边的<span style="font-weight:bold">Add ...</span>按钮。</li>
  <li>您现在应该位于“ <span style="font-weight:bold">扩展点选择”</span>页面上的“ <span style="font-weight:bold">扩展点”</span>选项卡上。确保选中<span style="font-weight:bold">“仅显示所需插件中的扩展点”</span>复选框。从扩展点列表中选择<code>org.eclipse.cdt.managedbuilder.core.buildDefintions</code> 。单击“ <span style="font-weight:bold">完成”</span>按钮。</li>
  <li>在清单编辑器的“扩展详细信息”列中，使用<code>org.eclipse.cdt.example.toolchain</code>作为扩展的<span style="font-weight:bold">ID</span> ，使用<span style="font-weight:bold">名称的</span> <code>Example Tool Chain</code> 。</li>
</ol>
<p class="subsection">
<a name="_TocSectionTutorial_4">6.4添加项目类型</a></p>
<p>现在我们将向扩展添加一个新的projectType，配置，toolChain，builder，targetPlatform和一个示例工具。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击清单编辑器的<span style="font-weight:bold">All Extensions</span>列中的<code>org.eclipse.cdt.managedbuilder.core.buildDefinitions</code> ，以访问扩展的上下文菜单。选择<span style="font-weight:bold">New&gt; projectType</span>以添加projectType定义。具有id <code>org.eclipse.cdt.example.toolchain.projectType[n]</code>新projectType应出现在扩展点下方。这有点冗长，所以将它重命名为<code>example.toolchain.executable</code> 。<br>
  </li>
  <li>让我们给新的projectType一个人类可读的名字。在“ <span style="font-weight:bold">扩展元素详细信息”</span>列中找到<span style="font-weight:bold">name</span>属性。现在，让我们为projectType使用名称<code>Example Executable</code> 。</li>
  <li>确保<span style="font-weight:bold">isTest</span>和<strong>isAbstract的值为</strong> <strong> </strong>设为false。<br>
  </li>
</ol>
<p class="subsection">
<a name="_TocSectionTutorial_5">6.5添加配置</a></p>
<p>我们现在添加了一个基本的项目类型定义。我们现在想要定义默认配置。通常，您会考虑定义发布和调试配置，但我们希望保持此示例简单，因此我们将自己限制为单个配置。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击<span style="font-weight:bold">All Extensions</span>列表中的<span style="font-weight:bold">Example Executable</span> 。从上下文菜单中选择<span style="font-weight:bold">New&gt; configuration</span> 。<br>
  </li>
  <li>更改<span style="font-weight:bold">name</span>属性的值，并将其作为<code>Test Release</code> ，将<span style="font-weight:bold">id</span>的值更改为<code>example.toolchain.configuration.release</code> 。</li>
  <li>现在为配置设置clean命令。出于此示例的目的，单击<span style="font-weight:bold">cleanCommand</span>属性进行编辑并输入<code>rm –f</code> 。</li>
  <li>最后，我们应该提供一组适用于配置的默认错误解析器。CDT使用错误解析器将来自shell的输入映射回源代码元素。为简单起见，假设所有默认错误解析器都可用于理解新目标的错误消息。在errorParsers属性中，添加以下列表<code>org.eclipse.cdt.core.MakeErrorParser; org.eclipse.cdt.core。GCCErrorParser;<br>org.eclipse.cdt.core。GLDErrorParser; org.eclipse.cdt.core。GASErrorParser;<br>org.eclipse.cdt.core。VCErrorParser</code></li>
</ol>
<p class="subsection" style="font-weight:normal">
<strong>
<a name="_TocSectionTutorial_6">6.6添加ToolChain</a></strong></p>
<p style="font-weight:normal">每个配置都需要一个toolChain子节点，它定义了配置使用的工具集。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击<span style="font-weight:bold">All Extensions</span>列表中的<span style="font-weight:700">Test Release</span> 。从上下文菜单中选择<span style="font-weight:bold">New&gt; toolChain</span> 。<br>
  </li>
  <li>更改<span style="font-weight:bold">name</span>属性的值，并将其作为<code>Example Tool-chain</code> ，将<span style="font-weight:bold">id</span>的值更改为<code>example.toolchain.toolchain</code> 。</li>
  <li>我们希望在我们的主机平台上运行新项目向导时出现新的项目类型，因此我们必须定义应该可见的toolChain的操作系统。找到<span style="font-weight:bold">osList</span>属性并单击它以编辑该值。进入<code>win32</code> ，如果你在使用Windows，运行教程<code>linux</code> ，如果你的Linux发行版，一个运行<code>solaris, hpux,</code>或者<code>aix</code> ，如果你是在一个版本的Solaris上运行，或者<code>other</code> ，如果没有上述的申请。</li>
</ol>
<p class="subsection" style="font-weight:normal">
<strong>
<a name="_TocSectionTutorial_7">6.7添加构建器</a></strong></p>
<p style="font-weight:normal">每个toolChain都可以有一个构建器子代，它描述了工具链用于创建配置的构建工件的构建实用程序。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击<span style="font-weight:bold">All Extensions</span>列表中的<span style="font-weight:700">Example Tool-chain</span> 。从上下文菜单中选择<span style="font-weight:bold">New&gt; builder</span> 。
	</li>
  <li>将<span style="font-weight:bold">name</span>属性的值更改为<code>Example Builder</code> ，将<span style="font-weight:bold">id</span>的值更改为<code>example.toolchain.builder</code> 。</li>
	<li>找到<span style="font-weight:bold">Command</span>属性，单击它以编辑值，然后输入<code>make</code> 。</li>
</ol>
<p class="subsection">
<a name="_TocSectionTutorial_8">6.8添加TargetPlatform</a></p>
<p style="font-weight:normal">每个toolChain都可以有一个targetPlatform子节点，该子节点描述构建工具链创建的工件要执行的目标操作系统/体系结构。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击<span style="font-weight:bold">All Extensions</span>列表中的<span style="font-weight:700">Example Tool-chain</span> 。从上下文菜单中选择<span style="font-weight:bold">New&gt; targetPlatform</span> 。
	</li>
  <li>更改<span style="font-weight:bold">name</span>属性的值，并将其作为<code>Example Target Platform</code> ，将<span style="font-weight:bold">id</span>的值更改为<code>example.toolchain.targetplatform</code> 。</li>
	<li>我们的目标平台与我们的主机平台相同。作为进入工具链<strong>osList</strong>输入的<strong>osList</strong>属性相同的值。</li>
  <li>根据您将用于创建示例项目的平台设置二进制解析器属性的值。例如，如果您在Linux或Solaris上运行本教程，请输入值<code>org.eclipse.cdt.core.ELF</code> 。如果您在Windows上运行教程，请输入值<code>org.eclipse.cdt.core.PE</code> 。</li>
</ol>
<p class="subsection" style="font-weight:normal">
<strong>
<a name="_TocSectionTutorial_9">6.9添加工具</a></strong></p>
<p style="font-weight:normal">每个工具链描述构建实用程序用于创建配置的构建工件的工具集。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>右键单击<span style="font-weight:bold">Example Tool-chain</span>以获取上下文菜单，然后选择<span style="font-weight:bold">New&gt; tool</span> 。将工具命名为<code>Compiler</code>并将其<span style="font-weight:bold">id</span> <code>example.toolchain.compiler</code> 。</li>
  <li>让我们假设该工具应该出现在C和C ++项目中，尽管情况并非总是这样。找到<span style="font-weight:bold">natureFilter</span>属性，然后从选项列表中选择<code>both</code> 。</li>
  <li>工具通常有一个标志来指定工具的主要输出。出于此示例的目的，将<span style="font-weight:bold">outputFlag</span>属性设置为<code>-o</code> 。</li>
  <li>最后，我们要指定调用该工具所需的命令。对于此示例，我们对实际调用实际工具不感兴趣，因此只需输入<code>ccc</code>作为<span style="font-weight:bold">command</span>属性的值。</li>
</ol>
  <a name="_TocSectionTutorial_18">
<p class="subsection" style="font-weight:normal">
<strong>
<a name="_TocSectionTutorial_10">6.10添加输入和输出类型</a></strong></p>
<p style="font-weight:normal">每个工具都在InputType和OutputType元素中描述其输入和输出。</p>
<ol>
	<li>
	<p style="font-weight:normal">右键单击<strong>Compiler</strong>以获取上下文菜单，然后选择<strong>New&gt; inputType</strong> 。将inputType <span style="font-family:Courier New">编译器</span>命名为<span style="font-family:Courier New">Input，</span>并使其<strong>id为</strong> <span style="font-family:Courier New">example.toolchain.compiler.input。</span></p></li>
	<li>
	<p style="font-weight:normal">我们的虚构编译器只适用于c源文件。找到<span style="font-weight:bold">sourceContentType</span>属性并将其设置为<span style="font-family:Courier New">org.eclipse.cdt.core.cSource。</span></p></li>
	<li>
	<p style="font-weight:normal">构建模型需要知道是否存在任何特殊文件扩展名，表明文件是“标题”文件。将<span style="font-weight:700">dependencyContentType</span>属性设置为<code>org.eclipse.cdt.core.cHeader</code> <code>and the <span style="font-weight:700">dependencyCalculator</span> property to be</code> <code><span style="font-family:Courier New">org.eclipse.cdt.managedbuilder.makegen.internal.DefaultIndexerDependencyCalculator</span></code> 。
	</p></li>
	<li>
	<p style="font-weight:normal">将<strong>primaryInput</strong>属性设置为<span style="font-family:Courier New">true。</span></p></li>
	<li>
	<p style="font-weight:normal">右键单击<strong>Compiler</strong>以获取上下文菜单，然后选择<strong>New&gt; outputType</strong> 。将outputType <span style="font-family:Courier New">编译器</span>命名为<span style="font-family:Courier New">Output，</span>并使其<strong>id为</strong> <span style="font-family:Courier New">example.toolchain.compiler.output。</span></p></li>
	<li>
	<p style="font-weight:normal">我们假设编译器的输出是一个扩展名为“o”的对象模块。将工具的<span style="font-weight:bold">outputs</span>属性值设置为<code>o</code> 。</p></li>
	<li>
	<p style="font-weight:normal">编译器创建的对象模块通常由另一个工具（例如链接器或归档器）用作组。将<strong>buildVariable</strong>属性设置为<span style="font-family:Courier New">OBJS。</span>您将使用与此其他工具的inputType相同的<span style="font-weight:700">buildVariable</span>名称。</p>
	</li>
	<li>
	<p style="font-weight:normal">将<strong>primaryOutput</strong>属性设置为<span style="font-family:Courier New">true。</span></p></li>
</ol>
<p class="subsection">
<a name="_TocSectionTutorial_11">6.11测试ProjectType</a></p>
<p>我们现在已经定义了足够的信息来为我们的新示例项目类型创建项目，所以我们来测试一下。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>确保在<span style="font-weight:bold">Package Explorer中</span>选择了我们的示例项目。选择<span style="font-weight:bold">Run&gt; Debug As&gt; Eclipse Application</span>以启动一个新的运行时工作台实例，其中包含您创建的新工具信息。系统可能会提示您保存正在编辑的资源。如果出现提示，请回答<span style="font-weight:bold">是</span> 。<br>
  </li>
  <li>在新工作区中，打开<span style="font-weight:bold">C / C ++</span>透视图。</li>
  <li>运行新项目向导。从“选择”页面中选择托管C或C ++项目。单击<span style="font-weight:bold">Next&gt;</span>按钮，为项目指定任何名称，然后再次单击<span style="font-weight:bold">Next&gt;</span> 。<br>
  </li>
  <li>您现在应该处于<span style="font-weight:bold">选择项目类型</span>页面。您的新项目类型将在“ <span style="font-weight:bold">项目类型”</span>选择小组件中显示为选项。选择它并注意可用配置列表现在包含我们为项目类型定义的单个配置。<br>
  </li>
  <li>单击<span style="font-weight:bold">完成</span> 。<br>
  </li>
  <li>在<span style="font-weight:bold">Navigator</span>或<span style="font-weight:bold">C / C ++ Projects</span>视图中右键单击新项目以访问上下文菜单，然后选择<span style="font-weight:bold">Properties</span>以打开项目的属性浏览器。从选项中选择<span style="font-weight:bold">C / C ++ Build</span> ，选择<strong>Tool Settings</strong>选项卡，并注意我们定义的工具出现在列表中。</li>
	<li>选择“ <strong>构建设置”</strong>选项卡。用户可以从此处更改构建输出名称和构建命令，MBS将在会话之间管理该选择。</li>
  <li>选择<span style="font-weight:bold">Error Parsers</span>选项卡。回想一下，您已将所有五个解析器添加到新目标定义中，因此应在列表中选择所有解析器。用户可以从此处更改该选择，MBS将在会话之间管理该选择。<br>
  </li>
  <li>选择<span style="font-weight:bold">Binary Parser</span>选项卡。请注意，应在列表中选择为目标指定的默认二进制解析器。用户可以从此处更改该选择，MBS将在会话之间管理该选择。</li>
</ol>
<p>此时，您毫无疑问地注意到<span style="font-weight:bold">C / C ++ Build</span>属性页没有任何方法来编辑除工具命令之外的工具的设置。那是因为我们还没有定义任何选项。是时候再次编辑工具定义了。</p>
<p class="subsection">
<a name="_TocSectionTutorial_12">6.12添加工具选项</a></p>
<p>用户希望能够通过项目的属性页面更改其构建工具的设置。他们看到的是由工具集成中定义选项的方式控制的。我们将创建一个选项类别，然后为其添加三个示例选项。</p>
<ol type="1" style="margin-top:0in" start="1">
  <li>关闭调试会话。<br>
  </li>
  <li>切换回<span style="font-weight:bold">Plug-in Development</span>透视图。右键单击扩展描述中的<code>Compiler</code>条目以显示上下文菜单。选择<span style="font-weight:bold">New&gt; optionCategory</span>以添加类别。将类别的<span style="font-weight:bold">名称</span>设置为“ <code>General</code> 。</li>
  <li>您必须在<span style="font-weight:bold">owner</span>属性中指定类别所属工具的ID。最简单的方法是从编译器描述中复制<span style="font-weight:bold">id</span>并将其粘贴到类别的<span style="font-weight:bold">owner</span>属性中。<br>
  </li>
  <li>将类别的唯一<span style="font-weight:bold">ID</span>设置为<code>example.compiler.optionCategory.general</code> 。</li>
  <li>右键单击工具而不是类别，打开其上下文菜单，然后选择<span style="font-weight:bold">新建&gt;选项</span>以添加我们的第一个选项。将选项命名为<code>Include paths</code>并将<span style="font-weight:bold">id</span>设置为<code>example.toolchain.compiler.general.incpath</code> 。<br>
  </li>
  <li>设置<span style="font-weight:bold">值类型</span>属性<code>includePath</code>从选项列表。有关选项值类型的描述以及此决定所暗示的内容，请参阅第3.13节。<br>
  </li>
  <li>我们希望用户在此选项中输入路径，因此要在用户输入新选项值时启用正确类型的“浏览”按钮，请将<span style="font-weight:bold">browseType</span>属性设置为<code>directory</code> 。<br>
  </li>
  <li>在<span style="font-weight:bold">命令</span>属性中，输入<code>-I</code> 。<br>
  </li>
  <li>在<span style="font-weight:bold">类别</span>属性中，输入您在步骤4中输入的类别的唯一<span style="font-weight:bold">ID</span> 。</li>
  <li>在编译器的“常规”类别中添加“catch-all”选项（请记住，您将该选项添加到工具并通过<span style="font-weight:bold">category</span>属性设置其类别）。将选项的<span style="font-weight:bold">名称</span>设置为<code>Other flags</code> ，将其<strong>id设置</strong>为<code>example.toolchain.compiler.general.otherflags</code> ，将其<span style="font-weight:bold">valueType设置</span>为<code>string</code> ，将其<span style="font-weight:bold">defaultValue设置</span>为<code>-c</code> 。</li>
  <li>将复选框选项添加到编译器的“常规”类别。将其命名为<code>Error messages,</code>将<strong>id</strong>设置为<code>example.toolchain.compiler.general.errmsgs,</code>并将其<strong>valueType</strong>设置为<code>boolean</code> 。这是一个布尔选项，因此它可能具有与所选和未选定状态相关联的命令。在这种情况下，我们希望在选择时启用报告，并在取消选择时将其关闭。将<span style="font-weight:bold">命令</span>属性设置为<code>-Wall</code>以打开错误报告，并将<span style="font-weight:bold">commandFalse</span>属性设置为<code>-w</code>以禁用它。<br>
  </li>
</ol>
<p>此时，您可以通过调试运行时工作台来测试选项在UI中的显示方式。你应该看到这样的东西。</p>
<p>
<img src="./image044.gif" title="" alt="教程项目属性页面" style="border:0px solid"></p>
<h5>图9包含工具，类别和选项的MBS属性页面<br>
</h5>
<p class="subsection">
<a name="_TocSectionTutorial_13">6.13采取下一步措施</a></p>
<p>您刚才学习的教程的目的是熟悉创建简单工具链所涉及的步骤，并了解您在选项规范中做出的选择如何影响UI。在本节中，我们将讨论在指定您自己的工具集成之前需要考虑的一些其他要点。</p>
<p class="subsection">6.13.1添加更多工具</p>
<p>除非你碰巧在你的系统上使用'ccc'调用了一个编译器，否则我们创建的示例工具不会构建任何东西。此外，我们定义的工具将源文件转换为目标文件。需要另一个工具（如链接器）将这些目标文件转换为最终构建目标。对于许多工具链，定义编译器和“其他东西”通常就足够了，但如果您的工具链需要中间构建步骤才能正常运行，则可能必须定义其他工具。</p>
<p class="subsection">6.13.2定义的符号和头文件搜索路径</p>
<p>CDT核心的元素需要构建信息才能正常运行。如果内置解析器可以检索有关搜索包含文件的路径以及为项目定义的预处理程序符号的信息，则索引服务，搜索或内容辅助等操作只能正常运行。</p>
<p>MBS收集有关已定义符号的信息，并包含来自多个来源的路径：</p>
<p><strong>用户定义的符号和包含路径：</strong>您可以将某些工具选项标记为特殊，以便构建模型知道要特别注意它们。作为工具集成的实现者，您应该确保您的规范具有“includePaths”和“definedSymbols”类型的选项。构建模型将特别关注这些选项，并将它们提供给CDT核心中的相应客户端，而无需您进行任何进一步的干预。</p>
<p><strong>预定义符号和包含路径：</strong> toolChain可以指定扫描仪配置发现配置文件的ID，用于收集内置编译器设置。请参阅org.eclipse.cdt.make.core。有关详细信息，请参阅参考文档中的ScannerConfigurationDiscoveryProfile扩展点说明。如果指定了收集器，则MBS调用它以返回预定义的符号并包含路径。如果未指定收集器，MBS将搜索“includePaths”和“definedSymbols”类型的选项，并将<strong>builtIn</strong>属性设置为true。</p>
<p><strong>环境包括路径：</strong>您的构建定义可以指定envVarBuildPath元素，其<strong>pathType</strong>属性设置为“ <strong>buildpathInclude</strong> ”。如果指定，MBS将读取其他包含路径的环境变量。有关envVarBuildPath元素的其他信息，请参见第3.17节。</p>
<p class="subsection">6.13.3用户指定的库和对象模块</p>
<p>类似地，用户可能希望在最终构建步骤中指定要链接的外部库。需要告诉构建模型特别注意包含库的选项，以便在构建文件生成器请求它们时，它可以提供有效列表。将选项值类型标记为外部库的“libs”或对象模块的“userObjs”。</p>
<p class="subsection">6.13.4 ProjectType和其他元素层次结构</p>
<p>本教程未涉及的构建模型的一个方面是第3.2节中讨论的抽象项目类型的概念。如果您每次想要创建新的项目类型时必须重新定义常用的工具链，工具等，那将非常耗时，更不用说容易出错了。相反，构建模型允许您将项目类型组织到层次结构中，以促进相关项目类型之间的公共属性设置和元素定义的共享。但是，在创建父项目类型时，您可能不希望用户在新项目向导中选择该项目类型。在这种情况下，使projectType为abstract，它将不再显示为用户的选项。将元素标记为抽象是UI设计决策;你可以将非抽象元素声明为另一个元素的超类。</p>
<p>从2.1开始，可以独立于项目类型声明配置，工具链，工具，构建器和targetPlatform。因此，可以一次声明一组完整的元素，并对许多projectTypes中的那些元素使用superClass引用。<br>
</p>
<p class="subsection">6.13.5发布插件</p>
<p>“ <span style="font-style:italic">平台插件开发人员指南”中</span>详细介绍了打包Eclipse插件的主题。如果您计划部署基于Eclipse的产品，强烈建议您仔细查看此信息。但是，让Eclipse的其他用户可以使用工具集成并不困难。您必须提供我们在Eclipse平台的插件目录中创建的插件清单。插件目录名为plugins，通常位于安装Eclipse平台的主目录下。<strong>
</strong></p>
<ol>
  <li style="font-weight:normal">从<span style="font-weight:bold">Plug-in Development Perspective</span>中，在包资源管理器中选择插件的plugin.xml文件。打开<span style="font-weight:bold">文件&gt;导出...</span>向导。在“ <span style="font-weight:bold">选择”</span>页面上，从导出目标列表中选择“ <span style="font-weight:bold">可部署的插件和片段</span> ”。单击<span style="font-weight:bold">下一步&gt;</span>按钮。</li>
  <li style="font-weight:normal">在“ <strong>可部署的插件和片段”</strong>对话框的“导出<code>Destination section, select Directory and</code>然后单击“浏览...”按钮。浏览到Eclipse安装。取消选择所有导出选项。单击“完成”按钮。</li>
  <li>重新启动Eclipse，切换到<span style="font-weight:bold">C / C ++ Development Perspective</span>并运行新项目向导，根据您的工具集成创建一个新项目。</li>
</ol>
<p class="section"><a name="_TocSectionDynamic">7添加动态行为</a></p>
<p class="subsection"><a name="_TocSectionDynamic_1">7.1概述</a></p>
<p>MBS定义了许多元素属性，允许工具集成器通过在Java类中实现MBS定义的接口来定制MBS的行为。本节介绍这些属性和接口。</p>
<p class="subsection"><a name="_TocSectionDynamic_2">7.2替换构建文件生成器</a></p>
<p>您可以为项目配置指定替换构建文件生成器。您必须指定并提供一个实现下面显示的<code>IManagedBuilderMakefileGenerator</code>接口的类。类名分配给builder元素buildfileGenerator属性。</p>
<p>
<img src="./image060.gif" title="" alt="Makefile生成器接口" style="border:0px solid"> </p>
<h5>图10 Makefile生成器界面</h5>
<p>在构建时，MBS构建器将要求与正在构建的项目配置关联的构建文件生成器。如果您在插件中指定了一个类，那么此类将在此时实例化。然后，MBS构建器将为新构建文件生成器提供初始化自身的机会。至少，您的生成器应该缓存构建信息和进度监视器，以便您可以访问构建设置并响应用户及时取消构建。</p>
<p>
<img src="./image062.gif" title="" alt="MBS makefile生成器初始化例程" style="border:0px solid"></p>
<p>由于MBS构建器是增量构建器，因此将根据Eclipse工作区检测到的增量类型要求构建或重建项目。对于使用默认生成器的增量构建，它将要求生成器生成makefile。对于完全重建，它将要求重新生成所有makefile。根据您生成的makefile模式，这些可能最终会执行相同的操作。值得注意的是，构建器特别注意generate和regenerate方法的返回值，因此返回包含某种排序或结果的<code>MultiStatus</code>实例非常重要。例如，以下代码片段将告诉构建器它可以继续并调用make实用程序并启动构建。<br>
</p>
<p>
<img src="./image064.gif" title="" alt="返回值" style="border:0px solid"></p>
<p>通常，您必须在makefile中指定源级依赖项，如第5.1.3节中所述。构建器将要求生成器生成或重新生成这些依赖项，具体取决于它是增量还是重建情况。如果源级别依赖项是作为构建步骤的副产品生成的，则此调用可能会导致NOP。在默认生成器的情况下，它导致依赖描述的一些后处理。发生的事情完全取决于您使用的构建实用程序以及您实现的构建文件模式。</p>
<p class="subsection"><a name="_TocSectionDynamic_3">7.3替换依赖性计算器</a></p>
<p>我们知道，生成的构建文件必须包含构建目标的所有依赖项，但并非每个系统都有相同的实用程序集来发现它们。某些工具集成可能依赖于<var>makedepend之</var>类的外部实用程序来计算源级依赖性。其他工具集成可能会提供依赖项计算以及其他构建工具，如GCC预处理器。MBS中的可替换依赖性计算器试图适应许多类型的依赖性发现机制。</p>
<p>替换依赖性计算器的机制类似于构建文件生成器，除了依赖性计算器与工具inputType相关联，而不是构建器。您必须创建一个实现下面显示的<code>IManagedDependencyGenerator2</code>接口的类，并在inputType元素dependencyCalculator属性中指定该类。通常，依赖性计算器仅与“编译器”工具相关，但您用于指定生成器（或生成器）的工具是任意的。</p>
<p>按照设计，依赖计算器必须回答它将执行哪种类型的依赖关系生成。MBS支持两种主要的，多种次要的依赖性计算模式。主要模式是：</p>
<ol>
	<li>构建文件生成器调用工具集成器提供的方法，使用工具集成器想要的任何方法计算所有依赖项。然后，构建文件生成器使用适当的构建文件语法将依赖项添加到构建文件。这是一个TYPE_CUSTOM依赖计算器，如下所述。有关更多信息，请参阅下面的<span style="font-family:Courier New">IManagedDependencyCalculator</span>接口讨论。</li>
	<li>构建文件生成器和工具链协作创建和使用单独的“依赖”文件。在这种情况下，依赖性计算在“构建时间”完成，而不是在模式＃1中的“构建文件生成时间”完成。这当前支持在GNU make中使用.d文件的GNU概念。这是TYPE_BUILD_COMMANDS依赖计算器或TYPE_PREBUILD_COMMANDS依赖计算器，如下所述。有关详细信息，请参阅下面的<span style="font-family:Courier New">IManagedDependencyCommands</span>和<span style="font-family:Courier New">IManagedDependencyPreBuild</span>接口讨论。</li>
</ol>
<p><span style="font-family:Courier New">公共接口IManagedDependencyGeneratorType {<br>
<span style="color:#336699">/ **<br>* getCalculatorType返回的常量<br>* /<br>
   
</span> public int TYPE_NODEPS = 0; //不推荐使用 - 使用TYPE_NODEPENDENCIES<br>public int TYPE_COMMAND = 1; //不推荐使用 - 使用TYPE_BUILD_COMMANDS<br>public int TYPE_INDEXER = 2; //不推荐使用 - 使用TYPE_CUSTOM<br>public int TYPE_EXTERNAL = 3; //不推荐使用 - 使用TYPE_CUSTOM<br>public int TYPE_OLD_TYPE_LIMIT = 3;<br>
	<br>
	    <span style="color:#336699">//使用这些类型<br>
	</span> public int TYPE_NODEPENDENCIES = 4;<br>public int TYPE_BUILD_COMMANDS = 5;<br>public int TYPE_PREBUILD_COMMANDS = 6;<br>public int TYPE_CUSTOM = 7;<br>
	<br>
<span style="color:#336699">/ **<br>*返回已实现的依赖项生成器的类型。<br>*<br>* TYPE_NODEPENDENCIES表示没有依赖项生成器<br>*提供或需要。<br>* TYPE_CUSTOM表示自定义“构建文件生成时间”<br>*依赖计算器已实现。注意依赖性<br>*生成makefile时将调用计算器，并且<br>*对于此工具在构建中构建的每个源文件<br>*文件，不仅适用于自上次构建以来已更改的文件<br>*文件生成。<br>* TYPE_BUILD_COMMANDS表示命令行或选项将<br>*返回用于计算依赖项。这些<br>*命令/选项被添加到构建文件以执行依赖<br>*在“建立时间”计算。这目前支持<br>*生成.d文件的编译器/工具<br>*工具调用的副作用，或作为单独的步骤<br>*在工具调用之前或之后立即调用。<br>* TYPE_PREBUILD_COMMANDS表示单独的构建步骤<br>*在正常构建步骤之前调用，以更新<br>*依赖信息。这些命令将添加到构建中<br>*文件在“构建时”执行依赖性计算。注意<br>*每次完成构建时都会调用此步骤<br>*命令确定是否需要重新生成依赖项文件。<br>*<br>* @return int<br>* /<br>
       
</span> public int getCalculatorType（）;<br>}</span></p>
<p>在确定依赖计算器的类型后，您必须实现方法<code>  </code> <code>IManagedDependencyGenerator2</code> 。方法<span style="font-family:Courier New">getDependencySourceInfo</span>返回<span style="font-family:Courier New">IManagedDependencyInfo</span>接口的实例。这可以是从<span style="font-family:Courier New">IManagedDependencyInfo</span>导出3个接口中的任一个- <span style="font-family:Courier New">I</span> <span style="font-family:Courier New">ManagedDependencyCalculator，IManagedDependencyCommands</span>或<span style="font-family:Courier New">IManagedDependencyPreBuild</span>这在下面讨论。调用返回的接口以获取配置中特定源文件的依赖关系信息。请参阅其他方法的说明<code>  </code> <code>IManagedDependencyGenerator2</code>在下面的代码注释中。</p>
<pre>公共接口IManagedDependencyGenerator2 extends IManagedDependencyGeneratorType { <span style="color:#336699">/ ** *返回此源文件的IManagedDependencyInfo实例。* IManagedDependencyCalculator，IManagedDependencyCommands *和IManagedDependencyPreBuild都是从* IManagedDependencyInfo派生的，并且可以返回三者中的任何一个。*当getCalculatorType返回TYPE_BUILD_COMMANDS，* TYPE_CUSTOM或TYPE_PREBUILD_COMMANDS时调用此方法。 * * @param source应计算依赖项的源文件* IPath可以是相对于项目目录的，也可以是文件系统中的绝对目录。* @param buildContext IConfiguration或IResourceConfiguration *包含将在其中构建源文件的上下文* @param工具与源文件关联的工具* @param topBuildDirectory配置的顶级构建目录。这是该工具的工作目录。此IPath相对于项目目录。* @return IManagedDependencyInfo * /</span> public IManagedDependencyInfo getDependencySourceInfo（IPath source，IBuildObject buildContext，ITool tool，IPath topBuildDirectory）; <span style="color:#336699">/ ** *返回此依赖关系生成器创建的依赖项文件所使用的文件扩展名。*当getCalculatorType返回TYPE_BUILD_COMMANDS或* TYPE_PREBUILD_COMMANDS时调用此方法。 * * @param buildContext包含build * @param工具上下文的IConfiguration与依赖项生成器关联的工具。* * @return String * /</span> public String getDependencyFileExtension（IConfiguration buildContext，ITool工具）; <span style="color:#336699">/ ** *调用以允许依赖计算器后处理依赖项文件。*在至少每个已更改的*依赖项文件的构建完成后调用此方法，并且可能对于那些尚未更改的那些文件也是如此。也可以使用*其他工具创建的依赖文件调用它。此方法应该能够识别不属于它的依赖文件*，或者它已经过后处理的依赖文件*。*当getCalculatorType返回TYPE_BUILD_COMMANDS或* TYPE_PREBUILD_COMMANDS时调用此方法。 * * @param dependencyFile依赖文件* IPath可以相对于顶层构建目录，也可以是文件系统中的绝对目录。* @param buildContext包含build * @param工具上下文的IConfiguration与依赖项生成器关联的工具。请注意，这不一定是创建依赖项文件的工具* @param topBuildDirectory项目的顶级构建目录。这是该工具的工作目录。* * @return boolean如果方法修改了依赖项（例如，.d）文件* /</span> public boolean postProcessDependencyFile（IPath dependencyFile，IConfiguration buildContext，ITool工具，IPath topBuildDirectory），则返回true; }</pre>
<p class="subsection">7.3.1 TYPE_CUSTOM依赖计算器</p>
<p>TYPE_CUSTOM依赖项计算器必须实现<span style="font-family:Courier New">IManagedDependencyCalculator</span>接口。</p>
<pre>公共接口IManagedDependencyCalculator extends IManagedDependencyInfo { <span style="color:#336699">/ ** *返回源文件特定依赖项的列表。* *路径可以是相对于项目目录，也可以是文件系统中的绝对*。* * @return IPath [] * /</span> public IPath [] getDependencies（）; <span style="color:#336699">/ ** *返回*源文件创建的源文件特定附加目标的列表。大多数源文件将返回null。应返回其他目标的示例*是用于创建一个或多个Fortran模块的Fortran 90 *源文件。* *请注意，可以在此处指定与同一工具的其他调用*相关的输出文件，或者作为工具的另一种输出类型*。如果输出文件可以用作其他*工具的输入，则使用输出类型机制。* *路径可以相对于顶层构建目录，也可以是文件系统中的绝对*。* * @return IPath [] * /</span> public IPath [] getAdditionalTargets（）; }</pre>
<p>可以在MBS测试套件中找到示例TYPE_CUSTOM依赖计算器 -  org.eclipse.cdt.managedbuilder.core.tests \ DefaultFortranDependencyCalculator。</p>
<p>如果您没有外部流程或工具来计算依赖关系，则可以利用CDT中的索引器。在这种情况下，您只能独立于构建步骤生成依赖项。依赖项计算器向索引器询问依赖项列表，并将它们作为<code>IResource</code>实例数组返回。显然，如果您依赖索引器，则必须等待它完成其工作才能回答，因此您的构建可能需要更长的时间才能完成。有关如何使用旧的，已弃用的<span style="font-family:Courier New">IManagedDependencyGenerator</span>接口实现此操作的示例，请参阅org.eclipse.cdt.managedbuilder.makegen.internal \ DefaultIndexerDependencyCalculator类。但是，它似乎不适用于CDT 3.0。建议读者将此方法更新为新接口，并将实现贡献给CDT。</p>
<p class="subsection">7.3.2 TYPE_BUILD_COMMANDS依赖计算器</p>使用TYPE_BUILD_COMMANDS依赖计算器时，构建文件生成器和工具链合作创建和使用单独的“依赖”文件。构建文件生成器调用依赖项计算器以获取依赖项文件名，并获取需要添加到构建文件的命令。在这种情况下，依赖性计算在“构建时间”完成，而不是像“TYPE_CUSTOM”那样在“构建文件生成时间”完成。这当前支持在GNU make中使用.d文件的GNU概念。<p>有多种方法可以由工具链创建这些单独的依赖项文件，并由构建器使用。在某些情况下（例如，使用模块的Fortran 90），必须在调用项目工件（例如，应用程序）的构建之前创建/更新依赖性文件。在这种情况下，依赖关系生成步骤必须在主构建之前单独进行。有关更多信息，请参见TYPE_PREBUILD_COMMANDS。在其他情况下（例如，C / C ++），可以将依赖项文件创建为主构建的副作用。这意味着当前构建不需要最新的依赖项文件，但是对于下一个构建。可以按照以下链接中描述的方式处理C / C ++构建： <a href="http://sourceware.org/automake/automake.html#Dependency-Tracking-Evolution">http</a> ： <a href="http://sourceware.org/automake/automake.html#Dependency-Tracking-Evolution">//sourceware.org/automake/automake.html#Dependency-Tracking-Evolution</a> 。对此模式使用IManagedDependencyCommands接口。</p>
<p>此模式的两个子场景是：</p>
<ol>
	<li>通过向工具调用命令行添加其他选项，在创建工具构建工件的工具的同一调用中创建依赖项文件。</li>
	<li>在单独的工具调用中创建依赖项文件，或者通过调用其他工具来创建依赖项文件</li>
</ol>
<p>MBS还可以帮助生成依赖项文件。在CDT 3.1之前，MBS和gcc合作使用以下步骤生成依赖文件：</p>
<ol>
	<li>调用Gcc来执行生成目标文件的编译。</li>
	<li>“echo”命令创建.d文件，将.d文件的名称添加到新创建的.d文件的开头。请注意，这会导致“echo”的某些实现出现问题，这些实现不能完全按照我们想要的方式工作（例如，它不支持-n开关）。</li>
	<li>使用适当的附加命令行选项再次调用Gcc，以将其依赖项文件信息附加到由“echo”创建的.d文件中。</li>
	<li>在make文件中调用步骤1  -  3。在make调用完成后发生第4步。在步骤4中，MBS代码对.d文件进行后处理，以便为每个头文件添加虚拟依赖关系，原因如上面的链接所述。</li>
</ol>
<p>默认gcc实现不再使用此模式，但仍可通过选择DefaultGCCDependencyCalculator3Commands类来使用。</p>
<p>GNU make的注意事项：这些单独的依赖项文件由主makefile“包含”。因此，如果在主构建开始之前要求依赖项文件是最新的，则必须通过单独调用make来更新它们。此外，必须通过单独调用make来调用配置“clean”步骤。这样我们可以使用如下语法排除“make clean”调用的依赖项文件：</p>
<p style="margin-bottom:0">ifneq（$（MAKECMDGOALS），干净）</p>
<p style="margin-top:0;margin-bottom:0">- 包括$（DEPS）</p>
<p style="margin-top:0;margin-bottom:0">万一</p>
<p>否则，因为GNU尝试重新制作make文件，我们最终可能会重新生成过时或丢失的依赖文件，然后立即“清理”。</p>
<p>可以在org.eclipse.cdt.managedbuilder.makegen.gnu \ DefaultGCCDependencyCalculator2Commands和DefaultGCCDependencyCalculator3Commands中找到TYPE_BUILD_COMMANDS的使用示例。</p>
<pre>公共接口IManagedDependencyCommands extends IManagedDependencyInfo { <span style="color:#336699">/ ** *返回生成的依赖项文件列表。* *路径可以相对于顶层构建目录，也可以是文件系统中的绝对*。* * @return IPath [] * /</span> public IPath [] getDependencyFiles（）; <span style="color:#336699">/ ** *返回在正常工具调用*之前调用的命令行，以计算依赖关系。* * @return String []如果在正常*工具调用之前不需要调用依赖项*生成命令，则可以为null或空数组。* /</span> public String [] getPreToolDependencyCommands（）; <span style="color:#336699">/ ** *返回用于计算依赖关系的命令行选项。*这些选项被添加到常规工具调用中。* * @return String []如果不需要将额外的*参数添加到工具调用中，则可以为null或空数组。*应该返回一个IOption []？* /</span> public String [] getDependencyCommandOptions（）; <span style="color:#336699">/ ** *返回在正常工具调用*之后要调用的命令行以计算依赖性。* * @return String []如果在正常*工具调用* /</span> public String [] getPostToolDependencyCommands（） 之后不需要调用依赖*生成命令，则可以为null或空数组</span> ; <span style="color:#336699">/ ** *如果此接口*返回的命令行和/或选项不是特定于特定源文件，则返回true，但仅限于*，最多是配置和工具。如果构建上下文是资源*配置，则如果任何命令行*和/或选项与构建上下文是父*配置不同，则此方法应返回false。构建文件生成器可以使用它来帮助*确定是否可以使用“模式”（通用）规则。* * @return boolean * /</span> public boolean areCommandsGeneric（）; }</pre>
<p class="subsection">7.3.3 TYPE_PREBUILD_COMMANDS依赖计算器</p>使用TYPE_BUILD_PRECOMMANDS依赖计算器时，构建文件生成器和工具链在创建和使用单独的“依赖”文件时合作。对于GNU make，这些单独的依赖文件由主makefile“包含”。Make对make文件执行特殊处理：<br>
<p>“为此，在阅读所有makefile之后，make会将每个作为目标目标并尝试更新它。如果一个makefile有一个规则说明如何更新它（在那个makefile或另一个中找到）......，它将在必要时更新。在检查了所有的makefile之后，如果实际上已经更改了makefile，make会以一个干净的平板开始并再次读取所有的makefile。“<br>
</p><p>我们可以通过向make文件添加规则来生成依赖项文件，以确保依赖项文件是最新的。调用getDependencyCommands方法返回这些规则。但是，当我们不想构建构建目标时，这会产生很大的问题，例如，只想“清理”配置。如果我们调用make只是为了清理配置，make会在必要时更新依赖文件，从而重新生成依赖文件，只是立即删除它们。make文档建议的解决方法是使用“clean”目标检查调用，并且不包括那种情况下的依赖项文件。例如，<br>
</p><p>ifneq（$（MAKECMDGOALS），干净）<br>包括$（DEPS）<br>万一<br>
</p><p>对此的限制是它只有在“clean”是make命令行中指定的唯一目标时才有效。因此，必须单独调用构建“干净”步骤。</p><p>可以在org.eclipse.cdt.managedbuilder.makegen.gnu \ DefaultGCCDependencyCalculatorPreBuildCommands中找到TYPE_PREBUILD_COMMANDS的使用示例。</p><pre>public interface IManagedDependencyPreBuild extends IManagedDependencyInfo { <span style="color:#336699">/ ** *返回生成的依赖项文件列表。* *路径可以相对于顶层构建目录，也可以是文件系统中的绝对*。* * @return IPath [] * /</span> public IPath [] getDependencyFiles（）; <span style="color:#336699">/ ** *返回构建文件中使用的名称，以标识单独的*构建步骤。请注意，此名称对于工具应该是唯一的，因为工具链中的多个工具可能正在使用此依赖项计算方法。* * @return String * /</span> public String getBuildStepName（）; <span style="color:#336699">/ ** *返回要在单独的* dependencies预构建步骤中调用的命令行。* * @return String [] * /</span> public String [] getDependencyCommands（）; <span style="color:#336699">/ ** *如果此接口*返回的命令行不是特定于特定源文件，但仅特定于*，最多是配置和工具，则返回true。如果构建上下文是资源*配置，则如果任何命令行*与构建上下文是父配置不同，则此方法应返回false。*构建文件生成器可以使用它来帮助确定是否可以使用*“模式”（通用）规则。* * @return boolean * /</span> public boolean areCommandsGeneric（）; }</pre>
<p class="subsection"><a name="_TocSectionDynamic_4">7.4更换命令行生成器</a></p>
<p>您可以为工具指定替换命令行生成器。您必须指定并提供实现<code>IManagedCommandLineGenerator</code>接口的类。类名分配给工具元素commandLineGenerator属性。</p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">公共接口IManagedCommandLineGenerator {</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public IManagedCommandLineInfo generateCommandLineInfo（</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">ITool工具，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String commandName，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String []标志，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String outputFlag，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String outputPrefix，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String outputName，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String [] inputResources，</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">String commandPattern）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">}</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">公共接口IManagedCommandLineInfo {</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getCommandLine（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getCommandName（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getFlags（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getOutputFlag（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getOutputPrefix（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getOutputName（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">public String getInputResources（）;</span></p>
<p class="MsoNormal" style="text-autospace:none;margin-left:.25in;margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">}</span></p>
<p class="MsoNormal" style="text-autospace:none">MBS调用IManagedCommandLineGenerator.generateCommandLineInfo来生成命令行信息。如果需要，提供的IManagedCommandLineGenerator可以修改命令行部分，然后在<span style="font-family:Courier New">IManagedCommandLineInfo</span>接口中提供修改后的值以及完整的命令行。默认MBS实现不会修改任何命令行部分。它使用部件和模式生成可以使用IManagedCommandLineInfo.getCommandLine检索的完整命令行。</p>
<p class="subsection"><a name="_TocSectionDynamic_5">7.5确定是否安装了工具链</a></p>
<p class="MsoNormal">工具链定义可以提供一种方法来调用，以确定系统上当前是否安装了对工具链的支持。MBS使用此信息来过滤提交给CDT用户的选择，并在未安装项目所需的支持时通知用户。如果工具链定义未提供该方法，则工具链将被视为受支持。如果不支持为给定项目类型定义的所有配置，则将项目类型视为不受支持。</p>
<p>为了提供此功能，必须指定toolChain定义中的“isToolChainSupported”属性。应将此属性的值设置为实现<span style="font-family:Courier New">IManagedIsToolChainSupported</span>接口的类的名称。</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IManagedIsToolChainSupported {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">boolean isSupported（IToolChain toolChain，PluginVersionIdentifier version，String instance）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">version参数指定ToolChain的版本，如果ToolChain没有版本号，则返回null。实例参数当前为null。它将在实现“多实例”支持时使用。</p>
<p class="subsection"><a name="_TocSectionDynamic_6">7.6定义环境变量</a></p>
<p>工具集成器可以提供一种方法，用于标识工具链的默认环境变量。这些通常包括构建路径变量（“bin”，“include”，“lib”）。这些环境变量由MBS定义，用于运行构建器（例如，make）的过程。除了提供环境变量之外，工具链集成器还可以指定工具用于指定包含和库路径的环境变量的名称。MBS将检查这些变量，并将有关包含和库的适当信息传递给CDT的其余部分。</p>
<p class="MsoNormal">工具集成商可以单独提供项目级和配置级环境变量供应商：</p>
<p class="MsoNormal" style="margin-left:0in">要提供配置级供应商，必须指定toolChain定义中的“configurationEnvironmentSupplier”属性。应将此属性的值设置为实现<span style="font-family:Courier New">IConfigurationEnvironmentVariableSupplier</span>接口的类的名称</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public interface IConfigurationEnvironmentVariableSupplier {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @variableName变量鬃毛</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param配置配置</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param提供者用于查询的环境变量提供者的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">*来自供应商的环境变量。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的环境，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getEnvironmentVariableProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">*</span> <span style="font-family:Courier New"><span style="color:#003366">传递给供应商的提供商将忽略搜索变量的级别</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366"> </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366"> </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366"> </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366"> </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的环境变量。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return对IBuildEnvironmentVariable接口表示的引用</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*给定名称的变量</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildEnvironmentVariable getVariable（String variableName，</span> </p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:2.95in;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IConfiguration配置，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:2.95in;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IEnvironmentVariableProvider provider）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param配置配置</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param提供者用于查询的环境变量提供者的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">*来自供应商的环境变量。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">*</span> <span style="font-family:Courier New"><span style="color:#003366">已定义的环境，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getEnvironmentVariableProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索变量的级别</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的环境变量。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @return表示环境变量的IBuildEnvironmentVariable数组</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildEnvironmentVariable [] getVariables（IConfiguration配置，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:2.95in;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IEnvironmentVariableProvider provider）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal" style="margin-left:0in">要提供项目级供应商，必须指定projectType定义中的“projectEnvironmentSupplier”属性。应将此属性的值设置为实现<span style="font-family:Courier New">IProjectEnvironmentVariableSupplier接口</span>的类的名称<span style="font-family:Courier New">。</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IProjectEnvironmentVariableSupplier {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @variableName变量鬃毛</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param项目管理项目</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @param提供者用于查询的环境变量提供者的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">*来自供应商的环境变量。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   
<span style="font-family:Courier New"><span style="color:#003366">*已定义的环境，而不是使用返回的“默认”提供程序</span></span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   
<span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getEnvironmentVariableProvider（）。</span></span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索变量的级别</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的环境变量。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return对IBuildEnvironmentVariable接口表示的引用</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*给定名称的变量</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildEnvironmentVariable getVariable（String variableName，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:177.0pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IManagedProject项目，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:177.0pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IEnvironmentVariableProvider provider）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param项目管理项目</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param提供者用于查询的环境变量提供者的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*来自供应商的环境变量。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的环境，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getEnvironmentVariableProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索变量的级别</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">  </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的环境变量。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return表示环境变量的IBuildEnvironmentVariable数组</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildEnvironmentVariable [] getVariables（IManagedProject项目，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:177.0pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IEnvironmentVariableProvider provider）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal"><span style="font-family:Courier New">IBuildEnvironmentVariable</span>接口返回有关单个环境变量的信息。</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IBuildEnvironmentVariable {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int ENVVAR_REPLACE = 1;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int ENVVAR_REMOVE = 2;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int ENVVAR_PREPEND = 3;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int ENVVAR_APPEND = 4;</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-top:0;margin-bottom:0">
 </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String getName（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String getValue（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return IBuildEnvironmentVariable之一。ENVVAR_ *操作类型</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">int getOperation（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return如果变量可以保存值列表，则此方法返回表示的String</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*用于分隔值的分隔符。此信息用于以下内容：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* 1.附加和前置操作：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*如果变量已经存在并包含一些新值</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*价值将按以下方式计算：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于“前置”操作：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* &lt;新值&gt; = &lt;getValue（）方法的值&gt; &lt;delimiter&gt; &lt;旧值&gt;</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于“追加”操作：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* &lt;新值&gt; = &lt;旧值&gt; &lt;分隔符&gt; &lt;getValue（）方法的值&gt;</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*环境变量提供程序还将删除“子值”的副本</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*在结果值中。</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* 例如：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*如果当前值为“string1：string2：string3”，则getDelimiter（）方法返回“：”</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*和getValue（）方法返回“string4：string2”，新值将包含：</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于“prepend”操作：“string4：string2：string1：string3”</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于“append”操作：“string1：string3：string4：string2”</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*<br>* 2。由于环境变量也被视为构建宏，因此也使用分隔符</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*由BuildMacroProvider确定用于表示的宏的类型</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*给定环境变量。如果变量具有分隔符，则将其视为文本列表宏</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*否则将其视为Text宏。（有关详细信息，请参阅构建宏设计）</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*要指定不应使用分隔符，getDelimiter（）方法应该<br>*返回null或空字符串</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String getDelimiter（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="subsection"><a name="_TocSectionDynamic_7">7.7定义构建路径解析器</a> </p>
<p class="MsoNormal" style="margin-left:0in">要提供构建路径解析程序，必须指定envVarBuildPath定义中的buildPathResolver属性。应将此属性的值设置为实现<span style="font-family:Courier New">IBuildPathResolver</span>接口的类的名称。这允许工具集成器提供他/她自己的逻辑来解析环境变量值以构建路径。</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IBuildPathResolver {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param pathType IEnvVarBuildPath之一。BUILDPATH _xxx</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* @param variableName表示保存构建路径的变量的名称</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* @param variableValue表示使用指定的值的值</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* variableName参数</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">* @param配置表示为其请求构建路径的配置</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String [] resolveBuildPaths（</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">int pathType，</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">字符串variableName，</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">字符串variableValue，</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IConfiguration配置）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">请参阅org.eclipse.cdt.managedbuilder.gnu.cygwin。CygwinPathResolver用于构建路径解析程序的示例。它将Cygwin样式的路径转换为Windows路径。</p>
<p class="subsection"><a name="_TocSectionDynamic_8">7.8定义构建宏</a></p>
<p class="MsoNormal"><span style="font-family:Courier New">IConfigurationBuildMacroSupplier</span>接口和<span style="font-family:Courier New">IProjectBuildMacroSupplier</span>接口允许工具集成商定义构建宏及其值。</p>
<p class="MsoNormal"><span style="font-family:Courier New">IConfigurationBuildMacroSupplier</span>接口的所有方法必须仅为配置上下文返回宏，并且不得为具有较低优先级的上下文搜索宏值。这取决于BuildMacroProvider，以便在必要时查询传递较低优先级上下文的宏供应商，以防在某些指定的上下文中找不到宏值</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public interface IConfigurationBuildMacroSupplier {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @ macroName宏名称</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param配置配置</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param提供者用于查询的构建宏提供程序的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*从供应商内部构建宏。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的构建宏，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getBuildMacroProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索级别的宏<br>*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情<br>*关于为更高级别定义的构建宏。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return对IBuildMacro接口表示的引用</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*给定名称的构建宏，如果未定义该名称的宏，则为null</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New">IBuildMacro getMacro（String macroName，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:70.8pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IConfiguration配置，</span> </p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:70.8pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildMacroProvider提供者）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param配置配置</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param提供者用于查询的构建宏提供程序的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*从供应商内部构建宏。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的构建宏，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getBuildMacroProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索级别的宏</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的构建宏。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return表示已定义宏的IBuildMacro []数组</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New">IBuildMacro [] getMacros（IConfiguration配置，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:70.8pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildMacroProvider提供者）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal"><span style="font-family:Courier New">IProjectBuildMacroSupplier</span>接口的所有方法必须仅返回项目上下文的宏，并且不得搜索具有较低优先级的上下文的宏值。这取决于BuildMacroProvider，以便在必要时查询传递较低优先级上下文的宏供应商，以防某些指定上下文找不到宏值。</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IProjectBuildMacroSupplier {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @ macroName宏鬃毛</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param项目托管项目的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param提供者用于查询的构建宏提供程序的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*从供应商内部构建宏。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的构建宏，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getBuildMacroProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索级别的宏</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的构建宏。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return对IBuildMacro接口表示的引用</span>
</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*给定名称的构建宏，如果未定义该名称的宏，则为null</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New">IBuildMacro getMacro（String macroName，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:106.2pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IManagedProject项目，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:106.2pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildMacroProvider提供者）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param项目托管项目的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @param提供者用于查询的构建宏提供程序的实例</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">*从供应商内部构建宏。供应商应使用此提供商获取</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">*已定义的构建宏，而不是使用返回的“默认”提供程序</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New"><span style="color:#003366">* ManagedBuildManager.getBuildMacroProvider（）。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*传递给供应商的提供商将忽略搜索级别的宏</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*高于当前供应商级别，将仅查询优先级较低的供应商</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*对于当前级别，将查询所有供应商的较低级别。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*这样做是为了避免在供应商调用提供商时可能导致的无限循环</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*然后提供商再次呼叫该供应商。供应商也不应该知道任何事情</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">   </span> <span style="font-family:Courier New"><span style="color:#003366">*关于为更高级别定义的构建宏。</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @return表示已定义宏的IBuildMacro []数组</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New;color:#003366">    </span> <span style="font-family:Courier New">IBuildMacro [] getMacros（IManagedProject项目，</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:106.2pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">IBuildMacroProvider提供者）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="MsoNormal"><span style="font-family:Courier New">IBuildMacro</span>接口返回有关单个构建宏的信息。</p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">公共接口IBuildMacro {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_TEXT = 1; //可以保存任何文本字符串</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_TEXT_LIST = 2; //可以保存文本字符串值的数组</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_FILE = 3; //可以保存文件路径</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_FILE_LIST = 4; //可以保存文件路径值数组</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_DIR = 5; //可以保存dir路径</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_DIR_LIST = 6; //可以保存dir路径值的数组</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_ANY = 7; //可以同时保存文件和目录路径</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">public static final int VALUE_PATH_ANY_LIST = 8; //可以保存PATH_ANY数组</span></p>
<p class="MsoNormal" style="text-indent:35.4pt;margin-left:283.2pt;margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">//值</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String getName（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">            
</span> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @returns IBuildMacro。VALUE_xxx</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">int getMacroValueType（）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0"> </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* @throws BuildMacroException如果宏保存StringList类型的值</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">
<span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String getStringValue（）抛出BuildMacroException;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
 </p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">/ **</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* @throws BuildMacroException如果宏包含单个String类型值</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New"><span style="color:#003366">* /</span></span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">String [] getStringListValue（）抛出BuildMacroException;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-family:Courier New">}</span></p>
<p class="subsection"><a name="_TocSectionDynamic_9">7.9定义配置名称提供程序</a></p>
<p class="MsoNormal">所有配置名称在项目中必须是唯一的。您可以在构建定义中提供唯一的配置名称，也可以动态创建唯一的名称。要动态提供配置名称， <a name="_TocSectionDynamic_15">必须指定并提供一个实现下面显示的<code>IConfigurationNameProvider</code>接口的类。类名分配给projectType元素configurationNameProvider属性。</a></p>
<p class="MsoNormal">请考虑配置名称提供程序的以下用法。您在同一版本的CDT中支持多个版本的工具链（有关支持多个版本的讨论，请参见第8.2节）。出于此示例的目的，假设它们是版本1.0和2.0。您为工具链的每个版本提供默认的“调试”和“发布”配置。为这些默认配置分配名称时可以选择。您可以在构建定义中静态定义唯一名称（例如，“Debug_1.0”，“Debug_2.0”等）。但是，这些名称不是非常“用户友好”，特别是对于打算使用单个版本的工具链的用户。另一种方法是使用配置名称提供程序动态分配唯一的配置名称（请参阅下面的<span style="font-family:Courier New">getNewConfigurationName</span>方法。）创建的第一个配置使用最“基本”的名称 - 例如，“Debug”。当创建另一个使用不同工具链版本的配置时，它会看到已经选择了“Debug”，因此它可以返回一个更合格的名称 - 例如，“Debug_2.0”。当您的工具链支持多个主机/目标平台时，可以使用相同的技术。</p>
<p class="MsoNormal"><span style="font-family:Courier New">public interface IConfigurationNameProvider {<br>
<br>/ *<br>*根据'配置'返回新的唯一配置名称<br>*对象和项目中已使用的配置名称列表。<br>*<br>* /<br>
<br>String getNewConfigurationName（IConfiguration配置，String [] usedConfigurationNames）;<br>}</span></p>
<p class="subsection"><a name="_TocSectionDynamic_10">7.10定义输出名称提供程序</a></p>
<p>您可以为outputType指定输出名称提供程序。您必须指定并提供一个实现下面显示的<code>IManagedOutputNameProvider</code>接口的类。类名分配给outputType元素<strong>nameProvider</strong>属性。</p>
<p class="MsoNormal"><span style="font-size:10.0pt;font-family:Courier New">公共接口IManagedOutputNameProvider {</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">/ **</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">*</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">*返回与主输入名称对应的输出名称</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">*</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">* @returns String []</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">* /</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">IPath [] getOutputPaths（ITool工具，IPath [] primaryInputs）;</span></p>
<p class="MsoNormal" style="margin-top:0;margin-bottom:0">
<span style="font-size:10.0pt;font-family:Courier New">}</span></p>
<p class="MsoNormal" style="margin-top:6px;margin-bottom:0">当<strong>multipleOfType</strong>为true时，需要输出名称提供程序或<strong>outputNames</strong>属性，以便MBS知道输出文件的名称。</p>
<p class="MsoNormal" style="margin-top:6px;margin-bottom:0">返回的路径必须相对于顶级构建目录。但是，如果只返回文件名，MBS将自动添加相对于顶级构建目录的目录路径。相对路径来自源文件位置。为了指定此输出文件始终位于顶级构建目录中，无论源文件目录结构如何，都返回“./path”。</p>
<p class="subsection"><a name="_TocSectionDynamic_11">7.11定义选项值处理程序</a></p>
<p>您可以为选项指定值处理程序。您必须指定并提供一个实现下面显示的<span style="font-family:Courier New">IManagedOptionValueHandler</span>接口的类。此接口用于动态管理选项的值。</p>
<p><span style="font-family:Courier New">公共接口IManagedOptionValueHandler {<br>
<br>public final int EVENT_OPEN = 1; / **打开选项，即其UI元素<br>* 被建造。valueHandler可以覆盖<br>*期权的价值。如果没有，<br>*使用最后一个持久值。* /<br>public final int EVENT_CLOSE = 2; / **该选项已关闭。即它的价值<br>*删除配置/资源时销毁。<br>* valuehandler可以做各种与之相关的事情<br>*破坏释放内存等选项<br>*如果需要，与此选项回调相关联。* /<br>public final int EVENT_SETDEFAULT = 3; / **默认值选项:: defaultValue具有<br>*已经设定。调用handleValue回调<br>*之后给予经理人一个机会<br>*覆盖值或更新值<br>*它的后端。通常会调用此事件<br>*按下恢复默认值按钮时。* /<br>public final int EVENT_APPLY = 4; / **通过按Apply设置选项<br>*按钮（或OK按钮）。valueHandler可以<br>*将选项的值转移到自己的值<br>*后端。* /<br>
<br>/ **<br>*处理UI元素和之间的值之间的转移<br>*在不同情况下的后端。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项处理的选项<br>* @param extraArgument处理程序的额外参数<br>* @param事件事件要处理<br>*<br>* @return处理事件时为True，否则为false。<br>*这可以进行默认事件处理。<br>* /<br>boolean handleValue（IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项，<br>字符串extraArgument，<br>int事件）;<br>
<br>/ **<br>*检查选项的值是否为其默认值。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项处理的选项<br>* @param extraArgument处理程序的额外参数<br>*<br>*提供除配置之外的其他选项<br>*提供足够的信息来查询默认值<br>*潜在的数据存储后端。<br>*<br>* @return如果选项值是其默认值，则为True<br>*否则为假。这使得默认事件处理可以<br>* 发生。<br>* /<br>boolean isDefaultValue（IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项，<br>String extraArgument）;<br>
<br>/ **<br>*检查选项的枚举值当前是否为a<br>*有效的选择。这种方法的用例就是这样，其中<br>* plugin.xml文件中的有效枚举集发生了变化。<br>*如果值，UI将从选择列表中删除条目<br>*返回false。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项处理的选项<br>* @param extraArgument处理程序的额外参数<br>* @param enumValue要检查的枚举值<br>*<br>*提供除配置之外的其他选项<br>*提供足够的信息来查询来自的信息<br>*潜在的数据存储后端。<br>*<br>* @return如果枚举值有效且为假，则为True<br>* 除此以外。<br>* /<br>boolean isEnumValueAppropriate（IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项，<br>字符串extraArgument，<br>String enumValue）;<br>}</span></p>
<p>有关其他信息，请参阅bugzilla＃90481中的共享工具选项设计文档。</p>
<p class="subsection"><a name="_TocSectionDynamic_12">7.12定义选项适用性计算器</a></p>
<p>您可以为选项指定选项适用性计算器。您必须指定并提供一个实现下面显示的<code><span style="font-family:Courier New">IManagedOutputNameProvider</span></code>接口的类。类名分配给outputType元素<strong>nameProvider</strong>属性。当选项不总是适用时，您应该实现此接口 - 例如，仅当另一个选项具有特定值时才使用选项。</p>
<p><span style="font-family:Courier New">public interface IOptionApplicability {<br>/ **<br>*只要makefile或makefile片段是，就会查询此方法<br>*生成使用此选项，并在C / C ++ Build属性中<br>*显示当前命令行时的页面。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项本身<br>*<br>* @return如果要在命令行中使用此选项，则为true<br>*代，否则为假<br>* /<br>public boolean isOptionUsedInCommandLine（<br>IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项）;<br>
<br>/ **<br>*每当显示新选项类别时，都会查询此方法。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项本身<br>*<br>* @return如果此选项在构建选项页面中可见，则为true<br>*否则为假<br>* /<br>public boolean isOptionVisible（<br>IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项）;<br>
<br>/ **<br>*只要选项的值在GUI中发生变化，此方法就是<br>*查询同一类别的所有其他可见选项。注意<br>*当GUI更改时会发生这种情况 - 用户可以选择取消这些操作<br>* 变化。<br>*<br>* @param配置构建选项配置<br>*（可能是IConfiguration或IResourceConfiguration）<br>* @param持有人包含期权持有人<br>* @param选项本身<br>*<br>* @return如果应在构建选项页面中启用此选项，则为true<br>*如果应禁用（或灰显）则为false<br>* /<br>public boolean isOptionEnabled（<br>IBuildObject配置，<br>IHoldsOptions持有人，<br>IOption选项）;<br>
<br>}</span></p>
<p class="subsection"><a name="_TocSectionDynamic_13">7.13定义动态元素提供程序</a></p>
<p>工具集成商可以提供动态元素提供程序，以动态提供buildDefinitions扩展点中另外指定的定义。要指定动态元素提供程序，您的构建定义必须定义dynamicElementProvider元素，如第3.19节中所述。</p>
<p class="subsection"><a name="_TocSectionDynamic_14">7.14将自定义页面添加到新项目向导</a></p>





</a>
<p class="MsoNormal">工具链开发人员要求更灵活的一个方面是能够自定义新项目向导。 <span>  </span>开发人员希望能够向向导添加自定义页面，以便自动设置项目的启动属性，生成项目的配置文件以及其他各种自定义设置和行为。<br>
<br>开发人员可能希望此类自定义特定于工具链，或者可能对所有工具链都是全局的。 <span>  </span>在同一时间或单独地，他们可能希望他们的页面仅在项目具有特定性质（例如C与C ++）或某些项目类型（例如可执行与库）时出现。<br>
<br>外部接口由单个扩展点提供：<br>
<br>7.14.1 org.eclipse.cdt.managedbuilder.ui.newWizardPages</p>
<p class="MsoNormal">此扩展点允许将页面指定到New Managed C / C ++向导。 <span> 
</span>通过此扩展点，开发人员可以指定一个或多个向导页面以添加到向导，并且可选地仅在满足项目类型，项目工具链和项目性质的特定条件时添加这些页面。 <span>  </span>开发人员还可以指定一个Java类，当用户单击Finish时，该类根据向导的状态执行任何操作。</p>
<p>7.14.1.1架构</p>
<p>7.14.1.1.1 wizardPage元素</p>
<p class="MsoNormal">需要此元素的一个或多个实例。 <span>  </span>此元素的每个实例都定义了一个附加页面，该页面将添加到“新建项目”向导中。 <span>  </span>在MBS提供的默认页面之后添加页面。 <span>  </span>页面按发现顺序添加。</p>
<p class="MsoNormal">请注意，IWizardPage接口允许页面在运行时以编程方式和动态指定其上一页和下一页。 <span>  </span>此元素不会胜过该行为，而只是指定页面添加到向导的顺序（因此，如果页面不覆盖上一页和下一页的方法，则显示页面的显示顺序）。</p>
<p class="MsoNormal">为方便起见，这里是IWizardPage接口的UML类图。<br>
<br>
<img border="0" src="IWizardPage.jpeg" width="176" height="196" alt="IWizardPage接口的UML类图">
<br>
<br><a name="OLE_LINK10"></a> <a name="OLE_LINK9"><span>作为GUI元素的向导页面本身并不是那么有用。 <span> 
</span>很可能如果有人正在定义他们自己的向导页面，那是因为除了创建基本项目的股票行为之外，他们还需要在创建项目时进行一些额外的操作，并且他们希望使用他们的新向导页面来提供前端这些行动。</span></a></p>

<p>请注意，在向导页面的显示期间以及用户可能输入信息时，不应执行永久性更改，因为用户可以随时中止新项目的创建。因此，一旦用户完成新项目向导，就应该执行向导页面上指示的实际更改：选择“完成”按钮后。用户数据可以保存在任何这些页面的存储区域中，并在以后需要时检索。

</p><p><span><span>因此，除了GUI向导页面的规范之外，ISV还可以指定在提交新项目创建后将在向导的doRunEpilogue（）方法中执行的可运行操作。这些贡献将按向导页面添加到向导的顺序执行。 <span>  </span>然而，并非所有页面都需要这样的贡献，因为ISV可能需要作为一组执行与其页面相关联的所有操作。 <span> 
</span>在这种情况下，ISV可以为其中一个页面定义操作，并且可以根据需要从任何其他页面中提取数据。</span></span>

</p>
<p>wizardPage元素架构：</p>
<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">属性</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">描述</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">需要？</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">ID</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">页面的唯一标识符，用于引用页面</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">是</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">pageClass</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">指定实现添加页面的Java类。 <span> 
		</span>该类必须实现<a name="OLE_LINK7"><span><span style="font-family:Courier New">org.eclipse.jface.wizard。IWizardPage</span></span></a>界面</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">是</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">operationClass</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">指定实现与此页面关联的操作的Java类。 <span>  </span>该类必须实现<span style="font-family:Courier New">java.lang。Runnable</span>接口</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">没有</p>
		</td>
	</tr>
</table>
<p><a name="_Ref99249701">7.14.1.1.2 projectType元素</a></p>
<p class="MsoNormal">这是wizardPage的可选子元素，它指定应该应用其他页面的projectType。 <span>  </span>每个页面支持的工具链提供此元素的一个实例。</p>
<p class="MsoNormal">如果未指定projectType元素，则假定该页面可能适用于所有projectTypes，尽管它仍可能基于<a name="OLE_LINK5"><span>工具链（第<span>7.14.1.1.3</span>节）</span></a>或项目性质（第<span>7.14.1.1.4</span> <a name="OLE_LINK5"><span>节）</span></a>被排除。</p>
<p>projectType元素架构：</p>
<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">属性</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">描述</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">需要？</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">projectTypeID</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">应显示此页面的projectType的唯一ID。</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">是</p>
		</td>
	</tr>
</table>
<p>7.14.1.1.3工具链元素</p>
<p class="MsoNormal">这是wizardPage的可选子元素，它指定了应该应用其他页面的工具链。 <span>  </span>每个页面支持的工具链提供此元素的一个实例。</p>
<p class="MsoNormal"><a name="OLE_LINK1"><span>如果未指定工具链元素，则假定该页面可能适用于所有工具链，但仍可根据项目类型（第<span>7.14.1.1.2</span>节）或项目性质（第<span>7.14.1.1.4</span>节）排除该页面。</span></a></p>
<p class="MsoNormal">

























<span></span>工具链元素架构</p>
<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">属性</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">描述</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">需要？</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">toolchainID</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">应显示此页面的工具链的唯一ID。</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">是</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">versionsSupported</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">页面支持的工具链的特定版本的逗号分隔列表。 <span>  </span>如果未指定，则假定此页面支持工具链，而不管版本如何。</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">没有</p>
		</td>
	</tr>


</table>
<p><a name="_Ref98746447">7.14.1.1.4自然元素</a></p>
<p class="MsoNormal">wizardPage的这个可选子元素指定了应该应用其他页面的项目性质。 <span> </span><span> </span>根据所支持的性质提供该元素的一个实例。</p>
<p class="MsoNormal"><span></span>例如，这将允许一个人将页面添加到New Managed C Project向导，而不是New Managed C ++项目向导，或者未来可能由MBS支持的其他假设性质（例如，有一天可能会有Fortran性质）。</p>
<p class="MsoNormal">如果未指定natureID元素，则假定该页面可能适用于所有项目性质，但仍可根据项目类型（第<span>7.14.1.1.2</span>节）或工具链（第<span>7.14.1.1.3</span>节）排除该页面。</p>
<p>natureID元素架构：</p>
<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border-collapse:collapse;border:none">
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">属性</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">描述</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border:solid windowtext 1.0pt;border-left:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">需要？</p>
		</td>
	</tr>
	<tr>
		<td width="151" valign="top" style="width:4.0cm;border:solid windowtext 1.0pt;border-top:none;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">natureID</p>
		</td>
		<td width="363" valign="top" style="width:272.4pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">应显示此页面的自然（org.eclipse.core.resources.natures）的唯一ID。</p>
		</td>
		<td width="81" valign="top" style="width:60.6pt;border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
		<p class="MsoNormal" style="margin-left:0cm">是</p>
		</td>
	</tr>


</table>
<p class="MsoNormal"><br>
<br>7.14.2高级架构<br>
<br>7.14.2.1系统概述<br>
<br>MBS中的自定义向导页面子系统负责管理：</p>
<ul>
	<li>系统中存在哪些页面及其相关属性</li>
	<li>是否应根据用户在之前页面中选择的选项（即项目性质，工具链，项目类型）在给定向导中显示页面。</li>
	<li>当用户导航向导时，显示哪些订单页面</li>
	<li>在向导的doRunEpilogue（）方法期间应该与页面关联执行哪些操作。</li>
	
</ul>
<p><br>系统的主要入口点是一个名为MBSCustomPageManager的中央管理器类。 <span>  </span>该类负责管理处理页面数据聚合的类（MBSCustomPageData）。</p>
<p class="MsoNormal">为方便起见，存在向导页面的抽象基类（MBSCustomPage），ISV可以将其子类化以实现允许页面管理器完全控制页面排序的默认行为。</p>
<p class="MsoNormal">以下类图显示了这些新类如何在类层次结构和关联方面适合MBS中的现有向导系统。<br><br>
<img border="0" src="classdiagram.jpeg" width="1454" height="1711" alt="MBS向导系统的高级视图">
</p>
<h5>图12：MBS向导系统的高级视图</h5>
<p><br>如图12所示，有两个MBS向导，一个用于C项目，另一个用于C ++。这些向导最终从CDT核心UI提供的通用向导继承了它们的一些行为。有几个向导页面总是出现在MBS向导中，允许用户为项目选择项目名称，项目位置和MBS项目类型。向导遵从MBSCustomPageManager来处理系统中可能存在的任何自定义页面。</p>
<p><br>7.14.3低级架构</p>
<p><br>深入了解自定义向导页面系统本身，我们看到以下内容：<br>
<br>
<img border="0" src="classdiagram2.jpeg" width="776" height="1052" alt="自定义向导系统的高级视图">
</p>
<h5>图12：自定义向导系统的高级视图</h5>
<p><br>MBSCustomPageManager类是系统的主要入口点。它负责加载提供自定义向导页面的所有扩展，并存储该数据供以后使用。它保留了这些页面的记录列表（MBSCustomPageData），它们充当了需要了解页面的所有内容的存储库，包括它应显示在什么情况下，以及显示页面时应显示的实际IWizardPage。<br>
<br>为方便起见，有一个抽象基类（MBSCustomPage），ISV可以将其子类化以从其页面中获得最常用的行为。最值得注意的是，此类中包含的提供的实现参考MBSCustomPageManager来确定在页面之前和之后出现的向导页面，这对于确保系统中的所有自定义页面应该显示时是必需的。<br>
<br>7.14.3.1 <span>M</span> BSCustomPageManager</p>
<p class="MsoNormal">本课程负责：</p>
<ul>
	<li>维护向导发现的自定义页面集，并允许它们通过字符串ID引用</li>
	<li>管理希望提供给其他页面的页面的已发布数据</li>
	<li>当用户在页面之间导航时，管理向导中自定义页面的可见性和顺序。</li>
</ul>
<p><br>这个班是一个单身人士。所有非构造方法都是静态的。</p>
<p class="MsoNormal">初始化向导时，它会调用MBSCustomPageManager.loadExtensions（）。此方法查找对org.eclipse.cdt.managedbuilder.ui.newWizardPages扩展点的贡献。 <span>  </span>加载的数据用于为发现的每个页面实例化和填充MBSCustomPageData对象。</p>
<p class="MsoNormal">当用户操作向导时，每个页面都可以发布他们希望导出的数据以供其他页面使用，或者由向导页面完成时可能执行的可选Runnable操作使用。
<span>  </span>这是通过addPageProperty（）方法完成的，该方法允许通过字符串键存储字符串数据，使用页面的字符串ID作为一种命名空间。 <span>  </span>其他页面可以通过getPageProperty（）方法检索数据，这是页面相互连接的标准方式。</p>
<p class="MsoNormal">当向导调用它们自己的getNextPage（）和getPreviousPage（）方法时，单个页面应该以某种方式查询管理器的getNextPage（）和getPreviousPage（）方法。 <span>  </span>这允许页面在考虑用户选择（例如项目性质，工具链和项目类型）的同时在彼此之间正确地导航。 <span>  </span>应该注意的是，经理只能在充当顾问角色的情况下做很多事情。 <span>  </span>自定义页面在理论上仍然可以忽略它的存在，尽管强烈建议不要这样做。<br>
<br>
<img border="0" src="MBSCustomPageManager.jpeg" width="243" height="585" alt="MBSCustomPageManager的UML图">
<br>
<br>


</p>
<p><span>7.14.3.2 MBSCustomPageData</span>
<span></span><span></span></p>
<p class="MsoNormal">此类为页面管理器提供数据聚合功能，以在自定义向导页面上存储信息。 <span>  </span>在启动时，页面管理器将所有贡献加载到newWizardPages扩展点，并将加载的数据存储在这些记录中以供以后使用。有一个嵌套类ToolchainData，用于维护给定自定义页面支持的每个工具链的信息。MBSCustomPage管理器调用此类上的各种方法（例如，MBSCustomPageData.shouldBeVisibleForNature（）），以确定何时应该在向导中显示给定页面。<br>
<br>
<img border="0" src="MBSCustomPageData.jpeg" width="238" height="604" alt="MBSCustomPageData的UML图">
</p>
<p><br>
<span>7.14.3.3</span> MBSCustomPage</p>
<p class="MsoNormal">此抽象类提供了IWizardPage接口的方便，部分实现。 <span>  </span>此类提供getNextPage（）和getPreviousPage（）方法的实现，这些方法与页面管理器协商以确定要显示哪些页面。 <span>  </span>如果ISV的自定义页面不是MBSCustomPage的子类，那么它们的页面实现必须仔细编码才能正常运行，同时仍然遵守页面管理器规定的规则。<br>
<br>
<img border="0" src="MBSCustomPage.jpeg" width="199" height="234" alt="MBSCustomPage的UML图">
<br>
<br>7.14.4限制<br>
<br>


<a name="_Toc526070826">目前，ISV无法将其向导页面混合在MBS中定义的向导页面之间，或者在其他插件通常创建的向导页面之间进行混合。 <span>  </span>将来有可能提供一个扩展点，允许ISV为其产品定制这种排序。</a></p>
<p class="MsoNormal"><span>这将是有问题的，因为多个ISV可能尝试在Eclipse / CDT的相同安装中指定这样的排序。</span></p>
<p class="MsoNormal"><span>这也是有问题的，因为某些自定义页面将依赖于所选项目类型或工具链，并且通过重新排序机制，ISV必须小心不要尝试将这些页面放在选择该数据的页面之前。 <span>  </span>如果开发人员重新排序他们自己没有创建的页面，他们必须非常小心地正确地管理这些和其他排序约束。</span></p>
<p class="subsection"><a name="_TocSectionStartup_15"></a> <a name="_TocSectionTutorial_18">7.15定义配置加载的启动行为</a></p>
  <p>工具集成商可能要求插件在加载项目之前包含所有构建配置。使用此接口可确保插件在工作台中加载项目信息之前可以访问构建配置。在加载构建定义之后，可以使用两种方法来访问配置信息，然后在构建定义解析之后再次使用这两种方法。添加为<a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=123275">bug 123275的</a>增强功能。</p>
  <blockquote>
    <p class="style1">公共接口IManagedBuildDefinitionsStartup {</p>
    <blockquote>
      <p class="style1">String BUILD_DEFINITION_STARTUP =“buildDefinitionStartup”; // $ NON-NLS-1 $<br>String CLASS_ATTRIBUTE =“class”; // $ NON-NLS-1 $<br>
        <br>/ **<br>*在构建定义加载之后但在解决之前，您要对构建定义执行的任何工作。<br>* /<br>void buildDefsLoaded（）;<br>
        <br>/ **<br>*解决后，您希望在构建定义上执行的任何工作。<br>* /<br>void buildDefsResolved（）;</p>
    </blockquote>
    <p class="style1">}</p>
  </blockquote>
  <a name="_TocSectionTutorial_18"></a>
  <p> </p>
  <p class="section"><a name="_TocSectionAdvanced">高级功能</a></p>
  <p class="subsection"><a name="_TocSectionAdvanced_1">8.1转换CDT 2.0清单文件</a></p>

<p class="MsoNormal">CDT 2.1托管构建系统（MBS）为工具集成商定义了一个新的对象模型，以便在集成其工具定义时使用。除了ToolChain.scannerInfoCollector属性之外，CDT 3.0模型向上兼容CDT 2.1模型。继续支持CDT 2.0清单文件，但建议集成商尽可能使用新模型。添加到MBS的新功能将添加到新对象模型中，而不一定添加到旧对象模型中。</p>
<p class="MsoNormal" style="margin-top:6.0pt">下图显示了CDT 2.0对象模型。CDT 3.0对象模型在本文档的前面部分显示。</p>
<p class="MsoNormal"> <img src="./image004.gif" title="图12 CDT 2.0托管构建模型元素" alt="架构元素的UML模型" style="border:0px solid"></p>
<h5>图12 CDT 2.0托管构建模型元素</h5>
<p class="MsoNormal">以下是将清单从旧模型转换为新模型的详细说明。</p>
<h3 class="subsection">8.1.1 MBS清单扩展点</h3>
<p class="MsoNormal">旧对象模型定义了org.eclipse.cdt.managedbuilder.core。ManagedBuildInfo扩展点。新模型定义了org.eclipse.cdt.managedbuilder.core.buildDefinitions扩展点。旧模型和新模型定义都可以在同一清单文件中定义，但分配给新模型元素和新模型元素的所有标识符（ID）在MBS中必须是唯一的。无论两个元素是否源自相同或不同的清单文件，它们都不能具有相同的ID。</p>
<p class="MsoNormal" style="margin-top:6.0pt">有关旧模型的示例（org.eclipse.cdt.managedbuilder.ui \ plugin.xml），请参阅CDT 2.0 Gnu工具链定义。有关新模型的示例，请参阅CDT 2.1 Gnu工具链定义。</p>
<h3 class="subsection">8.1.2 MBS 2.0目标元素</h3>
<p class="MsoNormal">新模型未定义目标元素。在2.0清单文件中的目标元素中定义的信息已拆分为新模型中的ProjectType，ToolChain，Builder和TargetPlatform元素。</p>
<p class="MsoNormal" style="margin-top:6.0pt">Target属性<em>name，id，isTest</em>和<em>isAbstract</em>应该转移到新模型中的新ProjectType元素。分配给Target的<em>id</em>必须转移到新的ProjectType元素而不做任何更改。否则，使用与CDT 1.2或2.0.x集成创建的项目将无法转换。转换过程中没有工具集成商干预，但这是CDT 3.0的高优先级。</p>
<h3 class="subsection">8.1.3 MBS 2.0配置元素</h3>
<p class="MsoNormal" style="margin-top:6.0pt">Target元素的Configuration子元素是新ProjectType元素的Configuration子元素。应使用配置传输配置<em>名称</em>和<em>ID</em>属性。分配给配置的<em>id</em>必须保持不变，以支持旧模型项目文件的转换。Target属性<em>artifactName，cleanCommand</em>和<em>errorParsers</em>属性应该传递给Configuration元素。Target <em>defaultExtension</em>属性应作为<em>artifactExtension</em>属性传递给Configuration元素（注意名称更改）。</p>
<p class="MsoNormal" style="margin-top:6.0pt">应创建一个新的ToolChain元素作为每个Configuration元素的子元素。ToolChain的<em>名称</em>和<em>ID</em>不依赖于任何旧模型对象的名称。但是，如果您允许用户使用CDT 2.0清单文件创建CDT 2.1项目，那么新ToolChain的<em>ID</em>必须是父配置<em>ID，</em>后缀为“.toolchain”。Target <em>isAbstract，osList，</em> <em>rchList</em>和<em>scannerInfoCollector</em>属性被传递给ToolChain元素。</p>
<p class="MsoNormal" style="margin-top:6.0pt">可以创建一个新的Builder元素作为每个ToolChain元素的子元素。Builder的<em>名称</em>和<em>ID</em>不依赖于任何旧模型元素的名称。但是，如果您允许用户使用CDT 2.0清单文件创建CDT 2.1项目，那么新Builder的<em>ID</em>必须是父配置<em>ID，并</em>附加“.builder”。目标<em>isAbstract</em>属性被转移到Builder元素。 <em> </em>应将目标<em>makeCommand</em>属性作为<em>命令</em>属性传递给Builder元素（注意名称更改）。 <em>  </em>应将目标<em>makeArguments</em>属性作为<em>arguments</em>属性传递给Builder元素（注意名称更改）。 <em>  </em>应将目标<em>makefileGenerator</em>属性作为<em>buildfileGenerator</em>属性传递给Builder元素（注意名称更改）。</p>
<p class="MsoNormal" style="margin-top:6.0pt">可以创建一个新的TargetPlatform元素作为每个ToolChain元素的子元素。TargetPlatform的<em>名称</em>和<em>ID</em>不依赖于任何旧模型元素的名称。但是，如果您允许用户使用CDT 2.0清单文件创建CDT 2.1项目，则新TargetPlatform的<em>ID</em>必须是父配置<em>ID，并</em>附加“.targetplatform”。目标<em>isAbstract</em>和<em>binaryParser</em>属性被传递给TargetPlatform元素。TargetPlatform元素包含<em>osList</em>和<em>archList</em>属性， <em>这些</em>属性指定Configuration的构建工件执行的体系结构和操作系统。如果适用，您可以传输Target <em>osList</em>和<em>archList</em>属性。</p>
<h3 class="subsection">8.1.4 MBS 2.0工具元素</h3>
<p class="MsoNormal">旧模型允许在清单文件的顶级范围内定义工具。在新模型中仍然如此。此外，新模型允许在清单文件的顶级范围内定义Configuration，ToolChain，Builder和TargetPlatform元素。</p>
<p class="MsoNormal" style="margin-top:6.0pt">在旧模型中，Tool元素也可以指定为Target元素的子元素。在新模型中，Tool元素是ToolChain元素的子元素。需要将旧模型工具元素添加为使用工具的每个ToolChain的子元素。新模型支持所有旧模型工具属性。</p>
<p class="MsoNormal" style="margin-top:6.0pt">分配给工具的<em>id</em>必须保持不变，以支持旧模型项目文件的转换。<em>outputs</em>属性不再默认为空字符串。如果您的工具默认生成没有扩展名的文件，则必须在工具定义或其祖先之一（ <em>superClass</em> ）中指定'outputs =“”'。</p>
<h3 class="subsection">8.1.5 MBS 2.0 ToolReference元素</h3>
<p class="MsoNormal">新模型未定义ToolReference元素。相反，Tool元素可以指定<em>superClass</em>属性以提供相同的功能。也就是说，指定一个工具，该工具从另一个工具继承属性并可以覆盖一个或多个属性。</p>
<p class="MsoNormal" style="margin-top:6.0pt">旧模型以两种方式使用ToolReferences。可以将它们指定为Configuration元素的子元素。在这种情况下，ToolReference应转换为Configuration的ToolChain的Tool元素子元素，将<em>id</em>属性的值传递给Tool <em>superClass</em>属性。</p>
<p class="MsoNormal" style="margin-top:6.0pt">ToolReference也可以指定为Target元素的子元素。在这种情况下，ToolReference适用于Target的所有Configuration子级。这些ToolReference元素需要转换为Tool元素，并添加为使用Tool的每个ToolChain的子元素。</p>
<h3 class="subsection">8.1.6 MBS 2.0选项元素</h3>
<p class="MsoNormal" style="margin-top:6.0pt">新模型支持所有旧模型选项属性。</p>
<p class="MsoNormal" style="margin-top:6.0pt">分配给Option的<em>id</em>必须保持不变，以支持旧模型项目文件的转换。</p>
<h3 class="subsection">8.1.7 MBS 2.0 OptionReference元素</h3>
<p class="MsoNormal">新模型未定义OptionReference元素。相反，Option元素可以指定<em>superClass</em>属性以提供相同的功能。也就是说，指定从另一个Option继承属性并可以覆盖一个或多个属性的Option。</p>
<p class="MsoNormal" style="margin-top:6.0pt">应将所有OptionReference元素转换为Option元素，将<em>id</em>属性的值传递给Option <em>superClass</em>属性。</p>
<h3 class="subsection">8.1.8 MBS 2.0 OptionCategory，EnumeratedOptionValue，ListOptionValue元素</h3>
<p class="MsoNormal">这些元素没有变化。</p>
<h3 class="subsection">8.1.9 MBS 2.0 DynamicElementProvider元素</h3>
<p class="MsoNormal">支持此元素的方式与CDT 2.0中的方式相同，但提供程序返回的动态元素必须使用新的对象模型。</p>
<p class="subsection"><a name="_TocSectionAdvanced_2">8.2支持多个版本的工具链</a></p>
<p>本节将在本文档的未来版本中提供。现在，请参阅bugzilla＃89872中的工具链多版本支持设计文档。</p>
</body>
</html>