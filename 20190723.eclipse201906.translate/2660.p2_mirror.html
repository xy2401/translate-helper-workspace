<html lang="zh-Hans" >
<head>

<meta name="copyright" content="Copyright (c) IBM Corporation and others 2008, 2009. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page.">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="STYLESHEET" href="../book.css" type="text/css" charset="ISO-8859-1">
<title>使用p2镜像存储库</title>
</head>
<body >
<h1>使用p2镜像存储库</h1>
<p>p2提供了两个支持将远程存储库的内容复制（镜像）到本地存储库的应用程序。还有一个<a href="p2_repositorytasks.htm#p2_mirror">p2.mirror ant任务。</a></p>

<h2>镜像工件存储库</h2>
<p>工件镜像应用程序支持将完整的工件存储库复制到目标存储库中。要执行此操作，您只需要一个包含<tt>org.eclipse.equinox.p2.artifact.repository</tt>包的eclipse安装。以下命令将源存储库的完整内容复制到目标存储库中。如果目标存储库尚不存在，则镜像应用程序将创建一个与源具有相同属性的新存储库。</p> 
<pre>
<code>
   &lt;eclipseInstall&gt;\eclipse.exe
   -application org.eclipse.equinox.p2.artifact.repository.mirrorApplication
   -source http://download.eclipse.org/releases/ganymede
   -destination file:d:/artifactLocalRepository/
</code>
</pre>

<h3>参数说明</h3>
<ul>
<li><b>-application org.eclipse.equinox.p2.artifact.repository.mirrorApplication：</b>应用程序ID。</li>
<li><b>-source &lt;source location&gt;</b> ：要镜像的工件存储库。</li>
<li><b>-destination &lt;目标位置&gt;</b> ：镜像到的工件库。</li>
</ul>
 
<h3>其他论点</h3>
<ul>
<li><b>-writeMode clean</b> ：在执行镜像过程之前从目标存储库中删除所有工件。</li>
<li><b>-verbose</b> ：启用错误消息和错误记录。</li>
<li><b>-ignoreErrors</b> ：确保镜像应用程序在镜像过程中发生错误时继续运行。</li>
<li><b>-raw</b> ：指示镜像应用程序将确切的工件描述符从源复制到目标，而不是使用源描述符中的属性初始化新工件描述符。</li>
<li><b>-compare</b> ：指示镜像应用程序在找到重复的工件描述符时执行比较。</li>
<li><b>-comparator &lt;比较器ID&gt;</b> ：指定镜像应用程序应使用哪个比较器来比较工件描述符。如果未定义比较器工件描述符的MD5哈希属性，则使用“MD5 Comparator”。</li>
<li><b>-compareAgainst &lt;baseline location&gt;</b> ：指定已知良好存储库的位置。指定后，镜像应用程序将比较源中的所有工件与基线，并优先考虑基线中找到的工件。</li>
<li><b>-destinationName &lt;目标名称&gt;</b> ：指定目标存储库的名称。如果未指定名称，则如果目标上没有存储库，则源存储库的名称将用作目标的名称。</li>
  <li><b>-references &lt;boolean&gt;</b> ：启用或禁用引用的镜像。默认值为true。</li>
</ul>
 
<h2>镜像元数据存储库</h2>
<p>元数据镜像应用程序支持将完整的元数据存储库复制到目标存储库中。要执行此操作，您只需要一个包含<tt>org.eclipse.equinox.p2.metadata.repository</tt>包的eclipse安装。以下命令将完整的源存储库复制到目标存储库中。如果目标存储库尚不存在，则镜像应用程序将创建一个与源具有相同属性的新存储库。</p> 
<pre>
<code>
    &lt;eclipseInstall&gt;\eclipse.exe
   -application org.eclipse.equinox.p2.metadata.repository.mirrorApplication
   -source http://download.eclipse.org/releases/ganymede
   -destination file:d:/metadataLocalRepository/
</code>
</pre>
 
<h3>参数说明</h3>
<ul>
<li><b>-application org.eclipse.equinox.p2.metadata.repository.mirrorApplication：</b>应用程序ID。</li>
<li><b>-source &lt;source location&gt;</b> ：要镜像的元数据存储库。</li>
<li><b>-destination &lt;destination location&gt;</b> ：镜像到的元数据存储库。</li>
</ul>

<h3>其他论点</h3>
<ul>
<li><b>-writeMode clean：</b>在执行镜像过程之前从目标存储库中删除所有可安装单元。</li>
<li><b>-destinationName &lt;目标名称&gt;</b> ：指定目标存储库的名称。如果未指定名称，则如果目标上没有存储库，则源存储库的名称将用作目标的名称。</li>
<!-- Uncomment when this becomes useful <li><b>-roots: &lt;specified installable units&gt;</b> instructs mirroring application to only 
	mirror specified installable units. The installable units must be defined as Name/Version or Name/(Version Range) and separated by commas.</li> -->
<!-- Uncomment when transitive is implemented <li><b>-transitive:</b> ensures all installable unit's dependencies are satisfied. Adds 
	dependent installable units when necessary. Combined with "-roots" this argument can be used to perform repository slicing.</li> -->
</ul>
</body>
</html>