<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="images/../../../css/book.css" type="text/css"></link>
<link rel="stylesheet" href="images/../../../css/emf-book.css" type="text/css"></link>
<title>在Rose中指定包信息</title>
</head>
<body lang="EN-US" dir="ltr" xml:lang="EN-US">
<h1>在Rose中指定包信息</h1>

<p>当Rational Rose类图用作EMF模型生成的源时，有许多关于每个包的信息都没有在UML中表示，要求生成器从包名中推断出它们。相反，最好将它们直接存储在Rose模型中作为模型属性。</p>

<p>为了说明如何完成，我们将使用<a href="../../tutorials/clibmod/clibmod.html">Generating an EMF Model</a>教程中库模型的略微修改版本： <a href="images/../library.mdl" target="_code">library.mdl</a> 。</p>

<p>模型元素必须属于包。当模型转换为Ecore时，如果包中没有包含任何元素，将为它们创建包，并且将从模型名称推断其属性。</p>

<ul>
<li>请注意，库模型的所有元素都包含在“library”包中。<br>
 <img src="images/rp01.gif" alt="图书馆包" width="241" height="206"><br>
 </li>

<li>模型元素与上一个教程中的相同。<br>
 <img src="images/rp02.gif" alt="类图" width="577" height="403"><br>
 </li>
</ul>

<p>Ecore的附加Rose模型属性在属性文件“ecore.pty”中定义。在我们设置它们之前，我们必须将它们添加到Rose的词汇表中。</p>

<ul>
<li>从“工具”菜单中，选择“模型属性”，然后选择“添加...”。<br>
 <img src="images/rp03.gif" alt="工具/型号属性/添加..." width="246" height="196"><br>
 </li>

<li>属性文件位于“org.eclipse.emf.codegen.ecore”插件的“rose”子目录中。导航到该目录，选择“ecore.pty”，然后单击“打开”按钮。<br>
 <img src="images/rp04.gif" alt="从ecore.pty更新模型属性" width="426" height="264"> 
<br>
 </li>
</ul>

<p>现在可以编辑Ecore包属性。</p>

<ul>
<li>右键单击“library”包，然后从弹出菜单中选择“Open Specification ...”。<br>
 <img src="images/rp05.gif" alt="打开规格......" width="301" height="165"><br>
 </li>

<li>切换到“Ecore”选项卡。要更改属性，只需单击“值”列，然后键入新文本。完成设置属性后，单击“确定”按钮。<br>
 <img src="images/rp06.gif" alt="Ecore属性" width="344" height="401"><br>
 </li>
</ul>

<p>可以设置的属性分为两组：Ecore模型本身的属性，以及驱动代码生成的GenModel的属性。</p>

<p>Ecore属性如下：</p>

<blockquote>
<table cellpadding="8" cellspacing="0" border="0">
<tr>
<td valign="top">包裹名字</td>
<td valign="top">Ecore包的名称，如果与Rose / UML名称不同。如果未设置，则使用转换为小写的Rose包名称。</td>
</tr>

<tr>
<td valign="top">nsPrefix</td>
<td valign="top">包的<a href="http://www.w3.org/TR/REC-xml-names/">XML名称空间</a>的名称空间前缀，在限定名称中用于选择包的名称空间。如果未设置，则使用由以下basePackage限定的packageName的值。</td>
</tr>

<tr>
<td valign="top">nsURI</td>
<td valign="top">标识包的XML名称空间的唯一URI引用。如果未设置，则使用nsPrefix的值，其中“http：///”前置，“。ecore”附加，并且所有“/”转换为“。”s。</td>
</tr>

<tr>
<td valign="top">注解</td>
<td valign="top">要附加到包的任何注释。注释提供了一种灵活的机制，用于将附加信息附加到Ecore模型元素。注释由源标识，唯一的字符串通常是URI，并包括作为详细信息键/值字符串对。它规定如下：<br><br>
<tt>http://www.example.org/sourceURI key1 ='value1'key2 ='value2'...</tt></td>
</tr>
</table>
</blockquote>

<p>GenModel属性如下：</p>

<blockquote>
<table cellpadding="8" cellspacing="0" border="0">
<tr>
<td valign="top">字首</td>
<td valign="top">在此程序包的生成包，工厂，交换机，适配器工厂（以及更多）类的名称中使用的前缀。如果未设置，则使用packageName的值，其首字符大写。</td>
</tr>

<tr>
<td valign="top">basePackage</td>
<td valign="top">生成的包将作为子包的Java包。这允许轻松生成具有全局唯一包名称的代码（无需建模空的嵌套基础包）。如果未设置，则不使用默认值。</td>
</tr>
</table>
</blockquote>

<p>除了这些包属性之外，Ecore属性文件还定义了类，属性，关系和操作的属性，所有这些属性都可以在各自的“规范”对话框的“Ecore”选项卡上找到。</p>
</body>
</html>