<html lang="zh-Hans" dir="ltr">
<head>
<link href="_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen"></link>
<link href="_stock/sysdoc.css" type="text/css" rel="stylesheet" media="print"></link>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
<title>如何使用模板扩展用户界面中的示例模板</title>

   <style type="text/css" media="screen">.ButtonBox {
  background-image: url('_stock/gradient.jpg');
}
</style>
   </head>
   <body dir="ltr">
   <table width="100%" border="0" cellspacing="0" cellpadding="0"><tbody><tr>
   </tr><tr><td class="DocSetBox" width="25%">
   <p> </p>
   </td>
   <td class="ButtonBox" align="right" width="40%">
   <p><a href="../_index/index.html"></a>   
   <a href="Howtoregistertemplates.html"><img height="22" alt="[以前]" src="_stock/btn_prev_wt.gif" width="85" border="0"></a> <a href="index.html"></a></p>
   </td>
   </tr></tbody></table>
   <hr noshade="" size="1">
   <p class="breadcrumbNav"><span class="separator">»</span> <a href="index.html">如何使用模板扩展用户界面</a> <span class="separator">»</span>示例模板</p>

   <hr noshade="" size="1">
   <div class="AuthoredContent">
    

</div><div class="Head1">

<h1>示例模板</h1>
</div><div class="Bodytext">
<p>以下是创建简单Symbian OS <code class="filename">EXE</code>项目的示例模板：</p>
<p class="CodeBlock"><code>&lt;？xml version =“1.0”encoding =“ISO-8859-1”？&gt;<br>&lt;template type =“ProjTempl”version =“1.0”supplier =“Symbian”revision =“1.0”author =“Bala Torati”<br>id =“EXE”label =“Simple EXE”description =“骨干Symbian OS EXE项目。为源创建一个文件夹，为include创建另一个文件夹。“<br>帮助= “help.html”&gt;<br>
<br>&lt;property-group id =“basics”label =“基本设置”description =“项目的基本属性”type =“PAGES-ONLY”help =“help.html”&gt;<br>
        <br>&lt;property id =“uid2”<br>label =“UID 2”<br>description =“UID 2”<br>默认值=“00000000”<br>类型=“输入”<br>图案= “0X [0-9A-FA-F] {8}”<br>隐藏=“假”<br>强制性=“真”<br>坚持= “真”/&gt;<br>
        <br>&lt;property id =“uid3”<br>label =“UID 3”<br>description =“UID 3”<br>默认值=“00000000”<br>类型=“输入”<br>图案= “0X [0-9A-FA-F] {8}”<br>隐藏=“假”<br>强制性=“假”<br>坚持= “真”/&gt;<br>
<br>&lt;property id =“vid”<br>label =“供应商ID”<br>description =“供应商ID”<br>默认值=“00000000”<br>类型=“输入”<br>图案= “0X [0-9A-FA-F] {8}”<br>隐藏=“假”<br>强制性=“真”<br>坚持= “真”/&gt;<br>
<br>&lt;property id =“author”<br>标签=“作者”<br>description =“作者姓名”<br>类型=“输入”<br>图案= “*”<br>默认值=“”<br>隐藏=“假”<br>坚持= “真”/&gt;<br>
<br>&lt;property id =“copyright”<br>label =“版权声明”<br>description =“您的版权声明”<br>类型=“输入”<br>图案= “*”<br>default =“您的版权声明”<br>隐藏=“假”<br>坚持= “真”/&gt;<br>
<br>&lt;property id =“targetType”<br>label =“目标类型”<br>description =“选择目标类型”<br>类型=“选择”<br>默认为“应用程序”<br>隐藏=“假”<br>强制性=“真”<br>坚持=“真”&gt;<br>&lt;item label =“APP”value =“app”/&gt;<br>&lt;item label =“LIB”value =“lib”/&gt;<br>&lt;item label =“DLL”value =“dll”/&gt;<br>&lt;item label =“EXE”value =“exe”/&gt;<br>&lt;item label =“EXEDLL”value =“exedll”/&gt;<br>&lt;/属性&gt;<br>&lt;/属性组&gt;<br>
<br>&lt;property-group id =“directories”label =“项目目录”description =“生成的文件将被复制到项目根目录下的指定目录”type =“PAGES-ONLY”help =“help.html”&gt;<br>&lt;property id =“incDir”<br>标签=“包含”<br>description =“C ++头文件的目录”<br>类型=“输入”<br>默认为“公司”<br>图案= “[A-ZA-Z0-9] +”<br>强制性=“真”<br>坚持= “真”/&gt;<br>
<br>&lt;property id =“sourceDir”<br>标签=“源”<br>description =“C ++源文件的目录”<br>类型=“输入”<br>默认为“SRC”<br>图案= “[A-ZA-Z0-9] +”<br>强制性=“真”<br>坚持= “真”/&gt;<br>&lt;/属性组&gt;<br>
    <br>&lt;process type =“org.eclipse.cdt.managedbuilder.core。NewManagedProject“&gt;<br>&lt;simple name =“name”value =“$（projectName）”/&gt;<br>&lt;simple name =“targetType”value =“$（targetType）”/&gt;<br>&lt;simple name =“uid2”value =“$（uid2）”/&gt;<br>&lt;simple name =“uid3”value =“$（uid3）”/&gt;<br>&lt;simple name =“vid”value =“$（vid）”/&gt;<br>&lt;/过程&gt;<br>
<br>&lt;process type =“org.eclipse.cdt.core。CreateSourceFolder“&gt;<br>&lt;simple name =“projectName”value =“$（projectName）”/&gt;<br>&lt;simple name =“path”value =“$（sourceDir）”/&gt;<br>&lt;/过程&gt;<br>
<br>&lt;process type =“org.eclipse.cdt.managedbuilder.core。CreateIncludeFolder“&gt;<br>&lt;simple name =“projectName”value =“$（projectName）”/&gt;<br>&lt;simple name =“path”value =“$（incDir）”/&gt;<br>&lt;/过程&gt;<br>
<br>&lt;process type =“org.eclipse.cdt.core。AddFiles“&gt;<br>&lt;simple name =“projectName”value =“$（projectName）”/&gt;<br>&lt;complex-array name =“files”&gt;<br>&lt;元件&gt;<br>&lt;simple name =“source”value =“inc / Basename.h”/&gt;<br>&lt;simple name =“target”value =“$（incDir）/ $（baseName）.h”/&gt;<br>&lt;simple name =“replaceable”value =“true”/&gt;<br>&lt;/元件&gt;<br>&lt;元件&gt;<br>&lt;simple name =“source”value =“src / Basename.cpp”/&gt;<br>&lt;simple name =“target”value =“$（sourceDir）/ $（baseName）.cpp”/&gt;<br>&lt;simple name =“replaceable”value =“true”/&gt;<br>&lt;/元件&gt;<br>&lt;/复杂阵列&gt;<br>&lt;/过程&gt;<br>
<br>&lt;process type =“org.eclipse.cdt.managedbuilder.core。AppendToMBSStringListOptionValues“&gt;<br>&lt;simple name =“projectName”value =“$（projectName）”/&gt;<br>&lt;complex-array name =“resourcePaths”&gt;<br>&lt;元件&gt;<br>&lt;simple name =“id”value =“。* linker \ .libraries \ .libraries。*”/&gt;<br>&lt;simple-array name =“values”&gt;<br>&lt;element value =“euser.lib”/&gt;<br>&lt;/简单阵列&gt;<br>&lt;simple name =“path”value =“”/&gt;<br>&lt;/元件&gt;<br>&lt;/复杂阵列&gt;<br>&lt;/过程&gt;<br>&lt;/模板&gt;</code></p>
<p>上面给出的模板分别复制<code>src</code>和<code>inc</code>文件夹中的以下源（ <code class="filename">.cpp</code> ）和头文件（ <code class="filename">.h</code> ）。这些文件使用一组宏来获取开发人员为文件名，作者姓名，版权等指定的值。</p>
<p class="CodeBlock"><code>/ *<br>================================================== ==========================<br>名称：$（baseName）.cpp<br>作者：$（作者）<br>版本：<br>版权：$（版权）<br>描述：Exe源文件<br>================================================== ==========================<br>* /<br>
<br>//包含文件<br>
<br>#include“$（baseName）.h”<br>#include &lt;e32base.h&gt;<br>#include &lt;e32std.h&gt;<br>#include &lt;e32cons.h&gt; //控制台<br>
<br>
<br>//常数<br>
<br>_LIT（KTextConsoleTitle，“Console”）;<br>_LIT（KTextFailed，“失败，请假代码=％d”）;<br>_LIT（KTextPressAnyKey，“[按任意键] \ n”）;<br>
<br>
<br>//全局变量<br>
<br>LOCAL_D CConsoleBase * console; //将所有消息写入此消息<br>
<br>
<br>//本地函数<br>
<br>LOCAL_C void MainL（const TDesC＆aArgs）<br>{<br>//<br>//在这里添加程序代码，下面是示例代码<br>//<br>console-&gt; Write（_L（“你好，世界！\ n“））;<br>console-&gt; Printf（_L（“命令行参数：\”％S \“\ n”）和＆aArgs）;<br>}<br>
<br>
<br>LOCAL_C void DoStartL（）<br>{<br>//创建活动调度程序（运行活动对象）<br>CActiveScheduler * scheduler = new（ELeave）CActiveScheduler（）;<br>清理栈:: PushL（调度）;<br>CActiveScheduler ::安装（调度）;<br>
<br>//使用命令行调用main函数<br>TBuf &lt;256&gt; cmdLine;<br>RProcess（）。的CommandLine（CMDLINE）;<br>成为内地（CMDLINE）;<br>
<br>//删除活动的调度程序<br>清理栈:: PopAndDestroy（调度）;<br>}<br>
<br>
<br>//全局函数<br>
<br>GLDEF_C TInt E32Main（）<br>{<br>//创建清理堆栈<br>__UHEAP_MARK;<br>CTrapCleanup * cleanup = CTrapCleanup :: New（）;<br>
<br>//创建输出控制台<br>TRAPD（createError，console = Console :: NewL（KTextConsoleTitle，TSize（KConsFullScreen，KConsFullScreen）））;<br>if（createError）<br>return createError;<br>
<br>//在TRAP线束内运行应用程序代码，终止时等待按键<br>TRAPD（mainError，DoStartL（））;<br>if（mainError）<br>console-&gt; Printf（KTextFailed，mainError）;<br>控制台 - &gt; printf的（KTextPressAnyKey）;<br>控制台 - &gt;的getch（）;<br>
    <br>删除控制台;<br>删除清理;<br>__UHEAP_MARKEND;<br>返回KErrNone;<br>}</code></p>
<p class="CodeBlock"><code>/ *<br>================================================== ==========================<br>名称：$（baseName）.h<br>作者：$（作者）<br>版本：<br>版权：$（版权）<br>描述：Exe头文件<br>================================================== ==========================<br>* /<br>
<br>#ifndef __ $（baseName）_H__<br>#define __ $（baseName）_H__<br>
<br>
<br>//包含文件<br>
<br>#include &lt;e32base.h&gt;<br>
<br>
<br>//功能原型<br>
<br>GLDEF_C TInt E32Main（）;<br>
<br>
<br>#endif // __ $（baseName）_H__</code></p>
<p>当开发人员在“新建项目”向导中选择上述模板时，将生成以下向导页面：</p>
<div class="Figure">
	<p class="Image"><a name="Basic Settings"><img alt="基本设置" src="_stock/basicsettings.gif" border="0"></a></p>
<p class="Caption">基本设置</p>
</div>
<div class="Figure">
	<p class="Image"><a name="Project Directories"><img alt="项目目录" src="_stock/projectdirectories.gif" border="0"></a></p>
<p class="Caption">项目目录</p>
</div>
<p>上述给定页面中列出的输入字段与模板中给出的定义一致。在模板中，ID为“basics”的<code>property-group</code>元素定义了<code class="ProgramOutput">Basic Settings</code>页面所需的所有输入字段。具有ID“directories”的<code class="ProgramOutput">property-group</code>元素定义了<code class="ProgramOutput">Project Directories</code>页面所需的所有输入字段。
</p>
<p>该模板将在Eclipse工作区中创建一个包含所有必需资源的Symbian OS <code class="filename">EXE</code>项目。
</p>
<p>以下<code class="ProgramOutput">C/C++ Projects</code>视图显示了New Project向导为上面给出的模板创建的资源：</p>
<div class="Figure">
	<p class="Image"><a name="Explorer view"><img alt="Explorer视图" src="_stock/explorerview.gif" border="0"></a></p>
<p class="Caption">Explorer视图</p>
</div> 

   </div><div class="Footer">
   <hr noshade="" size="1">
   <table cellpadding="0" cellspacing="0" border="0" width="100%">
     <tr>
       <td class="ButtonBottomBox" align="right" height="12" width="67%">
         <p>
	 <a href="Howtoregistertemplates.html"><img height="22" alt="[以前]" src="_stock/btn_prev.gif" width="85" border="0"></a>
	 <a href="#_top"><img height="22" alt="[最佳]" src="_stock/btn_top.gif" width="51" align="bottom" border="0"></a> 
           <a href="index.html"></a>
         </p>
       </td>
     </tr>
   </table>
   </div>
   </body>
   </html>