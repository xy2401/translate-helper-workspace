<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
		<title>Valgrind用户指南 - 使用Cachegrind</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"></link>
	</head>
	<body dir="ltr">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<th align="center" colspan="3" style="width:100%">使用Cachegrind</th>
			</tr>
			<tr>
				<td align="left" style="width:20%">
					<a href="Using-Massif.html" title="使用Massif">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%"></td>
				<td align="right" style="width:20%">
					<a href="Using-Helgrind.html" title="使用Helgrind">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">使用Massif</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">使用Helgrind</td>
			</tr>
		</table><hr class="navigation-separator">
		<h1 id="Using_Cachegrind">使用Cachegrind</h1>
		<p>Cachegrind执行缓存和分支分析。Cachegrind配置文件运行测量应用程序执行的高速缓存未命中和分支错误预测的数量。Cachegrind收集以下统计信息：</p>
		<ul>
			<li>L1指令缓存读取和未命中</li>
			<li>L1数据高速缓存读取和读取未命中，写入和写入未命中</li>
			<li>L2统一高速缓存读取和读取未命中，写入和写入未命中</li>
			<li>条件分支和错误预测的条件分支</li>
			<li>间接分支和错误预测的间接分支</li>
		</ul>
		<p>要使用Cachegrind，请导航到“性能<u>分析工具”</u> &gt;“ <u>配置文件配置”</u>以访问“ <b><i>配置文件配置”</i></b>菜单。打开<b><i>Valgrind选项选项</i></b>卡，然后从<b><i>要运行</i></b>的<b><i>工具：</i></b>下拉列表中选择Cachegrind。
			<br>
			<img border="0" src="images/SwitchCachegrind.png">
		</p>
		<h2 id="Analyzing_Cachegrind_Profile_Results">分析Cachegrind配置文件结果</h2>
		<p>Cachegrind配置文件运行的结果显示在Valgrind视图中。这些结果显示Cachegrind的缓存/分支数据具有不同的粒度级别。双击任何文件，函数或行将打开相应的源文件并将光标放在适当的位置（如果可以解析源）。</p>
		<p>
			<br>
			<img border="0" src="images/CachegrindOutput.png">
		</p>
		<h2 id="Configuring_a_Cachegrind_Profile_Run">配置Cachegrind配置文件运行</h2>
		<p>要配置Massif配置文件运行，请导航到“性能<u>分析工具”</u> &gt;“ <u>配置文件配置”</u>以访问“ <b><i>配置文件配置”</i></b>菜单。在<b><i>Valgrind选项选项</i></b>卡中，进一步导航到<b><i>Cachegrind选项</i></b> 。
			<br>
			<img border="0" src="images/CachegrindOptions.png">
		</p>
		<p><b><i>Cachegrind Options选项</i></b>卡允许您配置以下Cachegrind选项：</p>
		<ul>
			<li>
				<b><i>配置文件缓存访问/未命中</i></b>与<code>--cache-sim=</code>命令行选项<code>--cache-sim=</code> ，后者指定是否收集缓存访问和未命中计数。默认情况下启用此选项。
			</li>
		</ul>
		<ul>
			<li>
				<b><i>Profile Branch Instructions / Mispredictions</i></b>与<b><i>Cachegrind</i></b>命令行选项<code>--branch-sim=</code> ，它指定是否收集分支指令和错误预测计数。默认情况下禁用此选项。
			</li>
		</ul>
		<ul>
			<li>“ <u>手动设置缓存规范”</u>框中的选项允许您配置以下缓存的大小，关联性和行大小：<ul>
					<li>
						<b>l1</b> （1级指令）缓存</li>
					<li>
						<b>D1</b> （1级数据）缓存</li>
					<li>
						<b>L2</b> （2级）缓存</li>
				</ul>
			</li>
		</ul>
		<p>有关Eclipse Valgrind插件中每个Cachegrind选项的更多信息，请参阅<code>man valgrind</code> 。</p><hr class="navigation-separator">
		<table class="navigation" border="0" style="width:100%" summary="navigation">
			<tr>
				<td align="left" style="width:20%">
					<a href="Using-Massif.html" title="使用Massif">
						<img alt="以前" border="0" src="../../../images/prev.gif">
					</a>
				</td>
				<td align="center" style="width:60%">
					<a href="User-Guide.html" title="Valgrind用户指南">
						<img alt="Valgrind用户指南" border="0" src="../../../images/home.gif">
					</a>
				</td>
				<td align="right" style="width:20%">
					<a href="Using-Helgrind.html" title="使用Helgrind">
						<img alt="下一个" border="0" src="../../../images/next.gif">
					</a>
				</td>
			</tr>
			<tr>
				<td align="left" valign="top" style="width:20%">使用Massif</td>
				<td align="center" style="width:60%"></td>
				<td align="right" valign="top" style="width:20%">使用Helgrind</td>
			</tr>
		</table>
	</body>
</html>