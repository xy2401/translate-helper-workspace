<html dir="ltr">
<head>
   <meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2013. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></meta>
   <link rel="stylesheet" href="../../../book.css" type="text/css" charset="ISO-8859-1"></link>
   <title>XML比较插件</title>
</head>
<body dir="ltr">
<center><h1>Eclipse Platform XML比较</h1></center>XML Compare插件允许您执行两个XML文档的结构比较。它返回一个差异树，指示已添加或删除了哪些XML元素，以及 - 对于已修改的XML元素 - 有关属性或正文的差异。
<h2>安装插件</h2>
<ul>
<li>将文件夹<tt>org.eclipse.compare.examples.xml</tt>复制到Eclipse的<tt>plugins</tt>子文件夹中。
</li></ul>
<h2>使用插件</h2>在将文件与扩展名.cxml进行比较时，会自动使用该插件。原因是该插件说明了如何注册比较合并查看器和其他查看器，而不是提供真实XML文件本身的比较。
<br>默认情况下，XML比较使用<em>无序</em>比较方法，该方法忽略XML元素在文档中出现的顺序并与它们匹配，以便匹配最相似的元素。还有一个<em>Ordered</em> compare方法，它只是简单地按照它们在文档中出现的顺序来比较XML元素。在大多数情况下，这种比较方法没有多大用处。
<br>可以从结构视图工具栏中的下拉列表更改比较方法。
<br>
<br>当XML文档包含可以由属性或子元素的文本唯一标识的元素时，建议为此类型的XML文档创建ID映射方案。
<br>
<br>有关使用插件的更多信息，请参阅<a href="tutorial_and_examples.html">教程和示例</a> 。
<br>
<h3>ID映射方案</h3>ID映射方案为XML元素指定唯一标识此元素的子元素的属性或文本。这确保了 - 在比较过程中 - 正确的元素将被匹配并因此相互比较。如果对于XML元素没有指定ID映射，则使用通用匹配算法。但是，这种通用匹配算法并不总能返回所需的结果。其原因在于通用匹配算法寻找两个解析树的节点的匹配以进行比较以最小化差异。效果是通常两个XML元素匹配在结构上相似但代表两个完全不同的信息实体。
<br>
<h3>订购的条目</h3>当使用默认的无序比较（有或没有id映射）时，有时需要指定某些元素的子元素以通常无序方法的有序方式intead进行比较。例如，在比较ANT文件时， <tt>目标</tt>元素的子项的出现顺序很重要。
<br>在这种情况下，可以创建<i>Ordered条目</i> 。Ordered条目指定由其路径标识的xml元素的直接子元素将按有序方式进行比较（但属性仍以无序方式进行比较）。除非另有说明，否则这些儿童的子女将继续以无序方式进行比较。
<h3>定义ID映射方案和有序条目</h3>ID映射方案可以通过三种不同的方式创建：<ol>
<li>通过扩展扩展点<a href="idMapping.html"><em>idMapping</em></a></li>
<li>使用<a href="PreferencePage.gif">XML Compare Preference页面</a> 。</li>
<li>使用工具栏和<a href="IDMapContextMenu.gif">上下文菜单</a>中的“ <a href="CreateNewIDMapButton.gif">创建新的Id地图方案”按钮</a>
</li></ol>方法1创建所谓的<em>内部</em>映射方案。无法在运行时编辑内部ID映射方案。但是，使用“首选项”页面中的“ <a href="EditCopy.gif"><em>编辑副本”</em></a>按钮，可以创建内部ID映射方案的可编辑副本。
<br>方法2和3创建所谓的<em>用户</em>映射方案。这些是由用户在运行时创建的，可以在“首选项”页面中随时修改。
<p>内部和用户映射方案可以与文件扩展名相关联。因此，在将两个XML文件与此文件扩展名进行比较时，将自动使用具有此扩展名的特定ID映射方案。
<br>
<br>在创建或编辑特定XML元素的ID映射时，必须指定四个项目（请参阅<a href="IDMap_NewMapping_PreferencePage.gif">示例</a> ）：</p><ol>
<li>元素名称。</li>
<li>元素路径。这是从XML文档的根到元素的父元素的元素的路径。</li>
<li>用于标识元素的id的名称</li>
<li>第3点中的id名称是元素的属性名称还是其子项之一的名称（在这种情况下，此子元素的文本将用作id）。</li>
</ol>
<br>
<hr width="100%">
<h1>扩展点</h1>XML Compare插件中只有一个扩展点可用。它用于创建内部ID映射方案：<ul>
<li>
<a href="idMapping.html">org.eclipse.compare.examples.xml.idMapping</a></li>
</ul>
</body>
</html>