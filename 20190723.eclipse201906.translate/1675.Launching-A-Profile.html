<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>OProfile User Guide - Launching A Profile</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Launching A Profile</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Installation-and-Set-Up.html" title="Installation and Set-Up">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Profiling-Configuration.html" title="Profiling Configuration">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Installation and Set-Up</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Profiling Configuration</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Launching_A_Profile">Launching A Profile</h1>
		<p>The purpose of the OProfile plug-in is to provide useful profile information in a user-friendly manner. To do this, it first gathers the required information. The plug-in hooks into the Eclipse and CDT's launching facilities; in doing so, profiling becomes as easy as a normal run of your program. </p>
		<p>During a profile run, the OProfile plug-in will start, stop and perform other OProfile tasks in the background as needed, while the binary being profiled runs as normal. Currently, it is possible to start profiling when a user binary is run and stop after the binary has returned as well as the ability to start/stop profiling at arbitrary times.</p>
		<h2 id="One-Click_Launch">One-Click Launch</h2>
		<p>Most users are interested in profiling where a program spends the most CPU time during execution. The OProfile plug-in for Eclipse includes a 
			<i>one-click launch</i> feature which profiles this. The one-click launch sets appropriate defaults for a profile configuration using the 
			<i>execution time</i> event, and launches the profile with no further required user intervention.
		</p>
		<p>To use the one-click launch, right click on the 
			<i>project</i>, the 
			<i>binary</i> or in an 
			<i>open editor</i> for a source file belonging to that project. Here there are two ways to start a launch:
		</p>
		<p>Navigating to <u>Profiling Tools</u> and clicking <u>Profile With OProfile</u></p>
		<p>
			<img border="0" src="images/Oprofile_original_submenu.png"/>
		</p>
		<p>or navigating to <u>Profiling Tools</u>, clicking on <u>Profile Timing</u> and setting the timing tools to be Oprofile.</p>
		<p>
			<img border="0" src="images/Callgraph_timing_submenu.png"/>
		</p>
		<p>To properly set the preferences you can go to 
			<b>C/C++-&gt;Profiling-&gt;Categories-&gt;Timing</b> and set the default timing tool to be Oprofile.
		</p>
		<p>
			<img border="0" src="images/Oprofile_global_prefs.png"/>
		</p>
		<p>Alternatively, you can set project specific preferences which override workspace preferences by using project 
			<b>Properties-&gt;C/C++ General-&gt;Profiling Categories-&gt;Timing</b>. 
		</p>
		<p>
			<img border="0" src="images/Oprofile_proj_prefs.png"/>
		</p>
		<p>You can also profile your application using Profile as...-&gt;Local C/C++ Application whereby you have set the profiling tool in the Profiler tab to be Oprofile. </p>
		<p>
			<img border="0" src="images/Oprofile_tab.png"/>
		</p>
		<h2 id="Launching_a_Customized_Profile">Launching a Customized Profile</h2>
		<p>The OProfile plug-in allows you to configure a profile run using several available OProfile options. These options are exposed via the launch configuration in a user-friendly manner, allowing for a more complex profile. </p>
		<p>To customize a profile, right click on the 
			<i>project</i>, the 
			<i>binary</i> or in an 
			<i>open editor</i> for a source file belonging to that project. Then, navigate to <u>Profiling Tools</u> &gt; <u>Profile Configurations...</u> to open the 
			<b>
				<i>Profile Configurations</i>
			</b> menu. Refer to the 
			<a href="Profiling-Configuration.html#Profiling_Configuration">Profiling Configuration</a> section for more information about configuring a profile. 
		</p>
		<p>After configuring a profile, click the <u>Profile</u> button to launch the profile.</p>
		<h2 id="Manual_Profile">Manual Profile</h2>
		<p>As of the 0.3.0 release, users can profile their applications in two ways: an automatic or manual profile. Automatic is the previously described method whereby the OProfile daemon is started before the binary is launched and stopped after the binary returns. A manual profile configures the daemon with the appropriate settings, but instead a control dialog is available which the user can use to start or stop the OProfile daemon at will. Each mode has their own configuration type and icon, as to disambiguate the type of profile an entry in the profile history. A feedback list in the dialog assures the user that the operations have been received, since at times an operation may take a few seconds to complete. This feature is most useful to profile applications which halt on input, or large applications for which it is undesirable to launch and return several times. It is not recommended to use this feature to only profile when you believe your application is spending time; the statistical nature of OProfile will account for this.</p>
		<p>
			<img border="0" src="images/Oprofile_manual_dialog.png"/>
		</p>
		<p>
			<img border="0" src="images/Oprofile_manual_shortcut.png"/>
		</p>
		<p>The basic workflow to run manual OProfile is</p>
		<ol>
			<li>Profile -&gt; Profile with OProfile (Manual)</li>
			<li>On control dialog, hit "Start Daemon"</li>
			<li>Run the application binary</li>
			<li>On control dialog, hit "Refresh View" (Oprofile view should be refreshed with profiling data)</li>
			<li>On control dialog, hit "Stop Daemon"</li>
		</ol><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Installation-and-Set-Up.html" title="Installation and Set-Up">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="OProfile User Guide">
						<img alt="OProfile User Guide" border="0" src="../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Profiling-Configuration.html" title="Profiling Configuration">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Installation and Set-Up</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Profiling Configuration</td>
			</tr>
		</table>
	</body>
</html>