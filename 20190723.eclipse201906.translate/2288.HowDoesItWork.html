<html dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<title>它是如何工作的？</title>
<link href="book.css" rel="stylesheet" type="text/css"></link>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1"></meta>
<link rel="home" href="index.html" title="OCL Documentation"></link>
<link rel="up" href="OverviewandGettingStarted.html" title="Overview and Getting Started"></link>
<link rel="prev" href="OverviewandGettingStarted.html" title="Overview and Getting Started"></link>
<link rel="next" href="EclipseOCLisExtensible.html" title="Eclipse OCL is Extensible"></link>
</head>
<body bgcolor="white" dir="ltr" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">它是如何工作的？</h1>
<div class="section" title="它是如何工作的？">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="HowDoesItWork"></a>它是如何工作的？</h2>
</div>
</div>
</div>
<p>OCL是一种编程语言，因此您需要编辑，执行和调试它。</p>
<div class="section" title="编辑">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Editing"></a>编辑</h3>
</div>
</div>
</div>
<p>Eclipse OCL支持语义检查的OCL表达式的输入</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="OCLinEcore.html" title="OCLinEcore语言">OCLinEcore</a>编辑器嵌入Ecore中</p>
</li>
<li class="listitem">
<p>作为使用<a class="link" href="CompleteOCL.html" title="完整的OCL语言">Complete OCL</a>编辑器的补充文档</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="InteractiveOCL.html" title="安慰">Interactive OCL</a>控制台进行交互式输入和评估。
						</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="ProgrammersGuide.html" title="经典Ecore / UML程序员指南">Java API进行</a>编程输入和评估
						
</p>
</li>
</ul>
</div>
<p>EMF支持未经检查的OCL的输入</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用Sample Ecore Editor属性视图嵌入Ecore中</p>
</li>
</ul>
</div>
<p>Eclipse UML支持输入未经检查的OCL</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用UML模型编辑器属性视图嵌入UML OpaqueExpressions中</p>
</li>
</ul>
</div>
<p>
					
<a class="link" href="OCLinPapyrus.html" title="UML中的OCL（使用Papyrus）">Papyrus</a>支持输入语义检查的OCL表达式</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="EssentialOCL.html" title="基本的OCL语言">Essential OCL</a>编辑器嵌入UML OpaqueExpressions中</p>
</li>
</ul>
</div>
</div>
<div class="section" title="执行">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Execution"></a>执行</h3>
</div>
</div>
</div>
<p>Eclipse OCL支持OCL执行</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="InteractiveOCL.html" title="安慰">Interactive OCL</a>控制台进行交互式输入和评估。
						</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="ProgrammersGuide.html" title="经典Ecore / UML程序员指南">Java API进行</a>编程输入和评估
						
</p>
</li>
</ul>
</div>
<p>EMF对生成的模型的支持使OCL能够执行</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="ProgrammersGuide.html" title="经典Ecore / UML程序员指南">Java API的</a>约束，操作体和属性初始值设定项
						
</p>
</li>
</ul>
</div>
<p>EMF对动态模型的支持使OCL能够执行</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="Delegates.html#ValidationDelegate" title="验证代表">Validation Delegate</a> API的约束</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="Delegates.html#InvocationDelegate" title="调用代表">Invocation Delegate</a> API的操作主体</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="Delegates.html#SettingDelegate" title="Setting Delegates">Setting Delegate</a> API创建属性初始<a class="link" href="Delegates.html#SettingDelegate" title="设置代表">值设定项</a></p>
</li>
<li class="listitem">
<p>使用<a class="link" href="Delegates.html#QueryDelegate" title="Query Delegates">Query Delegate</a> API进行<a class="link" href="Delegates.html#QueryDelegate" title="查询代表">查询</a></p>
</li>
</ul>
</div>
<p>通常会解释所有OCL执行，并从OCL源文本（具体语法）开始。因此，第一次解析开销以创建编译形式（抽象语法）。缓存编译的表单以避免重复的解析成本。</p>
<p>可以直接使用直接Java代码生成器，如<a class="link" href="CodeGenerationTutorial.html" title="代码生成教程">代码生成器教程中所述</a> 。
				</p>
</div>
<div class="section" title="调试">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Debugging"></a>调试</h3>
</div>
</div>
</div>
<p>由于OCL嵌入在较大的环境中，因此不容易为OCL提供单独的调试。<a class="link" href="Debugger.html" title="调试器（Luna中的新功能）">OCL调试器</a>提供了各种启动机制，可以重用模型元素和/或约束选择。
				</p>
<p>或者，以下方法在其他toosl中可能是有用的</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用语义编辑器中的悬停文本来理解表达式类型</p>
</li>
<li class="listitem">
<p>使用语义编辑器中的快速修复程序进行可能的更正</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>如果多次建议使用相同的修复程序，请尝试重新启动编辑器</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>在语义编辑器中使用完成辅助来获取可能的语法</p>
</li>
<li class="listitem">
<p>使用中间不变量来检查部分结果</p>
</li>
<li class="listitem">
<p>使用可选的解释消息为不变量提供'printf'</p>
</li>
<li class="listitem">
<p>使用<a class="link" href="InteractiveOCL.html" title="安慰">Interactive Xtext OCL</a>控制台在模型上练习有问题的表达式</p>
</li>
</ul>
</div>
</div>
<div class="section" title="测试">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Testing"></a>测试</h3>
</div>
</div>
</div>
<p>再一次，由于OCL被嵌入在更大的环境中使用，因此单独为OCL提供测试并不容易。以下方法可能有用。</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>使用<a class="link" href="InteractiveOCL.html" title="安慰">Interactive Xtext OCL</a>控制台练习模型上有问题表达式的子表达式</p>
</li>
</ul>
</div>
<p>Eclipse OCL开发使用扩展的JUnit框架，该框架允许通过断言测试Eclipse OCL代码，例如：</p>
<div class="literallayout">
<p>
<code class="code">assertQueryInvalid（null，“let b：Boolean = null in true and b”）;<br>assertQueryResults（null，“Set {'b'}”，“Set {'a'，'b'，'c'}  -  Set {'c'，'a'}”）;<br>

</code>
</p>
</div>
<p>（null第一个参数可以是上下文对象。）</p>
<p>有关更多详细信息，请参阅org.eclipse.ocl.examples.xtext.tests插件。</p>
</div>
</div>
</body>
</html>