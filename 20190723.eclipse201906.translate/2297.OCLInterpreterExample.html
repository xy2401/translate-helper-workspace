<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>OCL解释器示例</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="Examples.html" title="Examples">
<link rel="prev" href="CompleteOCLTutorialExampleProject.html" title="Complete OCL Tutorial Example Project">
<link rel="next" href="ProgrammersGuide.html" title="Classic Ecore/UML Programmers Guide">
</head>
<body bgcolor="white"  text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">OCL解释器示例</h1>
<div class="section" title="OCL解释器示例">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear:both">
<a name="OCLInterpreterExample"></a> OCL解释器示例</h2>
</div>
</div>
</div>
<div class="section" title="介绍">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Introduction"></a>介绍</h3>
</div>
</div>
</div>
<p>此示例说明了使用通用OCL Parser API来解析和评估SDK中的OCL查询表达式和约束。它演示了如何创建OCL表达式并根据库模型实例的元素或针对Ecore和UML元素对它们进行评估。对于Ecore和UML模型，可以使用解析（不评估）模型级（OMG建模堆栈中的M1）约束的另一选项。</p>
</div>
<div class="section" title="参考">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="References4"></a>参考</h3>
</div>
</div>
</div>
<p>请参阅文档<a class="ulink" href="ExamplesOverview" target="_new">对象约束语言示例概述，</a>以查看用作演示此示例中功能的基础的库元模型。
				</p>
</div>
<div class="section" title="描述">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Description"></a>描述</h3>
</div>
</div>
</div>
<p>此示例插件名为<code class="code">org.eclipse.emf.ocl.examples.interpreter</code> 。此插件将<code class="code">OCL Interpreter</code>菜单添加到库编辑器的主菜单和上下文菜单中。菜单有一个项目：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
							
<code class="code">Show Console</code> ：打开交互式OCL控制台。
						</p>
</li>
</ul>
</div>
<p>有关查看此示例中的代码示例，请参阅教程<a class="link" href="OCLInterpreterTutorial.html" title="使用经典OCL">OCL Interpreter Tutorial</a> 。
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/3200-lib_editor_contrib.png"></div>
<p>
				
</p>
<p>控制台中的底部字段接受OCL表达式（支持注释）。您可以按<span class="bold"><strong>Enter键</strong></span>来评估当前选定的元素。您可以按<span class="bold"><strong>Ctrl + Enter</strong></span>或<span class="bold"><strong>Shift + Enter</strong></span>以插入换行符。顶部字段显示输出和错误。可以通过<span class="bold"><strong>橡皮擦</strong></span>按钮清除控制台，并通过<span class="bold"><strong>X</strong></span>按钮关闭控制台。
				</p>
<p>由于<code class="code">EXTLibrary</code>模型基于Ecore元模型，因此请确保在控制台的工具栏中选择<code class="code">Ecore</code>元模型。还要确保选择<code class="code">M2</code>建模级别，因为<code class="code">EXTLibrary</code>不是元模型，因此它的实例不是模型。因此，我们创建的OCL表达式将以Ecore元模型为目标，作为EXTLibrary模型的模型。
				</p>
<p>键入任何“ <code class="code">.</code> ”，“ <code class="code">-&gt;</code> ”，“ <code class="code">::</code> ”和“ <code class="code">^</code> ”时会自动激活内容辅助。此外， <code class="code">Ctrl+Space</code>可用于随时调用内容辅助。
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/3200-lib_console.png"></div>
<p>
				
</p>
</div>
<div class="section" title="支持Ecore和UML模型">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="SupportforEcoreandUMLModels"></a>支持Ecore和UML模型</h3>
</div>
</div>
</div>
<p>OCL控制台为Ecore和UML编辑器（对于<code class="code">*.ecore</code>和<code class="code">*.uml</code>模型）提供<span class="bold"><strong>OCL-&gt; Show OCL控制台</strong></span>菜单操作。这些操作会自动在控制台中选择适当的元模型。
				</p>
<p>对于Ecore和UML，支持<code class="code">M1</code> （模型）级别的解析约束。这实现了一个用于在以下环境中开发OCL约束的便笺簿：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>分类器，用于不变约束</p>
</li>
<li class="listitem">
<p>操作，用于前/后条件约束和正文表达</p>
</li>
<li class="listitem">
<p>属性，用于初始值和派生约束</p>
</li>
</ul>
</div>
<p>控制台推断出所选元素的约束类型;在操作的情况下，它假定条件后约束，因为这些约束支持前置条件和正文表达式的语法的超集。</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/3200-ecore_console.png"></div>
<p>
				
</p>
<p>上图显示了对Ecore属性（ <code class="code">EStructuralFeature</code> ）的派生约束的解析。
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/3200-uml_console.png"></div>
<p>
				
</p>
<p>上图显示了对UML分类器（ <code class="code">Class</code> ）的不变约束的解析。请注意，UML可以将<code class="code">Job</code>建模为关联类;大致相当的Ecore模型更加冗长。
				</p>
</div>
<div class="section" title="示例代码">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="ExampleCode"></a>示例代码</h3>
</div>
</div>
</div>
<p>如果您需要，请参阅此示例中的代码：</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>解析，验证和评估EMF模型元素的OCL查询和约束</p>
</li>
<li class="listitem">
<p>在模型编辑器中实现OCL约束的内容辅助</p>
</li>
</ul>
</div>
<p>
					
<a class="ulink" href="http://www.eclipse.org/legal/epl-v20.html" target="_new">版权所有©2000,2007 IBM Corporation等。版权所有。</a>
				
</p>
</div>
</div>
</body>
</html>