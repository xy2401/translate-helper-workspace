<html >

<head>
<title>事件处理</title>
<link href="../../book.css" rel="stylesheet" type="text/css">
</head>

<body >

<h1>事件处理</h1>

<table border="0" width="800" cellspacing="0" cellpadding="0">
	<td><!-- MSTableType="nolayout" -->
	<tr>
		</tr></td><td valign="top">

<p>当用户与UI交互时发生事件。 <span>
</span>然后执行适当的事件处理代码。 <span> </span>为了了解事件何时发生，必须首先将事件处理程序添加到组件中。 <span> </span>该工具使得向组件添加和删除事件侦听器变得非常容易。</p>

		</td>
		<td valign="top" rowspan="2">

			<img src="../userinterface/images/property_pane_events.png" alt="" border="0" hspace="5" align="right"></td>
	
	<tr>
		<td valign="top">

<h2>添加事件处理程序</h2>

<p>有两种方法可以使用编辑器添加事件处理程序。 <span> </span>第一种方式是通过<b><a href="../userinterface/property_pane.html">Property Pane</a></b> 。 <span> </span>首先在<b><a href="../userinterface/component_tree.html">组件树</a></b>或<b><a href="../userinterface/design_view.html">设计视图中</a></b>选择一个组件。 <span> 单击“ <b>显示事件”</b></span> <img border="0" src="../userinterface/images/events.gif" width="16" height="16">按钮以显示<b><a href="../userinterface/property_pane.html">属性窗格中</a></b>的事件列表。<span>E</span> xpand一个事件，然后双击或按下要实现的事件处理程序上的<b>Enter</b> 。</p></td>
            </tr>
	<tr>
		<td valign="top" colspan="2">

<p>添加事件处理程序的第二种方法是简单地<a href="../userinterface/context_menu.html">右键单击</a>组件（在“ <b><a href="../userinterface/design_view.html">设计视图”</a></b>或“ <b><a href="../userinterface/component_tree.html">组件树”中</a></b> ），选择“ <b>添加事件处理程序”&gt; [事件名称]&gt; [要实现的事件处理程序的名称]</b> 。</p>

<p>
<img border="0" src="images/add_event_handler_menu.png" v:shapes="_x0000_i1049"></p>

<p>向按钮（包括检查和单选按钮）和菜单项添加事件监听器的快捷方法是简单地双击按钮或菜单项。双击时，将创建选择事件侦听器。</p>

<p>无论您何种方式添加事件，该工具都会自动为所选事件方法创建事件处理程序。 <span> </span>然后编辑器将切换到<b><a href="../userinterface/source_view.html">Source View</a></b>并直接转到新的事件处理程序方法。 <span> </span>生成的代码如下所示：</p>

<font size="2">
<dl>
	<dd></dd></dl></font> <font face="Courier"><font color="#0000c0">browseButton</font> = <font color="#7f0055"><b>新</b></font>按钮（壳，SWT <font color="#0000c0"><i>NONE）;</i></font></font>
	<dd><font face="Courier"><font color="#0000c0">browseButton</font> .addSelectionListener（ <font color="#7f0055"><b>new</b></font> SelectionListener（）{</font><dl>
		<dd><font face="Courier"><font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> widgetDefaultSelected（SelectionEvent arg0）{</font></dd>
		<dd><font face="Courier">}</font></dd>
		<dd><font face="Courier"><font color="#7f0055"><b>public</b></font> <font color="#7f0055"><b>void</b></font> widgetSelected（SelectionEvent arg0）{</font></dd>
		<dd><font face="Courier">}</font></dd>
	</dl>
	</dd>
	<dd><font face="Courier">}）;</font></dd>
	<dd><font face="Courier"><font color="#0000c0">browseButton .setText</font> （ <font color="#2a00ff">“Browse ...”</font> ）;</font></dd>


<p>
<img border="0" src="images/event_line_number_menu.png" align="right" hspace="10" v:shapes="_x0000_i1051">有两种方法可以从<b><a href="../userinterface/design_view.html">设计视图</a></b>快速返回事件处理代码。 <span> </span>在<b><a href="../userinterface/property_pane.html">Property Pane中</a></b> ，点击<span><b>Show Events</b></span> <img border="0" src="../userinterface/images/events.gif" width="16" height="16">按钮并展开事件。 <span> </span>然后双击或按事件方法上的<b>Enter键</b>以返回到代码。 <span> </span><b><a href="../userinterface/property_pane.html">属性窗格</a></b>中的事件列表是所有已实现事件的列表，每个单独事件的属性值是实现的方法列表。<span>
</span>如果已实现某个方法，则其属性值是源代码中其事件处理代码开始的行号。</p>
<p>快速返回事件处理代码的另一种方法是右键单击组件（在“ <b><a href="../userinterface/design_view.html">设计视图”</a></b>或“ <b><a href="../userinterface/component_tree.html">组件树”中</a></b> ），然后为实现的正确方法选择菜单项。 <span> </span>右边显示的是“ <b>actionPerformed  - &gt;第111行</b> ”被选中。 <span> </span>在此示例中，“actionPerformed”是事件方法，“111”是方法开始的源代码中的行号。</p>

<p class="MsoNormal" style="margin-top:12.0pt;text-align:justify;line-height:14.0pt">注意：通过设置适当的代码生成首选项，该工具还可以在创建新事件时生成事件处理程序存根方法。</p>

<h2>删除事件处理程序</h2>

<p class="MsoNormal" style="margin-top:12.0pt;text-align:justify;line-height:14.0pt">只有一种方法可以删除编辑器中的现有事件处理程序。 <span> </span>在“ <b><a href="../userinterface/design_view.html">设计视图”</a></b>或“ <b><a href="../userinterface/component_tree.html">组件树”中</a></b>选择一个组件。 <span> </span>在<b><a href="../userinterface/property_pane.html">Property Pane</a></b>展开展开事件，单击要删除的事件方法，然后按<b>Delete</b> 。 <span> </span>如果没有为该事件实现其他方法，该工具还将删除该事件的事件侦听器。</p>

		</td>
	</tr>
</table>

</body>

</html>