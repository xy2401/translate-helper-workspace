<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
		<title>eeftabdescriptorprovider</title>
		<link type="text/css" rel="stylesheet" href="../assets/css/stylesheet.css"></link>
	</head>
	<body dir="ltr">
		<h2 id="IEEFTabDescriptorProvider">IEEFTabDescriptorProvider</h2>
		<p>此扩展点允许<code>org.eclipse.eef.ide.ui.api.widgets.的贡献<code>org.eclipse.eef.ide.ui.api.widgets.IEEFLifecycleManagerProvider</code> ，可用于创建<code>org.eclipse.eef.ide.ui.api.widgets.的实例<code>org.eclipse.eef.ide.ui.api.widgets.IEEFLifecycleManager</code>用于描述某些控件。使用此机制，您不仅可以提供自定义窗口小部件的强制生命周期管理器，还可以替换任何窗口小部件或容器的默认生命周期管理器，使您能够更改用户界面的每个部分的行为和外观（不包括组和页面）。
		</p>
		<pre><code>&lt;extension point =“org.eclipse.eef.properties.ui.eefTabDescriptorProvider”&gt; &lt;descriptor class =“org.eclipse.eef.sample.internal.extensions。SampleTabDescriptorProvider“description =”提供EEF Tab描述符“id =”org.eclipse.eef.sample.eefTabDescriptorProvider“label =”EEF Sample Tab Descriptor Provider“&gt; &lt;/ descriptor&gt; &lt;/ extension&gt;</code></pre>
		<p>IEEFTabDescriptorProvider贡献的示例。在此示例中，我们提供了一个贡献，用于将新选项卡添加到EEF创建的Properties视图中。要将编辑器与基于EEF的Properties视图链接，首先需要使用方法org.eclipse.core.runtime。编辑器的IAdaptable.getAdapter（Class）返回基于EEF的属性表页面。</p>
		<pre><code>@Override public Object getAdapter（@SuppressWarnings（“rawtypes”）类类型）{if（type == IPropertySheetPage.class）{//必须是编辑器唯一的，应该存储在静态常量String contributorId =“org.eclipse中.eef.sample.contributorId“;返回新的EEFTabbedPropertySheetPage（type，contributorId）; } return super.getAdapter（type）; }</code></pre>
		<p>一旦Eclipse平台检索到这个基于EEF的选项卡式属性表页面，EEF将使用其所有IEEFTabDescriptorProvider查找要在此属性视图中显示的选项卡列表。以下是一个示例的实现：</p>
		<pre><code>package org.eclipse.eef.sample.internal.extensions; import java.util。数组列表; import java.util。采集; import java.util。清单; import org.eclipse.eef。EEFViewDescription; import org.eclipse.eef.core.api。EEFExpressionUtils; import org.eclipse.eef.core.api。EEFPage; import org.eclipse.eef.core.api。EEFView; import org.eclipse.eef.core.api。EEFViewFactory; import org.eclipse.eef.core.api。EditingContextAdapter; import org.eclipse.eef.ide.ui.properties.api。EEFTabDescriptor; import org.eclipse.eef.properties.ui.api。IEEFTabDescriptor; import org.eclipse.eef.properties.ui.api。IEEFTabDescriptorProvider; import org.eclipse.eef.properties.ui.api。IEEFTabbedPropertySheetPageContributor; import org.eclipse.jface.viewers。■选型; import org.eclipse.jface.viewers。IStructuredSelection; import org.eclipse.sirius.common.interpreter.api。IVariableManager; import org.eclipse.sirius.common.interpreter.api。VariableManagerFactory; import org.eclipse.ui。IWorkbenchPart;公共类SampleTabDescriptorProvider实现IEEFTabDescriptorProvider {@Override public Collection &lt;IEEFTabDescriptor&gt; get（IWorkbenchPart part，ISelection selection，IEEFTabbedPropertySheetPageContributor贡献者）{if（选择实例的IStructuredSelection）{IStructuredSelection structuredSelection =（IStructuredSelection）选择; Object [] objects = structuredSelection.toArray（）; //我们将首先检索用户界面EEFViewDescription viewDescription = this.getViewDescription（objects）的描述; EEFView eefView = this.createEEFView（viewDescription，objects）; List &lt;IEEFTabDescriptor&gt; descriptors = new ArrayList &lt;IEEFTabDescriptor&gt;（）; List &lt;EEFPage&gt; eefPages = eefView.getPages（）; for（EEFPage eefPage：eefPages）{descriptors.add（new EEFTabDescriptor（eefPage））; } return descriptors; } return new ArrayList &lt;IEEFTabDescriptor&gt;（）; } private EEFViewDescription getViewDescription（Object object）{//以编程方式创建视图的描述或从EMF模型加载它返回null;私有EEFView createEEFView（EEFViewDescription viewDescription，Object object）{IVariableManager variableManager = new VariableManagerFactory（）。createVariableManager（）; variableManager.put（EEFExpressionUtils。自我，对象）; //请参阅有关解释器和编辑上下文适配器的文档EEFView eefView = new EEFViewFactory（）。createEEFView（viewDescription，variableManager，new SampleInterpreter（），new SampleEditingContextAdapter（），object）;返回eefView; }}</code></pre>
		<p>此示例至少需要以下依赖项：</p>
		<ul>
			<li>org.eclipse.sirius.common.interpreter</li>
			<li>org.eclipse.eef</li>
			<li>org.eclipse.eef.core</li>
			<li>org.eclipse.eef.ide.ui.properties</li>
			<li>org.eclipse.eef.properties.ui</li>
			<li>org.eclipse.ui.workbench</li>
			<li>org.eclipse.jface</li>
		</ul>
	</body>
</html>