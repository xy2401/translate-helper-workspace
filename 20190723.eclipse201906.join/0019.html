<html id='2273.CustomizingtheEnvironment.html'></html><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Customizing the Environment</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="ProgrammersGuide.html" title="Classic Ecore/UML Programmers Guide">
<link rel="prev" href="AbstractSyntax.html" title="OCL Abstract Syntax Model">
<link rel="next" href="Persistence.html" title="OCL Persistence">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Customizing the Environment</h1>
<div class="section" title="Customizing the Environment">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">
<a name="CustomizingtheEnvironment"></a>Customizing the Environment</h2>
</div>
</div>
</div>
<p>An application that integrates OCL may find it advantageous to provide its users with an
				enhanced OCL environment, to simplify their task of formulating OCL constraints and queries.
				For example, an application might define additional &ldquo;primitive&rdquo; operations on the OCL
				standard data types that are pertinent to its domain, or &ldquo;global&rdquo; variables that inject
				useful objects into the user&rsquo;s context. It is also possible to customize the way
				&ldquo;hidden&rdquo; opposites are looked up and navigated, specifically to allow reverse navigation
				across Ecore references that have no opposite defined.</p>
<div class="section" title="Defining Global Variables">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DefiningGlobalVariables"></a>Defining Global Variables</h3>
</div>
</div>
</div>
<p>Consider an application that allows end-users to specify conditions, using OCL, to filter
					the objects that are shown in the user interface.  Given a sufficiently rich model
					(expressed in Ecore or UML) of the objects that the UI presents, many conditions can be
					expressed entirely in terms of this model.  However, some queries might depend on state
					of the application, itself, not the data:  which perspective is active, whether some view
					is showing, or even the time of day.  These are not characteristics of the objects that the
					user wishes to filter.</p>
<p>Such an application might, then, choose to define application-specific variables that a
					filter condition can query:  
					<code class="code">app$perspective</code>, 
					<code class="code">app$views</code>, 
					<code class="code">app$time</code>.  Or, perhaps a
					single variable 
					<code class="code">app$</code>, that has properties that a condition can access:
				</p>
<div class="literallayout">
<p>
<code class="code">--&nbsp;filter&nbsp;out&nbsp;OCL&nbsp;files&nbsp;in&nbsp;the&nbsp;Web&nbsp;Development&nbsp;perspective<br>
self.extension&nbsp;=&nbsp;'ocl'&nbsp;and&nbsp;app$.perspective&nbsp;=&nbsp;'Web&nbsp;Development'<br>

</code>
</p>
</div>
<p></p>
<p>To do this, we define a small Ecore model of our application context, e.g.:</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/5160-appcontext.png"></div>
<p>
				
</p>
<p>Then, in the code that parses a user&rsquo;s filter condition:</p>
<div class="literallayout">
<p>
<code class="code">OCL&lt;?,&nbsp;EClassifier,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;ocl;<br>
ocl&nbsp;=&nbsp;OCL.newInstance(EcoreEnvironmentFactory.INSTANCE);<br>

<br>
OCLHelper&lt;EClassifier,&nbsp;?,&nbsp;?,&nbsp;Constraint&gt;&nbsp;helper&nbsp;=&nbsp;ocl.createOCLHelper();<br>
helper.setContext(MyPackage.Literals.FILE);<br>

<br>
//&nbsp;create&nbsp;a&nbsp;variable&nbsp;declaring&nbsp;our&nbsp;global&nbsp;application&nbsp;context&nbsp;object<br>
Variable&lt;EClassifier,&nbsp;EParameter&gt;&nbsp;appContextVar&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpressionsFactory.eINSTANCE.createVariable();<br>
appContextVar.setName("app$");<br>
appContextVar.setType(AppPackage.Literals.APP_CONTEXT);<br>

<br>
//&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;global&nbsp;OCL&nbsp;environment<br>
ocl.getEnvironment().addElement(appContextVar.getName(),&nbsp;appContextVar,&nbsp;true);<br>

<br>
List&lt;Constraint&gt;&nbsp;conditions&nbsp;=&nbsp;new&nbsp;ArrayList&lt;Constraint&gt;();<br>

<br>
//&nbsp;parse&nbsp;the&nbsp;user's&nbsp;filter&nbsp;conditions<br>
for&nbsp;(String&nbsp;cond&nbsp;:&nbsp;getFilterConditions())&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;conditions.add(helper.createInvariant(cond));<br>
}<br>

<br>
//&nbsp;apply&nbsp;the&nbsp;filters<br>
applyFilters(conditions);<br>

</code>
</p>
</div>
<p></p>
<p>The body of our hypothetical 
					<code class="code">applyFilters()</code> method must bind this
					context variable to a value.  In this case, the value can be computed when we apply the
					filters:
				</p>
<div class="literallayout">
<p>
<code class="code">AppContext&nbsp;appContext&nbsp;=&nbsp;AppFactory.eINSTANCE.createAppContext();<br>

<br>
//&nbsp;hypothetical&nbsp;workbench&nbsp;utilities<br>
appContext.setPerspective(WorkbenchUtil.getCurrentPerspective());<br>
appContext.getViews().addAll(WorkbenchUtil.getOpenViewIDs());<br>
appContext.setTime(new&nbsp;Date());<br>

<br>
List&lt;Query&lt;EClassifier,&nbsp;EClass,&nbsp;EObject&gt;&gt;&nbsp;queries&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;ArrayListlt;Query&lt;EClassifier,&nbsp;EClass,&nbsp;EObject&gt;&gt;(constraints.size());<br>

<br>
for&nbsp;(Constraint&nbsp;next&nbsp;:&nbsp;constraints)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;Query&lt;EClassifier,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;query&nbsp;=&nbsp;ocl.createQuery(next);<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;bind&nbsp;the&nbsp;variable&nbsp;value<br>
&nbsp;&nbsp;&nbsp;&nbsp;query.getEvaluationEnvironment().add("app$",&nbsp;appContext());<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;queries.add(query);<br>
}<br>

<br>
filter(queries);&nbsp;&nbsp;//&nbsp;applies&nbsp;these&nbsp;filters&nbsp;to&nbsp;the&nbsp;current&nbsp;objects<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;by&nbsp;evaluating&nbsp;the&nbsp;OCLS&nbsp;on&nbsp;them.<br>

</code>
</p>
</div>
<p></p>
</div>
<div class="section" title="Defining Helper Operations in Java">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="DefiningHelperOperationsinJava"></a>Defining Helper Operations in Java</h3>
</div>
</div>
</div>
<p>OCL allows the definition of additional operations and attributes using 
					<code class="code">def:</code> expressions.  This is very convenient for the formulation of constraints, but what if the operation that we need is something like a regex pattern match?
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;Person<br>
inv&nbsp;valid_ssn:&nbsp;self.ssn.regexMatch('\d{3}-\d{3}-\d{3}')&nbsp;&lt;&gt;&nbsp;null<br>

</code>
</p>
</div>
<p></p>
<p>We might try to define this using OCL, as an additional operation on the OCL Standard
					Library&rsquo;s 
					<code class="code">String</code> primitive type:
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;String<br>
def:&nbsp;regexMatch(pattern&nbsp;:&nbsp;String)&nbsp;:&nbsp;String&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;???<br>

</code>
</p>
</div>
<p></p>
<p>The operations available in the OCL Standard Library simply are not sufficient to express
					the value of this operation, which should return the substring matching a regex pattern or

					<code class="code">null</code> if the pattern does not match.  We need to implement this
					operation in Java.  We can do that by creating a custom 
					<code class="code">Environment</code>
					that knows how to look up this operation, and an 
					<code class="code">EvaluationEnvironment</code>
					that knows how it is implemented.
				</p>
<p>First, let&rsquo;s start by defining a specialization of the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/EcoreEnvironment.html" target="_new">
						<code class="code">EcoreEnvironment</code>
					</a> . The constructor that is used to initialize the root environment of an 
					<code class="code">OCL</code>
					instance will add our 
					<code class="code">regexMatch</code> additional operation to the

					<code class="code">String</code> primitive type.  The constructor that is used to create
					nested environments copies the operation from its parent.
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;MyEnvironment&nbsp;extends&nbsp;EcoreEnvironment&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;EOperation&nbsp;regexMatch;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;constructor&nbsp;is&nbsp;used&nbsp;to&nbsp;initialize&nbsp;the&nbsp;root&nbsp;environment<br>
&nbsp;&nbsp;&nbsp;&nbsp;MyEnvironment(EPackage.Registry&nbsp;registry)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(registry);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defineCustomOperations();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;constructor&nbsp;is&nbsp;used&nbsp;to&nbsp;initialize&nbsp;child&nbsp;environments<br>
&nbsp;&nbsp;&nbsp;&nbsp;MyEnvironment(MyEnvironment&nbsp;parent)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(parent);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;parent's&nbsp;custom&nbsp;operations<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch&nbsp;=&nbsp;parent.regexMatch;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
	
<br>
	//&nbsp;override&nbsp;this&nbsp;to&nbsp;provide&nbsp;visibility&nbsp;of&nbsp;the&nbsp;inherited&nbsp;protected&nbsp;method<br>
&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;setFactory(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EnvironmentFactory&lt;EPackage,&nbsp;EClassifier,&nbsp;EOperation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EStructuralFeature,&nbsp;EEnumLiteral,&nbsp;EParameter,&nbsp;EObject,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CallOperationAction,&nbsp;SendSignalAction,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.setFactory(factory);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;use&nbsp;the&nbsp;AbstractEnvironment's&nbsp;mechanism&nbsp;for&nbsp;defining<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;"additional&nbsp;operations"&nbsp;to&nbsp;add&nbsp;our&nbsp;custom&nbsp;operation&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;OCL's&nbsp;String&nbsp;primitive&nbsp;type<br>
&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;defineCustomOperations()&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;pattern-matching&nbsp;operation<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch&nbsp;=&nbsp;EcoreFactory.eINSTANCE.createEOperation();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch.setName("regexMatch");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch.setEType(getOCLStandardLibrary().getString());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EParameter&nbsp;parm&nbsp;=&nbsp;EcoreFactory.eINSTANCE.createEParameter();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parm.setName("pattern");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parm.setEType(getOCLStandardLibrary().getString());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch.getEParameters().add(parm);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;annotate&nbsp;it&nbsp;so&nbsp;that&nbsp;we&nbsp;will&nbsp;recognize&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;in&nbsp;the&nbsp;evaluation&nbsp;environment<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EAnnotation&nbsp;annotation&nbsp;=&nbsp;EcoreFactory.eINSTANCE.createEAnnotation();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;annotation.setSource("MyEnvironment");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexMatch.getEAnnotations().add(annotation);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;define&nbsp;it&nbsp;as&nbsp;an&nbsp;additional&nbsp;operation&nbsp;on&nbsp;OCL&nbsp;String<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addOperation(getOCLStandardLibrary().getString(),&nbsp;regexMatch);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>Next, we will define the corresponding specialization of the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/EcoreEvaluationEnvironment.html" target="_new">
						<code class="code">EcoreEvaluationEnvironment</code>
					</a> that will know how to evaluate calls to this custom operation:
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;MyEvaluationEnvironment&nbsp;extends&nbsp;EcoreEvaluationEnvironment&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;MyEvaluationEnvironment()&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;MyEvaluationEnvironment(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EvaluationEnvironment&lt;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EClass,&nbsp;EObject&gt;&nbsp;parent)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(parent);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object&nbsp;callOperation(EOperation&nbsp;operation,&nbsp;int&nbsp;opcode,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;source,&nbsp;Object[]&nbsp;args)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(operation.getEAnnotation("MyEnvironment")&nbsp;==&nbsp;null)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;not&nbsp;our&nbsp;custom&nbsp;regex&nbsp;operation<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;super.callOperation(operation,&nbsp;opcode,&nbsp;source,&nbsp;args);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;("regexMatch".equals(operation.getName()))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pattern&nbsp;pattern&nbsp;=&nbsp;Pattern.compile((String)&nbsp;args[0]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matcher&nbsp;matcher&nbsp;=&nbsp;pattern.matcher((String)&nbsp;source);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;matcher.matches()?&nbsp;matcher.group()&nbsp;:&nbsp;null;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;UnsupportedOperationException();&nbsp;&nbsp;//&nbsp;unknown&nbsp;operation<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>Finally, we define a specialization of the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/EcoreEnvironmentFactory.html" target="_new">
						<code class="code">EcoreEnvironmentFactory</code>
					</a> that creates our custom environments:
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;MyEnvironmentFactory&nbsp;extends&nbsp;EcoreEnvironmentFactory&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Environment&lt;EPackage,&nbsp;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EEnumLiteral,&nbsp;EParameter,&nbsp;EObject,&nbsp;CallOperationAction,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendSignalAction,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;createEnvironment()&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyEnvironment&nbsp;result&nbsp;=&nbsp;new&nbsp;MyEnvironment(getEPackageRegistry());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.setFactory(this);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Environment&lt;EPackage,&nbsp;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EEnumLiteral,&nbsp;EParameter,&nbsp;EObject,&nbsp;CallOperationAction,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendSignalAction,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createEnvironment(Environment&lt;EPackage,&nbsp;EClassifier,&nbsp;EOperation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EStructuralFeature,&nbsp;EEnumLiteral,&nbsp;EParameter,&nbsp;EObject,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CallOperationAction,&nbsp;SendSignalAction,&nbsp;Constraint,&nbsp;EClass,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EObject&gt;&nbsp;parent)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(parent&nbsp;instanceof&nbsp;MyEnvironment))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;IllegalArgumentException(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Parent&nbsp;environment&nbsp;must&nbsp;be&nbsp;my&nbsp;environment:&nbsp;"&nbsp;+&nbsp;parent);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyEnvironment&nbsp;result&nbsp;=&nbsp;new&nbsp;MyEnvironment((MyEnvironment)&nbsp;parent);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.setFactory(this);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;EvaluationEnvironment&lt;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EClass,&nbsp;EObject&gt;&nbsp;createEvaluationEnvironment()&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;MyEvaluationEnvironment();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;EvaluationEnvironment&lt;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EClass,&nbsp;EObject&gt;&nbsp;createEvaluationEnvironment(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EvaluationEnvironment&lt;EClassifier,&nbsp;EOperation,&nbsp;EStructuralFeature,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EClass,&nbsp;EObject&gt;&nbsp;parent)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;MyEvaluationEnvironment(parent);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>Now, we can use our environment to parse the kind of expression that we were looking for:</p>
<div class="literallayout">
<p>
<code class="code">OCL&lt;?,&nbsp;EClassifier,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;?,&nbsp;Constraint,&nbsp;EClass,&nbsp;EObject&gt;&nbsp;ocl;<br>
ocl&nbsp;=&nbsp;OCL.newInstance(new&nbsp;MyEnvironmentFactory());<br>

<br>
OCLHelper&lt;EClassifier,&nbsp;?,&nbsp;?,&nbsp;Constraint&gt;&nbsp;helper&nbsp;=&nbsp;ocl.createOCLHelper();<br>
helper.setContext(MyPackage.Literals.PERSON);<br>

<br>
//&nbsp;double&nbsp;the&nbsp;'\'&nbsp;to&nbsp;escape&nbsp;it&nbsp;in&nbsp;a&nbsp;Java&nbsp;string&nbsp;literal<br>
Constraint&nbsp;validSSN&nbsp;=&nbsp;helper.createInvariant(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"self.ssn.regexMatch('\\d{3}-\\d{3}-\\d{3}')&nbsp;&lt;&gt;&nbsp;null");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Person&nbsp;person&nbsp;=&nbsp;getPersonToValidate();<br>

<br>
System.out.printf("%s&nbsp;valid&nbsp;SSN:&nbsp;%b%n",&nbsp;person,&nbsp;ocl.check(person,&nbsp;validSSN));<br>

</code>
</p>
</div>
<p></p>
</div>
<div class="section" title="Selecting a Package Lookup Strategy">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="SelectingaPackageLookupStrategy"></a>Selecting a Package Lookup Strategy</h3>
</div>
</div>
</div>
<p>When package names are provided in OCL expressions, e.g., when representing types in an

					<code class="code">oclIsKindOf</code> call, these names are looked up using a specific
					strategy. By default, the lookup proceeds starting at the parsing context, traversing
					up the package hierarchy. If the package name cannot be resolved this way, for the Ecore
					binding a lookup is performed in the 
					<code class="code">EPackage.Registry</code>. By
					default, the package name provided is compared to the names of the packages that are
					contained as values in the registry.
				</p>
<p>In rare cases there may be ambiguous package names. For example, if an OCL expression
					is to be parsed using a classifier from the OCL AST metamodel as its context, the
					context package is 
					<code class="code">ocl::ecore</code>. If such an expression is
					trying to reference a type from the EMF Ecore package with package name

					<code class="code">ecore</code>, the EMF Ecore package is hidden by the lookup
					happening relative to the context package. Instead of the EMF Ecore package, the

					<code class="code">ocl::ecore</code> package will be found.
				</p>
<p>Such an ambiguity can be resolved by using a dedicated 
					<code class="code">EPackage.Registry</code>
					which registers the otherwise ambiguous packages with a special &ldquo;URI&rdquo; that represents a
					simple alias name for the package. In order to force the OCL parser to look up packages
					by those alias names, an option needs to be set on the OCL environment, as follows:
				</p>
<div class="literallayout">
<p>
<code class="code">&nbsp;&nbsp;&nbsp;&nbsp;Registry&nbsp;r&nbsp;=&nbsp;new&nbsp;EPackageRegistryImpl();<br>
&nbsp;&nbsp;&nbsp;&nbsp;r.putAll(EPackage.Registry.INSTANCE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;r.put("EMFEcore",&nbsp;EcorePackage.eINSTANCE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;r.put("OCLEcore",&nbsp;org.eclipse.ocl.ecore.EcorePackage.eINSTANCE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;OCL&nbsp;ocl&nbsp;=&nbsp;OCL.newInstance(new&nbsp;EcoreEnvironmentFactory(r));<br>
&nbsp;&nbsp;&nbsp;&nbsp;((EcoreEnvironment)&nbsp;ocl.getEnvironment()).setOption(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParsingOptions.PACKAGE_LOOKUP_STRATEGY,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ParsingOptions.PACKAGE_LOOKUP_STRATEGIES.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LOOKUP_PACKAGE_BY_ALIAS_THEN_NAME);<br>
&nbsp;&nbsp;&nbsp;&nbsp;Helper&nbsp;helper&nbsp;=&nbsp;ocl.createOCLHelper();<br>
&nbsp;&nbsp;&nbsp;&nbsp;helper.setContext(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.eclipse.ocl.ecore.EcorePackage.eINSTANCE.getOCLExpression());<br>
&nbsp;&nbsp;&nbsp;&nbsp;org.eclipse.ocl.ecore.OCLExpression&nbsp;expr&nbsp;=&nbsp;helper.createQuery(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"self.oclIsKindOf(EMFEcore::EClassifier)&nbsp;and&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.oclIsKindOf(OCLEcore::OCLExpression)");<br>

</code>
</p>
</div>
<p></p>
<p>In the example above, two packages with ambiguous simple names (EMF Ecore package and
					OCL Ecore package, both with simple name 
					<code class="code">ecore</code>) are added with
					alias names 
					<code class="code">EMFEcore</code> and 
					<code class="code">OCLEcore</code>,
					respectively. The package lookup strategy is then set to

					<code class="code">LOOKUP_PACKAGE_BY_ALIAS_THEN_NAME</code> which allows OCL expressions to reference
					the packages by their aliases, as in

					<code class="code">self.oclIsKindOf(EMFEcore::EClassifier) and not self.oclIsKindOf(OCLEcore::OCLExpression)</code>.
				</p>
<p>Note, that the use of a delegating registry (constructor

					<code class="code">EPackageRegistryImpl(EPackage.Registry)</code>) does not work
					because a registry initialized this way does not forward the call to

					<code class="code">values()</code> which would be required by the OCL
					package lookup implementation. Instead, if the packages registered with the
					default registry are required, they need to be copied to a new registry
					using 
					<code class="code">putAll</code> as shown above.
				</p>
</div>
<div class="section" title="Customizing Hidden Opposite Lookup and Navigation">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CustomizingHiddenOppositeLookupandNavigation"></a>Customizing Hidden Opposite Lookup and Navigation</h3>
</div>
</div>
</div>
<p>The default 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/EcoreEnvironmentFactory.html" target="_new">
						<code class="code">EcoreEnvironmentFactory</code>
					</a> produces environments which can find references that have an annotation with source 
					<code class="code">http://schema.omg.org/spec/MOF/2.0/emof.xml</code>
					that have a detail with key 
					<code class="code">Property.oppositeRoleName</code>. In the class that is the type of the reference,
					and all its subclasses, for OCL this annotation defines an otherwise &ldquo;hidden&rdquo; opposite property which can be used
					in OCL expressions. This can be convenient when it is not possible or desirable to define an explicit
					opposite reference, e.g., because the class that would have to own the opposite reference can&rsquo;t easily be
					modified or the serialization of that class must not be changed.
				</p>
<p>The logic used to find these &ldquo;hidden&rdquo; opposites and to navigate them is provided by implementations
					of the 
					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/OppositeEndFinder.html" target="_new">
						<code class="code">OppositeEndFinder</code>
					</a> interface. By default, the 
					<code class="code">EcoreEnvironmentFactory</code> uses the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/DefaultOppositeEndFinder.html" target="_new">
						<code class="code">DefaultOppositeEndFinder</code>
					</a> implementation. It performs the lookup of annotated references by maintaining a cache based on
					the Ecore package registry. Successful navigation of those &ldquo;hidden&rdquo; opposites requires an

					<a class="ulink" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/util/ECrossReferenceAdapter.html" target="_new">
						<code class="code">ECrossReferenceAdapter</code>
					</a> to be registered for the containment hierarchy or the resource or resource set that should be used as the scope of the navigation.
				</p>
<p>Obviously, 
					<a class="ulink" href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.6.0/org/eclipse/emf/ecore/util/ECrossReferenceAdapter.html" target="_new">
						<code class="code">ECrossReferenceAdapter</code>
					</a> has a significant downside: it responds to &ldquo;hidden&rdquo; opposite navigation requests only based on what has so far been loaded by EMF. If the set of resources held by an underlying EMF storage system contains more resources than have so far been loaded into the resource set, non-loaded content from that storage system won&rsquo;t be considered by the 
					<code class="code">ECrossReferenceAdapter</code>. Given a store with reasonable search capabilities it is desirable to take advantage of these capabilities also to perform reverse navigation of those &ldquo;hidden&rdquo; opposites. To achieve this, a specific implementation of the

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/OppositeEndFinder.html" target="_new">
						<code class="code">OppositeEndFinder</code>
					</a> interface can be provided. It may be a specialization of

					<a class="ulink" href="http://download.eclipse.org/ocl/javadoc/6.4.0/org/eclipse/ocl/ecore/DefaultOppositeEndFinder.html" target="_new">
						<code class="code">DefaultOppositeEndFinder</code>
					</a>, e.g., when the reference lookup based on the Ecore package registry is sufficient and only the navigation behavior shall be redefined:
				</p>
<div class="literallayout">
<p>
<code class="code">class&nbsp;MyOppositeEndFinder&nbsp;extends&nbsp;DefaultOppositeEndFinder&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;MyOppositeEndFinder(EPackage.Registry&nbsp;registry)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(registry);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object&nbsp;navigateOppositeProperty(EStructuralFeature&nbsp;property,&nbsp;Object&nbsp;target)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collection&lt;Object&gt;&nbsp;result&nbsp;=&nbsp;null;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EObject&nbsp;eTarget&nbsp;=&nbsp;(EObject)&nbsp;target;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;do&nbsp;something&nbsp;clever,&nbsp;e.g.,&nbsp;using&nbsp;your&nbsp;underlying&nbsp;store's&nbsp;query&nbsp;facility&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;the&nbsp;new&nbsp;EMF&nbsp;Query2&nbsp;component&nbsp;(incubation)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;...<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

</code>
</p>
</div>
<p></p>
<p>With this, OCL can be instantiated using the custom opposite end finder as follows:</p>
<div class="literallayout">
<p>
<code class="code">&nbsp;&nbsp;OCL&nbsp;ocl&nbsp;=&nbsp;OCL.newInstance(new&nbsp;EcoreEnvironmentFactoryWithHiddenOpposites(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EPackage.Registry.INSTANCE,&nbsp;new&nbsp;MyOppositeEndFinder()));<br>
&nbsp;&nbsp;...<br>

</code>
</p>
</div>
<p></p>
<p>With this, when the use of a property in an OCL expression cannot be resolved to an attribute
					or reference, the opposite end finder is asked to look for a correspondingly-named "hidden"
					opposite. Navigation across this &ldquo;hidden&rdquo; opposite will then call the 
					<code class="code">navigateOppositeProperty</code> method on 
					<code class="code">MyOppositeEndFinder</code>.
				</p>
</div>
</div>
</body>
</html>
<html id='2718.index.html'></html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta name="copyright" content=
    "Copyright (c) 2000, 2016 IBM Corporation and others. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page." />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>
      Platform Extension Points
    </title>
    <link rel="STYLESHEET" href="../../book.css" charset="ISO-8859-1" type=
    "text/css" />
    <style type="text/css">
/*<![CDATA[*/
    :link { color: #0000FF }
    :visited { color: #800080 }
    h1.c1 {text-align:center}
    /*]]>*/
    </style>
  </head>

  <body>
    <h1 class="c1">
      Platform Extension Points
    </h1>The following extension points can be used to extend the capabilities
    of the platform infrastructure:
    <h3>
      <a name="runtime" id="runtime"></a>Platform Runtime
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_core_contenttype_contentTypes.html">org.eclipse.core.contenttype.contentTypes</a>

      </li>
      <li>
        <a href=
        "org_eclipse_core_runtime_adapters.html">org.eclipse.core.runtime.adapters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_runtime_applications.html">org.eclipse.core.runtime.applications</a>
      </li>
      <li>

        <a href=
        "org_eclipse_core_runtime_contentTypes.html">org.eclipse.core.runtime.contentTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_runtime_preferences.html">org.eclipse.core.runtime.preferences</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_runtime_products.html">org.eclipse.core.runtime.products</a>

      </li>
      <li>
        <a href=
        "org_eclipse_equinox_preferences_preferences.html">org.eclipse.equinox.preferences.preferences</a>
      </li>
    </ul>
    <h3>
      <a name="workspace" id="workspace"></a>Workspace
    </h3>
    <ul>

      <li>
        <a href=
        "org_eclipse_core_filesystem_filesystems.html">org.eclipse.core.filesystem.filesystems</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_builders.html">org.eclipse.core.resources.builders</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_fileModificationValidator.html">org.eclipse.core.resources.fileModificationValidator</a>

      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_filterMatchers.html">org.eclipse.core.resources.filterMatchers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_markers.html">org.eclipse.core.resources.markers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_modelProviders.html">org.eclipse.core.resources.modelProviders</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_moveDeleteHook.html">org.eclipse.core.resources.moveDeleteHook</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_natures.html">org.eclipse.core.resources.natures</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_refreshProviders.html">org.eclipse.core.resources.refreshProviders</a>

      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_teamHook.html">org.eclipse.core.resources.teamHook</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_resources_variableResolvers.html">org.eclipse.core.resources.variableResolvers</a>
      </li>
    </ul>
    <h3>
      <a name="text" id="text"></a>Platform Text
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_core_filebuffers_annotationModelCreation.html">org.eclipse.core.filebuffers.annotationModelCreation</a>

      </li>
      <li>
        <a href=
        "org_eclipse_core_filebuffers_documentCreation.html">org.eclipse.core.filebuffers.documentCreation</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_filebuffers_documentSetup.html">org.eclipse.core.filebuffers.documentSetup</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_editors_annotationTypes.html">org.eclipse.ui.editors.annotationTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_editors_documentProviders.html">org.eclipse.ui.editors.documentProviders</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_editors_markerAnnotationSpecification.html">org.eclipse.ui.editors.markerAnnotationSpecification</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_editors_markerUpdaters.html">org.eclipse.ui.editors.markerUpdaters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_editors_templates.html">org.eclipse.ui.editors.templates</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_autoEditStrategies.html">org.eclipse.ui.genericeditor.autoEditStrategies</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_characterPairMatchers.html">org.eclipse.ui.genericeditor.characterPairMatchers</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_contentAssistProcessors.html">org.eclipse.ui.genericeditor.contentAssistProcessors</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_highlightReconcilers.html">org.eclipse.ui.genericeditor.highlightReconcilers</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_presentationReconcilers.html">org.eclipse.ui.genericeditor.presentationReconciliers</a>
      </li>
      <li>
        <a href="org_eclipse_ui_genericeditor_reconcilers.html">org.eclipse.ui.genericeditor.reconcilers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_workbench_texteditor_hyperlinkDetectors.html">org.eclipse.ui.workbench.texteditor.hyperlinkDetectors</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_workbench_texteditor_hyperlinkDetectorTargets.html">org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_workbench_texteditor_rulerColumns.html">org.eclipse.ui.workbench.texteditor.rulerColumns</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_workbench_texteditor_quickDiffReferenceProvider.html">org.eclipse.ui.workbench.texteditor.quickDiffReferenceProvider</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_workbench_texteditor_spellingEngine.html">org.eclipse.ui.workbench.texteditor.spellingEngine</a>
      </li>
    </ul>

    <h3>
      <a name="workbench" id="workbench"></a>Workbench
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_ui_acceleratorConfigurations.html">org.eclipse.ui.acceleratorConfigurations</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_acceleratorScopes.html">org.eclipse.ui.acceleratorScopes</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_acceleratorSets.html">org.eclipse.ui.acceleratorSets</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_actionDefinitions.html">org.eclipse.ui.actionDefinitions</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_actionSetPartAssociations.html">org.eclipse.ui.actionSetPartAssociations</a>
      </li>
      <li>
        <a href="org_eclipse_ui_actionSets.html">org.eclipse.ui.actionSets</a>
      </li>
      <li>
        <a href="org_eclipse_ui_activities.html">org.eclipse.ui.activities</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_activitySupport.html">org.eclipse.ui.activitySupport</a>
      </li>
      <li>
        <a href="org_eclipse_ui_bindings.html">org.eclipse.ui.bindings</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_browser_browsers.html">org.eclipse.ui.browser.browsers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_browserSupport.html">org.eclipse.ui.browserSupport</a>
      </li>
      <li>
        <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_commandImages.html">org.eclipse.ui.commandImages</a>
      </li>
      <li>
        <a href="org_eclipse_ui_contexts.html">org.eclipse.ui.contexts</a>
      </li>
      <li>

        <a href="org_eclipse_ui_decorators.html">org.eclipse.ui.decorators</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_dropActions.html">org.eclipse.ui.dropActions</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_editorActions.html">org.eclipse.ui.editorActions</a>

      </li>
      <li>
        <a href="org_eclipse_ui_editors.html">org.eclipse.ui.editors</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_elementFactories.html">org.eclipse.ui.elementFactories</a>
      </li>
      <li>

        <a href="org_eclipse_ui_encodings.html">org.eclipse.ui.encodings</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_exportWizards.html">org.eclipse.ui.exportWizards</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_fontDefinitions.html">org.eclipse.ui.fontDefinitions</a>

      </li>
      <li>
        <a href="org_eclipse_ui_handlers.html">org.eclipse.ui.handlers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_helpSupport.html">org.eclipse.ui.helpSupport</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_ide_editorAssociationOverride.html">org.eclipse.ui.ide.editorAssociationOverride</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_filesystemSupport.html">org.eclipse.ui.ide.filesystemSupport</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_markerHelp.html">org.eclipse.ui.ide.markerHelp</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_markerImageProviders.html">org.eclipse.ui.ide.markerImageProviders</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_markerResolution.html">org.eclipse.ui.ide.markerResolution</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_markerSupport.html">org.eclipse.ui.ide.markerSupport</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_projectConfigurators.html">org.eclipse.ui.ide.projectConfigurators</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_ide_projectNatureImages.html">org.eclipse.ui.ide.projectNatureImages</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_resourceFilters.html">org.eclipse.ui.ide.resourceFilters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_ide_unassociatedEditorStrategy.html">org.eclipse.ui.ide.unassociatedEditorStrategy</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_navigator_linkHelper.html">org.eclipse.ui.navigator.linkHelper</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_navigator_navigatorContent.html">org.eclipse.ui.navigator.navigatorContent</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_navigator_viewer.html">org.eclipse.ui.navigator.viewer</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_importWizards.html">org.eclipse.ui.importWizards</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_installationPages.html">org.eclipse.ui.installationPages</a>
      </li>
      <li>
        <a href="org_eclipse_ui_intro.html">org.eclipse.ui.intro</a>

      </li>
      <li>
        <a href="org_eclipse_ui_keywords.html">org.eclipse.ui.keywords</a>
      </li>
      <li>
        <a href="org_eclipse_ui_menus.html">org.eclipse.ui.menus</a>
      </li>
      <li>
        <a href="org_eclipse_ui_monitoring_logger.html">org.eclipse.ui.monitoring.logger</a>
      </li>
      <li>

        <a href="org_eclipse_ui_newWizards.html">org.eclipse.ui.newWizards</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_perspectiveExtensions.html">org.eclipse.ui.perspectiveExtensions</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_perspectives.html">org.eclipse.ui.perspectives</a>

      </li>
      <li>
        <a href="org_eclipse_ui_popupMenus.html">org.eclipse.ui.popupMenus</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_preferencePages.html">org.eclipse.ui.preferencePages</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_preferenceTransfer.html">org.eclipse.ui.preferenceTransfer</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_propertiesView.html">org.eclipse.ui.propertiesView</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_propertyPages.html">org.eclipse.ui.propertyPages</a>
      </li>
      <li>
        <a href="org_eclipse_ui_services.html">org.eclipse.ui.services</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_splashHandlers.html">org.eclipse.ui.splashHandlers</a>
      </li>
      <li>
        <a href="org_eclipse_ui_startup.html">org.eclipse.ui.startup</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_statusHandlers.html">org.eclipse.ui.statusHandlers</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_systemSummarySections.html">org.eclipse.ui.systemSummarySections</a>
      </li>
      <li>
        <a href="org_eclipse_ui_themes.html">org.eclipse.ui.themes</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_viewActions.html">org.eclipse.ui.viewActions</a>
      </li>
      <li>
        <a href="org_eclipse_ui_views.html">org.eclipse.ui.views</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_views_properties_tabbed_propertyContributor.html">org.eclipse.ui.views.properties.tabbed.propertyContributor</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_views_properties_tabbed_propertySections.html">org.eclipse.ui.views.properties.tabbed.propertySections</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_views_properties_tabbed_propertyTabs.html">org.eclipse.ui.views.properties.tabbed.propertyTabs</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ui_workingSets.html">org.eclipse.ui.workingSets</a>
      </li>
    </ul>
    <h3>
      <a name="team" id="team"></a>Team
    </h3>
    <ul>
<!-- Bug 467584: [JSch] document org.eclipse.jsch.core.authenticator extension-point
      <li>
        <a href=
        "org_eclipse_jsch_core_authenticator.html">org.eclipse.jsch.core.authenticator</a>
      </li>
-->
      <li>
        <a href=
        "org_eclipse_jsch_core_identityrepository.html">org.eclipse.jsch.core.identityrepository</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_core_fileTypes.html">org.eclipse.team.core.fileTypes</a>

      </li>
      <li>
        <a href=
        "org_eclipse_team_core_ignore.html">org.eclipse.team.core.ignore</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_core_projectSets.html">org.eclipse.team.core.projectSets</a>
      </li>
      <li>

        <a href=
        "org_eclipse_team_core_repository.html">org.eclipse.team.core.repository</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_core_storageMergers.html">org.eclipse.team.core.storageMergers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_ui_configurationWizards.html">org.eclipse.team.ui.configurationWizards</a>

      </li>
      <li>
        <a href=
        "org_eclipse_team_ui_synchronizeParticipants.html">org.eclipse.team.ui.synchronizeParticipants</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_ui_synchronizeWizards.html">org.eclipse.team.ui.synchronizeWizards</a>
      </li>
      <li>

        <a href=
        "org_eclipse_team_ui_teamContentProviders.html">org.eclipse.team.ui.teamContentProviders</a>
      </li>
      <li>
        <a href=
        "org_eclipse_team_ui_teamDecorators.html">org.eclipse.team.ui.teamDecorators</a>
      </li>
    </ul>
    <h3>
      <a name="debug" id="debug"></a>Debug
    </h3>

    <ul>
      <li>
        <a href=
        "org_eclipse_debug_core_breakpoints.html">org.eclipse.debug.core.breakpoints</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_breakpointImportParticipants.html">org.eclipse.debug.core.breakpointImportParticipants</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_core_launchConfigurationComparators.html">org.eclipse.debug.core.launchConfigurationComparators</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_launchConfigurationTypes.html">org.eclipse.debug.core.launchConfigurationTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_launchDelegates.html">org.eclipse.debug.core.launchDelegates</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_launchers.html">org.eclipse.debug.core.launchers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_launchModes.html">org.eclipse.debug.core.launchModes</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_core_logicalStructureProviders.html">org.eclipse.debug.core.logicalStructureProviders</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_logicalStructureTypes.html">org.eclipse.debug.core.logicalStructureTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_processFactories.html">org.eclipse.debug.core.processFactories</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_sourceContainerTypes.html">org.eclipse.debug.core.sourceContainerTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_sourceLocators.html">org.eclipse.debug.core.sourceLocators</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_core_sourcePathComputers.html">org.eclipse.debug.core.sourcePathComputers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_statusHandlers.html">org.eclipse.debug.core.statusHandlers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_stepFilters.html">org.eclipse.debug.core.stepFilters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_core_watchExpressionDelegates.html">org.eclipse.debug.core.watchExpressionDelegates</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_breakpointOrganizers.html">org.eclipse.debug.ui.breakpointOrganizers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_consoleColorProviders.html">org.eclipse.debug.ui.consoleColorProviders</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_ui_consoleLineTrackers.html">org.eclipse.debug.ui.consoleLineTrackers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_contextViewBindings.html">org.eclipse.debug.ui.contextViewBindings</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_debugModelContextBindings.html">org.eclipse.debug.ui.debugModelContextBindings</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_debugModelPresentations.html">org.eclipse.debug.ui.debugModelPresentations</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_detailPaneFactories.html">org.eclipse.debug.ui.detailPaneFactories</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_ui_launchConfigurationTabGroups.html">org.eclipse.debug.ui.launchConfigurationTabGroups</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_launchConfigurationTabs.html">org.eclipse.debug.ui.launchConfigurationTabs</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_launchConfigurationTypeImages.html">org.eclipse.debug.ui.launchConfigurationTypeImages</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_launchGroups.html">org.eclipse.debug.ui.launchGroups</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_launchShortcuts.html">org.eclipse.debug.ui.launchShortcuts</a>
      </li>
      <li>

        <a href=
        "org_eclipse_debug_ui_memoryRenderings.html">org.eclipse.debug.ui.memoryRenderings</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_sourceContainerPresentations.html">org.eclipse.debug.ui.sourceContainerPresentations</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_stringVariablePresentations.html">org.eclipse.debug.ui.stringVariablePresentations</a>

      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_toggleBreakpointsTargetFactories.html">org.eclipse.debug.ui.toggleBreakpointsTargetFactories</a>
      </li>
      <li>
        <a href=
        "org_eclipse_debug_ui_variableValueEditors.html">org.eclipse.debug.ui.variableValueEditors</a>
      </li>
    </ul>

    <h3>
      <a name="console" id="console"></a>Console
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_ui_console_consoleFactories.html">org.eclipse.ui.console.consoleFactories</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_console_consolePageParticipants.html">org.eclipse.ui.console.consolePageParticipants</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_console_consolePatternMatchListeners.html">org.eclipse.ui.console.consolePatternMatchListeners</a>
      </li>
    </ul>
    <h3>
      <a name="ua" id="ua"></a>User Assistance
    </h3>
    <ul>

      <li>
        <a href=
        "org_eclipse_help_contentExtension.html">org.eclipse.help.contentExtension</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_contentProducer.html">org.eclipse.help.contentProducer</a>
      </li>
      <li>
        <a href="org_eclipse_help_contexts.html">org.eclipse.help.contexts</a>

      </li>
      <li>
        <a href=
        "org_eclipse_help_criteriaDefinition.html">org.eclipse.help.criteriaDefinition</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_criteriaProvider.html">org.eclipse.help.criteriaProvider</a>
      </li>
      <li>

        <a href="org_eclipse_help_index.html">org.eclipse.help.index</a>
      </li>
      <li>
        <a href="org_eclipse_help_toc.html">org.eclipse.help.toc</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_activitySupport.html">org.eclipse.help.base.activitySupport</a>

      </li>
      <li>
        <a href=
        "org_eclipse_help_base_browser.html">org.eclipse.help.base.browser</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_display.html">org.eclipse.help.base.display</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_luceneAnalyzer.html">org.eclipse.help.base.luceneAnalyzer</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_searchParticipant.html">org.eclipse.help.base.searchParticipant</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_searchProcessor.html">org.eclipse.help.base.searchProcessor</a>

      </li>
      <li>
        <a href=
        "org_eclipse_help_base_server.html">org.eclipse.help.base.server</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_base_scope.html">org.eclipse.help.base.scope</a>
      </li>
      <li>

        <a href=
        "org_eclipse_help_ui_searchEngine.html">org.eclipse.help.ui.searchEngine</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_webapp_contentFilter.html">org.eclipse.help.webapp.contentFilter</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_webapp_frame.html">org.eclipse.help.webapp.frame</a>

      </li>
      <li>
        <a href=
        "org_eclipse_help_webapp_toolbarButton.html">org.eclipse.help.webapp.toolbarButton</a>
      </li>
      <li>
        <a href=
        "org_eclipse_help_webapp_validatedServlet.html">org.eclipse.help.webapp.validatedServlet</a>
      </li>
      <li>

        <a href=
        "org_eclipse_help_webapp_view.html">org.eclipse.help.webapp.view</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_cheatsheets_cheatSheetContent.html">org.eclipse.ui.cheatsheets.cheatSheetContent</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_cheatsheets_cheatSheetItemExtension.html">org.eclipse.ui.cheatsheets.cheatSheetItemExtension</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ui_intro_config.html">org.eclipse.ui.intro.config</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_intro_configExtension.html">org.eclipse.ui.intro.configExtension</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_intro_quicklinks.html">org.eclipse.ui.intro.quicklinks</a>
      </li>
    </ul>

    <h3>
      <a name="ltk" id="ltk"></a>Language Toolkit
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_ltk_core_refactoring_refactoringContributions.html">org.eclipse.ltk.core.refactoring.refactoringContributions</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ltk_core_refactoring_copyParticipants.html">org.eclipse.ltk.core.refactoring.copyParticipants</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ltk_core_refactoring_createParticipants.html">org.eclipse.ltk.core.refactoring.createParticipants</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ltk_core_refactoring_deleteParticipants.html">org.eclipse.ltk.core.refactoring.deleteParticipants</a>
      </li>
      <li>

        <a href=
        "org_eclipse_ltk_core_refactoring_moveParticipants.html">org.eclipse.ltk.core.refactoring.moveParticipants</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ltk_core_refactoring_renameParticipants.html">org.eclipse.ltk.core.refactoring.renameParticipants</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ltk_ui_refactoring_changePreviewViewers.html">org.eclipse.ltk.ui.refactoring.changePreviewViewers</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ltk_ui_refactoring_statusContextViewers.html">org.eclipse.ltk.ui.refactoring.statusContextViewers</a>
      </li>
    </ul>
    <h3>
      <a name="security" id="security"></a>Security
    </h3>
    <ul>

      <li>
        <a href=
        "org_eclipse_equinox_security_loginConfigurationProvider.html">org.eclipse.equinox.security.loginConfigurationProvider</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_security_loginModule.html">org.eclipse.equinox.security.loginModule</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_security_callbackHandler.html">org.eclipse.equinox.security.callbackHandler</a>

      </li>
      <li>
        <a href=
        "org_eclipse_equinox_security_callbackHandlerMapping.html">org.eclipse.equinox.security.callbackHandlerMapping</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_security_secureStorage.html">org.eclipse.equinox.security.secureStorage</a>
      </li>
    </ul>

    <h3>
      <a name="other" id="other"></a>Other
    </h3>
    <ul>
      <li>
        <a href=
        "org_eclipse_ant_core_antProperties.html">org.eclipse.ant.core.antProperties</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ant_core_antTasks.html">org.eclipse.ant.core.antTasks</a>

      </li>
      <li>
        <a href=
        "org_eclipse_ant_core_antTypes.html">org.eclipse.ant.core.antTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ant_core_extraClasspathEntries.html">org.eclipse.ant.core.extraClasspathEntries</a>
      </li>
      <li>

        <a href=
        "org_eclipse_compare_contentMergeViewers.html">org.eclipse.compare.contentMergeViewers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_compare_contentViewers.html">org.eclipse.compare.contentViewers</a>
      </li>
      <li>
        <a href=
        "org_eclipse_compare_streamMergers.html">org.eclipse.compare.streamMergers</a>

      </li>
      <li>
        <a href=
        "org_eclipse_compare_structureCreators.html">org.eclipse.compare.structureCreators</a>
      </li>
      <li>
        <a href=
        "org_eclipse_compare_structureMergeViewers.html">org.eclipse.compare.structureMergeViewers</a>
      </li>
      <li>

        <a href=
        "org_eclipse_core_expressions_propertyTesters.html">org.eclipse.core.expressions.propertyTesters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_expressions_definitions.html">org.eclipse.core.expressions.definitions</a>
      </li>
      <li>
        <a href=
        "org_eclipse_core_variables_dynamicVariables.html">org.eclipse.core.variables.dynamicVariables</a>

      </li>
      <li>
        <a href=
        "org_eclipse_core_variables_valueVariables.html">org.eclipse.core.variables.valueVariables</a>
      </li>
      <li>
        <a href=
        "org_eclipse_e4_ui_css_swt_theme.html">org.eclipse.e4.ui.css.swt.theme</a>
      </li>
      <li>
        <a href=
        "org_eclipse_e4_workbench_model.html">org.eclipse.e4.workbench.model</a>
      </li>
      <li>
        <a href=
        "org_eclipse_e4_workbench_model_definition_enrichment.html">org.eclipse.e4.workbench.model.definition.enrichment</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_bidi_bidiTypes.html">org.eclipse.equinox.bidi.bidiTypes</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_http_registry_filters.html">org.eclipse.equinox.http.registry.filters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_http_registry_httpcontexts.html">org.eclipse.equinox.http.registry.httpcontexts</a>
      </li>
      <li>

        <a href=
        "org_eclipse_equinox_http_registry_resources.html">org.eclipse.equinox.http.registry.resources</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_http_registry_servlets.html">org.eclipse.equinox.http.registry.servlets</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_p2_artifact_repository_artifactChecksums.html">org.eclipse.equinox.p2.artifact.repository.artifactChecksums</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_p2_artifact_repository_artifactComparators.html">org.eclipse.equinox.p2.artifact.repository.artifactComparators</a>
      </li>
      <li>
        <a href=
        "org_eclipse_equinox_p2_artifact_repository_artifactRepositories.html">org.eclipse.equinox.p2.artifact.repository.artifactRepositories</a>
      </li>
       <li>
        <a href=
        "org_eclipse_equinox_p2_artifact_repository_processingSteps.html">org.eclipse.equinox.p2.artifact.repository.processingSteps</a>
      </li>
      
      <li>
        <a href=
        "org_eclipse_search_searchPages.html">org.eclipse.search.searchPages</a>

      </li>
      <li>
        <a href=
        "org_eclipse_search_searchResultSorters.html">org.eclipse.search.searchResultSorters</a>
      </li>
      <li>
        <a href=
        "org_eclipse_search_searchResultViewPages.html">org.eclipse.search.searchResultViewPages</a>
      </li>
      <li>

        <a href=
        "org_eclipse_search_textSearchEngine.html">org.eclipse.search.textSearchEngine</a>
      </li>
      <li>
        <a href=
        "org_eclipse_search_textSearchQueryProvider.html">org.eclipse.search.textSearchQueryProvider</a>
      </li>
      <li>
        <a href=
        "org_eclipse_ui_externaltools_configurationDuplicationMaps.html">org.eclipse.ui.externaltools.configurationDuplicationMaps</a>

      </li>
    </ul>
  </body>
</html>
<html id='1993.s2.1.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s2.2.html" rel="next">&sect;2.2&nbsp;Lowering&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"><a class="nav" href="s2.html" rel="section">&sect;2&nbsp;Role Binding</a></div>
         <div class="sect depth2" id="s2.1">
            <h2 class="sect">&sect;2.1&nbsp;playedBy relation<a class="img" href="s2.1.html"
                  title="PermaLink to &sect;2.1&nbsp;playedBy relation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                       alt="" /></a></h2>
            <div class="syntaxlink"><a href="sA.html#sA.1.1" title="&sect;A.1.1&nbsp;ClassDeclaration"
                  class="syntax">&rarr;&nbsp;Syntax&nbsp;&sect;A.1.1</a></div>
            <div class="subsect depth3" id="s2.1.a">
               <h4 class="subsect">(a)&nbsp;<span class="title">Role-base binding</span><a class="img" href="s2.1.a.html"
                     title="PermaLink to (a)&nbsp;Role-base binding"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>Roles are bound to a base class by the <code>playedBy</code> keyword.
                  			
               </p>
               <div class="listing example frame">
                  <table class="listing">
                     <tr class="line odd">
                        <td class="ln">1</td>
                        <td><pre><b>public</b> <b>team</b> <b>class</b> MyTeamA {</pre></td>
                     </tr>
                     <tr class="line even">
                        <td class="ln">2</td>
                        <td><pre>  <b>public</b> <b>class</b> MyRole <em><b>playedBy</b> MyBase</em> {</pre></td>
                     </tr>
                     <tr class="line odd">
                        <td class="ln">3</td>
                        <td><pre>    ...</pre></td>
                     </tr>
                     <tr class="line even">
                        <td class="ln">4</td>
                        <td><pre>  }</pre></td>
                     </tr>
                     <tr class="line odd">
                        <td class="ln">5</td>
                        <td><pre>}</pre></td>
                     </tr>
                  </table>
               </div>
            </div>
            <div class="subsect depth3" id="s2.1.b">
               <h4 class="subsect">(b)&nbsp;<span class="title">Inheritance</span><a class="img" href="s2.1.b.html" title="PermaLink to (b)&nbsp;Inheritance"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>The <code>playedBy</code> relation is inherited along
                  		explicit and implicit (<a href="s1.3.1.c.html"
                     title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                     class="sect">&sect;1.3.1.(c)</a>)
                  	    role inheritance.
                  			
               </p>
            </div>
            <div class="subsect depth3" id="s2.1.c">
               <h4 class="subsect">(c)&nbsp;<span class="title">Covariant refinement</span><a class="img" href="s2.1.c.html"
                     title="PermaLink to (c)&nbsp;Covariant refinement"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>An <em>explicit</em> sub-role (sub-class using <code>extends</code>) 
                  		can refine the <code>playedBy</code> relation to a more 
                  		specific base class (this is the basis for 
                  		<a href="s2.3.3.html" title="&sect;2.3.3&nbsp;Smart lifting" class="sect">smart lifting (&sect;2.3.3)</a>).<br />
                  		If a role class inherits several <code>playedBy</code> relations from
                  		its super-class and its super-interfaces, there must be a most specific
                  		base-class among these relations, which is conform to all other base-classes.
                  		This most specific base-class is the base-class of the current role.
                  			
               </p>
            </div>
            <div class="subsect depth3" id="s2.1.d">
               <h4 class="subsect">(d)&nbsp;<span class="title">No-variance</span><a class="img" href="s2.1.d.html" title="PermaLink to (d)&nbsp;No-variance"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>An <em>implicit</em> sub-role (according to <a href="s1.3.1.c.html"
                     title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                     class="sect">&sect;1.3.1.(c)</a>)
                  		may only add a <code>playedBy</code> relation but never change an existing one.<br />
                  		Note however, that implicit inheritance may implicitly specialize an existing <code>playedBy</code> 
                  		relation (this advanced situation is illustrated in <a href="s2.7.d.html"
                     title="&sect;2.7.(d)&nbsp;Implicit playedBy specialization"
                     class="sect">&sect;2.7.(d)</a>).
                  			
               </p>
            </div>
            <div class="subsect depth3" id="s2.1.e">
               <h4 class="subsect">(e)&nbsp;<span class="title">Use of playedBy bindings</span><a class="img" href="s2.1.e.html"
                     title="PermaLink to (e)&nbsp;Use of playedBy bindings"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>The <code>playedBy</code> relation by itself has no effect
                  	    on the behavior of role and base objects.
                  	    It is, however, the precondition for translation polymorphism
                  	    (lowering: <a href="s2.2.html" title="&sect;2.2&nbsp;Lowering" class="sect">&sect;2.2</a> and lifting: <a href="s2.3.html" title="&sect;2.3&nbsp;Lifting" class="sect">&sect;2.3</a>)
                  	    and for method bindings (callout: <a href="s3.html" title="&sect;3&nbsp;Callout Binding" class="sect">&sect;3</a> and callin: <a href="s4.html" title="&sect;4&nbsp;Callin Binding" class="sect">&sect;4</a>).
                  			
               </p>
            </div>
            <div class="subsect depth3" id="s2.1.f">
               <h4 class="subsect">(f)&nbsp;<span class="title">Effect on garbage collection</span><a class="img" href="s2.1.f.html"
                     title="PermaLink to (f)&nbsp;Effect on garbage collection"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>A role and its base object form one conceptual entity. The garbage collector will see a role
                  and its base object as linked in a bidirectional manner. As a result, a role cannot be
                  garbage collected if its base is still reachable and vice versa.
                  <br />
                  Internally a team manages its roles and corresponding bases using weak references.
                  When using one of the <code>getAllRoles(..)</code>
                  methods (see <a href="s6.1.a.html"
                     title="&sect;6.1.(a)&nbsp;Interface to the role registry"
                     class="sect">&sect;6.1.(a)</a>),
                  the result may be non-deterministic because these internal structures
                  may hold weak references to objects that will be collected by the next run of the
                  garbage collector. We advise clients of <code>getAllRoles(..)</code> to call
                  <code>System.gc()</code> prior to calling <code>getAllRoles(..)</code> in order
                  to ensure deterministic results.
                  			
               </p>
            </div>
            <div class="sect depth3" id="s2.1.1">
               <h3 class="sect">&sect;2.1.1&nbsp;Binding interfaces<a class="img" href="s2.1.1.html"
                     title="PermaLink to &sect;2.1.1&nbsp;Binding interfaces"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;2.1</a></span></h3>
               <p>Role base bindings may involve classes and/or interfaces.
                  	An interface defined as a member of a team is a role interface and may therefore
                  	have a <code>playedBy</code> clause. Also the type mentioned after the
                  	<code>playedBy</code> keyword may be an interface.
                  			
               </p>
               <div class="note">
                  <h5>Implementation limitation:</h5>
                  				The language implementation as of OTDT version 2.0
                  				imposes one particular restriction when binding a role to a base interface:
                  				A role binding to a base interface may not contain any callin bindings (<a href="s4.html" title="&sect;4&nbsp;Callin Binding" class="sect">&sect;4</a>).
                  			
               </div>
            </div>
            <div class="sect depth3" id="s2.1.2">
               <h3 class="sect">&sect;2.1.2&nbsp;Legal base classes<a class="img" href="s2.1.2.html"
                     title="PermaLink to &sect;2.1.2&nbsp;Legal base classes"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;2.1</a></span></h3>
               <p>Generally, the base class mentioned after <code>playedBy</code> must be
                  		visible in the enclosing scope (see <a href="#s2.1.2.c" title="&sect;2.1.2.(c)&nbsp;Base class decapsulation"
                     class="sect">below (&sect;2.1.2.(c))</a> for an exception).
                  Normally, this scope is defined just by the imports of the enclosing team.
                  For role files (<a href="s1.2.5.b.html" title="&sect;1.2.5.(b)&nbsp;Role files" class="sect">&sect;1.2.5.(b)</a>)
                  also additional imports in the role file are considered.
                  <br /><a href="#s2.1.2.d" title="&sect;2.1.2.(d)&nbsp;Base imports" class="sect">&sect;2.1.2.(d)</a> below defines how imports can be constrained so that certain types 
                  can be used as base types, only.
                  			
               </p>
               <div class="subsect depth4" id="s2.1.2.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">No role of the same team</span><a class="img" href="s2.1.2.a.html"
                        title="PermaLink to (a)&nbsp;No role of the same team"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The base class of any role class must not be a role of the same team.
                     			<br />
                     			It is also not allowed to declare a role class of the same name
                     			as a base class bound to this or another role of the enclosing team,
                     			if that base class is given with its simple name and resolved using a regular import.
                     			Put differently, a base class mentioned after <code>playedBy</code>
                     			may not be <em>shadowed</em> by any role class of the enclosing team.
                     			<br /><em>Base imports</em> as defined below (<a href="#s2.1.2.d" title="&sect;2.1.2.(d)&nbsp;Base imports" class="sect">&sect;2.1.2.(d)</a>) relax this rule by 
                     			allowing to import a class as a base class only. In that case no shadowing occurs since the scopes for 
                     			base classes and roles are disjoint.
                     				
                  </p>
               </div>
               <div class="subsect depth4" id="s2.1.2.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Cycles</span><a class="img" href="s2.1.2.b.html" title="PermaLink to (b)&nbsp;Cycles"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The base class mentioned after <code>playedBy</code> should normally not be
                     an enclosing type (at any depth) of the role class being defined.
                     <br />
                     This rule discourages the creation of cycles where the base instance of
                     a given role <code>R</code> contains roles of the same type <code>R</code>.
                     <br />
                     More generally this concerns any sequence of classes <code>C<sub>1</sub>, C<sub>2</sub>, .. C<sub>n</sub></code>
                     were each <code>C<sub>i+1</sub></code> is either a member or the base class of 
                     <code>C<sub>i</sub></code> and <code>C<sub>n</sub> = C<sub>1</sub></code>.
                     <br />
                     Such structures may be difficult to understand and have certain restrictions regarding
                     callout (<a href="s3.1.a.html" title="&sect;3.1.(a)&nbsp;Prerequisite: Class binding"
                        class="sect">&sect;3.1.(a)</a>) and base constructor calls (<a href="s2.4.2.html"
                        title="&sect;2.4.2&nbsp;Role creation via a regular constructor"
                        class="sect">&sect;2.4.2</a>).
                     It is furthermore recommended to equip all roles that are played by an enclosing class with a guard predicate (<a href="s5.4.html" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>) like this:
                     
                  </p>
                  <div class="listing plain"><pre><em>base</em><em> when</em> (MyTeam.this == <em>base</em>)</pre></div>
                  <p>
                     				This will avoid that the role adapts other instances of the enclosing class which are not the enclosing instance.
                     
                  </p>
                  <p>
                     It is prohibited to bind a role class to its own inner class.
                     				
                  </p>
               </div>
               <div class="subsect depth4" id="s2.1.2.c">
                  <h4 class="subsect">(c)&nbsp;<span class="title">Base class decapsulation</span><a class="img" href="s2.1.2.c.html"
                        title="PermaLink to (c)&nbsp;Base class decapsulation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>If a base class referenced after <code>playedBy</code> exists but is not visible under normal visibility rules of Java, 
                     				this restriction may be overridden. This concept is called <strong>decapsulation</strong>, i.e., the opposite of encapsulation 
                     				(see also <a href="s3.4.html" title="&sect;3.4&nbsp;Overriding access restrictions"
                        class="sect">&sect;3.4</a>). A compiler should signal any occurrence of base class decapsulation. If a compiler supports to 
                     				configure warnings this may be used to let the user choose to (a) ignore base class decapsulation, (b) treat it as a warning
                     or even 
                     				(c) treat it as an error.
                     
                  </p>
                  <p>
                     Binding to a <code>final</code> base class is also considered as decapsulation, since a <code>playedBy</code> relationship has
                     powers similar to an <code>extends</code> relationship, which is prohibited by marking a class as <code>final</code>.
                     
                  </p>
                  <p>
                     Decapsulation is not allowed if the base class is a confined role (see <a href="s7.2.html" title="&sect;7.2&nbsp;Confined roles" class="sect">&sect;7.2</a>).
                     
                  </p>
                  <p>
                     Within the current role a decapsulated base class can be mentioned in the right-hand-side of any method binding 
                     (<a href="s3.html" title="&sect;3&nbsp;Callout Binding" class="sect">callout (&sect;3)</a> or <a href="s4.html" title="&sect;4&nbsp;Callin Binding" class="sect">callin (&sect;4)</a>). Also arguments in these positions are allowed to mention the decapsulated base class:
                     
                  </p>
                  <ul>
                     <li>the first argument of one of the role's constructors (see <a href="s2.4.1.html"
                           title="&sect;2.4.1&nbsp;Role creation via a lifting constructor"
                           class="sect">lifting constructor (&sect;2.4.1)</a>).
                     </li>
                     <li>the base side of an argument with declared lifting (see <a href="s2.3.2.html" title="&sect;2.3.2&nbsp;Declared lifting" class="sect">declared lifting (&sect;2.3.2)</a>).
                     </li>
                  </ul>
               </div>
               <div class="subsect depth4" id="s2.1.2.d">
                  <h4 class="subsect">(d)&nbsp;<span class="title">Base imports</span><a class="img" href="s2.1.2.d.html" title="PermaLink to (d)&nbsp;Base imports"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>If the main type in a file denotes a team, the modifier <code>base</code> can be applied to a single import in order to specify that this type 
                     					should be imported for application as a base type only. Example:
                     				
                  </p>
                  <div class="listing example frame">
                     <table class="listing">
                        <tr class="line odd">
                           <td class="ln">1</td>
                           <td><pre><em><b>import</b> base</em> some.pack.MyBase;</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">2</td>
                           <td><pre><b>public</b> <b>team</b> <b>class</b> MyTeam {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">3</td>
                           <td><pre>  <span class="comment">// simple name resolves to imported class:</span></pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">4</td>
                           <td><pre>  <b>protected</b> <b>class</b> MyRole <em><b>playedBy</b> MyBase</em> { } </pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">5</td>
                           <td><pre>  <span class="error"><em>MyBase</em> illegalDeclaration;</span> <span class="comment">// base import does not apply for this position</span></pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">6</td>
                           <td><pre>}</pre></td>
                        </tr>
                     </table>
                  </div>
                  <p>Base imports cannot be on-demand imports (using the wildcard <code>.*</code>).<br />
                     			Types imported by a base import can only be used in the same positions where also base class decapsulation (<a href="#s2.1.2.c" title="&sect;2.1.2.(c)&nbsp;Base class decapsulation"
                        class="sect">&sect;2.1.2.(c)</a>) 
                     			is applicable.<br />
                     			It is recommended that a type mentioned after the keyword <code>playedBy</code> is always imported with the <code>base</code> modifier, otherwise the compiler 
                     			will give a warning.<br />
                     	Base imports create a scope that is disjoint from the normal scope. Thus, names that are imported as base will never clash
                     with normally visible names 
                     	(in contrast to <a href="s1.4.html" title="&sect;1.4&nbsp;Name clashes" class="sect">&sect;1.4</a>). More specifically, it is not a problem to use a base class's name also for its role if a base import is used.
                     				
                  </p>
               </div>
               <div class="subsect depth4" id="s2.1.2.e">
                  <h4 class="subsect">(e)&nbsp;<span class="title">No free type parameters</span><a class="img" href="s2.1.2.e.html"
                        title="PermaLink to (e)&nbsp;No free type parameters"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>
                     				Neither the role class nor the base class in a playedBy binding must have any <em>free type parameters</em>.
                     				If both classes are specified with a type parameter of the same name, both parameters are identified
                     				and are not considered as <em>free</em>.
                     				
                  </p>
                  <p>
                     				From this follows that a role class cannot have more type parameters than its base.
                     				Conversely, only one situation exists where a base class can have more type parameters than a role class
                     				bound to it: if the role class has no type parameters a generic base class can be bound using
                     				the base class's raw type, i.e., without specifying type arguments.
                     				
                  </p>
                  <div class="note">
                     <h5>Note:</h5>
                     					The information from the <code>playedBy</code> declaration is used at run-time 
                     					to associate role instances to base instances.
                     					Specifying a base class with free type parameters would imply that only such base instances
                     					are decorated by a role whose type is conform to the specified parameterized class.
                     					However, type arguments are not available at run-time, thus the run-time environment
                     					is not able to decide which base instances should have a role and which should not.
                     					This is due to the design of generics in Java which are realized by erasure.
                     				
                  </div>
                  <p>The following example shows how generics can be used in various positions. Note, that some of the concepts used in the example
                     will be explained in later sections.
                  </p>
                  <div class="listing example frame">
                     <table class="listing">
                        <tr class="line odd">
                           <td class="ln">1</td>
                           <td><pre><b>public</b> <b>class</b> ValueTrafo<em>&lt;T&gt;</em> {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">2</td>
                           <td><pre>  <b>public</b> <em>T</em> transform(<em>T</em> val) <b>throws</b> Exception { /* ... */ }</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">3</td>
                           <td><pre>}</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">4</td>
                           <td><pre><b>public</b> <b>team</b> <b>class</b> TransformTeam {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">5</td>
                           <td><pre>    <b>protected</b> <b>class</b> SafeTrafo<em>&lt;U&gt;</em> <b>playedBy</b> ValueTrafo<em>&lt;U&gt;</em> {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">6</td>
                           <td><pre>        <em>U</em> transform(<em>U</em> v) <b>-&gt;</b> <em>U</em> transform(<em>U</em> val); </pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">7</td>
                           <td><pre>        <b>protected</b> <em>U</em> safeTransform(<em>U</em> v) {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">8</td>
                           <td><pre>            <b>try</b> {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">9</td>
                           <td><pre>            	<b>return</b> transform(v);</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">10</td>
                           <td><pre>            } <b>catch</b> (Exception e) {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">11</td>
                           <td><pre>            	<b>return</b> v;</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">12</td>
                           <td><pre>            }</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">13</td>
                           <td><pre>        }</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">14</td>
                           <td><pre>    }</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">15</td>
                           <td><pre>    <em>&lt;V&gt; V</em> perform(ValueTrafo<em>&lt;V&gt;</em> <b>as</b> SafeTrafo<em>&lt;V&gt;</em> trafo, <em>V</em> value) {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">16</td>
                           <td><pre>        <b>return</b> trafo.safeTransform(value);</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">17</td>
                           <td><pre>    } </pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">18</td>
                           <td><pre>}</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">19</td>
                           <td><pre>...</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">20</td>
                           <td><pre>ValueTrafo<em>&lt;String&gt;</em> trafo = <b>new</b> ValueTrafo<em>&lt;String&gt;</em>();</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">21</td>
                           <td><pre>TransformTeam safeTrafo = <b>new</b> TransformTeam();</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">22</td>
                           <td><pre>String s = safeTrafo.perform(trafo, "Testing");</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">23</td>
                           <td><pre></pre></td>
                        </tr>
                     </table>
                  </div>
                  <div class="codecomment">
                     <h5>Explanation</h5>
                     <ul>
                        <li>Line 5 shows a role with type parameter <code>U</code> where the type parameter is identified with the
                           					    corresponding type parameter of the role's base class (which is originally declared as <code>T</code> in line 1.
                        </li>
                        <li>Line 6 shows a callout binding (<a href="s3.html" title="&sect;3&nbsp;Callout Binding" class="sect">&sect;3</a>) which mappes a base method to a corresponding role method
                           						while maintaining the flexible typing.
                        </li>
                        <li>The regular method in lines 7-13 just passes values of type <code>U</code> around.
                        </li>
                        <li>The generic method in line 15 ff. uses declared lifting (<a href="s2.3.2.html" title="&sect;2.3.2&nbsp;Declared lifting" class="sect">&sect;2.3.2</a>) to obtain a role for a given base object.
                           						The method has no knowledge about the concrete type arguments of either role nor base, but works under the guarantee
                           						that both type arguments will be the same for any single invocation.
                        </li>
                        <li>Lines 20 ff. finally create instances of base and team and invoke the behavior thereby instantiating type parameters to <code>String</code>.
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s2.2.html" rel="next">&sect;2.2&nbsp;Lowering&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"><a class="nav" href="s2.html" rel="section">&sect;2&nbsp;Role Binding</a></div>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2015-06-09
      </div>
   </body>
</html><html id='2869.org_eclipse_ui_commands.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Commands</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Commands</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.commands<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>2.1
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>
The <code>org.eclipse.ui.commands</code> extension point is used to declare commands and command categories, using the <code>command</code> and <code>category</code> elements. A command is an abstract representation of some semantic behaviour, but not its actual implementation.  This allows different developers to contribute specific behaviour for their individual parts.  For example, there might be a "paste" command with one implementation in an editor and a different implementation in an explorer widget.  These implementations are called handlers.  Commands can also be viewed as declarative function pointers, or signal handlers.
</p><p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.category">category</a>* , <a href="#e.command">command</a>* , <a href="#e.commandParameterType">commandParameterType</a>* , <a href="#e.keyBinding">keyBinding</a>* , <a href="#e.keyConfiguration">keyConfiguration</a>* , <a href="#e.context">context</a>* , <a href="#e.scope">scope</a>* , <a href="#e.activeKeyConfiguration">activeKeyConfiguration</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - An optional identifier of the extension instance.</li>
<li><b>name</b> - An optional name of the extension instance.</li>
<li><b>point</b> - A fully qualified identifier of the target extension point.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.command">command</a> (<a href="#e.defaultHandler">defaultHandler</a>? , <a href="#e.state">state</a>* , <a href="#e.commandParameter">commandParameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST command</p>
<p class="code SchemaDtdAttlist">category&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">description&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">categoryId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">defaultHandler&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">returnTypeId&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
This element is used to define commands. A command represents an request from the user that can be handled by an action, and should be semantically unique among other commands. Do not define a command if there is already one defined with the same meaning. If more than one of these elements exist with the same <code>id</code> attribute, only the last declared element (in order of reading the plugin registry) is considered valid. See the extension points <a href="org_eclipse_ui_actionSets.html">org.eclipse.ui.actionSets</a> and <a href="org_eclipse_ui_editorActions.html">org.eclipse.ui.editorActions</a> to understand how actions are connected to commands.
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>category</b> - Please use <code>categoryId</code> instead.</li>
<li><b>description</b> - A translatable short description of this command for display in the UI.</li>
<li><b>id</b> - The unique identifier of this command.</li>
<li><b>name</b> - The translatable name of this command for display in the UI. Commands are typically named in the form of an imperative verb.</li>
<li><b>categoryId</b> - <p>
The unique id of the category for this command. If this command does not specify a category it will be placed in an global "Uncategorized" category and will be filtered by default on the Keys preference page, meaning users cannot assign a key binding unless they disable the filter for "Uncategorized" commands.
</p>
<p><em>Since: 3.0</em></p></li>
<li><b>defaultHandler</b> - <p>
The default handler for this command (see the <a href="org_eclipse_ui_handlers.html">org.eclipse.ui.handlers</a> extension point).  If no other handler is active, this handler will be active.  This handler will conflict with other handler definitions that specify no <code>activeWhen</code> conditions.  If you are creating an <code>IExecutableExtension</code>, you can use the <code>defaultHandler</code> element instead.
</p>
<p><em>Since: 3.1</em></p></li>
<li><b>returnTypeId</b> - <p>
The id of a <code>commandParameterType</code> indicating the type of value returned by this command.  Specifying a <code>returnTypeId</code> allows clients executing the command to associate the value returned with a Java type and to convert the value to a String form that may be stored and/or passed to another command that accepts parameters of the same type.
</p>
<p><em>Since: 3.2</em></p></li>
<li><b>helpContextId</b> - <p>
The identifier of the help context that relates to this command in general.  Handlers can override this context identifier to provide help that is more specific to their particular behaviours.
</p>
<p><em>Since: 3.2</em></p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.category">category</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST category</p>
<p class="code SchemaDtdAttlist">description&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
In the UI, commands are often organized by category to make them more manageable. This element is used to define these categories. Commands can add themselves to at most one category. If more than one of these elements exist with the same <code>id</code> attribute, only the last declared element (in order of reading the plugin registry) is considered valid.
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>description</b> - A translatable short description of this category for display in the UI.</li>
<li><b>id</b> - The unique identifier of this category.</li>
<li><b>name</b> - The translatable name of this category for display in the UI.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.commandParameter">commandParameter</a> (<a href="#e.values">values</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST commandParameter</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">values&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">typeId&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">optional&nbsp;(true | false) "true"&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
Defines a parameter that a command should understand.  A parameter is a way to provide more information to a handler at execution time.  For example, a "show view" command might take a view as a parameter.  Handlers should be able to understand these parameters, so they should be treated like API.
</p>
<p><em>Since: 3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The unique identifier for this parameter.</li>
<li><b>name</b> - The name for the parameter.  This is the name as it will be displayed to an end-user.  As such, it should be translatable.  The name should be short -- preferrably one word.</li>
<li><b>values</b> - The class providing a list of parameter values for the user to select.  This class should implement <code>org.eclipse.core.commands.IParameterValues</code>.  If this class is not specified, you must specify the more verbose <code>values</code> element.  Please see <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
<li><b>typeId</b> - The id of a commandParameterType for this commandParameter.  Specifying a typeId allows handlers of a command to convert string parameter values to objects in a consistent way and it allows potential callers of a command to look for commands that take objects of various types for their parameters.</li>
<li><b>optional</b> - Whether this parameter is optional.  If a parameter is optional, the handler should be able to handle the absence of the parameter.  By default, all parameters are optional.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.commandParameterType">commandParameterType</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST commandParameterType</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">converter&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
Defines the object type of a commandParameter and may specify an <code>org.eclipse.core.commands.AbstractParameterValueConverter</code> subclass to convert between string parameter values and objects.
</p>
<p><em>Since: 3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - The unique identifier for this commandParameterType.</li>
<li><b>type</b> - The fully qualified name of a Java class or interface to use as the type of this command parameter.  This attribute is optional, however if omitted, <code>java.lang.Object</code> will be used as the parameter type.</li>
<li><b>converter</b> - The class for converting between objects and string representations of objects for command parameter values.  This class should extend <code>org.eclipse.core.commands.AbstractParameterValueConverter</code>. The converter should produce and consume objects of the type indicated in the <code>type</code> attribute. If this class is not specified, this facility to convert between string and object values for this parameter type will not be available (the <code>getValueConverter()</code> on class <code>ParameterType</code> will return <code>null</code>).</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.values">values</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST values</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
The more verbose version of the <code>values</code> attribute on the <code>commandParameter</code>.
</p>
<p><em>Since: 3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - The class providing a list of parameter values for the user to select.  This class should implement <code>org.eclipse.core.commands.IParameterValues</code>.  If this class is not specified, you must specify the more verbose <code>values</code> element.  Please see <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
A possible value for a parameter.
</p>
<p><em>Since: 3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - The name of the parameter to pass to the <code>IExecutableExtension</code>.</li>
<li><b>value</b> - The value of the parameter to pass to the <code>IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.defaultHandler">defaultHandler</a> (<a href="#e.parameter">parameter</a>)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST defaultHandler</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
The default handler for this command.  If no other handler is active, this handler will be active.  This handler will conflict with other handler definitions that specify no <code>activeWhen</code> conditions.  If you are not creating an <code>IExecutableExtension</code>, you can use the <code>defaultHandler</code> attribute instead.
</p>
<p><em>Since: 3.1</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - The class which implements <code>org.eclipse.core.commands.IHandler</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.state">state</a> (<a href="#e.class">class</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST state</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
State information shared between all handlers, and potentially persisted between sessions.The state is simply a class that is loaded to look after the state.  See the API Information for more details.  This is not used for UI attributes like a menu contribution check box state or label.
</p>
<p><em>Since: 3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - The class that can be loaded to store the state of this command.  State is shared amongst handlers, and can be persisted between sessions.  This class must subclass <code>org.eclipse.core.commands.State</code>.  Please see API Information.</li>
<li><b>id</b> - <p>
A unique identifier for this state.  This is used for persisting the state between sessions (if the state is an instance of <code>org.eclipse.jface.commands.PersistentState</code>).  Certain common identifiers (see <code>org.eclipse.jface.menus.IMenuStateIds</code>) are understood when the command is being rendered in the menus or tool bars.  The identifier only needs to be unique within the command defining the state.
</p></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
The class that can be loaded to store the state of this command.  This element is used if you wish to pass multiple parameters to an <code>org.eclipse.core.runtime.IExecutableExtension</code>.
</p>
<p><em>Since: 3.2</em></p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - The class that can be loaded to store the state of this command.  State is shared amongst handlers, and can be persisted between sessions.  This class must implement <code>org.eclipse.core.commands.State</code>.  Please see API Information.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>keyConfiguration</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.keyConfiguration">keyConfiguration</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST keyConfiguration</p>
<p class="code SchemaDtdAttlist">description&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">parentId&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define key configurations. If more than one of these elements exist with the same <code>id</code> attribute, only the last declared element (in order of reading the plugin registry) is considered valid.  Please use the "org.eclipse.ui.bindings" extension point instead.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>description</b> - A translatable short description of this key configuration for display in the UI.</li>
<li><i style="color: red;">Deprecated</i> <b>id</b> - The unique identifier of this key configuration.</li>
<li><i style="color: red;">Deprecated</i> <b>name</b> - The translatable name of this key configuration for display in the UI. If this key configuration has a parent, it is not necessary to add "(extends ...)" to the name. This will be automatically added by the UI where necessary.</li>
<li><i style="color: red;">Deprecated</i> <b>parent</b> - The unique id of the parent key configuration. If this key configuration has a parent, it will borrow all key bindings from its parent, in addition to the key bindings defined in its own key configuration.
@deprecated Please use parentId instead.</li>
<li><i style="color: red;">Deprecated</i> <b>parentId</b> - The unique id of the parent key configuration. If this key configuration has a parent, it will borrow all key bindings from its parent, in addition to the key bindings defined in its own key configuration.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>context</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.context">context</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST context</p>
<p class="code SchemaDtdAttlist">description&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">parentId&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define contexts. If more than one of these elements exist with the same <code>id</code> attribute, only the last declared element (in order of reading the plugin registry) is considered valid.  Please use the <a href="org_eclipse_ui_contexts.html">org.eclipse.ui.contexts</a> extension point instead.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>description</b> - A translatable short description of this context for display in the UI.</li>
<li><i style="color: red;">Deprecated</i> <b>id</b> - The unique identifier of this context.</li>
<li><i style="color: red;">Deprecated</i> <b>name</b> - The translatable name of this context for display in the UI. If this context has a parent, it is not necessary to add "(extends parent)" to the name. This will be automatically added by the UI where necessary.</li>
<li><i style="color: red;">Deprecated</i> <b>parent</b> - The unique id of the parent context. If this context has a parent, it will borrow all key bindings from its parent, in addition to the key bindings defined in its own context.
@deprecated Please use "parentId" instead.</li>
<li><i style="color: red;">Deprecated</i> <b>parentId</b> - The unique id of the parent context. If this context has a parent, it will borrow all key bindings from its parent, in addition to the key bindings defined in its own context.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>scope</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.scope">scope</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST scope</p>
<p class="code SchemaDtdAttlist">description&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define scopes. If more than one of these elements exist with the same <code>id</code> attribute, only the last declared element (in order of reading the plugin registry) is considered valid.
@deprecated Please use the "org.eclipse.ui.contexts" extension point instead.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>description</b> - A translatable short description of this scope for display in the UI.

@deprecated Please use the "org.eclipse.ui.contexts" extension point instead.</li>
<li><i style="color: red;">Deprecated</i> <b>id</b> - The unique identifier of this scope.

@deprecated Please use the "org.eclipse.ui.contexts" extension point instead.</li>
<li><i style="color: red;">Deprecated</i> <b>name</b> - The translatable name of this scope for display in the UI. If this scope has a parent, it is not necessary to add "(extends parent)" to the name. This will be automatically added by the UI where necessary.

@deprecated Please use the "org.eclipse.ui.contexts" extension point instead.</li>
<li><i style="color: red;">Deprecated</i> <b>parent</b> - The unique id of the parent scope. If this scope has a parent, it will borrow all key bindings from its parent, in addition to the key bindings defined in its own scope.

@deprecated Please use the "org.eclipse.ui.contexts" extension point instead.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>activeKeyConfiguration</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.activeKeyConfiguration">activeKeyConfiguration</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST activeKeyConfiguration</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">keyConfigurationId&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<div class="ConfigMarkupElementDesc">
<p>
This element is used to define the initial active key configuration for Eclipse. If more than one of these elements exist, only the last declared element (in order of reading the plugin registry) is considered valid.
</p>
<p>
This element has been replaced with a preference.  If your application needs to change the default key configuration, then specify the following in your <code>plugin_customization.ini</code> file: <code>org.eclipse.ui/KEY_CONFIGURATION_ID=your.default.key.configuration.id</code>.
</p></div>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>value</b> - The unique id (<code>id</code> attribute) of the keyConfiguration element one wishes to be initially active.</li>
<li><i style="color: red;">Deprecated</i> <b>keyConfigurationId</b> - The unique id (<code>id</code> attribute) of the keyConfiguration element one wishes to be initially active.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>keyBinding</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.keyBinding">keyBinding</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST keyBinding</p>
<p class="code SchemaDtdAttlist">configuration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">locale&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">platform&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">contextId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">scope&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">keyConfigurationId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">commandId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">keySequence&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element allows one to assign key sequences to commands.  Please use the <code>key</code> element in the "org.eclipse.ui.bindings" extension point instead.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><i style="color: red;">Deprecated</i> <b>configuration</b> - The unique id of the key configuration of this key binding.
@deprecated Please use keyConfigurationId instead.</li>
<li><i style="color: red;">Deprecated</i> <b>command</b> - The unique identifier of the command to which the key sequence specified by this key binding is assigned. If the value of this attribute is an empty string, the key sequence is assigned to an internal 'no operation' command. This is useful for 'undefining' key bindings in specific key configurations and contexts which may have been borrowed from their parents.
@deprecated Please use "commandId" instead.</li>
<li><i style="color: red;">Deprecated</i> <b>locale</b> - An optional attribute indicating that this key binding is only defined for the specified locale. Locales are specified according to the format declared in <code>java.util.Locale</code>.</li>
<li><i style="color: red;">Deprecated</i> <b>platform</b> - An optional attribute indicating that this key binding is only defined for the specified platform. The possible values of the <code>platform</code> attribute are the set of the possible values returned by <code>org.eclipse.swt.SWT.getPlatform()</code>.</li>
<li><i style="color: red;">Deprecated</i> <b>contextId</b> - The unique id of the context of this key binding.</li>
<li><i style="color: red;">Deprecated</i> <b>string</b> - The key sequence to assign to the command. Key sequences consist of one or more key strokes, where a key stroke consists of a key on the keyboard, optionally pressed in combination with one or more of the following modifiers: Ctrl, Alt, Shift, and Command. Key strokes are separated by spaces, and modifiers are separated by '+' characters.
@deprecated Please use "keySequence" instead.</li>
<li><i style="color: red;">Deprecated</i> <b>scope</b> - The unique id of the context of this key binding.
@deprecated Please use "contextId" instead.  The old default scope, "org.eclipse.ui.globalScope", has been changed to "org.eclipse.ui.contexts.window".  The old name is still supported, but it is deprecated.</li>
<li><i style="color: red;">Deprecated</i> <b>keyConfigurationId</b> - The unique id of the key configuration of this key binding.
@deprecated Please use the <code>schemeId</code> attribute on the <code>key</code> element in the new "org.eclipse.ui.bindings" extension point.</li>
<li><i style="color: red;">Deprecated</i> <b>commandId</b> - The unique identifier of the command to which the key sequence specified by this key binding is assigned. If the value of this attribute is an empty string, the key sequence is assigned to an internal 'no operation' command. This is useful for 'undefining' key bindings in specific key configurations and contexts which may have been borrowed from their parents.</li>
<li><i style="color: red;">Deprecated</i> <b>keySequence</b> - <p>The key sequence to assign to the command. Key sequences consist of one or more key strokes, where a key stroke consists of a key on the keyboard, optionally pressed in combination with one or more of the following modifiers: Ctrl, Alt, Shift, and Command. Key strokes are separated by spaces, and modifiers are separated by '+' characters.</p>
<p>The modifier keys can also be expressed in a platform-independent way.  On MacOS X, for example, "Command" is almost always used in place of "Ctrl".  So, we provide "M1" which will map to either "Ctrl" or "Command", as appropriate.  Similarly, "M2" is "Shift"; "M3" is "Alt"; and "M4" is "Ctrl" (MacOS X).  If more platforms are added, then you can count on these aliases being mapped to good platform defaults.</p>
<p>The syntax for this string is defined in <code>org.eclipse.ui.internal.keys</code>.  Briefly, the string is case insensitive -- though all capitals is preferred stylistically.  If the key is a letter, then simply append the letter.  If the key is a special key (i.e., non-ASCII), then use one of the following: ARROW_DOWN, ARROW_LEFT, ARROW_RIGHT, ARROW_UP, BREAK, CAPS_LOCK, END, F1, F2, F3, F4, F5, F6, F7, F8, F9, F10, F11, F12, F13, F14, F15, HOME, INSERT, NUM_LOCK, NUMPAD_0, NUMPAD_1, NUMPAD_2, NUMPAD_3, NUMPAD_4, NUMPAD_5, NUMPAD_6, NUMPAD_7, NUMPAD_8, NUMPAD_9, NUMPAD_ADD, NUMPAD_DECIMAL, NUMPAD_DIVIDE, NUMPAD_ENTER, NUMPAD_EQUAL, NUMPAD_MULTIPLY, NUMPAD_SUBTRACT, PAGE_UP, PAGE_DOWN, PAUSE, PRINT_SCREEN, or SCROLL_LOCK.  If the key is a non-printable ASCII key, then use one of the following: BS, CR, DEL, ESC, FF, LF, NUL, SPACE, TAB, or VT.  Note that the main keyboard enter/return key is CR.</p></li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6><p>
The <code>plugin.xml</code> file in the <code>org.eclipse.ui</code> plugin makes extensive use of the <code>org.eclipse.ui.commands</code> extension point.
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6><p>
Handlers can be registered with commands using the <code>org.eclipse.ui.handlers.IHandlerService</code>.  This can be retrieved from various workbench components (e.g., workbench, workbench window, part site, etc.) by calling <code>getService(IHandlerService.class)</code>.
</p>
<p>
In general, it is preferrably to declare all commands statically (in <code>plugin.xml</code>).  This is so that users can attach key bindings to the commands.  However, it is possible to declare commands at run-time.  To do this, retrieve the <code>org.eclipse.ui.commands.ICommandService</code> from a workbench component, call <code>getCommand(yourCommandID)</code> and then call <code>Command.define(...)</code>.
Commands defined programmatically must be cleaned up by the plugin if it is unloaded.
</p>
<p>
There are a few default implementations of handler states that may be useful to users of this extension point:
</p>
<ul>
<li>org.eclipse.jface.commands.TextState</li>
<li>org.eclipse.jface.commands.RadioState</li>
<li>org.eclipse.jface.commands.ToggleState</li>
<li>org.eclipse.ui.handlers.RegistryRadioState</li>
<li>org.eclipse.ui.handlers.RegistryToggleState</li>
</ul>
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2000, 2018 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='3838.202_xtend_classes_members.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>Classes and Members</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="xtend-classes-members">Classes and Members</h1>

<p>At a first glance an Xtend file pretty much looks like a Java file. It starts with a package declaration followed by an import section and class definitions. The classes in fact are directly translated to Java classes in the corresponding Java package. A class can have constructors, fields, methods and annotations.</p>

<p>Here is an examplary Xtend file:</p>

<pre><code class="language-xtend">package com.acme

import java.util.List

class MyClass {
  String name
  
  new(String name) {
    this.name = name
  }
  
  def String first(List&lt;String&gt; elements) {
    elements.get(0)
  }
}
</code></pre>

<h2 id="package-decl">Package Declaration</h2>

<p>Package declarations can look like those in Java. Two small, optional differences:</p>

<ul>
  <li>An identifier can be escaped with a <code>^</code> character in case it conflicts with a keyword.</li>
  <li>The terminating semicolon is optional.</li>
</ul>

<pre><code class="language-xtend">  package com.acme
</code></pre>

<h2 id="imports">Imports</h2>

<p>The ordinary imports of type names are equivalent to the imports known from Java. Again one can escape any names conflicting with keywords using a <code>^</code>. In contrast to Java, the terminating semicolon is optional. Non-static wildcard type imports are deprecated for the benefit of better usability and well defined dependencies.</p>

<p>Xtend also features static imports for importing static fields and methods. The semantics and syntax are just like in Java.</p>

<p>As in Java all classes from the <code>java.lang</code> package are implicitly imported.</p>

<pre><code class="language-xtend">import java.math.BigDecimal
import static java.util.Collections.sort
import static org.junit.Assert.*
</code></pre>

<p>Static methods can also be imported as <code>extension</code>s. See the section on <a href="202_xtend_classes_members.html#extension-methods">extension methods</a> for details.</p>

<h2 id="xtend-class-declaration">Class Declaration</h2>

<p>The class declaration reuses a lot of Javas syntax but still is a bit different in some aspects: All Xtend types are <code>public</code> by default since thats the common case. Javas package private default visibility is declared by the more explicit keyword <code>package</code> in Xtend. In contrast to Java, Xtend supports multiple public top level class declarations per file. Each Xtend class is compiled to a separate top-level Java class.</p>

<p>Abstract classes are defined using the <code>abstract</code> modifier as in Java. See also <a href="202_xtend_classes_members.html#abstract-methods">abstract methods</a>.</p>

<p>Xtends approach to inheritance is conceptually the same as in Java. Single inheritance of classes as well as implementing multiple interfaces is supported. Xtend classes can extend other Xtend classes, and even Java classes can inherit from Xtend classes. If no super type is specified, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> is used.</p>

<p>The most simple class looks like this:</p>

<pre><code class="language-xtend">class MyClass {
}
</code></pre>

<p>A more advanced generic class declaration in Xtend:</p>

<pre><code class="language-xtend">class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;
        implements List&lt;E&gt;, RandomAccess, 
                   Cloneable, java.io.Serializable {
  ...
}
</code></pre>

<h2 id="constructors">Constructors</h2>

<p>An Xtend class can define any number of constructors. Unlike Java you do not have to repeat the name of the class over and over again, but use the keyword <code>new</code> to declare a constructor. Constructors can also delegate to other constructors using <code>this(args...)</code> in their first line.</p>

<pre><code class="language-xtend">class MyClass extends AnotherClass {
  new(String s) {
    super(s)
  }
  
  new() {
    this("default")
  }
}
</code></pre>

<p>The same rules with regard to inheritance apply as in Java, i.e. if the super class does not define a no-argument constructor, you have to explicitly call one using <code>super(args...)</code> as the first expression in the body of the constructor.</p>

<p>The default visibility of constructors is <code>public</code> but you can also specify an explicit visiblity <code>public</code>, <code>protected</code>, <code>package</code> or <code>private</code>.</p>

<h2 id="fields">Fields</h2>

<p>A field can have an initializer. Final fields are declared using <code>val</code>, while <code>var</code> introduces a non-final field and can be omitted. Yet, if an initializer expression is present, the type of a field can be inferred if <code>val</code> or <code>var</code> was used to introduce the field. The keyword <code>final</code> is synonym to <code>val</code>. Fields marked as <code>static</code> will be compiled to static Java fields.</p>

<pre><code class="language-xtend">class MyClass {
  int count = 1
  static boolean debug = false
  var name = 'Foo'          // type String is inferred 
  val UNIVERSAL_ANSWER = 42 // final field with inferred type int
  ...
}
</code></pre>

<p>The default visibility for fields is <code>private</code>. You can also declare it explicitly as being <code>public</code>, <code>protected</code>, <code>package</code> or <code>private</code>.</p>

<p>A specialty of Xtend are fields that provide <em>extension methods</em> which are covered in <a href="202_xtend_classes_members.html#extension-methods">their own section</a>.</p>

<h2 id="methods">Methods</h2>

<p>Xtend methods are declared within a class and are translated to a corresponding Java method with exactly the same signature. The only exceptions are dispatch methods, which are explained <a href="202_xtend_classes_members.html#polymorphic-dispatch">later</a>.</p>

<pre><code class="language-xtend">def String first(List&lt;String&gt; elements) {
  elements.get(0)
}
</code></pre>

<p>Method declarations start with the keyword <code>def</code>. The default visibility of a method is <code>public</code>. You can explicitly declare it as being <code>public</code>, <code>protected</code>, <code>package</code> or <code>private</code>.</p>

<p>Xtend supports the <code>static</code> modifier for methods and can <a href="202_xtend_classes_members.html#inferred-return-types">infer</a> the return type if it is not explicitly given:</p>

<pre><code class="language-xtend">def static createInstance() {
  new MyClass('foo')
}
</code></pre>

<p>As in Java, vararg parameters are allowed and accessible as array values in the method body:</p>

<pre><code class="language-xtend">def printAll(String... strings) {
  strings.forEach[ s | println(s) ]
}
</code></pre>

<p>It is possible to infer the return type of a method from its body. Recursive methods and abstract methods have to declare an explicit return type.</p>

<h3 id="abstract-methods">Abstract Methods</h3>

<p>An abstract method in Xtend does not define a body and must be declared within an <code>abstract</code> class or an interface. Also specifying the return type is mandatory since it cannot be inferred.</p>

<pre><code class="language-xtend">abstract class MyAbstractClass() {
  def String abstractMethod() // no body
}
</code></pre>

<h3 id="overriding-methods">Overriding Methods</h3>

<p>Methods can override other methods from the super class or implement interface methods using the keyword <code>override</code>. If a method overrides a method from a super type, the <code>override</code> keyword is mandatory and replaces the keyword <code>def</code>. The override semantics are the same as in Java, e.g. it is impossible to override <code>final</code> methods or invisible methods. Overriding methods inherit their return type from the super declaration.</p>

<p>Example:</p>

<pre><code class="language-xtend">override String second(List&lt;String&gt; elements) {
  elements.get(1)
}
</code></pre>

<h3 id="declared-exceptions">Declared Exceptions</h3>

<p>Xtend does not force you to catch or declare checked exceptions. Nevertheless, you can still declare the exceptions thrown in a methods body using the <code>throws</code> clause as in Java.</p>

<p>If you do not declare checked exceptions in your method but they are possibly thrown in your code, the compiler will throw the checked exception silently (using the sneaky-throw technique introduced by <a href="http://projectlombok.org/features/SneakyThrows.html">Lombok</a>).</p>

<pre><code class="language-xtend">/*
 * throws an Exception
 */
def void throwException() throws Exception {
   throw new Exception
}

/*
 * throws an Exception without declaring it
 */
def void sneakyThrowException() {
   throw new Exception
}
</code></pre>

<p>Optional validation of checked exception is supported, too, and can be configured on the respective Eclipse preference page for the Xtend Errors and Warnings.</p>

<h3 id="inferred-return-types">Inferred Return Types</h3>

<p>If the return type of a method can be inferred from its body it does not have to be declared.</p>

<p>That is the method</p>

<pre><code class="language-xtend">def String second(List&lt;String&gt; elements) {
  elements.get(1)
}
</code></pre>

<p>could be declared like this:</p>

<pre><code class="language-xtend">def second(List&lt;String&gt; elements) {
  elements.get(1)
}
</code></pre>

<p>The return type is mandatory for abstract method declarations as well as for recursive implementations.</p>

<h3 id="generic-methods">Generic Methods</h3>

<p>You can specify type parameters on methods. A parameterized variant of the method from the previous section, could look like this:</p>

<pre><code class="language-xtend">def &lt;T&gt; second(List&lt;T&gt; elements) {
  elements.get(1)
}
</code></pre>

<p>Type parameter bounds and constraints are supported and share the same syntax and semantics as defined in the <a href="http://docs.oracle.com/javase/specs/jls/se6/html/classes.html#8.4.4">the Java Language Specification</a>.</p>

<h3 id="operator-declaration">Operator Declarations</h3>

<p>Xtend supports operator overloading based on an operator-name-mapping as explained in the <a href="203_xtend_expressions.html#operators">section on operators</a>. To declare an operator one can either declare a simple method using the operators name or by using the operator directly like in the following:</p>

<pre><code class="language-xtend">class Money {
	def + (Money other) { ... }
	def - (Money other) { ... }
	def * (BigDecimal times) { ... }
	...
}
</code></pre>

<h3 id="polymorphic-dispatch">Dispatch Methods</h3>

<p>Generally, method resolution and binding is done statically at compile time as in Java. Method calls are bound based on the static types of arguments. Sometimes this is not what you want. Especially in the context of <a href="202_xtend_classes_members.html#extension-methods">extension methods</a> you would like to have polymorphic behavior.</p>

<p>A dispatch method is declared using the keyword <code>dispatch</code>.</p>

<pre><code class="language-xtend">def dispatch printType(Number x) { 
  "it's a number" 
}

def dispatch printType(Integer x) { 
  "it's an int" 
}
</code></pre>

<p>For a set of visible dispatch methods in the current type hierarchy with the same name and the same number of arguments, the compiler infers a synthetic dispatcher method. This dispatcher uses the common super type of all declared arguments. The method name of the actual dispatch cases is prepended with an underscore and the visibility of these methods is reduced to protected if they have been defined as public methods. Client code always binds to the synthesized dispatcher method.</p>

<p>For the two dispatch methods in the example above the following Java code would be generated:</p>

<pre><code class="language-java">protected String _printType(final Number x) {
  return "it\'s a number";
}

protected String _printType(final Integer x) {
  return "it\'s an int";
}

public String printType(final Number x) {
  if (x instanceof Integer) {
    return _printType((Integer)x);
  } else if (x != null) {
    return _printType(x);
  } else {
    throw new IllegalArgumentException("Unhandled parameter types: " +
      Arrays.&lt;Object&gt;asList(x).toString());
  }
}
</code></pre>

<p>Note that the <code>instanceof</code> cascade is ordered such that more specific types are handled first.</p>

<p>The default visibility of the dispatch cases is <code>protected</code>. If all dispatch methods explicitly declare the same visibility, this will be the visibility of the inferred dispatcher, too. Otherwise it is <code>public</code>. The comparison of the parameter types is performed from left to right. That is in the following example, the second method declaration is considered more specific since its first parameter type is the most specific:</p>

<pre><code class="language-xtend">def dispatch printTypes(Number x, Integer y) { 
  "it's some number and an int" 
}

def dispatch printTypes(Integer x, Number y) { 
  "it's an int and a number" 
}
</code></pre>

<p>generates the following Java code :</p>

<pre><code class="language-java">public String printTypes(final Number x, final Number y) {
  if (x instanceof Integer
       &amp;&amp; y != null) {
    return _printTypes((Integer)x, y);
  } else if (x != null
       &amp;&amp; y instanceof Integer) {
    return _printTypes(x, (Integer)y);
  } else {
    throw new IllegalArgumentException("Unhandled parameter types: " +
      Arrays.&lt;Object&gt;asList(x, y).toString());
  }
}
</code></pre>

<p>The code is compiled in a way that a <code>null</code> reference is never a match. <code>null</code> values can be handled by dispatch cases that use the parameter type <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html">Void</a>.</p>

<pre><code class="language-xtend">def dispatch printType(Number x) { 
  "it's some number" 
}

def dispatch printType(Integer x) { 
  "it's an int" 
}

def dispatch printType(Void x) { 
  "it's null" 
}
</code></pre>

<p>This compiles to the following Java code:</p>

<pre><code class="language-java">public String printType(final Number x) {
  if (x instanceof Integer) {
    return _printType((Integer)x);
  } else if (x != null) {
    return _printType(x);
  } else if (x == null) {
    return _printType((Void)null);
  } else {
    throw new IllegalArgumentException("Unhandled parameter types: " +
      Arrays.&lt;Object&gt;asList(x).toString());
  }
}
</code></pre>

<h4 id="dispatch-methods-and-inheritance">Dispatch Methods and Inheritance</h4>

<p>All visible Java methods from all super types that are conformant to the compiled representation of a dispatch method are also included in the dispatcher. Conforming means they have the expected number of arguments and have the same compiled name with the prepended underscore.</p>

<p>For example, consider the following Java class :</p>

<pre><code class="language-java">public abstract class AbstractLabelProvider {
   protected String _label(Object o) {
      // some generic implementation
   }
}
</code></pre>

<p>and the following Xtend class which extends the Java class :</p>

<pre><code class="language-xtend">class MyLabelProvider extends AbstractLabelProvider {
   def dispatch label(Entity it)  {
     name
   }
     
   def dispatch label(Method it) { 
     name+"("+params.join(",")+"):"+type
   }
   
   def dispatch label(Field it) { 
     name+type
   }
}
</code></pre>

<p>The resulting dispatch method in the generated Java class <code>MyLabelProvider</code> would then look like this:</p>

<pre><code class="language-java">public String label(final Object it) {
  if (it instanceof Entity) {
    return _label((Entity)it);
  } else if (it instanceof Field) {
    return _label((Field)it);
  } else if (it instanceof Method) {
    return _label((Method)it);
  } else if (it != null) {
    return super._label(it);
  } else {
    throw new IllegalArgumentException("Unhandled parameter types: " +
      Arrays.&lt;Object&gt;asList(it).toString());
  }
}
</code></pre>

<h4 id="static-dispatch-methods">Static Dispatch Methods</h4>

<p>Also static dispatch methods are supported. A mixture of static and non-static dispatch methods is prohibited.</p>

<h3 id="create-methods">Create Methods</h3>

<p>Create methods in Xtend allow to do graph transformation in one pass where it usually needs two passes. That means you dont need to separate a translation from one graph to another in the typical two phases: tree construction and interlinking the tree nodes. You basically just need to write the whole transformation using create methods and the built-in identity preservation will take care of the rest.</p>

<p>Consider you want to create a copy of the following list of persons into a :</p>

<pre><code>Fred Flintstone {
	marriedTo Willma Flintstone
	friendWith Barny Rubble
}
Willma Flintstone {
	marriedTo Fred Flintstone
}
Barny Rubble {
	friendWith Fred Flintstone
}
</code></pre>

<p>A function like the following could do the trick :</p>

<pre><code class="language-xtend">def List&lt;Person&gt; copyPersons(List&lt;Person&gt; persons) {
	persons.map[copy]
}
def copy(Person p) {
	val result = new Person()
	result.name = p.name
	// The following is wrong and results in a stack overflow
	result.friendWith = p.friendWith.map[copy]   
	result.marriedWith = p.marriedWith.map[copy]
}
</code></pre>

<p>The problem with that code is that we dont track the origins of the created copies. This is the main problem with model transformations. The classic solution is to run the copying in two passes. First we create all instances and then we establish the links. Although it works it results in cluttered and non coherent code. Xtends create functions handle this problem by introducing identity perservation by tracking the origin of each created instance. Therefore, a create function takes two expressions. One to instantiate the actual object and a second one to initialize it.</p>

<pre><code class="language-xtend">def create result: new Person copy(Person p) {
	result.name = p.name
	// now it works	
	result.friendWith = p.friendWith.map[copy]   
	result.marriedWith = p.marriedWith.map[copy]
}	
</code></pre>

<p>If you do not specify the name of the result variable it is assumed to be the implicit receiver variable <code>it</code>, which can be skipped in feature calls inside the body. Furthermore, you can define the return type of a create function:</p>

<pre><code class="language-xtend">def Person create new PersonImpl() copy(Person p) {
	/* it.*/name = p.name
	friendWith = p.friendWith.map[copy]   
	marriedWith = p.marriedWith.map[copy] 
}	
</code></pre>

<h4 id="how-it-works">How it works</h4>

<p>In addition to the keyword <code>create</code> one specifies two expressions. The first expression is the factory to create an instance while the second will initialize it further. Prior to invoking the factory expression, a cache lookup is performed to find a previously created instance for the very same arguments. If there is no such instance, the factory expression is evaluated and the result is stored in the cache. Subsequently the main expression (also called the initializer expression) is evaluated. This happens only if there was no previously created instance available in the cache. If that expression in turn calls the create function transitively using the same set of arguments the previously instantiated and cached object is returned. Note that the object is probably currently initialized. That is, its internal state may not yet be available. The lifecycle of the cache is attached to the instance of the declaring Xtend class. That is you can control how long the cache lives by means of Guice.</p>

<hr />

<h2 id="annotations">Annotations</h2>

<p>Annotations are available on classes, fields, methods and parameters. They are prefixed with the <code>@</code> character and accept a number of key-value pairs or a default value for the annotation property named <code>value</code>. Annotation values that expect arrays can handle single values, too. Value arrays are enclosed in array literals <code>#['first', 'second']</code>. The semantics for annotations are exactly like defined in the <a href="http://docs.oracle.com/javase/specs/jls/se6/html/interfaces.html#9.7">Java Language Specification</a>. Here is an example:</p>

<pre><code class="language-xtend">@TypeAnnotation("some value")
class MyClass {
  @FieldAnnotation(value = @NestedAnnotation(true))
  static val CONSTANT = 'a compile-time constant'
  
  @MethodAnnotation(constant = CONSTANT)
  def String myMethod(@ParameterAnnotation String param) {
    //...
  }
}
</code></pre>

<p>In addition <a href="204_activeannotations.html">Active Annotations</a> allow users to participate in compilation of Xtend code to Java source code.</p>

<h2 id="extension-methods">Extension Methods</h2>

<p>Extension methods allow to add new methods to existing types without modifying them. This feature is actually where Xtend got its name from. They are based on a simple syntactic trick: Instead of passing the first argument of an extension method inside the parentheses of a method invocation, the method can be called with the first argument as its receiver - it can be called as if the method was one of the argument types members.</p>

<pre><code class="language-xtend">"hello".toFirstUpper() // calls StringExtensions.toFirstUpper("hello")
</code></pre>

<p>Method calls in extension syntax often result in more readable code, as they are chained rather than nested. Another benefit of extensions is that you can add methods which are specific to a certain context or layer of your application.</p>

<p>For instance, you might not want to put UI-specific methods and dependencies into your domain model classes. Therefore this functionality is often defined in static methods or methods in utility classes or service layers. That works, but the code is less readable and less object-oriented if you call methods like this. In Java you often see code like this:</p>

<pre><code class="language-java">persistenceManager.save(myObject);
</code></pre>

<p>Without tying your entities to the persistenceManager, extension methods allow you to write</p>

<pre><code class="language-xtend">myObject.save
</code></pre>

<p>There are different ways to make methods available as extensions, which are described in the following sections.</p>

<h3 id="library-extensions">Extensions from the Library</h3>

<p>The Xtend library puts a lot of very useful extension methods on existing types from the Java SDK without any further ado.</p>

<pre><code class="language-xtend">"hello".toFirstUpper // calls StringExtensions.toFirstUpper(String)
listOfStrings.map[ toUpperCase ] // calls ListExtensions.&lt;T, R&gt;map(List&lt;T&gt; list, Function&lt;? super T, ? extends R&gt; mapFunction)
</code></pre>

<p>Have a look at the JavaDoc to learn about the available functionality:</p>

<ul>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/ObjectExtensions.java">ObjectExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/IterableExtensions.java">IterableExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/MapExtensions.java">MapExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/ListExtensions.java">ListExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/CollectionExtensions.java">CollectionExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/BooleanExtensions.java">BooleanExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/IntegerExtensions.java">IntegerExtensions</a></li>
  <li><a href="https://github.com/eclipse/xtext-lib/blob/master/org.eclipse.xtext.xbase.lib/src/org/eclipse/xtext/xbase/lib/FunctionExtensions.java">FunctionExtensions</a></li>
</ul>

<h3 id="local-extension-methods">Local Extension Methods</h3>

<p>All visible non-static methods of the current class and its super types are automatically available as extensions. For example</p>

<pre><code class="language-xtend">class MyClass {
  def doSomething(Object obj) {
    // do something with obj
  }
  
  def extensionCall(Object obj) {
    obj.doSomething()  // calls this.doSomething(obj)
  }
}
</code></pre>

<p>Local static methods have to be made available through an import like any other static method.</p>

<h3 id="extension-imports">Extension Imports</h3>

<p>In Java, you would usually write a helper class with static methods to decorate an existing class with additional behavior. In order to integrate such static helper classes, Xtend allows to put the keyword <code>extension</code> after the <code>static</code> keyword of a <a href="202_xtend_classes_members.html#imports">static import</a> thus making all imported static functions available as extensions methods.</p>

<p>The following import declaration</p>

<pre><code class="language-xtend">import static extension java.util.Collections.singletonList
</code></pre>

<p>allows us to use singletonList methods like this:</p>

<pre><code class="language-xtend">new MyClass().singletonList() 
// calls Collections.singletonList(new MyClass())
</code></pre>

<h3 id="extension-provider">Extension Provider</h3>

<p>By adding the <code>extension</code> keyword to a field, a local variable or a parameter declaration, its instance methods become extension methods.</p>

<p>Imagine you want to have some layer specific functionality on a class <code>Person</code>. Let us say you are in a servlet-like class and want to persist a <code>Person</code> using some persistence mechanism. Let us assume <code>Person</code> implements a common interface <code>Entity</code>. You could have the following interface</p>

<pre><code class="language-java">interface EntityPersistence {
  public save(Entity e);
  public update(Entity e);
  public delete(Entity e);
}
</code></pre>

<p>And if you have obtained an instance of that type (through a factory or dependency injection or what ever) like this:</p>

<pre><code class="language-xtend">class MyServlet {
  extension EntityPersistence ep = Factory.get(EntityPersistence)
  ...
  
}
</code></pre>

<p>You are able to save, update and delete any entity like this:</p>

<pre><code class="language-xtend">val Person person = ...
person.save  // calls ep.save(person)
person.name = 'Horst'
person.update  // calls ep.update(person)
person.delete  // calls ep.delete(person)
</code></pre>

<p>Using the <code>extension</code> modifier on values has a significant advantage over static <a href="202_xtend_classes_members.html#extension-imports">extension imports</a>: Your code is not bound to the actual implementation of the extension method. You can simply exchange the component that provides the referenced extension with another implementation from outside, by providing a different instance.</p>

<h2 id="interfaces">Interface Declarations</h2>

<p>An interface declaration is very similar to the one in Java. An interface can declare fields, which are by default final static therefore must have an initial value. And of course methods can be declared, which are public by default. Interfaces can extend any number of other interfaces and can declare type parameters. Heres an example:</p>

<pre><code class="language-xtend">interface MyInterface&lt;T&gt; extends OtherInterface {
  val CONSTANT = 42
  def T doStuff(String ... varArg) throws SomeException
}
</code></pre>

<p>Since version 8 of the Java language, interfaces are allowed to contain non-abstract instance methods, called <a href="http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html">default methods</a>, as well as static methods. This is also supported in Xtend (since 2.8): if Java 8 is selected as target language version, interfaces are allowed to declare methods with bodies like in the following example.</p>

<pre><code class="language-xtend">interface MyInterface {
  def doStuff() {
      'This is an instance method returning a string.'
  }
  static def doGlobalStuff() {
      'This is a static method returning a string.'
  }
}
</code></pre>

<p>The behavior of non-abstract instance methods is equivalent to that of Java default methods. Since interfaces can extend multiple other interfaces, multiple-inheritance conflicts can occur when different implementations of a method are inherited:</p>

<pre><code class="language-xtend">interface A {
    def execute() {
        return 1
    }
}

interface B {
    def execute() {
        return 2
    }
}

interface C extends A, B {
}

class D implements A, B {
}
</code></pre>

<p>The interface <code>C</code> and the class <code>D</code> are both marked with an error due to the multiple inheritance of the method <code>execute()</code>. There are four ways to resolve the problem.</p>

<ul>
  <li>
    <p>Redeclare the method as abstract (not allowed for non-abstract classes):</p>

    <pre><code class="language-xtend">override execute()
</code></pre>
  </li>
  <li>
    <p>Override the implementation:</p>

    <pre><code class="language-xtend">override execute() {
    return 3
}
</code></pre>
  </li>
  <li>
    <p>Refer to a supertype implementation:</p>

    <pre><code class="language-xtend">override execute() {
    A.super.execute()
}
</code></pre>
  </li>
  <li>
    <p>Avoid the inheritance of multiple method implementations in the first place. This is the recommended approach.</p>
  </li>
</ul>

<h2 id="annotation-type-declaration">Annotation Type Declarations</h2>

<p>Annotation types can also be declared. The are introduced by the keyword <code>annotation</code> and declare their values with a concise syntax:</p>

<pre><code class="language-xtend">annotation MyAnnotation {
  String[] value
  boolean isTricky = false
  int[] lotteryNumbers = #[ 42, 137 ]
}
</code></pre>

<h2 id="enum-type-declaration">Enum Type Declarations</h2>

<p>Enumeration types are declared like this:</p>

<pre><code class="language-xtend">enum MyColor {
  GREEN,
  BLUE,
  RED
}
</code></pre>

<h2 id="nested-type-declarations">Nested Type Declarations</h2>

<p>Classes, enum, annotation and interface declarations can be nested. Just as in Java nested enums, annotations and interfaces are always static. In Xtend nested classes are also always static. Nested types are public by default and can only be nested within a class, an interface or an annotation declaration.</p>

<pre><code class="language-xtend">class MyClass {
  static class NestedClass {}
  annotation NestedAnnotation {}
  enum NestedEnum {}
  interface NestedInterface {}
}

interface MyInterface {
  static class NestedClass {}
  annotation NestedAnnotation {}
  enum NestedEnum {}
  interface NestedInterface {}
}

annotation MyAnnotation {
  static class NestedClass {}
  annotation NestedAnnotation {}
  enum NestedEnum {}
  interface NestedInterface {}
}
</code></pre>

<hr />

<p><strong><a href="203_xtend_expressions.html">Next Chapter: Expressions</a></strong></p>


</body>
</html>
<html id='0008.migration.html'></html><!DOCTYPE html>
<html lang="en">
<!--
/********************************************************************************
** Copyright (c) 2012 Obeo.
** All rights reserved. This program and the accompanying materials
** are made available under the terms of the Eclipse Public License v1.0
** which accompanies this distribution, and is available at
** http://www.eclipse.org/legal/epl-v10.html
**
** Contributors:
**    Stephane Begaudeau (Obeo) - initial API and implementation
*********************************************************************************/
-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="St&eacute;phane B&eacute;gaudeau">    

    <!-- IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <link href="../../assets/css/bootstrap.css" rel="stylesheet">
    <link href="../../assets/css/docs.css" rel="stylesheet">
    
    <title>Acceleo</title>
  </head>
  <body>
    <div class="container">
      <section id="introduction">
        <div class="page-header">
          <h1>Migration <small>From Acceleo 2.x to Acceleo 3.x</small></h1>
        </div>
        <p>
          This document lists equivalences between Acceleo 2 and Acceleo 3 expressions.
        </p>
      </section>
      
      <section id="miscellaneous">
        <div class="page-header">
          <h1>Miscellaneous</h1>
        </div>
        
        <p>
          Equilavence guide for miscellaneous expressions.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
            <tr>
              <td>&lt;%metamodel http://www.eclipse.org/uml2/2.0.0/UML%&gt;</td>
              <td>[module module_name('http://www.eclipse.org/uml2/2.0.0/UML')/]</td>
            </tr>
            <tr>
              <td>&lt;%import module.mt%&gt;</td>
              <td>[import module/]</td>
            </tr>
            <tr>
              <td>&lt;%import service.java%&gt;</td>
              <td>Services no longer need to be imported</td>
            </tr>
            <tr>
              <td>&lt;%list + object%&gt;</td>
              <td>[list-&gt;including(object)/]</td>
            </tr>
            <tr>
              <td>&lt;%object + list%&gt;</td>
              <td>[object-&gt;union(list)/]</td>
            </tr>
            <tr>
              <td>&lt;%list1 + list2%&gt;</td>
              <td>[list1-&gt;union(list2)/]</td>
            </tr>
            <tr>
              <td>&lt;%string + object%&gt;</td>
              <td>[string + object/]</td>
            </tr>
            <tr>
              <td>&lt;%list - object%&gt;</td>
              <td>[list-&gt;excluding(object)/]</td>
            </tr>
            <tr>
              <td>&lt;%list1 - list2%&gt;</td>
              <td>[list1-&gt;asSet() - list2-&gt;asSet()/] (Note that this no longer keeps duplicates,
              which is not strictly equivalent to Acceleo 2)</td>
            </tr>
            <tr>
              <td>&lt;%list1 || list2%&gt;</td>
              <td>[list1-&gt;union(list2)/]</td>
            </tr>
            <tr>
              <td>&lt;%list &amp;&amp; object%&gt;</td>
              <td>[list-&gt;select(element | element = object)/]</td>
            </tr>
            <tr>
              <td>&lt;%list1 &amp;&amp; list2%&gt;</td>
              <td>[list1-&gt;iterate(element; result : Sequence(T) = Sequence{} | if
              list2-&gt;includes(element) then result-&gt;including(element) else result endif)/]</td>
            </tr>
            <tr>
              <td>&lt;%list1 == list2%&gt;</td>
              <td>[list1 = list2/]</td>
            </tr>
            <tr>
              <td>&lt;%list1 != list2%&gt;</td>
              <td>[list1 &lt;&gt; list2/]</td>
            </tr>
            <tr>
              <td>&lt;%object != object%&gt;</td>
              <td>[object &lt;&gt; object/]</td>
            </tr>
            <tr>
              <td>&lt;%! boolean%&gt;</td>
              <td>[not boolean/]</td>
            </tr>
          </tbody>
        </table>
      </section>
      
      <section id="eobject">
        <div class="page-header">
          <h1>EObject Services</h1>
        </div>
        
        <p>
          Equilavence guide for EObject services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%x.eAllContents%&gt;</td>
            <td>[x.eAllContents()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eAllContents(&quot;EClass&quot;)%&gt;</td>
            <td>[x.eAllContents(EClass)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eClass%&gt;</td>
            <td>[x.eClass()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eContainer%&gt;</td>
            <td>[x.eContainer()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eContainer(&quot;EPackage&quot;)%&gt;</td>
            <td>[x.eContainer(EPackage)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eContainingFeature%&gt;</td>
            <td>[x.eContainingFeature()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eContainmentFeature%&gt;</td>
            <td>[x.eContainmnentFeature()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eContents%&gt;</td>
            <td>[x.eContents()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eCrossReferences%&gt;</td>
            <td>[x.eCrossReferences()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eResource%&gt;</td>
            <td>[x.eResource()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.eResourceName%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%x.getRootContainer%&gt;</td>
            <td>[x.ancestors()-&gt;last()/]</td>
          </tr>
          <tr>
            <td>&lt;%load(&quot;//UML2_LIBRARIES/UML2PrimitiveTypes.library.uml2&quot;)%&gt;</td>
            <td>No direct equivalent : Acceleo 3 accepts more than one model
            element as arguments of a generation. An alternative would be
            to use a custom Java service for this need.</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="request">
        <div class="page-header">
          <h1>Request Services</h1>
        </div>
        
        <p>
          Equilavence guide for Request services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%list.select(&quot;eAttributes.nSize() &gt; 0&quot;)%&gt;</td>
            <td>[list-&gt;select(eAttributes-&gt;size() &gt; 0)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.select(&quot;eAttributes.nSize()&quot;, &quot;0&quot;)%&gt;</td>
            <td>[list-&gt;select(eAttributes-&gt;size() = 0)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.delete(&quot;eAttributes.nSize() &gt; 0&quot;)%&gt;</td>
            <td>[list-&gt;reject(eAttributes-&gt;size() &gt; 0)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.delete(&quot;eAttributes.nSize()&quot;, &quot;0&quot;)%&gt;</td>
            <td>[list-&gt;reject(eAttributes-&gt;size() = 0)/]</td>
          </tr>
            <tr><td>&lt;%evaluate(&quot;2 + 4&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="resources">
        <div class="page-header">
          <h1>Resources Services</h1>
        </div>
        
        <p>
          Equilavence guide for Resources services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%getFileContent(&quot;C:/Obeo/models/MyModel.xmi&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%getChainPath%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="string">
        <div class="page-header">
          <h1>String Services</h1>
        </div>
        
        <p>
          Equilavence guide for String services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%x.length%&gt;</td>
            <td>[x.size()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.toUpperCase%&gt;</td>
            <td>[x.toUpper()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.toLowerCase%&gt;</td>
            <td>[x.toLower()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.toU1Case%&gt;</td>
            <td>[x.toUpperFirst()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.toL1Case%&gt;</td>
            <td>[x.toLowerFirst()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.substring(1, 3)%&gt;</td>
            <td>[x.substring(2, 3)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.substring(1)%&gt;</td>
            <td>[x.substring(2)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.replaceAll(&quot;test&quot;, &quot;replaced&quot;)%&gt;</td>
            <td>[x.replaceAll('test', 'replaced')/]</td>
          </tr>
          <tr>
            <td>&lt;%x.replaceAll(&quot;\w&quot;, &quot;$0&quot;)%&gt;</td>
            <td>[x.replaceAll('\\w', '$0')/]</td>
          </tr>
          <tr>
            <td>&lt;%x.replaceFirst(&quot;test&quot;, &quot;replaced&quot;)%&gt;</td>
            <td>[x.replace('test', 'replaced')/]</td>
          </tr>
          <tr>
            <td>&lt;%x.replaceFirst(&quot;\w&quot;, &quot;$0&quot;)%&gt;</td>
            <td>[x.replace('\\w', '$0')/]</td>
          </tr>
          <tr>
            <td>&lt;%x.trim%&gt;</td>
            <td>[x.trim()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.startsWith(y)%&gt;</td>
            <td>[x.startsWith(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.endsWith(y)%&gt;</td>
            <td>[x.endsWith(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.equalsIgnoreCase(y)%&gt;</td>
            <td>[x.equalsIgnoreCase(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.matches(y)%&gt;</td>
            <td>[x.matches(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.charAt(4)%&gt;</td>
            <td>[x.substring(5, 5)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.indexOf(y)%&gt;</td>
            <td>[x.index(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.indexOf(y, 4)%&gt;</td>
            <td>[x.substring(5, x.size()).index(y) + 4/]</td>
          </tr>
          <tr>
            <td>&lt;%x.lastIndexOf(y)%&gt;</td>
            <td>[x.lastIndex(y)/]</td>
          </tr>
          <tr>
            <td>&lt;%x.lastIndexOf(y, 4)%&gt;</td>
            <td>[x.substring(5, x.size()).lastIndex(y) + 4/]</td>
          </tr>
          <tr>
            <td>&lt;%x.split(y)%&gt;</td>
            <td>No direct equivalent, use String::tokenize(String)</td>
          </tr>
          <tr>
            <td>&lt;%x.indentSpace%&gt;</td>
            <td>[x.replaceAll('\r\n|\r|\n', '$0 ')/]</td>
          </tr>
          <tr>
            <td>&lt;%x.indentTab%&gt;</td>
            <td>[x.replaceAll('\r\n|\r|\n', '$0t')/]</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="system">
        <div class="page-header">
          <h1>System Services</h1>
        </div>
        
        <p>
          Equilavence guide for System services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%i()%&gt;</td>
            <td>[i/]</td>
          </tr>
          <tr>
            <td>&lt;%args(0)%&gt;</td>
            <td>arguments are explicit and named in Acceleo 3</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="xpath">
        <div class="page-header">
          <h1>XPath Services</h1>
        </div>
        
        <p>
          Equilavence guide for XPath services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%x.ancestor%&gt;</td>
            <td>[x.ancestors()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.parent%&gt;</td>
            <td>[x.eContainer()/]</td>
          </tr>
          <tr>
            <td>&lt;%self%&gt;</td>
            <td>[self/]</td>
          </tr>
          <tr>
            <td>&lt;%x.child%&gt;</td>
            <td>[x.eContents()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.descendant%&gt;</td>
            <td>[x.eAllContents()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.precedingSibling%&gt;</td>
            <td>[x.precedingSiblings()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.preceding%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%x.followingSibling%&gt;</td>
            <td>[x.followingSiblings()/]</td>
          </tr>
          <tr>
            <td>&lt;%x.following%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="enode">
        <div class="page-header">
          <h1>ENode Services</h1>
        </div>
        
        <p>
          Equilavence guide for ENode services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%eObject.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>[eObject/]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (eObject.oclIsUndefined())][Sequence{}/][else][Sequence{eObject}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;String&quot;)%&gt;</td>
            <td>[if (eObject.oclIsUndefined())][''/][else][eObject.toString()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;Boolean&quot;)%&gt;</td>
            <td>[not eObject.oclIsUndefined()/]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;int&quot;)%&gt;</td>
            <td>[eObject-&gt;size()/]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;double&quot;)%&gt;</td>
            <td>[eObject-&gt;size().toString().toReal()/]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (eObject.oclIsUndefined())][Sequence{}/][else][Sequence{eObject}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[eObject/]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>[if (list.oclIsUndefined())][null/][elseif (list-&gt;size() == 0)][else][list.at(0)/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (list.oclIsUndefined())][Sequence{}/][else][list/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;String&quot;)%&gt;</td>
            <td>[if (list.oclIsUndefined())][''/][else][list.toString()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;Boolean&quot;)%</td>
            <td>[list-&gt;size() &gt; 0/]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;int&quot;)%&gt;</td>
            <td>[list-&gt;size()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;double&quot;)%&gt;</td>
            <td>[list-&gt;size().toString().toReal()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (list.oclIsUndefined())][Sequence{}/][else][list/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%list.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[list/]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>can only return empty enodes in Acceleo 2, so migration is simply &quot;nothing&quot;</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (string.oclIsUndefined())][Sequence{}/][else][Sequence{string}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;String&quot;)%&gt;</td>
            <td>[string/]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;Boolean&quot;)%&gt;</td>
            <td>[string.equalsIgnoreCase('true')/]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;int&quot;)%&gt;</td>
            <td>[string.toInt()/]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;double&quot;)%&gt;</td>
            <td>[string.toReal()/]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (string.oclIsUndefined())][Sequence{}/][else][Sequence{string}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%string.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[string/]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>can only return empty enodes in Acceleo 2, so migration is simply &quot;nothing&quot;</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (boolean.oclIsUndefined())][Sequence{}/][else][Sequence{boolean}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;String&quot;)%&gt;</td>
            <td>[if (boolean.oclIsUndefined())][''/][else][boolean.toString()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;Boolean&quot;)%&gt;</td>
            <td>[not boolean.oclIsUndefined() and boolean/]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;int&quot;)%&gt;</td>
            <td>[if (not boolean.oclIsUndefined() and boolean)][1/][else][0/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;double&quot;)%&gt;</td>
            <td>[if (not boolean.oclIsUndefined() and boolean)][1.0/][else][0.0/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (boolean.oclIsUndefined())][Sequence{}/][else][Sequence{boolean}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%boolean.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[boolean/]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>can only return empty enodes in Acceleo 2, so migration is simply &quot;nothing&quot;</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (int.oclIsUndefined())][Sequence{}/][else][Sequence{int}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;String&quot;)%&gt;</td>
            <td>[if (int.oclIsUndefined())][''/][else][int.toString()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;Boolean&quot;)%&gt;</td>
            <td>[not int.oclIsUndefined() and int &gt; 0/]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;int&quot;)%&gt;</td>
            <td>[if (int.oclIsUndefined())][0/][else][int/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;double&quot;)%&gt;</td>
            <td>[if (int.oclIsUndefined())][0.0/][else][int.toString().toReal()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (int.oclIsUndefined())][Sequence{}/][else][Sequence{int}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%int.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[int/]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;EObject&quot;)%&gt;</td>
            <td>can only return empty enodes in Acceleo 2, so migration is simply &quot;nothing&quot;</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;ENodeList&quot;)%&gt;</td>
            <td>[if (double.oclIsUndefined())][Sequence{}/][else][Sequence{double}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;String&quot;)%&gt;</td>
            <td>[if (double.oclIsUndefined())][''/][else][double.toString()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;Boolean&quot;)%&gt;</td>
            <td>[not double.oclIsUndefined() and double &gt; 0/]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;int&quot;)%&gt;</td>
            <td>[if (double.oclIsUndefined())][0/][else][double.toString().toInt()/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;double&quot;)%&gt;</td>
            <td>[if (double.oclIsUndefined())][0.0/][else][double/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;List&quot;)%&gt;</td>
            <td>[if (double.oclIsUndefined())][Sequence{}/][else][Sequence{double}/][/if]</td>
          </tr>
          <tr>
            <td>&lt;%double.adapt(&quot;ENode&quot;)%&gt;</td>
            <td>[double/]</td>
          </tr>
          <tr>
            <td>&lt;%list.cast(&quot;EClass&quot;)%&gt;</td>
            <td>[list-&gt;select(not oclIsKindOf(EObject) or oclIsKindOf(EClass))/]</td>
          </tr>
          <tr>
            <td>&lt;%list.filter(&quot;EClass&quot;)%&gt;</td>
            <td>[list-&gt;select(not oclIsKindOf(EObject) or oclIsKindOf(EClass))/]</td>
          </tr>
          <tr>
            <td>&lt;%current()%&gt;</td>
            <td>[self/]</td>
          </tr>
          <tr>
            <td>&lt;%current(1)%&gt;</td>
            <td>iterator variables are named in Acceleo 3</td>
          </tr>
          <tr>
            <td>&lt;%node.debug%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%node.trace%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%node.trace(&quot;name&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%nPut(&quot;key&quot;, object)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%nGet(&quot;key&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%nPeek%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%nPop%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%nPush%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%list.nMinimize%&gt;</td>
            <td>[list-&gt;asOrderedSet()-&gt;asSequence()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.minimize%&gt;</td>
            <td>[list-&gt;asOrderedSet()-&gt;asSequence()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nContains(item)%&gt;</td>
            <td>[list-&gt;includes(item)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nFirst%&gt;</td>
            <td>[list-&gt;first()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nLast%&gt;</td>
            <td>[list-&gt;last()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nGet(0)%&gt;</td>
            <td>[list-&gt;at(0)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nGet(0, 1)%&gt;</td>
            <td>[list-&gt;subSequence(1, 2)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nReverse%&gt;</td>
            <td>[list-&gt;reverse()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.reverse%&gt;</td>
            <td>[list-&gt;reverse()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nSize%&gt;</td>
            <td>[list-&gt;size()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nSort%&gt;</td>
            <td>[list-&gt;sortedBy(toString())/]</td>
          </tr>
          <tr>
            <td>&lt;%list.nSort(name)%&gt;</td>
            <td>[list-&gt;sortedBy(name)/]</td>
          </tr>
          <tr>
            <td>&lt;%list.sort%&gt;</td>
            <td>[list-&gt;sortedBy(toString())-&gt;asOrderedSet()-&gt;asSequence()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.sort(name)%&gt;</td>
            <td>[list-&gt;sortedBy(name)-&gt;asOrderedSet()-&gt;asSequence()/]</td>
          </tr>
          <tr>
            <td>&lt;%list.sep(&quot;,&quot;)%&gt;</td>
            <td>[list-&gt;sep(',')/]</td>
          </tr>
          <tr>
            <td>&lt;%list.sepStr(&quot;,&quot;)%&gt;</td>
            <td>[list-&gt;sep(',')/]</td>
          </tr>
          <tr>
            <td>&lt;%node.toString%&gt;</td>
            <td>[node.toString()/]</td>
          </tr>
          <tr>
            <td>&lt;%eObject.until(&quot;eContainer&quot;, &quot;EClass&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>       
          </tbody>
        </table>
      </section>
      
      <section id="context">
        <div class="page-header">
          <h1>Context Services</h1>
        </div>
        
        <p>
          Equilavence guide for Context services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%get(&quot;key&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%peek%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%pop%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%push%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%put(&quot;key&quot;, object)</td>
            <td>&nbsp;</td>
          </tr>
          </tbody>
        </table>
      </section>
      
      <section id="properties">
        <div class="page-header">
          <h1>Properties Services</h1>
        </div>
        
        <p>
          Equilavence guide for Properties services.
        </p>
        
        <table class="table table-striped table-bordered table-condensed">
          <colgroup>
            <col width="43%" />
            <col width="57%" />
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">Acceleo 2 Expression</th>
              <th class="head">Acceleo 3 Expression (OCL)</th>
            </tr>
          </thead>
          <tbody valign="top">
          <tr>
            <td>&lt;%getBestProperty(&quot;partial.key&quot;)%&gt;</td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&lt;%getProperty(&quot;key&quot;)%&gt;</td>
            <td>[getProperty('key')/]</td>
          </tr>
          <tr>
            <td>&lt;%getProperty(&quot;propertiesFile&quot;, &quot;key&quot;)%&gt;</td>
            <td>[getProperty('propertiesFile', 'key')/]</td>
          </tr>
          </tbody>
        </table>
        
        <br />
        <br />
      </section>
      
      <footer class="footer">
        <p>
          The material in these guides are Copyright (c) 2008, 2012 Obeo. This material is available under the Eclipse Public License v1.0
        </p>
      </footer>
      </footer>
    </div>
  </body>
</html>
<html id='0383.org_eclipse_datatools_connectivity_oda_datasource.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Open Data Access</title>
<style type="text/css">@import url("file:/D:/dev/eclipse_platform/eclipse_37/plugins/org.eclipse.sdk_3.7.0.v201106131736/book.css");</style>
<style type="text/css">@import url("file:/D:/dev/eclipse_platform/eclipse_37/configuration/org.eclipse.osgi/bundles/624/1/.cp/schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Open Data Access</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.datatools.connectivity.oda.dataSource<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Since: </h6>3.0
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>[API] This extension point is used to support the extension of design-time and run-time data source access by a data application.  Each extension must implement the Open Data Access (ODA) Java runtime interfaces defined in the <i>org.eclipse.datatools.connectivity.oda</i> package.<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.dataSource">dataSource</a> , <a href="#e.dataSet">dataSet</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED</p>&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.dataSource">dataSource</a> (<a href="#e.traceLogging">traceLogging</a>? , <a href="#e.properties">properties</a>? , <a href="#e.relationship">relationship</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST dataSource</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">odaVersion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA "3.0"</p><p class="code SchemaDtdAttlist">defaultDisplayName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">driverClass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">setThreadContextClassLoader&nbsp;(true | false) "false"</p><p class="code SchemaDtdAttlist">overrideExplorerFiltering&nbsp;&nbsp;&nbsp;(true | false) "false"</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The definition of a type of ODA data source extension for use at design-time and run-time.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - A fully qualified ID that uniquely identifies this ODA data source extension within an ODA consumer application's environment. If a data source designer extension (that implements <i>org.eclipse.datatools.connectivity.oda.design.ui.dataSource</i> extension point) is available for this ODA driver, the value of this attribute must match that of the designer extension's <i>id</i> attribute in its data source element.</li>
<li><b>odaVersion</b> - Version of the ODA interfaces for which this driver is developed. This element is required and should take the format of Major.Minor or Major.Minor.Service (e.g. 3.0 or 2.0.1).</li>
<li><b>defaultDisplayName</b> - The display name of the ODA data source extension.  Its value can be localized by using the plugin.properties mechanism.  Default to the extension id if no display name is specified.
It can be used by an ODA consumer application's designer tool in displaying a list of ODA data source extensions, when they do not have a corresponding data source editor (data source UI extension point).</li>
<li><b>driverClass</b> - Concrete class that implements the <i>org.eclipse.datatools.connectivity.oda.IDriver</i> interface. This is the entry point of the ODA runtime driver.  The same driver may support multiple data source extensions.</li>
<li><b>setThreadContextClassLoader</b> - If true, the consumer of the ODA runtime extension plug-in should set the thread context class loader to the one used to load this driver before calling any ODA interface method.
Any data source plug-in extension with this flag set to true would take precedence, and is applied to all data source extensions implemented by this plug-in. 
<br>
If the thread context class loader being set is the OSGi class loader that was used to load this ODA runtime plugin, it is not designed to be used by a plugin to in turn load additional classes.  If further class loading is needed, it is up to individual ODA runtime plugin implementation to provide its own URLClassLoader, and switch thread context class loader as appropriate.</li>
<li><b>overrideExplorerFiltering</b> - Overrides the ODA extension explorer filtering behavior.  Default value is false.  If set to true, this extension is always made visible to the client even if it would have been excluded by the ODA extension explorer filtering.
<br>@since 3.2.2 (DTP 1.7.2)</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.dataSet">dataSet</a> (<a href="#e.dataTypeMapping">dataTypeMapping</a>+ , <a href="#e.properties">properties</a>? , <a href="#e.relationship">relationship</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST dataSet</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">defaultDisplayName&nbsp;CDATA #IMPLIED</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The definition of a type of data set supported by the dataSource extension.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - A fully qualified ID that uniquely identifies this ODA data set definition within an ODA consumer application's environment.</li>
<li><b>defaultDisplayName</b> - The display name of the ODA data set definition.  Its value can be localized by using the plugin.properties mechanism.  Default to its id if no display name is specified.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.dataTypeMapping">dataTypeMapping</a> (<a href="#e.alternativeOdaDataType">alternativeOdaDataType</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST dataTypeMapping</p>
<p class="code SchemaDtdAttlist">nativeDataType&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">nativeDataTypeCode&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">odaScalarDataType&nbsp;&nbsp;(Date|Double|Integer|String|Time|Timestamp|Decimal|Blob|Clob|Boolean|JavaObject) "String"</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A data types mapping from a data provider's native data type to one or more ODA data types.  
Each native data type must be mapped to a primary ODA scalar data type.  The driver can optionally provide a list of alternate ODA data types to which it is capable of converting a native data type.
This data type mapping facilitates all ODA consumers to map from the same set of ODA data types to its own application-specific data types.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>nativeDataType</b> - Native data type name (a string).  Used for information only.</li>
<li><b>nativeDataTypeCode</b> - Native data type code (an integer). Its value must match one of the data type codes returned in the driver's ODA interface implementation.</li>
<li><b>odaScalarDataType</b> - The primary ODA scalar data type to which the native type is mapped. Supported ODA data types are: Date, Double, Integer, String, Time, Timestamp, Decimal, Blob, Clob, Boolean and Java Object.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.alternativeOdaDataType">alternativeOdaDataType</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST alternativeOdaDataType</p>
<p class="code SchemaDtdAttlist">odaScalarDataType&nbsp;(Date|Double|Integer|String|Time|Timestamp|Decimal|Blob|Clob|Boolean|JavaObject) </p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Provide an alternative mapping to an ODA scalar data type.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>odaScalarDataType</b> - The ODA scalar data type to which the native type may be converted by the driver.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.traceLogging">traceLogging</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST traceLogging</p>
<p class="code SchemaDtdAttlist">logLevel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA "WARNING"</p><p class="code SchemaDtdAttlist">logFileNamePrefix&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">logDirectory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">logFormatterClass&nbsp;CDATA #IMPLIED</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Configures the ODA run-time driver's trace logging settings for the data source extension.
The configured values are passed through to the driver's implementation of the <code>IDriver.setLogConfiguration</code> method.
<br>It is up to individual ODA driver on how to honor any of these trace logging attributes as appropriate.

<br><br>Note: The trace logging configuration specified in the plug-in PDE .options file would take precedence over those configured in this element, if the debug tracing flag is set to "true".
<br>The ODA plug-in's PDE tracing options, listed below for cross reference, match the attributes of this element.
<br>&nbsp;&nbsp;&nbsp;
&lt;plug-in Id&gt;/debug = true/false
<br>&nbsp;&nbsp;&nbsp;
&lt;plug-in Id&gt;/traceLogging/logLevel 
<br>&nbsp;&nbsp;&nbsp;
&lt;plug-in Id&gt;/traceLogging/logFileNamePrefix 
<br>&nbsp;&nbsp;&nbsp;
&lt;plug-in Id&gt;/traceLogging/logDirectory
<br>&nbsp;&nbsp;&nbsp;
&lt;plug-in Id&gt;/traceLogging/logFormatterClass</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>logLevel</b> - The name or numeric value for the driver's log level.
<br>The log levels' names and corresponding numeric values are:
<br>
 "SEVERE"       = 1000;
 "WARNING"      = 900;
 "INFO"         = 800;
 "CONFIG"       = 700;
 "FINE"         = 500;
 "FINER"        = 400;
 "FINEST"       = 300;
 "ALL"          = 0;
 "OFF"          = 1001 or higher .</li>
<li><b>logFileNamePrefix</b> - A string prefix for driver's log file name.</li>
<li><b>logDirectory</b> - Directory for log file.</li>
<li><b>logFormatterClass</b> - The class name of a concrete log formatter, suitable for use by the driver-specific logging utility.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.property">property</a> (<a href="#e.choice">choice</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST property</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">defaultDisplayName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(string|choice) "string"</p><p class="code SchemaDtdAttlist">canInherit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "true"</p><p class="code SchemaDtdAttlist">defaultValue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">isEncryptable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "false"</p><p class="code SchemaDtdAttlist">allowsEmptyValueAsNull&nbsp;(true | false) "true"</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A property whose value can be edited at design-time using an ODA consumer application's designer tool.  Its value is then passed to the ODA runtime driver during run-time.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - Unique name of the property.</li>
<li><b>defaultDisplayName</b> - The default display name.  Its value can be localized by using the plugin.properties mechanism.</li>
<li><b>type</b> - Type of the property. The property type could be one of the values listed in the Restriction enumerations.</li>
<li><b>canInherit</b> - Reserved.</li>
<li><b>defaultValue</b> - Default value of the property, if no property value is set.</li>
<li><b>isEncryptable</b> - A flag indicating whether this property value is encryptable.  Setting it to "true" indicates to an ODA consumer application that this property's value should be encrypted.</li>
<li><b>allowsEmptyValueAsNull</b> - A flag that indicates whether an empty value of this property can be treated as a null value.  Default value is true.  This attribute setting applies when an ODA consumer passes the property's value to this ODA runtime driver.  This optional attribute may be used to accommodate the case where a property value's input control does not provide the means to specify a null value.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.propertyGroup">propertyGroup</a> (<a href="#e.property">property</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST propertyGroup</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">defaultDisplayName&nbsp;CDATA #IMPLIED</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A grouping of one or more properties in an ODA consumer application's designer tool.  The group attributes are for display only.  All properties listed under a propertyGroup are handled as scalar properties at run-time.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - </li>
<li><b>defaultDisplayName</b> - The default display name.  Its value can be localized by using the plugin.properties mechanism.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.propertyVisibility">propertyVisibility</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST propertyVisibility</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">visibility&nbsp;(change|lock|hide) </p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Used to set the visibility level of the named property when it is shown in the property sheet of an ODA consumer application's designer tool.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - The name of a property that is defined either by this data source extension or is a system-defined property.</li>
<li><b>visibility</b> - The valid options are: change, hide, lock.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.choice">choice</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST choice</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p><p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p><p class="code SchemaDtdAttlist">defaultDisplayName&nbsp;CDATA #IMPLIED</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Choice of property values.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - Name of the choice</li>
<li><b>value</b> - Value to be used, if the given choice is selected.</li>
<li><b>defaultDisplayName</b> - The default display name.  Its value can be localized by using the plugin.properties mechanism.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.properties">properties</a> (<a href="#e.property">property</a>* , <a href="#e.propertyGroup">propertyGroup</a>* , <a href="#e.propertyVisibility">propertyVisibility</a>*)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A collection of property definitions in a data source extension or its supported data set definitions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.relationship">relationship</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST relationship</p>
<p class="code SchemaDtdAttlist">type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(replacedBy|wrapperOf) </p><p class="code SchemaDtdAttlist">relatedId&nbsp;CDATA #REQUIRED</p>&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
An optional element to specify the relationship(s) of this element.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>type</b> - The type of relationship that this extension's dataSource or dataSet element has with the <i>relatedId</i> element.
Valid value(s) are: 
<br>* <i>replacedBy</i>: specifies that this dataSource/dataSet is deprecated and replaced by that of <i>relatedId</i>.  It is up to an ODA host to apply as appropriate, e.g. to migrate its reference of a deprecated extension, and to control which ODA extension to use at runtime.  A deprecated data source type is hidden by default from the list of data sources presented in the ODA design UI framework, such as for creating a new connection profile instance.
<br>* <i>wrapperOf</i>: specifies that this dataSource/dataSet is a wrapper of the <i>relatedId</i> identifier.  A wrapper data source type is hidden by default from the list of available data sources presented in the ODA design UI framework. Since: 3.1.2.</li>
<li><b>relatedId</b> - The fully qualified ID of the related ODA data source or data set element.
Its value for a  <i>replacedBy</i> type must match that of the corresponding <i>dataSource.id</i> or <i>dataSet.id</i> attribute defined in another ODA driver's <i>org.eclipse.datatools.connectivity.oda.dataSource</i> extension.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6><p>
   <pre class="Example"><span class="code SchemaTag">
   &lt;extension
         point=</span><span class="code SchemaCstring">&quot;org.eclipse.datatools.connectivity.oda.dataSource&quot;</span><span class="code SchemaTag">&gt;
      &lt;dataSource
            odaVersion=</span><span class="code SchemaCstring">&quot;3.1&quot;</span><span class="code SchemaTag">
            driverClass=</span><span class="code SchemaCstring">&quot;org.eclipse.datatools.connectivity.oda.flatfile.FlatFileDriver&quot;</span><span class="code SchemaTag">
            defaultDisplayName=</span><span class="code SchemaCstring">&quot;Flat File Data Source&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;org.eclipse.datatools.connectivity.oda.flatfile&quot;</span><span class="code SchemaTag">
            setThreadContextClassLoader=</span><span class="code SchemaCstring">&quot;false&quot;</span><span class="code SchemaTag">&gt;
         &lt;properties&gt;
         &lt;propertyGroup
               defaultDisplayName=</span><span class="code SchemaCstring">&quot;Connection Properties&quot;</span><span class="code SchemaTag">
               name=</span><span class="code SchemaCstring">&quot;connectionProperties&quot;</span><span class="code SchemaTag">&gt;
            &lt;property
                  type=</span><span class="code SchemaCstring">&quot;string&quot;</span><span class="code SchemaTag">
                  defaultDisplayName=</span><span class="code SchemaCstring">&quot;Home Folder&quot;</span><span class="code SchemaTag">
                  canInherit=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">
                  name=</span><span class="code SchemaCstring">&quot;HOME&quot;</span><span class="code SchemaTag">/&gt;
            &lt;property
                  type=</span><span class="code SchemaCstring">&quot;string&quot;</span><span class="code SchemaTag">
                  defaultDisplayName=</span><span class="code SchemaCstring">&quot;Character Set&quot;</span><span class="code SchemaTag">
                  canInherit=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">
                  name=</span><span class="code SchemaCstring">&quot;CHARSET&quot;</span><span class="code SchemaTag">/&gt;
            &lt;property
                  type=</span><span class="code SchemaCstring">&quot;string&quot;</span><span class="code SchemaTag">
                  canInherit=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag">
                  defaultDisplayName=</span><span class="code SchemaCstring">&quot;Includes Data Type (Yes/No)&quot;</span><span class="code SchemaTag">
                  name=</span><span class="code SchemaCstring">&quot;INCLTYPELINE&quot;</span><span class="code SchemaTag">/&gt;                 
         &lt;/propertyGroup&gt;
         &lt;/properties&gt;
      &lt;/dataSource&gt;
      &lt;dataSet
            defaultDisplayName=</span><span class="code SchemaCstring">&quot;Flat File Data Set&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;org.eclipse.datatools.connectivity.oda.flatfile.dataSet&quot;</span><span class="code SchemaTag">&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;BIT&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-7&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Integer&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;TINYINT&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-6&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Integer&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;SMALLINT&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;5&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Integer&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;INTEGER&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;4&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Integer&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;BIGINT&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-5&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Decimal&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;FLOAT&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;6&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Double&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;REAL&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;7&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Double&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;DOUBLE&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;8&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Double&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;NUMERIC&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;2&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Decimal&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;DECIMAL&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;3&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Decimal&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;CHAR&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;1&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;VARCHAR&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;12&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;LONGVARCHAR&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-1&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;DATE&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;91&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Date&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;TIME&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;92&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Time&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;TIMESTAMP&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;93&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Timestamp&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;BINARY&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-2&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;VARBINARY&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-3&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;LONGVARBINARY&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;-4&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;BOOLEAN&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;16&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;Boolean&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;BLOB&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;2004&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
            &lt;dataTypeMapping
                  nativeDataType=</span><span class="code SchemaCstring">&quot;CLOB&quot;</span><span class="code SchemaTag">
                  nativeDataTypeCode=</span><span class="code SchemaCstring">&quot;2005&quot;</span><span class="code SchemaTag">
                  odaScalarDataType=</span><span class="code SchemaCstring">&quot;String&quot;</span><span class="code SchemaTag">/&gt;
      &lt;/dataSet&gt;
   &lt;/extension&gt; 
   </span></pre>
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The data source extension's driver must implement the interfaces defined in the <i>org.eclipse.datatools.connectivity.oda</i> package. See the package's JavaDoc documentation and API interfaces for more information.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>The ODA framework provides an ODA Plug-in Project Template Wizard to automatically generate a custom ODA plug-in project with a set of default implementation of the main ODA interfaces.  The wizard is available in the New->Project... dialog; one for ODA Runtime Driver, another for ODA Designer. 
<br>
Their generated implementation classes assume the behavior of a simple ODA driver and designer UI.  They contain TODO task tags for an ODA driver developer to implement data source specific behavior.
These concrete classes are provided to aid in the development of a custom ODA data source.  Their use is purely optional.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2004-2009 Actuate Corporation.
All rights reserved. This program and the accompanying materials are made available under the  terms of the Eclipse Public License 2.0 which accompanies this distribution, and is available at https://www.eclipse.org/legal/epl-2.0/

</p>
</BODY>
</HTML>
<html id='2936.org_eclipse_ui_viewActions.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>View Menus,Toolbars and Actions</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">View Menus,Toolbars and Actions</H1>
<div style="border: 1px solid #990000; padding: 5px; text-align: center; color: red;">This extension point is deprecated</div>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.viewActions<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>
<b>WARNING: This extension point is DEPRECATED.</b><br>
Do not use this extension point, it will be removed in future versions of this product.
Instead, use the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a>
</p>
<p>This extension point is used to add actions to the pulldown menu and toolbar for views registered by other plug-ins. Each view has a local pulldown menu normally activated 
by clicking on the top right triangle button. Other plug-ins can contribute submenus and actions to this menu. Plug-ins may also contribute actions to a view toolbar. View owners are first given a chance to populate these areas. Optional additions by other plug-ins are appended.</p>
<p>
You can now use <a href="org_eclipse_ui_menus.html">org.eclipse.ui.menus</a> to place commands in menus and toolbars as well.
</p><p>
</p>
<p>
An action's enablement and/or visibility can be defined using the elements <samp>enablement</samp> and <samp>visibility</samp> respectively, if the extension point supports it. These two elements contain a boolean expression that is evaluated to determine the enablement and/or visibility.
<p>
The syntax is the same for the <samp>enablement</samp> and <samp>visibility</samp> elements. Both contain only one boolean expression sub-element. In the simplest case, this will be an <samp>objectClass</samp>, <samp>objectState</samp>, <samp>pluginState</samp>, or <samp>systemProperty</samp> element. In the more complex case, the <samp>and</samp>, <samp>or</samp>, and <samp>not</samp> elements can be combined to form a boolean expression. Both the <samp>and</samp>, and <samp>or</samp> elements must contain 2 sub-elements. The <samp>not</samp> element must contain only 1 sub-element.
</p></p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.viewContribution">viewContribution</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>viewContribution</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.viewContribution">viewContribution</a> (<a href="#e.menu">menu</a>* , <a href="#e.action">action</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST viewContribution</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">targetID&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define a group of view actions and/or menus.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used to reference this contribution.</li>
<li><b>targetID</b> - a unique identifier of a registered view that is the target of this contribution.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>action</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.action">action</a> ((<a href="#e.selection">selection</a>* | <a href="#e.enablement">enablement</a>?) , <a href="#e.class">class</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST action</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">menubarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">toolbarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">disabledIcon&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">hoverIcon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">tooltip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(push|radio|toggle|pulldown) "push"</p>
<p class="code SchemaDtdAttlist">state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">enablesFor&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FORCE_TEXT) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element defines an action that the user can invoke in the UI.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used as a reference for this action.</li>
<li><b>label</b> - a translatable name used either as the menu item text or toolbar button label. The name can include mnenomic information.</li>
<li><b>definitionId</b> - Specifies the command that this action will handle. By specifying and action, the key binding service can assign a key sequence to this action. See the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a> for more information.</li>
<li><b>menubarPath</b> - a slash-delimited path ('/') used to specify the location of this action in the pulldown menu. Each token in the path, except the last one, must represent a valid identifier of an existing menu in the hierarchy. The last token represents the named group into which this action will be added. If the path is omitted, this action will not appear in the pulldown menu.</li>
<li><b>toolbarPath</b> - a named group within the local toolbar of the target view. If the group does not exist, it will be created. If omitted, the action will not appear in the local toolbar.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the action in its context.
If omitted and the action appears in the toolbar, the Workbench will use a placeholder icon. The path is relative to the location of the plugin.xml file of the contributing plug-in. The icon will appear in the toolbar but not in the pulldown menu.</li>
<li><b>disabledIcon</b> - a relative path of an icon used to visually represent the action in its context when the action is disabled. If omitted, the normal icon will simply appear greyed out. The path is relative to the location of the plugin.xml file of the contributing plug-in. The disabled icon will appear in the toolbar but not in the pulldown menu.</li>
<li><b>hoverIcon</b> - a relative path of an icon used to visually represent the action in its context when the mouse pointer is over the action. If omitted, the normal icon will be used. The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
<li><b>tooltip</b> - a translatable text representing the action's tool tip. Only used if the action appears in the toolbar.</li>
<li><b>helpContextId</b> - a unique identifier indicating the help context for this action. On some platforms, if the action appears as a menu item, then pressing the appropriate help key while the menu item is highlighted will display help. Not all platforms support this behaviour.</li>
<li><b>style</b> - an optional attribute to define the user interface style type for the action. If defined, the attribute value will be one of the following:
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>push</b></td>
        <td valign="top">- as a regular menu item or tool item.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>radio</b></td>
        <td valign="top">- as a radio style menu item or tool item. Actions with the radio style within the same menu or toolbar group behave as a radio set. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>toggle</b></td>
        <td valign="top">- as a checked style menu item or as a toggle tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>pulldown</b></td>
        <td valign="top">- as a pulldown tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>    </table></li>
<li><b>state</b> - an optional attribute indicating the initial state (either <samp>true</samp> or <samp>false</samp>), used when the <samp>style</samp> attribute has the value <samp>radio</samp> or <samp>toggle</samp>.</li>
<li><b>class</b> - name of the fully qualified class that implements <samp>org.eclipse.ui.IViewActionDelegate</samp>.</li>
<li><b>enablesFor</b> - a value indicating the selection count which must be met to enable the action.
If this attribute is specified and the condition is met, the action is enabled.
If the condition is not met, the action is disabled.
If no attribute is specified, the action is enabled for any number of items selected.
The following attribute formats are supported: 
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>!</b></td>
        <td valign="top">- 0 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>?</b></td>
        <td valign="top">- 0 or 1 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>+</b></td>
        <td valign="top">- 1 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>multiple, 2+</b></td>
        <td valign="top">- 2 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>n</b></td>
        <td valign="top">- a precise number of items selected.a precise number of items selected.&nbsp;
          For example: enablesFor=&quot; 4&quot; enables the action only when 4
          items are selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>*</b></td>
        <td valign="top">- any number of items selected</td>
      </tr>
    </table></li>
<li><b>mode</b> - For actions appearing in a toolbar, <code>FORCE_TEXT</code> will show text even if there is an icon.  See ActionContribuitonItem.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>parameter</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A parameter element to be used within an IExecutableExtension element.  This will be passed as initialization data to the instantiated class.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the parameter name</li>
<li><b>value</b> - the parameter value</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>class</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The element version of the <code>class</code> attribute.  This is used when the class implements <code>org.eclipse.core.runtime.IExecutableExtension</code> and there is parameterized data that you wish used in its initialization.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - A class that implements <code>org.eclipse.ui.IViewActionDelegate</code>.  It may also implement <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.menu">menu</a> (<a href="#e.separator">separator</a>* , <a href="#e.groupMarker">groupMarker</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST menu</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">path&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to defined a new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier that can be used to reference this menu.</li>
<li><b>label</b> - a translatable name used by the Workbench for this new menu. The name should include mnemonic information.</li>
<li><b>path</b> - the location of the new menu starting from the root of the menu. Each token in the path must refer to an existing menu, except the last token which should represent a named group in the last menu in the path. If omitted, the new menu will be added to the <samp>additions</samp> named group of the menu.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the menu in its context.
The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.separator">separator</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST separator</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a menu separator in the new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the menu separator. This name can later be referenced as the last token in a menu path. Therefore, a separator also serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.groupMarker">groupMarker</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST groupMarker</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a named group in the new menu. It has no visual representation in the new menu, unlike the <samp>separator</samp> element.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the group marker. This name can later be referenced as the last token in the menu path. It serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.selection">selection</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST selection</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to help determine the action enablement based on the current selection. Ignored if the <samp>enablement</samp> element is specified.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - a fully qualified name of the class or interface that each object in the selection must implement in order to enable the action.</li>
<li><b>name</b> - an optional wild card filter for the name that can be applied to all objects in the selection. If specified and the match fails, the action will be disabled.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the enablement for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.visibility">visibility</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the visibility for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean AND operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean OR operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean NOT operation on the result of evaluating its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectClass">objectClass</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectClass</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the class or interface of each object in the current selection. If each object in the selection implements the specified class or interface, the expression is evaluated as true.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - a fully qualified name of a class or interface.  The expression is evaluated as true only if all objects within the selection implement this class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectState">objectState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectState</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the attribute state of each object in the current selection. If each object in the selection has the specified attribute state, the expression is evaluated as true. To evaluate this type of expression, each object in the selection must implement, or adapt to, <samp>org.eclipse.ui.IActionFilter</samp> interface.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of an object's attribute. Acceptable names reflect the object type, and should be publicly declared by the plug-in where the object type is declared.

@see IResourceActionFilter for a list of the supported constants</li>
<li><b>value</b> - the required value of the object's attribute. The acceptable values for the object's attribute should be publicly declared.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.pluginState">pluginState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST pluginState</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;(installed|activated) "installed"&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of a plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the identifier of a plug-in which may or may not exist in the plug-in registry.</li>
<li><b>value</b> - the required state of the plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemProperty">systemProperty</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemProperty</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of some system property.  The property value is retrieved from the <samp>java.lang.System</samp>.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the system property.</li>
<li><b>value</b> - the required value of the system property.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of a view action extension:
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.viewActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;viewContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzViewC1&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.views.navigator.ResourceNavigator&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;XYZ Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu/group1&quot;</span><span class="code SchemaTag"> 
            toolbarPath=</span><span class="code SchemaCstring">&quot;Normal/additions&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;toggle&quot;</span><span class="code SchemaTag">
            state=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag"> 
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ.png&quot;</span><span class="code SchemaTag">
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ&quot;</span><span class="code SchemaTag">&gt; 
            &lt;selection class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag"> name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/action&gt; 
     &lt;/viewContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will only enable for a single selection (<samp>enablesFor</samp> attribute). In addition, the object in the selection must be a Java file resource.
</p>
<p>
The following is an other example of a view action extension: 
</p>
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.viewActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;viewContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzViewC1&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.views.navigator.ResourceNavigator&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;XYZ Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;com.xyz.xyzMenu/group1&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;push&quot;</span><span class="code SchemaTag">
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ2.png&quot;</span><span class="code SchemaTag">
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context2&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ2&quot;</span><span class="code SchemaTag">&gt; 
            &lt;enablement&gt;
               &lt;and&gt;
                  &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;not&gt;
                     &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;/not&gt;
               &lt;/and&gt;
            &lt;/enablement&gt;
         &lt;/action&gt; 
      &lt;/viewContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a menu item. The action is enabled if the selection contains no Java file resources.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The value of the <samp>class</samp> attribute must be a fully qualified name of a Java class that implements <samp>org.eclipse.ui.IViewActionDelegate</samp>. This class is loaded as late as possible to avoid loading the entire plug-in before it is really needed.
<p>
The interface <samp>org.eclipse.ui.IViewActionDelegate</samp> extends <samp>org.eclipse.ui.IActionDelegate</samp> and adds an additional method that allows the 
delegate to initialize with the view instance it is contributing into.
</p>
<p>
This extension point can be used to contribute actions into menus previously created by the target view. Omitting the menu path attribute will result in adding the new menu or action at the end of the pulldown menu.
</p>
<p>
The enablement criteria for an action extension is initially defined by <samp>enablesFor</samp>, and also either <samp>selection</samp> or <samp>enablement</samp>. However, once the action delegate has been instantiated, it may control the action enable state directly within its <samp>selectionChanged</samp> method.
</p>
<p>
Action and menu labels may contain special characters that encode mnemonics using the following rules:
<ol>
<li>
Mnemonics are specified using the ampersand ('&amp;') character in front
of a selected character in the translated text. Since ampersand is not
allowed in XML strings, use <samp>&amp;amp;</samp> character entity.</li>
</ol>
If two or more actions are contributed to a menu or toolbar by a single extension the actions will appear in the reverse order of how they are listed in the plugin.xml file. This behavior is admittedly unintuitive.  However, it was discovered after the  Eclipse Platform API was frozen.  Changing the behavior now would break every plug-in which relies upon the existing behavior.
<p>
The <samp>selection</samp> and <samp>enablement</samp> elements are mutually exclusive. The <samp>enablement</samp> element can replace the <samp>selection</samp> element using the sub-elements <samp>objectClass</samp> and <samp>objectState</samp>. For example, the following:
<pre class="Example"><span class="code SchemaTag">
 &lt;selection
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">
  name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">&gt;
 &lt;/selection&gt;
</span></pre>
can be expressed using:
<pre class="Example"><span class="code SchemaTag">
 &lt;enablement&gt;
  &lt;and&gt;
   &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
   &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
  &lt;/and&gt;
 &lt;/enablement&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>Each view normally comes with a number of standard items on the pulldown menu and local toolbar. Additions from other plug-ins will be appended to the standard complement.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2002, 2011 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='3142.org_eclipse_ui_editorActions.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Editor Menus, Toolbars and Actions</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Editor Menus, Toolbars and Actions</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.editorActions<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>This extension point is used to add actions to the menu 
and toolbar for editors registered by other plug-ins.
<p>
You can now use <a href="org_eclipse_ui_menus.html">org.eclipse.ui.menus</a> to place commands in menus and toolbars as well.
</p>
<p>
The initial contribution set for an editor is defined 
by another extension point (org.eclipse.ui.editors). 
One set of actions is created and shared by all 
instances of the same editor type.  When invoked, 
these action act upon the active editor.  This 
extension point follows the same pattern.  Each 
action extension is created and shared by all 
instances of the same editor type.  The action 
class is required to implement 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>.  
The active editor is passed to the delegate by invoking 
<samp>IEditorActionDelegate.setActiveEditor</samp>.<p>
</p>
<p>
An action's enablement and/or visibility can be defined using the elements <samp>enablement</samp> and <samp>visibility</samp> respectively, if the extension point supports it. These two elements contain a boolean expression that is evaluated to determine the enablement and/or visibility.
<p>
The syntax is the same for the <samp>enablement</samp> and <samp>visibility</samp> elements. Both contain only one boolean expression sub-element. In the simplest case, this will be an <samp>objectClass</samp>, <samp>objectState</samp>, <samp>pluginState</samp>, or <samp>systemProperty</samp> element. In the more complex case, the <samp>and</samp>, <samp>or</samp>, and <samp>not</samp> elements can be combined to form a boolean expression. Both the <samp>and</samp>, and <samp>or</samp> elements must contain 2 sub-elements. The <samp>not</samp> element must contain only 1 sub-element.
</p></p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.editorContribution">editorContribution</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.editorContribution">editorContribution</a> (<a href="#e.menu">menu</a>* , <a href="#e.action">action</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST editorContribution</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">targetID&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define a group of editor actions and/or menus.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used to reference this contribution.</li>
<li><b>targetID</b> - a unique identifier of a registered editor that is the target of this contribution.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.action">action</a> ((<a href="#e.selection">selection</a>* | <a href="#e.enablement">enablement</a>?) , <a href="#e.class">class</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST action</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">menubarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">toolbarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">tooltip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(push|radio|toggle) "push"</p>
<p class="code SchemaDtdAttlist">state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">enablesFor&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">actionID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FORCE_TEXT) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element defines an action that the user can invoke in the UI.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used as a reference for this action.</li>
<li><b>label</b> - a translatable name used either as the menu item text or toolbar button label.  The name can include mnenomic information. This label should either be non-empty or a definitionId should be provided.</li>
<li><b>definitionId</b> - Specifies the command that this action will handle. By specifying and action, the key binding service can assign a key sequence to this action. See the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a> for more information.</li>
<li><b>menubarPath</b> - a slash-delimited path ('/') used to specify the location of this action in the menu bar.
Each token in the path, except the last one, must represent a valid identifier of an existing menu in the hierarchy. The last token represents the named group into which this action will be added. If the path is omitted, this action will not appear in the menu bar.</li>
<li><b>toolbarPath</b> - a slash-delimited path ('/') that is used to specify the location of this action in the toolbar. The first token represents the toolbar identifier (with "Normal" being the default toolbar), while the second token is the named group within the toolbar that this action will be added to. If the group does not exist in the toolbar, it will be created.
If toolbarPath is omitted, the action will not appear in the toolbar.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the action in its context.
If omitted and the action appears in the toolbar, the Workbench will use a placeholder icon. The path is relative to the location of the plugin.xml file of the contributing plug-in. The icon will appear in toolbars but not in menus. Enabled actions will be represented in menus by the hoverIcon.</li>
<li><b>tooltip</b> - a translatable text representing the action's tool tip. Only used if the action appears in the toolbar.</li>
<li><b>helpContextId</b> - a unique identifier indicating the help context for this action. If the action appears as a menu item, then pressing F1 while the menu item is highlighted will display help.</li>
<li><b>style</b> - an optional attribute to define the user interface style type for the action. If defined, the attribute value will be one of the following:
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>push</b></td>
        <td valign="top">- as a regular menu item or tool item.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>radio</b></td>
        <td valign="top">- as a radio style menu item or tool item. Actions with the radio style within the same menu or toolbar group behave as a radio set. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>toggle</b></td>
        <td valign="top">- as a checked style menu item or as a toggle tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
    </table></li>
<li><b>state</b> - an optional attribute indicating the initial state (either <samp>true</samp> or <samp>false</samp>), used when the <samp>style</samp> attribute has the value <samp>radio</samp> or <samp>toggle</samp>.</li>
<li><b>class</b> - the name of the fully qualified class that implements <samp>org.eclipse.ui.IEditorActionDelegate</samp></li>
<li><b>enablesFor</b> - a value indicating the selection count which must be met to enable the action.
If this attribute is specified and the condition is met, the action is enabled.
If the condition is not met, the action is disabled.
If no attribute is specified, the action is enabled for any number of items selected.
The following attribute formats are supported: 
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>!</b></td>
        <td valign="top">- 0 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>?</b></td>
        <td valign="top">- 0 or 1 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>+</b></td>
        <td valign="top">- 1 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>multiple, 2+</b></td>
        <td valign="top">- 2 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>n</b></td>
        <td valign="top">- a precise number of items selected.a precise number of items selected.&nbsp;
          For example: enablesFor=&quot; 4&quot; enables the action only when 4
          items are selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>*</b></td>
        <td valign="top">- any number of items selected</td>
      </tr>
    </table></li>
<li><b>actionID</b> - Internal tag for use by the text editors. Should not be used by plug-in developers.  The following IDs have special meaning for the text editor framework:
<ul>
<li>"RulerClick": the contributed action which is invoked upon single-click in the (left) vertical ruler</li>
<li>"RulerDoubleClick": the contributed action which is invoked upon single-click in the (left) vertical ruler</li>
</ul>
<p>
If multiple extensions contribute ruler actions to the same text editor, the extension whose plug-in is at the top of the prerequisite tree wins. If there are multiple such plug-ins, the first wins.
</p></li>
<li><b>mode</b> - For actions appearing in a toolbar, <code>FORCE_TEXT</code> will show text even if there is an icon.  See ActionContribuitonItem.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A parameter element to be used within an IExecutableExtension element.  This will be passed as initialization data to the instantiated class.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the parameter name</li>
<li><b>value</b> - the parameter value</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The element version of the <code>class</code> attribute.  This is used when the class implements <code>org.eclipse.core.runtime.IExecutableExtension</code> and there is parameterized data that you wish used in its initialization.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - A class that implements <code>org.eclipse.ui.IEditorActionDelegate</code>.  It may also implement <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.menu">menu</a> (<a href="#e.separator">separator</a>* , <a href="#e.groupMarker">groupMarker</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST menu</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">path&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to defined a new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier that can be used to reference this menu.</li>
<li><b>label</b> - a translatable name used by the Workbench for this new menu. The name should include mnemonic information.</li>
<li><b>path</b> - the location of the new menu starting from the root of the menu. Each token in the path must refer to an existing menu, except the last token which should represent a named group in the last menu in the path. If omitted, the new menu will be added to the <samp>additions</samp> named group of the menu.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the menu in its context.
The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.separator">separator</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST separator</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a menu separator in the new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the menu separator. This name can later be referenced as the last token in a menu path. Therefore, a separator also serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.groupMarker">groupMarker</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST groupMarker</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a named group in the new menu. It has no visual representation in the new menu, unlike the <samp>separator</samp> element.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the group marker. This name can later be referenced as the last token in the menu path. It serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.selection">selection</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST selection</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to help determine the action enablement based on the current selection. Ignored if the <samp>enablement</samp> element is specified.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - a fully qualified name of the class or interface that each object in the selection must implement in order to enable the action.</li>
<li><b>name</b> - an optional wild card filter for the name that can be applied to all objects in the selection. If specified and the match fails, the action will be disabled.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the enablement for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.visibility">visibility</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the visibility for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean AND operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean OR operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean NOT operation on the result of evaluating its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectClass">objectClass</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectClass</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the class or interface of each object in the current selection. If each object in the selection implements the specified class or interface, the expression is evaluated as true.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - a fully qualified name of a class or interface.  The expression is evaluated as true only if all objects within the selection implement this class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectState">objectState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectState</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the attribute state of each object in the current selection. If each object in the selection has the specified attribute state, the expression is evaluated as true. To evaluate this type of expression, each object in the selection must implement, or adapt to, <samp>org.eclipse.ui.IActionFilter</samp> interface.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of an object's attribute. Acceptable names reflect the object type, and should be publicly declared by the plug-in where the object type is declared.

@see IResourceActionFilter for a list of the supported constants</li>
<li><b>value</b> - the required value of the object's attribute. The acceptable values for the object's attribute should be publicly declared.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.pluginState">pluginState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST pluginState</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;(installed|activated) "installed"&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of a plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the identifier of a plug-in which may or may not exist in the plug-in registry.</li>
<li><b>value</b> - the required state of the plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemProperty">systemProperty</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemProperty</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of some system property.  The property value is retrieved from the <samp>java.lang.System</samp>.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the system property.</li>
<li><b>value</b> - the required value of the system property.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of an editor action extension: 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.editorActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;editorContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzContribution&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;com.ibm.XMLEditor&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;XYZ&quot;</span><span class="code SchemaTag">
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;XYZ Menu&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;XYZ/group1&quot;</span><span class="code SchemaTag"> 
            toolbarPath=</span><span class="code SchemaCstring">&quot;Normal/additions&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;toggle&quot;</span><span class="code SchemaTag">
            state=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag"> 
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ.gif&quot;</span><span class="code SchemaTag"> 
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ&quot;</span><span class="code SchemaTag">&gt; 
            &lt;selection class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag"> name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a check box item in the new top-level menu named "XYZ Menu", and as a toggle button in the toolbar. The action is enabled if the selection contains only Java file resources.
<p>
The following is an other example of an editor action extension: 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.editorActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;editorContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyz2Contribution&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;com.ibm.XMLEditor&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu 
            id=</span><span class="code SchemaCstring">&quot;XYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;XYZ2 Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;edit/additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;edit/XYZ2/group1&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;push&quot;</span><span class="code SchemaTag">
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ2.gif&quot;</span><span class="code SchemaTag"> 
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context2&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ2&quot;</span><span class="code SchemaTag">&gt; 
            &lt;enablement&gt;
               &lt;and&gt;
                  &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;not&gt;
                     &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;/not&gt;
               &lt;/and&gt;
            &lt;/enablement&gt;
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a menu item in the sub-menu named "XYZ2 Menu" in the top level "Edit" menu. The action is enabled if the selection contains no Java file resources.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The value of the class attribute must be a fully qualified
name of a Java class that implements 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>. 
This class is loaded as late as possible to 
avoid loading the entire plug-in before it is really 
needed. The method <samp>setActiveEditor</samp> will be 
called each time an editor of the specified type is 
activated. Only one set of actions and menus will be 
created for all instances of the specified editor 
type, regardless of the number of editor instances 
currently opened in the Workbench. 
<p>
This extension point can be used to contribute actions 
into menus previously created by the target editor. 
In addition, menus and actions can be contributed to 
the Workbench window.  The identifiers for actions and 
major groups within the Workbench window are defined in 
<samp>org.eclipse.ui.IWorkbenchActionConstants</samp>.  
These should be used as a reference point for 
the addition of new actions.  Top level menus are 
created by using the following values for the 
path attribute: 
<ul>
<li>
additions - represents a named group immediately to the left of the <samp>Window</samp> menu. 
</li>
</ul>
Omitting the path attribute will result in adding the new menu into the additions menu bar group.
<p>
Actions and menus added into these paths will only 
be shown while the associated editor is active. When 
the editor is closed, menus and actions will be removed.
<p>
The enablement criteria for an action extension is initially defined by <samp>enablesFor</samp>, and also either <samp>selection</samp> or <samp>enablement</samp>. However, once the action delegate has been instantiated, it may control the action enable state directly within its <samp>selectionChanged</samp> method.
<p>
Action and menu labels may contain special characters that encode mnemonics using the following rules:
<ol>
<li>
Mnemonics are specified using the ampersand ('&amp;') character in front
of a selected character in the translated text. Since ampersand is not
allowed in XML strings, use <samp>&amp;amp;</samp> character entity.</li>
</ol>
If two or more actions are contributed to a menu or toolbar by a single
extension the actions will appear in the reverse order of how they are
listed in the plugin.xml file. This behavior is admittedly unintuitive. 
However, it was discovered after the Eclipse Platform API was frozen. 
Changing the behavior now would break every plug-in which relies upon the
existing behavior.
<p>
The <samp>selection</samp> and <samp>enablement</samp> elements are mutually exclusive. The <samp>enablement</samp> element can replace the <samp>selection</samp> element using the sub-elements <samp>objectClass</samp> and <samp>objectState</samp>. For example, the following:
<pre class="Example"><span class="code SchemaTag">
 &lt;selection
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">
  name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">&gt;
 &lt;/selection&gt;
</span></pre>
can be expressed using:
<pre class="Example"><span class="code SchemaTag">
 &lt;enablement&gt;
  &lt;and&gt;
   &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
   &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
  &lt;/and&gt;
 &lt;/enablement&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>The Workbench provides a built-in "Default Text Editor". Plug-ins can contribute into this default editor or editors provided by other plug-ins.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2000, 2007 IBM Corporation and others.<br>
All rights reserved. This program and the accompanying materials are made
available under the terms of the Eclipse Public License v1.0 which accompanies
this distribution, and is available at <a 
href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>

</p>
</BODY>
</HTML>
<html id='2953.eclipse-install.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">

<head>

<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page." >

<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link REL="STYLESHEET" HREF="../../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>How to write an Eclipse installer</title>
</head>

<body>

<h1>How to write an Eclipse installer</h1>
<p>Last modified 15:20 Friday June 18, 2004</p>
<p>Eclipse-based products need to be correctly installed on the end user's
computer. Special-purpose packaging tools, such as <a href="http://www.installshield.com/">InstallShield</a>
and <a href="http://www.rpm.org/">RPM</a>, are often used to build executable
installers that automate installing, updating, and uninstalling. This note
describes how to write an installer for an Eclipse-based product, and for
separately-installable extensions to Eclipse-based products.</p>
<p>We assume that a product development team is responsible for providing the
raw ingredients that will need to find their way to end users' computers
packaged as an executable installer. The creation of executable installers is
scripted, as are the install time actions needed to interact with the end user
and deposit files on their computer. This note described in detail what these
installers need to do and how they should work.&nbsp;</p>
<p>This note should be treated as a recipe for the person responsible for
writing an installer for an Eclipse-based products. Two good reasons why we
recommend all installers writers follow our recipe:</p>
<ul>
  <li><b>Product and extension interoperability.</b> By behaving in standard
    ways, an installer for one Eclipse-based product or extension automatically
    works with products and extensions laid down by other installers. Otherwise
    the idiosyncrasies of one product's installer would require matching quirks
    in all extension installers that expected to work with that product.</li>
  <li><b>Uniformity of install time user interaction.</b> All installers for
    Eclipse-based products and extension should interact with the user in the
    same manner. There is nothing to having gratuitous variety in this matter.</li>
</ul>

<h2>Product installer creation script</h2>

<p>A product installer should be self-contained - the kind of thing that could
be distributed on a CD and installed on any machine with a suitable operating
system.</p>
<p>Eclipse requires a Java2 Java Runtime Environment (JRE) to run Java code.
JREs are licensed software, obtained from Java vendors. With a license to
redistribute a JRE from a JRE vendor, a company can include a JRE with its
product, and install it on the end user's computer at the same time as the
product. The alternative is to require that a JRE be pre-installed on the end
user's computer, and associated with at product install time. One way or the
other, an Eclipse-based product requires a suitable JRE, and the product
installer must play a role in either installing a JRE or locating and linking to
a pre-existing JRE.&nbsp;</p>
<p>Assume that a JRE is to be installed with the product. A directory containing
the JRE is one input to the installer creation script. Denote this directory
&lt;<i>JRE</i>&gt;. This directory must have a standard JRE directory structure,
with the Java executable is located at <code>jre/bin/java.exe</code> and the class
library at <code>jre/lib/rt.jar</code> below the &lt;<i>JRE</i>&gt; directory.
For reference, the skeletal structure of this directory looks like:</p>
<p><code>&lt;<i>JRE</i>&gt;/<br>
&nbsp; jre/<br>
&nbsp;&nbsp;&nbsp; bin/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java.exe<br>
&nbsp;&nbsp;&nbsp; lib/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rt.jar
</code></p>
<p>There are additional files (and subdirectories) in these directories; we've
only shown a sample to give the general structure. Italicized names in italics
are product-specific.</p>
<p>The second input to the installer creation script is a directory, &lt;<code><i>product
head</i></code>&gt;,
containing the product-specific executable launcher and any files unrelated to
Eclipse. For reference, the skeletal
structure of this directory would look like (italics indicate file names that
will vary from product to product):</p>
<p><code>&lt;<i>product head</i>&gt;/<br>
<i>&nbsp; acmeproduct.exe<br>
</i>
<br>
</code>The third input to the installer creation script is a directory, &lt;<code><i>product
body</i></code>&gt;,
containing the features and plug-ins developed for the product. For reference, the skeletal
structure of this directory would look like:</p>
<p><code>&lt;<i>product body</i>&gt;/<br>
&nbsp; eclipse/<br>
&nbsp;&nbsp;&nbsp; features/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.acmefeature</i>_<i>1.0.0</i>/<br>
&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; feature.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.otherfeature</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; feature.xml<br>
&nbsp;&nbsp;&nbsp; plugins/<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.acmefeature</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plugin.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.ini<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.properties<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.mappings<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plugin_customization.ini<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; splash.bmp<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.otherfeature</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plugin.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.ini<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.properties<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.mappings<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.myplugin</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plugin.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>myplugin</i>.jar<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.acme.otherplugin</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plugin.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>otherplugin</i>.jar
</code></p>
<p>The fourth input to the installer creation script is a directory, &lt;<code><i>platform</i></code>&gt;,
containing the features and plug-ins for the Eclipse platform itself and any third-party tools being included.
This directory also includes the standard Eclipse executable launcher, <code>eclipse.exe</code>,
(named <code>eclipse</code> on Unix operating environment), and any other Eclipse platform files
required to be at the root of the install. For reference, the skeletal
structure of this directory would look like:</p>
<p><code>
&lt;<i>platform</i>&gt;<br>
&nbsp; eclipse/<br>
&nbsp; &nbsp; eclipse.exe<br>
&nbsp;&nbsp;&nbsp; features/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.platform_2.0.0/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.platform.win32_2.0.0/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.jdt_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; org.eclipse.pde_2.0.0/<br>
&nbsp;&nbsp;&nbsp; plugins/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.equinox.launcher_1.0.0.v20070530.jar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.equinox.launcher.win32.win32.x86_1.0.0.v20070523/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.platform_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; org.eclipse.core.runtime_2.0.0/<br>
&nbsp;&nbsp;&nbsp; &nbsp; org.eclipse.core.boot_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; org.eclipse.core.resources_2.0.0/<br>
&nbsp;&nbsp;&nbsp; &nbsp; org.eclipse.ui_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; org.eclipse.jdt_2.0.0/<br>
&nbsp;&nbsp;&nbsp; &nbsp; org.eclipse.jdt.core_2.0.0/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.jdt.ui_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; org.eclipse.pde_2.0.0/<br>
&nbsp;&nbsp;&nbsp; &nbsp; org.eclipse.pde.core_2.0.0/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; org.eclipse.pde.ui_2.0.0/<br>
&nbsp; &nbsp;&nbsp;&nbsp; (more org.eclipse.* plug-in directories)<br>
<br>
</code>The exact contents of the &lt;<i><code>JRE</code></i>&gt;, &lt;<i><code>product
head</code></i>&gt;, &lt;<i><code>product body</code></i>&gt;,
and &lt;<code><i>platform</i></code>&gt; input directories determine what files
will eventually be installed on the end user's computer.</p>
<p>The final inputs to the installer creation script are the id and version
strings for the product's primary feature; e.g., &quot;<code><i>com.example.acme.acmefeature&quot;</i></code>,
and &quot;<code><i>1.0.0</i></code>&quot;;
and the name of the product executable; e.g., &quot;<code><i>acmeproduct</i></code><code>.exe</code>&quot;.
For products that do not require their own product executable, this would be the
path of the standard Eclipse executable launcher &quot;<code>eclipse/eclipse.exe</code>&quot;.
These strings have special significance to the installer, appearing in file and
directory names, and in the contents of marker files created at install time.</p>
<p>At install time, the installer should behave in the standard manner (further
details follow the list of steps):</p>
<ol>
  <li>warn user to exit all programs</li>
  <li>introduce the product to be installed</li>
  <li>if appropriate, ask the user for the name of the registered owner and for
    the license key</li>
  <li>display the product's licensing agreement and ask the user to accept</li>
  <li>recommend a location on the disk to install the product (but allow user to
    override this default)</li>
  <li>check that a product or extension is not already stored at the specified
    location</li>
  <li>ask user to confirm all details of the install</li>
  <li>create marker file to mark root of product install</li>
  <li>copy files to disk&nbsp; (see below)</li>
  <li>if appropriate, insert name of registered owner and license key into the &quot;about
    &quot; description</li>
  <li>create a desktop shortcut to run the product executable</li>
  <li>create an appropriate entry to allow the user to uninstall the product</li>
  <li>launch the product executable with -initialize option to perform all
    first-time processing</li>
  <li>offer to show the product release notes (&quot;readme&quot; file)</li>
</ol>
<p>If the location specified in step 5 is &lt;<code><i>install</i></code>&gt;,
the installer copies all the files in the &lt;<i><code>JRE</code></i>&gt;, <code>&lt;<i>platform</i>&gt;, </code> &lt;<i><code>product</code></i>&gt;,&nbsp;
and <code>&lt;<i>product plug-ins</i>&gt;</code> directories into &lt;<code><i>install</i></code>&gt;.</p>
<table border="1" width="50%">
  <tr>
    <td width="50%">Input file</td>
    <td width="50%">Installed file</td>
  </tr>
  <tr>
    <td width="50%"><code>&lt;<i>JRE</i>&gt;/*</code></td>
    <td width="50%"><code>&lt;<i>install</i>&gt;/eclipse/*</code></td>
  </tr>
  <tr>
    <td width="50%"><code>&lt;<i>product head</i>&gt;/*</code></td>
    <td width="50%"><code>&lt;<i>install</i>&gt;/*</code></td>
  </tr>
  <tr>
    <td width="50%"><code>&lt;<i>product body</i>&gt;/*</code></td>
    <td width="50%"><code>&lt;<i>install</i>&gt;/*</code></td>
  </tr>
  <tr>
    <td width="50%"><code>&lt;<i>platform</i>&gt;/*</code></td>
    <td width="50%"><code>&lt;<i>install</i>&gt;/*</code></td>
  </tr>
</table>
<p>The marker file created in step 8 is <code>&lt;<i>install</i>&gt;/eclipse/.eclipseproduct</code>
 is used to mark a directory into which an Eclipse-based product has been
installed, primarily for extension installers to locate. This marker file is a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html">java.util.Properties</a>
format file (ISO 8859-1 character encoding with &quot;\&quot; escaping) and
contains the following information that identifies the product to the user and distinguishes
one Eclipse-based product from one another:</p>
<blockquote>
<p><code>name=<i>Acme Visual Tools Pro</i><br>
id=<i>com.example.acme.acmefeature<br>
</i>version=<i>1.0.0</i></code></p>
</blockquote>
<p>The values of the &quot;id&quot; and &quot;version&quot; property are inputs
to the installer creation script; the name of the product is presumably known
and hard-wired. (Products would not ordinarily access this marker file; only
product and extension installers write or read it.)</p>
<p>Step 6 requires checking for an existing <code>&lt;<i>install</i>&gt;/eclipse/.eclipseproduct</code>
or <code>&lt;<i>install</i>&gt;/eclipse/.eclipseextension</code> file. A
product cannot be installed in exactly the same place as another product or extension.</p>
<p>After installing all files, the top-level structure of the install directory
would contain the following files and subdirectories (and perhaps others):</p>
<p><code>&lt;<i>install</i>&gt;/<br>
&nbsp; <i>acmeproduct</i>.exe<br>
&nbsp; eclipse/<br>
&nbsp;&nbsp;&nbsp; .eclipseproduct<br>
&nbsp; &nbsp; eclipse.exe<br>
&nbsp;&nbsp;&nbsp; features/<br>
&nbsp;&nbsp;&nbsp; plugins/<br>
&nbsp;&nbsp;&nbsp; jre/<br>
<br>
</code>If a product installer solicits license information from the user, such as
the name of the registered owner and the license key, this information should
make it into the product &quot;about&quot; dialog (step 10).</p>
<p>This is done by recording the user responses in the &quot;<code>about.mapping</code>&quot;
file in the primary feature's plug-in. For example, at <code>&lt;<i>install</i>&gt;/plugins/<i>com.example.acme.acmefeature</i>_<i>1.0.0</i>/about.mapping</code>.
The &quot;<code>about.mapping</code>&quot; file may be pre-existing in the &lt;<i><code>product
head</code></i>&gt;
input, or may need to be created by the installer at install time.
The keys are numbers; the value of the &quot;<i>n</i>&quot; key is substituted
for the substring &quot;<code>{<i>n</i>}</code>&quot; in the &quot;<code>aboutText</code>&quot; property.
For example, if a license key was field number 0, an &quot;<code>about.mapping</code>&quot;
file containing a line like &quot;<code>0=T42-24T-ME4U-U4ME</code>&quot; should
be created.</p>
<p>N.B.
The &quot;<code>about.mapping</code>&quot; file is a&nbsp; <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html">java.util.Properties</a>
format file (ISO 8859-1 character encoding with "\" escaping).
When the native character encoding at install time is different from ISO 8859-1,
the installer is responsible for converting the native character encoding to
Unicode and for adding &quot;\&quot; escapes where required. Escaping is required
when the strings contain special characters (such as &quot;\&quot;) or non-Latin characters. For example, field number 1 containing the first 3 letters of the Greek
alphabet would be written &quot;<code>1=\u03B1\u03B2\u03B3</code>&quot;.</p>
<p>At step 12, the product installer launches the product executable,<code>&nbsp;&lt;<i>install</i>&gt;/<i>acmeproduct</i>.exe</code>,
with the special -initialize option [exact details TBD]. This causes the Eclipse platform to quietly
perform all time-consuming first-time processing and cache the results, so that
when the user starts the product it comes up promptly in an open-for-business
state.</p>
<h3>Uninstaller behavior</h3>
<p>At uninstall time, the uninstaller should behave in the standard manner:</p>
<ol>
  <li>warn user to exit all programs, especially the product being uninstalled</li>
  <li>ask user to confirm that the product is to be uninstalled</li>
  <li>remove all installed files from the &lt;<i><code>install</code></i>&gt;
    directory, and <b>all</b> files in &lt;<i><code>install</code></i>&gt;<code>/eclipse/features</code>
    and &lt;<i><code>install</code></i>&gt;<code>/eclipse/plugins</code> including ones put there by parties other than
    this installer (e.g., by the Eclipse update manager)</li>
  <li>remove desktop shortcut for the product executable</li>
  <li>remove entry for product uninstaller</li>
  <li>inform user of any files that were not removed</li>
</ol>
<p>When the product is uninstalled, files deposited at
install time should be deleted, along with updated features and plug-ins created
by the Eclipse update manager. <b>Important:</b> At uninstall time, there may be
other directories and files in the <code>&lt;<i>install</i>&gt;</code>
directory, notably <code>&lt;<i>install</i>&gt;/eclipse/workspace/</code>,
<code>&lt;<i>install</i>&gt;/eclipse/links/</code>, and <code>&lt;<i>install</i>&gt;/eclipse/configuration/</code>,
that contain important data
which must be retained when the product is uninstalled. The user must be able to
uninstall and reinstall a product at the same location without losing important
data.</p>
<h3>Installer behavior when product already installed</h3>
<p>When the product is already installed on the user's computer, the installer
should allow a service update or version upgrade to be applied to the installed
product.</p>
<p>At install time, the installer should behave in the standard manner:</p>
<ol>
  <li>warn user to exit all programs, especially the product being updated</li>
  <li>locate the installed product to be updated, if necessary by searching the
    disk for an existing product install or by allowing the user to locate it</li>
  <li> determine where this installer is a compatible update</li>
  <li>if appropriate, ask the user for the name of the registered owner and for
    the license key</li>
  <li>display the product's updated licensing agreement and ask the user to accept</li>
  <li>ask user to confirm all details of the update</li>
  <li>update files to disk&nbsp; (see below)</li>
  <li>if required, alter the desktop shortcut to run the product executable</li>
  <li>should add modified or newly added files to the list of ones to be removed at uninstall
    time (where feasible)</li>
  <li>offer to show the product release notes (&quot;readme&quot; file)</li>
</ol>
<p>In step 2, an installed product can be recognized by the presence of an &quot;<code>eclipse</code>&quot;
directory immediately containing a file named &quot;<code>.eclipseproduct</code>&quot;.
The parent of the &quot;<code>eclipse</code>&quot; directory is a product's install
directory; i.e., <code>&lt;<i>install</i>&gt;/eclipse/.eclipseproduct</code>.
The information contained within this marker file should be shown to the user for
confirmation that the correct product is being updated (there may be several
Eclipse-based product on the user's computer).</p>
<p>The installer should perform compatibility checks in step 3 by simple pattern
matching against subdirectories in the <code>&lt;<i>install</i>&gt;/eclipse/features</code>
directory. For example, the presence of a folder matching &quot;<code><i>com.example.acme.otherfeature</i>_<i>1.0.1</i></code>&quot;
would ensure that a certain service update had been applied to the installed
product.</p>
<p>For step 7, the installer may delete or replace any of the files that it
originally installed, and add more files. <b>Important:</b> Several files and directories,
including <code>&lt;<i>install</i>&gt;/eclipse/workspace/</code>, <code>&lt;<i>install</i>&gt;/eclipse/configuration</code>,
may be co-located with the install and contain important data files
which need to be retained
when the product is upgraded.&nbsp;</p>
<p>In upgrade situations, there is a good chance that most of the files below <code>&lt;<i>install</i>&gt;/eclipse/plugins/</code>
are the same (likewise for <code>&lt;<i>install</i>&gt;/eclipse/features/</code>).
There is significant opportunity for optimization in <code>&lt;<i>install</i>&gt;/eclipse/plugins/</code>
since the sub-directory name, which embeds the plug-in (or fragment) version
number, changes if and only iff any of the files below it change. In other
words, there is no need to touch any files in <code>&lt;<i>install</i>&gt;/eclipse/plugins/org.eclipse.ui_2.0.0</code>/
if this sub-directory should also exist after the upgrade; if any of the plug-in's
files were to change, the plug-in's version number is revised, causing the files
for the upgraded plug-in to be installed in a parallel directory <code>&lt;<i>install</i>&gt;/eclipse/plugins/org.eclipse.ui_2.0.1</code>/.&nbsp;</p>
<h3>Associating a JRE installed elsewhere</h3>
<p>The JRE is expected to be located at <code>&lt;<i>install</i>&gt;/eclipse/jre/bin/javaw.exe</code>.
If it is located elsewhere, the absolute path should be specified using the <code>-vm</code>
option on the command line; e.g.,<code>   -vm C:\j2jre1.3.0\jre\bin\javaw.exe</code>.
In which case, the installer should add this option to the command line of the desktop shortcut
it creates.</p>
<h2>Extension installer creation script</h2>

<p>By extension we mean a separately installable set of features and their plug-ins that
can be associated with, and used from, one ore more Eclipse-based products installed on the
same computer. In contrast to a product, an extension is not self-contained; an extension does not include
a product executable, the Eclipse platform, a JRE.</p>
<p>Without loss of generality, assume that an extension consists of a single
feature. The first input to the installer creation script is a directory, &lt;<code><i>extension</i></code>&gt;,
containing its feature and plug-ins. We are assuming that an extension has no
files that are related to Eclipse; if it did, they would go in <code>&lt;<i>extension</i>&gt;/</code>,
and not in <code>&lt;<i>extension</i>&gt;/eclipse/</code>. For reference, the skeletal
structure of this directory would look like:</p>
<p><code>&lt;<i>extension</i>&gt;/<br>
&nbsp; eclipse/<br>
&nbsp; &nbsp; features/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.wiley.anvilfeature</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; feature.xml<br>
&nbsp; &nbsp; plugins/<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.wiley.anvilfeature</i>_<i>1.0.0</i>/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; plugin.xml<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.ini<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.properties<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; about.mappings<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.wiley.mainplugin</i>_<i>1.0.0</i>/<br>
</code>&nbsp; <code>&nbsp;&nbsp;&nbsp;&nbsp; <i>com.example.wiley.otherplugin</i>_<i>1.0.0</i>/
</code></p>
<p>The exact contents of the &lt;<i><code>extension</code></i>&gt; input
directory determines what files
will eventually be installed on the end user's computer.</p>
<p>The final inputs to the installer creation script are the id and version
strings for the extension's feature; e.g., &quot;<i><code>com.example.wiley.anvil</code></i>&quot;
and &quot;<code><i>1.0.0</i></code>&quot;. These strings have special
significance to the installer, appearing in file and directory names, and in the
contents of marker files created at install time.</p>
<p>An extension installer is similar to a product installer in most respects.
The areas where it differs are highlighted below:</p>
<p>At install time, the installer behaves in the standard manner:</p>
<ol>
  <li>warn user to exit all programs</li>
  <li>introduce the extension to be installed</li>
  <li>if appropriate, ask the user for the name of the registered owner and for
    the license key</li>
  <li>display the extension's licensing agreement and ask the user to accept</li>
  <li>recommend a location on the disk to install the extension (but allow user to
    override this default)</li>
  <li>check that a product or a different extension is not already stored at the specified
    location</li>
  <li> ask user which product(s) to are to use this extension (search disk;
    browse; or skip)
  </li>
  <li>optionally, determine if extension is compatible with selected products</li>
  <li>ask user to confirm all details of the install</li>
  <li>create marker file to mark root of extension install</li>
  <li>copy files to disk&nbsp; (see below)</li>
  <li>insert name of registered owner and license key into the &quot;about
    &quot; description</li>
  <li>create an appropriate entry to allow the user to uninstall the extension</li>
  <li>write link file in each of the selected products to associate extension
    with product</li>
  <li>offer to show the extension release notes (&quot;readme&quot; file)</li>
</ol>
<p>If the location specified in step 5 is &lt;<code><i>install</i></code>&gt;,
the installer copies all the files in the <code>&lt;<i>extension</i>&gt; </code>directory
into &lt;<code><i>install</i></code>&gt; in step 11.</p>
<table border="1" width="50%">
  <tr>
    <td width="50%">Input file</td>
    <td width="50%">Installed file</td>
  </tr>
  <tr>
    <td width="50%"><code>&lt;<i>extension</i>&gt;/*</code></td>
    <td width="50%"><code>&lt;<i>install</i>&gt;/*</code></td>
  </tr>
</table>
<p>For step 7, any Eclipse product might be a candidate. Eclipse-based product
can be recognized by the presence of a <code>&lt;<i>product install</i>&gt;/eclipse/.eclipseproduct</code>
file; the user should be able to request a limited disk search for installed
products (a &quot;search for installed products&quot; button), or would navigate
to a directory containing a product (i.e., a &quot;browse&quot; button).</p>
<p>The installer should perform compatibility checks in step 8 by simple pattern
matching against subdirectories in the <code>&lt;<i>product install</i>&gt;/eclipse/features</code>
directory. For example, the presence of a folder matching &quot;<code>org.eclipse.jdt_2.*</code>&quot;
means that JDT is included in the installed product.&nbsp;</p>
<p>The marker file created in step 10 is <code>&lt;<i>install</i>&gt;/eclipse/.eclipseextension</code>
 is used to mark a directory into which an Eclipse-based extension has been
installed, primarily for extension installers to locate
(analogous to a product's <code>.eclipseproduct</code> marker file). This
marker file is a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html">java.util.Properties</a>
format file (ISO 8859-1 character encoding with &quot;\&quot; escaping) and
contains the following information that identifies the extension to the user and distinguishes
one Eclipse-based extension from one another:</p>
<blockquote>
<p><code>name=<i>Wiley Anvil Enterprise Edition</i><br>
id=<i>com.example.wiley.anvilfeature<br>
</i>version=<i>1.0.0</i></code></p>
</blockquote>
<p>The values of the &quot;id&quot; and &quot;version&quot; property are inputs
to the installer creation script; the name of the extension is presumably known
and hard-wired. (Products would not ordinarily access this marker file; only
product and extension installers write or read it.)</p>
<p>After installing all files, the top-level structure of the install directory
would contain the following files and subdirectories:</p>
<p><code>&lt;<i>install</i>&gt;/<br>
&nbsp; eclipse/<br>
&nbsp; &nbsp; .eclipseextension<br>
&nbsp;&nbsp;&nbsp; features/<br>
&nbsp;&nbsp;&nbsp; plugins/</code></p>
<p>The only significant difference from a product installer is that an extension
installer also creates link files in other Eclipse-based products already
installed on the user's computer. (This saves the user from having to manually
associate the new extension from within each product using the Eclipse update
manager.)&nbsp;</p>
<p>The link file created in step 14 is <code>&lt;<i>product install</i>&gt;/eclipse/links/<i>com.example.wiley.anvilfeature.</i>link</code>;
that is, the file has the same name of as the extension's feature directory less
the version number suffix. A link file is a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html">java.util.Properties</a>
format file (ISO 8859-1 character encoding with "\" escaping).
The key is &quot;path&quot; and the value is the absolute path of the installed
extension, <code>&lt;<i>install</i>&gt;</code>; e.g., an entry might looks like &quot;<code>path=C:\\Program
 Files\\Wiley\\Anvil</code>&quot;<code>.</code> The installer is responsible for converting
from native character
encoding to Unicode and adding &quot;\&quot; escapes where required. Escaping is
usually required since <code>&lt;<i>install</i>&gt;</code>
 typically contains special characters (such as &quot;\&quot;)
and may mention directories with non-Latin characters in their names. The product reads
link files when it starts up. The installer keeps a record of any link
files it creates so that they can be located when the extension is updated or
uninstalled.</p>
<h3>Uninstaller behavior</h3>
<p>At un install time, the un installer should behave in the standard manner:</p>
<ol>
  <li>warn user to exit all programs, especially products using the extension
    being uninstalled</li>
  <li>ask user to confirm that the extension is to be un installed</li>
  <li>remove all installed files from the &lt;<i><code>install</code></i>&gt;
    directory, and <b>all</b> files in &lt;<i><code>install</code></i>&gt;<code>/eclipse/features</code>
    and &lt;<i><code>install</code></i>&gt;<code>/eclipse/plugins</code> including ones put there by parties other than
    this installer (e.g., by the Eclipse update manager)</li>
  <li>if feasible, remove the link file from any products to which it had been
    added&nbsp;</li>
  <li>remove entry for extension uninstaller</li>
  <li>inform user of any files that were not removed</li>
</ol>
<p>When an extension is uninstalled, all plug-in and feature files should be deleted; there are no
important data files to be kept in these subdirectories. This allows the user to uninstall an extension
completely, including any updates applied by the Eclipse update manager.</p>
<h3>Installer behavior when extension already installed</h3>
<p>When the extension is already installed on the user's computer, the installer
should allow a service update or version upgrade to be applied to the installed
extension.</p>
<p>At install time, the installer should behave in the standard manner:</p>
<ol>
  <li>warn user to exit all programs, especially products using the extension
    being updated</li>
  <li>locate the installed extension to be updated, if necessary by searching
    the disk for an existing extension install or by allowing the user to locate
    it</li>
  <li> determine where this installer is a compatible update</li>
  <li>if appropriate, ask the user for the name of the registered owner and for
    the license key</li>
  <li>display the product's updated licensing agreement and ask the user to accept</li>
  <li>ask user to confirm all details of the update</li>
  <li>update files on disk&nbsp; (see below)</li>
  <li>should add modified or newly added files to the list of ones to be removed at uninstall
    time (where feasible)</li>
  <li>offer to show the extension release notes (&quot;readme&quot; file)</li>
</ol>
<p>In step 2, an installed extension can be recognized by the presence of an &quot;<code>eclipse</code>&quot;
directory immediately containing a file named &quot;<code>.eclipseextension</code>&quot;.
The parent of the &quot;<code>eclipse</code>&quot; directory is an extension's install
directory; i.e., <code>&lt;<i>install</i>&gt;/eclipse/.eclipseextension</code>.
The information contained within this marker file should be shown to the user for
confirmation that the correct extension is being updated (there may be several
Eclipse-based extension on the user's computer).</p>
<p>For step 7, the installer should not delete or overwrite any of the files
that it originally installed; rather, it should only add the files for new
versions of features and plug-in, and possibly rewrite the marker file <code>&lt;<i>install</i>&gt;/eclipse/.eclipseextension</code>. Leaving the old versions around gives the user
the option to back out of the update. As with upgrading a product install, there
is no need to touch any files in <code>&lt;<i>install</i>&gt;/eclipse/plugins/<i>com.example.wiley.otherplugin</i>_<i>1.0.0</i></code>/
if this sub-directory should also exist after the upgrade; if any of the plug-in's
files were to change, the plug-in's version number is revised, causing the files
for the upgraded plug-in to be installed in a parallel directory <code>&lt;<i>install</i>&gt;/eclipse/plugins/<i>com.example.wiley.otherplugin</i>_<i>1.0.1</i></code>/.&nbsp;</p>



</body>

</html><html id='1958.s1.3.1.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s1.3.2.html" rel="next">&sect;1.3.2&nbsp;Regular role inheritance&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"><a class="nav" href="s1.html" rel="section">&sect;1&nbsp;Teams and Roles</a>&nbsp;&gt;&nbsp;<a class="nav" href="s1.3.html" rel="section">&sect;1.3&nbsp;Acquisition and implicit inheritance of role classes</a></div>
         <div class="sect depth3" id="s1.3.1">
            <h3 class="sect">&sect;1.3.1&nbsp;Acquisition and implicit inheritance of role classes<a class="img" href="s1.3.1.html"
                  title="PermaLink to &sect;1.3.1&nbsp;Acquisition and implicit inheritance of role classes"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                       alt="" /></a></h3>
            <p>A team acquires all roles from its super-team. This relation is
               similar to inheritance of inner classes, but with a few decisive
               differences as defined next. Two implementation options are mentioned <a href="s1.html#aux1.1" class="int">below</a>,
               which can be used to realize the special semantics of role
               acquisition (virtual classes and copy inheritance).
               			
            </p>
            <h5 class="listing">Implicit role inheritance</h5>
            <div class="listing example frame" id="l1.3.1-1">
               <table class="listing">
                  <tr class="line odd">
                     <td class="ln">1</td>
                     <td><pre><b>public</b> <b>team</b> <b>class</b> S {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">2</td>
                     <td><pre>    <b>protected</b> <b>class</b> R0 {...}</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">3</td>
                     <td><pre>    <b>protected</b> <b>class</b> R1 <em><b>extends</b> R0</em> {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">4</td>
                     <td><pre>        <b>boolean</b> ok;</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">5</td>
                     <td><pre>        R2 m() {...}</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">6</td>
                     <td><pre>        <b>void</b> n(<em>R2</em> r) {...}</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">7</td>
                     <td><pre>    }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">8</td>
                     <td><pre>    <b>protected</b> <b>class</b> R2 {...}</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">9</td>
                     <td><pre>}</pre></td>
                  </tr>
               </table>
            </div>
            <div class="listing example frame" id="l1.3.1-2">
               <table class="listing">
                  <tr class="line odd">
                     <td class="ln">10</td>
                     <td><pre><b>public</b> <b>team</b> <b>class</b> T <em><b>extends</b> S</em> {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">11</td>
                     <td><pre>    @Override <b>protected</b> <em><b>class</b> R1</em> {</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">12</td>
                     <td><pre>        <strong>R2</strong> m() {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">13</td>
                     <td><pre>            if(<em>ok</em>) { <b>return</b> <em>tsuper</em>.m(); }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">14</td>
                     <td><pre>            <b>else</b> { <b>return</b> null; }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">15</td>
                     <td><pre>        }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">16</td>
                     <td><pre>        <b>void</b> doIt() {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">17</td>
                     <td><pre>            n(m());</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">18</td>
                     <td><pre>        }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">19</td>
                     <td><pre>    }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">20</td>
                     <td><pre>}</pre></td>
                  </tr>
               </table>
            </div>
            <div class="subsect depth4" id="s1.3.1.a">
               <h4 class="subsect">(a)&nbsp;<span class="title">Role class acquisition</span><a class="img" href="s1.3.1.a.html"
                     title="PermaLink to (a)&nbsp;Role class acquisition"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>A team <code>T</code> which extends a super-team <code>S</code>
                  	    has one role class <code>T.R</code> corresponding to each role <code>S.R</code>
                  	    of the super-team.
                  	    The new type <code>T.R</code>&nbsp;<strong>overrides</strong>&nbsp;<code>R</code> for the
                  	    context of <code>T</code> and its roles.
                  	    Acquisition of role classes can either be direct (see (b) below), or
                  	    it may involve overriding and implicit inheritance ((c) below). 
                  				
               </p>
               <div class="codecomment">In the above example (<a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a>) the team <code>S</code> operates 
                  					on types <code>S.R0</code>, <code>S.R1</code> and <code>S.R2</code>, 
                  					while <code>T</code> operates on types <code>T.R0</code>, <code>T.R1</code> 
                  					and <code>T.R2</code>.<br /><em>(Type references like "<code>S.R0</code>" are actually illegal in source code 
                     					(<a href="s1.2.3.b.html" title="&sect;1.2.3.(b)&nbsp;Qualified role types"
                        class="sect">&sect;1.2.3.(b)</a>). Here they are used for explanatory purposes only)</em></div>
            </div>
            <div class="subsect depth4" id="s1.3.1.b">
               <h4 class="subsect">(b)&nbsp;<span class="title">Direct role acquisition</span><a class="img" href="s1.3.1.b.html"
                     title="PermaLink to (b)&nbsp;Direct role acquisition"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>Within a sub-team <code>T</code> each role <code>S.R</code> of its
                  	    super-team <code>S</code> is available by the simple name <code>R</code>
                  	    without further declaration.
                  				
               </p>
               <div class="codecomment">The role <code>R2</code> in <a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a> can be used in the sub-team 
                  					<code>T</code> (line 12), because this role type is defined in the super class of the enclosing team.
                  				
               </div>
            </div>
            <div class="subsect depth4" id="s1.3.1.c">
               <h4 class="subsect">(c)&nbsp;<span class="title">Overriding and implicit inheritance</span><a class="img" href="s1.3.1.c.html"
                     title="PermaLink to (c)&nbsp;Overriding and implicit inheritance"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>If a team contains a role class definition by the same name as
                  	    a role defined in its super-team,
                  	    the new role class overrides the corresponding role from the super-team
                  	    and <strong>implicitly inherits</strong> all of its features.
                  	    Such relation is established only by name correspondence.
                  				
               </p>
               <p>A role that overrides an inherited role should be marked with an <code>@Override</code> annotation.
                  		A compiler should optionally flag a missing <code>@Override</code> annotation with a warning.  
                  		Conversely, it is an error if a role is marked with an <code>@Override</code> annotation but does not actually
                  		override an inherited role.
                  				
               </p>
               <p>It is an error to override a role class with an interface or vice versa. A final role cannot be overridden.<br />
                  	    Unlike regular inheritance, <strong>constructors</strong> are also inherited
                  	    along implicit inheritance, and can be overridden just like normal methods.
                  				
               </p>
               <div class="codecomment">
                  					In <a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a><code> R1</code> in <code>T</code> implicitly inherits all features of
                  					  <code>R1</code> in <code>S</code>. This is, because its enclosing team
                  					  <code>T</code> extends the team <code>S</code> (line 10) and the role
                  					  definition uses the same name <code>R1</code> (line 11).
                  					  Hence the attribute <code><strong>ok</strong></code> is available in the method
                  					  <code>m()</code> in <code>T.R1</code> (line 13). <code>T.R1</code> also overrides <code>S.R1</code>
                  					  which is marked by the <code>@Override</code> annotation in line 11. 
                  				
               </div>
            </div>
            <div class="subsect depth4" id="s1.3.1.d">
               <h4 class="subsect">(d)&nbsp;<span class="title">Lack of subtyping</span><a class="img" href="s1.3.1.d.html"
                     title="PermaLink to (d)&nbsp;Lack of subtyping"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>Direct acquisition of roles from a super-team and implicit inheritance
                  	    do not establish a <strong>subtype</strong> relation.
                  	    A role of a given team is never conform (i.e., substitutable)
                  	    to any role of any <em>other</em> team.
                  	    <code>S.R</code> and <code>T.R</code> are always incommensurable.<br /><span class="underline">Note,</span> that this rule is a direct consequence of <a href="s1.2.2.e.html" title="&sect;1.2.2.(e)&nbsp;Conformance" class="sect">&sect;1.2.2.(e)</a>.
                  				
               </p>
            </div>
            <div class="subsect depth4" id="s1.3.1.e">
               <h4 class="subsect">(e)&nbsp;<span class="title">Dynamic binding of types</span><a class="img" href="s1.3.1.e.html"
                     title="PermaLink to (e)&nbsp;Dynamic binding of types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>Overriding an acquired role by a new role class has the following
                  	    implication: If an expression or declaration, which is evaluated on behalf of
                  	    an instance of team <code>T</code> or one of its contained roles,
                  	    refers to a role <code>R</code>, <code>R</code> will always
                  	    resolve to <code>T.R</code> even if <code>R</code> was introduced in
                  	    a super-team of <code>T</code> and even if the specific line of code
                  	    was inherited from a super-team or one of its roles.
                  	    Only the dynamic type of the enclosing team-instance is used to determine
                  	    the correct role class (see below for an example).
                  				
               </p>
               <p>A special case of dynamically binding role types relates to so-called class literals 
                  		(see <a href="http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530"
                     class="ext">JLS &sect;15.8.2</a>). 
                  		Role class literals are covered in <a href="s6.1.c.html" title="&sect;6.1.(c)&nbsp;Class literals for roles"
                     class="sect">&sect;6.1.(c)</a>.
                  				
               </p>
               <p>The above is strictly needed only for cases involving implicit inheritance.
                  	    It may, however, help intuition, to also consider the directly acquired
                  	    role <code>T.R</code> in (b) to override the given role <code>S.R</code>.
                  				
               </p>
               <div class="codecomment">
                  					In line 17 of <a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a> the implicitly inherited method <code>n</code> is called
                  				  with the result of an invocation of <code>m</code>. Although
                  				  <code>n</code> was defined in <code>S</code> (thus with argument type
                  				  <code>S.R2, see line 6</code>) in the context of <code>T</code> it
                  				  expects an argument of <code>T.R2</code>. This is correctly provided by
                  				  the invocation of <code>m</code> in the context of <code>T</code>.
                  				
               </div>
            </div>
            <div class="subsect depth4" id="s1.3.1.f">
               <h4 class="subsect">(f)&nbsp;<span class="title">tsuper</span><a class="img" href="s1.3.1.f.html" title="PermaLink to (f)&nbsp;tsuper"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <div class="syntaxlink"><a href="sA.html#sA.5.4" title="&sect;A.5.4&nbsp;TSuperCall" class="syntax">&rarr;&nbsp;Syntax&nbsp;&sect;A.5.4</a></div>
               <p>Super calls along implicit inheritance use the new keyword
                  	    <strong>tsuper</strong>. While <code>super</code> is still available
                  	    along regular inheritance, a call <code>tsuper.m()</code>
                  	    selects the version of <code>m</code> of the corresponding role
                  	    acquired from the super-team.
                  				
               </p>
               <p>See <a href="s2.4.2.html"
                     title="&sect;2.4.2&nbsp;Role creation via a regular constructor"
                     class="sect">&sect;2.4.2</a> for <code>tsuper</code>
                  	    in the context of role constructors.
                  				
               </p>
               <p><code>tsuper</code> can only be used to invoke a corresponding
                  	    version of the enclosing method or constructor, i.e., an expression
                  		<code>tsuper.m()</code> may only occur within the method <code>m</code>
                  		with both methods having the same signature
                  	    (see <a href="s2.3.2.b.html"
                     title="&sect;2.3.2.(b)&nbsp;Super in the context of declared lifting"
                     class="sect">&sect;2.3.2.(b)</a> for an exception, where both methods have slightly different signatures).
                  				
               </p>
               <div class="codecomment">
                  					In <a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a> the role <code>R1</code> in team <code>T</code> 
                  					overrides the implicitly inherited method <code>m()</code> from <code>S</code>. <code><strong>tsuper</strong>.m()</code> calls the overridden method <code>m()</code>
                  					  from <code>S.R1</code> (line 13).
                  				
               </div>
            </div>
            <div class="subsect depth4" id="s1.3.1.g">
               <h4 class="subsect">(g)&nbsp;<span class="title">Implicitly inheriting super-types</span><a class="img" href="s1.3.1.g.html"
                     title="PermaLink to (g)&nbsp;Implicitly inheriting super-types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>If a role class has an explicit super class (using <code>extends</code>)
                  		this relation is inherited along implicit inheritance.
                  				
               </p>
               <div class="codecomment">
                  					In <a href="#l1.3.1-1" class="listing">Listing 1.3.1-1</a> the role <code>R1</code> in <code>T</code> has <code>T.R0</code> 
                  					as its implicitly inherited super class, because the corresponding role in the super-team 
                  					<code><strong>extends R0</strong></code> (line 3).
                  				
               </div>
               <p>Overriding an implicitly inherited super class is governed by
                  		<a href="s1.3.2.b.html"
                     title="&sect;1.3.2.(b)&nbsp;Inheriting and overriding the extends clause"
                     class="sect">&sect;1.3.2.(b)</a>, below.<br />
                  	    The list of implemented interfaces is merged along implicit
                  		inheritance.
                  				
               </p>
            </div>
            <div class="subsect depth4" id="s1.3.1.h">
               <h4 class="subsect">(h)&nbsp;<span class="title">Preserving visibility</span><a class="img" href="s1.3.1.h.html"
                     title="PermaLink to (h)&nbsp;Preserving visibility"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>A role class must provide at least as much access as the implicit super role,
                  		or a compile-time error occurs (this is in analogy to <a href="http://java.sun.com/docs/books/jls/second_edition/html/classes.doc.html#227965"
                     class="ext">JLS &sect;8.4.6.3</a>).
                  		Access rights of methods overridden by implicit inheritance follow
                  		the same rules as for normal overriding.
                  				
               </p>
            </div>
            <div class="subsect depth4" id="s1.3.1.i">
               <h4 class="subsect">(i)&nbsp;<span class="title">Dynamic binding of constructors</span><a class="img" href="s1.3.1.i.html"
                     title="PermaLink to (i)&nbsp;Dynamic binding of constructors"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>When creating a role instance using <code>new</code> not only the
                  			type to instantiate is bound dynamically (cf. <a href="#s1.3.1.e" title="&sect;1.3.1.(e)&nbsp;Dynamic binding of types"
                     class="sect">&sect;1.3.1.(e)</a>), but also the constructor to
                  			invoke is dynamically bound in accordance to the concrete
                  			type.<br />
                  			Within role constructors all <code>this(..)</code> and
                  			<code>super(..)</code> calls are bound statically with respect to explicit inheritance
                  			and dynamically with respect to implicit inheritance. This means the target role name is 
                  			determined statically, but using that name the suitable role type is determined
                  			using dynamic binding.
                  			<br />
                  			See also <a href="s2.5.a.html"
                     title="&sect;2.5.(a)&nbsp;Using abstract classes for creation"
                     class="sect">&sect;2.5.(a)</a> on using constructors of abstract role classes.
                  				
               </p>
            </div>
            <div class="subsect depth4" id="s1.3.1.j">
               <h4 class="subsect">(j)&nbsp;<span class="title">Overriding and compatibility</span><a class="img" href="s1.3.1.j.html"
                     title="PermaLink to (j)&nbsp;Overriding and compatibility"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>The rules of <a href="http://java.sun.com/docs/books/jls/second_edition/html/classes.doc.html#228745"
                     class="ext">JLS &sect;8.4.6</a> 
                  			also apply to methods <em>and constructors</em> inherited via implicit inheritance.
                  				
               </p>
            </div>
            <div class="subsect depth4" id="s1.3.1.k">
               <h4 class="subsect">(k)&nbsp;<span class="title">Covariant return types</span><a class="img" href="s1.3.1.k.html"
                     title="PermaLink to (k)&nbsp;Covariant return types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a></h4>
               <p>Given a team <code>T1</code> with two roles <code>R1</code> and <code>R2</code> where <code>R2</code> explicitly inherits from <code>R1</code>, both roles defining
                  					a method <code>m</code> returning some type <code>A</code>.
                  				   Given also a sub-team of <code>T1</code>, <code>T2</code>, where <code>T2.R1</code> overrides <code>m</code> with a covariant return type <code>B</code>
                  				   	(sub-type of <code>A</code>):
                  				
               </p>
               <div class="listing plain"><pre>    <b>public</b> <b>team</b> <b>class</b> T1 {
       <b>protected</b> <b>abstract</b> <b>class</b> R1 {
          <b>abstract</b> A m();
       }
       <b>protected</b> <b>class</b> R2 <b>extends</b> R1 {
          A m() { <b>return</b> <b>new</b> A(); }
       }
    }
    <b>public</b> <b>team</b> <b>class</b> T2 <b>extends</b> T1 {
       <b>protected</b> <b>class</b> R1 {
          @Override B m() { <b>return</b> <b>new</b> B(); } <span class="error">// this declaration renders <b>class</b> T2.R2 illegal</span>
       }
    }</pre></div>
               <p>
                  				   In this situation role <code>T2.R2</code> will be illegal unless also overriding <code>m</code> with a return type that is at least <code>B</code>.
                  				   Note, that the actual error occurs at the implicitly inherited method <code>T2.R2.m</code> which is not visible in the source code,
                  				   even <code>T2.R2</code> need not be mentioned explicitly in the source code.
                  				   A compiler should flag this as an imcompatibility at the team level, because a team must specialize inherited roles
                  in a consistent way.
                  				
               </p>
            </div>
            <h5 class="listing">Example code (Teams and Roles):</h5>
            <div class="listing example frame" id="l1.3.1-3">
               <table class="listing">
                  <tr class="line odd">
                     <td class="ln">1</td>
                     <td><pre><b>public</b> <b>team</b> <b>class</b> MyTeamA {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">2</td>
                     <td><pre>  <b>protected</b> <b>class</b> MyRole {</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">3</td>
                     <td><pre>    String name;</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">4</td>
                     <td><pre>    <b>public</b> MyRole (String n) { name = n; }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">5</td>
                     <td><pre>    <b>public</b> <b>void</b> print() { System.out.println("id="+name); }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">6</td>
                     <td><pre>  }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">7</td>
                     <td><pre>  <b>protected</b> MyRole getRole() { <b>return</b> <b>new</b> MyRole("Joe"); }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">8</td>
                     <td><pre>}</pre></td>
                  </tr>
               </table>
            </div>
            <div class="listing example frame" id="l1.3.1-4">
               <table class="listing">
                  <tr class="line odd">
                     <td class="ln">10</td>
                     <td><pre><b>public</b> <b>team</b> <b>class</b> MySubTeam <b>extends</b> MyTeamA {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">11</td>
                     <td><pre>  <b>protected</b> <b>class</b> MyRole {</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">12</td>
                     <td><pre>    <b>int</b> age;</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">13</td>
                     <td><pre>    <b>public</b> <b>void</b> setAge(<b>int</b> a) { age = a; }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">14</td>
                     <td><pre>    <b>public</b> <b>void</b> print() {</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">15</td>
                     <td><pre>      tsuper.print();</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">16</td>
                     <td><pre>      System.out.println("age="+age);</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">17</td>
                     <td><pre>    }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">18</td>
                     <td><pre>  }</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">19</td>
                     <td><pre>  <b>public</b> <b>void</b> doit() {</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">20</td>
                     <td><pre>    MyRole r = getRole();</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">21</td>
                     <td><pre>    r.setAge(27);</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">22</td>
                     <td><pre>    r.print();</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">23</td>
                     <td><pre>  }</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">24</td>
                     <td><pre>}</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">25</td>
                     <td><pre>...</pre></td>
                  </tr>
                  <tr class="line odd">
                     <td class="ln">26</td>
                     <td><pre>MySubTeam myTeam = <b>new</b> MySubTeam();</pre></td>
                  </tr>
                  <tr class="line even">
                     <td class="ln">27</td>
                     <td><pre>myTeam.doit();</pre></td>
                  </tr>
               </table>
            </div>
            <h5 class="listing">Program output</h5>
            <div class="listing example frame"><pre>id=Joe
age=27</pre></div>
            <div class="codecomment">
               <h5>Effects:</h5>
               <ul>
                  <li>According to <a href="s1.3.html"
                        title="&sect;1.3&nbsp;Acquisition and implicit inheritance of role classes"
                        class="sect">&sect;1.3</a>, <code>MyTeamA</code> implements
                     	<code>ITeam</code> (line 1).
                  </li>
                  <li>An implicit role inheritance is created for
                     	<code>MySubTeam.MyRole</code> (<a href="#s1.3.1.c"
                        title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                        class="sect">&sect;1.3.1.(c)</a>; line&nbsp;11).<br />
                     	If we visualize this special inheritance using a fictitious keyword
                     	<code>overrides</code> the compiler would see a declaration:
                     	
                     <div class="listing plain"><pre><b>protected</b> <b>class</b> MyRole <em>overrides MyTeamA.MyRole</em> { ... }</pre></div>
                  </li>
                  <li>Invoking <code>getRole()</code> on <code>myTeam</code> (line&nbsp;27, 20)
	creates an instance of <code>MySubTeam.MyRole</code> because the
                     	acquired role <code>MyTeamA.MyRole</code> is overridden by
                     	<code>MySubTeam.MyRole</code>
                     	following the rules of implicit inheritance (cf. <a href="#s1.3.1.e" title="&sect;1.3.1.(e)&nbsp;Dynamic binding of types"
                        class="sect">&sect;1.3.1.(e)</a>).
                     					 
                  </li>
                  <li>Overriding of role methods and access to inherited features works as usual.
                     					
                  </li>
                  <li>As an example for <a href="#s1.3.1.f" title="&sect;1.3.1.(f)&nbsp;tsuper" class="sect">&sect;1.3.1.(f)</a> see the call <code>tsuper.print()</code>
	(line&nbsp;15), which selects the implementation of <code>MyTeamA.MyRole.print</code>.
                     						
                  </li>
               </ul>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s1.3.2.html" rel="next">&sect;1.3.2&nbsp;Regular role inheritance&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"><a class="nav" href="s1.html" rel="section">&sect;1&nbsp;Teams and Roles</a>&nbsp;&gt;&nbsp;<a class="nav" href="s1.3.html" rel="section">&sect;1.3&nbsp;Acquisition and implicit inheritance of role classes</a></div>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2013-05-28
      </div>
   </body>
</html><html id='0291.Howtodeveloptemplates.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<link href="_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<link href="_stock/sysdoc.css" type="text/css" rel="stylesheet" media="print">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>How to develop templates in How to extend the user interface using templates</title>
   <style type="text/css" media="screen">
	   .ButtonBox { background-image: url(_stock/gradient.jpg); }
   </style>
   </head>
   <body>
   <table width="100%" border="0" cellspacing="0"
   cellpadding="0"><tbody><tr>
   </tr><tr><td class="DocSetBox" width="25%">
   <p>&nbsp;</p>
   </td>
   <td class="ButtonBox" align="right" width="40%">
   <p> <A href="index.html"><IMG height=22
	   alt="[Previous]" src="_stock/btn_prev_wt.gif" width=85 border=0 ></a> <A href="Howtoregistertemplates.html"><IMG height=22 alt="[Next]"
	   src="_stock/btn_next_wt.gif" width=58 border=0 ></a></p>
   </td>
   </tr></tbody></table>
   <hr noshade size="1">
   <p class="breadcrumbNav"><span class="separator">&raquo;</span>
   <A href="index.html">How&nbsp;to&nbsp;extend&nbsp;the&nbsp;user&nbsp;interface&nbsp;using&nbsp;templates</a>&nbsp;<span class="separator">&raquo;</span>
How&nbsp;to&nbsp;develop&nbsp;templates</p>

   <hr noshade size="1">
   <div class="AuthoredContent">
    

</div><div class="Head1">

<h1>How to develop templates</h1>
</div><div class="Bodytext">
<p>
Templates form an important part of the drive to support automatic GUI generation
 of various user interface types as supported in Eclipse frame work. 
These templates are often referred as project
templates, as they are used to support the creation of ready-made projects. For
example, you can define a template to create a simple GUI based
<code class="filename">EXE</code> application for a set of Build Configurations. 
</p>
<p>
The project templates are simple XML files, which follow a structure or
schema defined in the <code class="filename">TemplateDescriptorSchema.xsd</code> file. These
templates define the inputs and processes required to create a project for a
particular platform. Inputs define the type of inputs required such as, files,
settings etc. The processes define what to do with those inputs to create a
particular type of project. 
</p>
<p>
The New Project wizard lists all the templates available based on the
matching criteria defined by the templates. Once the user selects a template from the list, the
Template Engine plug-in processes the selected template. The plug-in generates the subsequent wizard
pages based on whether the template needs user input or not. 
</p>
<p>
This document details the schema for writing project templates. The
schema file <code class="filename">TemplateDescriptorSchema.xsd</code>, which defines the
structure for the project templates, is part of
<code class="filename">org.eclipse.cdt.core</code> plug-in. 
</p>
<p>
The structure or schema for a project template is as follows: 
</p>
<p class="CodeBlock"><code>&lt;template <br>type="TemplateType" <br>version="Version" <br>supplier="Supplier" <br>revision="Revision" <br>author="Author"&nbsp;&nbsp;&nbsp;<br>id="TemplateId" <br>label="Template label visible to the user" <br>description="A brief description of the template" <br>preview-icon="icon.gif"&gt;<br><br>&lt;property-group <br>id="properyGroupId" <br>label="Property group label" <br>description="A simple description of the property group" <br>type=" Type of UIElement group" <br>branding-icon="icon.gif"&gt;<br>...<br>&lt;/property-group&gt;<br><br>&lt;process&gt;<br>...<br>&lt;/process&gt;<br><br>&lt;/template&gt;</code></p>
<p>
The root element for a project template is <code>template</code>, which
provides the following properties or attributes to describe the template: 
</p>
<ul>
<li>
<p>
<code>type</code>: Use this attribute to specify the template type.
For a project template the <code>type</code> should be <code>ProjTempl</code>. 
</p>
<li>
<p>
<code>version</code>: Use this attribute to specify the major version
</p>
<li>
<p>
<code>supplier</code>: Use this attribute to specify the name of the
supplier who provided the template. 
</p>
<li>
<p>
<code>revision</code>: Use this attribute to specify the minor
version number of the template. 
</p>
<li>
<p>
<code>author</code>: Use this attribute to specify the template
author's name. 
</p>
<li>
<p>
<code>id</code>: Use this attribute to specify a unique name for the
template. 
</p>
<li>
<p>
<code>label</code>: Use this attribute to specify a label for the
template, which briefly describes the purpose of the template. For example, if
you are defining a template for a Helloworld <code class="filename">EXE</code>
application, the label can be "HelloWorld <code class="filename">EXE</code>
Application". 
</p>
<li>
<p>
<code>description</code>: Use this attribute to provide a description
for the template, which is displayed to users when they choose the template
from the list of available templates. 
</p>
<p>
<code>preview-icon</code>: Use this attribute to specify a
<code class="filename">GIF</code> or <code class="filename">JPG</code> file name to be used as a icon for the
template. There are no constraints on the image, as this attribute is meant for
future use. 
</p>
</li>
</ul>
<p>
The <code>template</code> element includes the following child elements: 
</p>
<ul>
<li>
<p>
<code>property-group</code>: A property-group element represents a
wizard page in the New Project wizard. It lists all the fields to be displayed
to the user for input using the <code>property</code> element. For example, you
could use this element to define all the input fields to be displayed in the
<em>Project Directories</em> page of the New Project wizard. The <em>id</em> attribute
of the property-group is used as the Eclipse Help system id (see <code>org.eclipse.help.contexts</code>). The
containing plug-in of the context id is <code>org.eclipse.cdt.ui</code>.
</p>
<li>
<p>
<code>process</code>: A process element defines the process of
creating the project in the Eclipse workspace, based on the user input values.
For example, if the user specifies "include" as the folder name for all the
header files, the process of creating a folder by that name and copying all the
header files to it is defined here. 
</p>
</li>
</ul>
<h4 class="subheading">
property-group 
</h4>
<p>
As mentioned earlier, a <code>property-group</code> includes the
<code>property</code> elements that specify all the input fields required for a
wizard page. A <code>property-group</code> can include any number of
<code>property</code> elements. The following attributes can be used to
describe a property group: 
</p>
<ul>
<li>
<p>
<code>id</code>: Use this attribute to specify a unique ID for the
property group. 
</p>
<li>
<p>
<code>label</code>: Use this attribute to specify a name for the
property group, which is displayed as a title of the wizard page generated by
the Template Engine. 
</p>
<li>
<p>
<code>description</code>: Use this attribute to provide a short
description of the property group, which is displayed below the wizard page
title. 
</p>
<li>
<p>
<code>type</code>: This attribute is for future expansion. Currently, the only
valid value is: 
</p>
<ul>
<li>
<p>
<code>PAGES-ONLY</code>: If you want all the properties to be
listed in a simple page.
</p>

<!-- Constants currently unsupported
<li>
<p>
<code>PAGES-TAB</code>: If you want all the properties to be
displayed as tabs in a page. 
</p>
<li>
<p>
<code>PAGES-TREE</code>: If you want all the properties to be
displayed in a simple tree structure. 
</p>
<li>
<p>
<code>PAGES-TREE-TREE</code>: If you want all the properties to
be displayed in a multi-level tree structure. 
</p>
<li>
<p>
<code>PAGES-TAB-TREE</code>: If you want all the properties to be
displayed as tabs or as a tree structure. 
</p>
</li>
-->

</ul>
<li>
<p>
<code>branding-icon</code>: Use this attribute to specify a
<code class="filename">GIF</code> file name to be used as an icon for the property group. 
</p>
</li>
</ul>
<h4 class="subheading">
property 
</h4>
<p>
The syntax for the <code>property</code> elements included by the
property-group element is as follows: 
</p>
<p class="CodeBlock"><code>&lt;property <br>id="propertyId"<br>label="User visible label of the property"<br>description="A brief description of the property"<br>type="type of the property"<br>pattern="Regular expression of the expected property"<br>default="Default value of the property"<br>size="size"<br>mandatory="true|false"<br>hidden="true|false"<br>persist="true|false"&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;item <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value="value of the item"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label="User visible label of the item"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/item&gt;<br>&lt;/property&gt;</code></p>
<p>
Here is a list of attributes of the <code>property</code> element: 
</p>
<ul>
<li>
<p>
<code>id</code>: Use this attribute to specify a unique ID for the
property. 
</p>
<li>
<p>
<code>label</code>: Use this attribute to specify a name for the
property, which is displayed as a label in the wizard page next to the input
field. 
</p>
<li>
<p>
<code>description</code>: Use this attribute to provide a short
description of the property, which is displayed whenever the mouse hovers over
the label. 
</p>
<li>
<p>
<code>type</code>: Use this attribute to specify the property type.
The possible values for this attribute are: 
</p>
<ul>
<li>
<p>
<code>input</code>: If you want a text input box. 
</p>
<li>
<p>
<code>multiline</code>: If you want a multiline input box. 
</p>
<li>
<p>
<code>select</code>: If you want a drop-down combo box. 
</p>
<li>
<p>
<code>boolean</code>: If you want an option button. 
</p>
<li>
<p>
<code>stringlist</code>: If you want a list box. 
</p>
<li>
<p>
<code>speciallist</code>: If you want a list box with buttons to
add and delete items to it. 
</p>
<li>
<p>
<code>browse</code>: If you want a browse button which opens a file (not directory) selection dialog 
</p>
</li>
<li>
<p>
<code>browsedir</code>: If you want a browse button which opens a directory selection dialog
</p>
</li>
</ul>
<li>
<p>
<code>pattern</code>: Use this attribute to specify the input
character pattern for the property using regular expressions. For more
information on regular expression patterns, refer to Java API document for
<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html">java.util.regex.Pattern</a>.
</p>
<li>
<p>
<code>default</code>: Use this attribute to specify a default value
for the property. 
</p>
<li>
<p>
<code>size</code>: Use this attribute to specify the size of the
property. Note that this attribute is relevant only if the property type is
<code>input</code> or <code>multiline</code>. 
</p>
<li>
<p>
<code>mandatory</code>: Use this attribute to specify whether the
property is mandatory or not. The value for this attribute can either be
<code>true</code> or <code>false</code>. 
</p>
<li>
<p>
<code>hidden</code>: Use this attribute to specify whether the
property is visible to the user or not. The value for this attribute can either
be <code>true</code> or <code>false</code>. 
</p>
<li>
<p>
<code>persist</code>: Use this attribute to specify whether the
property should persist its value or not. The value for this attribute can
either be <code>true</code> or <code>false</code>. 
</p>
</li>
</ul>
<p>
If the property <code>type</code> is <code>select</code> or
<code>stringlist</code>, you can include the <code>item</code> element to
specify the items to be listed. There is no limitation on the number of items
that can be listed. Here is the syntax for the <code>item</code> element: 
</p>
<p class="CodeBlock"><code>&lt;item <br>value="value of the item"<br>label="User visible label of the item"<br>&lt;/item&gt;</code></p>
<p>
Here is a list of attributes of the <code>item</code> element: 
</p>
<ul>
<li>
<p>
<code>label</code>: Used to specify a label that is displayed to the
user. 
</p>
<li>
<p>
<code>value</code>: Used to specify a unique value for the list item. This will be the value used in macro expansions. 
</p>
</ul>
<h4 class="subheading">
process 
</h4>
<p>
The <code>process</code> element within the root element of a project
template defines the processes to be followed to create a project, based on the
inputs taken. Here is the syntax for this element: 
</p>
<p class="CodeBlock"><code>&lt;process type="org.eclipse.cdt.{core|managedbuilder.core}.&lt;process type&gt;"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name" value=""/&gt; <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;complex name="name"&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/complex&gt; <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple-array name="values"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/simple-array&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;complex-array name="name"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/complex-array&gt; <br><br>&lt;/process&gt;</code></p>
<p>
A <code>process</code> element defines a single process. A process is
like a procedure with a set of parameters. In similar terms, the
<code>process</code> element defines the procedure. You need to specify all the
parameters expected by a process. In the project template, you need to specify
arguments for the process matching their types and in the order specified. 
</p>
<p>
You can specify the process type using the <code>type</code> attribute.
For example, to add files to a project you can use
<code>org.eclipse.cdt.core.AddFiles</code> as the process type.
</p>
<p>
A <code>process</code> element may include the following child elements: 
</p>
<ul>
<li>
<p>
<code>simple</code>: A simple string parameter. In a project
template, you need to specify a name for the parameter using the
<code>name</code> attribute along with the corresponding <code>value</code>
attribute. 
</p>
<p>
Here is an example showing the usage of this element: 
</p>
<p class="CodeBlock"><code>&lt;simple name="name" value="value" /&gt;</code></p>
<li>
<p>
<code>simple-array</code>: A simple string array parameter. In the
project template, you need to specify a name for the parameter using the
<code>name</code> attribute along with the corresponding <code>element</code>
children. You can have any number of <code>element</code> children per
<code>simple-array</code> element with the corresponding <code>value</code>
attribute. 
</p>
<p>
Here is an example showing the usage of this element: 
</p>
<p class="CodeBlock"><code>&lt;simple-array name="values"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element value="value1" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element value="value2" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/simple-array&gt;</code></p>
<li>
<p>
<code>complex</code>: A <code>complex</code> parameter groups
together any number of <code>simple</code>, <code>simple-array</code> and
<code>complex</code> parameters. In the project template, you need to specify a
name for the parameter using the <code>name</code> attribute along with the
corresponding children elements. 
</p>
<p>
Here is an example showing the usage of this element: 
</p>
<p class="CodeBlock"><code>&lt;complex name="name"&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name" value="value" /&gt;<br>&nbsp;&nbsp;&nbsp;&lt;simple-array name="values"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element value="value1" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;element value="value2" /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/simple-array&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/complex&gt;</code></p>
<li>
<p>
<code>complex-array</code>: A complex-array parameter. Each element
of this parameter is of the type <code>complex</code>. In the project template,
you need to specify a name for the parameter using the <code>name</code>
attribute along with the corresponding <code>element</code> children. You can
have any number of element children per complex-array element with the
corresponding complex type arguments. 
</p>
<p>
Here is an example showing the usage of this element: 
</p>
<p class="CodeBlock"><code>&lt;complex-array name="values"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name1" value="value1" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name2" value="value2" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name3" value="value3" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name4" value="value4" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name5" value="value5" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;simple name="name6" value="value6" /&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/element&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/complex-array&gt;</code></p>
</li>
</ul>
<h4 class="subheading">
Process types
</h4>
<p>
A process type is a prototype of a process procedure. It defines the
parameters required to complete a procedure. For example, to copy a file you
need its source and destination information, which can be defined as parameters
for the copy process.
</p>
<p>
The Template Engine plug-in provides a set of process types using the
extension-point <code class="filename">org.eclipse.cdt.core.templateProcessTypes</code>. Using
these process types you can describe a process in your template. For example,
you can describe the copy process by providing the source and destination
folder names.
</p>
<p>
The following is a list of process types provided by the Template Engine:
</p>
<!--<ul>
<li>
<p>
<strong>NewProject</strong>: It defines all the parameters required for a
new C/C++ project and provides the fully qualified name of the class, which
processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>Name</em>: You use this parameter to specify the name of
the project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>projectType</em>: You use this parameter to specify the
type of the project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>location</em>: You use this parameter to specify the
location of the project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>targetType</em>: You use this parameter to specify the
type of the target binary. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>configs</em>: You use this parameter to specify the build
configurations for the project. It is of type <code>simple</code>.
</p>
</li>
</ul> -->
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>NewManagedProject</strong>: It defines all the parameters
required for a new managed project and provides the fully qualified name of the
class, which processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>Name</em>: You use this parameter to specify the name of
the managed project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>projectType</em>: You use this parameter to specify the
type of the managed project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>location</em>: You use this parameter to specify the
location of the managed project. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>targetType</em>: You use this parameter to specify the
type of the target binary. It is of type <code>simple</code>.
</p>
<li>
<p>
<em>configs</em>: You use this parameter to specify the build
configurations for the managed project. It is of type <code>simple</code>.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>Copy</strong>: It defines all the parameters required to copy
files and provides the fully qualified name of the class, which processes these
parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>files</em>: You can use this parameter to list the files
to be copied. It is of type <code>complexArrary</code>. Each file to be copied
is represented by a baseType <code>element</code>, which contains the following
<code>simple</code> types:
</p>
<ul>
<li>
<p>
<em>source</em>: Use this to specify the source file
location in the file system.
</p>
<li>
<p>
<em>target</em>: Use this to specify the target location
for the file.
</p>
<li>
<p>
<em>replaceable</em>: Use this flag to specify whether
the file should be replaced or not, if it is found in the <code>target</code>
location.
</p>
</li>
</ul>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>Append</strong>: It defines all the parameters required to append
files to a project and provides the fully qualified name of the class, which
processes these parameters. For more information about the parameters, refer to
the <code>Copy</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>AddFile</strong>: It defines all the parameters required to add a
file to the project and provides the fully qualified name of the class, which
processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project to which the file should be copied. It is of <code>simple</code>
type.
</p>
<li>
<p>
<em>file</em>: Use this parameter to include information
related to source, target and replaceable. It is of <code>complex</code> type.
For more information about the parameters, refer to the <code>Copy</code>
process type described above.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>AddFiles</strong>: It defines all the parameters required to add
files to a project and provides the fully qualified name of the class, which
processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project to which the file should be copied. It is of <code>simple</code>
type.
</p>
<li>
<p>
<em>files</em>: Use this parameter to include information
related to source, target and replaceable. It is of <code>complexArray</code>
type. For more information about the parameters, refer to the <code>Copy</code>
process type described above.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>CreateSourceFolder</strong>: It defines all the parameters
required to create a folder for the source files in a project and provides the
fully qualified name of the class, which processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project to which the file should be copied. It is of <code>simple</code>
type.
</p>
<li>
<p>
<em>path</em>: Use this parameter to specify the path
relative to the project folder, where the folder for the source files should be
created. It is of <code>simple</code> type.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>AddLink</strong>: It defines all the parameters required to
create a linked file and provides the fully qualified name of the class, which
processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project in which the linked file should be created. It is of
<code>simple</code> type.
</p>
<li>
<p>
<em>filePath</em>: Use this parameter to specify the path of
the original file relative to the project folder. It is of <code>simple</code>
type.
</p>
<li>
<p>
<em>targetPath</em>: Use this parameter to specify the target
location relative to the project folder, where a linked file to the original
file should be created. It is of <code>simple</code> type.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>CreateIncludeFolder</strong>: It defines all the parameters
required to create a folder for the header files in a project and provides the
fully qualified name of the class, which processes these parameters. For
information about the parameters, refer to the <code>CreateSourceFolder</code>
process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>ExcludeResources</strong>: It defines all the parameters
required to exclude resources from a CDT project and provides the
fully qualified name of the class, which processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project for which resources will be excluded. It is of <code>simple</code>
type.
</p>
<li>
<p>
<em>configIdPattern</em>: Use this parameter to specify a regular expression of 
<code>java.util.regex.Pattern</code> syntax for matching against project configuration ids.
The resources that match any of the regular expressions given in the <em>filePatterns</em> argument 
will be excluded from all matching project configurations. It is of <code>simple</code> type.
</p>
<li>
<p>
<em>filePatterns</em>: Use this parameter to specify a <code>simple-array</code> of 
<code>java.util.regex.Pattern</code> for matching against project resources to be excluded. The paths that
will be matched against are workspace relative (include the project folder) and use forward slash as the file separator. 
That this argument is an array is purely to allow logically separate patterns to be given separately rather than as one big string. 
If any of the regular expressions matches then the resource in question will be excluded for the matching configuration(s).
The resources that match any of the regular expressions given in the <em>filePatterns</em> argument 
will be excluded for all matching project configurations. It is of <code>simple-array</code> type.
<li>
<p>
<em>invertedConfigMatching</em>: If this is set to "true" then the set of configurations for which resources 
matching any of the specified file patterns will be inverted. This enables you to specify which configurations the 
files should not be excluded for without having to know what other configurations may exist. It is of <code>simple</code> type.
</p>
</li>
</ul>
</p>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>SetMBSStringOptionValue</strong>: It defines all the parameters
required to create a string option value and provides the fully qualified name
of the class, which processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>projectName</em>: Use this parameter to specify the name
of the project for which the string option is created. It is of
<code>simple</code> type.
</p>
<li>
<p>
<em>resourcePaths</em>: Use this parameter to specify the
path of the resources. It is of <code>complexArray</code> type. Each resource
patth to be created is represented by a baseType <code>element</code>, which
contains the following <code>simple</code> types:
</p>
<ul>
<li>
<p>
<em>id</em>: Use this parameter to specify a unique ID
for the resource path. It is of <code>simple</code> type.
</p>
<li>
<p>
<em>value</em>: Use this parameter to specify a value for
the resource path. It is of <code>simple</code> type.
</p>
<li>
<p>
<em>path</em>: Use this parameter to specify the path of
the resource. It is of <code>simple</code> type.
</p>
</li>
</ul>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>SetMBSStringListOptionValues</strong>: It defines all the
parameters required to create a string list of option values and provides the
fully qualified name of the class, which processes these parameters. The
parameters required are similar to that of <code>SetMBSStringOptionValue</code>
process type, only difference is that each resource path will have a list of
option values. For information about the parameters, refer to the
<code>SetMBSStringOptionValue</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>SetMBSBooleanOptionValue</strong>: It defines all the parameters
required to create a boolean option value and provides the fully qualified name
of the class, which processes these parameters. The parameters required are
similar to that of <code>SetMBSStringOptionValue</code> process type, only
difference is that this process type is used to create boolean option value.
For information about the parameters, refer to the
<code>SetMBSStringOptionValue</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>AppendToMBSStringOptionValue</strong>: It defines all the
parameters required to append a string option value to an existing string
option. It also provides the fully qualified name of the class, which processes
these parameters. For information about the parameters, refer to the
<code>SetMBSStringOptionValue</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>AppendToMBSStringListOptionValues</strong>: It defines all the 
parameters required to append a string list of option values to an existing string list of option value. 
It also provides the fully qualified name of the class, which processes these parameters. For information 
about the parameters, refer to the <code>SetMBSStringListOptionValues</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>AppendCreate</strong>: It defines all the parameters required to
append or create a file in a project. It also provides the fully qualified name
of the class, which processes these parameters. For information about the
parameters, refer to the <code>AddFiles</code> process type described above.
</p>
<li>
<p>
<em>org.eclipse.cdt.core.</em><strong>CreateResourceIdentifier</strong>: It defines all the parameters
required to append or create a resource identifier. It also provides the fully
qualified name of the class, which processes these parameters.
</p>
<p>
Here is a list of parameters defined by this process type:
</p>
<ul>
<li>
<p>
<em>valueName</em>: Use this attribute to specify a name for
the resource identifier. It is of <code>simple</code> type.
</p>
<li>
<p>
<em>appName</em>: Use this attribute to specify application,
which will be using this resource identifier. It is of <code>simple</code>
type.
</p>
</li>
</ul>
<li>
<p>
<em>org.eclipse.cdt.managedbuilder.core.</em><strong>GenerateMakefileWithBuildDescription</strong>: 
</p>
<ul>
<li>
<p><em>projectName: </em>Use this parameter to specify the name
of the project for which a makefile will be generated from the current project build info. It is of <code>simple</code>
type.
</p>
</li>
</ul>
<p><br>
Once the project template has been written, register it with Eclipse to
make it available for use. For more information on this, refer to
<A href="Howtoregistertemplates.html#Howto%2eregister%2etemplates">How to register a template with Eclipse</a>.
</p>
<a name="1.38"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>See also:</h2>
</div><div class="Bodytext">
<ul>
<li>
<p>
<A href="Howtoregistertemplates.html#Howto%2eregister%2etemplates">How to register a template with Eclipse</a>
</p>
<li>
<p>
<A href="exampletemplate.html#Corona%2ecustomguide%2eexampletemplate">Example template</a>
</p>
</li>
</ul>

   </div><div class="Footer">
   <hr noshade size="1">
   <table cellpadding="0" cellspacing="0" border="0" width="100%">
     <tr>
       <td class="ButtonBottomBox" align="right" height="12" width="67%">
         <p>
           <A href="index.html"><IMG height=22
		   alt="[Previous]" src="_stock/btn_prev.gif" width=85 border=0 ></a>
	   <A href="#_top"><IMG alt="[Top]" src="_stock/btn_top.gif" align=bottom border=0></a>
           <A href="Howtoregistertemplates.html"><IMG height=22 alt="[Next]"
		   src="_stock/btn_next.gif" width=58 border=0 ></a>
         </p>
       </td>
     </tr>
   </table>
   </div>
   </body>
   </html>
   
<html id='3305.extensions-properties_provide_custom_widget_advanced.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>extensions-properties_provide_custom_widget_advanced</title>
		<link type="text/css" rel="stylesheet" href="../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../resources/custom.css"/>
	</head>
	<body>
		<h1 id="SiriusPropertiesAdvancedCustomWidget">Sirius Properties &#8211; Advanced Custom Widget</h1>
		<h2 id="Goal">Goal</h2>
		<p>Using the Advanced Custom Widget approach, our goal aims at the creation of a custom widget with a great user experience for the Sirius specifier. This custom widget will be created after the development of the basic custom widget. You should be familiar with this approach first.</p>
		<h2 id="Strategy">Strategy</h2>
		<p>In order to create a custom widget, we will have to think about the two kind of users that will interact with our work, the Sirius specifier and the end-user. With this advanced approach, we will create a table widget for the end-user with a great experience for the Sirius specifier who will manipulate it.</p>
		<h3 id="SpecificationofthecustomwidgetinEclipseSirius">Specification of the custom widget in Eclipse Sirius</h3>
		<p>The specification of the advanced custom widget will be the main difference with the basic custom widget. While with the basic approach, the Sirius specifier had to use a generic and bland custom widget description, with the advanced approach we will create a real definition for the Sirius specifier to manipulate.</p>
		<p>As a first step, we want to contribute a piece of model to be displayed in the odesign file for our Sirius specifiers. For that, you will have to create a plugin named 
			<code>com.example.awesomeproject.sirius.properties.ext.widgets.table</code> containing, in a folder named model, an Ecore model named 
			<code>properties-ext-widgets-table.ecore</code>. In this Ecore model, you will have to load the resource 
			<code>properties.ecore</code> used to define the Properties view description in the odesign. This meta-model can be found in the EPackage registry using its NsURI 
			<code>http://www.eclipse.org/sirius/properties/1.0.0</code>.
		</p>
		<p>Once this resource has been loaded, give a name, NsPrefix and NsURI to your EPackage (the root element), for example:</p>
		<ul>
			<li>Name: 
				<code>propertiesextwidgetstable</code>
			</li>
			<li>NsPrefix: 
				<code>properties-ext-widgets-table</code>
			</li>
			<li>NsURI: 
				<code>http://www.example.com/awesomeproject/properties/ext/widgets/table</code>
			</li>
		</ul>
		<p>After that, you can create an EClass under the EPackage with the named 
			<code>ExtTableDescription</code> and with the EClass 
			<code>WidgetDescription</code> as a supertype. This EClass should contain for our example two EAttributes named 
			<code>onClickExpression</code> and 
			<code>valueExpression</code> and both should have the type 
			<code>InterpretedExpresion</code>.
		</p>
		<p>You can then create a genmodel file for your Ecore model in the same repository. Make sure to configure your 
			<code>genmodel</code> with a 
			<em>Runtime Version</em> property set to 
			<em>2.3</em> so that the generated Java is compatible with the &#8220;parent&#8221; metamodel from Sirius. Launching the generation of the model and its edit support will produce two plugins:
		</p>
		<ul>
			<li>Sirius Properties model extension: 
				<code>com.example.awesomeproject.sirius.properties.ext.widgets.table</code>
			</li>
			<li>Sirius Properties model extension Edit support: 
				<code>com.example.awesomeproject.sirius.properties.ext.widgets.table.edit</code>
			</li>
		</ul>
		<h3 id="SpecificationofthecustomwidgetinEclipseEEF">Specification of the custom widget in Eclipse EEF</h3>
		<p>Eclipse EEF has a runtime independent of Eclipse Sirius and as such the definition of the widget that exist in the odesign file has to be transformed into a definition that can be maintained by Eclipse EEF. For most of the existing concepts this transformation is very basic since it only involves the transformation of the Sirius concepts directly into similar EEF concepts but both domain specific languages have very different roles.</p>
		<p>The Eclipse Sirius Properties DSL is used as the user interface for the Eclipse Sirius specifier while the Eclipse EEF DSL is the model interpreted by the runtime. It is perfectly possible, and even recommended, to define, in the extension of the Sirius Properties DSL, high level concepts that should be user-friendly for the Sirius specifier and to keep in the extension of the EEF DSL raw concepts transformed from the extension of the Sirius Properties DSL.</p>
		<p>You will now have to create a third plugin named 
			<code>com.example.awesomeproject.eef.ext.widgets.table</code> with a model folder and an Ecore model inside named 
			<code>eef-ext-widgets-table.ecore</code>. In this model you should load the resource 
			<code>eef.ecore</code> containing the EEF DSL that you will have to extend. You can find it in the EPackage registry using its NsURI 
			<code>http://www.eclipse.org/eef</code>. Once the EEF DSL is loaded, you can set the properties of your root EPackage:
		</p>
		<ul>
			<li>Name: 
				<code>eefextwidgetstable</code>
			</li>
			<li>NsPrefix: 
				<code>eef-ext-widgets-table</code>
			</li>
			<li>NsURI: 
				<code>http://www.example.com/awesomeproject/eef/ext/widgets/table</code>
			</li>
		</ul>
		<p>Under this root EPackage, you can now create your EClass named 
			<code>EEFExtTableDescription</code> which should have 
			<code>EEFWidgetDescription</code> as a supertype. This EClass should contain for our example two EAttributes named 
			<code>onClickExpression</code> and 
			<code>valueExpression</code> and both should have the type 
			<code>EString</code>. In our example, both the extension of the Sirius DSL and the EEF DSL have the same properties since we are using a very simple example.
		</p>
		<p>You can now create a genmodel for your extension of the EEF DSL and generate the code for the model (the Edit support is not necessary here). You will now have three plugins:</p>
		<ul>
			<li>Sirius Properties model extension: 
				<code>com.example.awesomeproject.sirius.properties.ext.widgets.table</code>
			</li>
			<li>Sirius Properties model extension Edit support: 
				<code>com.example.awesomeproject.sirius.properties.ext.widgets.table.edit</code>
			</li>
			<li>EEF model extension: 
				<code>com.example.awesomeproject.eef.ext.widgets.table</code>
			</li>
		</ul>
		<h3 id="ContributionoftheconverterfromSiriustoEEF">Contribution of the converter from Sirius to EEF</h3>
		<p>Now that you have your extension to the Sirius Properties DSL and the EEF DSL, you need to inform the Sirius bridge how to transform the concepts from your extension to the Sirius DSL into EEF concepts. For that an extension point is available in order to contribute an IDescriptionConverter. This converter will have to depend on the Sirius bridge for Eclipse EEF and at least the extension to both the Sirius Properties DSL and the EEF DSL. As a result, this code will have to go into another plugin because having those dependencies on an existing plugins would be against the best practices. We will thus create a fourth plugin named 
			<code>com.example.awesomeproject.sirius.ui.properties.ext.widgets.table</code>. In this plugin, we will declare our description converter using the following extension.
		</p>
		<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?eclipse version="3.4"?&gt;
&lt;plugin&gt;
   &lt;extension
         point="org.eclipse.sirius.ui.properties.descriptionConverter"&gt;
      &lt;descriptor
            class="com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.internal.ExtTableDescriptionConverter"
            description="%tableDescriptionConverter.Description"
            id="com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.descriptionConverter"
            label="%tableDescriptionConverter.Label"&gt;
      &lt;/descriptor&gt;
   &lt;/extension&gt;
&lt;/plugin&gt;

</pre>
		<p>
			<br/>The transformation from the Sirius DSL to the EEF DSL occur in two parts, first the description are converted using an IDescriptionConverter and after an IDescriptionLinkResolver may be used to resolve some links. In our case, the description converter will simply be used to transform a instance of 
			<code>ExtTableDescription</code> into an 
			<code>EEFExtTableDescription</code> and we won&#8217;t use a description link resolver since it is not useful here.
		</p>
		<pre>package com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.internal;

import java.util.Map;

import com.example.awesomeproject.eef.ext.widgets.table.EEFExtTableDescription;
import com.example.awesomeproject.eef.ext.widgets.table.EefExtWidgetsTableFactory;
import org.eclipse.emf.ecore.EObject;
import com.example.awesomeproject.sirius.properties.ext.widgets.table.ExtTableDescription;
import org.eclipse.sirius.ui.properties.api.DescriptionCache;
import org.eclipse.sirius.ui.properties.api.IDescriptionConverter;

public class ExtTableDescriptionConverter implements IDescriptionConverter {

    @Override
    public boolean canHandle(EObject description) {
        return description instanceof ExtTableDescription;
    }

    @Override
    public EObject convert(EObject description, Map&lt;String, Object&gt; parameters, DescriptionCache cache) {
        if (description instanceof ExtTableDescription) {
            ExtTableDescription extTableDescription = (ExtTableDescription) description;

            EEFExtTableDescription eefExtTableDescription = EefExtWidgetsTableFactory.eINSTANCE.createEEFExtTableDescription();
            eefExtTableDescription.setIdentifier(extTableDescription.getIdentifier());
            eefExtTableDescription.setHelpExpression(extTableDescription.getHelpExpression());
            eefExtTableDescription.setIsEnabledExpression(extTableDescription.getIsEnabledExpression());
            eefExtTableDescription.setLabelExpression(extTableDescription.getLabelExpression());

            eefExtTableDescription.setValueExpression(extTableDescription.getValueExpression());
            eefExtTableDescription.setOnClickExpression(extTableDescription.getOnClickExpression());

            // Let's not forget to populate the cache for the other converters or link resolvers
            cache.put(extTableDescription, eefExtTableDescription);

            return eefExtTableDescription;
        }
        return null;
    }
}

</pre>
		<p>
			<br/>An IDescriptionConverter can be used to convert any element from the Sirius Properties DSL into an EEF DSL element. In order to support custom widgets, you only have to handle your own objects but you could still modify other kind of objects from the Sirius Properties DSL. As a result, this mechanism can be used to dynamically modify anything in the description of the Properties view at runtime. This usage of the IDescriptionConverter should almost never be used, it&#8217;s a very powerful mechanism for extremely advanced users only.
		</p>
		<p>In order to help developer transform their Sirius entities into EEF entities, multiple possible super-classes are available:</p>
		<ul>
			<li>org.eclipse.sirius.ui.properties.api.AbstractDescriptionConverter &#8211; Common superclass with utility methods</li>
			<li>org.eclipse.sirius.ui.properties.api.DefaultDescriptionConverter &#8211; Converter for basic transformations</li>
			<li>org.eclipse.sirius.ui.properties.api.DefaultDescriptionWithInitialOperationConverter &#8211; Converter with support for the transformation of a basic operation into a regular expression</li>
			<li>org.eclipse.sirius.ui.properties.api.DefaultStyleDescriptionConverter &#8211; Converter with support for styling</li>
		</ul>
		<h3 id="ContributionofthepreprocessorfromSiriuswithextensibilityfeaturestoflattenSirius">Contribution of the preprocessor from Sirius with extensibility features to flatten Sirius</h3>
		<p>Now that you have your extension to the Sirius Properties DSL, you need to inform the Sirius bridge how to transform the concepts from your new widget with extensibility to the Sirius DSL without extends or overrides mechanism. For that an extension point is available in order to contribute an IDescriptionPreprocessor. This preprocessor will have to depend on the Sirius bridge. As a result, this code will have to go into the same plugin as the converter for best practices. We will thus contribute to the plugin named 
			<code>com.example.awesomeproject.sirius.ui.properties.ext.widgets.table</code>. In this plugin, we will declare our description preprocessor using the following extension.
		</p>
		<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?eclipse version="3.4"?&gt;
&lt;plugin&gt;
   &lt;extension
         point="org.eclipse.sirius.ui.properties.descriptionPreprocessor"&gt;
      &lt;descriptor
            class="com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.internal.ExtTableDescriptionPreprocessor"
            description="%tableDescriptionPreprocessor.Description"
            id="com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.descriptionPreprocessor"
            label="%tableDescriptionPreprocessor.Label"&gt;
      &lt;/descriptor&gt;
   &lt;/extension&gt;
&lt;/plugin&gt;

</pre>
		<p>
			<br/>The transformation from the Sirius DSL with extends/overrides to the Sirius DSL occur in two parts, first the description are converted using an IDescriptionPreprocessor and after an IDescriptionLinkResolver may be used to resolve some links. In our case, the description preprocessor will simply be used to transform a instance of 
			<code>ExtTableDescription</code> with extends into a flatten 
			<code>ExtTableDescription</code> without extends/overrides and we won&#8217;t use a description link resolver since it is not useful here.
		</p>
		<pre>package com.example.awesomeproject.sirius.ui.properties.ext.widgets.table.internal;

import java.util.Map;

import com.example.awesomeproject.eef.ext.widgets.table.EEFExtTableDescription;
import com.example.awesomeproject.eef.ext.widgets.table.EefExtWidgetsTableFactory;
import org.eclipse.emf.ecore.EObject;
import com.example.awesomeproject.sirius.properties.ext.widgets.table.ExtTableDescription;
import org.eclipse.sirius.ui.properties.api.DescriptionCache;
import org.eclipse.sirius.ui.properties.api.IDescriptionPreprocessor;

public class ExtTableDescriptionPreprocessor extends PreconfiguredPreprocessor&lt;ExtTableDescription&gt; {

    @Override
    public boolean canHandle(EObject description) {
        return description instanceof ExtTableDescription;
    }
}

</pre>
		<p>
			<br/>An IDescriptionPreprocessor can be used to convert any element from the Sirius Properties DSL with extends/overrides to a flatten Sirius DSL.
		</p>
		<p>In order to help developer transform their Sirius entities into Sirius flatten entities, multiple possible super-classes are available:</p>
		<ul>
			<li>org.eclipse.sirius.ui.properties.api.DefaultDescriptionPreprocessor &#8211; Preprocessor for basic transformations</li>
			<li>org.eclipse.sirius.ui.properties.api.DefaultDescriptionPreprocessorWithFiltering &#8211; Preprocessor with support for ignoring some features and copying the value of some other features. This means that in the models resulting from the preprocessing, the ignored values are not copied or inherited.</li>
			<li>org.eclipse.sirius.ui.properties.api.PreconfiguredPreprocessor &#8211; Preprocessor with support for most of the cases by ignoring : the extends reference, all the filters of the extension mechanism and by copying: the actions,the initial operation, the style, the conditional styles.</li>
		</ul>
		<h3 id="ContributionofthePropertiessectionfortheodesign">Contribution of the Properties section for the odesign</h3>
		<p>If you try to edit your extension of the Sirius DSL in the odesign editor, you will find out that it does not work. In order to be able to view the properties of your widget, in our case the 
			<code>onClickExpression</code> and the 
			<code>valueExpression</code>, you will need to contribute to the Properties view of the odesign editor. Since this contribution will require a dependency with the framework used for the Properties view of the odesign editor, it will require another plugin named 
			<code>com.example.awesomeproject.sirius.editor.properties.ext.widgets.table</code> with a dependency to at least:
		</p>
		<ul>
			<li>com.example.awesomeproject.sirius.properties.ext.widgets.table</li>
			<li>com.example.awesomeproject.sirius.properties.ext.widgets.table.edit</li>
			<li>org.eclipse.ui.views.properties.tabbed</li>
			<li>org.eclipse.sirius.editor</li>
		</ul>
		<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;?eclipse version="3.4"?&gt;
&lt;plugin&gt;
   &lt;extension
         point="org.eclipse.ui.views.properties.tabbed.propertySections"&gt;
      &lt;propertySections
            contributorId="org.eclipse.sirius.editor.editorPlugin.SiriusEditorContributor"&gt;
         &lt;propertySection
               afterSection="properties.section.widgetDescription.IsEnabledExpression"
               class="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal.ExtTableDescriptionValueExpressionPropertySection"
               filter="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal.ExtTableDescriptionValueExpressionFilter"
               id="properties.section.extTableDescription.valueExpression"
               tab="viewpoint.tab.general"&gt;
            &lt;input
                  type="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.propertiesextwidgetstablee.ExtTableDescription"&gt;
            &lt;/input&gt;
         &lt;/propertySection&gt;
         &lt;propertySection
               afterSection="properties.section.extTableDescription.valueExpression"
               class="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal.ExtTableDescriptionOnClickExpressionPropertySection"
               filter="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal.ExtTableDescriptionOnClickExpressionFilter"
               id="properties.section.extTableDescription.valueExpression"
               tab="viewpoint.tab.general"&gt;
            &lt;input
                  type="com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.propertiesextwidgetstablee.ExtTableDescription"&gt;
            &lt;/input&gt;
         &lt;/propertySection&gt;
      &lt;/propertySections&gt;
   &lt;/extension&gt;
&lt;/plugin&gt;


</pre>
		<p>
			<br/>Two property sections will be necessary in order to display a text field for the value expression and the on click expression.
		</p>
		<pre>package com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal;

import org.eclipse.emf.ecore.EStructuralFeature;
import org.eclipse.sirius.editor.properties.filters.common.ViewpointPropertyFilter;
import com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.propertiesextwidgetstablee.PropertiesExtTablePackage;

public class ExtTableDescriptionOnClickExpressionFilter extends ViewpointPropertyFilter {

    @Override
    protected EStructuralFeature getFeature() {
        return PropertiesExtTablePackage.eINSTANCE.getExtTableDescription_OnClickExpression();
    }

    @Override
    protected boolean isRightInputType(Object arg0) {
        return arg0 instanceof com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.propertiesextwidgetstablee.ExtTableDescription;
    }

}

</pre>
		<p>
			<br/>Both filter will look almost the same, the only difference will be the structural feature that they will return.
		</p>
		<pre>package com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.internal;

import org.eclipse.emf.ecore.EAttribute;
import org.eclipse.sirius.editor.editorPlugin.SiriusEditor;
import org.eclipse.sirius.editor.properties.sections.common.AbstractTextWithButtonPropertySection;
import org.eclipse.sirius.editor.tools.api.assist.TypeContentProposalProvider;
import org.eclipse.sirius.editor.tools.internal.presentation.TextWithContentProposalDialog;
import com.example.awesomeproject.sirius.editor.properties.ext.widgets.table.propertiesextwidgetstablee.PropertiesExtTablePackage;
import org.eclipse.swt.SWT;
import org.eclipse.swt.events.SelectionAdapter;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.events.SelectionListener;
import org.eclipse.swt.layout.FormAttachment;
import org.eclipse.swt.layout.FormData;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.ui.views.properties.tabbed.TabbedPropertySheetPage;

@SuppressWarnings("restriction")
public class ExtTableDescriptionOnClickExpressionPropertySection extends AbstractTextWithButtonPropertySection {

    @Override
    protected String getDefaultLabelText() {
        return "On Click Expression"; //$NON-NLS-1$
    }

    @Override
    protected String getLabelText() {
        String labelText;
        labelText = super.getLabelText() + "*:"; //$NON-NLS-1$
        return labelText;
    }

    @Override
    public EAttribute getFeature() {
        return PropertiesExtTablePackage.eINSTANCE.getExtTableDescription_OnClickExpression();
    }

    @Override
    protected Object getFeatureValue(String newText) {
        return newText;
    }

    @Override
    protected boolean isEqual(String newText) {
        return this.getFeatureAsText().equals(newText);
    }

    @Override
    public void createControls(Composite parent, TabbedPropertySheetPage tabbedPropertySheetPage) {
        super.createControls(parent, tabbedPropertySheetPage);

        text.setToolTipText(getToolTipText());
        /*
         * We set the color as it's a InterpretedExpression
         */
        text.setBackground(SiriusEditor.getColorRegistry().get("yellow")); //$NON-NLS-1$

        TypeContentProposalProvider.bindPluginsCompletionProcessors(this, text);

        FormData data = new FormData();
        data.top = new FormAttachment(text, 0, SWT.TOP);
        data.left = new FormAttachment(nameLabel);

        nameLabel.setFont(SiriusEditor.getFontRegistry().get("required")); //$NON-NLS-1$
    }

    @Override
    protected SelectionListener createButtonListener() {
        return new SelectionAdapter() {
            @Override
            public void widgetSelected(SelectionEvent e) {
                TextWithContentProposalDialog dialog = new TextWithContentProposalDialog(composite.getShell(), ExtTableDescriptionOnClickExpressionPropertySection.this, text.getText());
                dialog.open();
                text.setText(dialog.getResult());
                handleTextModified();
            }
        };
    }

    @Override
    protected String getPropertyDescription() {
        return ""; //$NON-NLS-1$
    }

}


</pre>
		<p>
			<br/>This property section will create a text field and label in the Properties view of the odesign editor in order to let the Sirius specifier edit the 
			<code>onClickExpression</code> of the table. Our text field will have the same appear and feature as the regular yellow text fields used by Sirius. 
		</p>
		<h3 id="Updatetothepluginsofourbasicwidgetapproach">Update to the plugins of our basic widget approach</h3>
		<p>Now we can reuse our work in the basic approach but this time with our own specific DSL instead of reusing the CustomElements from the EEF DSL. First we will have to modify the lifecycle manager provider to support our EEFExtTableDescription.</p>
		<pre>package com.example.awesomeproject.eef.ide.ui.ext.widgets.table.internal;

import org.eclipse.eef.EEFControlDescription;
import org.eclipse.eef.EEFCustomWidgetDescription;
import org.eclipse.eef.core.api.EditingContextAdapter;
import org.eclipse.eef.ide.ui.api.widgets.IEEFLifecycleManager;
import org.eclipse.eef.ide.ui.api.widgets.IEEFLifecycleManagerProvider;
import org.eclipse.sirius.common.interpreter.api.IInterpreter;
import org.eclipse.sirius.common.interpreter.api.IVariableManager;

public class TableLifecycleManagerProvider implements IEEFLifecycleManagerProvider {
    /**
     * The identifier of the control description supported.
     */
    private static final String SUPPORTED_ID = "com.example.awesomeproject.sirius.properties.ext.widgets.table"; //$NON-NLS-1$

    @Override
    public boolean canHandle(EEFControlDescription controlDescription) {
        // only support custom widgets with the proper identifier
        return SUPPORTED_ID.equals(controlDescription.getIdentifier()) &amp;&amp; controlDescription instanceof EEFCustomWidgetDescription;
    }

    @Override
    public IEEFLifecycleManager getLifecycleManager(EEFControlDescription controlDescription, IVariableManager variableManager, IInterpreter interpreter, EditingContextAdapter contextAdapter) {
        if (controlDescription instanceof EEFCustomWidgetDescription) {
            return new TableLifecycleManager((EEFCustomWidgetDescription) controlDescription, variableManager, interpreter, contextAdapter);
        }
        throw new IllegalArgumentException();
    }
}


</pre>
		<p>
			<br/>Now we can just modify our lifecycle manager to support our EEFExtTableDescription.
		</p>
		<pre>package com.example.awesomeproject.eef.ide.ui.ext.widgets.table.internal;

import java.util.function.Consumer;

import org.eclipse.eef.EEFCustomWidgetDescription;
import org.eclipse.eef.EEFWidgetDescription;
import org.eclipse.eef.common.ui.api.IEEFFormContainer;
import org.eclipse.eef.core.api.EditingContextAdapter;
import org.eclipse.eef.core.api.controllers.IEEFWidgetController;
import org.eclipse.eef.ide.ui.api.widgets.AbstractEEFWidgetLifecycleManager;
import org.eclipse.emf.edit.provider.ComposedAdapterFactory;
import org.eclipse.emf.edit.ui.provider.AdapterFactoryLabelProvider;
import org.eclipse.jface.viewers.ArrayContentProvider;
import org.eclipse.jface.viewers.DelegatingStyledCellLabelProvider;
import org.eclipse.jface.viewers.IStructuredSelection;
import org.eclipse.jface.viewers.TableViewer;
import org.eclipse.sirius.common.interpreter.api.IInterpreter;
import org.eclipse.sirius.common.interpreter.api.IVariableManager;
import org.eclipse.swt.SWT;
import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.events.SelectionListener;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Table;

import com.example.awesomeproject.eef.core.ext.widgets.table.internal.TableController;

public class TableLifecycleManager extends AbstractEEFWidgetLifecycleManager {

    private EEFCustomWidgetDescription description;

    private TableViewer tableViewer;

    private ComposedAdapterFactory composedAdapterFactory;

    private SelectionListener onClickListener;

    private TableController controller;

    private Consumer&lt;Object&gt; newValueConsumer;
    
    public TableLifecycleManager(EEFCustomWidgetDescription description, IVariableManager variableManager, IInterpreter interpreter,
            EditingContextAdapter contextAdapter) {
        super(variableManager, interpreter, contextAdapter);
        this.description = description;
    }

    @Override
    protected void createMainControl(Composite parent, IEEFFormContainer formContainer) {
        Table table = formContainer.getWidgetFactory().createTable(parent,
                SWT.READ_ONLY | SWT.V_SCROLL | SWT.FULL_SELECTION | SWT.BORDER | SWT.SINGLE);
        this.tableViewer = new TableViewer(table);
        this.composedAdapterFactory = new ComposedAdapterFactory(ComposedAdapterFactory.Descriptor.Registry.INSTANCE);

        this.tableViewer.setContentProvider(ArrayContentProvider.getInstance());
        this.tableViewer.setLabelProvider(new DelegatingStyledCellLabelProvider(new AdapterFactoryLabelProvider.StyledLabelProvider(
                this.composedAdapterFactory, this.tableViewer)));

        this.controller = new TableController(description, variableManager, interpreter, editingContextAdapter);
    }

    @Override
    public void aboutToBeShown() {
        super.aboutToBeShown();

        this.newValueConsumer = (newValue) -&gt; this.tableViewer.setInput(newValue);
        this.controller.onNewValue(this.newValueConsumer);

        this.onClickListener = new SelectionListener() {
            @Override
            public void widgetSelected(SelectionEvent event) {
                Object selection = ((IStructuredSelection) TableLifecycleManager.this.tableViewer.getSelection()).getFirstElement();
                TableLifecycleManager.this.controller.handleClick(selection);
            }

            @Override
            public void widgetDefaultSelected(SelectionEvent event) {
                Object selection = ((IStructuredSelection) TableLifecycleManager.this.tableViewer.getSelection()).getFirstElement();
                TableLifecycleManager.this.controller.handleClick(selection);
            }
        };
        this.tableViewer.getTable().addSelectionListener(this.onClickListener);
    }

    @Override
    public void refresh() {
        super.refresh();

        this.controller.refresh();
    }

    @Override
    public void aboutToBeHidden() {
        super.aboutToBeHidden();
        this.controller.removeValueConsumer();
        this.newValueConsumer = null;

        this.tableViewer.getTable().removeSelectionListener(this.onClickListener);
        this.onClickListener = null;
    }

    @Override
    protected IEEFWidgetController getController() {
        return this.controller;
    }

    @Override
    protected EEFWidgetDescription getWidgetDescription() {
        return this.description;
    }

    @Override
    protected Control getValidationControl() {
        return this.tableViewer.getTable();
    }

    @Override
    public void dispose() {
        super.dispose();

        this.composedAdapterFactory.dispose();
    }
    
    @Override
    protected void setEnabled(boolean isEnabled) {
        this.tableViewer.getTable().setEnabled(isEnabled);
    }
}

</pre>
		<p>
			<br/>And finally we can easily adapter our controller.
		</p>
		<pre>package com.example.awesomeproject.eef.core.ext.widgets.table.internal;

import java.util.function.Consumer;
import java.util.HashMap;
import java.util.Map;

import org.eclipse.eef.EEFCustomWidgetDescription;
import org.eclipse.eef.core.api.EditingContextAdapter;
import org.eclipse.eef.core.api.controllers.AbstractEEFCustomWidgetController;
import org.eclipse.eef.core.api.utils.EvalFactory;
import org.eclipse.sirius.common.interpreter.api.IInterpreter;
import org.eclipse.sirius.common.interpreter.api.IVariableManager;

public class TableController extends AbstractEEFCustomWidgetController {

    private static final String VALUE_EXPRESSION_ID = "valueExpression"; //$NON-NLS-1$

    private static final String ON_CLICK_EXPRESSION_ID = "onClickExpression"; //$NON-NLS-1$

    private static final String SELECTION_VARIABLE_NAME = "selection"; //$NON-NLS-1$

    private Consumer&lt;Object&gt; newValueConsumer;
    
    public TableController(EEFCustomWidgetDescription description, IVariableManager variableManager, IInterpreter interpreter,
            EditingContextAdapter contextAdapter) {
        super(description, variableManager, interpreter, contextAdapter);
    }

    @Override
    protected EEFCustomWidgetDescription getDescription() {
        return this.description;
    }

    @Override
    public void refresh() {
        super.refresh();
        this.newEval().call(this.getCustomExpression(VALUE_EXPRESSION_ID).get(), this.newValueConsumer);
    }

    public void handleClick(Object object) {
        this.editingContextAdapter.performModelChange(() -&gt; {
            String onClickExpression = this.getCustomExpression(ON_CLICK_EXPRESSION_ID).get();

            Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;();
            variables.putAll(this.variableManager.getVariables());
            variables.put(SELECTION_VARIABLE_NAME, object);

            EvalFactory.of(this.interpreter, variables).call(onClickExpression);
        });
    }

    public void onNewValue(Consumer&lt;Object&gt; consumer) {
        this.newValueConsumer = consumer;
    }

    public void removeValueConsumer() {
        this.newValueConsumer = null;
    }
}

</pre>
		<p>
			<br/>With minimal changes, we can reuse the code of the basic approach in this advanced approach. But now we have the ability to provide the Sirius specifiers with a proper user interface for the manipulation of our widget and we can manipulate our own concepts in the EEF runtime.
		</p>
	</body>
</html><html id='3430.GWT-faq.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>GWT Designer FAQ</title>
<meta content="text/html; charset=windows-1252" http-equiv="Content-Type">
<link href="../book.css" rel="stylesheet" type="text/css">
</head>

<body>
		<h1>GWT Designer FAQ</h1>
		<table border="0" width="900" cellspacing="0" cellpadding="0">
			<tr>
				<td>The following are frequently asked questions about GWT Designer:&nbsp;<ul>
			<li><a href="#UpdateManager">What should I do if I'm getting errors 
			using the Update Manager?</a></li><li><a href="#OtherGUIBuilders">Can 
			GWT Designer edit windows created 
	with other tools?</a></li>
			<li><a href="#CreatedByHand">Can GWT Designer edit windows that have been 
	created by hand?</a></li>
			<li><a href="#Refactor">Can I refactor or otherwise modify the 
			GWT Designer 
	generated code?</a></li>
			<li><a href="#SpecialTags">Why doesn't GWT Designer surround generate code with 
	special tags or mark it as read-only?</a></li>
			<li><a href="#CantParse">Are there any specific constructs that 
			GWT Designer 
	can't parse?</a></li>
			<li><a href="#Constructor">Why does GWT Designer generate in 
	the constructor?</a></li>
			<li><a href="#CustomWidgets">Can GWT Designer use custom&nbsp;widgets?</a></li>
			<li><a href="#InstantiationException">What should I do if I 
			encounter an InstantiationException or other error when using a custom widget?</a></li>
			<li><a href="#Installation">What should I do if GWT Designer does not appear 
	after installation?</a></li>
			<li><a href="#DoesNotWork">What should I do if GWT Designer does not 
			work after installation?</a></li>
			<li><a href="#DesignTab">What can I do if I don't see the Design tab 
	when I edit a window?</a></li>
			<li><a href="#Exception">What should I do if I encounter an exception using
			GWT Designer?</a></li>
			<li><a href="#ParsingError">What should I do if I encounter Parsing 
			Error?</a></li>
			<li><a href="#OutOfMemoryError">What should I do if I encounter an 
	OutOfMemoryError using GWT Designer?</a></li>
			<li><a href="#NoSuchMethodError">What should I do if I encounter an 
			NoSuchMethodError or </a><a href="#NoClassDefFoundError">NoClassDefFoundError using GWT Designer?</a></li>
			<li><a href="#UnsupportedClassVersionError">What should I do if I encounter an 
			UnsupportedClassVersionError using GWT Designer?</a></li>
			<li><a href="#GWTProblem">What should I do if I encounter problems 
			using GWT Designer?</a></li>
			<li><a href="#gwt-ext">Does GWT Designer support GWT-Ext, EXT GWT 
			(GXT) or SmartGWT?</a></li>
			<li><a href="#Linux">How should GWT Designer be configured to work on 
			Linux?</a></li>
			<li><a href="#SuSELinux">What should I do if I have problems running 
			under SuSE Linux?</a></li>
			<li><a href="#LinuxFlashing">How can I prevent 
			the preview window from flashing under Linux using Metacity</a></li>
		</ul>
				<h2><a name="UpdateManager"></a>What should I do if I'm 
				getting errors using the Update Manager?</h2>
				<p>If you encounter some sort of Eclipse Update Manager failure 
				with messages such as &quot;Downloaded stream not a valid archive&quot; or 
				&quot;Problems downloading artifact&quot;, this is caused by a common, 
				well known flaw in the Eclipse Update Manager with a very simple 
				solution: wait five minutes, restart Eclipse, and try it again. 
				Re-starting Eclipse is necessary as Eclipse will actually cache 
				the failure and will refuse to try again during the same 
				session. If you try this a couple of times and the problem 
				persists, it could point to a more rare and troubling problem 
				with a corrupted Eclipse p2 plug-in cache. The next thing to try 
				in that case would be to re-install Eclipse and try again with a 
				new, clean Eclipse environment. If that does not help, send a 
				screen shot of your &quot;Help &gt; About &gt; Installation Details &gt; 
				Installed Software&quot; page as well as a copy of your complete 
				&quot;Help &gt; About &gt; Installation Details &gt; Configuration&quot; to support. 
				You can also try installing into a new, clean Eclipse 
				environment using one of the ZIP install options on the product 
				download page.</p>
				<h2><a name="OtherGUIBuilders"></a>Can GWT Designer 
			edit windows created with other tools?</h2>
		<p>Yes. Most GUI builders in the world will only read and write the 
			code that they themselves create. GWT Designer is an exception to 
			that rule. It can read and edit not only the code it creates, but 
			also a great deal of code generated by other GUI builders (&gt;95%). We 
			have had very good success with code generated by JBuilder, NetBeans, etc. If you come across a case 
			that does not work, send it to us for analysis. The more broken 
			examples that we can "fix", the better GWT Designer will get in the long 
			run (and the better chance you will have of salvaging your old code 
			as-is). Note that GWT Designer will edit any existing code in place 
			without changing its formatting. Any new widgets will be created 
			using GWT Designer's own code 
			generation preferences.</p>
		<h2 style="font-weight: bold"><a name="CreatedByHand"></a>Can 
		GWT Designer edit windows that have been created by hand?</h2>
		<p>Yes. Most GUI builders in the world will only read and write the 
			code that they themselves create. GWT Designer is an exception to 
			that rule. It can read and write not only the code it creates, but 
			also a great deal of code written by hand(&gt;90%). If you come across 
			a case that does not work, send it to us for analysis. The more 
			broken examples that we can "fix", the better GWT Designer will get in 
			the long run (and the better chance you will have of salvaging your 
			old code as-is).</p><p>Note that dynamic GUI code can not be rendered or edited. The
problem with dynamic code is that it generally relies on runtime
calculations that have no meaning at runtime. Widgets created in a loop
(where the loop parameters are passed in externally) are a good
example. Widgets created in conditionals where the value of the
conditional is not known until runtime are another example. Dynamic GUI
code constructed from the results of complex database queries is yet
another example.</p>
		<h2 style="font-weight: bold"><a name="Refactor"></a>Can I refactor 
			or otherwise modify the GWT Designer generated code?</h2>
		<p>Yes. The GWT Designer parser has a good understanding of basic 
			Java code and various Swing, SWT and GWT patterns. As a result, it is 
			very refactoring friendly and very resilient in the face of hand 
			made changes. You can make changes or add code anywhere you like and 
		GWT Designer will reverse engineer it when possible. You can also 
			refactor the code in almost any conceivable way and GWT Designer 
			will still be able to parse it and render it in the design view. For 
			example, use the tool to create a new Swing JFrame, add some 
			widgets, and then use the Eclipse refactoring tools to extract some 
			of the widgets into their own methods.</p>
		<h2 style="font-weight: bold;"><a name="SpecialTags"></a>Why doesn't 
			GWT Designer surround generate code with special tags or mark it as 
			read-only?</h2>
		<p>Using special tags or marking code read-only would 
			go against several of GWT Designer's major design goals. 
		GWT Designer does 
			not make any distinction between generated code and user-written 
			code. GWT Designer is designed to generated the same code that you would 
			write by hand and to make minimal changes to the source when you 
			make a change to the design view. GWT Designer never regenerates the 
			entire source for a file. If you change a single property, it will 
			change only a single line of code. That line of code could 
			theoretically be anywhere in the source file (including within lines 
			originally created by GWT Designer or within lines that you wrote by 
			hand).</p>
		<h2 style="font-weight: bold;"><a name="CantParse"></a>Are there any 
			specific constructs that GWT Designer can't parse?</h2>
		<p>Yes. Here are some examples of constructs that GWT Designer 
			does not yet handle:</p>
		<ul>
			<li>UI construction through the use of local 
				parameterized helper methods</li>
			<li>Multiple aliases (fields or local variables) referring to 
				the same component</li>
			<li>Multiple references to the same widget definition through 
			multiple invocations of the same helper method</li>
			<li>Dynamic GUI code based on runtime calculations</li>
		</ul>
		<h2 style="font-weight: bold;"><a name="Constructor"></a>Why does 
			GWT Designer generate widgets in the constructor?</h2>
		<p>GWT Designer can generate code into 
		any method that you 
			like. One of the key features of GWT Designer is its refactoring 
			friendliness. You can actually use any template that you want for 
			creating a new window (e.g., you don't need to use the wizards 
			supplied with GWT Designer). Alternatively, you can use the Eclipse refactoring commands to extract the components into a new method 
			(like createComponents()) and the tool will continue to work.</p>
		<h2 style="font-weight: bold;"><a name="CustomWidgets"></a>Can 
		GWT Designer use custom widgets?</h2>
		<p>Yes., with a few restrictions.</p>
				<p>Any public Widget subclass that has a 
			public, zero-argument constructor can be used (as is standard for all base GWT widgets). Custom properties are 
			derived through reflection by looking for getter/setter pairs of 
			known types. Custom Composite subclasses 
			will show their subcomponents when placed in GWT Designer.&nbsp;</p><p>Note: the
Java Bean conventions (slightly modified for SWT) are important from a
GUI builder point of view as they establish a common, expected, and,
for the most part, self documenting API. If you create your own unique
constructors, your are, in effect, creating your own personal API which
makes it difficult for a GUI builder to reflectively interact with your
components. Generating code to a custom constructor API requires
knowledge of the API that generally is not provided by the component.
That requires hard coding knowledge of the component into the GUI
builder itself. </p>
		<p>Note: A component may rely on some runtime behavior that is 
		not possible at design time (such as accessing an application database 
		or some other file). Runtime specific behavior should be isolated (and 
		stubbed out as necessary) by wrappering the runtime specific code with a call to
		Beans.isDesignTime() which will answer true when the component is loaded 
		within GWT Designer and false at runtime.</p>
		<h2 style="font-weight: bold;"><a name="InstantiationException"></a>What should I do 
			if I encounter an InstantiationException or other error using a custom widget?</h2>
		<p>An InstantiationException means that GWT Designer 
		could not create an instance of a particular class. The most common 
		reason for this is that the component is not a <a href="#CustomWidgets">valid custom widget</a>. In order to be a valid GWT widget, a class must be a valid 
		Java Bean and have a public, zero-argument constructor. SWT 
		widgets must have a public two-argument constructor with parent 
		and style bits as the two arguments. To fix the problem, add the missing 
		constructor. Note: the
Java Bean conventions are important from a
GUI builder point of view as they establish a common, expected, and,
for the most part, self documenting API. If you create your own unique
constructors, your are, in effect, creating your own personal API which
makes it difficult for a GUI builder to reflectively interact with your
components. Generating code to a custom constructor API requires
knowledge of the API that generally is not provided by the component.
That requires hard coding knowledge of the component into the GUI
builder itself.</p>
		<p>Another possible cause for this exception is some other 
		failure in the initialization code of the component. A component may 
		rely on some runtime behavior that is not possible at design time (such 
		as accessing an application database or some other file). Runtime 
		specific behavior should be isolated (and stubbed out as necessary) by 
		wrappering the runtime specific code with a call to <b>isDesignTime()</b> which will answer true when the 
		component is loaded within GWT Designer and false at runtime. To implement an<b> isDesignTime(</b>) method as described <a href="../gwt/gwt_composites.html#DesignTime">here</a>.</p>
		<p>More detail about the use of custom widgets is available 
		in <a href="#CustomWidgets">this FAQ entry</a>.</p>
		<h2 style="font-weight: bold;"><a name="Installation"></a>What should 
			I do if GWT Designer does not appear after installation?</h2>
		<p align="left">First, make sure that the GWT Designer plugins have 
		been installed properly. If you used the ZIP installation, make sure that the <b>
		GWT Designer</b> plugins 
		were unzipped to your eclipse/plugins or /dropins directory.&nbsp;</p>
				<p align="left"><span style="font-weight: bold;">If you are installing into Eclipse 3.4</span>, there is a bug in the new p2 update manager that does not uninstall bundles (see bug <a class="moz-txt-link-freetext" href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=232094">232094</a>). To workaround this&nbsp; try deleting the bundles.info
file from the /configuration/org.eclipse.equinox.simpleconfigurator
directory and restore the file from the Eclipse ZIP file. If deleting
the bundles.info was not sufficient, delete the entire /configuration
and /p2 directories from your eclipse directory and restore those
directories from the Eclipse ZIP file.</p>
		<p align="left">After restarting Eclipse, open the Eclipse preference 
			dialog and confirm that you see a
			<a href="preferences/index.html">WindowBuilder preference page</a>. 
		If <b>GWT Designer</b> still does not appear, check your Eclipse &quot;.log&quot; 
		file (found in your &lt;workspace&gt;/.metadata directory) for any recorded 
		exceptions and then contact support.If 
		no exceptions are present and <b>GWT Designer</b> is still not present, make 
		sure that you are using a properly configured Eclipse-based IDE. <b>
		GWT Designer</b> requires the complete <b>Eclipse SDK</b> to be present, and 
		will not load into an Eclipse subset (like EasyEclipse or the MyEclipse All-in-one 
		edition). The most important piece missing from some Eclipse 
		distributions is the Eclipse PDE (Plug-in Development Environment). You 
		can correct this problem by launching Eclipse and selecting <b>Help &gt; 
		Software Updates</b>. Select The Eclipse Project updates from 
		the list of sites and select the "<b>Eclipse Plug-in Development 
		Environment</b>&quot; to install. You may need to shutdown Eclipse and clean 
		your configuration directory as described above.</p>
		<h2 style="font-weight: bold;"><a name="DoesNotWork"></a>What should I do 
		if GWT Designer does not work after installation?</h2>
		<p>If GWT Designer fails to work properly (indicated by 
		throwing a random exception or showing a blank design view) after 
		installation when creating or editing a new window (or performing any 
		simple editing activity), you are likely experiencing an installation 
		problem. Try the following:</p>
		<ol>
			<li>
			Check that you have the correct version of 
			GWT Designer installed for your Eclipse environment. If you are 
			using Eclipse 3.6, use the latest GWT Designer build targeted at 
			Eclipse 3.6. Likewise, if you are using Eclipse 3.7, use the latest
			GWT Designer build targeted at Eclipse 3.7.</li>
			<li>
			Check that only one version of GWT Designer (one 
			set of *designer* plugins and features) is installed. If you have an 
			older version also installed (indicated by an earlier version 
			number), delete those plugins and features and repeat step number 
			two above. Make sure that you don't have GWT Designer installed 
			both locally within your Eclipse /plugins directory and 
			remotely through a .link file (check your Eclipse /links 
			directory).</li>
			<li>
			Check your project for classpath problems and your 
			code for compilation problems. If your file or your project 
			shows a red X, GWT Designer 
			may not be able to edit the file. Resolve the problem and open the 
			file again.</li>
			<li>
			Try refreshing and rebuilding your project using the
			<b>Project &gt; Clean</b> command.</li>
			<li>
			If the problem persists, check your Eclipse ".log" 
			file (found in your <b>&lt;workspace&gt;/.metadata</b> directory) 
			for any recorded exceptions and then contact support.</li>
			<li>
			If Eclipse locks up repeatedly, you might try 
			running Eclipse with the <b>-debug</b> command line option. You can 
			then press <b>Ctrl+Break</b> in the console to look at the thread 
			dump which may show where the system is locking up. Send that thread 
			dump to support.</li>
			<li>
			If you are having problems with GWT Designer 
			not working, review this <a href="#GWTProblem">additional FAQ entry</a>.</li>
		</ol>
		<h2 style="font-weight: bold;"><a name="DesignTab"></a>What can I do 
			if I don't see the Design tab when I edit a window?</h2>
		<p>
<img border=0
src="features/images/open_with.gif" v:shapes="_x0000_i1032" align="right" hspace="5">Eclipse remembers the last editor type used with a 
			file. If you don't see the <b>Design</b> tab, that means that you are using the standard Eclipse 
		<b>Java Editor</b> 
			rather than the <b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b>. Open the file with the
		<b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b> and you will see both 
			the <b>Source</b> and <b>Design</b> tabs. Note that Eclipse will 
		only let you have a file open with one editor at a time, so you may need 
		to close any existing editor before opening it with the <b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b>.</p>
				<p>
<img border=0 width=252 height=70
src="features/images/source_design.png" v:shapes="_x0000_i1033"></p>
		<h2 style="font-weight: bold;"><a name="Exception"></a>What should I 
			do if I encounter an exception using GWT Designer?</h2>
		<p>If a newer GWT Designer build is available than the one you 
			are using, please download the newer build and try and reproduce the 
			problem. If the problem has been reported in the past, there is a 
			good chance that it has already been fixed. If the problem still 
			exists, you should send your Eclipse ".log" file (found in your 
			<b>&lt;workspace&gt;/.metadata</b> directory) as well as any relevant test cases 
			to
			support. 
		Including a test case that will 
			help us reproduce the problem is very important. The faster we can 
			reproduce the problem, the faster we can get you a fix. If we can't 
			reproduce a problem, there is little we can do to help you. </p>
		<p>Ideally, 
			the test case you send should be the same window you were editing 
			when the problem occurred (along with any supporting files needed to 
		compile it). If that is not possible (possibly because 
			you aren't allowed to send any code to a 3rd party), then you should 
			try to create a new, standalone test case that illustrates the same 
			problem. The best approach is to create a standalone test case by 
		removing all of the code that isn't relevant to the problem at hand 
		(e.g., keep deleting code until the problem goes away and then restore 
		that last code that was last deleted).</p>
		<h2 style="font-weight: bold;"><a name="ParsingError"></a>What should I do 
		if I encounter a Parsing Error?</h2>
		<p>As suggested by the message, this is error is caused by 
		a parsing problem. It has nothing to do with 
		licensing. Your Eclipse ".log" file (found in your 
		<b>&lt;workspace&gt;/.metadata</b> directory) should provide a hint as to the cause 
		of the parsing error. Send the log file as well as a test case to
			support 
		(ideally the window you are trying to edit). Including a test case that will 
			help us reproduce the problem is very important. The faster we can 
			reproduce the problem, the faster we can get you a fix. If we can't 
			reproduce a problem, there is little we can do to help you. </p>
		<p>Ideally, 
			the test case you send should be the same window you were editing 
			when the problem occurred (along with any supporting files needed to 
		compile it). If that is not possible (possibly because 
			you aren't allowed to send any code to a 3rd party), then you should 
			try to create a new, standalone test case that illustrates the same 
			problem. The best approach is to create a standalone test case by 
		removing all of the code that isn't relevant to the problem at hand 
		(e.g., keep deleting code until the problem goes away and then restore 
		that last code that was last deleted).</p>
		<p>Parsing problems can also be a side effect of the other 
		problems described in the <a href="#DoesNotWork">earlier FAQ entry here</a> 
		so check each of the suggestions there. Refreshing and rebuilding your 
		project using the <b>Project &gt; Clean</b> command can often help as can 
		cleaning your Eclipse "configuration" directory.</p>
		<h2 style="font-weight: bold;"><a name="OutOfMemoryError"></a>What 
			should I do if I encounter an OutOfMemoryError using GWT Designer?</h2>
		<p>Make sure that you have Eclipse
			configured to use enough memory. 
			Begin by specifying the starting amount of memory (<b>-vmargs -Xms###m</b>)
      in your Eclipse startup command line (e.g., the
      target field within a Windows shortcut) or <b>eclipse.ini</b> file (in 
		your Eclipse root directory). If this is not specified,
      Eclipse's starting amount of memory is quite small (only 40 MB). You 
		should also specify the maximum amount of memory that Eclipse can 
		use (<b>-vmargs -Xmx###m)</b> and the maximum amount of perm space available (<b>-vmargs -XX:MaxPermSize=###m</b>).</p>
		<p>We typically recommend something like this (these setting are 
		independent of any of the startup settings that you might have in place):</p>
		<dl>
			<dd><b>-vmargs -XX:MaxPermSize=128m -Xms256m 
			-Xmx512m</b></dd>
		</dl>
		<p>An OutOfMemoryError is usually a side effect of something else, so 
			you should send your Eclipse ".log" file (found in your 
			&lt;workspace&gt;/.metadata directory) as well as any relevant test cases 
			to support. 
		</p>
		<p>You might try running Eclipse with the -debug command line 
		option. You can then press <b>Ctrl+Break</b> in the console to look at 
		the thread dump which may show where the system is locking up and where 
		the memory is going. Send that thread dump to support</p>
		<h2 style="font-weight: bold;"><a name="NoSuchMethodError"></a><a name="NoClassDefFoundError"></a>What 
			should I do if I encounter an NoSuchMethodError or 
		NoClassDefFoundError using GWT Designer?</h2>
		<p>Start by checking your Eclipse ".log" file (found in your 
		<b>&lt;workspace&gt;/.metadata directory</b>). If the error references one of 
		your classes or methods, check that your classpath properly references 
		the class you are trying to use. Also check that your class is properly 
		compiled (no red <font color="#ff0000"><b>X</b></font>'s) and that a <b>
		.class</b> file exists in your projects <b>/bin</b>
directory. A mismatch between the JDK used to compile your code and the JVM used 
		to run Eclipse can also manifest itself as a <span style="font-weight: bold;">NoClassDefFoundError </span>
problem. For example, if you compile your code using JDK 1.5 or 1.6 and
then run your Eclipse using a 1.4 or 1.5 JVM, you can have this
problem. If the error refers to a custom widget, you should also
check that your component does not trigger an exception during its
initialization (which can manifest itself as a <span style="font-weight: bold;">NoClassDefFoundError</span>).&nbsp;Try <b>
		refreshing</b> and <b>cleaning</b> your project using the <b>Project &gt; 
		Clean...</b> or <b>Project &gt; Build Project</b> commands. If that does not help, send a test case to
		support.</p>
		<p>If the error references a base Eclipse 
		method or class, this means that you have the wrong version of 
		GWT Designer 
		loaded for the version of Eclipse you are using. GWT Designer is 
		trying to access a method or class that simply does not exist in your Eclipse 
		distribution. Delete the GWT Designer feature and plugin directories 
		and then download and install the correct version of&nbsp; GWT Designer for the version of Eclipse you are 
		using.</p>
		<p>If the error refers to a method or class in a GWT Designer class, this means that you have a serious Eclipse 
		configuration problem, and that one or more of the GWT Designer plugins are not being loaded properly. If a plugin does not load, all of 
		its methods will be unreachable, and any attempts to access them will 
		trigger a NoSuchMethodError or NoClassDefFoundError. This problem can usually be fixed by 
		cleaning your Eclipse "configuration" directory as described in this <a href="#DoesNotWork">earlier FAQ entry</a>.</p>
		<h2 style="font-weight: bold;"><a name="UnsupportedClassVersionError"></a>What 
			should I do if I encounter an UnsupportedClassVersionError using 
		GWT Designer?</h2>
		<p>An UnsupportedClassVersionError is usually caused by attempting to 
		run code compiled against a later JRE with an IDE using an earlier JRE. 
		Typically, you will see this when trying to use a class (such as a 
		custom widget) that has been compiled against JDK 1.6 within a version 
		of Eclipse launched with JDK 1.5.</p>
		<p>Two solutions are possible: you may either recompile the class using 
		JDK 1.5, or you can tell Eclipse to run using JDK 1.6 by modifying its 
		startup parameters as follows (use your path to JDK 1.6 on your system):</p>
		<blockquote>
			<p>-vm C:\jdk1.6.0_21\bin\java.exe</p>
		</blockquote>
				<h2 style="font-weight: bold;"><a name="GWTProblem"></a>What 
				should I do if I encounter problems using GWT Designer?</h2>Try the following as 
		possible solutions: 
		<ol>
			<li>
			Make sure that your <b>WindowBuilder &gt; GWT &gt; Path</b> 
			preference points to your GWT installation directory.</li>
			<li>
			Make sure that your project's .classpath file 
			includes the following entry (and no other references to
			gwt-user.jar)... <br>
			<br>
			&lt;classpathentry kind="var" path="GWT_HOME/gwt-user.jar"/&gt;
			</li>
			<li>
			Make sure that gwt-user.jar appears before 
			gwt-servelt.jar, gwt-dev-windows.jar or any other 
			Google-supplied GWT jar (gwt-servlet.jar in particular 
			includes many overlapping classes with gwt-user.jar, so it is 
			important that gwt-user.jar is listed first).</li>
			<li>
			Try deleting the following directory in case there 
			is a problem with cached GWT bytecodes...<br>
			<br>
			&lt;workspace&gt;\.metadata\.plugins\com.swtdesigner.gwt\bytesCache</li>
			<li>
			Make sure that anything that might interfere with 
			local communications is disabled (like any proxy configured in your 
			IE settings or any overly aggressive anti-virus software). If you 
			have a proxy server configured in your IE LAN Settings, make 
			sure that the Bypass proxy server for local addresses option 
			is enabled. As a test, you can also try disabling the proxy 
			completely.</li>
			<li>
			Make sure that your browser is in "on-line" mode. In IE, 
			make sure that the File > Work Offline menu is unchecked.</li>
			<li>
			If you are using FireFox, try disabling or removing 
			any installed extensions.</li>
			<li>
			Re-boot your PC and try it again. This should rule 
			out any temporary problems with memory, communications, etc.</li>
			<li>
			Re-install GWT Designer (using the
			latest build) into a clean Eclipse environment 
			(new workspace). This should rule out any installation problems or 
			issues with other plugins.</li>
			<li>
			Do a full reset of you browser settings (see your IE 
			preferences). This is to rule out any unknown IE-related 
			configuration issues.</li>
		</ol>
		<h2 style="font-weight: bold"><a name="gwt-ext"></a>Does GWT Designer 
		support GWT-Ext, EXT GWT (GXT) or SmartGWT?</h2>
		<p>Yes. GWT Designer has excellent support for gwt-ext. All standard GWT 
		widgets, panels and layouts work with GWT Designer as do any widgets that are
		<a href="#CustomWidgets">JavaBean compliant</a> (e.g., they include a 
		public default constructor and expose properties via getter/setter 
		pairs). Widgets that define their own API and don't conform to the 
		JavaBean spec likely will not work as-is.</p>
				<h2 style="font-weight: bold;"><a name="Linux"></a>How should 
		GWT Designer be configured to 
		work on Linux?</h2>
		<p>To use GWT Designer in Linux, we recommend that you use an 
		official JDK from Sun, as using the GPL version of the java is not recommended. 
		Here are some setup instructions for using Sun's java with Fedora Core and Debian. Note that 
		use of a non-Sun JDK can result in Eclipse locking up.<br>
		<br>
		Using Sun's Java with Fedora Core:</p>
		<ol>
			<li>Download and Unpack Sun's JDK .bin format.<br>
&nbsp;</li>
			<li>If you wish to use java on the command line or with other 
			programs besides eclipse add the following to your /etc/profile <br>
			<br>
			JAVA_HOME = &lt;path_to_jdk&gt;<br>
			PATH= $PATH:$JAVA_HOME/bin<br>
			Export JAVA_HOME PATH<br>
&nbsp;</li>
			<li>Install Sun's java as alternative<br>
			#/usr/sbin/alternatives -install /usr/bin/java java &lt;path_to_jdk&gt; 2<br>
&nbsp;</li>
			<li>Switch to the new alternative<br>
			#/usr/sbin/alternatives -config java<br>
			Select option 2<br>
&nbsp;</li>
			<li>Test <br>
			#/usr/sbin/alternatives -display java </li>
		</ol>
		<p>You should see java pointing to the Sun JDK.<br>
		<br>
		Using Sun's Java with Debian:</p>
		<ol>
			<li>Download Sun JDK in .bin format<br>
&nbsp;</li>
			<li>fakeroot make-jpkg &lt;jdk&gt;.bin<br>
			This creates a .deb package.<br>
&nbsp;</li>
			<li>sudo dpkg -i &lt;jdk&gt;.deb<br>
&nbsp;</li>
			<li>Test <br>
			#java -version.</li>
		</ol>
		<h2 style="font-weight: bold;">
		<a name="SuSELinux"></a>What should I do if I have problems running 
		under SuSE Linux?</h2>
		<p>If you have a problem running GWT Designer on Linux SuSE 
		10.3 such as Eclipse crashing and/or working incorrectly, or your my log 
		files contains something like &quot;xcb_xlib.c:42: xcb_xlib_lock: Assertion 
		`!c-&gt;xlib.lock'&quot; and/or &quot;/usr/lib/Eclipse: No such file or directory&quot;, 
		please try to add the following into you profile:</p>
		<blockquote>
			<p>LIBXCB_ALLOW_SLOPPY_LOCK=1<br>
			export LIBXCB_ALLOW_SLOPPY_LOCK. </p>
		</blockquote>
		<h2 style="font-weight: bold;">
		<a name="LinuxFlashing"></a>How can I prevent the preview window from 
		flashing under Linux using Metacity</h2>
		<p>In order to create the graphics that you see in the 
		design view, GWT Designer creates an off screen window containing the 
		various widgets and they takes a screen snapshot of them. This works 
		very well under Windows, OSX and some versions of Linux. Recent versions 
		of the Metacity window manager (more recent than 2.1.4), however, 
		have been modified/"fixed" to disallow windows to be opened off screen. 
		This forces the preview window to appear on screen leading to an 
		annoying flashing effect any time you make a change. The solution is to 
		disable the Metacity "fully_onscreen" constraint by patching the Metacity source code and rebuilding and installing the patched 
		version into your system. <br>
		<br>
		Here are the steps to follow:</p>
		<ol>
			<li>
			Download the Metacity source code from
			<a href="ftp://ftp.gnome.org/pub/gnome/sources/metacity/">
			ftp://ftp.gnome.org/pub/gnome/sources/metacity/</a></li>
			<li>
			Unpack the source code tarball into any temporary 
			directory.</li>
			<li>
			Chdir into this directory (with the unpacked code).</li>
			<li>
			Find window.c file and open it with your 
			favourite texteditor.</li>
			<li>
			Find a line with "window-&gt;require_fully_onscreen 
			= TRUE;"</li>
			<li>
			Replace it with "window-&gt;require_fully_onscreen = 
			FALSE;"</li>
			<li>
			Save the changes and close the editor.</li>
			<li>
			Open a terminal and chdir into the directory with 
			the source code (nice if you have already done this)</li>
			<li>
			Run "./configure".</li>
			<li>
			Run "make all".</li>
			<li>
			Make sure that steps 9 &amp; 10 completed without 
			errors.</li>
			<li>
			Become root (or execute the next command via "sudo" 
			depending on the Linux you are running)</li>
			<li>
			Run "make install" (or "sudo make install").</li>
			<li>
			Save your work and close any application you are 
			working with.</li>
			<li>
			End your session (or press Ctrl-Alt-Delete to 
			restart the x-server) and log in again.</li>
			<li>
			You are done!</li>
		</ol>
				</td>
			</tr>
		</table>









</body></html>
<html id='0019.ScriptingReference.24.3.html'></html><?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>BirtComp</title>
    <link rel="StyleSheet" href="css/ScriptingReference.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
  </head>
  <body>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="ScriptingReference.24.2.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <td>
            <a href="ScriptingReference.24.4.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <blockquote>
      <h2 class="RH1_Class">Class  <a name="275951">BirtComp</a></h2>
      <p class="b_Body"><a name="275952">The BirtComp class provides functions to compare values, for example, to test if a value is equal to, greater than, or less than another value. All the functions return boolean values. This class is static. The application cannot create instances of the class.</a></p>
      <h3 class="RH2_Method"><a name="275953">BirtComp.anyOf</a></h3>
      <p class="b_Body"><a name="275954">This function compares one or more values to the contents of a field,.</a></p>
      <p class="N_sb_ScanBold"><a name="275955">Syntax</a></p>
      <div class="rs_RSyntax"><a name="275956">boolean BirtComp.anyOf( source, target1, ..., targetN )</a></div>
      <p class="N_sb_ScanBold"><a name="275957">Parameters</a></p>
      <p class="RParameter"><a name="275958">source</a></p>
      <p class="bn_BodyNoLead"><a name="275959">A field with contents to use for comparison.</a></p>
      <p class="RParameter"><a name="279956">target</a></p>
      <p class="bn_BodyNoLead"><a name="279960">The value or values to find in source.</a></p>
      <p class="N_sb_ScanBold"><a name="275960">Returns</a></p>
      <p class="b_Body"><a name="275961">Boolean. True if a target value matches a value in source; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="275962">Examples</a></p>
      <p class="b_Body"><a name="275963">The following example tests if Canada, Mexico, or USA are values in the Country field. If any one of the countries is in the field, the function returns true.</a></p>
      <div class="cf_CodeFirst"><a name="275964">BirtComp.anyOf(dataSetRow["Country"], "Canada", "Mexico", "USA")</a></div>
      <p class="b_Body"><a name="275965">The following example tests if Jan 15, 2009 or Jan 31, 2009 are values in the payDate field:</a></p>
      <div class="cf_CodeFirst"><a name="275966">BirtComp.anyOf(dataSetRow["payDate"], "2009-01-15", "2009-01-31")</a></div>
      <p class="b_Body"><a name="357420">The following example tests if two specific product codes are values in the productCode field. If either value appears in the field, the string Obsolete is displayed; otherwise the productCode value is displayed as it appears in the field.</a></p>
      <div class="cf_CodeFirst"><a name="357493">if (BirtComp.anyOf(dataSetRow["PRODUCTCODE"], "S18_1749", "S18_2248" )){</a></div>
      <div class="co_Code"><a name="357494">&nbsp;&nbsp;displayString = "Obsolete"</a></div>
      <div class="co_Code"><a name="357495">}else{</a></div>
      <div class="co_Code"><a name="357496">&nbsp;&nbsp;dataSetRow["PRODUCTCODE"]</a></div>
      <div class="co_Code"><a name="357421">}</a></div>
      <h3 class="RH2_Method"><a name="357427">BirtComp.between</a></h3>
      <p class="b_Body"><a name="280060">This function tests if a value is between two specified values.</a></p>
      <p class="N_sb_ScanBold"><a name="280061">Syntax</a></p>
      <div class="rs_RSyntax"><a name="280062">boolean BirtComp.between( source, target1, target2 )</a></div>
      <p class="N_sb_ScanBold"><a name="280063">Parameters</a></p>
      <p class="RParameter"><a name="280064">source</a></p>
      <p class="bn_BodyNoLead"><a name="280065">The value to test.</a></p>
      <p class="RParameter"><a name="280066">target1</a></p>
      <p class="bn_BodyNoLead"><a name="280067">The first value in the range of values to compare to.</a></p>
      <p class="RParameter"><a name="280458">target2</a></p>
      <p class="bn_BodyNoLead"><a name="280462">The second value in the range of values to compare to.</a></p>
      <p class="N_sb_ScanBold"><a name="280068">Returns</a></p>
      <p class="b_Body"><a name="280069">True if the source value is between the target1 and target values; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="280070">Examples</a></p>
      <p class="b_Body"><a name="280071">The following expressions test field values to see if they are within a specified range of values:</a></p>
      <div class="cf_CodeFirst"><a name="280072">BirtComp.between( row["SalesTotal"], 10000, 20000 )</a></div>
      <div class="co_Code"><a name="280074">BirtComp.between( row["CustomerName"], "A", "M" )</a></div>
      <div class="co_Code"><a name="280486">BirtComp.between( row["OrderDate"], "2009-01-01", "2009-01-31" )</a></div>
      <p class="b_Body"><a name="280075">The following example calculates shipment dates. If an OrderDate value is in December 2008 (between 12/01/08 and 12/31/08), add 5 days to the OrderDate value. If an OrderDate value is in a month other than December, add 3 days to the OrderDate value.</a></p>
      <div class="cf_CodeFirst"><a name="280076">if (BirtComp.between(row["OrderDate"], "2008-12-01", "2008-12-31" )){</a></div>
      <div class="co_Code"><a name="280077">&nbsp;&nbsp;shipDate = BirtDateTime.addDay( row["OrderDate"], 5 )</a></div>
      <div class="co_Code"><a name="280078">&nbsp;&nbsp;}</a></div>
      <div class="co_Code"><a name="280079">else{</a></div>
      <div class="co_Code"><a name="280080">&nbsp;&nbsp;ShipDate = BirtDateTime.addDay( row["OrderDate"], 3 )</a></div>
      <div class="co_Code"><a name="280081">&nbsp;&nbsp;}</a></div>
      <h3 class="RH2_Method"><a name="287732">BirtComp.compareString</a></h3>
      <p class="b_Body"><a name="287733">This function tests if a string value matches another string value, given specified conditions.</a></p>
      <p class="N_sb_ScanBold"><a name="287734">Syntax</a></p>
      <div class="rs_RSyntax"><a name="287735">boolean BirtComp.compareString( source1, source2, ignoreCase, trim )</a></div>
      <p class="N_sb_ScanBold"><a name="287736">Parameters</a></p>
      <p class="RParameter"><a name="287737">source1</a></p>
      <p class="bn_BodyNoLead"><a name="287738">The first string value to use in the comparison.</a></p>
      <p class="RParameter"><a name="288180">source2</a></p>
      <p class="bn_BodyNoLead"><a name="288184">The second string value to use in the comparison.</a></p>
      <p class="RParameter"><a name="287739">ignoreCase</a></p>
      <p class="bn_BodyNoLead"><a name="288343">Specify true to perform a case-insensitive comparison. Specify false to perform a case-sensitive comparison.</a></p>
      <p class="RParameter"><a name="288346">trim</a></p>
      <p class="bn_BodyNoLead"><a name="288350">Specify true to remove any leading or trailing blanks before comparing the two values. Blanks in the middle of a string are not removed. Specify false if you want the comparison to include leading or trailing blanks. </a></p>
      <p class="N_sb_ScanBold"><a name="287750">Returns</a></p>
      <p class="b_Body"><a name="287751">True if the source1 value matches the source2 value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="287752">Examples</a></p>
      <p class="b_Body"><a name="287755">The following expressions compare strings with different conditions specified:</a></p>
      <div class="cf_CodeFirst"><a name="287756">BirtComp.compareString( "Jackson", "Jackson", false, false ) // returns true</a></div>
      <div class="co_Code"><a name="292200">BirtComp.compareString( "Jackson", "jackson", false, true ) // returns false</a></div>
      <div class="co_Code"><a name="292628">BirtComp.compareString( "Jackson", "jackson", true, false ) // returns true</a></div>
      <div class="co_Code"><a name="292584">BirtComp.compareString( "Jackson ", "jackson", true, false ) // returns false</a></div>
      <div class="co_Code"><a name="292609">BirtComp.compareString( "Jackson ", "jackson", true, true ) // returns true</a></div>
      <h3 class="RH2_Method"><a name="280965">BirtComp.equalTo</a></h3>
      <p class="b_Body"><a name="280966">This function tests if a value is equal to another value.</a></p>
      <p class="N_sb_ScanBold"><a name="280967">Syntax</a></p>
      <div class="rs_RSyntax"><a name="280968">boolean BirtComp.equalTo( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="280969">Parameters</a></p>
      <p class="RParameter"><a name="280970">source</a></p>
      <p class="bn_BodyNoLead"><a name="280971">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="280972">target</a></p>
      <p class="bn_BodyNoLead"><a name="280973">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="280976">Returns</a></p>
      <p class="b_Body"><a name="280977">True if the source value is equal to the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="280978">Examples</a></p>
      <p class="b_Body"><a name="280979">The following expressions test field values to see if they are equal to specified values:</a></p>
      <div class="cf_CodeFirst"><a name="280980">BirtComp.equalTo( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="280981">BirtComp.equalTo( row["Country"], "France" )</a></div>
      <div class="co_Code"><a name="280982">BirtComp.equalTo( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="285949">BirtComp.greaterOrEqual</a></h3>
      <p class="b_Body"><a name="285950">This function tests if a value is greater than or equal to another value.</a></p>
      <p class="N_sb_ScanBold"><a name="285951">Syntax</a></p>
      <div class="rs_RSyntax"><a name="285952">boolean BirtComp.greaterOrEqual( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="285953">Parameters</a></p>
      <p class="RParameter"><a name="285954">source</a></p>
      <p class="bn_BodyNoLead"><a name="285955">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="285956">target</a></p>
      <p class="bn_BodyNoLead"><a name="285957">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="285958">Returns</a></p>
      <p class="b_Body"><a name="285959">True if the source value is greater than or equal to the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="285960">Examples</a></p>
      <p class="b_Body"><a name="285961">The following expressions test field values to see if they are greater than or equal to specified values:</a></p>
      <div class="cf_CodeFirst"><a name="285962">BirtComp.greaterOrEqual( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="285963">BirtComp.greaterOrEqual( row["ProductCode"], "S50_4000" )</a></div>
      <div class="co_Code"><a name="285964">BirtComp.greaterOrEqual( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="286072">BirtComp.greaterThan</a></h3>
      <p class="b_Body"><a name="286073">This function tests if a value is greater than another value.</a></p>
      <p class="N_sb_ScanBold"><a name="286074">Syntax</a></p>
      <div class="rs_RSyntax"><a name="286075">boolean BirtComp.greaterThan( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="286076">Parameters</a></p>
      <p class="RParameter"><a name="286077">source</a></p>
      <p class="bn_BodyNoLead"><a name="286078">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="286079">target</a></p>
      <p class="bn_BodyNoLead"><a name="286080">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="286081">Returns</a></p>
      <p class="b_Body"><a name="286082">True if the source value is greater than the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="286083">Examples</a></p>
      <p class="b_Body"><a name="286084">The following expressions test field values to see if they are greater than specified values:</a></p>
      <div class="cf_CodeFirst"><a name="286085">BirtComp.greaterThan( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="286086">BirtComp.greaterThan( row["CustomerName"], "M" )</a></div>
      <div class="co_Code"><a name="286087">BirtComp.greaterThan( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="286109">BirtComp.lessOrEqual</a></h3>
      <p class="b_Body"><a name="286110">This function tests if a value is less than or equal to another value.</a></p>
      <p class="N_sb_ScanBold"><a name="286111">Syntax</a></p>
      <div class="rs_RSyntax"><a name="286112">boolean BirtComp.lessOrEqual( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="286113">Parameters</a></p>
      <p class="RParameter"><a name="286114">source</a></p>
      <p class="bn_BodyNoLead"><a name="286115">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="286116">target</a></p>
      <p class="bn_BodyNoLead"><a name="286117">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="286118">Returns</a></p>
      <p class="b_Body"><a name="286119">True if the source value is less than or equal to the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="286120">Examples</a></p>
      <p class="b_Body"><a name="286121">The following expressions test field values to see if they are less than or equal to specified values:</a></p>
      <div class="cf_CodeFirst"><a name="286122">BirtComp.lessOrEqual( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="286123">BirtComp.lessOrEqual( row["ProductCode"], "S18_4000" )</a></div>
      <div class="co_Code"><a name="286124">BirtComp.lessOrEqual( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="285537">BirtComp.lessThan</a></h3>
      <p class="b_Body"><a name="285538">This function tests if a value is less than another value.</a></p>
      <p class="N_sb_ScanBold"><a name="285539">Syntax</a></p>
      <div class="rs_RSyntax"><a name="285540">boolean BirtComp.lessThan( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="285541">Parameters</a></p>
      <p class="RParameter"><a name="285542">source</a></p>
      <p class="bn_BodyNoLead"><a name="285543">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="285544">target</a></p>
      <p class="bn_BodyNoLead"><a name="285545">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="285546">Returns</a></p>
      <p class="b_Body"><a name="285547">True if the source value is less than the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="285548">Examples</a></p>
      <p class="b_Body"><a name="285549">The following expressions test field values to see if they are less than specified values:</a></p>
      <div class="cf_CodeFirst"><a name="285550">BirtComp.lessThan( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="285551">BirtComp.lessThan( row["CustomerName"], "M" )</a></div>
      <div class="co_Code"><a name="285552">BirtComp.lessThan( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="286184">BirtComp.like</a></h3>
      <p class="b_Body"><a name="286185">This function tests if a string value matches a pattern. The pattern must use SQL pattern-matching syntax.</a></p>
      <p class="N_sb_ScanBold"><a name="286186">Syntax</a></p>
      <div class="rs_RSyntax"><a name="286187">boolean BirtComp.like( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="286188">Parameters</a></p>
      <p class="RParameter"><a name="286189">source</a></p>
      <p class="bn_BodyNoLead"><a name="286190">The string value to evaluate.</a></p>
      <p class="RParameter"><a name="286191">target</a></p>
      <p class="bn_BodyNoLead"><a name="286192">The string pattern to match. You must enclose the pattern in double quotation marks (" "). Use the correct case when typing the characters that you want to match. You can use the following special character in a pattern:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="286797">A percent character (%) matches zero or more characters. For example, %ace% matches any string value that contains the substring ace, such as Facebook and MySpace. It does not match Ace Corporation because this string contains a capital A, and not the lowercase a.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="286830">An underscore character (_) that matches exactly one character. For example, t_n matches tan, ten, tin, and ton. It does not match teen or tn.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="286834">To match a literal percent (%) or underscore (_) character, precede those characters with two backslash (\\) characters. For example, to match S_10, use the following pattern:</a></p>
      <div class="cf_CodeFirst"><a name="286838">S\\_10</a></div>
      <p class="b_Body"><a name="286842">To match 50%, use the following pattern:</a></p>
      <div class="cf_CodeFirst"><a name="286846">50\\%</a></div>
      <p class="N_sb_ScanBold"><a name="286193">Returns</a></p>
      <p class="b_Body"><a name="286194">True if the source value matches the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="286195">Examples</a></p>
      <p class="b_Body"><a name="286196">The following example returns true for values in the productCode field that start with S18:</a></p>
      <div class="cf_CodeFirst"><a name="286197">BirtComp.like( row["productCode"], "S18%" )</a></div>
      <p class="b_Body"><a name="286720">The following example returns true for productName values that contain the substring Ford preceded by a single character:</a></p>
      <div class="cf_CodeFirst"><a name="286762">BirtComp.like( row["productName"], "_Ford%" )</a></div>
      <h3 class="RH2_Method"><a name="287271">BirtComp.match</a></h3>
      <p class="b_Body"><a name="287272">This function tests if a string value matches a pattern. The pattern must use JavaScript regular expression syntax.</a></p>
      <p class="N_sb_ScanBold"><a name="287273">Syntax</a></p>
      <div class="rs_RSyntax"><a name="287274">boolean BirtComp.match( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="287275">Parameters</a></p>
      <p class="RParameter"><a name="287276">source</a></p>
      <p class="bn_BodyNoLead"><a name="287277">The string value to evaluate.</a></p>
      <p class="RParameter"><a name="287278">target</a></p>
      <p class="bn_BodyNoLead"><a name="287279">The string pattern to match. In JavaScript regular expression syntax, you specify a pattern within a pair of forward slash (/) characters. You can use any special character supported by JavaScript regular expressions, such as the following:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="287280">A question mark (?) matches zero or one occurrence of the character previous to it. For example, /te?n/ matches tn, ten, and often. It does not match teen or intern.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="287281">An asterisk (*) matches zero or any number of occurrences of the character previous to it. For example, /te*n/ matches tn, ten, often, and teen. It does not match intern.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="287714">A period (.) matches any character. For example, /te.*/ matches ten, often, teen, intern.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="287724">A caret (^) specifies that the substring to look for is at the beginning of a string. For example, /^ten/ matches ten, tennis, and tense. It does not match often or pretend.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="287725">An i character specifies a case-insensitive search. For example, /smith/i matches Smith, blacksmith, and Smithsonian.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="287282">To match a special character literally, precede the special character with a backslash (\) character. For example, to match S*10, use the following pattern:</a></p>
      <div class="cf_CodeFirst"><a name="287283">/S\*10/</a></div>
      <p class="N_sb_ScanBold"><a name="287286">Returns</a></p>
      <p class="b_Body"><a name="287287">True if the source value matches the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="287288">Examples</a></p>
      <p class="b_Body"><a name="287289">The following example returns true for values in the productCode field that start with S18:</a></p>
      <div class="cf_CodeFirst"><a name="287290">BirtComp.match( row["productCode"], /^S18/ )</a></div>
      <p class="b_Body"><a name="287291">The following example returns true for productName values that contain the substring Ford:</a></p>
      <div class="cf_CodeFirst"><a name="287292">BirtComp.match( row["productName"], /Ford/ )</a></div>
      <h3 class="RH2_Method"><a name="280508">BirtComp.notBetween</a></h3>
      <p class="b_Body"><a name="280509">This function tests if a value is not between two specified values.</a></p>
      <p class="N_sb_ScanBold"><a name="280510">Syntax</a></p>
      <div class="rs_RSyntax"><a name="280511">boolean BirtComp.notBetween( source, target1, target2 )</a></div>
      <p class="N_sb_ScanBold"><a name="280512">Parameters</a></p>
      <p class="RParameter"><a name="280513">source</a></p>
      <p class="bn_BodyNoLead"><a name="280514">The value to test.</a></p>
      <p class="RParameter"><a name="280515">target1</a></p>
      <p class="bn_BodyNoLead"><a name="280516">The first value in the range of values to compare to.</a></p>
      <p class="RParameter"><a name="280517">target2</a></p>
      <p class="bn_BodyNoLead"><a name="280518">The second value in the range of values to compare to.</a></p>
      <p class="N_sb_ScanBold"><a name="280519">Returns</a></p>
      <p class="b_Body"><a name="280520">True if the source value is not between the target1 and target values; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="280521">Examples</a></p>
      <p class="b_Body"><a name="280522">The following expressions test field values to see if they are outside a specified range of values:</a></p>
      <div class="cf_CodeFirst"><a name="280523">BirtComp.notBetween( row["SalesTotal"], 10000, 20000 )</a></div>
      <div class="co_Code"><a name="280524">BirtComp.notBetween( row["CustomerName"], "A", "M" )</a></div>
      <div class="co_Code"><a name="280525">BirtComp.notBetween( row["OrderDate"], "2009-01-01", "2009-01-31" )</a></div>
      <p class="b_Body"><a name="280526">The following example calculates shipment dates. If an OrderDate value is not in December 2008 (not between 12/01/08 and 12/31/08), add 3 days to the OrderDate value. If an OrderDate value is in December, add 5days to the OrderDate value.</a></p>
      <div class="cf_CodeFirst"><a name="280527">if (BirtComp.notBetween(row["OrderDate"], "2008-12-01", "2008-12-31" )){</a></div>
      <div class="co_Code"><a name="280528">&nbsp;&nbsp;shipDate = BirtDateTime.addDay( row["OrderDate"], 3 )</a></div>
      <div class="co_Code"><a name="280529">&nbsp;&nbsp;}</a></div>
      <div class="co_Code"><a name="280530">else{</a></div>
      <div class="co_Code"><a name="280531">&nbsp;&nbsp;ShipDate = BirtDateTime.addDay( row["OrderDate"], 5 )</a></div>
      <div class="co_Code"><a name="280532">&nbsp;&nbsp;}</a></div>
      <h3 class="RH2_Method"><a name="285068">BirtComp.notEqual</a></h3>
      <p class="b_Body"><a name="285069">This function tests if a value is not equal to another value.</a></p>
      <p class="N_sb_ScanBold"><a name="285070">Syntax</a></p>
      <div class="rs_RSyntax"><a name="285071">boolean BirtComp.notEqual( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="285072">Parameters</a></p>
      <p class="RParameter"><a name="285073">source</a></p>
      <p class="bn_BodyNoLead"><a name="285074">The first value to use in the comparison.</a></p>
      <p class="RParameter"><a name="285075">target</a></p>
      <p class="bn_BodyNoLead"><a name="285076">The second value to use in the comparison.</a></p>
      <p class="N_sb_ScanBold"><a name="285077">Returns</a></p>
      <p class="b_Body"><a name="285078">True if the source value is not equal to the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="285079">Examples</a></p>
      <p class="b_Body"><a name="285080">The following expressions test field values to see if they are not equal to specified values:</a></p>
      <div class="cf_CodeFirst"><a name="285081">BirtComp.notEqual( row["SalesTotal"], 10000 )</a></div>
      <div class="co_Code"><a name="285082">BirtComp.notEqual( row["Country"], "France" )</a></div>
      <div class="co_Code"><a name="285083">BirtComp.notEqual( row["OrderDate"], "2009-02-15" )</a></div>
      <h3 class="RH2_Method"><a name="286853">BirtComp.notLike</a></h3>
      <p class="b_Body"><a name="286854">This function tests if a string value does not match a pattern. The pattern must use SQL pattern-matching syntax.</a></p>
      <p class="N_sb_ScanBold"><a name="286855">Syntax</a></p>
      <div class="rs_RSyntax"><a name="286856">boolean BirtComp.notLike( source, target )</a></div>
      <p class="N_sb_ScanBold"><a name="286857">Parameters</a></p>
      <p class="RParameter"><a name="286858">source</a></p>
      <p class="bn_BodyNoLead"><a name="286859">The string value to evaluate.</a></p>
      <p class="RParameter"><a name="286860">target</a></p>
      <p class="bn_BodyNoLead"><a name="286861">The string pattern to compare to. You must enclose the pattern in double quotation marks (" "). Use the correct case when typing the characters that you want to match. You can use the following special character in a pattern:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="286862">A percent character (%) matches zero or more characters. For example, %ace% matches any string value that contains the substring ace, such as Facebook and MySpace. It does not match Ace Corporation because this string contains a capital A, and not the lowercase a.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732283464567pt; white-space: nowrap">
                <img src="Bullet.png" alt="*" border="0" width="6" height="6" />
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="286863">An underscore character (_) that matches exactly one character. For example, t_n matches tan, ten, tin, and ton. It does not match teen or tn.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="286864">To match a literal percent (%) or underscore (_) character, precede those characters with two backslash (\\) characters. For example, to match S_10, use the following pattern:</a></p>
      <div class="cf_CodeFirst"><a name="286865">S\\_10</a></div>
      <p class="b_Body"><a name="286866">To match 50%, use the following pattern:</a></p>
      <div class="cf_CodeFirst"><a name="286867">50\\%</a></div>
      <p class="N_sb_ScanBold"><a name="286868">Returns</a></p>
      <p class="b_Body"><a name="286869">True if the source value does not match the target value; returns false otherwise.</a></p>
      <p class="N_sb_ScanBold"><a name="286870">Examples</a></p>
      <p class="b_Body"><a name="286871">The following example returns false for values in the productCode field that start with S18:</a></p>
      <div class="cf_CodeFirst"><a name="286872">BirtComp.notLike( row["productCode"], "S18%" )</a></div>
      <p class="b_Body"><a name="286873">The following example returns false for productName values that contain the substring Ford preceded by a single character:</a></p>
      <div class="cf_CodeFirst"><a name="286874">BirtComp.notLike( row["productName"], "_Ford%" )</a></div>
    </blockquote>
    <hr align="left" />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="notices.html">(c) Copyright Actuate Corporation 2013</a>
        </td>
      </tr>
    </table>
  </body>
</html><html id='3435.faq.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>WindowBuilder Pro FAQ</title>
<meta content="text/html; charset=windows-1252" http-equiv="Content-Type">
<link href="../book.css" rel="stylesheet" type="text/css">
</head>

<body>
		<h1>WindowBuilder Pro FAQ</h1>
		<table border="0" width="900" cellspacing="0" cellpadding="0">
			<tr>
				<td>The following are frequently asked questions about WindowBuilder:&nbsp;<ul>
			<li><a href="#UpdateManager">What should I do if I'm getting errors 
			using the Update Manager?</a></li><li><a href="#OtherGUIBuilders">Can 
			WindowBuilder Pro edit windows created 
	with JBuilder, VA Java, NetBeans, VisualCafe, etc.?</a></li>
			<li><a href="#CreatedByHand">Can WindowBuilder Pro edit windows that have been 
	created by hand?</a></li>
			<li><a href="#Refactor">Can I refactor or otherwise modify the 
			WindowBuilder Pro 
	generated code?</a></li>
			<li><a href="#SpecialTags">Why doesn't WindowBuilder Pro surround generate code with 
	special tags or mark it as read-only?</a></li>
			<li><a href="#CantParse">Are there any specific constructs that 
			WindowBuilder Pro 
	can't parse?</a></li>
			<li><a href="#Constructor">Why does WindowBuilder Pro generate in 
	the constructor?</a></li>
			<li><a href="#CustomWidgets">Can WindowBuilder Pro use custom&nbsp;widgets?</a></li>
			<li><a href="#InstantiationException">What should I do if I 
			encounter an InstantiationException or other error when using a custom widget?</a></li>
			<li><a href="#Installation">What should I do if WindowBuilder Pro does not appear 
	after installation?</a></li>
			<li><a href="#DoesNotWork">What should I do if WindowBuilder Pro does not 
			work after installation?</a></li>
			<li><a href="#DesignTab">What can I do if I don't see the Design tab 
	when I edit a window?</a></li>
			<li><a href="#Exception">What should I do if I encounter an exception using
			WindowBuilder Pro?</a></li>
			<li><a href="#ParsingError">What should I do if I encounter Parsing 
			Error?</a></li>
			<li><a href="#OutOfMemoryError">What should I do if I encounter an 
	OutOfMemoryError using WindowBuilder Pro?</a></li>
			<li><a href="#NoSuchMethodError">What should I do if I encounter an 
			NoSuchMethodError or </a><a href="#NoClassDefFoundError">NoClassDefFoundError using 
			WindowBuilder Pro?</a></li>
			<li><a href="#UnsupportedClassVersionError">What should I do if I encounter an 
			UnsupportedClassVersionError using WindowBuilder Pro?</a></li>
			<li><a href="#UnsatisfiedLinkError">What should I do if I encounter an 
	UnsatisfiedLinkError when launching my SWT application?</a></li>
			<li><a href="#Linux">How should WindowBuilder Pro be configured to work on 
			Linux?</a></li>
			<li><a href="#SuSELinux">What should I do if I have problems running 
			under SuSE Linux?</a></li>
			<li><a href="#LinuxFlashing">How can I prevent 
			the preview window from flashing under Linux using Metacity</a></li>
		</ul>
				<h2>What should I do if I'm 
				getting errors using the Update Manager?</h2>
				<p>If you encounter some sort of Eclipse Update Manager failure 
				with messages such as &quot;Downloaded stream not a valid archive&quot; or 
				&quot;Problems downloading artifact&quot;, this is caused by a common, 
				well known flaw in the Eclipse Update Manager with a very simple 
				solution: wait five minutes, restart Eclipse, and try it again. 
				Re-starting Eclipse is necessary as Eclipse will actually cache 
				the failure and will refuse to try again during the same 
				session. If you try this a couple of times and the problem 
				persists, it could point to a more rare and troubling problem 
				with a corrupted Eclipse p2 plug-in cache. The next thing to try 
				in that case would be to re-install Eclipse and try again with a 
				new, clean Eclipse environment. If that does not help, send a 
				screen shot of your &quot;Help &gt; About &gt; Installation Details &gt; 
				Installed Software&quot; page as well as a copy of your complete 
				&quot;Help &gt; About &gt; Installation Details &gt; Configuration&quot; to support. 
				You can also try installing into a new, clean Eclipse 
				environment using one of the ZIP install options on the product 
				download page.</p>
				<h2><a name="OtherGUIBuilders"></a>Can WindowBuilder Pro 
			edit windows created with JBuilder, VA Java, NetBeans, VisualCafe, 
			etc.?</h2>
		<p>Yes. Most GUI builders in the world will only read and write the 
			code that they themselves create. WindowBuilder Pro is an exception to 
			that rule. It can read and edit not only the code it creates, but 
			also a great deal of code generated by other GUI builders (&gt;95%). We 
			have had very good success with code generated by JBuilder, NetBeans, 
			Visual Cafe, VA Java, the Eclipse VE, etc. If you come across a case 
			that does not work, send it to us for analysis. The more broken 
			examples that we can "fix", the better WindowBuilder Pro will get in the long 
			run (and the better chance you will have of salvaging your old code 
			as-is). Note that WindowBuilder Pro will edit any existing code in place 
			without changing its formatting. Any new widgets will be created 
			using WindowBuilder Pro's own code 
			generation preferences.</p>
		<h2 style="font-weight: bold"><a name="CreatedByHand"></a>Can 
		WindowBuilder Pro edit windows that have been created by hand?</h2>
		<p>Yes. Most GUI builders in the world will only read and write the 
			code that they themselves create. WindowBuilder Pro is an exception to 
			that rule. It can read and write not only the code it creates, but 
			also a great deal of code written by hand(&gt;90%). If you come across 
			a case that does not work, send it to us for analysis. The more 
			broken examples that we can "fix", the better WindowBuilder Pro will get in 
			the long run (and the better chance you will have of salvaging your 
			old code as-is).</p><p>Note that dynamic GUI code can not be rendered or edited. The
problem with dynamic code is that it generally relies on runtime
calculations that have no meaning at runtime. Widgets created in a loop
(where the loop parameters are passed in externally) are a good
example. Widgets created in conditionals where the value of the
conditional is not known until runtime are another example. Dynamic GUI
code constructed from the results of complex database queries is yet
another example.</p>
		<h2 style="font-weight: bold"><a name="Refactor"></a>Can I refactor 
			or otherwise modify the WindowBuilder Pro generated code?</h2>
		<p>Yes. The WindowBuilder Pro parser has a good understanding of basic 
			Java code and various Swing, SWT and other UI toolkit patterns patterns. As a result, it is 
			very refactoring friendly and very resilient in the face of hand 
			made changes. You can make changes or add code anywhere you like and 
		WindowBuilder Pro will reverse engineer it when possible. You can also 
			refactor the code in almost any conceivable way and WindowBuilder 
		Pro 
			will still be able to parse it and render it in the design view. For 
			example, use the tool to create a new Swing JFrame, add some 
			widgets, and then use the Eclipse refactoring tools to extract some 
			of the widgets into their own methods.</p>
		<h2 style="font-weight: bold;"><a name="SpecialTags"></a>Why doesn't 
			WindowBuilder Pro surround generate code with special tags or mark it as 
			read-only?</h2>
		<p>Using special tags or marking code read-only would 
			go against several of WindowBuilder Pro's major design goals. 
		WindowBuilder Pro does 
			not make any distinction between generated code and user-written 
			code. WindowBuilder Pro is designed to generated the same code that you would 
			write by hand and to make minimal changes to the source when you 
			make a change to the design view. WindowBuilder Pro never regenerates the 
			entire source for a file. If you change a single property, it will 
			change only a single line of code. That line of code could 
			theoretically be anywhere in the source file (including within lines 
			originally created by WindowBuilder Pro or within lines that you wrote by 
			hand).</p>
		<h2 style="font-weight: bold;"><a name="CantParse"></a>Are there any 
			specific constructs that WindowBuilder Pro can't parse?</h2>
		<p>Yes. Here are some examples of constructs that WindowBuilder Pro 
			does not yet handle:</p>
		<ul>
			<li>Re-use of GridBagConstraint objects across multiple widgets 
				(we support reusing the same variable but not the same objects)</li>
			<li>UI construction through the use of local 
				parameterized helper methods</li>
			<li>Multiple aliases (fields or local variables) referring to 
				the same component</li>
			<li>Multiple references to the same widget definition through 
			multiple invocations of the same helper method</li>
			<li>Dynamic GUI code based on runtime calculations</li>
		</ul>
		<h2 style="font-weight: bold;"><a name="Constructor"></a>Why does 
			WindowBuilder Pro generate widgets in the constructor?</h2>
		<p>WindowBuilder Pro can generate code into 
		any method that you 
			like. One of the key features of WindowBuilder Pro is its refactoring 
			friendliness. You can actually use any template that you want for 
			creating a new window (e.g., you don't need to use the wizards 
			supplied with WindowBuilder Pro). Alternatively, you can use the Eclipse refactoring commands to extract the components into a new method 
			(like createComponents()) and the tool will continue to work. Try 
			the following template for example:</p>
		<blockquote>
			<p><font face="Courier">import javax.swing.JFrame;<br>public class MyFrame extends JFrame {<br>&nbsp;&nbsp;&nbsp; public static void main(String args[]) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MyFrame frame = new MyFrame();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; frame.setVisible(true);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (Exception e) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; public MyFrame() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createComponents();<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; private void createComponents() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setBounds(100, 100, 400, 300);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);<br>&nbsp;&nbsp;&nbsp; }<br>}</font></p>
		</blockquote>
		<p>If you start adding new widgets, 
			they will be added to the createComponents() method.</p>
		<h2 style="font-weight: bold;"><a name="CustomWidgets"></a>Can 
		WindowBuilder Pro use custom widgets?</h2>
		<p>Yes., with a few restrictions.</p><p>For Swing, any public JComponent subclass that has a 
			public, zero-argument constructor can be used (as required by the Java Bean spec). Custom properties are 
			derived through reflection by looking for getter/setter pairs of 
			known types. If a matching JavaBean class is defined and available, 
			it will be used for any custom properties. Custom JPanel subclasses 
			will show their subcomponents when placed in WindowBuilder Pro.&nbsp;</p><p>For 
			SWT, any public Control subclass that has a public, two-argument 
			constructor can be used (as is standard for all base SWT widgets). Custom properties are derived through 
			reflection by looking for getter/setter pairs of known types. SWT 
			does not yet define any kind of JavaBean interface, so no further 
			customization is available. Custom Composite subclasses will show 
			their subcomponents when placed in WindowBuilder Pro.</p><p>For other UI toolkits, any public Widget subclass that has a 
			public, zero-argument constructor can be used. Custom properties are 
			derived through reflection by looking for getter/setter pairs of 
			known types. Custom Composite subclasses 
			will show their subcomponents when placed in WindowBuilder Pro.&nbsp;</p><p>Note: the
Java Bean conventions (slightly modified for SWT) are important from a
GUI builder point of view as they establish a common, expected, and,
for the most part, self documenting API. If you create your own unique
constructors, your are, in effect, creating your own personal API which
makes it difficult for a GUI builder to reflectively interact with your
components. Generating code to a custom constructor API requires
knowledge of the API that generally is not provided by the component.
That requires hard coding knowledge of the component into the GUI
builder itself. </p>
		<p>Note: A component may rely on some runtime behavior that is 
		not possible at design time (such as accessing an application database 
		or some other file). Runtime specific behavior should be isolated (and 
		stubbed out as necessary) by wrappering the runtime specific code with a call to
		Beans.isDesignTime() which will answer true when the 
		component is loaded within WindowBuilder Pro and false at runtime.</p>
		<h2 style="font-weight: bold;"><a name="InstantiationException"></a>What should I do 
			if I encounter an InstantiationException or other error using a custom widget?</h2>
		<p>An InstantiationException means that WindowBuilder Pro 
		could not create an instance of a particular class. The most common 
		reason for this is that the component is not a <a href="#CustomWidgets">valid custom widget</a>. In order to be a valid Swing widget, a class must be a valid 
		Java Bean and have a public, zero-argument constructor. SWT 
		widgets must have a public two-argument constructor with parent 
		and style bits as the two arguments. To fix the problem, add the missing 
		constructor. Note: the
Java Bean conventions (slightly modified for SWT) are important from a
GUI builder point of view as they establish a common, expected, and,
for the most part, self documenting API. If you create your own unique
constructors, your are, in effect, creating your own personal API which
makes it difficult for a GUI builder to reflectively interact with your
components. Generating code to a custom constructor API requires
knowledge of the API that generally is not provided by the component.
That requires hard coding knowledge of the component into the GUI
builder itself.</p>
		<p>Another possible cause for this exception is some other 
		failure in the initialization code of the component. A component may 
		rely on some runtime behavior that is not possible at design time (such 
		as accessing an application database or some other file). Runtime 
		specific behavior should be isolated (and stubbed out as necessary) by 
		wrappering the runtime specific code with a call to
		<b>Beans.isDesignTime()</b> which will answer true when the 
		component is loaded within WindowBuilder Pro and false at runtime.</p>
		<p>More detail about the use of custom widgets is available 
		in <a href="#CustomWidgets">this FAQ entry</a>.</p>
		<h2 style="font-weight: bold;"><a name="Installation"></a>What should 
			I do if WindowBuilder Pro does not appear after installation?</h2>
		<p align="left">First, make sure that the WindowBuilder Pro plugins have 
		been installed properly. If you used the ZIP installation, make sure that the <b>
		WindowBuilder Pro</b> plugins 
		were unzipped to your eclipse/plugins or /dropins directory.&nbsp;</p>
				<p align="left"><span style="font-weight: bold;">If you are installing into Eclipse 3.4</span>, there is a bug in the new p2 update manager that does not uninstall bundles (see bug <a class="moz-txt-link-freetext" href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=232094">232094</a>). To workaround this&nbsp; try deleting the bundles.info
file from the /configuration/org.eclipse.equinox.simpleconfigurator
directory and restore the file from the Eclipse ZIP file. If deleting
the bundles.info was not sufficient, delete the entire /configuration
and /p2 directories from your eclipse directory and restore those
directories from the Eclipse ZIP file.</p>
		<p align="left">After restarting Eclipse, open the Eclipse preference 
			dialog and confirm that you see a
			<a href="preferences/index.html">WindowBuilder preference page</a>. 
		If <b>WindowBuilder Pro</b> still does not appear, check your Eclipse &quot;.log&quot; 
		file (found in your &lt;workspace&gt;/.metadata directory) for any recorded 
		exceptions and then contact support.If 
		no exceptions are present and <b>WindowBuilder Pro</b> is still not present, make 
		sure that you are using a properly configured Eclipse-based IDE. <b>
		WindowBuilder Pro</b> requires the complete <b>Eclipse SDK</b> to be present, and 
		will not load into an Eclipse subset (like EasyEclipse or the MyEclipse All-in-one 
		edition). The most important piece missing from some Eclipse 
		distributions is the Eclipse PDE (Plug-in Development Environment). You 
		can correct this problem by launching Eclipse and selecting <b>Help &gt; 
		Software Updates</b>. Select The Eclipse Project updates from 
		the list of sites and select the "<b>Eclipse Plug-in Development 
		Environment</b>&quot; to install. You may need to shutdown Eclipse and clean 
		your configuration directory as described above.</p>
		<h2 style="font-weight: bold;"><a name="DoesNotWork"></a>What should I do 
		if WindowBuilder Pro does not work after installation?</h2>
		<p>If WindowBuilder Pro fails to work properly (indicated by 
		throwing a random exception or showing a blank design view) after 
		installation when creating or editing a new window (or performing any 
		simple editing activity), you are likely experiencing an installation 
		problem. Try the following:</p>
		<ol>
			<li>
			Check that you have the correct version of 
			WindowBuilder Pro installed for your Eclipse environment. If you are 
			using Eclipse 3.6, use the latest WindowBuilder Pro build targeted at 
			Eclipse 3.6. Likewise, if you are using Eclipse 3.7, use the latest
			WindowBuilder Pro build targeted at Eclipse 3.7.</li>
			<li>
			Check that only one version of WindowBuilder Pro (one 
			set of *designer* plugins and features) is installed. If you have an 
			older version also installed (indicated by an earlier version 
			number), delete those plugins and features and repeat step number 
			two above. Make sure that you don't have WindowBuilder Pro installed 
			both locally within your Eclipse /plugins directory and 
			remotely through a .link file (check your Eclipse /links 
			directory).</li>
			<li>
			Check your project for classpath problems and your 
			code for compilation problems. If your file or your project 
			shows a red X, WindowBuilder Pro 
			may not be able to edit the file. Resolve the problem and open the 
			file again.</li>
			<li>
			Try refreshing and rebuilding your project using the
			<b>Project &gt; Clean</b> command.</li>
			<li>
			If the problem persists, check your Eclipse ".log" 
			file (found in your <b>&lt;workspace&gt;/.metadata</b> directory) 
			for any recorded exceptions and then contact support.</li>
			<li>
			If Eclipse locks up repeatedly, you might try 
			running Eclipse with the <b>-debug</b> command line option. You can 
			then press <b>Ctrl+Break</b> in the console to look at the thread 
			dump which may show where the system is locking up. Send that thread 
			dump to support.</li>
		</ol>
		<h2 style="font-weight: bold;"><a name="DesignTab"></a>What can I do 
			if I don't see the Design tab when I edit a window?</h2>
		<p>
<img border=0
src="features/images/open_with.gif" v:shapes="_x0000_i1032" align="right" hspace="5">Eclipse remembers the last editor type used with a 
			file. If you don't see the <b>Design</b> tab, that means that you are using the standard Eclipse 
		<b>Java Editor</b> 
			rather than the <b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b>. Open the file with the
		<b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b> and you will see both 
			the <b>Source</b> and <b>Design</b> tabs. Note that Eclipse will 
		only let you have a file open with one editor at a time, so you may need 
		to close any existing editor before opening it with the <b>
		<a href="features/editing_existing_window.html">WindowBuilder Editor</a></b>.</p>
				<p>
<img border=0 width=252 height=70
src="features/images/source_design.png" v:shapes="_x0000_i1033"></p>
		<h2 style="font-weight: bold;"><a name="Exception"></a>What should I 
			do if I encounter an exception using WindowBuilder Pro?</h2>
		<p>If a newer WindowBuilder Pro build is available than the one you 
			are using, please download the newer build and try and reproduce the 
			problem. If the problem has been reported in the past, there is a 
			good chance that it has already been fixed. If the problem still 
			exists, you should send your Eclipse ".log" file (found in your 
			<b>&lt;workspace&gt;/.metadata</b> directory) as well as any relevant test cases 
			to
			<a href="support/product_support.html">support</a>. 
		Including a <a href="support/test_cases.html">test case</a> that will 
			help us reproduce the problem is very important. The faster we can 
			reproduce the problem, the faster we can get you a fix. If we can't 
			reproduce a problem, there is little we can do to help you. </p>
		<p>Ideally, 
			the <a href="support/test_cases.html">test case</a> you send should be the same window you were editing 
			when the problem occurred (along with any supporting files needed to 
		compile it). If that is not possible (possibly because 
			you aren't allowed to send any code to a 3rd party), then you should 
			try to create a new, standalone test case that illustrates the same 
			problem. The best approach is to create a standalone test case by 
		removing all of the code that isn't relevant to the problem at hand 
		(e.g., keep deleting code until the problem goes away and then restore 
		that last code that was last deleted).</p>
		<h2 style="font-weight: bold;"><a name="ParsingError"></a>What should I do 
		if I encounter a Parsing Error?</h2>
		<p>As suggested by the message, this is error is caused by 
		a parsing problem. It has nothing to do with 
		licensing. Your Eclipse ".log" file (found in your 
		<b>&lt;workspace&gt;/.metadata</b> directory) should provide a hint as to the cause 
		of the parsing error. Send the log file as well as a test case to
			<a href="support/product_support.html">support</a> 
		(ideally the window you are trying to edit). Including a 
		<a href="support/test_cases.html">test case</a> that will 
			help us reproduce the problem is very important. The faster we can 
			reproduce the problem, the faster we can get you a fix. If we can't 
			reproduce a problem, there is little we can do to help you. </p>
		<p>Ideally, 
			the <a href="support/test_cases.html">test case</a> you send should be the same window you were editing 
			when the problem occurred (along with any supporting files needed to 
		compile it). If that is not possible (possibly because 
			you aren't allowed to send any code to a 3rd party), then you should 
			try to create a new, standalone test case that illustrates the same 
			problem. The best approach is to create a standalone test case by 
		removing all of the code that isn't relevant to the problem at hand 
		(e.g., keep deleting code until the problem goes away and then restore 
		that last code that was last deleted).</p>
		<p>Parsing problems can also be a side effect of the other 
		problems described in the <a href="#DoesNotWork">earlier FAQ entry here</a> 
		so check each of the suggestions there. Refreshing and rebuilding your 
		project using the <b>Project &gt; Clean</b> command can often help as can 
		cleaning your Eclipse "configuration" directory.</p>
		<h2 style="font-weight: bold;"><a name="OutOfMemoryError"></a>What 
			should I do if I encounter an OutOfMemoryError using WindowBuilder 
		Pro?</h2>
		<p>Make sure that you have Eclipse
			configured to use enough memory. 
			Begin by specifying the starting amount of memory (<b>-vmargs -Xms###m</b>)
      in your Eclipse startup command line (e.g., the
      target field within a Windows shortcut) or <b>eclipse.ini</b> file (in 
		your Eclipse root directory). If this is not specified,
      Eclipse's starting amount of memory is quite small (only 40 MB). You 
		should also specify the maximum amount of memory that Eclipse can 
		use (<b>-vmargs -Xmx###m)</b> and the maximum amount of perm space available (<b>-vmargs -XX:MaxPermSize=###m</b>).</p>
		<p>We typically recommend something like this (these setting are 
		independent of any of the startup settings that you might have in place):</p>
		<dl>
			<dd><b>-vmargs -XX:MaxPermSize=128m -Xms256m 
			-Xmx512m</b></dd>
		</dl>
		<p>An OutOfMemoryError is usually a side effect of something else, so 
			you should send your Eclipse ".log" file (found in your 
			&lt;workspace&gt;/.metadata directory) as well as any relevant test cases 
			to support. 
		</p>
		<p>You might try running Eclipse with the -debug command line 
		option. You can then press <b>Ctrl+Break</b> in the console to look at 
		the thread dump which may show where the system is locking up and where 
		the memory is going. Send that thread dump to support</p>
		<h2 style="font-weight: bold;"><a name="NoSuchMethodError"></a><a name="NoClassDefFoundError"></a>What 
			should I do if I encounter an NoSuchMethodError or 
		NoClassDefFoundError using WindowBuilder Pro?</h2>
		<p>Start by checking your Eclipse ".log" file (found in your 
		<b>&lt;workspace&gt;/.metadata directory</b>). If the error references one of 
		your classes or methods, check that your classpath properly references 
		the class you are trying to use. Also check that your class is properly 
		compiled (no red <font color="#ff0000"><b>X</b></font>'s) and that a <b>
		.class</b> file exists in your projects <b>/bin</b>
directory. A mismatch between the JDK used to compile your code and the JVM used 
		to run Eclipse can also manifest itself as a <span style="font-weight: bold;">NoClassDefFoundError </span>
problem. For example, if you compile your code using JDK 1.5 or 1.6 and
then run your Eclipse using a 1.4 or 1.5 JVM, you can have this
problem. If the error refers to a custom widget, you should also
check that your component does not trigger an exception during its
initialization (which can manifest itself as a <span style="font-weight: bold;">NoClassDefFoundError</span>).&nbsp;Try <b>
		refreshing</b> and <b>cleaning</b> your project using the <b>Project &gt; 
		Clean...</b> or <b>Project &gt; Build Project</b> commands. If that does not help, send a test case to
		support.</p>
		<p>If the error references a base Eclipse 
		method or class, this means that you have the wrong version of 
		WindowBuilder Pro 
		loaded for the version of Eclipse you are using. WindowBuilder Pro is 
		trying to access a method or class that simply does not exist in your Eclipse 
		distribution. Delete the WindowBuilder Pro feature and plugin directories 
		and then download and install the correct version of&nbsp; WindowBuilder 
		Pro for the version of Eclipse you are 
		using.</p>
		<p>If the error refers to a method or class in a WindowBuilder Pro class, this means that you have a serious Eclipse 
		configuration problem, and that one or more of the WindowBuilder Pro plugins are not being loaded properly. If a plugin does not load, all of 
		its methods will be unreachable, and any attempts to access them will 
		trigger a NoSuchMethodError or NoClassDefFoundError. This problem can usually be fixed by 
		cleaning your Eclipse "configuration" directory as described in this <a href="#DoesNotWork">earlier FAQ entry</a>.</p>
		<h2 style="font-weight: bold;"><a name="UnsupportedClassVersionError"></a>What 
			should I do if I encounter an UnsupportedClassVersionError using 
		WindowBuilder Pro?</h2>
		<p>An UnsupportedClassVersionError is usually caused by attempting to 
		run code compiled against a later JRE with an IDE using an earlier JRE. 
		Typically, you will see this when trying to use a class (such as a 
		custom widget) that has been compiled against JDK 1.6 within a version 
		of Eclipse launched with JDK 1.5.</p>
		<p>Two solutions are possible: you may either recompile the class using 
		JDK 1.5, or you can tell Eclipse to run using JDK 1.6 by modifying its 
		startup parameters as follows (use your path to JDK 1.6 on your system):</p>
		<blockquote>
			<p>-vm C:\jdk1.6.0_21\bin\java.exe</p>
		</blockquote>
		<h2 style="font-weight: bold;"><a name="UnsatisfiedLinkError"></a>What should I do 
			if I encounter an UnsatisfiedLinkError when launching my SWT 
			application?</h2>
		<p>As stated in the product docs and tutorial, the 
			Eclipse SWT DLL (which can be found in the <b>$ECLIPSE$\plugins\org.eclipse.swt.win32_x.x.x\os\win32\x86\</b> 
			directory or in the <b>org.eclipse.swt.win32.win32.x86_3.x.x.jar 
		file</b>) needs to be on your path. Placing it into your 
			<b>windows/system32</b> directory is the easiest thing to do.</p>
		<p>For Linux, you need to locate the corresponding Eclipse 
		SWT *.so files contained in the SWT GTK plugin.</p>
				<h2 style="font-weight: bold;"><a name="Linux"></a>How should 
				WindowBuilder Pro be configured to 
		work on Linux?</h2>
		<p>To use WindowBuilder Pro in Linux, we recommend that you use an 
		official JDK from Sun, as using the GPL version of the java is not recommended. 
		Here are some setup instructions for using Sun's java with Fedora Core and Debian. Note that 
		use of a non-Sun JDK can result in Eclipse locking up.<br>
		<br>
		Using Sun's Java with Fedora Core:</p>
		<ol>
			<li>Download and Unpack Sun's JDK .bin format.<br>
&nbsp;</li>
			<li>If you wish to use java on the command line or with other 
			programs besides eclipse add the following to your /etc/profile <br>
			<br>
			JAVA_HOME = &lt;path_to_jdk&gt;<br>
			PATH= $PATH:$JAVA_HOME/bin<br>
			Export JAVA_HOME PATH<br>
&nbsp;</li>
			<li>Install Sun's java as alternative<br>
			#/usr/sbin/alternatives -install /usr/bin/java java &lt;path_to_jdk&gt; 2<br>
&nbsp;</li>
			<li>Switch to the new alternative<br>
			#/usr/sbin/alternatives -config java<br>
			Select option 2<br>
&nbsp;</li>
			<li>Test <br>
			#/usr/sbin/alternatives -display java </li>
		</ol>
		<p>You should see java pointing to the Sun JDK.<br>
		<br>
		Using Sun's Java with Debian:</p>
		<ol>
			<li>Download Sun JDK in .bin format<br>
&nbsp;</li>
			<li>fakeroot make-jpkg &lt;jdk&gt;.bin<br>
			This creates a .deb package.<br>
&nbsp;</li>
			<li>sudo dpkg -i &lt;jdk&gt;.deb<br>
&nbsp;</li>
			<li>Test <br>
			#java -version.</li>
		</ol>
		<h2 style="font-weight: bold;">
		<a name="SuSELinux"></a>What should I do if I have problems running 
		under SuSE Linux?</h2>
		<p>If you have a problem running WindowBuilder Pro on Linux SuSE 
		10.3 such as Eclipse crashing and/or working incorrectly, or your my log 
		files contains something like &quot;xcb_xlib.c:42: xcb_xlib_lock: Assertion 
		`!c-&gt;xlib.lock'&quot; and/or &quot;/usr/lib/Eclipse: No such file or directory&quot;, 
		please try to add the following into you profile:</p>
		<blockquote>
			<p>LIBXCB_ALLOW_SLOPPY_LOCK=1<br>
			export LIBXCB_ALLOW_SLOPPY_LOCK. </p>
		</blockquote>
		<h2 style="font-weight: bold;">
		<a name="LinuxFlashing"></a>How can I prevent the preview window from 
		flashing under Linux using Metacity</h2>
		<p>In order to create the graphics that you see in the 
		design view, WindowBuilder Pro creates an off screen window containing the 
		various widgets and they takes a screen snapshot of them. This works 
		very well under Windows, OSX and some versions of Linux. Recent versions 
		of the Metacity window manager (more recent than 2.1.4), however, 
		have been modified/"fixed" to disallow windows to be opened off screen. 
		This forces the preview window to appear on screen leading to an 
		annoying flashing effect any time you make a change. The solution is to 
		disable the Metacity "fully_onscreen" constraint by patching the Metacity source code and rebuilding and installing the patched 
		version into your system. <br>
		<br>
		Here are the steps to follow:</p>
		<ol>
			<li>
			Download the Metacity source code from
			<a href="ftp://ftp.gnome.org/pub/gnome/sources/metacity/">
			ftp://ftp.gnome.org/pub/gnome/sources/metacity/</a></li>
			<li>
			Unpack the source code tarball into any temporary 
			directory.</li>
			<li>
			Chdir into this directory (with the unpacked code).</li>
			<li>
			Find window.c file and open it with your 
			favourite texteditor.</li>
			<li>
			Find a line with "window-&gt;require_fully_onscreen 
			= TRUE;"</li>
			<li>
			Replace it with "window-&gt;require_fully_onscreen = 
			FALSE;"</li>
			<li>
			Save the changes and close the editor.</li>
			<li>
			Open a terminal and chdir into the directory with 
			the source code (nice if you have already done this)</li>
			<li>
			Run "./configure".</li>
			<li>
			Run "make all".</li>
			<li>
			Make sure that steps 9 &amp; 10 completed without 
			errors.</li>
			<li>
			Become root (or execute the next command via "sudo" 
			depending on the Linux you are running)</li>
			<li>
			Run "make install" (or "sudo make install").</li>
			<li>
			Save your work and close any application you are 
			working with.</li>
			<li>
			End your session (or press Ctrl-Alt-Delete to 
			restart the x-server) and log in again.</li>
			<li>
			You are done!</li>
		</ol>
				</td>
			</tr>
		</table>









</body></html>
<html id='3382.User-Guide.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Trace Compass User Guide</title>
		<link type="text/css" rel="stylesheet" href="book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Trace Compass User Guide</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Overview.html" title="Overview">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Overview</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Table_of_Contents">Table of Contents</h1>
		<ol style="list-style: none;">
			<li>
				<a href="#Table_of_Contents">Table of Contents</a>
			</li>
			<li>
				<a href="Overview.html#Overview">Overview</a>
				<ol style="list-style: none;">
					<li>
						<a href="Overview.html#About_Tracing">About Tracing</a>
					</li>
					<li>
						<a href="Overview.html#Features">Features</a>
					</li>
					<li>
						<a href="Overview.html#LTTng_integration">LTTng integration</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Installation.html#Installation">Installation</a>
				<ol style="list-style: none;">
					<li>
						<a href="Installation.html#LTTng_Tracer">LTTng Tracer</a>
					</li>
					<li>
						<a href="Installation.html#Trace_Compass_Plug-ins">Trace Compass Plug-ins</a>
					</li>
					<li>
						<a href="Installation.html#LTTng_Control_Dependencies">LTTng Control Dependencies</a>
					</li>
					<li>
						<a href="Installation.html#Installation_Verification">Installation Verification</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Trace-Compass-Main-Features.html#Trace_Compass_Main_Features">Trace Compass Main Features</a>
				<ol style="list-style: none;">
					<li>
						<a href="Trace-Compass-Main-Features.html#Tracing_Perspective">Tracing Perspective</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Project_Explorer_View">Project Explorer View</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_a_Tracing_Project">Creating a Tracing Project</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Configuring_a_Project_as_Tracing_Project">Configuring a Project as Tracing Project</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Importing_Traces_to_the_Project">Importing Traces to the Project</a>
								<ol style="list-style: none;">
									<li>
										<a href="Trace-Compass-Main-Features.html#Opening_a_Trace">Opening a Trace</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Importing">Importing</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Drag_and_Drop">Drag and Drop</a>
									</li>
								</ol>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Trace_Package_Exporting_and_Importing">Trace Package Exporting and Importing</a>
								<ol style="list-style: none;">
									<li>
										<a href="Trace-Compass-Main-Features.html#Exporting">Exporting</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Importing_2">Importing</a>
									</li>
								</ol>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Refreshing_of_Trace_and_Trace_Folder">Refreshing of Trace and Trace Folder</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Remote_Fetching">Remote Fetching</a>
								<ol style="list-style: none;">
									<li>
										<a href="Trace-Compass-Main-Features.html#Remote_Profile_elements">Remote Profile elements</a>
										<ol style="list-style: none;">
											<li>
												<a href="Trace-Compass-Main-Features.html#Profile">Profile</a>
											</li>
											<li>
												<a href="Trace-Compass-Main-Features.html#Connection_Node">Connection Node</a>
											</li>
											<li>
												<a href="Trace-Compass-Main-Features.html#Trace_Group">Trace Group</a>
											</li>
											<li>
												<a href="Trace-Compass-Main-Features.html#Trace">Trace</a>
											</li>
										</ol>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Profile_editing_and_management">Profile editing and management</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Selecting_remote_traces">Selecting remote traces</a>
									</li>
								</ol>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Selecting_a_Trace_Type">Selecting a Trace Type</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Trace_Types_Preference_Page">Trace Types Preference Page</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Opening_a_Trace_or_Experiment">Opening a Trace or Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_an_Experiment">Creating an Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Selecting_Traces_for_an_Experiment">Selecting Traces for an Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_an_Experiment_from_Selection">Creating an Experiment from Selection</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Removing_Traces_from_an_Experiment">Removing Traces from an Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Deleting_Traces_from_an_Experiment">Deleting Traces from an Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Renaming_a_Trace_or_Experiment">Renaming a Trace or Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Copying_a_Trace_or_Experiment">Copying a Trace or Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Deleting_a_Trace_or_Experiment">Deleting a Trace or Experiment</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Deleting_Supplementary_Files">Deleting Supplementary Files</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Displaying_the_trace.27s_time_range">Displaying the trace's time range</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Link_with_Editor">Link with Editor</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Exporting_Time_Selection_as_New_Trace">Exporting Time Selection as New Trace</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Events_Editor">Events Editor</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Searching_and_Filtering">Searching and Filtering</a>
								<ol style="list-style: none;">
									<li>
										<a href="Trace-Compass-Main-Features.html#Searching">Searching</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Filtering">Filtering</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#Bookmarking">Bookmarking</a>
									</li>
								</ol>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Copy_to_Clipboard">Copy to Clipboard</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Event_Source_Lookup">Event Source Lookup</a>
								<ol style="list-style: none;">
									<li>
										<a href="Trace-Compass-Main-Features.html#Source_Code">Source Code</a>
									</li>
									<li>
										<a href="Trace-Compass-Main-Features.html#EMF_Model">EMF Model</a>
									</li>
								</ol>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Exporting_To_Text">Exporting To Text</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Refreshing_of_Trace">Refreshing of Trace</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Collapsing_of_Repetitive_Events">Collapsing of Repetitive Events</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Customization">Customization</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Histogram_View">Histogram View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Statistics_View">Statistics View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Colors_View">Colors View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Filters_View">Filters View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Time_Chart_View">Time Chart View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#State_System_Explorer_View">State System Explorer View</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#External_Analyses">External Analyses</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Running_an_External_Analysis">Running an External Analysis</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Opening_a_Report">Opening a Report</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_a_Chart_from_a_Result_Table">Creating a Chart from a Result Table</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Showing_or_Hiding_a_Result_Table">Showing or Hiding a Result Table</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Adding_and_Removing_a_User-Defined_External_Analysis">Adding and Removing a User-Defined External Analysis</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Custom_Parsers">Custom Parsers</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_a_custom_text_parser">Creating a custom text parser</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Creating_a_custom_XML_parser">Creating a custom XML parser</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Managing_custom_parsers">Managing custom parsers</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Opening_a_trace_using_a_custom_parser">Opening a trace using a custom parser</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Pin_and_Clone">Pin and Clone</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Cloning_a_view_to_show_two_different_traces">Cloning a view to show two different traces</a>
							</li>
							<li>
								<a href="Trace-Compass-Main-Features.html#Cloning_a_view_to_show_different_window_ranges_of_same_trace">Cloning a view to show different window ranges of same trace</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Time_Synchronization_of_Views">Time Synchronization of Views</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Automatic_Time_Axis_Alignment">Automatic Time Axis Alignment</a>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Searching_in_Time_Graph_Views">Searching in Time Graph Views</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Filtering_Time_Events_in_Time_Graph_Views">Filtering Time Events in Time Graph Views</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-Compass-Main-Features.html#Configurable_Marker_Sets">Configurable Marker Sets</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-Compass-Main-Features.html#Marker_Set_Configuration_XML_Format">Marker Set Configuration XML Format</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
			<li>
				<a href="LTTng-Tracer-Control.html#LTTng_Tracer_Control">LTTng Tracer Control</a>
				<ol style="list-style: none;">
					<li>
						<a href="LTTng-Tracer-Control.html#Control_View">Control View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Tracer-Control.html#Creating_a_New_Connection_to_a_Remote_Host">Creating a New Connection to a Remote Host</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Disconnecting_from_a_Remote_Host">Disconnecting from a Remote Host</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Connecting_to_a_Remote_Host">Connecting to a Remote Host</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Deleting_to_a_Remote_Host_Connection">Deleting to a Remote Host Connection</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Creating_a_Tracing_Session">Creating a Tracing Session</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Creating_a_Tracing_Session_With_Advanced_Options">Creating a Tracing Session With Advanced Options</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Creating_a_Snapshot_Tracing_Session">Creating a Snapshot Tracing Session</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Channels_-_General">Enabling Channels - General</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Channels_On_Session_Level">Enabling Channels On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Configuring_Trace_File_Rotation">Configuring Trace File Rotation</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Configuring_per_UID_and_per_PID_Buffers_.28UST_only.29">Configuring per UID and per PID Buffers (UST only)</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Configuring_Periodical_Flush_for_metadata_Channel">Configuring Periodical Flush for metadata Channel</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Channels_On_Domain_Level">Enabling Channels On Domain Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_and_Disabling_Channels">Enabling and Disabling Channels</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Events_-_General">Enabling Events - General</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Kernel_Events_On_Session_Level">Enabling Kernel Events On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_UST_Events_On_Session_Level">Enabling UST Events On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_JUL_Events_On_Session_Level">Enabling JUL Events On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_LOG4J_Events_On_Session_Level">Enabling LOG4J Events On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Python_Events_On_Session_Level">Enabling Python Events On Session Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Events_On_Domain_Level">Enabling Events On Domain Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Events_On_Channel_Level">Enabling Events On Channel Level</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_and_Disabling_Events">Enabling and Disabling Events</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Enabling_Tracepoint_Events_From_Provider">Enabling Tracepoint Events From Provider</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Configuring_Filter_Expression_When_Enabling_Events">Configuring Filter Expression When Enabling Events</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_Channels_and_Events_of_a_Domain">Adding Contexts to Channels and Events of a Domain</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_All_Events_of_a_Channel">Adding Contexts to All Events of a Channel</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_an_Event_of_a_Specific_Channel">Adding Contexts to an Event of a Specific Channel</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Start_Tracing">Start Tracing</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Recording_a_Snapshot">Recording a Snapshot</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Stop_Tracing">Stop Tracing</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Destroying_a_Tracing_Session">Destroying a Tracing Session</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Refreshing_the_Node_Information">Refreshing the Node Information</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Importing_Session_Traces_to_a_Tracing_Project">Importing Session Traces to a Tracing Project</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Importing_Network_Traces_to_a_Tracing_Project">Importing Network Traces to a Tracing Project</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Saving_Tracing_Sessions">Saving Tracing Sessions</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Loading_Tracing_Sessions">Loading Tracing Sessions</a>
							</li>
							<li>
								<a href="LTTng-Tracer-Control.html#Managing_Tracing_Session_Profiles">Managing Tracing Session Profiles</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Tracer-Control.html#Properties_View">Properties View</a>
					</li>
					<li>
						<a href="LTTng-Tracer-Control.html#LTTng_Tracer_Control_Preferences">LTTng Tracer Control Preferences</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="LTTng-Kernel-Analysis.html#LTTng_Kernel_Analysis">LTTng Kernel Analysis</a>
				<ol style="list-style: none;">
					<li>
						<a href="LTTng-Kernel-Analysis.html#OS_Tracing_Overview_Perspective">OS Tracing Overview Perspective</a>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#LTTng_Kernel_Perspective">LTTng Kernel Perspective</a>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Control_Flow_View">Control Flow View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Process_tree_and_information">Process tree and information</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Control_flow">Control flow</a>
								<ol style="list-style: none;">
									<li>
										<a href="LTTng-Kernel-Analysis.html#Using_the_mouse">Using the mouse</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Using_the_keyboard">Using the keyboard</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Incomplete_regions">Incomplete regions</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Zoom_region">Zoom region</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Tooltips">Tooltips</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Dynamics_Filters">Dynamics Filters</a>
										<ol style="list-style: none;">
											<li>
												<a href="LTTng-Kernel-Analysis.html#Show_Active_Threads_Only">Show Active Threads Only</a>
											</li>
										</ol>
									</li>
								</ol>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Toolbar">Toolbar</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Marker_Axis">Marker Axis</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Resources_View">Resources View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Follow_CPU">Follow CPU</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Follow_thread">Follow thread</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Navigation">Navigation</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Incomplete_regions_2">Incomplete regions</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Toolbar_2">Toolbar</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Marker_Axis_2">Marker Axis</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#LTTng_CPU_Usage_View">LTTng CPU Usage View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Process_Information">Process Information</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#CPU_Usage_Chart">CPU Usage Chart</a>
								<ol style="list-style: none;">
									<li>
										<a href="LTTng-Kernel-Analysis.html#Tooltips_2">Tooltips</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Using_the_mouse_2">Using the mouse</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Using_the_keyboard_2">Using the keyboard</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Toolbar_3">Toolbar</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#View_Menu">View Menu</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#CPU_Filtering">CPU Filtering</a>
									</li>
								</ol>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Kernel_Memory_Usage_View">Kernel Memory Usage View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Process_Information_2">Process Information</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Navigation_2">Navigation</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Toolbar_4">Toolbar</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#View_Menu_2">View Menu</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Relative_Kernel_Memory_Chart">Relative Kernel Memory Chart</a>
								<ol style="list-style: none;">
									<li>
										<a href="LTTng-Kernel-Analysis.html#Navigation_3">Navigation</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Tooltips_3">Tooltips</a>
									</li>
								</ol>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Process_Wait_Analysis">Process Wait Analysis</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Prerequisites">Prerequisites</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Running_the_analysis">Running the analysis</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Input.2FOutput_Analysis">Input/Output Analysis</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Get_the_trace">Get the trace</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Input.2FOutput_Views">Input/Output Views</a>
								<ol style="list-style: none;">
									<li>
										<a href="LTTng-Kernel-Analysis.html#Disk_I.2FO_Activity_View">Disk I/O Activity View</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Navigation_4">Navigation</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#Toolbar_5">Toolbar</a>
									</li>
									<li>
										<a href="LTTng-Kernel-Analysis.html#View_Menu_3">View Menu</a>
									</li>
								</ol>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#System_Call_Latency_Analysis">System Call Latency Analysis</a>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Futex_Contention_Latency_Analysis">Futex Contention Latency Analysis</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-Kernel-Analysis.html#Uaddr_vs_Waiter">Uaddr vs Waiter</a>
							</li>
							<li>
								<a href="LTTng-Kernel-Analysis.html#Scenarios">Scenarios</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#Latency_analysis_for_IRQ_handlers">Latency analysis for IRQ handlers</a>
					</li>
					<li>
						<a href="LTTng-Kernel-Analysis.html#LTTng_Kernel_Events_Editor">LTTng Kernel Events Editor</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="LTTng-UST-Analyses.html#LTTng-UST_Analyses">LTTng-UST Analyses</a>
				<ol style="list-style: none;">
					<li>
						<a href="LTTng-UST-Analyses.html#Call_Stack_View">Call Stack View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-UST-Analyses.html#Using_the_Callstack_View_with_LTTng-UST_traces">Using the Callstack View with LTTng-UST traces</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Importing_a_binary_or_function_name_mapping_file_.28for_LTTng-UST_.3C2.8_traces.29">Importing a binary or function name mapping file (for LTTng-UST &lt;2.8 traces)</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Navigation_5">Navigation</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Marker_Axis_3">Marker Axis</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-UST-Analyses.html#Flame_Graph_View">Flame Graph View</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-UST-Analyses.html#How_to_use_a_Flame_Graph">How to use a Flame Graph</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-UST-Analyses.html#Function_Duration_Statistics">Function Duration Statistics</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-UST-Analyses.html#Using_the_mouse_3">Using the mouse</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Using_the_keyboard_3">Using the keyboard</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Toolbar_6">Toolbar</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Importing_a_binary_or_function_name_mapping_file_.28for_LTTng-UST_.3C2.8_traces.29_2">Importing a binary or function name mapping file (for LTTng-UST &lt;2.8 traces)</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-UST-Analyses.html#Function_Duration_Density">Function Duration Density</a>
					</li>
					<li>
						<a href="LTTng-UST-Analyses.html#Memory_Usage">Memory Usage</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-UST-Analyses.html#Navigation_6">Navigation</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#Toolbar_7">Toolbar</a>
							</li>
							<li>
								<a href="LTTng-UST-Analyses.html#View_Menu_4">View Menu</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="LTTng-UST-Analyses.html#Source_Lookup_.28for_LTTng-UST_2.8.2B.29">Source Lookup (for LTTng-UST 2.8+)</a>
						<ol style="list-style: none;">
							<li>
								<a href="LTTng-UST-Analyses.html#Binary_file_location_configuration">Binary file location configuration</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
			<li>
				<a href="Trace-synchronization.html#Trace_synchronization">Trace synchronization</a>
				<ol style="list-style: none;">
					<li>
						<a href="Trace-synchronization.html#Obtain_synchronizable_traces">Obtain synchronizable traces</a>
						<ol style="list-style: none;">
							<li>
								<a href="Trace-synchronization.html#Use_LTTng-modules_2.9.2B">Use LTTng-modules 2.9+</a>
							</li>
							<li>
								<a href="Trace-synchronization.html#LTTng-module_network_tracepoint_with_complete_data">LTTng-module network tracepoint with complete data</a>
							</li>
							<li>
								<a href="Trace-synchronization.html#LTTng-modules_addons_kernel_module_with_dynamic_tracepoints">LTTng-modules addons kernel module with dynamic tracepoints</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Trace-synchronization.html#Synchronize_traces_in_Trace_Compass">Synchronize traces in Trace Compass</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Time-offsetting.html#Time_offsetting">Time offsetting</a>
				<ol style="list-style: none;">
					<li>
						<a href="Time-offsetting.html#Basic_mode">Basic mode</a>
					</li>
					<li>
						<a href="Time-offsetting.html#Advanced_mode">Advanced mode</a>
					</li>
					<li>
						<a href="Time-offsetting.html#Clearing_time_offset">Clearing time offset</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Timestamp-formatting.html#Timestamp_formatting">Timestamp formatting</a>
			</li>
			<li>
				<a href="Data-driven-analysis.html#Data_driven_analysis">Data driven analysis</a>
				<ol style="list-style: none;">
					<li>
						<a href="Data-driven-analysis.html#Managing_XML_files_containing_analyses">Managing XML files containing analyses</a>
					</li>
					<li>
						<a href="Data-driven-analysis.html#Defining_XML_components">Defining XML components</a>
					</li>
					<li>
						<a href="Data-driven-analysis.html#Defining_an_XML_state_provider">Defining an XML state provider</a>
						<ol style="list-style: none;">
							<li>
								<a href="Data-driven-analysis.html#Definitions_and_example">Definitions and example</a>
							</li>
							<li>
								<a href="Data-driven-analysis.html#Determining_the_state_system_structure">Determining the state system structure</a>
							</li>
							<li>
								<a href="Data-driven-analysis.html#Writing_the_XML_state_provider">Writing the XML state provider</a>
							</li>
							<li>
								<a href="Data-driven-analysis.html#Debugging_the_XML_state_provider">Debugging the XML state provider</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Data-driven-analysis.html#Defining_an_XML_pattern_provider">Defining an XML pattern provider</a>
						<ol style="list-style: none;">
							<li>
								<a href="Data-driven-analysis.html#The_state_system_structure">The state system structure</a>
							</li>
							<li>
								<a href="Data-driven-analysis.html#Writing_the_XML_pattern_provider">Writing the XML pattern provider</a>
							</li>
							<li>
								<a href="Data-driven-analysis.html#Representing_the_scenarios">Representing the scenarios</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Data-driven-analysis.html#Defining_an_XML_time_graph_view">Defining an XML time graph view</a>
						<ol style="list-style: none;">
							<li>
								<a href="Data-driven-analysis.html#Using_the_keyboard_4">Using the keyboard</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="Data-driven-analysis.html#Defining_an_XML_XY_chart">Defining an XML XY chart</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Latency-Analyses.html#Latency_Analyses">Latency Analyses</a>
			</li>
			<li>
				<a href="Counters-Analysis.html#Counters_Analysis">Counters Analysis</a>
				<ol style="list-style: none;">
					<li>
						<a href="Counters-Analysis.html#Creating_an_LTTng_trace_with_performance_counters">Creating an LTTng trace with performance counters</a>
					</li>
					<li>
						<a href="Counters-Analysis.html#Counters_View">Counters View</a>
						<ol style="list-style: none;">
							<li>
								<a href="Counters-Analysis.html#Navigation_7">Navigation</a>
							</li>
							<li>
								<a href="Counters-Analysis.html#Toolbar_8">Toolbar</a>
							</li>
							<li>
								<a href="Counters-Analysis.html#View_Menu_5">View Menu</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
			<li>
				<a href="Java-Logging.html#Java_Logging">Java Logging</a>
				<ol style="list-style: none;">
					<li>
						<a href="Java-Logging.html#Enable_JUL_Logging">Enable JUL Logging</a>
					</li>
					<li>
						<a href="Java-Logging.html#Configuring_JUL_logging">Configuring JUL logging</a>
					</li>
					<li>
						<a href="Java-Logging.html#LTTng_JUL_log_handler">LTTng JUL log handler</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Limitations.html#Limitations">Limitations</a>
			</li>
			<li>
				<a href="How-to-use-LTTng-to-diagnose-problems.html#How_to_use_LTTng_to_diagnose_problems">How to use LTTng to diagnose problems</a>
				<ol style="list-style: none;">
					<li>
						<a href="How-to-use-LTTng-to-diagnose-problems.html#Random_stutters">Random stutters</a>
					</li>
					<li>
						<a href="How-to-use-LTTng-to-diagnose-problems.html#Slow_I.2FO">Slow I/O</a>
					</li>
				</ol>
			</li>
			<li>
				<a href="Trace-Compass-Incubator.html#Trace_Compass_Incubator">Trace Compass Incubator</a>
			</li>
			<li>
				<a href="References.html#References">References</a>
			</li>
		</ol><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Overview.html" title="Overview">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Overview</td>
			</tr>
		</table>
	</body>
</html><html id='2206.s6.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a><a href="s5.html" rel="prev">&lt;&lt;&nbsp;&sect;5&nbsp;Team Activation</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s7.html" rel="next">&sect;7&nbsp;Role Encapsulation&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"></div>
         <div class="chapter" id="s6">
            <div class="headl">
               <div class="headr">
                  <h1>&sect;6&nbsp;Object Teams API</h1>
               </div>
            </div>
            <div id="toc-box">
               <ul class="toc-box">
                  <li><a href="s6.html">&sect;6&nbsp;Object Teams API</a></li>
                  <li><a href="#s6.1">&sect;6.1&nbsp;Reflection</a></li>
                  <li><a href="#s6.2">&sect;6.2&nbsp;Other API Elements</a></li>
                  <li><a href="#s6.3">&sect;6.3&nbsp;Annotations</a></li>
               </ul>
            </div>
            <div class="intro">
               <h3>The role of predefined types and methods</h3>
               <div class="line"></div>
               <div class="term">Application Programming Interface (API)</div>
               <div class="termdesc">Some features of OT/J are supported without introducing new syntax but by predefined types and methods.</div>
               <div class="line"></div>
            </div>
            <div class="sect depth2" id="s6.1">
               <h2 class="sect">&sect;6.1&nbsp;Reflection<a class="img" href="s6.1.html" title="PermaLink to &sect;6.1&nbsp;Reflection"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <p>Object Teams supports reflection with respect to teams, roles, and role-base relationships.
                  		
               </p>
               <div class="subsect depth3" id="s6.1.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Interface to the role registry</span><a class="img" href="s6.1.a.html"
                        title="PermaLink to (a)&nbsp;Interface to the role registry"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Each team instance internally has a registry of known role objects indexed by their base object. 
                     		Programmers may make use of this registry using the following reflective methods defined in 
                     		<code>org.objectteams.ITeam</code>:
                     			
                  </p>
                  <dl>
                     <dt><code>boolean hasRole ( Object aBase ) ;</code></dt>
                     <dd>This method checks whether a role for the passed base object already exists in the target team.
                        				
                     </dd>
                     <dt><code>boolean hasRole ( Object aBase, Class roleType ) ;</code></dt>
                     <dd>This method checks whether a instance of type <code>roleType</code> as a role for the passed base object 
                        					<code>aBase</code> already exists in the target team.
                        				    The role may also be of any subtype of the specified role type.<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                     <dt><code>Object getRole ( Object aBase ) ;</code></dt>
                     <dd>If the passed base object <code>aBase</code> already has a role in the target team, this role is returned. 
                        					Otherwise <code>null</code> is returned.
                        				
                     </dd>
                     <dt><code>&lt;T&gt; T getRole ( Object aBase, Class&lt;T&gt; roleType ) ;</code></dt>
                     <dd>If the passed base object <code>aBase</code> already has a role in the target team that is assignable to the type represented by <code>roleType</code>, 
                        					this role is returned. Otherwise <code>null</code> is returned.<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                     <dt><code>Object[] getAllRoles () ;</code></dt>
                     <dd>Retrieves all existing (registered) <a href="s2.1.a.html" title="&sect;2.1.(a)&nbsp;Role-base binding"
                           class="sect">bound roles (&sect;2.1.(a))</a> in the target team.
                        					<br />
                        This method uses internal structures of weak references. For that reason it may return role instances which were about 
                        to be reclaimed by the garbage collector. If performance permits, it is thus advisable to always call <code>System.gc()</code> 
                        prior to calling <code>getAllRoles()</code> in order to achieve deterministic results (see also <a href="s2.1.f.html" title="&sect;2.1.(f)&nbsp;Effect on garbage collection"
                           class="sect">&sect;2.1.(f)</a>).
                        				
                     </dd>
                     <dt><code>&lt;T&gt; T[] getAllRoles ( Class&lt;T&gt; roleType ) ;</code></dt>
                     <dd>Retrieves all existing (registered) <a href="s2.1.a.html" title="&sect;2.1.(a)&nbsp;Role-base binding"
                           class="sect">bound roles (&sect;2.1.(a))</a> in the target team that are assignable to the type represented by <code>roleType</code>. 
                        					<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        <br />
                        See the note about garbage collection above.
                        				
                     </dd>
                     <dt><code>void unregisterRole ( Object aRole ) ;</code></dt>
                     <dd>This method unregisters the passed role object from the target team. Thus the corresponding base looses this role. 
                        					After calling this method the role should no longer be used.
                        				
                     </dd>
                     <dt><code>void unregisterRole ( Object aRole, Class roleType ) ;</code></dt>
                     <dd>This method unregisters the passed role object from the target team. Thus the corresponding base loses this role. 
                        					After calling this method the role should no longer be used. 
                        					The only difference to the previous method is improved speed because no search for the corresponding registry 
                        					has to be performed.
                        					<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                  </dl>
                  <p>It is desirable and possible to use these methods within guards (see <a href="s5.4.html" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>). 
                     		These methods allow to write the specification of guards in a more concise and more expressive way. Determined by the signature,
                     
                     		the first four methods can only be used in a base-level guard (<a href="s5.4.2.html" title="&sect;5.4.2&nbsp;Base guards" class="sect">&sect;5.4.2</a>) because they require a reference to a base object.
                     			
                  </p>
                  <h5 class="listing">Example code (Guards and Reflection):</h5>
                  <div class="listing example frame">
                     <table class="listing">
                        <tr class="line odd">
                           <td class="ln">1</td>
                           <td><pre><b>public</b> <b>team</b> <b>class</b> SpecialConditions {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">2</td>
                           <td><pre>  <b>public</b> <b>void</b> participate(Account <b>as</b> BonusAccount ba) {}</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">3</td>
                           <td><pre>  <b>public</b> <b>class</b> BonusAccount <b>playedBy</b> Account</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">4</td>
                           <td><pre>    <b>base</b> when(SpecialConditions.this.<em>hasRole</em>(base, BonusAccount.class))</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">5</td>
                           <td><pre>  {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">6</td>
                           <td><pre>    <b>callin</b> <b>void</b> creditBonus(<b>int</b> amount) {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">7</td>
                           <td><pre>      base.creditBonus(amount + bonus);</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">8</td>
                           <td><pre>    }</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">9</td>
                           <td><pre>    <b>void</b> creditBonus(<b>int</b> amount) <b>&lt;-</b> <b>replace</b> <b>void</b> credit(<b>int</b> i)</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">10</td>
                           <td><pre>      <b>base</b> <b>when</b> (i &gt; 1000);</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">11</td>
                           <td><pre>  }</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">12</td>
                           <td><pre>}</pre></td>
                        </tr>
                     </table>
                  </div>
                  <div class="codecomment">
                     <h5>Effects:</h5>
                     				This teams provides a bonus system for registered <code>Account</code>s. Every time an amount of more than 1000 is 
                     				deposited to a registered account, additional 1% of the amount is credited.
                     				 
                     <ul>
                        <li>The team level method <code>participate</code> in line 2 uses declared lifting (see <a href="s2.3.2.html" title="&sect;2.3.2&nbsp;Declared lifting" class="sect">&sect;2.3.2</a>) 
                           to allow the passed <code>Account</code> object to participate the bonus system provided by the 
                           <code>SpecialConditions</code> team.
                           	
                        </li>
                        <li>The base guard in line 4 uses the reflective method <code>hasRole</code> to check whether the base object already has a role 
                           	of type <code>BonusAccount</code> in the surrounding team. The expression <code>BonusAccount.class</code> returns 
                           	the <code>java.lang.Class</code> object representing the role <code>BonusAccount</code> 
                           	(see <a href="http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530"
                              class="ext">JLS &sect;15.8.2</a>). 
                           	This guard ensures, that only accounts explicitly registered via <code>participate</code> are ever decorated with a role of type <code>BonusAccount</code>.
                           
                        </li>
                        <li>The method binding guard in line 10 restricts the callin to <code>creditBonus</code> to calls where 
                           					the base method argument <code>amount</code> is greater than 1000.
                           					
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="subsect depth3" id="s6.1.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Behavioral reflection</span><a class="img" href="s6.1.b.html"
                        title="PermaLink to (b)&nbsp;Behavioral reflection"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following reflective methods defined in org.objectteams.ITeam can be used to
                     			   inspect the dynamic behavior of a team:
                     			
                  </p>
                  <dl>
                     <dt><code>boolean isExecutingCallin () ;</code></dt>
                     <dd>This method is used to inspect whether a control flow has already been intercepted by at least one callin binding of the current
                        team. 
                        					It can be used to avoid undesirable re-entrance to a team.
                        				
                     </dd>
                     <dt><code>boolean isActive () ;</code></dt>
                     <dd>This method checks whether the team instance is active for the current thread.
                        				
                     </dd>
                     <dt><code>boolean isActive ( Thread aThread ) ;</code></dt>
                     <dd>This method checks whether the team instance is active for the thread <code>aThread</code>.
                        				
                     </dd>
                  </dl>
               </div>
               <div class="subsect depth3" id="s6.1.c">
                  <h4 class="subsect">(c)&nbsp;<span class="title">Class literals for roles</span><a class="img" href="s6.1.c.html"
                        title="PermaLink to (c)&nbsp;Class literals for roles"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The Java syntax for so-called class literals, <code>MyClass<strong>.class</strong></code> 
                     		(see <a href="http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530"
                        class="ext">JLS &sect;15.8.2</a>) 
                     		can be used for role types with slightly changed semantics: Role types are virtual types (<a href="s1.3.1.html"
                        title="&sect;1.3.1&nbsp;Acquisition and implicit inheritance of role classes"
                        class="sect">&sect;1.3.1</a>) 
                     		that are bound dynamically  (<a href="s1.3.1.e.html" title="&sect;1.3.1.(e)&nbsp;Dynamic binding of types"
                        class="sect">&sect;1.3.1.(e)</a>). This applies to role class literals, too. 
                     		From this follows the constraint that a role class literal can only be used within the non-static context of a team, 
                     		ie., for evaluating a role class literal an enclosing team instance must be in scope.
                     		<br />
                     Unlike regular type checking for role types, the class literal itself does not have a dependent type. 
                     Thus type checking of calls to methods like <code>hasRole(Object, Class)</code> cannot detect, whether the <code>Class</code> instance 
                     has actually been obtained from the correct team instance. Any attempt to pass a class that is not known 
                     as a bound role within the given team results in an <code>IllegalArgumentException</code> at run-time.
                     			
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="s6.2">
               <h2 class="sect">&sect;6.2&nbsp;Other API Elements<a class="img" href="s6.2.html"
                     title="PermaLink to &sect;6.2&nbsp;Other API Elements"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <div class="subsect depth3" id="s6.2.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Interfaces for role encapsulation</span><a class="img" href="s6.2.a.html"
                        title="PermaLink to (a)&nbsp;Interfaces for role encapsulation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>A set of pre-defined types exist that do <span class="underline">not</span> extend <code>java.lang.Object</code>
                     			and have <span class="underline">no</span> features except the operators <code>==</code> and <code>!=</code>.
                     			
                  </p>
                  <div class="note">
                     <h5>Note:</h5>
                     				The JLS defines that each interface declares all methods defined in <code>java.lang.Object</code> 
                     				(<a href="http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html#32392"
                        class="ext">JLS &sect;9.2</a>) 
                     				and also each object referenced by an interface type can be widened to <code>java.lang.Object</code>.
                     				Compilers commonly implement this by declaring <code>java.lang.Object</code> the super-type of all interfaces.
                     				Such implementation has no visible difference with respect to the more complex definition in the JLS.
                     			
                  </div>
                  <p>These predefined types are
                     			
                  </p>
                  <dl>
                     <dt><code>org.objectteams.IConfined</code></dt>
                     <dd>regular interface</dd>
                     <dt><code>org.objectteams.ITeam.IConfined</code></dt>
                     <dd>role interface</dd>
                     <dt><code>org.objectteams.Team.Confined</code></dt>
                     <dd>role class</dd>
                  </dl>
                  <p>These types provide no new functionality but inheriting from these types influences the semantics with respect to encapsulation.
                     
                     		The purpose and usage of these types is described in <a href="s7.html" title="&sect;7&nbsp;Role Encapsulation" class="sect">&sect;7</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Interface for explicit lowering</span><a class="img" href="s6.2.b.html"
                        title="PermaLink to (b)&nbsp;Interface for explicit lowering"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following role interface exists for the purpose of allowing explicit lowering:
                     			
                  </p>
                  <dl>
                     <dt><code>org.objectteams.ITeam.ILowerable</code></dt>
                     <dd>role interface</dd>
                  </dl>
                  <p>This interface was introduced in detail in <a href="s2.2.d.html" title="&sect;2.2.(d)&nbsp;Explicit lowering"
                        class="sect">&sect;2.2.(d)</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.c">
                  <h4 class="subsect">(c)&nbsp;<span class="title">Team activation methods</span><a class="img" href="s6.2.c.html"
                        title="PermaLink to (c)&nbsp;Team activation methods"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Every team can be activated and deactivated by predefined methods of the interface <code>org.objectteams.ITeam</code>.
                     			
                  </p>
                  <dl>
                     <dt><code>activate()</code> and <code>activate(Thread th)</code></dt>
                     <dd>Methods for activation of a team</dd>
                     <dt><code>deactivate()</code> and <code>deactivate(Thread th)</code></dt>
                     <dd>Methods for deactivation of a team</dd>
                  </dl>
                  <p>The usage of these Methods is described in <a href="s5.2.b.html" title="&sect;5.2.(b)&nbsp;Imperative activation"
                        class="sect">&sect;5.2.(b)</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.d">
                  <h4 class="subsect">(d)&nbsp;<span class="title">Exceptions</span><a class="img" href="s6.2.d.html" title="PermaLink to (d)&nbsp;Exceptions"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following <code>Exceptions</code> can be thrown during the execution of an ObjectTeam/Java program:
                     			
                  </p>
                  <dl>
                     <dt><code>ResultNotProvidedException</code></dt>
                     <dd>Thrown if a replace callin without a base call does not provide the necessary (primitive type) base result 
                        					(see <a href="s4.3.e.html" title="&sect;4.3.(e)&nbsp;Fragile callin binding"
                           class="sect">&sect;4.3.(e)</a>).
                     </dd>
                     <dt><code>LiftingFailedException</code></dt>
                     <dd>Thrown if an actual ambiguity occurs during lifting (see <a href="s2.3.4.c.html" title="&sect;2.3.4.(c)&nbsp;Actual ambiguity"
                           class="sect">&sect;2.3.4.(c)</a>)
                        					or if lifting would need to instantiate an abstract role class (see <a href="s2.5.b.html" title="&sect;2.5.(b)&nbsp;Relevant roles" class="sect">&sect;2.5.(b)</a>).
                        					This is a checked exception.
                        					See <a href="s2.3.5.html"
                           title="&sect;2.3.5&nbsp;Consequences of lifting problems"
                           class="sect">&sect;2.3.5</a> for more information.
                     </dd>
                     <dt><code>WrongRoleException</code></dt>
                     <dd>Thrown during lifting if the base object has, with respect to the same team instance, previously been lifted 
                        					to a role type that is not conform to the currently requested type 
                        					(see <a href="s2.3.4.d.html" title="&sect;2.3.4.(d)&nbsp;Mismatching role"
                           class="sect">&sect;2.3.4.(d)</a> and <a href="s2.4.3.html"
                           title="&sect;2.4.3&nbsp;Role creation in the presence of smart lifting"
                           class="sect">&sect;2.4.3</a>).
                     </dd>
                     <dt><code>DuplicateRoleException</code></dt>
                     <dd>Thrown during explicit role creation, if a new role is created for a base object, which already has a role 
                        					of the required type in the given team (see <a href="s2.4.1.c.html"
                           title="&sect;2.4.1.(c)&nbsp;Duplicate role runtime check"
                           class="sect">&sect;2.4.1.(c)</a>).
                     </dd>
                     <dt><code>RoleCastException</code></dt>
                     <dd>Thrown during cast of an externalized role, if the casted expression is anchored to a different team instance 
                        					than the cast type (see <a href="s1.2.4.b.html" title="&sect;1.2.4.(b)&nbsp;Casting" class="sect">&sect;1.2.4.(b)</a>).
                     </dd>
                     <dt><code>LiftingVetoException</code></dt>
                     <dd>This exception is used internally to abort the process of lifting when a relevant guard predicate (<a href="s5.4.html" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>) evaluated to false. 
                        					Such exceptions thrown from generated code will never appear in client code, so there is usually no need to catch a <code>LiftingVetoException</code>.
                        					However, in some situations it is useful to explicitly <em>throw</em> a <code>LiftingVetoException</code> from a lifting constructor (<a href="s2.3.1.b.html"
                           title="&sect;2.3.1.(b)&nbsp;Default lifting constructor"
                           class="sect">&sect;2.3.1.(b)</a>) of a role.
                        					This style allows to abort lifting even after the lifting constructor has started to work and also for method parameters
                        requiring lifting.
                        					If lifting was triggered due to a callin method binding, this binding will simply not trigger if a <code>LiftingVetoException</code> is thrown
                        					while preparing the call to the role method.
                     </dd>
                  </dl>
               </div>
               <div class="subsect depth3" id="s6.2.e">
                  <h4 class="subsect">(e)&nbsp;<span class="title">Role migration</span><a class="img" href="s6.2.e.html" title="PermaLink to (e)&nbsp;Role migration"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following interfaces can be used to enable role migration:</p>
                  <dl>
                     <dt><code>IBaseMigratable</code></dt>
                     <dd>This interface declares a method
                        <div class="listing plain"><pre>
    <code>&lt;B&gt; <b>void</b> migrateToBase(B otherBase)</code> </pre></div>
                        					and instructs the compiler to generate an implementation of this method 
                        					for any bound role declaring <code>IBaseMigratable</code> as its super-interface.<br />
                        					The effect of calling <code>migrateToBase</code> on a role instance is to re-bind this role to a new base instance.
                        					The base instance must be compatible to the role's base class (in order to avoid problems during lifting the
                        					compiler may require the base to be of the exact type of the role's base class).
                        					Passing <code>null</code> to this method causes an <code>NullPointerException</code> to be thrown.
                     </dd>
                     <dt><code>ITeamMigratable</code></dt>
                     <dd>This interface declares a method 
                        <div class="listing plain"><pre>
    <code>&lt;R&gt; R&lt;@otherTeam&gt; migrateToTeam(<b>final</b> ITeam otherTeam)</code></pre></div> 
                        					and instructs the compiler to
                        					generate an implementation of this method for any role declaring <code>ITeamMigratable</code> as its super-interface.<br />
                        					The effect of calling <code>migrateToTeam</code> on a role instance is to re-bind this role to become a contained part of a new team instance.
                        					The team instance must be of the exact type of the role's enclosing team.
                        					Passing <code>null</code> to this method causes a <code>NullPointerException</code> to be thrown.<br /><div class="note">
                           <h5>Caveat:</h5>
                           					This method intentionally breaks the rules of family polymorphism: any reference <code>R&lt;@previousTeam&gt; r</code>
                           					which was established before migration will incorrectly imply that the role's enclosing team still is <code>previousTeam</code>,
                           					which is no longer true after migration.
                           					While this does not effect any method lookup (which is still safe), further assumptions based on a role's dependent type
                           					are invalidated by team migration. The same holds for references from the migrating role to any sibling role instances.<br />
                           					If the rules of family polymorphism should be maintained one should just refrain from declaring <code>ITeamMigratable</code>
                           					as a role's super-interface.
                        </div>
                     </dd>
                  </dl>
                  <p>For both methods the signature declared in the interface is over-generalized, yet the compiler performs the necessary checks
                     to
                     			   ensure that role, base and team instances are indeed compatible and additionally the return type of <code>migrateToTeam</code>
                     			   is checked as a self-type, i.e., it reflects the exact type of the call target.
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="s6.3">
               <h2 class="sect">&sect;6.3&nbsp;Annotations<a class="img" href="s6.3.html"
                     title="PermaLink to &sect;6.3&nbsp;Annotations"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <div class="subsect depth3" id="s6.3.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Controlling implicit team activation</span><a class="img" href="s6.3.a.html"
                        title="PermaLink to (a)&nbsp;Controlling implicit team activation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Implicit team activation is disabled by default and can be enabled by adding the annotation
                     				<code>@org.objectteams.ImplicitTeamActivation</code>. 
                     				See <a href="s5.3.d.html"
                        title="&sect;5.3.(d)&nbsp;Configuring implicit activation"
                        class="sect">&sect;5.3.(d)</a> for details.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.3.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Controlling lifting</span><a class="img" href="s6.3.b.html"
                        title="PermaLink to (b)&nbsp;Controlling lifting"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>If lifting as defined in <a href="s2.3.html" title="&sect;2.3&nbsp;Lifting" class="sect">&sect;2.3</a> and specifically <a href="s2.3.1.html" title="&sect;2.3.1&nbsp;Implicit role creation"
                        class="sect">&sect;2.3.1</a> causes
                     				performance problems, the semantics of lifting can be modified per role class using the annotation
                     				<code>@org.objectteams.Instantiation</code>.
                     				See <a href="s2.3.1.d.html"
                        title="&sect;2.3.1.(d)&nbsp;Fine-tuning role instantiation"
                        class="sect">&sect;2.3.1.(d)</a> for details.
                     			
                  </p>
               </div>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"><a href="s5.html" rel="prev">&lt;&lt;&nbsp;&sect;5&nbsp;Team Activation</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s7.html" rel="next">&sect;7&nbsp;Role Encapsulation&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"></div>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2013-05-28
      </div>
   </body>
</html><html id='1899.s6.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a><a href="s5.html" rel="prev">&lt;&lt;&nbsp;&sect;5&nbsp;Team Activation</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s7.html" rel="next">&sect;7&nbsp;Role Encapsulation&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="chapter" id="s6">
            <div class="headl">
               <div class="headr">
                  <h1>&sect;6&nbsp;Object Teams API</h1>
               </div>
            </div>
            <div id="toc-box">
               <ul class="toc-box">
                  <li><a href="s6.html">&sect;6&nbsp;Object Teams API</a></li>
                  <li><a href="#s6.1">&sect;6.1&nbsp;Reflection</a></li>
                  <li><a href="#s6.2">&sect;6.2&nbsp;Other API Elements</a></li>
                  <li><a href="#s6.3">&sect;6.3&nbsp;Annotations</a></li>
               </ul>
            </div>
            <div class="intro">
               <h3>The role of predefined types and methods</h3>
               <div class="line"></div>
               <div class="term">Application Programming Interface (API)</div>
               <div class="termdesc">Some features of OT/J are supported without introducing new syntax but by predefined types and methods.</div>
               <div class="line"></div>
            </div>
            <div class="sect depth2" id="s6.1">
               <h2 class="sect">&sect;6.1&nbsp;Reflection<a class="img" href="s6.html#s6.1"
                     title="PermaLink to &sect;6.1&nbsp;Reflection"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <p>Object Teams supports reflection with respect to teams, roles, and role-base relationships.
                  		
               </p>
               <div class="subsect depth3" id="s6.1.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Interface to the role registry</span><a class="img" href="s6.html#s6.1.a"
                        title="PermaLink to (a)&nbsp;Interface to the role registry"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Each team instance internally has a registry of known role objects indexed by their base object. 
                     		Programmers may make use of this registry using the following reflective methods defined in 
                     		<code>org.objectteams.ITeam</code>:
                     			
                  </p>
                  <dl>
                     <dt><code>boolean hasRole ( Object aBase ) ;</code></dt>
                     <dd>This method checks whether a role for the passed base object already exists in the target team.
                        				
                     </dd>
                     <dt><code>boolean hasRole ( Object aBase, Class roleType ) ;</code></dt>
                     <dd>This method checks whether a instance of type <code>roleType</code> as a role for the passed base object 
                        					<code>aBase</code> already exists in the target team.
                        				    The role may also be of any subtype of the specified role type.<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                     <dt><code>Object getRole ( Object aBase ) ;</code></dt>
                     <dd>If the passed base object <code>aBase</code> already has a role in the target team, this role is returned. 
                        					Otherwise <code>null</code> is returned.
                        				
                     </dd>
                     <dt><code>&lt;T&gt; T getRole ( Object aBase, Class&lt;T&gt; roleType ) ;</code></dt>
                     <dd>If the passed base object <code>aBase</code> already has a role in the target team that is assignable to the type represented by <code>roleType</code>, 
                        					this role is returned. Otherwise <code>null</code> is returned.<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                     <dt><code>Object[] getAllRoles () ;</code></dt>
                     <dd>Retrieves all existing (registered) <a href="s2.html#s2.1.a" title="&sect;2.1.(a)&nbsp;Role-base binding"
                           class="sect">bound roles (&sect;2.1.(a))</a> in the target team.
                        					<br />
                        This method uses internal structures of weak references. For that reason it may return role instances which were about 
                        to be reclaimed by the garbage collector. If performance permits, it is thus advisable to always call <code>System.gc()</code> 
                        prior to calling <code>getAllRoles()</code> in order to achieve deterministic results (see also <a href="s2.html#s2.1.f"
                           title="&sect;2.1.(f)&nbsp;Effect on garbage collection"
                           class="sect">&sect;2.1.(f)</a>).
                        				
                     </dd>
                     <dt><code>&lt;T&gt; T[] getAllRoles ( Class&lt;T&gt; roleType ) ;</code></dt>
                     <dd>Retrieves all existing (registered) <a href="s2.html#s2.1.a" title="&sect;2.1.(a)&nbsp;Role-base binding"
                           class="sect">bound roles (&sect;2.1.(a))</a> in the target team that are assignable to the type represented by <code>roleType</code>. 
                        					<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        <br />
                        See the note about garbage collection above.
                        				
                     </dd>
                     <dt><code>void unregisterRole ( Object aRole ) ;</code></dt>
                     <dd>This method unregisters the passed role object from the target team. Thus the corresponding base looses this role. 
                        					After calling this method the role should no longer be used.
                        				
                     </dd>
                     <dt><code>void unregisterRole ( Object aRole, Class roleType ) ;</code></dt>
                     <dd>This method unregisters the passed role object from the target team. Thus the corresponding base loses this role. 
                        					After calling this method the role should no longer be used. 
                        					The only difference to the previous method is improved speed because no search for the corresponding registry 
                        					has to be performed.
                        					<br />
                        				    If <code>roleType</code> is not a member type of the current team an <code>IllegalArgumentException</code> is thrown.
                        				
                     </dd>
                  </dl>
                  <p>It is desirable and possible to use these methods within guards (see <a href="s5.html#s5.4" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>). 
                     		These methods allow to write the specification of guards in a more concise and more expressive way. Determined by the signature,
                     
                     		the first four methods can only be used in a base-level guard (<a href="s5.html#s5.4.2" title="&sect;5.4.2&nbsp;Base guards" class="sect">&sect;5.4.2</a>) because they require a reference to a base object.
                     			
                  </p>
                  <h5 class="listing">Example code (Guards and Reflection):</h5>
                  <div class="listing example frame">
                     <table class="listing">
                        <tr class="line odd">
                           <td class="ln">1</td>
                           <td><pre><b>public</b> <b>team</b> <b>class</b> SpecialConditions {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">2</td>
                           <td><pre>  <b>public</b> <b>void</b> participate(Account <b>as</b> BonusAccount ba) {}</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">3</td>
                           <td><pre>  <b>public</b> <b>class</b> BonusAccount <b>playedBy</b> Account</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">4</td>
                           <td><pre>    <b>base</b> when(SpecialConditions.this.<em>hasRole</em>(base, BonusAccount.class))</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">5</td>
                           <td><pre>  {</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">6</td>
                           <td><pre>    <b>callin</b> <b>void</b> creditBonus(<b>int</b> amount) {</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">7</td>
                           <td><pre>      base.creditBonus(amount + bonus);</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">8</td>
                           <td><pre>    }</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">9</td>
                           <td><pre>    <b>void</b> creditBonus(<b>int</b> amount) <b>&lt;-</b> <b>replace</b> <b>void</b> credit(<b>int</b> i)</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">10</td>
                           <td><pre>      <b>base</b> <b>when</b> (i &gt; 1000);</pre></td>
                        </tr>
                        <tr class="line odd">
                           <td class="ln">11</td>
                           <td><pre>  }</pre></td>
                        </tr>
                        <tr class="line even">
                           <td class="ln">12</td>
                           <td><pre>}</pre></td>
                        </tr>
                     </table>
                  </div>
                  <div class="codecomment">
                     <h5>Effects:</h5>
                     				This teams provides a bonus system for registered <code>Account</code>s. Every time an amount of more than 1000 is 
                     				deposited to a registered account, additional 1% of the amount is credited.
                     				 
                     <ul>
                        <li>The team level method <code>participate</code> in line 2 uses declared lifting (see <a href="s2.html#s2.3.2" title="&sect;2.3.2&nbsp;Declared lifting"
                              class="sect">&sect;2.3.2</a>) 
                           to allow the passed <code>Account</code> object to participate the bonus system provided by the 
                           <code>SpecialConditions</code> team.
                           	
                        </li>
                        <li>The base guard in line 4 uses the reflective method <code>hasRole</code> to check whether the base object already has a role 
                           	of type <code>BonusAccount</code> in the surrounding team. The expression <code>BonusAccount.class</code> returns 
                           	the <code>java.lang.Class</code> object representing the role <code>BonusAccount</code> 
                           	(see <a href="http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530"
                              class="ext">JLS &sect;15.8.2</a>). 
                           	This guard ensures, that only accounts explicitly registered via <code>participate</code> are ever decorated with a role of type <code>BonusAccount</code>.
                           
                        </li>
                        <li>The method binding guard in line 10 restricts the callin to <code>creditBonus</code> to calls where 
                           					the base method argument <code>amount</code> is greater than 1000.
                           					
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="subsect depth3" id="s6.1.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Behavioral reflection</span><a class="img" href="s6.html#s6.1.b"
                        title="PermaLink to (b)&nbsp;Behavioral reflection"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following reflective methods defined in org.objectteams.ITeam can be used to
                     			   inspect the dynamic behavior of a team:
                     			
                  </p>
                  <dl>
                     <dt><code>boolean isExecutingCallin () ;</code></dt>
                     <dd>This method is used to inspect whether a control flow has already been intercepted by at least one callin binding of the current
                        team. 
                        					It can be used to avoid undesirable re-entrance to a team.
                        				
                     </dd>
                     <dt><code>boolean isActive () ;</code></dt>
                     <dd>This method checks whether the team instance is active for the current thread.
                        				
                     </dd>
                     <dt><code>boolean isActive ( Thread aThread ) ;</code></dt>
                     <dd>This method checks whether the team instance is active for the thread <code>aThread</code>.
                        				
                     </dd>
                  </dl>
               </div>
               <div class="subsect depth3" id="s6.1.c">
                  <h4 class="subsect">(c)&nbsp;<span class="title">Class literals for roles</span><a class="img" href="s6.html#s6.1.c"
                        title="PermaLink to (c)&nbsp;Class literals for roles"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The Java syntax for so-called class literals, <code>MyClass<strong>.class</strong></code> 
                     		(see <a href="http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530"
                        class="ext">JLS &sect;15.8.2</a>) 
                     		can be used for role types with slightly changed semantics: Role types are virtual types (<a href="s1.html#s1.3.1"
                        title="&sect;1.3.1&nbsp;Acquisition and implicit inheritance of role classes"
                        class="sect">&sect;1.3.1</a>) 
                     		that are bound dynamically  (<a href="s1.html#s1.3.1.e"
                        title="&sect;1.3.1.(e)&nbsp;Dynamic binding of types"
                        class="sect">&sect;1.3.1.(e)</a>). This applies to role class literals, too. 
                     		From this follows the constraint that a role class literal can only be used within the non-static context of a team, 
                     		ie., for evaluating a role class literal an enclosing team instance must be in scope.
                     		<br />
                     Unlike regular type checking for role types, the class literal itself does not have a dependent type. 
                     Thus type checking of calls to methods like <code>hasRole(Object, Class)</code> cannot detect, whether the <code>Class</code> instance 
                     has actually been obtained from the correct team instance. Any attempt to pass a class that is not known 
                     as a bound role within the given team results in an <code>IllegalArgumentException</code> at run-time.
                     			
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="s6.2">
               <h2 class="sect">&sect;6.2&nbsp;Other API Elements<a class="img" href="s6.html#s6.2"
                     title="PermaLink to &sect;6.2&nbsp;Other API Elements"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <div class="subsect depth3" id="s6.2.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Interfaces for role encapsulation</span><a class="img" href="s6.html#s6.2.a"
                        title="PermaLink to (a)&nbsp;Interfaces for role encapsulation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>A set of pre-defined types exist that do <span class="underline">not</span> extend <code>java.lang.Object</code>
                     			and have <span class="underline">no</span> features except the operators <code>==</code> and <code>!=</code>.
                     			
                  </p>
                  <div class="note">
                     <h5>Note:</h5>
                     				The JLS defines that each interface declares all methods defined in <code>java.lang.Object</code> 
                     				(<a href="http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html#32392"
                        class="ext">JLS &sect;9.2</a>) 
                     				and also each object referenced by an interface type can be widened to <code>java.lang.Object</code>.
                     				Compilers commonly implement this by declaring <code>java.lang.Object</code> the super-type of all interfaces.
                     				Such implementation has no visible difference with respect to the more complex definition in the JLS.
                     			
                  </div>
                  <p>These predefined types are
                     			
                  </p>
                  <dl>
                     <dt><code>org.objectteams.IConfined</code></dt>
                     <dd>regular interface</dd>
                     <dt><code>org.objectteams.ITeam.IConfined</code></dt>
                     <dd>role interface</dd>
                     <dt><code>org.objectteams.Team.Confined</code></dt>
                     <dd>role class</dd>
                  </dl>
                  <p>These types provide no new functionality but inheriting from these types influences the semantics with respect to encapsulation.
                     
                     		The purpose and usage of these types is described in <a href="s7.html" title="&sect;7&nbsp;Role Encapsulation" class="sect">&sect;7</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Interface for explicit lowering</span><a class="img" href="s6.html#s6.2.b"
                        title="PermaLink to (b)&nbsp;Interface for explicit lowering"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following role interface exists for the purpose of allowing explicit lowering:
                     			
                  </p>
                  <dl>
                     <dt><code>org.objectteams.ITeam.ILowerable</code></dt>
                     <dd>role interface</dd>
                  </dl>
                  <p>This interface was introduced in detail in <a href="s2.html#s2.2.d" title="&sect;2.2.(d)&nbsp;Explicit lowering"
                        class="sect">&sect;2.2.(d)</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.c">
                  <h4 class="subsect">(c)&nbsp;<span class="title">Team activation methods</span><a class="img" href="s6.html#s6.2.c"
                        title="PermaLink to (c)&nbsp;Team activation methods"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Every team can be activated and deactivated by predefined methods of the interface <code>org.objectteams.ITeam</code>.
                     			
                  </p>
                  <dl>
                     <dt><code>activate()</code> and <code>activate(Thread th)</code></dt>
                     <dd>Methods for activation of a team</dd>
                     <dt><code>deactivate()</code> and <code>deactivate(Thread th)</code></dt>
                     <dd>Methods for deactivation of a team</dd>
                  </dl>
                  <p>The usage of these Methods is described in <a href="s5.html#s5.2.b" title="&sect;5.2.(b)&nbsp;Imperative activation"
                        class="sect">&sect;5.2.(b)</a>.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.2.d">
                  <h4 class="subsect">(d)&nbsp;<span class="title">Exceptions</span><a class="img" href="s6.html#s6.2.d" title="PermaLink to (d)&nbsp;Exceptions"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following <code>Exceptions</code> can be thrown during the execution of an ObjectTeam/Java program:
                     			
                  </p>
                  <dl>
                     <dt><code>ResultNotProvidedException</code></dt>
                     <dd>Thrown if a replace callin without a base call does not provide the necessary (primitive type) base result 
                        					(see <a href="s4.html#s4.3.e" title="&sect;4.3.(e)&nbsp;Fragile callin binding"
                           class="sect">&sect;4.3.(e)</a>).
                     </dd>
                     <dt><code>LiftingFailedException</code></dt>
                     <dd>Thrown if an actual ambiguity occurs during lifting (see <a href="s2.html#s2.3.4.c" title="&sect;2.3.4.(c)&nbsp;Actual ambiguity"
                           class="sect">&sect;2.3.4.(c)</a>)
                        					or if lifting would need to instantiate an abstract role class (see <a href="s2.html#s2.5.b" title="&sect;2.5.(b)&nbsp;Relevant roles"
                           class="sect">&sect;2.5.(b)</a>).
                        					This is a checked exception.
                        					See <a href="s2.html#s2.3.5"
                           title="&sect;2.3.5&nbsp;Consequences of lifting problems"
                           class="sect">&sect;2.3.5</a> for more information.
                     </dd>
                     <dt><code>WrongRoleException</code></dt>
                     <dd>Thrown during lifting if the base object has, with respect to the same team instance, previously been lifted 
                        					to a role type that is not conform to the currently requested type 
                        					(see <a href="s2.html#s2.3.4.d" title="&sect;2.3.4.(d)&nbsp;Mismatching role"
                           class="sect">&sect;2.3.4.(d)</a> and <a href="s2.html#s2.4.3"
                           title="&sect;2.4.3&nbsp;Role creation in the presence of smart lifting"
                           class="sect">&sect;2.4.3</a>).
                     </dd>
                     <dt><code>DuplicateRoleException</code></dt>
                     <dd>Thrown during explicit role creation, if a new role is created for a base object, which already has a role 
                        					of the required type in the given team (see <a href="s2.html#s2.4.1.c"
                           title="&sect;2.4.1.(c)&nbsp;Duplicate role runtime check"
                           class="sect">&sect;2.4.1.(c)</a>).
                     </dd>
                     <dt><code>RoleCastException</code></dt>
                     <dd>Thrown during cast of an externalized role, if the casted expression is anchored to a different team instance 
                        					than the cast type (see <a href="s1.html#s1.2.4.b" title="&sect;1.2.4.(b)&nbsp;Casting" class="sect">&sect;1.2.4.(b)</a>).
                     </dd>
                     <dt><code>LiftingVetoException</code></dt>
                     <dd>This exception is used internally to abort the process of lifting when a relevant guard predicate (<a href="s5.html#s5.4" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>) evaluated to false. 
                        					Such exceptions thrown from generated code will never appear in client code, so there is usually no need to catch a <code>LiftingVetoException</code>.
                        					However, in some situations it is useful to explicitly <em>throw</em> a <code>LiftingVetoException</code> from a lifting constructor (<a href="s2.html#s2.3.1.b"
                           title="&sect;2.3.1.(b)&nbsp;Default lifting constructor"
                           class="sect">&sect;2.3.1.(b)</a>) of a role.
                        					This style allows to abort lifting even after the lifting constructor has started to work and also for method parameters
                        requiring lifting.
                        					If lifting was triggered due to a callin method binding, this binding will simply not trigger if a <code>LiftingVetoException</code> is thrown
                        					while preparing the call to the role method.
                     </dd>
                  </dl>
               </div>
               <div class="subsect depth3" id="s6.2.e">
                  <h4 class="subsect">(e)&nbsp;<span class="title">Role migration</span><a class="img" href="s6.html#s6.2.e"
                        title="PermaLink to (e)&nbsp;Role migration"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>The following interfaces can be used to enable role migration:</p>
                  <dl>
                     <dt><code>IBaseMigratable</code></dt>
                     <dd>This interface declares a method
                        <div class="listing plain"><pre>
    <code>&lt;B&gt; <b>void</b> migrateToBase(B otherBase)</code> </pre></div>
                        					and instructs the compiler to generate an implementation of this method 
                        					for any bound role declaring <code>IBaseMigratable</code> as its super-interface.<br />
                        					The effect of calling <code>migrateToBase</code> on a role instance is to re-bind this role to a new base instance.
                        					The base instance must be compatible to the role's base class (in order to avoid problems during lifting the
                        					compiler may require the base to be of the exact type of the role's base class).
                        					Passing <code>null</code> to this method causes an <code>NullPointerException</code> to be thrown.
                     </dd>
                     <dt><code>ITeamMigratable</code></dt>
                     <dd>This interface declares a method 
                        <div class="listing plain"><pre>
    <code>&lt;R&gt; R&lt;@otherTeam&gt; migrateToTeam(<b>final</b> ITeam otherTeam)</code></pre></div> 
                        					and instructs the compiler to
                        					generate an implementation of this method for any role declaring <code>ITeamMigratable</code> as its super-interface.<br />
                        					The effect of calling <code>migrateToTeam</code> on a role instance is to re-bind this role to become a contained part of a new team instance.
                        					The team instance must be of the exact type of the role's enclosing team.
                        					Passing <code>null</code> to this method causes a <code>NullPointerException</code> to be thrown.<br /><div class="note">
                           <h5>Caveat:</h5>
                           					This method intentionally breaks the rules of family polymorphism: any reference <code>R&lt;@previousTeam&gt; r</code>
                           					which was established before migration will incorrectly imply that the role's enclosing team still is <code>previousTeam</code>,
                           					which is no longer true after migration.
                           					While this does not effect any method lookup (which is still safe), further assumptions based on a role's dependent type
                           					are invalidated by team migration. The same holds for references from the migrating role to any sibling role instances.<br />
                           					If the rules of family polymorphism should be maintained one should just refrain from declaring <code>ITeamMigratable</code>
                           					as a role's super-interface.
                        </div>
                     </dd>
                  </dl>
                  <p>For both methods the signature declared in the interface is over-generalized, yet the compiler performs the necessary checks
                     to
                     			   ensure that role, base and team instances are indeed compatible and additionally the return type of <code>migrateToTeam</code>
                     			   is checked as a self-type, i.e., it reflects the exact type of the call target.
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="s6.3">
               <h2 class="sect">&sect;6.3&nbsp;Annotations<a class="img" href="s6.html#s6.3"
                     title="PermaLink to &sect;6.3&nbsp;Annotations"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;6</a></span></h2>
               <div class="subsect depth3" id="s6.3.a">
                  <h4 class="subsect">(a)&nbsp;<span class="title">Controlling implicit team activation</span><a class="img" href="s6.html#s6.3.a"
                        title="PermaLink to (a)&nbsp;Controlling implicit team activation"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>Implicit team activation is disabled by default and can be enabled by adding the annotation
                     				<code>@org.objectteams.ImplicitTeamActivation</code>. 
                     				See <a href="s5.html#s5.3.d"
                        title="&sect;5.3.(d)&nbsp;Configuring implicit activation"
                        class="sect">&sect;5.3.(d)</a> for details.
                     			
                  </p>
               </div>
               <div class="subsect depth3" id="s6.3.b">
                  <h4 class="subsect">(b)&nbsp;<span class="title">Controlling lifting</span><a class="img" href="s6.html#s6.3.b"
                        title="PermaLink to (b)&nbsp;Controlling lifting"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a></h4>
                  <p>If lifting as defined in <a href="s2.html#s2.3" title="&sect;2.3&nbsp;Lifting" class="sect">&sect;2.3</a> and specifically <a href="s2.html#s2.3.1" title="&sect;2.3.1&nbsp;Implicit role creation"
                        class="sect">&sect;2.3.1</a> causes
                     				performance problems, the semantics of lifting can be modified per role class using the annotation
                     				<code>@org.objectteams.Instantiation</code>.
                     				See <a href="s2.html#s2.3.1.d"
                        title="&sect;2.3.1.(d)&nbsp;Fine-tuning role instantiation"
                        class="sect">&sect;2.3.1.(d)</a> for details.
                     			
                  </p>
               </div>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"><a href="s5.html" rel="prev">&lt;&lt;&nbsp;&sect;5&nbsp;Team Activation</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="s7.html" rel="next">&sect;7&nbsp;Role Encapsulation&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2013-05-28
      </div>
   </body>
</html><html id='3847.302_configuration.html'></html><html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
	<title>Configuration</title>
	<link href="book.css" rel="stylesheet" type="text/css">
	<link href="code.css" rel="stylesheet" type="text/css">
	<link rel="home" href="index.html" title="">
</head>
<body>

<h1 id="configuration">Configuration</h1>

<p>Xtext offers two levels on which you can configure your language: the language generator and dependency injection. The language generator uses a special DSL called MWE2 to configure the generator.</p>

<h2 id="short-intro-to-mwe">A Short Introduction to MWE2</h2>

<p>MWE2 (Modeling Workflow Engine) allows to compose object graphs declaratively in a very compact manner. The nice thing about it is that it just instantiates Java classes and the configuration is done through public setter and adder methods as known from Java Beans encapsulation principles. More in-depth information can be found in the <a href="306_mwe2.html">MWE2 documentation</a>.</p>

<p>Given the following simple Java class (POJO):</p>

<pre><code class="language-java">package com.mycompany;

public class Person {

  private String name;

  public void setName(String name) { 
    this.name = name;
  }

  private final List&lt;Person&gt; children = new ArrayList&lt;Person&gt;();

  public void addChild(Person child) {
    this.children.add(child);
  }
}
</code></pre>

<p>One can create a family tree with MWE2 easily by describing it in a declarative manner without writing a single line of Java code and without the need to compile classes:</p>

<pre><code class="language-mwe2">module com.mycompany.CreatePersons

Person {
  name = "Grandpa"
  child = Person {
    name = "Father"
    child = {
      name = "Son"
    }
  }
}
</code></pre>

<p>These few lines will, when interpreted by MWE2, result in an object tree consisting of three instances of <em>com.mycompany.Person</em>. The interpreter will basically do the same as the following <em>main</em> method:</p>

<pre><code class="language-java">package com.mycompany;

public class CreatePersons {
    public static void main(String[] args) {
        Person grandpa = new Person();
        grandpa.setName("Grandpa");
        Person father = new Person();
        father.setName("Father");
        grandpa.addChild(father);
        Person son = new Person();
        son.setName("Son");
        father.addChild(son);
    }
}
</code></pre>

<p>And this is how it works: The root element is a plain Java class name. As this MWE2 module is a sibling to the class <em>com.mycompany.Person</em> it is not necessary to use fully qualified name. The constructed objects are furthermore configured according to the declaration in the module, i.e. a second instance of Person is created and added to the list of children of Grandpa while the third person becomes a child of Father. All three instances will have their respective <em>name</em> assigned via a reflective invocation of the <em>setName</em> method. Note that in this example the <em>Person</em> type for Father is given explicitly, while for Son it is inferred from the assigned feature <em>child</em>.</p>

<p><em>Hint: Whenever you are in an *.mwe2 file and wonder what kind of configuration the underlying component may accept: Just use content assist (ctrl + space) in the MWE2 Editor or navigate directly to the declaration of the underlying Java implementation by means of F3 (Go To Declaration).</em></p>

<p>Another frequently used feature of MWE2 is <em>variables</em>, which can be declared with <code>var</code> as shown below. Such a variable can be reset from outside when calling the module, e.g. allowing to use different settings when calling it from a Maven build. You can refer the variables inside strings using the <code>${variable-name}</code> notation.</p>

<pre><code class="language-mwe2">module com.mycompany.CreatePersons

var surname = "Johnson"

Person {
  name = "John ${surname}"
  child = {
    name = "Jim ${surname}"
  }
  child = {
    name = "Jane ${surname}"
  }
}
</code></pre>

<p>Although arbitrary Java classes can be used, the standard root element for MWE2 files is <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/Workflow.java">Workflow</a>, which is part of the very slim runtime model shipped with MWE2. It accepts <em>beans</em> and <em>components</em>.</p>

<ul>
  <li>
    <p>The method Workflow.addBean(Object) provides a means to apply global side-effects, which unfortunately is required sometimes. For instance, <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe.utils/src/org/eclipse/emf/mwe/utils/StandaloneSetup.java">StandaloneSetup</a> can be used to initialize global EMF metadata such as the <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">Epackage.Registry</a>.</p>
  </li>
  <li>
    <p>The method Workflow.addComponent(..) accepts instances of <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe2.runtime/src/org/eclipse/emf/mwe2/runtime/workflow/IWorkflowComponent.java">IWorkflowComponent</a>, which is the primary concept of the workflow model of MWE2. The language generator component itself is an instance of IWorkflowComponent and can therefore be used within MWE2 workflows.</p>
  </li>
</ul>

<p>We will now have a look at the component model used to configure the Xtext language generator.</p>

<h2 id="generator">The Language Generator</h2>

<p>Xtext provides a lot of generic implementations for the infrastructure of your language, but also uses code generation to create specialized components. Such generated components are for instance the parser, the serializer, the inferred Ecore model (if any) and a couple of convenient base classes for further configuration. The generator also contributes to shared project resources such as the <em>plugin.xml</em>, <em>MANIFEST.MF</em> and the <a href="#guicemodules">Guice modules</a>.</p>

<p>This documentation is about the new generator infrastructure introduced with Xtext 2.9. In order to migrate an older Xtext project to this new infrastructure, the recommended approach is to create a new Xtext project and copy the grammar and existing configuration from the old project to the new one step by step.</p>

<p>The entry point for Xtext code generation is <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/XtextGenerator.xtend">XtextGenerator</a>, which is composed of a <em>general configuration</em> and a set of <em>language configurations</em>. The general configuration describes the structure of your project as well as general settings for generating code. Each language configuration corresponds to a specific grammar file and allows to configure the generated code for the respective language. The actual code generation is performed by <em>generator fragments</em> contained in a language configuration.</p>

<p>In the following we see an exemplary language generator configuration written in MWE2:</p>

<pre><code class="language-mwe2">module org.example.domainmodel.GenerateDomainmodel

import org.eclipse.xtext.xtext.generator.*
import org.eclipse.xtext.xtext.generator.model.project.*

var rootPath = ".."

Workflow {
    component = XtextGenerator {
        configuration = {
            project = StandardProjectConfig {
                baseName = "org.example.domainmodel"
                rootPath = rootPath
                eclipsePlugin = {
                    enabled = true
                }
                createEclipseMetaData = true
            }
            code = {
                encoding = "UTF-8"
            }
        }
        language = StandardLanguage {
            name = "org.example.domainmodel.Domainmodel"
            fileExtensions = "dmodel"

            serializer = {
                generateStub = false
            }
        }
    }
}
</code></pre>

<p>This example is similar to the workflows generated by the Xtext project wizard when you create new projects. It uses two convenience classes <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/StandardProjectConfig.xtend">StandardProjectConfig</a> and <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/StandardLanguage.xtend">StandardLanguage</a>, both of which are designed to apply default configurations that work for the majority of language projects.</p>

<h3 id="project-configuration">Project Configuration</h3>

<p>The Xtext generator needs to know the structure of your project in order to generate code into the correct paths. The base class for describing the project structure is <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/XtextProjectConfig.xtend">XtextProjectConfig</a>. It is composed of several descriptors for the individual subprojects:</p>

<ul>
  <li><code>runtime</code>  The basic language features: grammar definition, parser, serializer, scoping, validation, etc.</li>
  <li><code>runtimeTest</code>  Unit tests for <code>runtime</code></li>
  <li><code>genericIde</code>  Platform-independent IDE features such as services for content assist</li>
  <li><code>eclipsePlugin</code>  Integration plug-in for Eclipse</li>
  <li><code>eclipsePluginTest</code>  Unit tests for <code>eclipsePlugin</code></li>
  <li><code>ideaPlugin</code>  Integration plug-in for IntelliJ IDEA</li>
  <li><code>web</code>  Integration into web applications</li>
</ul>

<p>These subprojects are of type <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/SubProjectConfig.xtend">SubProjectConfig</a> and offer important parameters:</p>

<ul>
  <li><code>enabled</code>  whether the subproject is present or not</li>
  <li><code>name</code>  the name of the subproject</li>
  <li><code>root</code>  the path to the root folder of the subproject</li>
  <li><code>src</code>  the path to the folder for Java source files</li>
  <li><code>srcGen</code>  the path to the folder for generated Java source files</li>
  <li><code>manifest</code>  configuration for the MANIFEST.MF file</li>
  <li><code>pluginXml</code>  configuration for the plugin.xml file</li>
</ul>

<p>Since setting all these parameters manually would be tedious and the structure of most Xtext projects is quite similar, it is advisable to use the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/StandardProjectConfig.xtend">StandardProjectConfig</a> as shown in our example above. This specialized project configuration applies default values to all parameters, so you only have to specify those where you wish to override the defaults. For example, given the configuration</p>

<pre><code class="language-mwe2">project = StandardProjectConfig {
    baseName = "org.example.domainmodel"
    rootPath = rootPath
    eclipsePlugin = {
        enabled = true
    }
    createEclipseMetaData = true
}
</code></pre>

<p>we obtain a runtime project with the name <code>org.example.domainmodel</code>, an Eclipse integration project with the name <code>org.example.domainmodel.ui</code>, and a generic IDE project with the name <code>org.example.domainmodel.ide</code> (the generic IDE project is enabled automatically if any integration project is enabled). The source folder, MANIFEST.MF and plugin.xml paths are set to the defaults for Eclipse plug-in projects. If you dont want a separate IDE project you can merge its content into another subproject by assigning it the same name:</p>

<pre><code class="language-mwe2">project = StandardProjectConfig {
    baseName = "org.example.domainmodel"
    rootPath = rootPath
    genericIde = {
        name = "org.example.domainmodel.ui"
    }
    eclipsePlugin = {
        enabled = true
    }
    createEclipseMetaData = true
}
</code></pre>

<p>This leads to the generic IDE code being generated into the Eclipse integration plug-in.</p>

<h3 id="other-general-configuration">Other General Configuration</h3>

<p>The configuration block of our generator workflow example above contains a <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/CodeConfig.xtend">CodeConfig</a> as sibling of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/StandardProjectConfig.xtend">StandardProjectConfig</a>. As the name suggests, the parameters of CodeConfig influence the generated code:</p>

<ul>
  <li><code>encoding</code>  The character encoding</li>
  <li><code>fileHeader</code>  The file header comment to insert at the beginning of each file</li>
  <li><code>preferXtendStubs</code>  Whether to prefer Xtend over Java for stub files to be implemented manually; this option applies only to files in <code>src</code> folders, while for <code>src-gen</code> folders Java files are always generated.</li>
</ul>

<p>The container for the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/StandardProjectConfig.xtend">StandardProjectConfig</a> and <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/CodeConfig.xtend">CodeConfig</a> is of type <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/DefaultGeneratorModule.xtend">DefaultGeneratorModule</a> and is assigned to the property <code>configuration</code> of the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/XtextGenerator.xtend">XtextGenerator</a>. The DefaultGeneratorModule is actually a <a href="https://github.com/google/guice">Guice</a> module, which can be subclassed in a similar way as explained in <a href="#dependency-injection">Dependency Injection</a> for overriding default configurations. This allows to alter the configuration in places that are not accessible through MWE2. For instance, you could bind your own subclass of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/XtextGeneratorNaming.xtend">XtextGeneratorNaming</a> in order to influence the names of generated classes.</p>

<h3 id="language-configuration">Language Configuration</h3>

<p>The base class for describing a language configuration is <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/XtextGeneratorLanguage.xtend">XtextGeneratorLanguage</a>, whose most important parameters are</p>

<ul>
  <li><code>name</code>  The name of the language exactly as specified in the first line of your grammar definition</li>
  <li><code>grammarUri</code>  A <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.common/src/org/eclipse/emf/common/util/URI.java">URI</a> pointing to the grammar definition file; if omitted, the grammar file is assumed to be in the Java source folder of the runtime project and to be named according to the language name.</li>
  <li><code>fileExtensions</code>  A comma-separated list of file extensions for the language</li>
  <li><code>referencedResources</code>  Additional resources to load (see <a href="#importing-metamodels">Importing Existing Metamodels</a>)</li>
</ul>

<p>The actual code generation is performed by <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/IXtextGeneratorFragment.xtend">generator fragments</a>, which can be added to a language configuration using the <code>fragment</code> property. The Xtext project wizard creates a workflow that employs the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/StandardLanguage.xtend">StandardLanguage</a>, which specializes XtextGeneratorLanguage in a similar way as StandardProjectConfig specializes XtextProjectConfig (see <a href="#project-configuration">Project Configuration</a>). The main contribution of StandardLanguage is a default list of generator fragments that includes all features of Xtext. These fragments automatically adapt their generated code to your language and project configuration. Some fragments offer their own configuration parameters, hence each fragment can be accessed via a dedicated property in StandardLanguage. For instance, in the language configuration</p>

<pre><code class="language-mwe2">language = StandardLanguage {
    name = "org.example.domainmodel.Domainmodel"
    fileExtensions = "dmodel"

    serializer = {
        generateStub = false
    }
}
</code></pre>
<p>we see the <code>generateStub</code> parameter disabled for the <code>serializer</code> fragment, which means that the fragment should not create any stub file for customizing serialization.</p>

<p>It is not possible to remove fragments from the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/StandardLanguage.xtend">StandardLanguage</a>. If you need a language configuration where one or more of the default fragments are omitted, you can do so by using <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/XtextGeneratorLanguage.xtend">XtextGeneratorLanguage</a> instead and listing the required fragments explicitly. You can take the following configuration as a template:</p>

<pre><code class="language-mwe2">language = XtextGeneratorLanguage {
    name = "org.example.domainmodel.Domainmodel"
    fileExtensions = "dmodel"
    referencedResource = "platform:/resource/org.eclipse.xtext.xbase/model/Xbase.genmodel"

    fragment = grammarAccess.GrammarAccessFragment2 {}
    fragment = ecore.EMFGeneratorFragment2 {}
    fragment = serializer.SerializerFragment2 {}
    fragment = resourceFactory.ResourceFactoryFragment2 {}
    fragment = parser.antlr.XtextAntlrGeneratorFragment2 {}
    fragment = validation.ValidatorFragment2 {}
    fragment = scoping.ImportNamespacesScopingFragment2 {}
    fragment = exporting.QualifiedNamesFragment2 {}
    fragment = builder.BuilderIntegrationFragment2 {}
    fragment = generator.GeneratorFragment2 {}
    fragment = formatting.Formatter2Fragment2 {}
    fragment = ui.labeling.LabelProviderFragment2 {}
    fragment = ui.outline.QuickOutlineFragment2 {}
    fragment = ui.outline.OutlineTreeProviderFragment2 {}
    fragment = ui.quickfix.QuickfixProviderFragment2 {}
    fragment = ui.contentAssist.ContentAssistFragment2 {}
    fragment = junit.Junit4Fragment2 {}
    fragment = ui.refactoring.RefactorElementNameFragment2 {}
    fragment = types.TypesGeneratorFragment2 {}
    fragment = xbase.XtypeGeneratorFragment2 {}
    fragment = xbase.XbaseGeneratorFragment2 {}
    fragment = ui.templates.CodetemplatesGeneratorFragment2 {}
    fragment = ui.compare.CompareFragment2 {}
    fragment = idea.parser.antlr.XtextAntlrIDEAGeneratorFragment {}
    fragment = idea.IdeaPluginGenerator {}
    fragment = web.WebIntegrationFragment {
        framework = "Ace"
    }
    fragment = ui.projectWizard.TemplateProjectWizardFragment {}
    fragment = ui.fileWizard.TemplateFileWizardFragment {}
}
</code></pre>

<h3 id="importing-metamodels">Importing Existing Metamodels</h3>

<p>As explained in the <a href="301_grammarlanguage.html#epackage-import">grammar language reference</a> it is possible to import existing metamodels into your language definition.</p>

<p>You can use namespace URIs in your grammar file in order to import existing EPackages. This is generally preferable, and other URI schemes are considered deprecated. With a namespace URI the package will be read from the Xtext index and therefore your grammar is independent from the concrete location of the respective ecore file. You have to make sure though that the ecore file is contained in a project that is managed by Xtext. Therefore the project has to have the Xtext project nature attached. Ecore files that reside in referenced Java archives (JARs) are automatically picked up and indexed if the referencing project itself is an Xtext project.</p>

<p>In order to be able to find the referenced package in the language generator, its Ecore generator model has to be mentioned in the language configuration:</p>

<pre><code class="language-mwe2">language = StandardLanguage {
    name = "org.example.domainmodel.Domainmodel"
    fileExtensions = "dmodel"
    referencedResource =
        "platform:/resource/org.example.domainmodel/model/Domainmodel.genmodel"
}
</code></pre>

<p>If you are importing more than one metamodel, you can add more <code>referencedResource</code> declarations as required.</p>

<p>In some occasions this simple way of referencing metamodels is not sufficient; you can then use the <a href="https://github.com/eclipse/mwe/blob/v2.7.1/plugins/org.eclipse.emf.mwe.utils/src/org/eclipse/emf/mwe/utils/StandaloneSetup.java">StandaloneSetup</a> as a Workflow bean for fine-tuning your EMF setup. Example:</p>

<pre><code class="language-mwe2">bean = StandaloneSetup {
    platformUri = "${rootPath}"
    scanClassPath = true
    registerGeneratedEPackage = "my.project.DomainmodelPackage"
    registerGenModelFile = "platform:/resource/my.project/model/Domainmodel.genmodel"
}
</code></pre>

<hr />

<h2 id="dependency-injection">Dependency Injection</h2>

<p>All Xtext components are assembled by means of dependency injection (DI). This means basically that whenever some code is in need for functionality (or state) from another component, one just declares the dependency rather than stating how to resolve it, i.e. obtaining that component.</p>

<p>For instance when some code wants to use a scope provider, it just declares a field (or method or constructor) and adds the <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Inject.html">Inject</a> annotation:</p>

<pre><code class="language-java">public class MyLanguageLinker extends Linker {

    @Inject
    private IScopeProvider scopeProvider;

}
</code></pre>

<p>It is not the duty of the client code to care about where the <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> implementation comes from or how it is created. When the above class is instantiated, Guice sees that it requires an instance of IScopeProvider and assigns it to the specified field or method parameter. This of course only works if the object itself is created by Guice. In Xtext almost every instance is created that way and therefore the whole dependency net is controlled and configured by the means of Guice.</p>

<p>Guice of course needs to know how to instantiate real objects for declared dependencies. This is done in so-called <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Module.html">Modules</a>. A <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Module.html">Module</a> defines a set of mappings from types to either existing instances, instance providers or concrete classes. Modules are implemented in Java. Heres an example:</p>

<pre><code class="language-java">public class MyDslRuntimeModule implements Module {
  
    @Override
    public void configure(Binder binder) {
        binder
            .bind(IScopeProvider.class)
            .to(MyConcreteScopeProvider.class);
    }
}
</code></pre>

<p>With plain Guice modules one implements a method called configure and gets a <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Binder.html">Binder</a> passed in. That binder provides a fluent API to define the mentioned mappings.</p>

<h3 id="guicemodules">The Module API</h3>

<p>After running the Xtext generator you get several different modules for your language: one for the base project and one for each platform integration project. For instance, for a language named <em>Domainmodel</em> we would have a <em>DomainmodelRuntimeModule</em>, a <em>DomainmodelUiModule</em> (for the Eclipse integration), a <em>DomainmodelIdeaModule</em> (for the IntelliJ IDEA integration), and a <em>DomainmodelWebModule</em>. The bindings from the runtime module are shared by all integration projects.</p>

<p>Xtext comes with a slightly enhanced module API. The abstract base class <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/service/AbstractGenericModule.java">AbstractGenericModule</a> looks reflectively for certain methods in order to find declared bindings. The most common kind of method is</p>

<pre><code class="language-java">public Class&lt;? extends IScopeProvider&gt; bindIScopeProvider() {
    return MyConcreteScopeProvider.class;
}
</code></pre>

<p>which would do the same as the code snippet above. It simply declares a binding from <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> to <em>MyConcreteScopeProvider</em>. That binding will make Guice instantiate and inject a new instance of <em>MyConcreteScopeProvider</em> whenever a dependency to <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> is declared.</p>

<p>Having one method per binding allows to deactivate individual bindings by overriding the corresponding methods and either change the binding by returning a different target type or removing that binding completely by returning null.</p>

<p>There are two additional kinds of binding-methods supported. The first one allows to configure a <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Provider.html">Provider</a>, which is like a factory for one specific type. This one can be used if you need a hook whenever an instance of a certain type is created. For instance if you want to provide lazy access to a singleton or you need to do some computation each time an instance is created (i.e. factory). If you want to point to a provider rather than to a concrete class you can use the following binding method.</p>

<pre><code class="language-java">public Class&lt;? extends Provider&lt;IScopeProvider&gt;&gt; provideIScopeProvider() {
    return MyConcreteScopeProviderFactory.class;
}
</code></pre>

<p>Note: Please forgive us the overuse of the term <em>provider</em>. The <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> is not a Guice <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Provider.html">Provider</a>.</p>

<p>That binding tells Guice to instantiate <em>MyConcreteScopeProviderFactory</em> and invoke get() in order to obtain an instance of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/scoping/IScopeProvider.java">IScopeProvider</a> for clients having declared a dependency to that type. Both mentioned binding methods are allowed to return an instance instead of a type. This may be useful if some global state should be shared in the application. For a simple instance this would be</p>

<pre><code class="language-java">public IScopeProvider bindIScopeProvider() {
    return new MyConcreteScopeProvider();
}
</code></pre>

<p>and for a provider binding</p>

<pre><code class="language-java">public Provider&lt;IScopeProvider&gt; provideIScopeProvider() {
    return new MyConcreteScopeProviderFactory();
}
</code></pre>

<p>The third binding method provided by Xtext allows to do anything you can do with the binding API of Guice, since it allows you to use the <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Binder.html">Binder</a> directly. The name of the method has to start with the configure, the return type must be <code>void</code>, and it must accept one argument of type <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Binder.html">Binder</a>:</p>

<pre><code class="language-java">public void configureIScopeProvider(Binder binder) {
    binder.bind(IScopeProvider.class).to(MyConcreteScopeProvider.class);
} 
</code></pre>

<p>These are the basic ideas around Guice and the small extension Xtext provides on top. For more information we strongly encourage you to read through the documentation on <a href="https://github.com/google/guice">the website of Google Guice</a>.</p>

<h3 id="obtaining-an-injector">Obtaining an Injector</h3>

<p>In every application wired up with Guice there is usually one point where you initialize an <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Injector.html">Injector</a> using the modules declared. Usually this is done with the static methods of <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Guice.html">Guice</a>. In Xtext, however, you should never instantiate the injector of your language yourself.</p>

<p>Xtext may be used in different environments which introduce different constraints. Especially important is the difference between OSGi managed containers and plain vanilla Java programs. To honor these differences Xtext uses the concept of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">ISetup</a> implementations in normal mode and uses the extension mechanism of Eclipse when it should be configured in an OSGi environment.</p>

<h4 id="runtime-setup">Runtime Setup</h4>

<p>For each language there is an implementation of <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">ISetup</a> generated. It implements a method called <code>createInjectorAndDoEMFRegistration()</code>, which can be called to do the initialization of the language infrastructure.</p>

<pre><code class="language-java">public static void main(String[] args) {
    Injector injector = new MyDslStandaloneSetup().createInjectorAndDoEMFRegistration();
    MyApplication application = injector.getInstance(MyApplication.class);
    application.run();
}
</code></pre>

<p>The setup method returns an <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Injector.html">Injector</a>, which can further be used to obtain a parser, etc. It also registers the <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/resource/Resource.java">Resource.Factory</a> and generated <a href="https://github.com/eclipse/emf/blob/R2_9_0/plugins/org.eclipse.emf.ecore/src/org/eclipse/emf/ecore/EPackage.java">EPackages</a> to the respective global registries provided by EMF. So basically after having run the setup you can start using EMF API to load and store models of your language.</p>

<p><strong>Caveat:</strong> The <a href="https://github.com/eclipse/xtext-core/blob/master/org.eclipse.xtext/src/org/eclipse/xtext/ISetup.java">ISetup</a> class is intended to be used for runtime and for unit testing, only. If you use it in an Equinox scenario, you will very likely break the running application because entries to the global registries will be overwritten.</p>

<h4 id="equinox-setup">Setup within Eclipse-Equinox (OSGi)</h4>

<p>Within Eclipse we have a generated <em>Activator</em>, which creates a Guice <a href="https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Injector.html">Injector</a> using the <a href="#guicemodules">modules</a>. In addition an <a href="http://help.eclipse.org/luna/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IExecutableExtensionFactory.html">IExecutableExtensionFactory</a> is generated for each language, which is used to create <a href="http://help.eclipse.org/luna/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/core/runtime/IExecutableExtension.html">IExecutableExtensions</a>. This means that everything which is created via extension points is managed by Guice as well, i.e. you can declare dependencies and get them injected upon creation.</p>

<p>The only thing you have to do in order to use this factory is to prefix the class with the generated <em>ExecutableExtensionFactory</em> name followed by a colon.</p>

<pre><code class="language-xml">&lt;extension point="org.eclipse.ui.editors"&gt;
  &lt;editor
    class=
      "example.MyDslExecutableExtensionFactory:org.eclipse.xtext.ui.editor.XtextEditor"
    contributorClass=
      "org.eclipse.ui.editors.text.TextEditorActionContributor"
    default="true"
    extensions="mydsl"
    id="org.eclipse.xtext.example.MyDsl"
    name="MyDsl Editor"&gt;
  &lt;/editor&gt;
&lt;/extension&gt;
</code></pre>

<hr />

<h2 id="logging">Logging</h2>

<p>Xtext uses <a href="http://logging.apache.org/log4j/">Apache Log4j</a> for logging. It is configured using files named <em>log4j.properties</em>, which are looked up in the root of the Java class path. If you want to change or provide configuration at runtime (i.e. non-OSGi), all you have to do is putting such a <em>log4j.properties</em> in place and make sure that it is not overridden by other <em>log4j.properties</em> in previous class path entries.</p>

<p>In OSGi you provide configuration by creating a fragment for <em>org.apache.log4j</em>. In this case you need to make sure that there is not any second fragment contributing a <em>log4j.properties</em> file.</p>

<hr />

<p><strong><a href="303_runtime_concepts.html">Next Chapter: Language Implementation</a></strong></p>


</body>
</html>
<html id='2876.org_eclipse_ui_editorActions.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Editor Menus, Toolbars and Actions</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Editor Menus, Toolbars and Actions</H1>
<div style="border: 1px solid #990000; padding: 5px; text-align: center; color: red;">This extension point is deprecated</div>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.ui.editorActions<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6><p>
<b>WARNING: This extension point is DEPRECATED.</b><br>
Do not use this extension point, it will be removed in future versions of this product.
Instead, use the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a>
</p>
This extension point is used to add actions to the menu 
and toolbar for editors registered by other plug-ins.
<p>
You can now use <a href="org_eclipse_ui_menus.html">org.eclipse.ui.menus</a> to place commands in menus and toolbars as well.
</p>
<p>
The initial contribution set for an editor is defined 
by another extension point (org.eclipse.ui.editors). 
One set of actions is created and shared by all 
instances of the same editor type.  When invoked, 
these action act upon the active editor.  This 
extension point follows the same pattern.  Each 
action extension is created and shared by all 
instances of the same editor type.  The action 
class is required to implement 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>.  
The active editor is passed to the delegate by invoking 
<samp>IEditorActionDelegate.setActiveEditor</samp>.<p>
</p>
<p>
An action's enablement and/or visibility can be defined using the elements <samp>enablement</samp> and <samp>visibility</samp> respectively, if the extension point supports it. These two elements contain a boolean expression that is evaluated to determine the enablement and/or visibility.
<p>
The syntax is the same for the <samp>enablement</samp> and <samp>visibility</samp> elements. Both contain only one boolean expression sub-element. In the simplest case, this will be an <samp>objectClass</samp>, <samp>objectState</samp>, <samp>pluginState</samp>, or <samp>systemProperty</samp> element. In the more complex case, the <samp>and</samp>, <samp>or</samp>, and <samp>not</samp> elements can be combined to form a boolean expression. Both the <samp>and</samp>, and <samp>or</samp> elements must contain 2 sub-elements. The <samp>not</samp> element must contain only 1 sub-element.
</p></p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.editorContribution">editorContribution</a>+)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>editorContribution</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.editorContribution">editorContribution</a> (<a href="#e.menu">menu</a>* , <a href="#e.action">action</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST editorContribution</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">targetID&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define a group of editor actions and/or menus.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used to reference this contribution.</li>
<li><b>targetID</b> - a unique identifier of a registered editor that is the target of this contribution.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>action</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.action">action</a> ((<a href="#e.selection">selection</a>* | <a href="#e.enablement">enablement</a>?) , <a href="#e.class">class</a>?)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST action</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">accelerator&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">menubarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">toolbarPath&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">disabledIcon&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">hoverIcon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">tooltip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(push|radio|toggle) "push"</p>
<p class="code SchemaDtdAttlist">state&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) </p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">enablesFor&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">actionID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FORCE_TEXT) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element defines an action that the user can invoke in the UI.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier used as a reference for this action.</li>
<li><b>label</b> - a translatable name used either as the menu item text or toolbar button label.  The name can include mnenomic information. This label should either be non-empty or a definitionId should be provided.</li>
<li><i style="color: red;">Deprecated</i> <b>accelerator</b> - <b><font color="#FF0000">Deprecated:</font></b> Use the <samp>definitionId</samp> attribute instead.</li>
<li><b>definitionId</b> - Specifies the command that this action will handle. By specifying and action, the key binding service can assign a key sequence to this action. See the extension point <a href="org_eclipse_ui_commands.html">org.eclipse.ui.commands</a> for more information.</li>
<li><b>menubarPath</b> - a slash-delimited path ('/') used to specify the location of this action in the menu bar.
Each token in the path, except the last one, must represent a valid identifier of an existing menu in the hierarchy. The last token represents the named group into which this action will be added. If the path is omitted, this action will not appear in the menu bar.</li>
<li><b>toolbarPath</b> - a slash-delimited path ('/') that is used to specify the location of this action in the toolbar. The first token represents the toolbar identifier (with "Normal" being the default toolbar), while the second token is the named group within the toolbar that this action will be added to. If the group does not exist in the toolbar, it will be created.
If toolbarPath is omitted, the action will not appear in the toolbar.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the action in its context.
If omitted and the action appears in the toolbar, the Workbench will use a placeholder icon. The path is relative to the location of the plugin.xml file of the contributing plug-in. The icon will appear in toolbars but not in menus. Enabled actions will be represented in menus by the hoverIcon.</li>
<li><b>disabledIcon</b> - a relative path of an icon used to visually represent the action in its context when the action is disabled. If omitted, the normal icon will simply appear greyed out. The path is relative to the location of the plugin.xml file of the contributing plug-in. The disabled icon will appear in toolbars but not in menus. Icons for disabled actions in menus will be supplied by the OS.</li>
<li><b>hoverIcon</b> - a relative path of an icon used to visually represent the action in its context when the mouse pointer is over the action. If omitted, the normal icon will be used. The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
<li><b>tooltip</b> - a translatable text representing the action's tool tip. Only used if the action appears in the toolbar.</li>
<li><b>helpContextId</b> - a unique identifier indicating the help context for this action. If the action appears as a menu item, then pressing F1 while the menu item is highlighted will display help.</li>
<li><b>style</b> - an optional attribute to define the user interface style type for the action. If defined, the attribute value will be one of the following:
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>push</b></td>
        <td valign="top">- as a regular menu item or tool item.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>radio</b></td>
        <td valign="top">- as a radio style menu item or tool item. Actions with the radio style within the same menu or toolbar group behave as a radio set. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>toggle</b></td>
        <td valign="top">- as a checked style menu item or as a toggle tool item. The initial value is specified by the <samp>state</samp> attribute.</td>
      </tr>
    </table></li>
<li><b>state</b> - an optional attribute indicating the initial state (either <samp>true</samp> or <samp>false</samp>), used when the <samp>style</samp> attribute has the value <samp>radio</samp> or <samp>toggle</samp>.</li>
<li><b>class</b> - the name of the fully qualified class that implements <samp>org.eclipse.ui.IEditorActionDelegate</samp></li>
<li><b>enablesFor</b> - a value indicating the selection count which must be met to enable the action.
If this attribute is specified and the condition is met, the action is enabled.
If the condition is not met, the action is disabled.
If no attribute is specified, the action is enabled for any number of items selected.
The following attribute formats are supported: 
    <table border="0" width="80%">
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>!</b></td>
        <td valign="top">- 0 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>?</b></td>
        <td valign="top">- 0 or 1 items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>+</b></td>
        <td valign="top">- 1 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>multiple, 2+</b></td>
        <td valign="top">- 2 or more items selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>n</b></td>
        <td valign="top">- a precise number of items selected.a precise number of items selected.&nbsp;
          For example: enablesFor=&quot; 4&quot; enables the action only when 4
          items are selected</td>
      </tr>
      <tr>
 <td valign="top" width="25"></td>
        <td valign="top" nowrap><b>*</b></td>
        <td valign="top">- any number of items selected</td>
      </tr>
    </table></li>
<li><b>actionID</b> - Internal tag for use by the text editors. Should not be used by plug-in developers.  The following IDs have special meaning for the text editor framework:
<ul>
<li>"RulerClick": the contributed action which is invoked upon single-click in the (left) vertical ruler</li>
<li>"RulerDoubleClick": the contributed action which is invoked upon single-click in the (left) vertical ruler</li>
These special IDs can be prefixed with modifires to support contributions by multiple actions using modifiers e.g. M1+M3+RulerClick. This action will different than M1+M2+RulerClick or RulerClick and action will be triggered accordingly.
</ul>
<p>
If multiple extensions contribute ruler actions to the same text editor, the extension whose plug-in is at the top of the prerequisite tree wins. If there are multiple such plug-ins, the first wins.
</p></li>
<li><b>mode</b> - For actions appearing in a toolbar, <code>FORCE_TEXT</code> will show text even if there is an icon.  See ActionContribuitonItem.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>parameter</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST parameter</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A parameter element to be used within an IExecutableExtension element.  This will be passed as initialization data to the instantiated class.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the parameter name</li>
<li><b>value</b> - the parameter value</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>class</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.class">class</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST class</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The element version of the <code>class</code> attribute.  This is used when the class implements <code>org.eclipse.core.runtime.IExecutableExtension</code> and there is parameterized data that you wish used in its initialization.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - A class that implements <code>org.eclipse.ui.IEditorActionDelegate</code>.  It may also implement <code>org.eclipse.core.runtime.IExecutableExtension</code>.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.menu">menu</a> (<a href="#e.separator">separator</a>* , <a href="#e.groupMarker">groupMarker</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST menu</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">path&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to defined a new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - a unique identifier that can be used to reference this menu.</li>
<li><b>label</b> - a translatable name used by the Workbench for this new menu. The name should include mnemonic information.</li>
<li><b>path</b> - the location of the new menu starting from the root of the menu. Each token in the path must refer to an existing menu, except the last token which should represent a named group in the last menu in the path. If omitted, the new menu will be added to the <samp>additions</samp> named group of the menu.</li>
<li><b>icon</b> - a relative path of an icon used to visually represent the menu in its context.
The path is relative to the location of the plugin.xml file of the contributing plug-in.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.separator">separator</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST separator</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a menu separator in the new menu.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the menu separator. This name can later be referenced as the last token in a menu path. Therefore, a separator also serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.groupMarker">groupMarker</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST groupMarker</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to create a named group in the new menu. It has no visual representation in the new menu, unlike the <samp>separator</samp> element.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the group marker. This name can later be referenced as the last token in the menu path. It serves as named group into which actions and menus can be added.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.selection">selection</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST selection</p>
<p class="code SchemaDtdAttlist">class&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to help determine the action enablement based on the current selection. Ignored if the <samp>enablement</samp> element is specified.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>class</b> - a fully qualified name of the class or interface that each object in the selection must implement in order to enable the action.</li>
<li><b>name</b> - an optional wild card filter for the name that can be applied to all objects in the selection. If specified and the match fails, the action will be disabled.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the enablement for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.visibility">visibility</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to define the visibility for the extension.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean AND operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean OR operation on the result of evaluating its two sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.not">not</a> | <a href="#e.objectClass">objectClass</a> | <a href="#e.objectState">objectState</a> | <a href="#e.pluginState">pluginState</a> | <a href="#e.systemProperty">systemProperty</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent a boolean NOT operation on the result of evaluating its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectClass">objectClass</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectClass</p>
<p class="code SchemaDtdAttlist">name&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the class or interface of each object in the current selection. If each object in the selection implements the specified class or interface, the expression is evaluated as true.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - a fully qualified name of a class or interface.  The expression is evaluated as true only if all objects within the selection implement this class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.objectState">objectState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST objectState</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the attribute state of each object in the current selection. If each object in the selection has the specified attribute state, the expression is evaluated as true. To evaluate this type of expression, each object in the selection must implement, or adapt to, <samp>org.eclipse.ui.IActionFilter</samp> interface.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of an object's attribute. Acceptable names reflect the object type, and should be publicly declared by the plug-in where the object type is declared.

@see IResourceActionFilter for a list of the supported constants</li>
<li><b>value</b> - the required value of the object's attribute. The acceptable values for the object's attribute should be publicly declared.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.pluginState">pluginState</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST pluginState</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;(installed|activated) "installed"&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of a plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the identifier of a plug-in which may or may not exist in the plug-in registry.</li>
<li><b>value</b> - the required state of the plug-in. The state of the plug-in may be one of the following: <samp>installed</samp> (equivalent to the OSGi concept of "resolved") or <samp>activated</samp> (equivalent to the OSGi concept of "active").</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemProperty">systemProperty</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemProperty</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the state of some system property.  The property value is retrieved from the <samp>java.lang.System</samp>.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>name</b> - the name of the system property.</li>
<li><b>value</b> - the required value of the system property.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of an editor action extension: 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.editorActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;editorContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyzContribution&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;com.ibm.XMLEditor&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu
            id=</span><span class="code SchemaCstring">&quot;XYZ&quot;</span><span class="code SchemaTag">
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;XYZ Menu&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;XYZ/group1&quot;</span><span class="code SchemaTag"> 
            toolbarPath=</span><span class="code SchemaCstring">&quot;Normal/additions&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;toggle&quot;</span><span class="code SchemaTag">
            state=</span><span class="code SchemaCstring">&quot;true&quot;</span><span class="code SchemaTag"> 
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ.png&quot;</span><span class="code SchemaTag">
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ&quot;</span><span class="code SchemaTag">&gt; 
            &lt;selection class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag"> name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a check box item in the new top-level menu named "XYZ Menu", and as a toggle button in the toolbar. The action is enabled if the selection contains only Java file resources.
<p>
The following is an other example of an editor action extension: 
<p>
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.editorActions&quot;</span><span class="code SchemaTag">&gt; 
      &lt;editorContribution 
         id=</span><span class="code SchemaCstring">&quot;com.xyz.xyz2Contribution&quot;</span><span class="code SchemaTag"> 
         targetID=</span><span class="code SchemaCstring">&quot;com.ibm.XMLEditor&quot;</span><span class="code SchemaTag">&gt; 
         &lt;menu 
            id=</span><span class="code SchemaCstring">&quot;XYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;XYZ2 Menu&quot;</span><span class="code SchemaTag"> 
            path=</span><span class="code SchemaCstring">&quot;edit/additions&quot;</span><span class="code SchemaTag">&gt; 
            &lt;separator name=</span><span class="code SchemaCstring">&quot;group1&quot;</span><span class="code SchemaTag">/&gt; 
         &lt;/menu&gt; 
         &lt;action 
            id=</span><span class="code SchemaCstring">&quot;com.xyz.runXYZ2&quot;</span><span class="code SchemaTag"> 
            label=</span><span class="code SchemaCstring">&quot;&amp;amp;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            menubarPath=</span><span class="code SchemaCstring">&quot;edit/XYZ2/group1&quot;</span><span class="code SchemaTag">
            style=</span><span class="code SchemaCstring">&quot;push&quot;</span><span class="code SchemaTag">
            icon=</span><span class="code SchemaCstring">&quot;icons/runXYZ2.png&quot;</span><span class="code SchemaTag">
            tooltip=</span><span class="code SchemaCstring">&quot;Run XYZ2 Tool&quot;</span><span class="code SchemaTag"> 
            helpContextId=</span><span class="code SchemaCstring">&quot;com.xyz.run_action_context2&quot;</span><span class="code SchemaTag"> 
            class=</span><span class="code SchemaCstring">&quot;com.xyz.actions.RunXYZ2&quot;</span><span class="code SchemaTag">&gt; 
            &lt;enablement&gt;
               &lt;and&gt;
                  &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;not&gt;
                     &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
                  &lt;/not&gt;
               &lt;/and&gt;
            &lt;/enablement&gt;
         &lt;/action&gt; 
      &lt;/editorContribution&gt; 
   &lt;/extension&gt; 
</span></pre>
</p>
<p>
In the example above, the specified action will appear as a menu item in the sub-menu named "XYZ2 Menu" in the top level "Edit" menu. The action is enabled if the selection contains no Java file resources.
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6>The value of the class attribute must be a fully qualified
name of a Java class that implements 
<samp>org.eclipse.ui.IEditorActionDelegate</samp>. 
This class is loaded as late as possible to 
avoid loading the entire plug-in before it is really 
needed. The method <samp>setActiveEditor</samp> will be 
called each time an editor of the specified type is 
activated. Only one set of actions and menus will be 
created for all instances of the specified editor 
type, regardless of the number of editor instances 
currently opened in the Workbench. 
<p>
This extension point can be used to contribute actions 
into menus previously created by the target editor. 
In addition, menus and actions can be contributed to 
the Workbench window.  The identifiers for actions and 
major groups within the Workbench window are defined in 
<samp>org.eclipse.ui.IWorkbenchActionConstants</samp>.  
These should be used as a reference point for 
the addition of new actions.  Top level menus are 
created by using the following values for the 
path attribute: 
<ul>
<li>
additions - represents a named group immediately to the left of the <samp>Window</samp> menu. 
</li>
</ul>
Omitting the path attribute will result in adding the new menu into the additions menu bar group.
<p>
Actions and menus added into these paths will only 
be shown while the associated editor is active. When 
the editor is closed, menus and actions will be removed.
<p>
The enablement criteria for an action extension is initially defined by <samp>enablesFor</samp>, and also either <samp>selection</samp> or <samp>enablement</samp>. However, once the action delegate has been instantiated, it may control the action enable state directly within its <samp>selectionChanged</samp> method.
<p>
Action and menu labels may contain special characters that encode mnemonics using the following rules:
<ol>
<li>
Mnemonics are specified using the ampersand ('&amp;') character in front
of a selected character in the translated text. Since ampersand is not
allowed in XML strings, use <samp>&amp;amp;</samp> character entity.</li>
</ol>
If two or more actions are contributed to a menu or toolbar by a single
extension the actions will appear in the reverse order of how they are
listed in the plugin.xml file. This behavior is admittedly unintuitive. 
However, it was discovered after the Eclipse Platform API was frozen. 
Changing the behavior now would break every plug-in which relies upon the
existing behavior.
<p>
The <samp>selection</samp> and <samp>enablement</samp> elements are mutually exclusive. The <samp>enablement</samp> element can replace the <samp>selection</samp> element using the sub-elements <samp>objectClass</samp> and <samp>objectState</samp>. For example, the following:
<pre class="Example"><span class="code SchemaTag">
 &lt;selection
  class=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">
  name=</span><span class="code SchemaCstring">&quot;*.java&quot;</span><span class="code SchemaTag">&gt;
 &lt;/selection&gt;
</span></pre>
can be expressed using:
<pre class="Example"><span class="code SchemaTag">
 &lt;enablement&gt;
  &lt;and&gt;
   &lt;objectClass name=</span><span class="code SchemaCstring">&quot;org.eclipse.core.resources.IFile&quot;</span><span class="code SchemaTag">/&gt;
   &lt;objectState name=</span><span class="code SchemaCstring">&quot;extension&quot;</span><span class="code SchemaTag"> value=</span><span class="code SchemaCstring">&quot;java&quot;</span><span class="code SchemaTag">/&gt;
  &lt;/and&gt;
 &lt;/enablement&gt;
</span></pre>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>The Workbench provides a built-in "Default Text Editor". Plug-ins can contribute into this default editor or editors provided by other plug-ins.
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2000, 2019 IBM Corporation and others.<br>

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0 which accompanies
this distribution, and is available at <a 
href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='3328.Specifying_Viewpoints.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Specifying_Viewpoints</title>
		<link type="text/css" rel="stylesheet" href="../../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../../resources/custom.css"/>
	</head>
	<body>
		<h1 id="SpecifyingViewpoints">Specifying Viewpoints</h1>
		<ol class="toc" style="list-style: disc;">
			<li>
				<a href="#SpecifyingViewpoints">Specifying Viewpoints</a>
				<ol style="list-style: disc;">
					<li>
						<a href="#introduction">Introduction</a>
					</li>
					<li>
						<a href="#concepts">Philosophy and Concepts</a>
					</li>
					<li>
						<a href="#vsp">Viewpoint Specification Projects</a>
					</li>
					<li>
						<a href="#vsm">Viewpoint Specification Models</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#vsm_organization">Organization</a>
							</li>
							<li>
								<a href="#common_attributes">Common attributes</a>
							</li>
							<li>
								<a href="#type_names">Type Names</a>
							</li>
							<li>
								<a href="#interpreted_expressions">Interpreted Expressions</a>
							</li>
							<li>
								<a href="#feature_name">Feature Name</a>
							</li>
							<li>
								<a href="#translatable_messages">Translatable Messages</a>
							</li>
							<li>
								<a href="#model_operations">Model Operations</a>
							</li>
							<li>
								<a href="#quick_outline">Quick Outline</a>
							</li>
							<li>
								<a href="#validation">VSM Validation</a>
							</li>
							<li>
								<a href="#dynamic">Dynamic Development</a>
							</li>
							<li>
								<a href="#migration">Migration from Previous Versions</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<p><div style="display: none">
			<br/>  TODO Add a few screenshots to make the document less dry.
			<br/></div>
		</p>
		<p>This document gives a general overview of how viewpoints are specified, tested and deployed.</p>
		<h2 id="introduction">Introduction</h2>
		<p>
			<em>Sirius</em> is a modeling tool which has been originally created in the context of complex systems modeling. The complexity of those systems makes necessary the collaboration of people with different concerns. For the same domain and on the same data, there are different levels of analysis, different roles and different concerns possible. Each of these correspond to a different 
			<em>viewpoint</em> on the same 
			<em>domain  model</em>, and Sirius (the system) gives you all the tools to specify the viewpoints which are relevant to your business domain, whatever it is.
		</p>
		<p>More pragmatically, Sirius assumes that you 
			<em>domain model</em> is defined using 
			<em>EMF</em> (Eclipse Modeling Framework), which is an industry standard with a rich eco-system. Many existing standards like UML (for software systems) or TOGAF (for Enterprise Architecture) have an implementation based on EMF. You can also easily define your own 
			<em>Domain-Specific Model</em> (sometimes called 
			<em>Domain-Specific Language</em>) to more precisely suit your specific needs and avoid unnecessary complexities. While this part (the domain specification) is not strictly in the scope of Sirius, the system provides a graphical modeler to ease the creation of your own 
			<em>DSM</em> (Domain-Specific Model).
		</p>
		<p>Given such a domain model, which defines concepts and their relations in the abstract, Sirius will allow you to easily specify 
			<em>concrete representations</em> of these models. Representations can be diagrams, tables, matrices (cross-tables) or hierarchies (trees). You can define as many of them as you need, some more detailed than others, some customized for certain tasks or roles (e.g. initial design, review, certification, etc.). These representations are not just static: provided you specify the appropriate tools (see below), they can be complete modeling environments where users can create, modify and validate their designs. Representations can be logically organized in 
			<em>viewpoints</em>, and end-users can enable or disable viewpoints at will to work on the same model through different, but logically consistent, points of view.
		</p>
		<p>The main strengths of the Sirius platform can be summarized as is:</p>
		<ul>
			<li>it is based on an open and widely used 
				<em>industry standard</em> (the Eclipse Modeling Framework);
			</li>
			<li>it can 
				<em>adapt itself</em> to any EMF-compatible DSM: it can use standards like UML if they suit your needs, but it does not force you to do so, and you can easily create your own DSM which can thus be simpler and better suited to your specific needs;
			</li>
			<li>it provides a 
				<em>strong separation</em> between the semantic models it manipulates, where your business value resides, and the representation models (which deal with, for example, the size and location of graphical shapes on a diagram). This means your domain models have no adherence to Sirius itself, and can be manipulate with any of the other tools in the EMF eco-system (e.g. Acceleo to generate source code or other textual artifacts);
			</li>
			<li>it allows you to define many 
				<em>different representations</em> on your domain models: diagrams, tables, trees, showing different levels of details and offering different edition capabilities depending on their usage;
			</li>
			<li>it is 
				<em>easy to use</em> and supports 
				<em>very fast</em> development. Once you become familiar with the tool, you will be able to get a simple diagram in a matter of minutes, a prototype suited for a client demonstration in a few hours, and a fully-functional and customized modeler in a few days of work;
			</li>
			<li>it is 
				<em>extensible</em>: by integrating in the Eclipse platform and offering open APIs, you can extend and integrate your Sirius modelers with other tools to provide a fully-customized modeling workbench to your users.
			</li>
		</ul>
		<h2 id="concepts">Philosophy and Concepts</h2>
		<p>As explained in introduction, 
			<em>Sirius</em> allows you to specify dedicated representations and associated tooling. As a 
			<em>specifier</em>, your role will be to configure the generic Sirius platform to provide these representations to your users. This is done by creating and configuring a 
			<a href="../../Glossary.html#VSM">
				<em>Viewpoint Specification Model</em>
			</a> which describes the structure, appearance and behavior of your modelers. This document does not deal with the definition of your domain model; you can use a standard one like UML, SysML, BPMN or TOGAF, or create a custom one. The only assumptions Sirius makes is that your model is based on EMF.
		</p>
		<p>The main concepts you will work with as a specifier are:</p>
		<ul>
			<li>
				<strong>Viewpoint</strong> A viewpoint is one of the core elements that a specifier defines: it is a logical set of 
				<strong>representation specifications</strong> and 
				<strong>representation extension specifications</strong>.
			</li>
			<li>
				<strong>Representation</strong> A 
				<em>representation</em> is a group of 
				<strong>graphical construction which represent domain data</strong>. A representation describes the structure, appearance and behavior of your modelers. By default, Sirius supports four kinds of representations (called 
				<em>dialects</em>): diagrams, tables, matrices (aka cross-tables), and trees. All follow the same basic principles in their definitions.
			</li>
			<li>
				<strong>Mapping</strong> A 
				<em>mapping</em> identifies a sub-set of the semantic model&#8217;s element that should appear in a representation and indicates how they should be represented. Each dialect offers different kinds of mappings. For example, diagrams provide 
				<em>container mappings</em>, which can be used to represent semantic elements with graphical containers, where other elements (specified by other mappings) can appear. A mapping exists inside the 
				<em>Viewpoint Specification Model</em>, but on a concrete representation it will produce 
				<em>instances</em>. If you specify a container mapping to represent, say, divisions in an enterprise, and the model of your enterprise contains four divisions, a concrete diagram will show four containers, each an instance of the same mapping, but associated to a different semantic element.
			</li>
			<li>
				<strong>Style</strong> Each mapping can have one or several 
				<em>styles</em> associated to it, which are used to configure the visual appearance of the elements they represent. For example, for diagram elements this would include their shape and colors.
			</li>
			<li>
				<strong>Tool</strong> Without tools, your representations would be only visualizations, with no edition capabilities. While this can be sometimes useful, most representations will allow users to create, edit and delete elements. Tools are associated to mappings to describe their behaviors. Each kind of user interaction supported by 
				<em>Sirius</em> (e.g. creation or deletion, label editing, edge reconnection...) is specified by a different kind of tool, but they all follow the same principles in their definition. 
			</li>
		</ul>
		<h2 id="vsp">Viewpoint Specification Projects</h2>
		<p>Note: When working as a Sirius specifier, it is recommended to use the 
			<em>Sirius</em> perspective, which provides some additional shortcuts and views. The 
			<em>Modeling</em> perspective is simpler and oriented towards end-users.
		</p>
		<p>Viewpoints are specified as models (see below) inside 
			<em>Viewpoint Specification Projects</em>. These 
			<a href="../../Glossary.html#VSP">
				<em>VSPs</em>
			</a> are normal Eclipse plug-in project, which happen to contain one or several 
			<code>*.odesign</code> files (the extension used for 
			<a href="../../Glossary.html#VSM">
				<em>Viewpoint Specification Models</em>
			</a> ). You can create such a project using the supplied wizard: 
			<em>New &gt; Viewpoint Specification Project</em>.
		</p>
		<p>By convention, the VSM (or VSMs) defined in your project are stored inside a 
			<code>description</code> folder. If you want to place them in a different location, make sure to add this location into the plug-in&#8217;s 
			<code>build.properties</code> so that it is included in the deployed version.
		</p>
		<p>The VSM name is given according to the project name defined when using the previous wizard. If the project name is suffixed with &#8220;design&#8221;, the VSM name is provided by the last word before this suffix. Otherwise, the VSM name is given by the last word of the project name.</p>
		<p>Other than that, the project is a normal Java plug-in project. You can add 
			<a href="Writing_Queries.html#service_methods">service classes</a> into it if the query language you use support it, and any other Java code, including Eclipse views, actions, etc. 
		</p>
		<p>Note that it is recommended to add your domain meta-model(s) plug-ins as dependencies of the project. Java services and some features of query language (like the use of type literals in AQL filter() operations) might require them. </p>
		<p>
			<strong>Important:</strong> Any VSM you place in the Eclipse workspace will be immediately available for use and testing, with no deployment. This is to facilitate dynamic and iterative development of viewpoints. However, when you 
			<strong>deploy</strong> your VSMs, they 
			<strong>must</strong> be part of a 
			<em>VSP</em>, and they 
			<strong>must</strong> be registered in the plug-in&#8217;s activator class. The activator generated by the 
			<em>VSP</em> wizard is properly configured, but if you rename your 
			<em>VSM</em> or add new ones, be sure to edit the activator class so that all your 
			<em>VSMs</em> are correctly registered inside the Sirius platform when deployed.
		</p>
		<h2 id="vsm">Viewpoint Specification Models</h2>
		<p>The core part of a 
			<em>VSP</em> is the 
			<em>Viewpoint Specification Model</em> (or models) it contains. These are stored in 
			<code>*.odesign</code> files, usually in the 
			<code>description</code> folder of the project. A 
			<em>VSM</em> specifies a set of 
			<em>Viewpoints</em> and their representations (diagrams, trees...).
		</p>
		<p>To edit a 
			<em>VSM</em>, simply double-click on it, and a tree editor will open. The editor follows the conventions of standard EMF editors: selecting an element will show its properties in the 
			<em>Properties</em> view, where you can edit them. To create new elements, simply right-click on its parent and choose from one one the 
			<em>New XXX</em> menus. To delete an element and all its sub-elements, simply select it and hit the 
			<em>Delete</em> key or right-click and choose 
			<em>Delete</em>.
		</p>
		<h3 id="vsm_organization">Organization</h3>
		<p>The top-level element of a 
			<em>VSM</em> is a 
			<em>Group</em> element. It has no specific semantics and serves only as a container for the other elements. Note however that once you define its 
			<em>Name</em>, you should never change it as it becomes part of the identification of all the elements inside the 
			<em>VSM</em>. If you change it, any concrete representations created using that 
			<em>VSM</em> will be broken.
		</p>
		<p>Inside a 
			<em>Group</em>, you can create an optional 
			<em>User Colors Palette</em>, with shared 
			<a href="Colors.html">color definitions</a>; this is useful to define a uniform color palette for all your viewpoints and representations. You can also, and more importantly, define 
			<em>Viewpoint</em> elements.
		</p>
		<p>Besides its 
			<em>Id</em> and 
			<em>Label</em> (see below), a 
			<em>Viewpoint</em> can be associated to one or more 
			<em>Model File Extensions</em>, separated by space. This can be used to restrict the availability of the viewpoint only to modeling projects which contain semantic models of the specified types. For example, to make your viewpoint available to UML and SysML models, you can specify 
			<code>uml sysml</code> (note that the syntax specifies only the file extension, 
			<code>uml</code>, not a pattern like 
			<code>*.uml</code>). You can use a star, 
			<code>*</code>, to make your viewpoint available for 
			<strong>all</strong> models, but it is normally prefered be as specific as possible so as not to interfere with unrelated models and projects.
		</p>
		<p>Inside a 
			<em>Viewpoint</em> element, you can create:
		</p>
		<ul>
			<li>
				<em>Representation Descriptions</em>, for 
				<a href="../diagrams/Diagrams.html">diagrams</a>, 
				<a href="../sequences/Sequence%20Diagrams.html">sequence diagrams</a>, 
				<a href="../tables/Tables.html">tables and cross-tables</a>, and 
				<a href="../trees/Trees.html">trees</a>.
			</li>
			<li>
				<em>Representation Extensions</em>, currently supported only for 
				<a href="../diagrams/Diagrams.html#diagram_extension">diagrams</a>.
			</li>
			<li>
				<a href="../diagrams/Diagrams.html#validation">
					<em>Validation Rules</em>
				</a>, which will apply to all representations defined inside this viewpoint.
			</li>
			<li>And finally 
				<em>Java Extensions</em>. These refer (through its fully qualified name), to a Java class defined in the 
				<em>Viewpoint Specification Project</em> which defines 
				<a href="Writing_Queries.html#service_methods">service methods</a> and make these services available inside all the representations defined in the viewpoint. If you 
				<a href="Writing_Queries.html#acceleo">use Acceleo 3 to write your expressions</a>, you can also use these elements to declare Acceleo modules in the project that define MTL queries you want to use in your expressions.
			</li>
		</ul>
		<p>To discover all elements in the 
			<em>VSM</em>, it is possible to use the button <img src="images/specifier-guide/expandall.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/>, at the top right corner of the editor to expand the 
			<em>VSM</em> tree. Obviously, it is possible to collapse this tree by using the button <img src="images/specifier-guide/collapseall.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/>, at the top right corner of the editor.
		</p>
		<h3 id="common_attributes">Common attributes</h3>
		<p>Many of the elements used to specify viewpoint share some common configuration attributes. They are described in general terms in this section, and referenced from the specific element&#8217;s sections which used them (sometimes with additional details only relevant for this element).</p>
		<p><img src="images/common_attributes.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/></p>
		<ul>
			<li>
				<em>Id</em>: The mandatory identifier of the element. This identifier is mostly visible to the specifier in the description editor. It must be unique in the context of the viewpoint it is part of. The 
				<em>Id</em> is used internally to identify the element, and must be kept stable across different versions of the VSM (or it will make representations created with the old 
				<em>Id</em> unusable).
			</li>
			<li>
				<em>Label</em>: The label of the element. It&#8217;s used to display this element to the end-user. By default, if this label is blank, the 
				<em>Id</em> is used to display this element to the end user. It can be changed with no impact on existing representation files.
			</li>
		</ul>
		<p><img src="images/documentation_attributes.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/></p>
		<ul>
			<li>
				<em>Documentation</em>: All the elements in a description file contain a 
				<strong>Documentation</strong> attribute available in the 
				<strong>Documentation</strong> category. This attribute can be used by the specifier to add comments and documentation to these elements. The content of this attribute is not visible to the end users of the viewpoints.
			</li>
			<li>
				<em>End-user documentation</em>: This attribute describes this element for the end-user. It&#8217;s available in the 
				<strong>Documentation</strong> category. This attribute can be used by the specifier to add comments and documentation to these elements bounds for the end-user.
			</li>
		</ul>
		<p><img src="images/tricks.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/> 
			<em>use the <img src="images/questionMarque.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/> icon to access the available fields tooltips.</em>
		</p>
		<h3 id="type_names">Type Names</h3>
		<p>Some 
			<em>VSM</em> elements will need you to specify one or more 
			<em>Type Names</em> to configure them, usually types from the semantic domain model being represented (for example the 
			<em>Domain Class</em> for mapping definitions). You can easily identify 
			<em>Type Name</em> fields by their green background in the 
			<em>Properties</em> sheet of an element.
		</p>
		<p>
			<img border="0" src="images/domain_class.png"/>
			<br/>The syntax for type names are the following:
		</p>
		<ul>
			<li>
				<strong>minimal syntax:</strong> it is the basic name, like 
				<code>Class</code>,
			</li>
			<li>
				<strong>AQL/OCL syntax:</strong> a qualified name using name of the EMF EPackage which defines the type with the separator 
				<code>::</code> like  
				<code>uml::Class</code>. It is the default and 
				<strong>recommended</strong> syntax, consistent with how qualified type names are written in AQL
			</li>
			<li>
				<strong>legacy qualified name like syntax:</strong> it is a qualified name using name of the EMF EPackage which defines the type, like 
				<code>uml.Class</code>.
			</li>
			<li>
				<strong>fully qualified URI</strong>: like 
				<code>http://www.eclipse.org/uml2/3.0.0/UML#//Class</code>.
			</li>
		</ul>
		<p>Auto-completion is available in these fields using the 
			<em>Ctrl+Space</em> shortcut. It is recommended to explicitly associate a meta-model (or more) to your representations definitions to allow for smarter completion. Otherwise by default it will include all types from any EMF meta-model available.
		</p>
		<h3 id="interpreted_expressions">Interpreted Expressions</h3>
		<p>Many 
			<em>VSM</em> elements require you to specify 
			<em>Interpreted Expressions</em> to configure them. These can be queries to select elements (as in mappings for example), or more general expressions to compute value (like the text to use for the elements' labels).
		</p>
		<p>You can easily identify 
			<em>Interpreted Expressions</em> by their yellow background in the 
			<em>Properties</em> sheet of an element. For all such field, you can use any of the supported languages to write the expression. Refer to the 
			<a href="Writing_Queries.html">queries documentation</a> for more details.
		</p>
		<p>
			<img border="0" src="images/interpreted_expressions.png"/>
		</p>
		<p>Also, by clicking on the button next to the text field, you can open a dialog with a bigger text area (providing auto-completion too) to type your expression more comfortably. Note that you can add line feeds or tabulations if you want, since they are removed when clicking on the &#8220;OK&#8221; button.</p>
		<p>
			<img border="0" src="images/textAreaDialog.png"/>
		</p>
		<h3 id="feature_name">Feature Name</h3>
		<p>Some 
			<em>VSM</em> elements will need you to specify a 
			<em>Feature Name</em> (or 
			<em>Reference Name</em> on 
			<em>Create Instance</em>) to configure them (Create Instance, Set, Unset, etc.). You can easily identify 
			<em>Feature Name</em> fields by their light green background in the 
			<em>Properties</em> sheet of an element.
		</p>
		<p>
			<img border="0" src="images/featureName.png"/>
		</p>
		<p>Auto-completion is available in these fields using the 
			<em>Ctrl+Space</em> shortcut except if the current element type cannot be inferred, usually in the case of a generic tool where the target element will be known only at runtime.
			<br/>Note that for 
			<em>Create Instance</em>  
			<em>Reference Name</em> field, the completion will display only features that have a type consistent with the one specified in the 
			<em>Type Name</em> field. If no type is specified, all available features will be displayed. In the same way, if a valid 
			<em>Reference Name</em> is set, the completion for the 
			<em>Type Name</em> field will display only types consistent with the feature type.
		</p>
		<h3 id="translatable_messages">Translatable Messages</h3>
		<p>Many 
			<em>VSM</em> elements provide text fields that will be displayed when end-users reference the 
			<em>VSM</em> in a modeling project (Viewpoint name, tools...). Starting from Sirius 4.0, the value shown to the end users can be localized according to the user&#8217;s language.  Fields which support this feature are called 
			<em>Translatable</em> 
			<em>Messages</em> and can be easily identified by their blue background in the 
			<em>Properties</em> sheet of an element. 
		</p>
		<p>
			<img border="0" src="images/common_attributes.png"/>
		</p>
		<p>Note that on the previous screenshot, the text in the label field is grayish because no label have been set and the ID is used instead.</p>
		<p>This feature is available for almost every 
			<em>VSM</em> elements defined in the VSMs which are visible to the end-user of the modeler, like viewpoint and tools names, can now be internationalized, but not to interpreted expressions. Note also that this feature is only available to modelers which are deployed as proper Eclipse plug-ins; it will not work for plain VSMs defined directly in the runtime workspace.
		</p>
		<p>To make use of this feature in your modeler, simply replace the names with a 
			<em>translation key</em> reference of the form 
			<code>%myUniqueKey</code>  in the VSM, and define the value in the 
			<em>Viewpoint Specification Project</em>'s 
			<code>plugin.properties</code> (for the default value), or 
			<code>plugin_XX.properties</code> for locale 
			<code>XX</code>. Note that the key chosen must be globally unique in the context of a whole 
			<em>Viewpoint Specification Project</em>.
		</p>
		<p>
			<img border="0" src="images/translatable_message1.png"/>
		</p>
		<p>The key must be added to the 
			<code>plugin.properties</code> file for each language with the translated message. The default properties file is named 
			<code>plugin.properties</code> and the localized version are identified with a postfixed with the corresponding language code (e.g. for US english 
			<code>plugin_en_US.properties</code>, for french 
			<code>plugin_fr.properties</code>).  The underlying mechanism is the same as for Eclipse/OSGi plug-ins, so translations can even be contributed by physically separate plug-in fragments. For the message values to be found at runtime, do not forget to:
		</p>
		<ul>
			<li>include all the 
				<code>plugin*.properties</code> files in the binary build (i.e. check them in the plug-in&#8217;s 
				<code>build.properties</code> file);
			</li>
			<li>set the 
				<code>Bundle-Localization: plugin</code> header in your project&#8217;s 
				<code>MANIFEST.MF</code>.
			</li>
		</ul>
		<p>
			<img border="0" src="images/translatable_message2.png"/>
		</p>
		<p>An Eclipse with localization in english will get the localized messages from 
			<code>plugin_en.properties</code>, while an Eclipse with localization in french will get the localized messages from 
			<code>plugin_fr.properties</code>.
		</p>
		<table class="table table-striped table-condensed">
			<tr>
				<td>
					<img border="0" src="images/translatable_message4.png"/>
				</td>
				<td>
					<img border="0" src="images/translatable_message3.png"/>
				</td>
			</tr>
			<tr>
				<th>English locale</th>
				<th>French locale (with corresponding translation in 
					<code>plugin_fr.properties</code>
				</th>
			</tr>
		</table>
		<p>Note that an Eclipse with localization in a language that has no dedicated properties file, will get the localized message from the default 
			<code>plugin.properties</code>.
		</p>
		<p>If the ID is not found in the localized properties file or if there is no properties file, the ID will be directly displayed.</p>
		<p>
			<img border="0" src="images/translatable_message5.png"/>
		</p>
		<p>As the internationalization is optional, if a 
			<em>Translatable</em> 
			<em>Message</em> does not start with a 
			<em>%</em> it will be directly displayed without consideration of the localization.
		</p>
		<p>
			<img border="0" src="images/translatable_message6.png"/>
		</p>
		<p>It is still possible to display a non localized label starting with a 
			<em>%</em> however the character needs to be doubled.
		</p>
		<p>
			<img border="0" src="images/translatable_message8.png"/>
			<br/>
			<img border="0" src="images/translatable_message9.png"/>
		</p>
		<p>
			<em>Warning</em>: 
			<em>Translatable</em> 
			<em>Messages</em> concern only labels set in the 
			<em>VSM</em> that are displayed to the end-users. Sirius is prepared for internationalization but is only available in English. Therefore, the 
			<em>VSM</em> labels can be available in another language but the labels coming from Sirius will stay in English. Moreover, some labels come from some other frameworks (such as EMF or GMF) and if the localization feature (if existing) is not installed, then the labels will stay in English.  
		</p>
		<h3 id="model_operations">Model Operations</h3>
		<p>Whenever a 
			<em>VSM</em> requires you to specify a behavior, for example inside any 
			<em>Tool</em> definition, you can use any of the available 
			<em>Model Operations</em> to do so. Refer to the 
			<a href="Model_Operations.html">Model Operations documentation</a> for more details.
		</p>
		<h3 id="quick_outline">Quick Outline</h3>
		<p>When defining your 
			<em>VSM</em>, a quick outline is available with the shortcut 
			<code>Ctrl</code> + 
			<code>O</code>. This allows you to rapidly search text in the displayed name or the contained String attributes of your 
			<em>VSM</em> elements.
		</p>
		<p>The star, 
			<code>*</code>, is a joker character, allowing you to search with more complicated patterns. Regarding this, an element is found if there is a word in its name or one of its attributes that match with the text in the filter, so if you want to search within words too, add 
			<code>*</code> at the start of your pattern. Also, you can navigate along the matching elements with 
			<code></code> and 
			<code></code>, and go to the selected element in your 
			<em>VSM</em> with 
			<code>Enter</code>.
		</p>
		<p>
			<img border="0" src="images/quick_outline.png"/>
		</p>
		<h3 id="validation">VSM Validation</h3>
		<p>It is possible to validate your 
			<a href="../../Glossary.html#VSM">
				<em>Viewpoint Specification Model</em>
			</a> , to check that your Representations, Mappings and Tools are correctly specified. It will help you to find missing element or erroneous one (e.g. missing required expression).
		</p>
		<p>To validate your VSM, open your 
			<code>odesign</code> file, right-click on the top-level 
			<em>Group</em> element and select 
			<em>Viewpoint specification Editor &gt; Validate</em>. A dialog Box will appear and indicate if the validation succeeded. If not, it will give you details about the detected problems (click on the &#8216;details&#8217; button of the dialog box). If problems are detected, they will also be added to the Eclipse 
			<em>Problems</em> view. Double-clicking on one of these problems will select the concerned element in the 
			<a href="../../Glossary.html#VSM">
				<em>Viewpoint Specification Model</em>
			</a> editor.
		</p>
		<p>You can also validate one specific element by right-clicking on it in the 
			<a href="../../Glossary.html#VSM">
				<em>Viewpoint Specification Models</em>
			</a> and launching the validation process. All the children of the selected element will be validated too. This fine-grained validation is useful to localize issues in the Specification Model, especially when it contains a lot of elements.
		</p>
		<p>It is also possible to use the button <img src="images/specifier-guide/complete_task.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/>, at the top right corner of the editor to launch the validation. This icon changes (<img src="images/specifier-guide/validate_model.png" style="box-shadow:none;display:inline;margin:0px;padding:0px;"/>) when we change the VSM to encourage the user to validate the VSM before saving.</p>
		<h3 id="dynamic">Dynamic Development</h3>
		<p>Sirius supports dynamic development of your 
			<em>VSM</em> with no need for deployment of your project to test it. If the domain model definition (the EMF meta-model plug-in) is installed in your development environment, and as long as your VSM does not use advanced features which require a deployment (like the definition of new 
			<em>External Java Actions</em> for example), you can test your representations while you are developing them. It is the recommended way to work, especially in the initial development phases, to easily experiment different approaches and see the results immediately.
		</p>
		<p>To do this, simply create a modeling project in your development environment, alongside the Viewpoint Specification Project, and add a sample domain model to it. When you open the 
			<em>Viewpoints Selection</em> dialog on the sample project, you will see that all the viewpoints which are being developed in the same workspace are also made available, in addition to the ones installed as plug-ins. Select the ones you want and create sample representations.
		</p>
		<p>Keep both your representations and the VSM that define them open at the same time. Whenever you change some definition or add new elements into your VSM, simply save it. Sirius will automatically detect the change, reload the new definition and apply it to your existing representations. This way you can develop your representations iteratively, for example starting from an empty diagram and adding more elements, styles and tools while and testing them immediately.</p>
		<p><div style="display: none">
			<br/>  TODO Add a screenshot with both a VSM (on the left) and the corresponding diagram (on the right) opened at the same time. Make sure the &#8220;Model Explorer&#8221; is also visible to show both the VSP and the Modeling project they correspond to.
			<br/></div>
		</p>
		<p>Note that Sirius does its best to take into account any change in the VSM, even for existing and opened representations. Sometimes, if the changes are too complex or in some corner cases not yet supported, you may need to close and reopen your representation, or in extreme case delete it and create a new one, in order to take the VSM changes into account properly.</p>
		<h4 id="reloadVSM">Reload installed VSM</h4>
		<p>Even though having your VSP in the runtime environment workspace is the best way to do dynamic development of your VSM, if your VSP is in the installed runtime plug-ins (that is the VSP plug-in is in the development environment workspace), you have the ability the reload it from your runtime to take external changes into account.
			<br/>This is done with the 
			<em>Reload installed VSM</em> action from the main Eclipse tool bar. 
			<br/>Click on 
			<em>Reload installed VSM</em> will have automatically effects in opened representations(depending on refresh options).
		</p>
		<p>
			<em>Limitations</em>:
		</p>
		<ul>
			<li>The action is available only if specifier plug-ins are installed.</li>
			<li>The action is available only if the Eclipse Runtime is a started from PDE (that is, is not a stand alone application).</li>
			<li>Only the VSM is reloaded. The Java classes that may have been changed in the VSP are updated as normal Java classes managed in debug mode.</li>
			<li>If you delete the VSP in the host Eclipse, you may encounter unexpected exceptions.</li>
		</ul>
		<h3 id="migration">Migration from Previous Versions</h3>
		<p>The 
			<em>Viewpoint Specification Model</em> can evolve between two versions of Sirius. The migration process is done automatically. That means all VSM are migrated at loading time without any action from the user. While a VSM is not saved, the automatic migration will be replayed at the next opening.
		</p>
	</body>
</html><html id='0525.Git-For-Eclipse-Users.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Git for Eclipse Users</title>
		<link type="text/css" rel="stylesheet" href="../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Git for Eclipse Users</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Updating-This-Document.html" title="Updating This Document">
						<img alt="Next" border="0" src="../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Updating This Document</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<p>This post is aimed at those who have been using Eclipse for a while, and probably have been using either the baked-in CVS or external SVN providers to store their source code. The content of the post is about Git: what it means to you, as an Eclipse user, and specifically, how it affects how you obtain or work with projects from Eclipse.org.</p>
		<p>This post is not about the relative merits of Git over CVS/SVN, or of Git versus other distributed version control systems (DVCS) like Mercurial (Hg). Other sites can give those flavours if needed.</p>
		<p>Once you understand the conceptual differences between CVS/SVN and Git, and then subsequently start to use Git, you may find it very difficult to go back. You should really start to experiment only if you think you're going to migrate in the near future, because using Git is like watching TV in colour: once you've discovered it, it's really difficult to go back to black &amp; white.</p>
		<dl>
			<dd> 
				<b>Once you start to use a DVCS, it's very unlikely you'll want to go back</b>
			</dd>
		</dl>
		<h2 id="Centralised_version_control_systems">Centralised version control systems</h2>
		<p>So, what do you need to know about Git? Well, both CVS and SVN are known as 
			<i>centralised</i> version control systems (CVCS). That is, there is one Master repository where people share code; everyone checks out their code (or branch) from that repository, and checks changes back in. For code that needs to be sent person-to-person (for example, for review, or as a way of contributing fixes), it is possible to create a 
			<i>patch</i>, which is a diff of your code against the given Master repository version (often HEAD, but sometimes a branch like Eclipse_35). 
		</p>
		<p>Two problems surface with a centralised version control system, although they aren't immediately obvious: </p>
		<ul>
			<li>You need to be 'online' to perform actions, like diff or patch 
				<a href="#reference-1">[1</a>].
			</li>
			<li>Patches generated against a particular branch can become outdated fairly quickly as development of the snapshot-in-time branch moves on (e.g. when it is time to apply the patch, HEAD is different than it was when the patch was generated).</li>
		</ul>
		<p>
			<a href="#ref-1">[1</a>] 
			<i>(A note on SVN: since SVN keeps the last-known checkout, it's possible to do a limited set of operations while disconnected from SVN, like diff from the last-known checkout. However, in general, you are prevented from doing many of the operations that are possible while connected.)</i>
		</p>
		<p>The first problem is rarely apparent for those working with Eclipse in a location at (or near) the repository itself. Those in the same continent will rarely experience delays due to global network variation; in addition, they tend to be employed in an organisation and sit at a desktop connected to wired networking for most of the day. Road warriors (those with laptops and who code from the local coffee shop) tend to operate in a more frequently disconnected mode, which limits repository functionality to when they are connected.</p>
		<p>The second problem is simply an artifact of the way in which patches work. These are generally performed against HEAD (a snapshot in time) and then applied later (sometimes months or even 
			<a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=4922" target="egit_external">eight years later</a>). Although they record the version of the file they were patched against, the patch itself is sensitive to big changes in the file, sometimes leading to the patch being inapplicable. Even relatively simple operations, like a file rename, can throw a well-formed CVCS patch out of the window.
		</p>
		<h2 id="Distributed_Version_Control_Systems">Distributed Version Control Systems</h2>
		<p>Distributed Version Control Systems (DVCS) are a family of version control systems unlike those with which many are familiar. Two of the most popular are 
			<a href="http://www.git-scm.org" target="egit_external">Git</a> and 
			<a href="http://mercurial.selenic.com" target="egit_external">Hg</a>, although others (
			<a href="http://darcs.net/" target="egit_external">Darcs</a>, 
			<a href="http://bazaar.canonical.com/en/" target="egit_external">Bazaar</a>, 
			<a href="http://www.bitkeeper.com/" target="egit_external">Bitkeeper</a>, etc.) exist. In a DVCS each user has a complete copy of the repository, including its entire history.  A user may potentially push changes to or pull changes from any other repository. Although policy may confer special status on one or more repositories, in principle every repository is a first-class citizen in the DVCS model. This stands in contrast to a centralised version control system, where every individual checks files into and out of an authoritative repository.
		</p>
		<dl>
			<dd> 
				<b>Each user has a full copy of the repository</b>
			</dd>
		</dl>
		<p>This initially sounds impossible, especially if you're used to centralised version control systems, and even more so if they involve pessimistic file-based locking. (If you do firmly want pessimistic locking, please stop reading here. Thanks.) Questions arise, like:</p>
		<ol>
			<li>If everyone has a copy of the repository, don't all the forks diverge?</li>
			<li>Where is the master repository kept?</li>
			<li>Isn't the repository, like, really big?</li>
			<li>No really, I like pessimistic locking.</li>
		</ol>
		<p>Let's answer each one of these questions in turn. (If I missed your favourite question, then please feel free to add one in the comments.)</p>
		<ol>
			<li>Yes, the forks 
				<i>can</i> diverge. But after all, open-source can diverge anyway. There's nothing stopping me from forking the <code>dev.eclipse.org</code> codebase, and publishing my own version of it called 
				<a href="http://sourceforge.net/projects/rcpapps/files/maclipse/" target="egit_external">Maclipse</a>. The key thing here is that whilst forks are possible, 
				<i>forking is not a bad thing in itself</i>. After all, look at Linux and Android; originally, they shared a history, but are now different. XFree86 and X.Org 
				<a href="http://www.x.org/wiki/XorgFoundation" target="egit_external">split</a> over licensing issues. MySQL was forked to create 
				<a href="http://askmonty.org/wiki/index.php/MariaDB" target="egit_external">MariaDB</a>, and so on. The key thing about forks is that the best survive. X.Org is now the default X client, whereas XFree86 was the default beforehand. The jury is still out on MySQL versus MariaDB. And although Maclipse has been downloaded literally <span title="Actually, about one and a half thousand. That's more than I expected.">tens of times</span>, it hasn't caused a dent in Eclipse's growth.
				<dl>
					<dd> 
						<b>Forks happen</b>
					</dd>
				</dl>
			</li>
			<li>Do not try to bend the <span title="spoon">master repository</span>  that's impossible. Instead, try only to realise the truth; there is no <span title="spoon">master repository</span>. In fact, there's a veritable matrix of master repositories possible. Each repository can be considered a node in a graph; nodes in the graph can be connected to each other in any way. However, rather than an n-n set of links, the graph usually self-organises into a tree-like structure, logically associating with one point that acts as a funnel for everything else. In a sense, that's a master repository  everyone has already made the choice; now you have to understand it. Should an oracle intervene, a neo-master can be chosen.
				<dl>
					<dd> 
						<b>There is no master repository</b>
					</dd>
				</dl>
			</li>
			<li>Given that there is no master repository, it becomes clear that the repository must live in its entirety on each of the nodes in the DVCS. This usually leads to fears about the size of the repository, even taking into account that storage is cheap. A key point here is that DVCS repositories are usually far 
				<i>smaller</i> than their counterpart CVCS repositories, not least of the reasons for which being that everyone has to have a full repository in order to do any work. It's a natural consequence that they're smaller. However, they're smaller also because each repository contains far less scope than a CVCS repository. For example, most organisations will have one mammoth CVCS repository with several thousand top-level 'modules' (or 'projects') underneath. Because of the administrative overhead of 'creating a new repository', it is often easier to reuse the same one for everything. (SVN put some limits on how wide it could grow, which CVS tended not to have; but even so, the main 
				<a href="http://svn.apache.org/viewvc?view=revision&amp;revision=908283" target="egit_external">Apache SVN</a> is over 900k revisions.) By contrast, a DVCS is usually nothing more than a directory with a few administrative files inside. It doesn't require administrator privileges or specific ports; in fact, since there's no central server to speak of, it doesn't even need to be shared by network protocols. As a result, a DVCS repository is much more granular  and easy to create  than a conventional CVCS repository. Firstly, it's always on your machine (there's no centralised server to configure) and secondly, all you need access to is a file system. So typically, a DVCS repository will often be at the level of an Eclipse project or project working set. For example, although the [
				<a href="http://dev.eclipse.org/viewcvs/index.cgi/?root=RT_Project" target="egit_external">http://dev.eclipse.org/viewcvs/index.cgi/?root=RT_Project</a> CVS <span title="RunTime">RT</span> repository] is shared by 
				<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.equinox/?root=RT_Project" target="egit_external">Equinox</a> and 
				<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.ecf/?root=RT_Project&amp;view=log" target="egit_external">ECF</a>, a DVCS-based solution would almost certainly see the Equinox and ECF projects in their own repositories; perhaps, even breaking down further into (say) ECF-Doc and ECF-Bundles. Think of a DVCS repository as one or a few Eclipse projects instead of hundreds of projects together.
				<dl>
					<dd> 
						<b>DVCS repositories are much smaller, typically because they contain only a small number of highly-related projects</b>
					</dd>
				</dl>
			</li>
			<li>That's not a question. Look, if you want the benefits of a centralised DVCS with pessimistic locking and pessimistic users, then go look at 
				<a href="http://www-01.ibm.com/software/awdtools/clearcase/" target="egit_external">ClearCase</a>.
				<dl>
					<dd> 
						<b>Friends don't let friends use ClearCase</b>
					</dd>
				</dl>
			</li>
		</ol>
		<h2 id="How_does_it_work.3F">How does it work?</h2>
		<p>There are two pieces of information that identify elements in a CVCS; a file's 
			<i>name</i>, and its 
			<i>version</i> (sometimes called 
			<i>revision</i>). In the case of CVS, each file has its own version stream (1.1, 1.2, 1.3), whilst in SVN, each changeset has a 'repository revision' number. Tags (or branches) are symbolic identifiers which may be attached to any specific set of files or repository revision, and are mostly for human consumption (e.g. HEAD, trunk, ECLIPSE_35).
		</p>
		<p>This doesn't work in a DVCS. Because there is no central repository, there is no central repository version number (either for the repository as a whole, or for individual files).</p>
		<p>Instead, a DVCS operates at the level of a 
			<i>changeset</i>. Logically, a repository is made up of an initial (empty) state, followed by many changesets. (A changeset is merely a change to a set of files; if you think 'patch' from CVS or SVN, you're not far off.)
		</p>
		<p>Identifying a changeset is much harder. We can't use a (global) revision number, because that concept isn't used. Instead, a changeset is represented as a hash of its contents. For example, given the changeset:</p>
		<pre>--- a/README.txt
+++ b/README.txt
@@ -1 +1 @@
-SVN is great
+Git is great
</pre>
		<p>we can create a 'hash' using (for example) <code>md5</code>, to generate the string <code>0878a8189e6a3ae1ded86d9e9c7cbe3f</code>. When referring to our change with others, we can use this hash to identify the change in question.</p>
		<dl>
			<dd> 
				<b>Changesets are identified by a hash of their contents</b>
			</dd>
		</dl>
		<p>Clearly, though, this doesn't work on its own. What happens if we do the same change later on? It would have the same change, and we don't want the same hash value.</p>
		<p>What happens is that a changeset contains two things; the change itself, and a back-pointer to the previous changeset. In other words, we end up with something like:</p>
		<pre>previous: 48b2179994d494485b79504e8b5a6b23ce24a026
--- a/README.txt
+++ b/README.txt
@@ -1 +1 @@
-SVN is great
+Git is great
</pre>
		<dl>
			<dd> 
				<b>Changesets (recursively) contain pointers to the previous changeset</b>
			</dd>
		</dl>
		<p>Now, if we were to have the same change again, the 
			<i>previous</i> value would be different, so we'd get a different hash value. We could set up an argument:
		</p>
		<pre>previous: 48b2179994d494485b79504e8b5a6b23ce24a026
--- a/README.txt
+++ b/README.txt
@@ -1 +1 @@
-SVN is great
+Git is great
</pre>
		<pre>previous: 8cafc7ecd01d86977d2af254fc400cee
--- a/README.txt
+++ b/README.txt
@@ -1 +1 @@
-Git is great
+SVN is great
</pre>
		<pre>previous: cba3ef5b2d1101c2ac44846dc4cdc6f4
--- a/README.txt
+++ b/README.txt
@@ -1 +1 @@
-Git is great
+SVN is great
</pre>
		<p>Each time, the value of the changeset includes a pointer to what comes before, so the hash is continually changing.</p>
		<p>
			<b>Note</b>: Rather than using <code>md5</code>, as shown here, most DVCS (including Git) use an <code>sha1</code> hash instead. Also, the exact way that the prior elements in the tree are stored, and their relationships, isn't accurately portrayed above; however, it gives sufficiently well the idea of how they are organised.
		</p>
		<dl>
			<dd> 
				<b>Git changesets are identified by an SHA-1 hash</b>
			</dd>
		</dl>
		<h2 id="Changesets_and_branches">Changesets and branches</h2>
		<p>Given that a changeset is a long value like <code>48b2179994d494485b79504e8b5a6b23ce24a026</code>, it can be unfriendly to use. Fortunately, there are a couple of ways around this. Git, like other DVCSs, allow you to use an abbreviated form of the changeset, provided that it's unique in the repository. For small repositories, this means that you can refer to changesets by really short values, like <code>48b21</code> or even <code>48</code>. Conventionally, developers often use 6 digits of the hash  but large projects (like the Linux kernel) tend to have to use slightly larger references in order to have uniqueness.</p>
		<dl>
			<dd> 
				<b>Git hashes can be shortened to any unique prefix</b>
			</dd>
		</dl>
		<p>The current version of your repository is simply a pointer to the end of the tree. For this reason, it's often referred to as a 
			<i>tip</i>, but <code>HEAD</code> is the symbolic identifier for what the current repository is pointing to. Similarly, any branch can be referred to by its changeset id, which includes that and all prior changes. The default branch is usually called 
			<i>master</i>.
		</p>
		<dl>
			<dd> 
				<b>The default 'trunk' is called 'master' in Git</b>
			</dd>
			<dd> 
				<b>The tip of the current branch is referred to as 'HEAD</b>'
			</dd>
		</dl>
		<p>As a direct corollary to this, creating branches in a DVCS is fast. All that happens is that the repository on disk is updated to point to a different element in the (already physically present) tree, and you're done. Furthermore, it's trivial to ping-pong between different branches on the same repository that may contain different states and evolve independently.</p>
		<dl>
			<dd> 
				<b>Creating, and switching between, branches is fast</b>
			</dd>
		</dl>
		<p>Because branching is so fast, branches get used for things that a user of a CVCS wouldn't normally use branching for. For example, each bug in Bugzilla could have a new branch associated with it; if a couple of independent features are being worked on concurrently, they'd get their own branch; if you needed to drop back to do maintenance work on an ECLIPSE_35 branch, then you'd switch to a branch for that as well. Branches get created at least as frequently as 
			<a href="http://www.peterfriese.de/using-cvs-change-sets/" target="egit_external">changesets</a> might in CVS, if not more so.
		</p>
		<dl>
			<dd> 
				<b>Create a new branch for each Bugzilla or feature item that you work on</b>
			</dd>
			<dd> 
				<b>Think of branches as throwaway changesets</b>
			</dd>
		</dl>
		<h2 id="Merging">Merging</h2>
		<p>With great power comes great flexibility, but ultimately, you want to get your changes into some kind of merged stream (like HEAD). One of the fears of unconstrained branching is that of unconstrained merge pains later on. SVN makes this slightly less difficult than CVS, but unless you merge to HEAD frequently, you can easily get lost  particularly when refactorings start happening.</p>
		<dl>
			<dd> 
				<b>It's painful to merge in a CVCS; therefore branches tend not to happen</b>
			</dd>
		</dl>
		<p>Fortunately, DVCSs are all about merging. Given that each node in the changeset tree contains a pointer to its previous node (and transitively, to the beginning of time), it's much more powerful than the standard flat CVCS diff. In other words, not only do you know what changes need to be made, but also 
			<i>at what point in history they need to be made</i>. So, if you have a changeset that renames a file, and then merge in a changeset that points to the file as it was before it was renamed, a CVCS will just fall over; but a DVCS will be able to apply the change 
			<i>before</i> the rename occurred, and then play forward the changes.
		</p>
		<p>Merges are just the weaving together of two (or more) local branches into one. The 
			<a href="http://www.kernel.org/pub/software/scm/git/docs/git-merge.html" target="egit_external">git merge</a> documentation has some graphical examples of this; but basically, it's just like any other merge you've seen. However, unlike CVCS, you don't have to specify anything about where you're merging from and to; the trees automatically know what their split point was in the past, and can work it out from there.
		</p>
		<dl>
			<dd> 
				<b>Merging in a DVCS like Git is trivial</b>
			</dd>
		</dl>
		<h2 id="Pulling_and_pushing">Pulling and pushing</h2>
		<p>So far, we've not talked much about the distributed nature of DVCS. Implicitly, though, the changes and ideas above are all to support distribution.</p>
		<p>Given that a DVCS tree is merely a pointer to a branch (which transitively contains a long list of previous branches), and that each one of these nodes is identified by its hash, then you and I can share the same revision identifiers for common parts of our tree. There are three cases to consider for comparing our two trees:</p>
		<ul>
			<li>Your tip is an ancestor of my tip</li>
			<li>My tip is an ancestor of your tip</li>
			<li>Neither of our tips are direct ancestors; however, we both share a common ancestor</li>
		</ul>
		<p>The first two cases are trivial; if we synchronise trees, they just become a fast-forward merge. In fact, if that occurs, chances are you won't know who is ahead of the other; it will just happen.</p>
		<p>The last case is only slightly more tricky; a common ancestor must be found; say, <code>746d6c</code>. Then I send changes between my tip and <code>746d6c</code>, and you send changes between your tip and <code>746d6c</code>. That way, we both end up with the same contents on our repositories.</p>
		<p>Changes flow between repositories by 
			<i>push</i> and 
			<i>pull</i> operations. In essence, it doesn't matter whether I push my changes to you, or you pull my changes from me; the net result is the same. However, in the case of Eclipse.org infrastructure, it's likely that a central Git repository will be writable only by Eclipse committers. Thus, if I contribute a fix, I can ask a committer to pull the fix from my repository, and then they (after reviewing, and optionally rebasing) can push the fix to the Eclipse.org repository.
		</p>
		<p>The best part of a DVCS is that it takes care of all the paperwork for you. You don't need to use SVN-like <code>314:321</code> tags to remind you where you branched from; you don't even have to worry if you haven't updated recently. It all just works.</p>
		<dl>
			<dd> 
				<b>Pulling and pushing in a DVCS like Git is trivial</b>
			</dd>
		</dl>
		<h2 id="Cloning_and_remotes">Cloning and remotes</h2>
		<p>Where you can push (or pull) to is configured on a per (local) repository basis. Typically, if you clone an existing project, then a 
			<i>remote name</i> called 
			<i>origin</i> is automatically set up for you. For example, if you wanted to get hold of 
			<a href="http://git.eclipse.org/cgit.cgi/babel/org.eclipse.babel.server.git/" target="egit_external"> org.eclipse.babel.server.git</a>, then you could do:
		</p>
		<pre>git clone git://git.eclipse.org/gitroot/babel/org.eclipse.babel.server.git
</pre>
		<p>We can then keep up-to-date with what's happening on the remote server by executing a pull from the remote:</p>
		<pre>git pull origin
</pre>
		<p>...but we're not limited to one repository. Let's say we wanted to create a separate copy on 
			<a href="http://www.github.com" target="egit_external">GitHub</a> for easy forking; we can do that by adding another remote Git URL and then pushing to that:
		</p>
		<pre>git remote add github <a href="http://github.com/alblue/babel.git" target="egit_external">http://github.com/alblue/babel.git</a>
git push github
</pre>
		<p>We can now use <code>git push</code> and <code>git pull</code> to move items between the two git repositories. By default, they both refer to the special-named 
			<i>origin</i>, but you can specify whatever remote to talk to on the command line.
		</p>
		<dl>
			<dd> 
				<b>Origin is the name of the default remote, but you can have many remotes per repository.</b>
			</dd>
		</dl>
		<h2 id="Initialising.2C_committing_and_branching">Initialising, committing and branching</h2>
		<p>To create a new Git repository, the <code>git init</code> command is used. This creates an empty repository in the current directory. They can, but often don't, end with <code>.git</code>  typically it's only repositories pushed to remote servers that use the <code>.git</code> extension. As noted above, a Git repository should ideally hold only one or a few highly related/coupled projects.</p>
		<dl>
			<dd> 
				<b>'git init' creates a fresh repository in the current directory</b>
			</dd>
		</dl>
		<p>Git allows you to commit files, much like any other VCS. Each commit may be a single file, or many files; and a message goes along with it. Unlike other VCS, Git has a separate concept of an 
			<i>index</i>, which is a set of files that would be committed. You can think of it as an active changeset; as you're working on multiple files, you want only some changes to be committed as a unit. These files get <code>git add</code>ed to the index first, then <code>git commit</code>ted subsequently. (If you don't like this behaviour, there's a <code>git commit -a</code> option, which performs as CVS or SVN would.)
		</p>
		<dl>
			<dd> 
				<b>'git add' is used to add files and track changes to files</b>
			</dd>
			<dd> 
				<b>'git commit' is used to commit tracked files</b>
			</dd>
		</dl>
		<p>To create branches, you can use <code>git branch</code> (which creates, but does not switch to, the new branch) and <code>git checkout</code> (which switches to the new branch). A shorthand for new branches is <code>git checkout -b</code>, which creates-and-switches to a branch. At any point, <code>git branch</code> shows you a list of branches and marks the current one with a * next to the name.</p>
		<dl>
			<dd> 
				<b>'git branch' is used to create and list branches</b>
			</dd>
			<dd> 
				<b>'git checkout' is used to switch branches</b>
			</dd>
			<dd> 
				<b>'git checkout -b' is used to create and then switch branches</b>
			</dd>
		</dl>
		<h2 id="Worked_example">Worked example</h2>
		<p>Here's a transcript of working with setting up an initial repository, then copying data to and from a 'remote' repository, albeit in a different directory on the same system. The instructions are for a Unix-like environment (e.g. Cygwin on Windows).</p>
		<pre>$ mkdir /tmp/example
$ cd /tmp/example
$ git init
Initialized empty Git repository in /tmp/example/.git/
$ echo "Hello, world" &gt; README.txt
$ git commit # Won't commit files by default
# On branch master
#
# Initial commit
#
# Untracked files:
#   (use "git add &lt;file&gt;..." to include in what will be committed)
#
#	README.txt
nothing added to commit but untracked files present (use "git add" to track)
$ git add README.txt # Similar to Team -&gt; Add to Version Control
$ # git commit # Would prompt for message
$ git commit -m "Added README.txt"
[master (root-commit) 0dd1f35] Added README.txt
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 README.txt
$ echo "Hello, solar system" &gt; README.txt
$ git commit
# On branch master
# Changed but not updated:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
#	modified:   README.txt
#
no changes added to commit (use "git add" and/or "git commit -a")
$ git commit -a -m "Updated README.txt"
[master 9b1939a] Updated README.txt
 1 files changed, 1 insertions(+), 1 deletions(-)
$ git log --graph --oneline # Shows graph nodes (not much here) and change info
* 9b1939a Updated README.txt
* 0dd1f35 Added README.txt
$ git checkout -b french 0dd1f35 # create and switch to a new branch 'french'
Switched to a new branch 'french'
$ cat README.txt 
Hello, world
$ echo "Bonjour, tout le monde" &gt; README.txt
$ git add README.txt # or commit -a
$ git commit -m "Ajout README.txt"
[french 66a644c] Ajout README.txt
 1 files changed, 1 insertions(+), 1 deletions(-)
$ git log --graph --oneline
* 66a644c Ajout README.txt
* 0dd1f35 Added README.txt
$ git checkout -b web 0dd1f35 # Create and checkout a branch 'web' from initial commit
$ echo '&lt;a href="<a href="http://git.eclipse.org" target="egit_external">http://git.eclipse.org</a>"&gt;git.eclipse.org&lt;/a&gt;' &gt; index.html
$ git add index.html
$ git commit -m "Added homepage"
[web d47e30c] Added homepage
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 index.html
$ git checkout master
$ git branch # See what branches we've got
  french
* master
  web
$ git merge web # pull 'web' into current branch 'master'
Merge made by recursive.
 index.html |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 index.html
$ git checkout french # Switch to 'french' branch
Switched to branch 'french'
$ git merge web # And merge in the same
Merge made by recursive.
 index.html |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 index.html
$ git log --graph --oneline
*   e974231 Merge branch 'web' into french
|\  
| * d47e30c Added homepage
* | 66a644c Ajout README.txt
|/  
* 0dd1f35 Added README.txt
$ git checkout master
$ git log --graph --oneline
*   e3de4de Merge branch 'web'
|\  
| * d47e30c Added homepage
* | 9b1939a Updated README.txt
|/  
* 0dd1f35 Added README.txt
$ (mkdir /tmp/other;cd /tmp/other;git init) # Could do this in other process
$ (cd /tmp/other;git config --bool core.bare true) # Need to tell git that /tmp/other is a bare repository so we can "push" to it
Initialized empty Git repository in /tmp/other/.git/
$ git remote add other /tmp/other # could be a URL over http/git
$ git push other master # push branch 'master' to remote repository 'other'
Counting objects: 11, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (7/7), done.
Writing objects: 100% (11/11), 981 bytes, done.
Total 11 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (11/11), done.
To /tmp/other
 * [new branch]      master -&gt; master
$ git push --all other # Push all branches to 'other'
Counting objects: 8, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 567 bytes, done.
Total 5 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (5/5), done.
To /tmp/other
 * [new branch]      french -&gt; french
 * [new branch]      web -&gt; web
$ cd /tmp/other # Switch to 'other' repository. git commands now apply to this repository
$ git config --bool core.bare false # need to allow this repository to have checked out files
$ ls # Nothing to be seen, but it's there
$ git branch
  french
* master
  web
$ git checkout web # Get the contents of the 'web' branch in other
$ ls
README.txt index.html
$ echo '&lt;h1&gt;Git rocks!&lt;/h1&gt;' &gt;&gt; index.html
$ git commit -a -m "Added Git Rocks!"
[web 510621a] Added Git Rocks
 1 files changed, 1 insertions(+), 0 deletions(-)
$ cd /tmp/example # Back to first repo. git commands now apply to 'example' repository
$ git pull other web # Pull changes from 'other' repo 'web' branch
remote: Counting objects: 5, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From /tmp/other
 * branch            web        -&gt; FETCH_HEAD
Merge made by recursive.
 index.html |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
$ git log --graph --oneline
*   146932f Merge branch 'web' of /tmp/other
|\  
| * 510621a Added Git Rocks
* |   e3de4de Merge branch 'web'
|\ \  
| |/  
| * d47e30c Added homepage
* | 9b1939a Updated README.txt
|/  
* 0dd1f35 Added README.txt
</pre>
		<h2 id="Rebasing_and_fast-forwarding">Rebasing and fast-forwarding</h2>
		<p>Often, you'll work on a branch for a while and then want to commit it to the repository. You can do this at any point, but it's considered good practice to 
			<i>rebase</i> your local branch before doing so. For example, you can end up with multiple branches in the log (with <code>git log --graph --oneline</code>):
		</p>
		<pre>*   f0fde4e Merge change I11dc6200
|\  
| * 86dfb92 Mark the next version as 0.6
* |   0c8c04d Merge change I908e4c77
|\ \  
| |/  
|/|   
| * 843dc8f Add support for logAllRefUpdates configuration parameter
* | 74ba6fc Remove TODO file and move to bugzilla
* | ba7c6e8 Fix SUBMITTING_PATCHES to follow the Eclipse IP process
* | c5e8589 Fix tabs-to-spaces in SUBMITTING_PATCHES
* | 677ca7b Update SUBMITTING_PATCHES to point to Contributor Guide
* | 8847865 Document protected members of RevObjectList
* | a0a0ce8 Make it possible to clear a PlotCommitList
* | 4a3870f Include description for missing bundle prereqs
|/  
* 144b16d Cleanup MANIFEST.MF in JGit
</pre>
		<p>What happened here was that two branches split off from change <code>144b16d</code>, ultimately driving another branch at <code>74ba6fc</code> and a few merges (at <code>0c8c04d</code> and <code>f0fde4e</code>). (You can see a similar effect in 
			<a href="http://code.google.com/p/wave-protocol/source/list" target="egit_external">Google Code's Hg view of Wave Protocol</a>.) Ultimately, whilst the DVCS can handle these long-running branches and subsequent merges, humans tend to prefer to see fewer branches in the final repository.
		</p>
		<p>A 
			<i>fast-forward</i> merge (in Git terms) is one which doesn't need any kind of merge operation. This usually happens when you are moving from an older branch to a newer branch on the same timeline; such as when updating to a newer version from a remote repository. These are essentially just moving the HEAD pointer further down the branch.
		</p>
		<p>A 
			<i>rebase</i> is uprooting the branch from the original commit, and re-writing history as if it had been done from the current point in time. For example, in the above Git trace, <code>1441b16d</code> to <code>843dc8f</code> to <code>0c8c04d</code> was only one commit off the main tree. Had the change been rebased on <code>74ba6fc</code>, then we would have only seen a single timeline across those commits. It's generally considered good practice to rebase changes prior to pushing to a remote tree to avoid these kind of fan-outs, but it's not necessary to do so. Furthermore, the rebase operation changes the <code>sha1</code> hashes of your tree, which can affect those who have forked your repository. Best practice is to frequently rebase your changes in your own local repository, but once they've been made public (by pushing to a shared repository) to avoid rebasing further.
		</p>
		<dl>
			<dd> 
				<b>Rebasing replants your tree; but do it on local branches only</b>
			</dd>
		</dl><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Updating-This-Document.html" title="Updating This Document">
						<img alt="Next" border="0" src="../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top"></td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Updating This Document</td>
			</tr>
		</table>
	</body>
</html><html id='2781.org_eclipse_debug_ui_launchShortcuts.html'></html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Launch Shortcuts</title>
<style type="text/css">@import url("../../book.css");</style>
<style type="text/css">@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1 style="text-align:center">Launch Shortcuts</H1>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Identifier: </h6>org.eclipse.debug.ui.launchShortcuts<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Description: </h6>This extension point provides support for selection sensitive launching.  Extensions register a shortcut which
appears in the run and/or debug cascade menus to launch the workbench selection or active editor.<p>
</p>
<p></p>
<h6 class="CaptionFigColumn SchemaHeader">Configuration Markup:</h6>
<p></p>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.shortcut">shortcut</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST extension</p>
<p class="code SchemaDtdAttlist">point&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.shortcut">shortcut</a> (<a href="#e.perspective">perspective</a>* , <a href="#e.contextualLaunch">contextualLaunch</a>? , <a href="#e.enablement">enablement</a>? , <a href="#e.configurationType">configurationType</a>* , <a href="#e.description">description</a>*)&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST shortcut</p>
<p class="code SchemaDtdAttlist">id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">modes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">category&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDREF #IMPLIED</p>
<p class="code SchemaDtdAttlist">helpContextId&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">path&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">description&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - specifies a unique identifier for this launch shortcut.</li>
<li><b>modes</b> - specifies a comma-separated list of modes this shortcut supports.</li>
<li><b>class</b> - specifies the fully qualified name of a class which implements
<code>org.eclipse.debug.ui.ILaunchShortcut</code>.

New in 3.4, clients can implement <code>org.eclipse.debug.ui.ILaunchShortcut2</code> to participate in context sensitive launching of resource and non-resource based artifacts.</li>
<li><b>label</b> - specifies a label used to render this shortcut.</li>
<li><b>icon</b> - specifies a plugin-relative path to an image used to render this shortcut. Icon is optional because it is up to other plugins (i.e. Views) to render it.</li>
<li><b>category</b> - specifies the launch configuration type category this shortcut is applicable for. When unspecified, the category is <code>null</code> (default).</li>
<li><b>helpContextId</b> - an optional identifier that specifies the help context to associate with this launch shortcut</li>
<li><b>path</b> - an optional menu path used to group launch shortcuts in menus. Launch shortcuts are grouped alphabetically based on the <code>path</code> attribute, and then sorted alphabetically within groups based on the <code>label</code> attribute. When unspecified, a shortcut appears in the last group. This attribute was added in the 3.0.1 release.</li>
<li><b>description</b> - Provides a human readable description of what the shortcut does (or will do) if the user selects it. A Description provided in this field will apply as the default description for all of the modes listed in the modes attribute. This attribute was added in the 3.3 release.</li>
</ul>
<br><div style="color: red; font-style: italic;">The <b>perspective</b> element is deprecated</div> <p class="code SchemaDtd">&lt;!ELEMENT <a name="e.perspective">perspective</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST perspective</p>
<p class="code SchemaDtdAttlist">id&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
The <code>perspective</code> element has been <b>deprecated</b> in the 3.1 release. The top level Run/Debug/Profile cascade menus now support contextual (selection sensitive) launching, and clients should provide a <code>contextualLaunch</code> element instead.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - the unique identifier of a perspective in which a menu shortcut for this launch shortcut will appear.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.contextualLaunch">contextualLaunch</a> (<a href="#e.contextLabel">contextLabel</a>* , <a href="#e.enablement">enablement</a>?)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Holds all descriptions for adding shortcuts to the selection sensitive Run/Debug/Profile cascade menus. Only objects that provide an <code>org.eclipse.debug.ui.actions.ILaunchable</code> adapter are considered for the cascade menus. The <code>org.eclipse.debug.ui.actions.ILaunchable</code> interface is simply used to tag objects that support contextual launching.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.contextLabel">contextLabel</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST contextLabel</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;IDREF #REQUIRED</p>
<p class="code SchemaDtdAttlist">label&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Specify the label for a contextual launch mode.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>mode</b> - specifies a mode from the set {"run","debug","profile"}</li>
<li><b>label</b> - specifies the label to appear in the contextual launch menu.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.configurationType">configurationType</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST configurationType</p>
<p class="code SchemaDtdAttlist">id&nbsp;IDREF #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element allows more that one associated launch configuration type to be specified for this launch shortcut. This element was added in the 3.3 release.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>id</b> - This attribute is the identifier of an existing launch configuration type that is to be associated with this launch shortcut. This association is then used to determine what launch shortcuts apply to what types for context sensitive launching.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.description">description</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST description</p>
<p class="code SchemaDtdAttlist">mode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">description&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Provides a mode specific description for this launch shortcut. This element was added in the 3.3. release.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>mode</b> - A launch mode identifier this description applies to. For example, "run".</li>
<li><b>description</b> - The desciption for this launch shortcut when invoked in the associated mode.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.enablement">enablement</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
A generic root element. The element can be used inside an extension point to define its enablement expression.
            The children of an enablement expression are combined using the "and" operator.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.not">not</a> (<a href="#e.not">not</a> | <a href="#e.and">and</a> | <a href="#e.or">or</a> | <a href="#e.instanceof">instanceof</a> | <a href="#e.test">test</a> | <a href="#e.systemTest">systemTest</a> | <a href="#e.equals">equals</a> | <a href="#e.count">count</a> | <a href="#e.with">with</a> | <a href="#e.resolve">resolve</a> | <a href="#e.adapt">adapt</a> | <a href="#e.iterate">iterate</a> | <a href="#e.reference">reference</a>)&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents a NOT operation on the result of evaluating its sub-element expression.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.and">and</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represents an AND operation on the result of evaluating all its sub-elements expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.or">or</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element represent an  OR operation on the result of evaluating all its sub-element expressions.</p>
<br><br>
<p class="code SchemaDtd">&lt;!ELEMENT <a name="e.instanceof">instanceof</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST instanceof</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an instanceof check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object's type is a sub type of the type specified by the attribute value.
            Otherwise EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - a fully qualified name of a class or interface.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.test">test</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST test</p>
<p class="code SchemaDtdAttlist">property&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED</p>
<p class="code SchemaDtdAttlist">forcePluginActivation&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to evaluate the property state of the object in focus. The set of testable properties can be extended using the <b>org.eclipse.core.expressions.propertyTesters</b> extension point. The test expression returns EvaluationResult.NOT_LOADED if the property tester doing the actual testing isn't loaded yet and the attribute forcePluginActivation is set to false.  If forcePluginActivation is set to true and the evaluation context used to evaluate this expression support plug-in activation then evaluating the property will result in activating the plug-in defining the tester.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an object's property to test.</li>
<li><b>args</b> - additional arguments passed to the property tester. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
<li><b>value</b> - the expected value of the property. Can be omitted if the property 
                  is a boolean property (value will be Boolean.TRUE). The test expression is supposed to return
EvaluationResult.TRUE if the property matches the value and EvaluationResult.FALSE
otherwise. The value attribute is converted into a Java base type using the following
rules:
<ul>
 <li>the string &quot;true&quot; is converted into Boolean.TRUE</li>
 <li>the string &quot;false&quot; is converted into Boolean.FALSE</li>
 <li>if the string contains a dot then the interpreter tries to convert
 the value into a Float object. If this fails the string is treated as a
 java.lang.String</li>
 <li>if the string only consists of numbers then the interpreter
 converts the value into an Integer object.</li>
 <li>in all other cases the string is treated as a java.lang.String</li>
 <li>the conversion of the string into a Boolean, Float, or Integer can
 be suppressed by surrounding the string with single quotes. For
 example, the attribute value=&quot;'true'&quot; is converted into the
 string &quot;true&quot;</li>
</ul></li>
<li><b>forcePluginActivation</b> - a flag indicating whether the plug-in contributing the property tester
                  should be loaded if necessary. As such, this flag should be used judiciously, 
                  in order to avoid unnecessary plug-in activations. Most clients should avoid
                  setting this flag to true. This flag is only honored if the evaluation context
                  used to evaluate this expression allows plug-in activation. Otherwise the flag
                  is ignored and no plug-in loading takes place.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.systemTest">systemTest</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST systemTest</p>
<p class="code SchemaDtdAttlist">property&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">value&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
Tests a system property by calling the System.getProperty method and compares the result
            with the value specified through the value attribute.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>property</b> - the name of an system property to test.</li>
<li><b>value</b> - the expected value of the property. The value is interpreted as a string value.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.equals">equals</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST equals</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to perform an equals check of the object in focus. The expression returns
            EvaluationResult.TRUE if the object is equal to the value provided by the attribute value. Otherwise
            EvaluationResult.FALSE is returned.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - the expected value. The value provided as a string is converted into
                  a Java base type using the same rules as for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.count">count</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST count</p>
<p class="code SchemaDtdAttlist">value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to test the number of elements in a collection.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>value</b> - an expression to specify the number of elements in a list. Following wildcard
                  characters can be used:
                  <dl>
                    <dt>*</dt> <dd>any number of elements</dd>
                    <dt>?</dt> <dd>no elements or one element</dd>
                    <dt>+</dt> <dd>one or more elements</dd>
                    <dt>!</dt> <dd>no elements</dd>
                    <dt>-<i>N</i>)</dt>
                    <dd>less than <i>N</i> elements</dd>
                    <dt>(<i>N</i>-</dt>
                    <dd>greater than <i>N</i> elements</dd>
                    <dt>integer value</dt> <dd>the list must contain the exact number of elements</dd>
                  </dl></li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.with">with</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST with</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a with expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be used for further inspection. It is up to the evaluator
                  of an extension point to provide the variable in the variable pool.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.resolve">resolve</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST resolve</p>
<p class="code SchemaDtdAttlist">variable&nbsp;CDATA #REQUIRED</p>
<p class="code SchemaDtdAttlist">args&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element changes the object to be inspected for all its child element to the object
            referenced by the given variable. If the variable can not be resolved then the expression
            will throw an ExpressionException when evaluating it. The children of a resolve expression 
            are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>variable</b> - the name of the variable to be resolved. This variable is then used as the object in focus
                  for child element evaluation. It is up to the evaluator of an extension point to provide a 
                  corresponding variable resolver (see IVariableResolver) through the evaluation context passed
                  to the root expression element when evaluating the expression.</li>
<li><b>args</b> - additional arguments passed to the variable resolver. Multiple arguments are separated
                  by commas. Each individual argument is converted into a Java base type using the same
                  rules as defined for the value attribute of the test expression.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.adapt">adapt</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST adapt</p>
<p class="code SchemaDtdAttlist">type&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to adapt the object in focus to the type specified by the attribute
            type. The expression returns EvaluationResult.NOT_LOADED if either the adapter or the type referenced isn't
            loaded yet. It throws an ExpressionException during evaluation if the type name doesn't exist 
            at all. The children of an adapt expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>type</b> - the type to which the object in focus is to be adapted.</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.iterate">iterate</a> (<a href="#e.not">not</a> , <a href="#e.and">and</a> , <a href="#e.or">or</a> , <a href="#e.instanceof">instanceof</a> , <a href="#e.test">test</a> , <a href="#e.systemTest">systemTest</a> , <a href="#e.equals">equals</a> , <a href="#e.count">count</a> , <a href="#e.with">with</a> , <a href="#e.resolve">resolve</a> , <a href="#e.adapt">adapt</a> , <a href="#e.iterate">iterate</a> , <a href="#e.reference">reference</a>)*&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST iterate</p>
<p class="code SchemaDtdAttlist">operator&nbsp;(or|and) </p>
<p class="code SchemaDtdAttlist">ifEmpty&nbsp;&nbsp;(true | false) &gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to iterate over a variable that is of type java.util.Collection, or a variable that
            adapts to org.eclipse.core.expressions.IIterable. If the object in focus is not one of the above then a
            CoreException with an ExpressionStatus will be thrown while evaluating the expression.
            The child expressions of an iterate expression are combined using the "and" operator.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>operator</b> - either "and" or "or". The operator defines how the results of all the child expressions
                  applied to each child of the Collection or IIterable will be combined and what (if any) short circuit
                  evaluation will be used. If not specified, "and" will be used.</li>
<li><b>ifEmpty</b> - the value returned from the "iterate" expression if the collection is empty. If
                 not specified then EvaluationResult.TRUE is returned when the operator equals "and" 
                 and EvaluationResult.FALSE is returned if the operator equals "or".</li>
</ul>
<br><p class="code SchemaDtd">&lt;!ELEMENT <a name="e.reference">reference</a> EMPTY&gt;</p>
<p class="code SchemaDtd">&lt;!ATTLIST reference</p>
<p class="code SchemaDtdAttlist">definitionId&nbsp;IDREF #REQUIRED&gt;</p>
<p></p>
<p class="ConfigMarkupElementDesc">
This element is used to reference an expression from the <b>org.eclipse.core.expressions.definitions</b> extension point.  The expression definition will be evaluated within the current expression element using the current evaluation context.</p>
<br>
<ul class="ConfigMarkupAttlistDesc">
<li><b>definitionId</b> - The unique id of an expression from <b>org.eclipse.core.expressions.definitions</b>.</li>
</ul>
<br><h6 class="CaptionFigColumn SchemaHeader">Examples: </h6>The following is an example of the Java Application launch shortcut contribution with an enablement expression, an associated launch configuration type id and descriptions for run and debug mode:

<p>
<pre class="Example"><span class="code SchemaTag">
 &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.debug.ui.launchShortcuts&quot;</span><span class="code SchemaTag">&gt;
  &lt;shortcut
    label=</span><span class="code SchemaCstring">&quot;Java Application&quot;</span><span class="code SchemaTag">
    icon=</span><span class="code SchemaCstring">&quot;$nl$/icons/full/etool16/java_app.png&quot;</span><span class="code SchemaTag">
    helpContextId=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.debug.ui.shortcut_local_java_application&quot;</span><span class="code SchemaTag">
    modes=</span><span class="code SchemaCstring">&quot;run, debug&quot;</span><span class="code SchemaTag">
    class=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.internal.debug.ui.launcher.JavaApplicationLaunchShortcut&quot;</span><span class="code SchemaTag">
    description=</span><span class="code SchemaCstring">&quot;Launch a local Java application&quot;</span><span class="code SchemaTag">
    id=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.debug.ui.localJavaShortcut&quot;</span><span class="code SchemaTag">&gt;
    &lt;description
     description=</span><span class="code SchemaCstring">&quot;Runs a local Java application&quot;</span><span class="code SchemaTag">
     mode=</span><span class="code SchemaCstring">&quot;run&quot;</span><span class="code SchemaTag">&gt;
    &lt;/description&gt;
    &lt;description
     description=</span><span class="code SchemaCstring">&quot;Debugs a local Java application&quot;</span><span class="code SchemaTag">
     mode=</span><span class="code SchemaCstring">&quot;debug&quot;</span><span class="code SchemaTag">&gt;
    &lt;/description&gt;
  &lt;contextualLaunch&gt;
  &lt;enablement&gt;
    &lt;with variable=</span><span class="code SchemaCstring">&quot;selection&quot;</span><span class="code SchemaTag">&gt;
     &lt;count value=</span><span class="code SchemaCstring">&quot;1&quot;</span><span class="code SchemaTag">/&gt;
      &lt;iterate&gt;
       &lt;or&gt;
        &lt;test property=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.launching.hasMain&quot;</span><span class="code SchemaTag">/&gt;
         &lt;and&gt;
          &lt;test property=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.launching.isContainer&quot;</span><span class="code SchemaTag">/&gt;
          &lt;test property=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.launching.hasProjectNature&quot;</span><span class="code SchemaTag"> args=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.core.javanature&quot;</span><span class="code SchemaTag">/&gt;
         &lt;/and&gt;
        &lt;/or&gt;
      &lt;/iterate&gt;
     &lt;/with&gt;
  &lt;/enablement&gt;
  &lt;/contextualLaunch&gt;
  &lt;configurationType
    id=</span><span class="code SchemaCstring">&quot;org.eclipse.jdt.launching.localJavaApplication&quot;</span><span class="code SchemaTag">&gt;
  &lt;/configurationType&gt;
  &lt;/shortcut&gt;
&lt;/extension&gt;
</span></pre>
</p>
<p>
In the above example, a launch shortcut will be shown in the run and debug cascade menus with the label
"Java Application". Furthermore, the shortcut will only appear if the selected item contains a main method or is a Java project, and has an <code>org.eclipse.debug.ui.actions.ILaunchable</code> adapter.
</p>
<p>
For more information on property testers see <code>org.eclipse.core.expressions.PropertyTester</code>
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">API Information: </h6><p>
Value of the attribute <b>class</b> must be a fully qualified name of a Java class that implements the 
interface <b>org.eclipse.debug.ui.ILaunchShortcut</b>.
New in 3.4, clients can implement <code>org.eclipse.debug.ui.ILaunchShortcut2</code> to participate in context sensitive launching of resource and non-resource based artifacts.
</p>
<p>
Since 3.1, the debug platform registers a command handler for each launch shortcut and its applicable modes to allow clients to define key-bindings for a launch shortcut. The command id for a handler is generated as the launch shortcut id attribute, followed by a dot and the applicable launch mode. For example, the command id for the above launch shortcut example would be <code>com.example.ExampleLaunchShortcutId.debug</code> for launching in debug mode. A command and key binding could be defined as follows, to bind "<code>ALT-SHIFT-D, E</code>" to the launch shortcut.
<pre class="Example"><span class="code SchemaTag">
   &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.commands&quot;</span><span class="code SchemaTag">&gt;
      &lt;command
            name=</span><span class="code SchemaCstring">&quot;Debug Example Launch&quot;</span><span class="code SchemaTag">
            description=</span><span class="code SchemaCstring">&quot;Debug Example Launch&quot;</span><span class="code SchemaTag">
            categoryId=</span><span class="code SchemaCstring">&quot;org.eclipse.debug.ui.category.run&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;com.example.ExampleLaunchShortcutId.debug&quot;</span><span class="code SchemaTag">&gt;
      &lt;/command&gt;
      &lt;keyBinding
            keySequence=</span><span class="code SchemaCstring">&quot;M3+M2+D E&quot;</span><span class="code SchemaTag">
            contextId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.globalScope&quot;</span><span class="code SchemaTag">
            commandId=</span><span class="code SchemaCstring">&quot;com.example.ExampleLaunchShortcutId.debug&quot;</span><span class="code SchemaTag">
            keyConfigurationId=</span><span class="code SchemaCstring">&quot;org.eclipse.ui.defaultAcceleratorConfiguration&quot;</span><span class="code SchemaTag">&gt;
      &lt;/keyBinding&gt;
   &lt;/extension&gt;      
</span></pre>
</p>
<p>
Since 3.3, launch shortcuts can now indicate what kind of launch configuration(s) they will create using the configurationType element. In the event that a given launch shortcut can create more than one type of launch configuration, more than one type can be specified using this element.<br>
Example:
<pre class="Example"><span class="code SchemaTag">
 &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.debug.ui.launchShortcuts&quot;</span><span class="code SchemaTag">&gt;
      &lt;shortcut
            class=</span><span class="code SchemaCstring">&quot;MyShortcut&quot;</span><span class="code SchemaTag">
            description=</span><span class="code SchemaCstring">&quot;Launches a simple program&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;myShortcut&quot;</span><span class="code SchemaTag">
            label=</span><span class="code SchemaCstring">&quot;My Shortcut&quot;</span><span class="code SchemaTag">
            modes=</span><span class="code SchemaCstring">&quot;run&quot;</span><span class="code SchemaTag">&gt;
         &lt;configurationType 
          id=</span><span class="code SchemaCstring">&quot;mylaunchtypes&quot;</span><span class="code SchemaTag">&gt;
         &lt;/configurationType&gt;
      &lt;/shortcut&gt;
   &lt;/extension&gt;
</span></pre>
</p>
<p>
Since 3.3, launch shortcuts can provdie a human readable description. This is used to aid novice users during the context launching process when they are presented with a listing of launch shortcuts to choose from.<br>
Descriptions can be provided in one of two ways:
<ol>
<li>A general description can be provided for the shortcut, which will apply to all modes that the shortcut supports</li>
<li>Each description can be specified for a specific mode</li>
</ol>
Example of general description which applies to run and debug modes:
<pre class="Example"><span class="code SchemaTag">
 &lt;shortcut
            class=</span><span class="code SchemaCstring">&quot;MyShortcut&quot;</span><span class="code SchemaTag">
            description=</span><span class="code SchemaCstring">&quot;Launches a simple program&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;myShortcut&quot;</span><span class="code SchemaTag">
            label=</span><span class="code SchemaCstring">&quot;My Shortcut&quot;</span><span class="code SchemaTag">
            modes=</span><span class="code SchemaCstring">&quot;run, debug&quot;</span><span class="code SchemaTag">&gt;
      &lt;/shortcut&gt;
   &lt;/extension&gt;
</span></pre>
Example of a description for the run mode only:
<pre class="Example"><span class="code SchemaTag">
 &lt;extension point=</span><span class="code SchemaCstring">&quot;org.eclipse.debug.ui.launchShortcuts&quot;</span><span class="code SchemaTag">&gt;
      &lt;shortcut
            class=</span><span class="code SchemaCstring">&quot;MyShortcut&quot;</span><span class="code SchemaTag">
            id=</span><span class="code SchemaCstring">&quot;myShortcut&quot;</span><span class="code SchemaTag">
            label=</span><span class="code SchemaCstring">&quot;My Shortcut&quot;</span><span class="code SchemaTag">
            modes=</span><span class="code SchemaCstring">&quot;run, debug&quot;</span><span class="code SchemaTag">&gt;
         &lt;description
               description=</span><span class="code SchemaCstring">&quot;Runs a simple program&quot;</span><span class="code SchemaTag">
               mode=</span><span class="code SchemaCstring">&quot;run&quot;</span><span class="code SchemaTag">&gt;
         &lt;/description&gt;
      &lt;/shortcut&gt;
   &lt;/extension&gt;
</span></pre>
</p>
<p></p>

<h6 class="CaptionFigColumn SchemaHeader">Supplied Implementation: </h6>No launch shortcuts are provided by the platform. Note that although launch shortcuts do not have to be associated with a specific launch configuration type, launch shortcut menus will not appear unless there is at least one launch configuration type that supports a shortcut's launch mode(s).
<p></p>

<br>
<p class="note SchemaCopyright">
Copyright (c) 2000, 2007 IBM Corporation and others.<br>

This program and the accompanying materials are made 
available under the terms of the Eclipse Public License 2.0 which 
accompanies this distribution, and is available at 
<a href="https://www.eclipse.org/legal/epl-2.0">https://www.eclipse.org/legal/epl-v20.html</a>/

SPDX-License-Identifier: EPL-2.0

</p>
</BODY>
</HTML>
<html id='2244.sA.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a><a href="s9.html" rel="prev">&lt;&lt;&nbsp;&sect;9&nbsp;Value Dependent Classes</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="sB.html" rel="next">&sect;B&nbsp;Changes between versions&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"></div>
         <div class="chapter" id="sA">
            <div class="headl">
               <div class="headr">
                  <h1>&sect;A&nbsp;OT/J Syntax</h1>
               </div>
            </div>
            <div id="toc-box">
               <ul class="toc-box">
                  <li><a href="sA.html">&sect;A&nbsp;OT/J Syntax</a></li>
                  <li><a href="#sA.0">&sect;A.0&nbsp;Keywords</a></li>
                  <li><a href="#sA.1">&sect;A.1&nbsp;Class definitions</a></li>
                  <li><a href="#sA.2">&sect;A.2&nbsp;Modifiers</a></li>
                  <li><a href="#sA.3">&sect;A.3&nbsp;Method bindings</a></li>
                  <li><a href="#sA.4">&sect;A.4&nbsp;Parameter mappings</a></li>
                  <li><a href="#sA.5">&sect;A.5&nbsp;Statements</a></li>
                  <li><a href="#sA.6">&sect;A.6&nbsp;Types</a></li>
                  <li><a href="#sA.7">&sect;A.7&nbsp;Guard predicates</a></li>
                  <li><a href="#sA.8">&sect;A.8&nbsp;Precedence declaration</a></li>
                  <li><a href="#sA.9">&sect;A.9&nbsp;Value dependent types</a></li>
                  <li><a href="#sA.10">&sect;A.10&nbsp;Packages and imports</a></li>
               </ul>
            </div>
            <div class="intro">
               <h3>Notation</h3>
               <p>The following grammar rules extend the Java grammar given in the 
                  	<a href="http://java.sun.com/docs/books/jls/second_edition/html/syntax.doc.html"
                     class="ext">Java Language Specification</a>.
                  	We adopt the conventions of printing non-terminal symbols in italic font
                  	(e.g., <tt><em>ClassDeclaration</em></tt>), 
                  	and terminal symbols in roman font (e.g., <tt>class</tt>).
                  	Names printed in black refer to definitions from the original Java grammar.
                  	Object Teams additions are printed in <strong class="blue">blue boldface</strong>.
                  	For those rules that simply add a new option to an existing rule,
                  	the original options are indicated by an ellipse (<code>...</code>).
                  		
               </p>
            </div>
            <div class="sect depth2" id="sA.0">
               <h2 class="sect">&sect;A.0&nbsp;Keywords<a class="img" href="sA.0.html" title="PermaLink to &sect;A.0&nbsp;Keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The keywords introduced by OT/J have different scopes, which means outside their
                  	given scope these keywords can be used for regular identifiers. Only these names
                  	are keywords unconditionally:
                  		
               </p>
               <div class="listing plain"><pre>readonly, team, within</pre></div>
               <div class="sect depth3" id="sA.0.1">
                  <h3 class="sect">&sect;A.0.1&nbsp;Scoped keywords<a class="img" href="sA.0.1.html"
                        title="PermaLink to &sect;A.0.1&nbsp;Scoped keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>The following names are keywords in OT/J only if they appear within a team or role class, 
                     		ie., after the keyword <strong class="blue">team</strong> has been recognized:
                     			
                  </p>
                  <div class="listing plain"><pre>as, base, callin, playedBy, precedence, tsuper, with, when</pre></div>
                  <p>These names are keywords only in the context of a callin or callout binding 
                     		respectively (<a href="#sA.3" title="&sect;A.3&nbsp;Method bindings" class="sect">&sect;A.3</a>):
                     			
                  </p>
                  <div class="listing plain"><pre>after, before, replace, get, set</pre></div>
               </div>
               <div class="sect depth3" id="sA.0.2">
                  <h3 class="sect">&sect;A.0.2&nbsp;Inheriting scoped keywords<a class="img" href="sA.0.2.html"
                        title="PermaLink to &sect;A.0.2&nbsp;Inheriting scoped keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>While regular Java classes may use the scoped keywords 
                     		(<a href="#sA.0.1" title="&sect;A.0.1&nbsp;Scoped keywords" class="sect">&sect;A.0.1</a>) of OT/J freely, it is an error if a role class 
                     		inherits a feature whose name is a scoped keyword.
                     			
                  </p>
               </div>
               <div class="sect depth3" id="sA.0.3">
                  <h3 class="sect">&sect;A.0.3&nbsp;Internal names<a class="img" href="sA.0.3.html"
                        title="PermaLink to &sect;A.0.3&nbsp;Internal names"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>Compiler and runtime environment generate internal methods and fields which start with 
                     		the prefix <code>_OT$</code>. It is illegal to use any of these methods and fields within client code.
                     			
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="sA.1">
               <h2 class="sect">&sect;A.1&nbsp;Class definitions<a class="img" href="sA.1.html"
                     title="PermaLink to &sect;A.1&nbsp;Class definitions"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>Class definitions add two new keywords <code>team</code> and
                  	<code>playedBy</code>. Classes which use these keywords are called
                  	<strong>teams</strong> and <strong>bound roles</strong>, respectively.
                  	Any class that inherits from a bound role class (either by an 
                  	<code>extends</code> clause or by implicit inheritance, cf. 
                  	<a href="s1.3.1.c.html"
                     title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                     class="sect">&sect;1.3.1.(c)</a>) is again a bound role class.
                  		
               </p>
               <table class="syntaxrule" id="sA.1.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.1.1</td>
                     <td class="rule"><span class="title">ClassDeclaration</span><br /><em>[Modifiers] </em><strong class="blue"><em>[</em>team<em>]</em></strong> class <em>Identifier [</em>extends <em>Type] [</em>implements <em>TypeList]</em><br /><span class="indent5"></span><strong class="blue"><em>[</em>playedBy <em>Type] [Guard]</em></strong><em> ClassBody</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>A class which has a <code>playedBy</code> clause (a <strong>bound
                           					role</strong> class) may not be declared static and 
                        					must be directly contained in a class that has the 
                        					<code>team</code> modifier (a <strong>team</strong> class).
                     </li>
                     <li>A class which inherits from a team class must have the
                        					<code>team</code> modifier, too.
                     </li>
                     <li>A class which has a guard (see <a href="s5.4.html" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>) 
                        					must be a team or a role.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.2">
               <h2 class="sect">&sect;A.2&nbsp;Modifiers<a class="img" href="sA.2.html" title="PermaLink to &sect;A.2&nbsp;Modifiers"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The rule for method modifiers adds one keyword: <code>callin</code>:
                  		
               </p>
               <table class="syntaxrule" id="sA.2.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.2.1</td>
                     <td class="rule"><span class="title">Modifier</span><br />... <br /><strong class="blue">callin</strong></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The class of a method which has the <code>callin</code> modifier 
                        					may not be declared static and must be directly contained in a team class.
                     </li>
                     <li>A method that has the <code>callin</code> modifier may not
                        					appear in an explicit method call (rule Apply in JLS).
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.3">
               <h2 class="sect">&sect;A.3&nbsp;Method bindings<a class="img" href="sA.3.html"
                     title="PermaLink to &sect;A.3&nbsp;Method bindings"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The rule of items declarable in a class body is augmented by method 
                  		   bindings:
                  		
               </p>
               <table class="syntaxrule" id="sA.3.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.1</td>
                     <td class="rule"><span class="title">ClassBodyDeclaration</span><br />... <br /><strong class="blue"><em>CalloutBinding</em></strong><br /><strong class="blue"><em>CallinBinding</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.2</td>
                     <td class="rule"><span class="title">CalloutBinding</span><br /><em>[Modifier] [TypeArguments] <strong class="blue">MethodSpec CalloutKind MethodSpec CalloutParameterMappings</strong></em><br /><em>[Modifier] [TypeArguments] <strong class="blue">MethodSpec CalloutKind CalloutModifier FieldSpec</strong></em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.3</td>
                     <td class="rule"><span class="title">Callin binding</span><br /><em>[ Identifier </em>:<em> ] [TypeArguments]</em><strong class="blue"><em> MethodSpec</em> &lt;- <em>CallinModifier MethodSpecs </em><br /><span class="indent5"></span>
                           			[<em>Guard</em>]<em> CallinParameterMappings</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.4</td>
                     <td class="rule"><span class="title">MethodSpec</span><br /><em>Identifier</em><br /><em>ResultType MethodDeclarator</em><br /><em>ConstructorDeclarator</em></td>
                  </tr>
               </table>
               <div class="note">
                  			Note, that <em>ResultType</em>, <em>MethodDeclarator</em> and <em>ConstructorDeclarator</em> are not explicit in the 
                  			overall syntax of the Java language specification. For convenience we refer to the definition in 
                  			sections <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4"
                     class="ext">8.4. Method Declarations</a>
                  			and <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.8"
                     class="ext">8.8. Constructor Declarations</a> 
                  			of the Java language specification.
                  		
               </div>
               <table class="syntaxrule" id="sA.3.5">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.5</td>
                     <td class="rule"><span class="title">MethodSpecs</span><br /><strong class="blue"><em>MethodSpec [</em>, <em>MethodSpecs]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.6">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.6</td>
                     <td class="rule"><span class="title">CalloutKind</span><br /><strong class="blue">-&gt;<br />=&gt;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.7">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.7</td>
                     <td class="rule"><span class="title">CallinModifier</span><br /><strong class="blue">before</strong><br /><strong class="blue">after</strong><br /><strong class="blue">replace</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.8">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.8</td>
                     <td class="rule"><span class="title">CalloutModifier</span><br /><strong class="blue">get</strong><br /><strong class="blue">set</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.9">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.9</td>
                     <td class="rule"><span class="title">FieldSpec</span><br /><em>[Type] Identifier</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li><code>CalloutBinding</code>s and <code>CallinBinding</code>s
                        					may occur only in bound role classes.
                     </li>
                     <li>A <code>CalloutBinding</code> or <code>CallinBinding</code> 
                        					may not mix identifiers and full signatures (<code>MethodDeclarationHead</code>) 
                        					for its method specifiers (<code>MethodSpec</code>).
                        					<br />
                        					Binding a full method signature to a field requires the <code>FieldSpec</code>
                        					to include the <code>Type</code>.
                     </li>
                     <li>The method specifier at the left hand side of a 
                        					<code>CallinBinding</code> which has the <code>replace</code> modifier 
                        					must refer to a method that has the <code>callin</code> modifier.
                     </li>
                     <li>The <code>Modifier</code> of a callout binding can only be one of the visility
                        					modifiers <code>public</code>, <code>protected</code> or <code>private</code>. 
                        					A short callout binding (i.e., without signatures) must not specify 
                        					a visibility modifier.
                     </li>
                     <li>A <code>MethodSpec</code> of the shape <code>ConstructorDeclarator</code> is
                        					legal only on the right hand side of a callin after binding (see <a href="s4.1.i.html" title="&sect;4.1.(i)&nbsp;Callin to constructor"
                           class="sect">&sect;4.1.(i)</a>).
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.4">
               <h2 class="sect">&sect;A.4&nbsp;Parameter mappings<a class="img" href="sA.4.html"
                     title="PermaLink to &sect;A.4&nbsp;Parameter mappings"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.4.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.1</td>
                     <td class="rule"><span class="title">CalloutParameterMappings</span><br /><strong class="blue">with { <em>CalloutParameterMappingList [,]</em> }</strong><br /><strong class="blue">;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.2</td>
                     <td class="rule"><span class="title">CallinParameterMappings</span><br /><strong class="blue">with { <em>CallinParameterMappingList [,]</em> }</strong><br /><strong class="blue">;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.3</td>
                     <td class="rule"><span class="title">CalloutParameterMappingList</span><br /><strong class="blue"><em>CalloutParameterMapping [</em>,<em> CalloutParameterMappingList]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.4</td>
                     <td class="rule"><span class="title">CallinParameterMappingList</span><br /><strong class="blue"><em>CallinParameterMapping [</em>,<em> CallinParameterMappingList]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.5">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.5</td>
                     <td class="rule"><span class="title">CalloutParameterMapping</span><br /><em>Expression</em><strong class="blue"> -&gt; </strong><em>Identifier</em><br /><strong class="blue">result &lt;- </strong><em>Expression</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.6">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.6</td>
                     <td class="rule"><span class="title">CallinParameterMapping</span><br /><em>Identifier</em><strong class="blue"> &lt;- </strong><em>Expression</em><br /><em>Expression</em><strong class="blue"> -&gt; </strong><strong class="blue">result</strong></td>
                  </tr>
               </table>
               <div class="note">
                  <h5>Note:</h5>
                  			By defining ";" as an option for parameter mappings, the grammar enforces that
                  			method bindings without a parameter mapping are terminated by a ";".
                  			Also method bindings with parameter mappings may optionally be terminated by a ";",
                  			which in that case is interpreted as an empty member declaration, following the
                  			same pattern how non-abstract methods in Java may optionally have a trailing ";".
                  		
               </div>
            </div>
            <div class="sect depth2" id="sA.5">
               <h2 class="sect">&sect;A.5&nbsp;Statements<a class="img" href="sA.5.html" title="PermaLink to &sect;A.5&nbsp;Statements"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.5.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.1</td>
                     <td class="rule"><span class="title">Statement</span><br />... <br /><em><strong class="blue">Within</strong><br /><strong class="blue">BaseCall</strong><br /><strong class="blue">TSuperCall</strong></em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.2</td>
                     <td class="rule"><span class="title">Within</span><br /><strong class="blue">within</strong> ( <em>Expression</em> ) <em>Statement</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.3</td>
                     <td class="rule"><span class="title">BaseCall</span><br /><strong class="blue">base</strong> . <em>Identifier</em> ( <em>Arguments<sub>opt</sub></em> )
                        			<br /><strong class="blue">base</strong> ( <em>Arguments<sub>opt</sub></em> )
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.4</td>
                     <td class="rule"><span class="title">TSuperCall</span><br /><strong class="blue">tsuper</strong> . <em>Identifier</em> ( <em>Arguments<sub>opt</sub></em> )
                        			<br /><strong class="blue">tsuper</strong> ( <em>Arguments<sub>opt</sub></em> )
                        		
                     </td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The expression of a <code>Within</code> must evaluate
                        	  				to an instance of a team class.
                     </li>
                     <li>The first form of a <code>BaseCall</code> may occur only
                        	  				in the body of a method that has the <code>callin</code> modifier.
                        	  				The identifier must be the name of the enclosing method.
                     </li>
                     <li>The second form of a <code>BaseCall</code> may occur only in a constructor of a 
                        	  				bound role class.
                     </li>
                     <li>The first form of a <code>TSuperCall</code> may occur only in a method of
                        	  				a role class.
                     </li>
                     <li>The second form of a <code>TSuperCall</code> may occur only in a constructor of a 
                        	  				role class.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.6">
               <h2 class="sect">&sect;A.6&nbsp;Types<a class="img" href="sA.6.html" title="PermaLink to &sect;A.6&nbsp;Types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.6.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.1</td>
                     <td class="rule"><span class="title">Type</span><br />... <br /><strong class="blue"><em>LiftingType</em></strong><br /><strong class="blue"><em>AnchoredType</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.2</td>
                     <td class="rule"><span class="title">LiftingType</span><br /><em>Type</em><strong class="blue"> as </strong><em>Type</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.3</td>
                     <td class="rule"><span class="title">AnchoredType</span><br /><strong class="blue"><em>Path</em></strong>.<em>Type</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.4</td>
                     <td class="rule"><span class="title">Path</span><br /><em>Identifier</em><br /><strong class="blue"><em>Path</em></strong>.<em>Identifier</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li id="sA.6.a"><span class="title">Location</span><br />
                        					A <code>LiftingType</code> may only occur in the parameter list 
                        					of a method of a team class.
                        				
                     </li>
                     <li id="sA.6.b"><span class="title">Role in scope</span><br />
                        					The right hand side type in a <code>LiftingType</code> 
                        					must be a class directly contained in the enclosing team class 
                        					(the class may be acquired by <a href="s1.3.1.c.html"
                           title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                           class="sect">implicit inheritance (&sect;1.3.1.(c))</a>).
                        				
                     </li>
                     <li id="sA.6.c"><span class="title">Team path</span><br /><em>Note, that the syntax of &sect;A.6.3/4 is deprecated in favor of <a href="#sA.9" title="&sect;A.9&nbsp;Value dependent types" class="sect">&sect;A.9</a></em>.
                        					<br />
                        					The path in an <code>AnchoredType</code> must refer to an instance of a team class. 
                        					Each identifier in the path must be declared with the <code>final</code> modifier.
                        				
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.7">
               <h2 class="sect">&sect;A.7&nbsp;Guard predicates<a class="img" href="sA.7.html"
                     title="PermaLink to &sect;A.7&nbsp;Guard predicates"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.7.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.7.1</td>
                     <td class="rule"><span class="title">Guard</span><br /><strong class="blue"><em>[</em>base<em>]</em> when</strong> ( <em>Expression</em> )
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.7.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.7.2</td>
                     <td class="rule"><span class="title">MethodDeclaration</span><br />...<br /><em>MethodHeader <strong class="blue">[Guard]</strong>  MethodBody</em></td>
                  </tr>
               </table>
               <p>Other rules referring to <em><code>Guard</code></em>: 
                  		   <a href="#sA.1.1" title="&sect;A.1.1&nbsp;ClassDeclaration" class="sect">ClassDeclaration (&sect;A.1.1)</a>, 
                  <a href="#sA.3.3" title="&sect;A.3.3&nbsp;Callin binding" class="sect">CallinBinding (&sect;A.3.3)</a></p>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The <code>Expression</code> in a guard must have type <code>boolean</code>.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.8">
               <h2 class="sect">&sect;A.8&nbsp;Precedence declaration<a class="img" href="sA.8.html"
                     title="PermaLink to &sect;A.8&nbsp;Precedence declaration"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.8.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.8.1</td>
                     <td class="rule"><span class="title">PrecedenceDeclaration</span><br /><strong class="blue">precedence [after] </strong><em> CallinNameList</em> ;
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.8.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.8.2</td>
                     <td class="rule"><span class="title">CallinNameList</span><br /><em>Name [, CallinNameList]</em></td>
                  </tr>
               </table>
            </div>
            <div class="sect depth2" id="sA.9">
               <h2 class="sect">&sect;A.9&nbsp;Value dependent types<a class="img" href="sA.9.html"
                     title="PermaLink to &sect;A.9&nbsp;Value dependent types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.9.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.9.1</td>
                     <td class="rule"><span class="title">TypeParameter</span><br /><em>TypeVariable [TypeBound]</em><br /><strong class="blue"><em>ReferenceType Name</em></strong></td>
                  </tr>
               </table>
               <p>See <a href="http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#108850"
                     class="ext">JLS 3 &sect;4.4</a></p>
               <table class="syntaxrule" id="sA.9.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.9.2</td>
                     <td class="rule"><span class="title">ActualTypeArgument</span><br /><em>ReferenceType</em><br /><em>Wildcard</em><br /><strong class="blue"><em>@Name</em></strong></td>
                  </tr>
               </table>
               <p>See <a href="http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#107353"
                     class="ext">JLS 3 &sect;4.5.1</a></p>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li id="sA.9.a"><span class="title">ActualTypeParameter</span><br />
                        					An <code>ActualTypeArgument</code> of the form  <code>@Name</code> may only occur 
                        					as a parameter of a simple name type reference.
                        				
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.10">
               <h2 class="sect">&sect;A.10&nbsp;Packages and imports<a class="img" href="sA.10.html"
                     title="PermaLink to &sect;A.10&nbsp;Packages and imports"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.10.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.10.1</td>
                     <td class="rule"><span class="title">PackageDeclaration</span><br />...<br /><strong class="blue">team </strong>package<em> QualifiedName</em> ;
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.10.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.10.2</td>
                     <td class="rule"><span class="title">Import</span><br />...<br /><strong>import </strong><strong class="blue">base </strong><em>QualifiedName</em> ;
                        		
                     </td>
                  </tr>
               </table>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"><a href="s9.html" rel="prev">&lt;&lt;&nbsp;&sect;9&nbsp;Value Dependent Classes</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="sB.html" rel="next">&sect;B&nbsp;Changes between versions&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="breadcrumb"></div>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2013-05-28
      </div>
   </body>
</html><html id='1903.sA.html'></html><!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "../xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <link rel="stylesheet" type="text/css" href="../css/ot.css" />
      <link rel="stylesheet" type="text/css" href="../css/otjld.css" />
      <title>OT/J Language Definition v1.3.1</title>
   </head>
   <body class="otdt">
      <div id="content">
         <table class="nav">
            <tr>
               <td class="back"><a id="top"></a><a href="s9.html" rel="prev">&lt;&lt;&nbsp;&sect;9&nbsp;Value Dependent Classes</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="sB.html" rel="next">&sect;B&nbsp;Changes between versions&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
         <div class="chapter" id="sA">
            <div class="headl">
               <div class="headr">
                  <h1>&sect;A&nbsp;OT/J Syntax</h1>
               </div>
            </div>
            <div id="toc-box">
               <ul class="toc-box">
                  <li><a href="sA.html">&sect;A&nbsp;OT/J Syntax</a></li>
                  <li><a href="#sA.0">&sect;A.0&nbsp;Keywords</a></li>
                  <li><a href="#sA.1">&sect;A.1&nbsp;Class definitions</a></li>
                  <li><a href="#sA.2">&sect;A.2&nbsp;Modifiers</a></li>
                  <li><a href="#sA.3">&sect;A.3&nbsp;Method bindings</a></li>
                  <li><a href="#sA.4">&sect;A.4&nbsp;Parameter mappings</a></li>
                  <li><a href="#sA.5">&sect;A.5&nbsp;Statements</a></li>
                  <li><a href="#sA.6">&sect;A.6&nbsp;Types</a></li>
                  <li><a href="#sA.7">&sect;A.7&nbsp;Guard predicates</a></li>
                  <li><a href="#sA.8">&sect;A.8&nbsp;Precedence declaration</a></li>
                  <li><a href="#sA.9">&sect;A.9&nbsp;Value dependent types</a></li>
                  <li><a href="#sA.10">&sect;A.10&nbsp;Packages and imports</a></li>
               </ul>
            </div>
            <div class="intro">
               <h3>Notation</h3>
               <p>The following grammar rules extend the Java grammar given in the 
                  	<a href="http://java.sun.com/docs/books/jls/second_edition/html/syntax.doc.html"
                     class="ext">Java Language Specification</a>.
                  	We adopt the conventions of printing non-terminal symbols in italic font
                  	(e.g., <tt><em>ClassDeclaration</em></tt>), 
                  	and terminal symbols in roman font (e.g., <tt>class</tt>).
                  	Names printed in black refer to definitions from the original Java grammar.
                  	Object Teams additions are printed in <strong class="blue">blue boldface</strong>.
                  	For those rules that simply add a new option to an existing rule,
                  	the original options are indicated by an ellipse (<code>...</code>).
                  		
               </p>
            </div>
            <div class="sect depth2" id="sA.0">
               <h2 class="sect">&sect;A.0&nbsp;Keywords<a class="img" href="sA.html#sA.0"
                     title="PermaLink to &sect;A.0&nbsp;Keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The keywords introduced by OT/J have different scopes, which means outside their
                  	given scope these keywords can be used for regular identifiers. Only these names
                  	are keywords unconditionally:
                  		
               </p>
               <div class="listing plain"><pre>readonly, team, within</pre></div>
               <div class="sect depth3" id="sA.0.1">
                  <h3 class="sect">&sect;A.0.1&nbsp;Scoped keywords<a class="img" href="sA.html#sA.0.1"
                        title="PermaLink to &sect;A.0.1&nbsp;Scoped keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>The following names are keywords in OT/J only if they appear within a team or role class, 
                     		ie., after the keyword <strong class="blue">team</strong> has been recognized:
                     			
                  </p>
                  <div class="listing plain"><pre>as, base, callin, playedBy, precedence, tsuper, with, when</pre></div>
                  <p>These names are keywords only in the context of a callin or callout binding 
                     		respectively (<a href="#sA.3" title="&sect;A.3&nbsp;Method bindings" class="sect">&sect;A.3</a>):
                     			
                  </p>
                  <div class="listing plain"><pre>after, before, replace, get, set</pre></div>
               </div>
               <div class="sect depth3" id="sA.0.2">
                  <h3 class="sect">&sect;A.0.2&nbsp;Inheriting scoped keywords<a class="img" href="sA.html#sA.0.2"
                        title="PermaLink to &sect;A.0.2&nbsp;Inheriting scoped keywords"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>While regular Java classes may use the scoped keywords 
                     		(<a href="#sA.0.1" title="&sect;A.0.1&nbsp;Scoped keywords" class="sect">&sect;A.0.1</a>) of OT/J freely, it is an error if a role class 
                     		inherits a feature whose name is a scoped keyword.
                     			
                  </p>
               </div>
               <div class="sect depth3" id="sA.0.3">
                  <h3 class="sect">&sect;A.0.3&nbsp;Internal names<a class="img" href="sA.html#sA.0.3"
                        title="PermaLink to &sect;A.0.3&nbsp;Internal names"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                             alt="" /></a><span class="toplink"><a href="#sA.0">&uarr;&nbsp;&sect;A.0</a></span></h3>
                  <p>Compiler and runtime environment generate internal methods and fields which start with 
                     		the prefix <code>_OT$</code>. It is illegal to use any of these methods and fields within client code.
                     			
                  </p>
               </div>
            </div>
            <div class="sect depth2" id="sA.1">
               <h2 class="sect">&sect;A.1&nbsp;Class definitions<a class="img" href="sA.html#sA.1"
                     title="PermaLink to &sect;A.1&nbsp;Class definitions"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>Class definitions add two new keywords <code>team</code> and
                  	<code>playedBy</code>. Classes which use these keywords are called
                  	<strong>teams</strong> and <strong>bound roles</strong>, respectively.
                  	Any class that inherits from a bound role class (either by an 
                  	<code>extends</code> clause or by implicit inheritance, cf. 
                  	<a href="s1.html#s1.3.1.c"
                     title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                     class="sect">&sect;1.3.1.(c)</a>) is again a bound role class.
                  		
               </p>
               <table class="syntaxrule" id="sA.1.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.1.1</td>
                     <td class="rule"><span class="title">ClassDeclaration</span><br /><em>[Modifiers] </em><strong class="blue"><em>[</em>team<em>]</em></strong> class <em>Identifier [</em>extends <em>Type] [</em>implements <em>TypeList]</em><br /><span class="indent5"></span><strong class="blue"><em>[</em>playedBy <em>Type] [Guard]</em></strong><em> ClassBody</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>A class which has a <code>playedBy</code> clause (a <strong>bound
                           					role</strong> class) may not be declared static and 
                        					must be directly contained in a class that has the 
                        					<code>team</code> modifier (a <strong>team</strong> class).
                     </li>
                     <li>A class which inherits from a team class must have the
                        					<code>team</code> modifier, too.
                     </li>
                     <li>A class which has a guard (see <a href="s5.html#s5.4" title="&sect;5.4&nbsp;Guard predicates" class="sect">&sect;5.4</a>) 
                        					must be a team or a role.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.2">
               <h2 class="sect">&sect;A.2&nbsp;Modifiers<a class="img" href="sA.html#sA.2"
                     title="PermaLink to &sect;A.2&nbsp;Modifiers"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The rule for method modifiers adds one keyword: <code>callin</code>:
                  		
               </p>
               <table class="syntaxrule" id="sA.2.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.2.1</td>
                     <td class="rule"><span class="title">Modifier</span><br />... <br /><strong class="blue">callin</strong></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The class of a method which has the <code>callin</code> modifier 
                        					may not be declared static and must be directly contained in a team class.
                     </li>
                     <li>A method that has the <code>callin</code> modifier may not
                        					appear in an explicit method call (rule Apply in JLS).
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.3">
               <h2 class="sect">&sect;A.3&nbsp;Method bindings<a class="img" href="sA.html#sA.3"
                     title="PermaLink to &sect;A.3&nbsp;Method bindings"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <p>The rule of items declarable in a class body is augmented by method 
                  		   bindings:
                  		
               </p>
               <table class="syntaxrule" id="sA.3.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.1</td>
                     <td class="rule"><span class="title">ClassBodyDeclaration</span><br />... <br /><strong class="blue"><em>CalloutBinding</em></strong><br /><strong class="blue"><em>CallinBinding</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.2</td>
                     <td class="rule"><span class="title">CalloutBinding</span><br /><em>[Modifier] [TypeArguments] <strong class="blue">MethodSpec CalloutKind MethodSpec CalloutParameterMappings</strong></em><br /><em>[Modifier] [TypeArguments] <strong class="blue">MethodSpec CalloutKind CalloutModifier FieldSpec</strong></em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.3</td>
                     <td class="rule"><span class="title">Callin binding</span><br /><em>[ Identifier </em>:<em> ] [TypeArguments]</em><strong class="blue"><em> MethodSpec</em> &lt;- <em>CallinModifier MethodSpecs </em><br /><span class="indent5"></span>
                           			[<em>Guard</em>]<em> CallinParameterMappings</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.4</td>
                     <td class="rule"><span class="title">MethodSpec</span><br /><em>Identifier</em><br /><em>ResultType MethodDeclarator</em><br /><em>ConstructorDeclarator</em></td>
                  </tr>
               </table>
               <div class="note">
                  			Note, that <em>ResultType</em>, <em>MethodDeclarator</em> and <em>ConstructorDeclarator</em> are not explicit in the 
                  			overall syntax of the Java language specification. For convenience we refer to the definition in 
                  			sections <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4"
                     class="ext">8.4. Method Declarations</a>
                  			and <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.8"
                     class="ext">8.8. Constructor Declarations</a> 
                  			of the Java language specification.
                  		
               </div>
               <table class="syntaxrule" id="sA.3.5">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.5</td>
                     <td class="rule"><span class="title">MethodSpecs</span><br /><strong class="blue"><em>MethodSpec [</em>, <em>MethodSpecs]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.6">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.6</td>
                     <td class="rule"><span class="title">CalloutKind</span><br /><strong class="blue">-&gt;<br />=&gt;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.7">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.7</td>
                     <td class="rule"><span class="title">CallinModifier</span><br /><strong class="blue">before</strong><br /><strong class="blue">after</strong><br /><strong class="blue">replace</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.8">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.8</td>
                     <td class="rule"><span class="title">CalloutModifier</span><br /><strong class="blue">get</strong><br /><strong class="blue">set</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.3.9">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.3.9</td>
                     <td class="rule"><span class="title">FieldSpec</span><br /><em>[Type] Identifier</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li><code>CalloutBinding</code>s and <code>CallinBinding</code>s
                        					may occur only in bound role classes.
                     </li>
                     <li>A <code>CalloutBinding</code> or <code>CallinBinding</code> 
                        					may not mix identifiers and full signatures (<code>MethodDeclarationHead</code>) 
                        					for its method specifiers (<code>MethodSpec</code>).
                        					<br />
                        					Binding a full method signature to a field requires the <code>FieldSpec</code>
                        					to include the <code>Type</code>.
                     </li>
                     <li>The method specifier at the left hand side of a 
                        					<code>CallinBinding</code> which has the <code>replace</code> modifier 
                        					must refer to a method that has the <code>callin</code> modifier.
                     </li>
                     <li>The <code>Modifier</code> of a callout binding can only be one of the visility
                        					modifiers <code>public</code>, <code>protected</code> or <code>private</code>. 
                        					A short callout binding (i.e., without signatures) must not specify 
                        					a visibility modifier.
                     </li>
                     <li>A <code>MethodSpec</code> of the shape <code>ConstructorDeclarator</code> is
                        					legal only on the right hand side of a callin after binding (see <a href="s4.html#s4.1.i" title="&sect;4.1.(i)&nbsp;Callin to constructor"
                           class="sect">&sect;4.1.(i)</a>).
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.4">
               <h2 class="sect">&sect;A.4&nbsp;Parameter mappings<a class="img" href="sA.html#sA.4"
                     title="PermaLink to &sect;A.4&nbsp;Parameter mappings"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.4.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.1</td>
                     <td class="rule"><span class="title">CalloutParameterMappings</span><br /><strong class="blue">with { <em>CalloutParameterMappingList [,]</em> }</strong><br /><strong class="blue">;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.2</td>
                     <td class="rule"><span class="title">CallinParameterMappings</span><br /><strong class="blue">with { <em>CallinParameterMappingList [,]</em> }</strong><br /><strong class="blue">;</strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.3</td>
                     <td class="rule"><span class="title">CalloutParameterMappingList</span><br /><strong class="blue"><em>CalloutParameterMapping [</em>,<em> CalloutParameterMappingList]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.4</td>
                     <td class="rule"><span class="title">CallinParameterMappingList</span><br /><strong class="blue"><em>CallinParameterMapping [</em>,<em> CallinParameterMappingList]</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.5">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.5</td>
                     <td class="rule"><span class="title">CalloutParameterMapping</span><br /><em>Expression</em><strong class="blue"> -&gt; </strong><em>Identifier</em><br /><strong class="blue">result &lt;- </strong><em>Expression</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.4.6">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.4.6</td>
                     <td class="rule"><span class="title">CallinParameterMapping</span><br /><em>Identifier</em><strong class="blue"> &lt;- </strong><em>Expression</em><br /><em>Expression</em><strong class="blue"> -&gt; </strong><strong class="blue">result</strong></td>
                  </tr>
               </table>
               <div class="note">
                  <h5>Note:</h5>
                  			By defining ";" as an option for parameter mappings, the grammar enforces that
                  			method bindings without a parameter mapping are terminated by a ";".
                  			Also method bindings with parameter mappings may optionally be terminated by a ";",
                  			which in that case is interpreted as an empty member declaration, following the
                  			same pattern how non-abstract methods in Java may optionally have a trailing ";".
                  		
               </div>
            </div>
            <div class="sect depth2" id="sA.5">
               <h2 class="sect">&sect;A.5&nbsp;Statements<a class="img" href="sA.html#sA.5"
                     title="PermaLink to &sect;A.5&nbsp;Statements"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.5.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.1</td>
                     <td class="rule"><span class="title">Statement</span><br />... <br /><em><strong class="blue">Within</strong><br /><strong class="blue">BaseCall</strong><br /><strong class="blue">TSuperCall</strong></em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.2</td>
                     <td class="rule"><span class="title">Within</span><br /><strong class="blue">within</strong> ( <em>Expression</em> ) <em>Statement</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.3</td>
                     <td class="rule"><span class="title">BaseCall</span><br /><strong class="blue">base</strong> . <em>Identifier</em> ( <em>Arguments<sub>opt</sub></em> )
                        			<br /><strong class="blue">base</strong> ( <em>Arguments<sub>opt</sub></em> )
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.5.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.5.4</td>
                     <td class="rule"><span class="title">TSuperCall</span><br /><strong class="blue">tsuper</strong> . <em>Identifier</em> ( <em>Arguments<sub>opt</sub></em> )
                        			<br /><strong class="blue">tsuper</strong> ( <em>Arguments<sub>opt</sub></em> )
                        		
                     </td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The expression of a <code>Within</code> must evaluate
                        	  				to an instance of a team class.
                     </li>
                     <li>The first form of a <code>BaseCall</code> may occur only
                        	  				in the body of a method that has the <code>callin</code> modifier.
                        	  				The identifier must be the name of the enclosing method.
                     </li>
                     <li>The second form of a <code>BaseCall</code> may occur only in a constructor of a 
                        	  				bound role class.
                     </li>
                     <li>The first form of a <code>TSuperCall</code> may occur only in a method of
                        	  				a role class.
                     </li>
                     <li>The second form of a <code>TSuperCall</code> may occur only in a constructor of a 
                        	  				role class.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.6">
               <h2 class="sect">&sect;A.6&nbsp;Types<a class="img" href="sA.html#sA.6" title="PermaLink to &sect;A.6&nbsp;Types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.6.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.1</td>
                     <td class="rule"><span class="title">Type</span><br />... <br /><strong class="blue"><em>LiftingType</em></strong><br /><strong class="blue"><em>AnchoredType</em></strong></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.2</td>
                     <td class="rule"><span class="title">LiftingType</span><br /><em>Type</em><strong class="blue"> as </strong><em>Type</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.3">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.3</td>
                     <td class="rule"><span class="title">AnchoredType</span><br /><strong class="blue"><em>Path</em></strong>.<em>Type</em></td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.6.4">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.6.4</td>
                     <td class="rule"><span class="title">Path</span><br /><em>Identifier</em><br /><strong class="blue"><em>Path</em></strong>.<em>Identifier</em></td>
                  </tr>
               </table>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li id="sA.6.a"><span class="title">Location</span><br />
                        					A <code>LiftingType</code> may only occur in the parameter list 
                        					of a method of a team class.
                        				
                     </li>
                     <li id="sA.6.b"><span class="title">Role in scope</span><br />
                        					The right hand side type in a <code>LiftingType</code> 
                        					must be a class directly contained in the enclosing team class 
                        					(the class may be acquired by <a href="s1.html#s1.3.1.c"
                           title="&sect;1.3.1.(c)&nbsp;Overriding and implicit inheritance"
                           class="sect">implicit inheritance (&sect;1.3.1.(c))</a>).
                        				
                     </li>
                     <li id="sA.6.c"><span class="title">Team path</span><br /><em>Note, that the syntax of &sect;A.6.3/4 is deprecated in favor of <a href="#sA.9" title="&sect;A.9&nbsp;Value dependent types" class="sect">&sect;A.9</a></em>.
                        					<br />
                        					The path in an <code>AnchoredType</code> must refer to an instance of a team class. 
                        					Each identifier in the path must be declared with the <code>final</code> modifier.
                        				
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.7">
               <h2 class="sect">&sect;A.7&nbsp;Guard predicates<a class="img" href="sA.html#sA.7"
                     title="PermaLink to &sect;A.7&nbsp;Guard predicates"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.7.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.7.1</td>
                     <td class="rule"><span class="title">Guard</span><br /><strong class="blue"><em>[</em>base<em>]</em> when</strong> ( <em>Expression</em> )
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.7.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.7.2</td>
                     <td class="rule"><span class="title">MethodDeclaration</span><br />...<br /><em>MethodHeader <strong class="blue">[Guard]</strong>  MethodBody</em></td>
                  </tr>
               </table>
               <p>Other rules referring to <em><code>Guard</code></em>: 
                  		   <a href="#sA.1.1" title="&sect;A.1.1&nbsp;ClassDeclaration" class="sect">ClassDeclaration (&sect;A.1.1)</a>, 
                  <a href="#sA.3.3" title="&sect;A.3.3&nbsp;Callin binding" class="sect">CallinBinding (&sect;A.3.3)</a></p>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li>The <code>Expression</code> in a guard must have type <code>boolean</code>.
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.8">
               <h2 class="sect">&sect;A.8&nbsp;Precedence declaration<a class="img" href="sA.html#sA.8"
                     title="PermaLink to &sect;A.8&nbsp;Precedence declaration"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.8.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.8.1</td>
                     <td class="rule"><span class="title">PrecedenceDeclaration</span><br /><strong class="blue">precedence [after] </strong><em> CallinNameList</em> ;
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.8.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.8.2</td>
                     <td class="rule"><span class="title">CallinNameList</span><br /><em>Name [, CallinNameList]</em></td>
                  </tr>
               </table>
            </div>
            <div class="sect depth2" id="sA.9">
               <h2 class="sect">&sect;A.9&nbsp;Value dependent types<a class="img" href="sA.html#sA.9"
                     title="PermaLink to &sect;A.9&nbsp;Value dependent types"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.9.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.9.1</td>
                     <td class="rule"><span class="title">TypeParameter</span><br /><em>TypeVariable [TypeBound]</em><br /><strong class="blue"><em>ReferenceType Name</em></strong></td>
                  </tr>
               </table>
               <p>See <a href="http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#108850"
                     class="ext">JLS 3 &sect;4.4</a></p>
               <table class="syntaxrule" id="sA.9.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.9.2</td>
                     <td class="rule"><span class="title">ActualTypeArgument</span><br /><em>ReferenceType</em><br /><em>Wildcard</em><br /><strong class="blue"><em>@Name</em></strong></td>
                  </tr>
               </table>
               <p>See <a href="http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#107353"
                     class="ext">JLS 3 &sect;4.5.1</a></p>
               <div class="constraints">
                  <h5 class="constraints">Contextual constraints:</h5>
                  <ol class="constraints">
                     <li id="sA.9.a"><span class="title">ActualTypeParameter</span><br />
                        					An <code>ActualTypeArgument</code> of the form  <code>@Name</code> may only occur 
                        					as a parameter of a simple name type reference.
                        				
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect depth2" id="sA.10">
               <h2 class="sect">&sect;A.10&nbsp;Packages and imports<a class="img" href="sA.html#sA.10"
                     title="PermaLink to &sect;A.10&nbsp;Packages and imports"><img style="vertical-align:text-top;margin-left:5px;" src="../images/permalink.png"
                          alt="" /></a><span class="toplink"><a href="#top">&uarr;&nbsp;&sect;A</a></span></h2>
               <table class="syntaxrule" id="sA.10.1">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.10.1</td>
                     <td class="rule"><span class="title">PackageDeclaration</span><br />...<br /><strong class="blue">team </strong>package<em> QualifiedName</em> ;
                        		
                     </td>
                  </tr>
               </table>
               <table class="syntaxrule" id="sA.10.2">
                  <tr>
                     <td class="sect">&sect;&nbsp;A.10.2</td>
                     <td class="rule"><span class="title">Import</span><br />...<br /><strong>import </strong><strong class="blue">base </strong><em>QualifiedName</em> ;
                        		
                     </td>
                  </tr>
               </table>
            </div>
         </div>
         <table class="nav">
            <tr>
               <td class="back"><a href="s9.html" rel="prev">&lt;&lt;&nbsp;&sect;9&nbsp;Value Dependent Classes</a></td>
               <td class="top"><a href="index.html" rel="contents">&uarr;&nbsp;Table of Contents&nbsp;&uarr;</a></td>
               <td class="next"><a href="sB.html" rel="next">&sect;B&nbsp;Changes between versions&nbsp;&gt;&gt;</a></td>
            </tr>
         </table>
      </div>
      <div id="footer">
         <hr /><a class="w3c img" href="http://jigsaw.w3.org/css-validator/check/referer"
            shape="rect"><img src="../images/valid-css2-blue.png" alt="Valid CSS!" height="31" width="88" /></a><a class="w3c img" href="http://validator.w3.org/check?uri=referer" shape="rect"><img src="../images/valid-xhtml10-blue.png" alt="Valid XHTML 1.0 Strict" height="31"
                 width="88" /></a><address>&copy; Stephan Herrmann, Christine Hundt, Marco Mosconi</address>
         			OT/J version 1.3.1 &mdash; last modified: 2013-05-28
      </div>
   </body>
</html><html id='0594.EMF.Edit.html'></html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link rel="stylesheet" href="images/../../../css/book.css" type="text/css"/>
<link rel="stylesheet" href="images/../../../css/emf-book.css" type="text/css"/>
<title>EMF.Edit Overview</title>
</head>
<body lang="EN-US" xml:lang="EN-US">
<h1>EMF.Edit Overview</h1>

<p>Last updated: June 1, 2004</p>

<p>This document assumes familiarity with basic EMF (Eclipse Modeling Framework)
concepts. For more information on EMF, refer to the
<a href="../../references/overview/EMF.html">EMF Overview</a>.</p>


<h2>Contents</h2>
<p><a href="#introduction">Introduction</a><br/>
<a href="#jface">Displaying EMF Objects in JFace Viewers</a><br/>
<a href="#providers">Item Provider Implementation Classes</a><br/>
<a href="#commands">Modifying EMF Models Using Commands</a><br/>
<a href="#generator">Using the EMF.Edit Code Generator</a></p>

<h2><a name="introduction">Introduction</a></h2>

<p>If you have an EMF-based model that you've generated code for using the EMF
generator, and you are now ready to add user interfaces to your model and code,
you can use the EMF.Edit framework to make your job easier.</p>

<p>EMF.Edit is an Eclipse framework that includes generic reusable classes for
building editors for EMF models. It provides:</p>

<ul>
<li>Content and label provider classes, property source support, and other
convenience classes that allow EMF models to be displayed using standard desktop
(JFace) viewers and property sheets.</li>
<li>A command framework, including a set of generic command implementation
classes for building editors that support fully automatic undo and redo.</li>
<li>A code generator capable of generating everything needed to build a complete
editor plug-in for your EMF model. It produces a properly structured editor that
conforms to the recommended style for Eclipse EMF model editors. You can then
customize the code however you like, without losing your connection to the
model.</li>
</ul>

<p>This paper gives an overview of the basic concepts of the EMF.Edit frameowrk
and generator tool. For more in-depth information, you can refer to the
documentation for the framework classes, which covers in detail their specific
behaviors and capabilities.</p>

<h2><a name="jface">Displaying EMF Objects in JFace Viewers</a></h2>

<h3>What's a content provider?</h3>

<p>The Eclipse user interface framework (JFace) includes a set of reusable
viewer classes (for example TreeViewer, TableViewer) for displaying structured
models. Rather than requiring the model objects being viewed to adhere to some
specific protocol (that is, implement some specific interface), JFace viewers
work with any kind of object (that is, any java.lang.Object subclass). This is
possible because the viewers, instead of navigating the model objects directly,
access the model objects through an adapter object called a <dfn>content
provider</dfn>.</p>

<p>Each viewer class uses a content provider that implements a specific provider
interface. For example, a TreeViewer uses a content provider that implements the
following interface:</p>

<pre>
  public interface ITreeContentProvider ...
  {
    public Object[] getChildren(Object object);
    public Object getParent(Object object);
    ...
  }
</pre>

<p>The basic structure is shown in the following diagram:</p>

<img src="images/EMF.Edit/image001.gif" border="0" width="481" height="207" alt="JFace content provider"/>

<p>As far as the TreeViewer is concerned it is displaying a tree of objects (it
calls them items) on the screen, all of which, except the input (root) object,
are provided to it by calling getChildren() on its content provider.</p>

<p>Other kinds of viewers are handled similarly, although each viewer requires
the content provider to implement its specific interface. Although all of the
viewer interfaces are different, a content provider can often implement several
of them at once, allowing the same content provider class to be used for many
kinds of viewers.</p>

<h3>Providing content for an EMF model</h3>

<p>The EMF.Edit framework provides a generic content provider implementation
class that can be used to provide content for EMF models. Class
AdapterFactoryContentProvider implements the content provider interfaces by
delegating to EMF adapters that know how to navigate the model objects (items)
for the viewers. For example, the EMF adapter class used to support a tree
viewer would implement the following EMF.Edit interface:</p>

<pre>
  public interface ITreeItemProvider
  {
    public Collection getChildren(Object object);
    public Object getParent(Object object);
    ...
  }
</pre>

<p>Notice the similarity of this interface to the content provider interface
ITreeContentProvider described above. The AdapterFactoryContentProvider
implements the content provider interface by locating and then delegating to an
adapter (implementing the item provider interface) for the required item. The
shift in terminology from objects to items is deliberate: from the viewer's
point of view, they are items, not objects.</p>

<p>The EMF picture looks like this:</p>

<img src="images/EMF.Edit/image002.gif" border="0" width="607" height="231" alt="AdapterFactoryContentProvider delegation to item providers"/>

<p class="Note">Note: you can automatically generate an
ItemProviderAdapterFactory and ItemProvider classes for a given EMF model using
the generator provided with the EMF.Edit framework. More about this later.</p>

<p>The AdapterFactoryContentProvider is constructed with an adapter factory
which, like any other EMF adapter factory, serves to create and locate adapters
of a specific type (ItemProviders in this case). The content provider services a
request like getChildren() by calling adapt(item) on the
ItemProviderAdapterFactory, which will create or return the ItemProvider
(adapter) for the specified item. It then simply delegates to the getChildren()
method of the required interface (in this case, ITreeItemProvider).</p>

<p>The getChildren() method in AdapterFactoryContentProvider looks something
like this:</p>

<pre>
  public Object[] getChildren(Object object)
  {
    ITreeItemContentProvider adapter =
      (ITreeItemContentProvider)
        adapterFactory.adapt(object, ITreeItemContentProvider.class);
    return adapter.getChildren(object).toArray();
  }
</pre>

<p>This same pattern is used for all of the content provider methods. As stated
previously, the AdapterFactoryContentProvider does nothing more than simply
delegate content provider methods to the specific item provider (adapter) that
knows how to service the request.</p>

<p>In the getChildren() method above, the object being passed to
adapterFactory.adapt() is a simple java.lang.Object (not an
org.eclipse.emf.ecore.EObject). This is an important feature of the EMF.Edit
framework. The framework has been carefully designed to accommodate views on EMF
models that may be different from the model itself (that is, views that suppress
objects or include additional, phantom, objects). To allow this mixture of EMF
and non-EMF objects, the framework base class for adapter factories provides an
implementation of adapt() that works something like this:</p>

<pre>
  public Object adapt(Object object, Object type)
  {
    if (object instanceof Notifier)
      return this.adapt((Notifier)object, type);
    else
      return object;
  }
</pre>

<p>If the specified object is not an EMF
Notifier<sup><a class="footnote" href="#fn1">[1]</a><a name="ref1">&nbsp;</a></sup>,
it returns the object itself. With this design, an item provider that wants to
add non-EMF items to a view can simply return (for example, from its
getChildren() method) any non-EMF object it wants. As long as the returned
object implements the viewer's required item provider interface (for example,
ITreeItemProvider) it will be treated like all the other EMF items.</p>

<p>This aspect of the design highlights why we prefer to call the
provider/adapter classes item providers instead of adapters. In nontrivial
applications, the view model (that is, the one provided by the viewer's content
provider) will often be a mixture of &quot;real&quot; (EMF) model objects whose
item providers also happen to be (EMF) adapters, and &quot;phantom&quot; objects
whose item providers are the objects themselves. So, while all of the adapters
are also item providers, the reverse is not necessarily true.</p>

<h3>JFace label providers</h3>

<p>In the previous sections we described how JFace viewers use a content
provider to get their content items. A similar approach is used for getting the
label image and text for the items being displayed by a viewer. Instead of
asking the items themselves for their labels, a viewer uses another object
called a label provider (similar to a content provider). A TreeViewer, for
example, delegates to an object implementing the ILabelProvider interface to get
the labels of the items in the tree.</p>

<h3>Providing labels for EMF objects</h3>

<p>The EMF.Edit framework uses the same mechanism for implementing label
providers for EMF models as it uses for providing the content. A generic label
provider implementation class, AdapterFactoryLabelProvider (working exactly like
AdapterFactoryContentProvider), delegates the ILabelProvider interface to the
item providers for the model (the same item providers that provide the content).
The expanded picture looks like this:</p>

<img src="images/EMF.Edit/image003.gif" border="0" width="608" height="326" alt="AdapterFactoryLabelProvider delegation to item providers"/>

<p>The content and label provider can (and usually will) delegate to the same
adapter factory and, consequently, the same item providers. Just as for the
content provider, the item providers are where the work actually gets done.</p>

<p>Using the EMF.Edit provider classes, a user might construct a TreeViewer for
some EMF model as follows:</p>

<pre>
  myAdapterFactory = ...

  treeViewer = new TreeViewer();

  treeViewer.setContentProvider(new AdapterFactoryContentProvider(myAdapterFactory));
  treeViewer.setLabelProvider(new AdapterFactoryLabelProvider(myAdapterFactory));
</pre>

<p>This TreeViewer can then be displayed in, for example, an editor window in
the usual (JFace prescribed) way.</p>

<p>You might be thinking this all seems quite trivial so far, but only because
all we've shown is how to delegate to somebody else (that is, the adapter
factory). We haven't implemented any of the methods yet, we've just delegated
them away. However, the method implementation is supported by EMF.Edit, which
includes a code generator that generates most of the item provider and factory
code for you. Before we get into that, we'll first take a look at how item
providers do their job.</p>

<h2><a name="providers">Item Provider Implementation Classes</a></h2>

<p>As shown in the previous section, the real work of providing content for EMF
models is done by the item provider adapters attached to the model. The number
and types of ItemProvider adapters in the previous diagram was left
intentionally vague. This is because the EMF.Edit framework supports two
different patterns for the item provider adapters:</p>

<ol>
<li>Stateful adapters - one adapter object for every object in the model</li>
<li>Singleton adapters - one adapter object for every type of object in the
model (recommended when possible)</li>
</ol>

<p>The item providers for a given model can be implemented with either of these
patterns or with a mixture of them both.</p>

<h3>Stateful item provider adapters</h3>

<p>With the first pattern, every object in a model has a one-to-one
correspondence with its adapter. Each adapter has a pointer (called target) to
the one-and-only object it's adapting.</p>

<p>The picture looks like this:</p>

<img src="images/EMF.Edit/image004.gif" border="0" width="615" height="257" alt="Stateful item provider adapters"/>

<p>As shown, this pattern doubles the number of objects in the application, and
therefore only makes sense in applications where the instances are needed to
carry additional state. That's why we call it the Stateful pattern.</p>

<h3>Singleton item provider adapters</h3>

<p>A better approach, that avoids most of the extra objects, is the Singleton
pattern. With this pattern we use a single item provider adapter for all the
items of the same type. It looks like this:</p>

<img src="images/EMF.Edit/image005.gif" border="0" width="615" height="257" alt="Singleton item provider adapters"/>

<p>In this picture, the objects have adapter pointers, as usual, but the item
providers (which are shared) have no pointers back to the objects. If you
remember the tree item provider interface that we looked at previously in the
content provider section, you may have noticed that all the methods took an
extra argument (an object):</p>

<pre>
  public interface ITreeItemProvider
  {
    public Collection getChildren(Object object);
    public Object getParent(Object object);
    ...
  }
</pre>

<p>The object argument was added to each item provider interface specifically to
support this pattern. In the Stateful case, this object will always be the same
as the adapter's target.</p>

<p>Another question you may be asking yourself, is why don't we support a
&quot;true&quot; Singleton adapter pattern - that is, exactly one adapter for
all the objects? The answer is simply that while it is another possible pattern
(compatible with the EMF.Edit
framework)<sup><a class="footnote" href="#fn2">[2]</a><a name="ref2">&nbsp;</a></sup>,
we discourage it because a completely dynamic implementation, although simple,
is difficult to customize (without lots of messy instanceof() checks). The
alternative of having typed item provider classes, whose inheritance hierarchy
mirrors the model's, provides a convenient dispatch point for implementing nice
clean object-oriented view code for a model.</p>

<h2><a name="commands">Modifying EMF Models Using Commands</a></h2>

<p>So far we've only shown how to view EMF models using content and label
providers. Another feature of the EMF.Edit framework is its support for
command-based editing of a model. We use the term &quot;editing&quot; to mean
undoable modification, as opposed to simple &quot;writing&quot; of a model.</p>

<h3>Editing domains</h3>

<p>The EMF.Edit interface EditingDomain is used to provide editing access to an
EMF model. Another EMF.Edit implementation class, AdapterFactoryEditingDomain,
works like the content and label providers by delegating its implementation to
the item providers (through the ItemProviderAdapterFactory):</p>

<img src="images/EMF.Edit/image006.gif" border="0" width="608" height="249" alt="Editing domain"/>

<p>As shown, it also provides access to a command stack through which all
modifications to the model will be made. The editing domain provides two
fundamental services:</p>

<ul>
<li>A factory for commands</li>
<li>A provider of model-specific details for generic EMF.Edit commands (like
Add, Remove, Copy, and so on).</li>
</ul>

<p>The best way to think about an editing domain is as the modification or write
provider to the model, while the content and label providers are the viewing or
read provider. Here's the big picture:</p>

<img src="images/EMF.Edit/image007.gif" border="0" width="607" height="331" alt="Read and write providers"/>

<h3>Modifying a model</h3>

<p>Let's look at a simple example of modifying a model.</p>

<p>Assume class Company has a one-to-many reference, named departments, to class
Department. To remove a department from the company (to implement, for example,
an editor delete action) we could simply write the following code:</p>

<pre>
  Department d = ...
  Company c = ...
  c.getDepartments().remove(d);
</pre>

<p>Although simple, this code does nothing more than simply make the
modification.</p>

<p>If instead, we use the EMF.Edit remove command
(org.eclipse.emf.edit.command.RemoveCommand) to remove the department, we would
write the following:</p>

<pre>
  Department d = ...
  Company c = ...
  EditingDomain ed = ...
  RemoveCommand cmd = 
    new RemoveCommand(ed, c, CompanyPackage.eINSTANCE.getCompany_Departments(), d);
  ed.getCommandStack().execute(cmd);
</pre>

<p>Deleting the department this way has several advantages:</p>

<ol>
<li>The deletion can be undone by calling ed.getCommandStack().undo().</li>
<li>We can find out if a model is dirty (to enable a save menu, for example) by
checking if there are commands on the command stack, assuming all modifications
are done using commands (which is what the EMF.Edit framework advocates).
</li>
<li>We could have checked if the command is valid (to enable a delete menu, for
example) before executing it by calling cmd.canExecute();</li>
</ol>

<p>Using commands this way, pervasively, is the way to enable all kinds of
function that the EMF.Edit framework can give you.</p>

<h3>Creating commands using the editing domain</h3>

<p>In the previous example we created a RemoveCommand using a simple new call.
This worked fine, but is not very reusable; the code fragment is doing a very
specific thing, removing a department from a company. If instead we want to
write, for example, a reusable delete action capable of deleting any kind of
object, we can do that by using the EditingDomain to help with the job.</p>

<p>The EditingDomain interface contains (among other things) a command factory
method, createCommand(), that can be used, instead of new, to create
commands:</p>

<pre>
  public interface EditingDomain
  {
    ...
    Command createCommand(Class commandClass, CommandParameter commandParameter);
    ...
  }
</pre>

<p>To use this method to create a command you would first need to create a
CommandParameter object, set command parameters into it, and then call the
create method, passing it the desired command class (for example,
RemoveCommand.class) and the parameters.</p>

<p>Rather then making clients go through all that, we use a convention of
providing static convenience create() methods in every command class. Using the
static create() method, you can create and execute a RemoveCommand like this:
</p>

<pre>
  Department d = ...
  EditingDomain ed = ...
  Command cmd = RemoveCommand.create(ed, d);
  ed.getCommandStack().execute(cmd);
</pre>

<p>As you can see, this is just a small syntactic change (RemoveCommand.create()
instead of new RemoveCommand). But there are fundamental differences. We only
passed one argument (that is, the object being removed), aside from the editing
domain, instead of the three arguments previously. Notice how this piece of code
can now be used to remove any kind of object. By delegating the creation of the
command to the editing domain, we're letting it fill in the missing
arguments.</p>

<h3>How does an Editing Domain handle a createCommand() request?</h3>

<p>To understand how it all works, let's follow through with the
RemoveCommand.create() call. As stated previously, the static create() method is
just a convenience method that delegates to the editing domain something like
this:</p>

<pre>
  public static Command create(EditingDomain domain, Object value) 
  {
    return domain.createCommand(
      RemoveCommand.class,
      new CommandParameter(null, null, Collections.singleton(value)));
  }
</pre>

<p>The AdapterFactoryEditingDomain then takes the request and passes it along to
an item provider using the standard delegation pattern (as
AdapterFactorContentProvider delegated getChildren() earlier):</p>

<pre>
  public Command createCommand(Class commandClass, CommandParameter commandParameter)
  {
    Object owner = ...  // get the owner object for the command
    IEditingDomainItemProvider adapter = 
      (IEditingDomainItemProvider)
        adapterFactory.adapt(owner, IEditingDomainItemProvider.class);
    return adapter.createCommand(owner, this, commandClass, commandParameter);
  }
</pre>

<p class="Note">Note: if you look at the actual createCommand() method you will
notice that it's actually considerably more complicated. That's because it's
designed to also handle, among other things, deleting collections of objects at
once. This is, nevertheless, all it's doing conceptually.</p>

<p>The createCommand() method uses an owner object to access the item provider
to delegate to (that is, the owner is used in the adapterFactory.adapt() call).
The owner in our example will be the company object (that is, the parent of the
department being removed). The editing domain determines the owner by calling
the getParent() method on the item provider of the object being deleted.</p>

<p>The effect of all this is that the method createCommand() is finally called
on the item provider of the parent of the object being removed (that is, the
CompanyItemProvider for company c in the original code fragment). So, the
CompanyItemProvider could implement createCommand() by doing something like
this:</p>

<pre>
  public class CompanyItemProvider ...
  {
    ...

    public Command createCommand(final Object object, ..., Class commandClass, ...)
    {
      if (commandClass == RemoveCommand.class)
      {
        return new RemoveCommand(object,
                                 CompanyPackage.eINSTANCE.getCompany_Departments(),
                                 commandParameter.getCollection()); 
      }
    ...
   }
  }
</pre>

<p>This would get the job done, but there is a better way.</p>

<p>Every item provider class (that is also an EMF adapter) extends from an
EMF.Edit convenience base class, ItemProviderAdapter, which provides a default
implementation of, among other things, createCommand(). It implements
createCommand() for all the standard commands provided by the EMF.Edit framework
by calling out to a few simple methods (which are used for more than just this
purpose) that are implemented in the item provider subclasses. This is an
example of the Template Method design pattern.</p>

<p>To make our RemoveCommand example work, CompanyItemProvider only needs
to implement the following method:</p>

<pre>
  public Collection getChildrenFeatures(Object object)
  {
    return Collections.singleton(CompanyPackage.eINSTANCE.getCompany_Departments());
  }
</pre>

<p>As shown, this method returns the one or more features (in this case, only
the deparments reference) that are used for referencing children of the object.
After calling this method, the default implementation of createCommand() will
then figure out which feature to use (if more than one is returned) and create
the RemoveCommand with the right one.</p>

<h3>Overriding commands</h3>

<p>Another advantage of creating commands through an editing domain is that it
allows us to plug in different subclasses or completely different
implementations of standard commands and have standard editors just pick them
up. For example, assume that we want to do some extra cleanup whenever we remove
a department from a company. The simplest way to achieve that might be to create
a subclassof RemoveCommand  called RemoveDepartmentCommand like this:</p>

<pre>
  public class RemoveDepartmentCommand extends RemoveCommand
  {
    public void execute()
    {
      super.execute();
      // do extra stuff ...
    }
  }
</pre>

<p>That part's easy enough.</p>

<p>Now, if our editor uses the static RemoveCommand.create() method (which calls
editingDomain.createCommand()) instead of new RemoveCommand(), then we can
easily substitute our RemoveDepartmentCommand for the standard RemoveCommand by
overriding createCommand() in the item provider like this:</p>

<pre>
  public class CompanyItemProvider ...
  {
    ...

    public Command createCommand(final Object object, ...)
    {
      if (commandClass == RemoveCommand.class)
      {
        return new RemoveDepartmentCommand(...); 
      }
      return super.createCommand(...);
    }
  }
</pre>

<p>Actually, if the command we want to specialize is one of the predefined ones
(like RemoveCommand), the substitution is even easier because the default
implementation of createCommand() dispatches the creation of each command to
command-specific convenience methods, something like this:</p>

<pre>
  public Command createCommand(final Object object, ...
  {
    ...
    if (commandClass == RemoveCommand.class)
      return createRemoveCommand(...); 
    else if (commandClass == AddCommand.class)
      return createAddCommand(...);
    else ...
  }
</pre>

<p>So, we could have created our RemoveDepartmentCommand more simply by just
overriding createRemoveCommand(), instead of the createCommand() method itself:
</p>

<pre>
  protected Command createRemoveCommand(...) 
  {
    return new RemoveDepartmentCommand(...);
  }
</pre>

<p>To summarize, the key point is that the editing domain is our hook to adjust
command parameters, including the command class itself, so we can easily control
the behavior of any editing command on our model.</p>

<h3>Model change notification</h3>

<p>One thing we haven't talked about yet is change notification. How do we get
the viewers to refresh after a command changes something in the model? The
answer is that it works using a combination of standard EMF adapter notification
and a viewer refresh mechanism provided by EMF.Edit.</p>

<p>When constructed, an AdapterFactoryContentProvider registers itself as a
listener (i.e. org.eclipse.emf.edit.provider.INotifyChangedListener) of its
adapter factory (which implements the
org.eclipse.emf.edit.provider.IChangeNotifier interface). The adapter factory in
turn passes itself to every item provider it creates so it can be the central
change notifier for the model. The AdapterFactoryContentProvider also records
(in the inputChanged() method) the viewer for which it is providing content, so
that it can update its viewer when it receives a change notification.</p>

<p>The following diagram shows how a change in an EMF model object (for example,
changing a company name) will make its way, through the adapter factory, back to
the viewers of the model.</p>

<img src="images/EMF.Edit/image008.gif" border="0" width="607" height="251" alt="Model change notification"/>

<p>Whenever an EMF object changes state, the method notifyChanged() is called on
all the object's adapters, including the item providers (in this case,
CompanyItemProvider). The notifyChanged() method in the item provider is
responsible for determining whether each event notification should be passed on
to the viewer, and if so, what type of update it should result in.</p>

<p>To do so, it wraps interesting notifications in a ViewerNotification, a
simple implementation of interface IViewerNotification. This interface extends
the basic Notification interface like this:</p>

<pre>
  public interface IViewerNotification extends Notification
  {
    Object getElement();
    boolean isContentRefresh();
    boolean isLabelUpdate();
  }
</pre>

<p>These methods specify which item in the viewer to update, whether to refresh
the content under that element, and whether to update the label of that element.
Since the item provider determines the children and label for an object, it must
also determine how to efficiently update the viewer.</p>

<p>The notifyChanged() method in class CompanyItemProvider looks like this:</p>

<pre>
  public void notifyChanged(Notification notification)
  {
    ...
    switch (notification.getFeatureID(Company.class))
    {
      case CompanyPackage.COMPANY__NAME:
        fireNotifyChanged(new ViewerNotification(notification, ..., false, true));
        return;
      case CompanyPackage.COMPANY__DEPARTMENT:
        fireNotifyChanged(new ViewerNotification(notification, ..., true, false));
        return;
    }
    super.notifyChanged(notification);
  }
</pre>

<p>In this implementation, a change to the name attribute results in a label
update, and a change to the department reference causes a content refresh. Any
other change notifications have no effect on the viewer.</p>

<p>The fireNotifyChanged() method is a convenience method in class
ItemProviderAdapter (the base class of all the item provider adapters) which
simply forwards the notification to the adapter
factory<sup><a class="footnote" href="#fn3">[3]</a><a name="ref3">&nbsp;</a></sup>.
The adapter factory (change notifier) proceeds to dispatch the notification to
all its listeners (in this example, just the tree viewer's content provider).
Finally, the content provider updates the viewer, as directed by the
notification.</p>

<h3>Composed adapter factories</h3>

<p>EMF models are often tied together by cross-model references. Whenever you
need to build an application to edit or display objects that span more than one
EMF model, you'll need an adapter factory capable of adapting the union of the
objects from the two (or more) models.</p>

<p>Often, you already have adapter factories for the individual models and all
that you need is to glue them together. Another EMF.Edit convenience class,
ComposedAdapterFactory, can be used for this purpose:</p>

<img src="images/EMF.Edit/image009.gif" border="0" width="607" height="250" alt="Adapter factory composition"/>

<p>A ComposedAdapterFactory is used to provide a common interface to other
adapter factories, to which it simply delegates its implementation.</p>

<p>To set up a composed adapter factory, you would write something like this:
</p>

<pre>
  model1AdapterFactory = ...
  model2AdapterFactory = ...

  ComposedAdapterFactory myAdapterFactory = new ComposedAdapterFactory();
  myAdapterFactory.addAdapterFactory(model1AdapterFactory);
  myAdapterFActory.addAdapterFActory(model2AdapterFactory);

  myContentProvider = new AdapterFactoryContentProvider(myAdapterFactory);
  ...
</pre>

<h2><a name="generator">Using the EMF.Edit Code Generator</a></h2>

<p class="Note">Note: a step-by-step tutorial for generating an EMF model, as
well as an EMF.Edit editor, can be found in
<a href="../../tutorials/clibmod/clibmod.html">Tutorial: Generating an EMF
Model</a>.</p>

<p>Given an EMF model definition, the EMF.Edit code generator can produce a
fully functional editor tool that will allow you to view instances of the model
using several common viewers and to add, remove, cut, copy, and paste model
objects, or modify the objects in a standard property sheet, all with full
undo/redo support.</p>

<p>The EMF.Edit generator produces complete working plug-ins that include the
following:</p>

<ol>
<li>ItemProviderAdapterFactory</li>
<li>ItemProviders (one per model class)</li>
<li>Editor</li>
<li>ModelWizard</li>
<li>ActionBarContributor</li>
<li>Plugin</li>
<li>plugin.xml</li>
<li>Icons</li>
</ol>

<p>Once generated, the editor should run. It will come up, but it may or may not
be working as you expected (that is, the default choices that the generator made
may have been inappropriate for your model). It should, however, be pretty easy
to tweak the generated code in a few places to quickly get a basic working
editor up and running.</p>

<p>The following takes a closer look at some of the more interesting generated
classes.</p>

<h3>ItemProviderAdapterFactory</h3>

<p>The generated ItemProviderAdapterFactory is a simple subclass of the
generated AdapterFactory class that you got when you generated your EMF model.
</p>

<p class="Note">Note: the generated EMF adapter factory creates adapters by
dispatching to a type-specific create() method that subclasses (like
ItemProviderAdapterFactory) are required to override. The EMF adapter factory
(for example, ABCAdapterFactory) uses another generated class, (ABCSwitch), to
implement the dispatch efficiently.</p>

<p>When using the Stateful pattern, the adapter factory create methods simply
return a new object like this:</p>

<pre>
  class ABCItemProviderAdapterFactory extends ABCAdapterFactoryImpl
  {
    ...
    public Adapter createCompanyAdapter()
    {
      return new CompanyItemProvider(this);
    }
    ...
  }
</pre>

<p>If, instead, the Singleton pattern is used, the adapter factory also keeps
track of the singleton instance and returns it for each call:</p>

<pre>
  protected DepartmentItemProvider departmentItemProvider;

  public Adapter createDepartmentAdapter()
  {
    if (departmentItemProvider == null)
    {
      departmentItemProvider = new DepartmentItemProvider(this);
    }
    return departmentItemProvider;
  }
</pre>

<h3>The ItemProvider classes</h3>

<p>For each class in the model, a corresponding item provider class is
generated. The generated item providers mix in all the interfaces needed to
support the standard viewers, commands, and the property sheet:</p>

<pre>
  public class DepartmentItemProvider extends ...
    implements 
      IEditingDomainItemProvider,
      IStructuredItemContentProvider, 
      ITreeItemContentProvider, 
      IItemLabelProvider, 
      IItemPropertySource
  {
    ...
  }
</pre>

<p>If a model class is a root (that is, it has no explicit base class) then the
generated item provider will extend from the EMF.Edit item provider base class,
ItemProviderAdapter:</p>

<pre>
  public class EmployeeItemProvider extends ItemProviderAdapter ...
</pre>

<p>If, instead, the model class inherits from a base class, then the generated
item provider will extend from the base item provider like this:</p>

<pre>
  public class EmployeeItemProvider extends PersonItemProvider ...
</pre>

<p>For a multiply inheriting class, the generated item provider will extend from
the first base class's item provider (as in the single inheritance case) and it
will implement the provider function for the rest of the base classes.</p>

<p>If you look at the generated item provider classes, you'll notice that a lot
of their function is actually implemented in the item provider base class. The
most important functions of the generated item provider subclasses are:</p>

<ol>
<li>Identifying the children and parent</li>
<li>Setting up the property descriptors</li>
<li>Passing on the "interesting" notification events.</li>
</ol>

<h3>Editor and ModelWizard</h3>

<p>The generated Editor and ModelWizard show how to put all the other generated
pieces together with standard JFace components to produce a working editor.</p>

<p>The ModelWizard can be used to create new resources of the model's type. If
instead, you already have a resource that was created some other way, you can
import it into your desktop workspace and launch the editor on it, bypassing the
ModelWizard completely.</p>

<br/><hr noshade="noshade" size="1"/>

<p><sup><a class="footnote" href="#ref1">[1]</a><a name="fn1">&nbsp;</a></sup>Notifier
is the base interface in EMF for objects that can register adapters and send
notifications to them. It is extended by EObject, the base interface for all
model objects.</p>

<p><sup><a class="footnote" href="#ref2">[2]</a><a name="fn2">&nbsp;</a></sup>Actually,
EMF adapter factories are inheritance driven, so you can choose to use a base
adapter to handle subclasses at any level in your model, EObject being the
extreme case.</p>

<p><sup><a class="footnote" href="#ref3">[3]</a><a name="fn3">&nbsp;</a></sup>In
addition to the adapter factory, which acts as the change notifier for viewers,
an ItemProviderAdapter can also have other (direct) listeners which are also
called in ItemProviderAdapter.fireNotifyChanged().</p>
</body>
</html>
<html id='2270.CompleteOCLTutorial.html'></html><html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Complete OCL tutorial</title>
<link href="book.css" rel="stylesheet" type="text/css">
<meta content="DocBook XSL Stylesheets V1.75.1" name="generator">
<link rel="home" href="index.html" title="OCL Documentation">
<link rel="up" href="Tutorials.html" title="Tutorials">
<link rel="prev" href="Tutorials.html" title="Tutorials">
<link rel="next" href="SafeNavigationTutorial.html" title="Safe navigation tutorial">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<h1 xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0">Complete OCL tutorial</h1>
<div class="section" title="Complete OCL tutorial">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both">
<a name="CompleteOCLTutorial"></a>Complete OCL tutorial</h2>
</div>
</div>
</div>
<p>This tutorial has been updated for Eclipse Mars: Eclipse 4.5, EMF 2.11, OCL 6.0.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>Some screenshots may be slightly out of date.</p>
</li>
</ul>
</div>
<div class="section" title="Overview">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Overview2"></a>Overview </h3>
</div>
</div>
</div>
<p>In this example you will</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>Get an Overview of the Complete OCL language</p>
</li>
<li class="listitem">
<p>Load a Complete OCL document into a third party application</p>
</li>
<li class="listitem">
<p>Enhance Ecore validation for derived properties</p>
</li>
<li class="listitem">
<p>Validate an Ecore model using additional Complete OCL validation</p>
</li>
<li class="listitem">
<p>Enhance UML validation</p>
</li>
<li class="listitem">
<p>Validate a UML model using additional Complete OCL validation</p>
</li>
<li class="listitem">
<p>Enhance Xtext validation</p>
</li>
<li class="listitem">
<p>Validate an Xtext grammar using additional Complete OCL validation</p>
</li>
</ul>
</div>
</div>
<div class="section" title="Complete OCL Utility">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLUtility"></a>Complete OCL Utility</h3>
</div>
</div>
</div>
<p>By itself, OCL is almost useless, since without any models to operate on, the constraints cannot achieve a great deal.</p>
<p>The simplest way to make OCL useful is to embed OCL expressions within a model to enrich the basic structural characteristics of a model with more complex behavior. OCLinEcore provides this capability for Ecore models. Papyrus provides comparable capabilities for UML models.</p>
<p>This tutorial introduces the Complete OCL language which may be used to provide a self-standing document that complements a pre-existing meta-model.</p>
</div>
<div class="section" title="Load Complete OCL Tutorial Example Project">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="LoadCompleteOCLTutorialExampleProject"></a>Load Complete OCL Tutorial Example Project</h3>
</div>
</div>
</div>
<p>All the material for this tutorial is available as part of the CompleteOCLTutorial Example project that you
					may load by selecting 
					<span class="bold"><strong>New</strong></span> then 
					<span class="bold"><strong>Example...</strong></span> using the right button context menu of the Project Explorer. This
					should give the 
					<span class="bold"><strong>New Example</strong></span> dialog in which you can select the 
					<span class="bold"><strong>OCL (OCL Constraint Language) Plugins</strong></span> and the 
					<span class="bold"><strong>Complete OCL Tutorial</strong></span> and then 
					<span class="bold"><strong>Next</strong></span>.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-new-complete-ocl-tutorial1.png"></div>
<p>
				
</p>
<p>Then 
					<span class="bold"><strong>Finish</strong></span>.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-new-complete-ocl-tutorial2.png"></div>
<p>
				
</p>
<p>If you do not see these example projects, follow the 
					<a class="link" href="Installation.html" title="Installing the Eclipse OCL Examples and Editors">Instructions for installing the OCL Editors</a>.
				</p>
<p>The resulting project has a few test files.</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-complete-ocl-tutorial-project.png"></div>
<p>
				
</p>
</div>
<div class="section" title="Complete OCL Language Overview">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-language"></a>Complete OCL Language Overview</h3>
</div>
</div>
</div>
<p>The Complete OCL language is described in detail in the 
					<a class="link" href="CompleteOCL.html" title="The Complete OCL Language">Complete OCL</a> section of this documentation.
					In this tutorial we will provide just a brief overview of the language.
					If not already open, double click on 
					<span class="bold"><strong>ExtraEcoreValidation.ocl</strong></span> to show the following text that provides examples of many
					important aspects of the Complete OCL syntax.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-ecore-content.png"></div>
<p>
				
</p>
<div class="section" title="import declarations">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="importdeclarations"></a>import declarations</h4>
</div>
</div>
</div>
<p>The import statement is a serious omission from the OMG specification, since without it, any attempt to
						align the Complete OCL constraints with external models relies on implementation-specific magic. The import
						statement is therefore an Eclipse OCL extension that is likely to be part of a future OCL specification revision.</p>
<p>Zero or more import statements may be present to specify the URIs of external model elements and optionally
						alias names for those elements. In the example:</p>
<div class="literallayout">
<p>
<code class="code">import&nbsp;ecore&nbsp;:&nbsp;'http://www.eclipse.org/emf/2002/Ecore#/'<br>

</code>
</p>
</div>
<p></p>
<p>
						
<code class="code">http://www.eclipse.org/emf/2002/Ecore</code> specifies the URI of the Ecore metamodel and 
						<code class="code">#/</code> is the fragment URI
						navigating to the root element which is the Ecore package. The 
						<code class="code">ecore</code> specifies an alias for this package, which happens
						to be the same as the name of the package. Within the Complete OCL document, the imported model element may be referred to by its
						alias.
					</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>
							When using the Ecore and UML bindings, the Java API support for using Complete OCL documents requires implementation-specific magic;
							the imported models must be loaded into the package registry by the invoking code. Import statements are not used.</p>
<p>Prior to the Juno release, import statements were not understood and so there was a usage conflict between Pivot and Ecore/UML bindings. Preparation of a
							Complete OCL document using the Xtext editor, or usage with Pivot model and Xtext parser required import statements.
							But re-use with the Ecore and UML LPG parser required the import statements to be removed.</p>
<p>In Juno, the LPG parser ignores the import statements, so they may be left in.</p>
</blockquote>
</div>
<p></p>
</div>
<div class="section" title="package context declaration">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="packagecontextdeclaration"></a>package context declaration</h4>
</div>
</div>
</div>
<p>A package context declaration may bracket declarations that complement model elements within the
						complemented package.</p>
<div class="literallayout">
<p>
<code class="code">package&nbsp;ecore<br>

<br>
...<br>

<br>
endpackage<br>

</code>
</p>
</div>
<p></p>
<p>This specifies that additional Complete OCL declarations will complement the pre-existing declarations of
						the 
						<code class="code">ecore</code> package.
					</p>
<p>Multiple package context declarations may be used to complement multiple packages.</p>
<p>The package context declaration may be omitted if subsequent classifier context declarations have a fully qualified
						name identifying the package.</p>
</div>
<div class="section" title="classifier context declaration">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="classifiercontextdeclaration"></a>classifier context declaration</h4>
</div>
</div>
</div>
<p>A classifier context declaration introduces declarations that complement subsequent model elements within the
						complemented classifier.</p>
<div class="literallayout">
<p>
<code class="code">context&nbsp;EModelElement<br>

</code>
</p>
</div>
<p></p>
<p>The classifier context is terminated by a 
						<code class="code">context</code> or an 
						<code class="code">endpackage</code>.
					</p>
</div>
<div class="section" title="feature definitions">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="featuredefinitions"></a>feature definitions</h4>
</div>
</div>
</div>
<p>Additional operations and properties may be defined for use within the Complete OCL document. These features
						may be used as if they were part of the complemented meta-model.</p>
<div class="literallayout">
<p>
<code class="code">def:&nbsp;asError(verdict&nbsp;:&nbsp;Boolean)&nbsp;:&nbsp;Boolean&nbsp;=<br>
	if&nbsp;verdict&nbsp;then&nbsp;true&nbsp;else&nbsp;null&nbsp;endif<br>

<br>
def:&nbsp;hasDerivation&nbsp;:&nbsp;Boolean&nbsp;=&nbsp;eAnnotations-&gt;select(source.startsWith(<br>
		'http://www.eclipse.org/emf/2002/Ecore/OCL'))-&gt;notEmpty()<br>

</code>
</p>
</div>
<p></p>
<p>A definition starts with the new feature name, then the parameters for operations and the feature type followed by an OCL expression that evaluates the operation or the property.</p>
<p>For properties such as 
						<code class="code">hasDerivation</code> there is very little difference between a property definition 
						<code class="code">hasDerivation</code> and a parameter-less operation definition 
						<code class="code">hasDerivation()</code>. The property definition
						and usage is two characters shorter and may seem more natural. The operation definition has the advantage that
						it can be overloaded in derived classes. 
					</p>
</div>
<div class="section" title="class invariants">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="classinvariants"></a>class invariants</h4>
</div>
</div>
</div>
<p>Invariants may be imposed on a complemented meta-model. The invariant comprises the name of the invariant followed by an OCL expression that
						evaluates true when the invariant is satisfied.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsTransient:&nbsp;hasDerivation&nbsp;implies&nbsp;transient<br>

</code>
</p>
</div>
<p></p>
<p>These invariants are executed when a model is validated in an application that has loaded the complementing Complete OCL document. The significance of this is explained in 
						<a class="link" href="CompleteOCLTutorial.html#LoadCompleteOCLResource" title="OCL->Load Document Menu Action">OCL-&gt;Load Document Menu Action</a>.
					</p>
<p>The readability of constraints can be significantly enhanced by the use of let-variables or the re-use, as above, of the 
						<code class="code">hasDerivation</code> helper property.  
					</p>
</div>
<div class="section" title="custom messages">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="custommessages"></a>custom messages</h4>
</div>
</div>
</div>
<p>Eclipse OCL supports two extensions to invariants that allow the validation failure messages and severities to be customized.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsVolatile(<br>
'"volatile"&nbsp;must&nbsp;be&nbsp;specified&nbsp;for&nbsp;derived&nbsp;feature&nbsp;'&nbsp;+&nbsp;self.toString()):<br>
asError(hasDerivation&nbsp;implies&nbsp;volatile)<br>

</code>
</p>
</div>
<p></p>
<p>The invariant name may be followed by a parenthesized OCL expression that computes a String to be used as the validation failure message.</p>
<p>The severity of a validation failure may be controlled by the non-true value evaluated by the invariant expression.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>a 
								<code class="code">false</code> return indicates a warning severity
							</p>
</li>
<li class="listitem">
<p>a 
								<code class="code">null</code> return indicates an error severity
							</p>
</li>
<li class="listitem">
<p>an 
								<code class="code">invalid</code> return indicates a fatal severity
							</p>
</li>
</ul>
</div>
<p>See 
						<a class="link" href="Integration.html#Integration-Messages" title="Custom Validation Messages">Custom Validation Messages</a> for more details.
					</p>
</div>
<div class="section" title="operation and property context declarations">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="operationandpropertycontextdeclarations"></a>operation and property context declarations</h4>
</div>
</div>
</div>
<p>Complete OCL also allows an incomplete operation or property declaration in the complemented meta-model to be completed.</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>initial value expressions or derived value constraints may be specified for properties.</p>
</li>
<li class="listitem">
<p>body expressions and precondition/postcondition constraints may be specified for operations.</p>
</li>
</ul>
</div>
<p>These facilities are of limited use since OCLinEcore avoids the need for incomplete meta-models.</p>
</div>
</div>
<div class="section" title="OCL->Load Document Menu Action">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="LoadCompleteOCLResource"></a>OCL-&gt;Load Document Menu Action </h3>
</div>
</div>
</div>
<p>The major disclaimer in the above is that the Complete OCL only complements the complemented meta-model in applications
					that have loaded the Complete OCL.</p>
<p>Prior to the Juno release, this meant that Complete OCL was only usable in custom Java applications since no standard
					modeling applications would load the complementing document.</p>
<p>The 
					<span class="bold"><strong>OCL-&gt;Load Document</strong></span> menu action enables a Complete OCL document to be loaded into a wide variety of applications.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-load-complete-ocl-resource-menu.png"></div>
<p>
				
</p>
<p>The 
					<span class="bold"><strong>OCL-&gt;Load Document</strong></span> menu action is added to the right button menu of applications with a ResourceSet accessible from the current selection.
				</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>
						It has been observed that the extra menu action is not always immediately available, so if you do not see it, hit 
						<span class="bold"><strong>Esc</strong></span> to cancel the menu, select something corresponding to a model object and right click again.
					</p>
</blockquote>
</div>
<p></p>
<p>In Mars, suitable applications are</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>an editor generated from an Ecore meta-model</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>the Sample Ecore Editor</p>
</li>
<li class="listitem">
<p>the UML Model Editor</p>
</li>
<li class="listitem">
<p>the Papyrus Model Editor</p>
</li>
<li class="listitem">
<p>your model editor</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>an editor generated by Xtext</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="circle">
<li class="listitem">
<p>the Xtext Editor</p>
</li>
<li class="listitem">
<p>the MWE2 Editor</p>
</li>
<li class="listitem">
<p>the OCLinEcore Editor</p>
</li>
<li class="listitem">
<p>your DSL editor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>The 
					<span class="bold"><strong>OCL-&gt;Load Document</strong></span> menu action activates the 
					<span class="bold"><strong>Load Complete OCL Document</strong></span> dialog in which you can browse Registered Complete OCL Documents, the File system or the Workspace for one or more Complete OCL documents to load, or often more conveniently you can just Drag and Drop them from an Operating System Explorer or an Eclipse Explorer.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-load-complete-ocl-resource-dialog.png"></div>
<p>
				
</p>
<p>After clicking 
					<span class="bold"><strong>OK</strong></span> the documents load.
				</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>
						Behind the scenes, it is necessary to install global wrappers around all complemented packages. These wrappers are sensitive to the ResourceSet for which complementing has been requested and so although this incurs a small performance penalty for use of the complemented packages in other applications, it should not affect the functional behavior of other applications. </p>
</blockquote>
</div>
<p></p>
</div>
<div class="section" title="Example Complete OCL complements for Ecore">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-EcoreComplements"></a>Example Complete OCL complements for Ecore</h3>
</div>
</div>
</div>
<p>The Sample Ecore Editor has acquired many useful validation rules, so that for many usages just invoking 
					<span class="bold"><strong>Validate</strong></span> is quite sufficient. But what if it isn&rsquo;t? Perhaps you have some style conventions that you wish to apply. Perhaps the built-in rules are not sufficient.
				</p>
<p>Prior to Juno and the 
					<span class="bold"><strong>OCL-&gt;Load Document</strong></span> capability, your only choice would be to check out the Ecore Editor and create a custom variant. Now you can use Complete OCL to extend the Sample Ecore Editor.
				</p>
<p>We will revisit the 
					<span class="bold"><strong>ExtraEcoreValidation.ocl</strong></span> document that we have just examined and use it to rectify inadequate checking of derived properties by the Sample Ecore Editor. The document provides six invariants, at least three of which detect problems that were encountered by users during the Indigo release cycle.
				</p>
<div class="section" title="DerivationIsVolatile">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationIsVolatile"></a>DerivationIsVolatile</h4>
</div>
</div>
</div>
<p>The EMF code generation templates have a simple treatment of 
						<code class="code">volatile</code>. Non-volatile variables have an associated field which is returned by the 
						<code class="code">get</code> operation. This overrides any derivation that might be supplied.
					</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsVolatile:&nbsp;asError(hasDerivation&nbsp;implies&nbsp;volatile)<br>

</code>
</p>
</div>
<p></p>
<p>We therefore want to diagnose that if an EStructuralFeature has a derivation then the volatile declaration is also present to avoid the derivation being ignored.</p>
<p>This problem is so serious that the basic expression is wrapped in the 
						<code class="code">asError</code> operation to convert the
						default 
						<code class="code">true</code> / 
						<code class="code">false</code> okay/warning severity into the 
						<code class="code">true</code> / 
						<code class="code">null</code> okay/error severity.
					</p>
</div>
<div class="section" title="DerivationIsTransient">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationIsTransient"></a>DerivationIsTransient</h4>
</div>
</div>
</div>
<p>The EMF code generation templates have a similarly simple treatment of 
						<code class="code">transient</code>. Non-transient variables will be
						serialized as part of a model save. This is not usually appropriate since the derived value is redundant and can be
						recomputed when the model is loaded again.
					</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsTransient:&nbsp;hasDerivation&nbsp;implies&nbsp;transient<br>

</code>
</p>
</div>
<p></p>
<p>We therefore want to diagnose that a derivation is not serialized because of a default non-transient declaration.</p>
</div>
<div class="section" title="DerivationIsNotComposed">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationIsNotComposed"></a>DerivationIsNotComposed</h4>
</div>
</div>
</div>
<p>Composition is handled directly by EMF and it is not clear that it is appropriate to define an alternate
						meaning of composition. It is pretty certain that EMF will not permit an alternate semantics.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsNotComposed:&nbsp;asError(hasDerivation&nbsp;implies&nbsp;not&nbsp;containment)<br>

</code>
</p>
</div>
<p></p>
<p>We therefore want to diagnose if a derivation is attempting to specify alternate composition semantics and
						report an error if this occurs.</p>
</div>
<div class="section" title="DerivationWithOppositeHasOppositeDerivation">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationWithOppositeHasOppositeDerivation"></a>DerivationWithOppositeHasOppositeDerivation</h4>
</div>
</div>
</div>
<p>Opposites are also handled directly by EMF, but it is possible to replace this functionality. However if the
						forward functionality is replaced, it is very unlikely that EMF&rsquo;s default reverse functionality will be appropriate.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationWithOppositeHasOppositeDerivation:<br>
	hasDerivation&nbsp;and&nbsp;eOpposite&nbsp;&lt;&gt;&nbsp;null&nbsp;implies&nbsp;eOpposite.hasDerivation<br>

</code>
</p>
</div>
<p></p>
<p>We therefore want to diagnose that a derivation that redefines the forward semantic of opposite also redefines
						the corresponding reverse semantics.</p>
</div>
<div class="section" title="DerivationIsUninitialized">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationIsUninitialized"></a>DerivationIsUninitialized</h4>
</div>
</div>
</div>
<p>An initial value for a property may be specified as a simple default value or as a derived expression.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationIsUninitialized:<br>
	hasDerivation&nbsp;implies&nbsp;defaultValue.oclIsUndefined()<br>

</code>
</p>
</div>
<p></p>
<p>We want to diagnose the occlusion of the derived expression by a default value.</p>
</div>
<div class="section" title="DerivationDoesNotResolveProxies">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="DerivationDoesNotResolveProxies"></a>DerivationDoesNotResolveProxies</h4>
</div>
</div>
</div>
<p>Derived expressions are not references.</p>
<div class="literallayout">
<p>
<code class="code">inv&nbsp;DerivationDoesNotResolveProxies:<br>
	hasDerivation&nbsp;implies&nbsp;not&nbsp;resolveProxies<br>

</code>
</p>
</div>
<p></p>
<p>We can therefore diagnose whether the EMF proxy resolution logic is not suppressed. </p>
</div>
</div>
<div class="section" title="Validating Ecore with additional Complete OCL">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-EcoreValidation"></a>Validating Ecore with additional Complete OCL</h3>
</div>
</div>
</div>
<p>In the 
					<a class="link" href="CompleteOCLTutorial.html#CompleteOCLTutorial-EcoreComplements" title="Example Complete OCL complements for Ecore">previous section</a> we described additional Complete OCL validation constraints to detect problems with inadequate Sample Ecore diagnosis of derived properties. We will now apply those constraints to a test file.
				</p>
<p>Select 
					<span class="bold"><strong>EcoreTestFile.ecore</strong></span> and use the right button menu to 
					<span class="bold"><strong>Open With-&gt;Sample Ecore Model Editor</strong></span>. This is probably the default for double-clicking with the left button, but if you open with the OCLinEcore editor the required validation will not work (in Juno).
				</p>
<p>Now right click within the Sample Ecore Editor pane as described in 
					<a class="link" href="CompleteOCLTutorial.html#LoadCompleteOCLResource" title="OCL->Load Document Menu Action">OCL-&gt;Load Document Menu Action</a> and load 
					<span class="bold"><strong>ExtraEcoreValidation.ocl</strong></span>. An additional Resource is shown in the editor tree.
				</p>
<p>Select a model element such as the 
					<span class="bold"><strong>Bad</strong></span> package and use the right button menu to invoke 
					<span class="bold"><strong>Validate</strong></span>.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-ecore-validation.png"></div>
<p>
				
</p>
<p>This shows an error. Depending on the order in which the constraints are evaluated, you may also see one or two warnings. You should use the 
					<a class="link" href="ValidityView.html" title="Validity View (new in Luna)">Validity View</a> to see all failures.
				</p>
<p>If we now open 
					<span class="bold"><strong>EcoreTestFile.ecore</strong></span> with the OCLinEcore editor we can see that the 
					<span class="bold"><strong>transient</strong></span> and 
					<span class="bold"><strong>volatile</strong></span> keywords are indeed missing.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-ecore-oclinecore.png"></div>
<p>
				
</p>
</div>
<div class="section" title="Editing the Complete OCL">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-Updating"></a>Editing the Complete OCL</h3>
</div>
</div>
</div>
<p>You may edit the Complete OCL to experiment with alternate constraints or messages.</p>
<p>However the Complete OCL complements the meta-model and EMF does not support live modification of meta-models. It is therefore necessary to restart the Sample Ecore Editor
					and Reload the modified Complete OCL document in order to exploit the changes.</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>
						A solution for this may occur in a future release.</p>
</blockquote>
</div>
<p></p>
</div>
<div class="section" title="Example Complete OCL complements for UML">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-UMLComplements"></a>Example Complete OCL complements for UML</h3>
</div>
</div>
</div>
<p>The extension of the Sample Ecore Editor validation described in 
					<a class="link" href="CompleteOCLTutorial.html#CompleteOCLTutorial-EcoreValidation" title="Validating Ecore with additional Complete OCL">Validating Ecore with additional Complete OCL</a> is applicable to any tree editor generated by EMF tooling.
				</p>
<p>The 
					<span class="bold"><strong>ExtraUMLValidation.ocl</strong></span> file provides a very simple style check that class names start with an upper case letter.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-uml-content.png"></div>
<p>
				
</p>
<p>The UML meta-model is imported and an invariant is specified for the Class classifier which is fully qualified to avoid the need for a surrounding package context declaration.</p>
<p>You may open the 
					<span class="bold"><strong>PapyrusTestFile.uml</strong></span> with the UML Model Editor, load the 
					<span class="bold"><strong>ExtraUMLValidation.ocl</strong></span>, select the 
					<span class="bold"><strong>Model</strong></span> and then 
					<span class="bold"><strong>Validate</strong></span> in the same way as for the Ecore example. 
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-uml-validation.png"></div>
<p>
				
</p>
<p>Unfortunately the Papyrus UML editor does not use the EValidator framework and so loading Complete OCL documents into Papyrus fails to enhance validation capabilities. To use additional Complete OCL functionality, you may load and validate in the UML Model Editor, then start the Papyrus editor which will then show the problem markers on diagram elements. Alternatively you may use 
					<a class="link" href="ValidityView.html" title="Validity View (new in Luna)">Validity View</a> concurrently with Papyrus.
				</p>
</div>
<div class="section" title="Example Complete OCL complements for Xtext">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLTutorial-XtextComplements"></a>Example Complete OCL complements for Xtext</h3>
</div>
</div>
</div>
<p>Xtext editors use EValidator and so a Complete OCL document may be loaded into an Xtext editor, including Xtext itself, to provide enhanced validation.</p>
<p>The 
					<span class="bold"><strong>ExtraXtextValidation.ocl</strong></span> file provides some demonstration style checks.
				</p>
<p>
					
</p>
<div class="mediaobject">
<img src="images/4300-extra-xtext-content.png"></div>
<p>
				
</p>
<p>The Xtext root package is imported and within the package declaration context for the 
					<span class="bold"><strong>xtext</strong></span> package, invariants are supplied for four classes. These are all just examples of how constraints may use the Xtext model. It is not suggested that users should use all of these constraints for real grammars.
				</p>
<div class="section" title="NoAnonymousImports">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="NoAnonymousImports"></a>NoAnonymousImports</h4>
</div>
</div>
</div>
<div class="literallayout">
<p>
<code class="code">context&nbsp;ReferencedMetamodel<br>
inv&nbsp;NoAnonymousImports:&nbsp;alias&nbsp;&lt;&gt;&nbsp;null<br>

</code>
</p>
</div>
<p></p>
<p>This invariant diagnoses whether any import statements omit the 
						<code class="code">as xxxx</code> model name.  
					</p>
</div>
<div class="section" title="NoActions">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="NoActions"></a>NoActions</h4>
</div>
</div>
</div>
<div class="literallayout">
<p>
<code class="code">context&nbsp;Action<br>
inv&nbsp;NoActions&nbsp;:&nbsp;false<br>

</code>
</p>
</div>
<p></p>
<p>This invariant diagnoses whenever an 
						<code class="code">{xxx}</code> action statement is used.  
					</p>
</div>
<div class="section" title="CamelCaseName">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="CamelCaseName"></a>CamelCaseName</h4>
</div>
</div>
</div>
<div class="literallayout">
<p>
<code class="code">context&nbsp;ParserRule<br>
inv&nbsp;CamelCaseName&nbsp;:&nbsp;name.matches('[A-Z][A-Za-z]*')<br>

</code>
</p>
</div>
<p></p>
<p>This invariant verifies that the name of a parser rule starts with an upper case letter and uses only letters.  </p>
</div>
<div class="section" title="UpperName">
<div class="titlepage">
<div>
<div>
<h4 class="title">
<a name="UpperName"></a>UpperName</h4>
</div>
</div>
</div>
<div class="literallayout">
<p>
<code class="code">context&nbsp;xtext::TerminalRule<br>
inv&nbsp;UpperName&nbsp;:&nbsp;name&nbsp;=&nbsp;name.toUpperCase()<br>

</code>
</p>
</div>
<p></p>
<p>This invariant verifies that the name of a terminal rule is uppercase.  </p>
<p>You may open the 
						<span class="bold"><strong>XtextTestFile.xtext</strong></span> with the Xtext Editor, load the 
						<span class="bold"><strong>ExtraXtextValidation.ocl</strong></span> and then 
						<span class="bold"><strong>Validate</strong></span> in the same way as the Ecore example. 
					</p>
<p>The additional validations appear as warning markers in the editor. </p>
<p>
						
</p>
<div class="mediaobject">
<img src="images/4300-extra-xtext-validation.png"></div>
<p>
					
</p>
<div class="blockquote">
<blockquote class="blockquote">
<p>
							Unfortunately Xtext does not have a nice toString() method for its Concrete Syntax tree so the descriptions of erroneous elements are a little inelegant.</p>
</blockquote>
</div>
<p></p>
<p>You may edit the Xtext test file to delete the &ldquo;as ecore&rdquo; in the import statement and see that the additional Complete OCL constraints are contributing to the ongoing functionality of the editor. </p>
</div>
</div>
<div class="section" title="Complete OCL Editor">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="CompleteOCLEditor"></a>Complete OCL Editor</h3>
</div>
</div>
</div>
<p>The Complete OCL editor is invoked automatically for an existing or new *.ocl file.
					You can create an empty file using either 
					<span class="bold"><strong>New-&gt;File</strong></span> or a partial content file using 
					<span class="bold"><strong>New-&gt;Other...</strong></span> followed by 
					<span class="bold"><strong>OCL</strong></span> and 
					<span class="bold"><strong>Complete OCL File</strong></span>. The editor is Xtext-based and so has most of the facilities that you find in many other Eclipse editors.
				</p>
</div>
<div class="section" title="Royal and Loyal Example">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="RoyalandLoyalExample"></a>Royal and Loyal Example</h3>
</div>
</div>
</div>
<p>The Royal and Loyal Example was first provided by Jos Warmer and Anneke Kleppe in 
					<span class="emphasis"><em>The Object Constraint Language: Getting Your Models Ready for MDA</em></span> and has subsequently been used in many tutorials. The example provides substantial examples of Complete OCL and Essential OCL. The models are available by invoking 
					<span class="bold"><strong>New-&gt;Example...-&gt;OCL (Object Constraint Language) Plugins</strong></span>.
				</p>
</div>
<div class="section" title="Summary">
<div class="titlepage">
<div>
<div>
<h3 class="title">
<a name="Summary2"></a>Summary</h3>
</div>
</div>
</div>
<p>To illustrate how to work with Complete OCL we have</p>
<div class="itemizedlist">
<ul class="itemizedlist" type="disc">
<li class="listitem">
<p>Examined the Complete OCL language</p>
</li>
<li class="listitem">
<p>Examined constraints to rectify inadequate Ecore validation of derived features</p>
</li>
<li class="listitem">
<p>Loaded Complete OCL constraints to enhance validation of an Ecore model</p>
</li>
<li class="listitem">
<p>Loaded Complete OCL constraints to enhance validation of a UML model</p>
</li>
<li class="listitem">
<p>Loaded Complete OCL constraints to enhance validation of an Xtext grammar</p>
</li>
</ul>
</div>
</div>
</div>
</body>
</html>
<html id='3404.tools.html'></html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Query Development Tools in VIATRA</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Query Development Tools in VIATRA</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#query-tests">1. Query Test Framework</a>
<ul class="sectlevel2">
<li><a href="#_basic_concepts">1.1. Basic concepts</a></li>
<li><a href="#_incremental_scenarios">1.2. Incremental Scenarios</a></li>
<li><a href="#_supporting_plain_java_objects_in_substitutions">1.3. Supporting plain Java objects in substitutions</a></li>
<li><a href="#_specifying_custom_serialization_for_emf_objects">1.4. Specifying custom serialization for EMF objects</a></li>
</ul>
</li>
<li><a href="#query-optimization">2. Debugging and Profiling Graph Patterns</a>
<ul class="sectlevel2">
<li><a href="#rete-visualizer">2.1. Rete Visualizer</a></li>
<li><a href="#local-search-debugger">2.2. Local Search Debugger</a></li>
<li><a href="#query-profiling">2.3. Memory Optimization of Rete Networks</a></li>
</ul>
</li>
<li><a href="#viatra-maven-plugin">3. Maven integration</a>
<ul class="sectlevel2">
<li><a href="#_repository">3.1. Repository</a></li>
<li><a href="#_viatra_maven_plugin">3.2. viatra-maven-plugin</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query-tests"><a class="link" href="#query-tests">1. Query Test Framework</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is a test framework available specifically designed to test Viatra Queries. It was developed with the following use cases in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Testing the Viatra Query Engine itself</p>
</li>
<li>
<p>Provide a regression testing framework for users to test patterns</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_basic_concepts"><a class="link" href="#_basic_concepts">1.1. Basic concepts</a></h3>
<div class="paragraph">
<p>The framework allows the user to compare the results of a pattern execution using different engine implementation or to a predefined result set (so-called snapshot). It defines a convenient <a href="https://git.eclipse.org/c/viatra/org.eclipse.viatra.git/tree/query/tests/org.eclipse.viatra.query.testing.core/src/org/eclipse/viatra/query/testing/core/api/ViatraQueryTest.xtend">internal DSL</a> to define test cases. A description of a test case consists of the following parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What to test</p>
<div class="ulist">
<ul>
<li>
<p>Generated query specifications</p>
</li>
<li>
<p>Pattern groups</p>
</li>
<li>
<p>Generic pattern groups (possible parsed directly from .vql files)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Input models</p>
</li>
<li>
<p>Execution methods</p>
<div class="ulist">
<ul>
<li>
<p>by Rete or LocalSearch engines</p>
</li>
<li>
<p>from snapshot</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assumption (optional)</p>
<div class="ulist">
<ul>
<li>
<p>Checks whether all given execution method supports the given patterns (i.e. the test case is applicable)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assertion</p>
<div class="ulist">
<ul>
<li>
<p>Checks whether the results provided by all execution methods are the same for each patterns.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">ViatraQueryTest. //Entry point
  test(SomeQuerySpecification::instance).
  and(AnotherQuerySpecification). // Patterns under test
  on(modelURI). // Instance models (optional; snapshot model references the input model)
  with(snapshot). // Compare prepared results stored by a snapshot model
  with(new ReteBackendFactory). // Compare results produced by the Rete engine
  assumeInputs. // checks whether the given snapshots and backend factories are valid for the patterns under test. Throws JUnit assumption error otherwise
  assertEquals // compute difference of each given snapshot and pattern executions. Throws JUnit assertion failure if differences occur</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_incremental_scenarios"><a class="link" href="#_incremental_scenarios">1.2. Incremental Scenarios</a></h3>
<div class="paragraph">
<p>The framework supports testing scenarios in which the results can be checked again after a model modification using the modify method:</p>
</div>
<div class="listingblock">
<div class="title">Recheck after model manipulation</div>
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">ViatraQueryTest. //Entry point
  test(SomeQuerySpecification::instance).
  and(AnotherQuerySpecification). // Patterns under test
  on(modelURI). // Instance models (optional; snapshot model references the input model)
  with(snapshot). // Compare prepared results stored by a snapshot model
  with(new ReteBackendFactory). // Compare results produced by the Rete engine
  assertEqualsThen. // assertEqualsThen does not return void
  modify(Type, [name=="John"], [age=35]). // The given operation is executed on each instance of the given type on which the given condition evaluates to true.
  with(snapshotAfterModification). // Any modify operation causes all previously loaded snapshots to be invalidated.
  assertEquals</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_plain_java_objects_in_substitutions"><a class="link" href="#_supporting_plain_java_objects_in_substitutions">1.3. Supporting plain Java objects in substitutions</a></h3>
<div class="paragraph">
<p>In some cases plain Java objects need to be added to the Query Snapshot model. However, the serialization and comparison of such elements might be relevant on the domain in which the testing framework is used. In this case, the framework allows the user to define how certain plain Java types should be handled, through JavaObjectAccess elements.These elements enable the framework to serialize, deserialize and compare certain typed POJOs.
The following example demonstrates how these Access objects should be registered into the framework.</p>
</div>
<div class="paragraph">
<p>In this example, the metamodel contains a 'CustomInteger' typed attribute. 'CustomInteger' is a java type that extends 'Integer'. The following fragment shows how 'Access' type definition.</p>
</div>
<div class="listingblock">
<div class="title">Accessing a Custom Attribute</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class CustomIntegerAccess extends JavaObjectAccess{

	public CustomIntegerAccess() {
		super(CustomInteger.class);
	}

        //Create Substitution object based on the CustomInteger object
	@Override
	public SerializedJavaObjectSubstitution toSubstitution(Object value) {
		SerializedJavaObjectSubstitution sub = SnapshotFactory.eINSTANCE.createSerializedJavaObjectSubstitution();
		if(value instanceof CustomInteger){
			sub.setType(getType().getName());
			sub.setValue(((CustomInteger) value).integerValue()+"");
		}
		return sub;
	}

        //Calculate hash code (needed for equality checking)
	@Override
	public int calculateHash(SerializedJavaObjectSubstitution substitution) {
		return Objects.hashCode(Integer.parseInt(substitution.getValue()));
	}

        //Check if two substitutions are equal (assuming they each define a 'CustomInteger')
	@Override
	public boolean equals(SerializedJavaObjectSubstitution a, SerializedJavaObjectSubstitution b) {
		if(a.getType().equals(getType().getName()) &amp;&amp; b.getType().equals(getType().getName())){
			int aVal = Integer.parseInt(a.getValue());
			int bVal = Integer.parseInt(b.getValue());
			return aVal == bVal;
		}
		return false;
	}

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Using CustomIntegerAccess</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    ...
    Map&lt;String, JavaObjectAccess&gt; objectAccess = Maps.newHashMap();
    map.put(CustomInteger.class.getName(),new CustomIntegerAccess());
    ViatraQueryTest.test(specs, new SnapshotHelper(objectAccess)).on(new EMFScope([MODEL])).with([SNAPSHOT]).assertEquals();
    ...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_specifying_custom_serialization_for_emf_objects"><a class="link" href="#_specifying_custom_serialization_for_emf_objects">1.4. Specifying custom serialization for EMF objects</a></h3>
<div class="paragraph">
<p>In the default configuration of the snapshot generator, any EMF object is converted to a generic EMF substitution. However, in some scenarios, the user might want to specify a (list of) custom function(s), which define how EMF objects should be represented in the snapshot.</p>
</div>
<div class="paragraph">
<p>The framework allows for registering such custom functions, in form of a map indexed by the types (EClass) desired to be handled in a user-defined way, where the corresponding map value stores the substitution function. Such functions are expected to receive an EObject and return a String.</p>
</div>
<div class="paragraph">
<p>The following example shows how to specify a simple custom function for the class ApplicationType from the CPS metamodel, and how to set up a corresponding test case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">customMap.put(CyberPhysicalSystemPackage.Literals.APPLICATION_TYPE, [at | (at as ApplicationType).identifier])

ViatraQueryTest.test(ApplicationTypesQuerySpecification.instance, snapshotHelper(customMap))
          .on(new EMFScope([MODEL]))
          .with([SNAPSHOT])
          .assertEquals</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_coverage_analysis_and_reporting"><a class="link" href="#_coverage_analysis_and_reporting">1.4.1. Coverage analysis and reporting</a></h4>
<div class="paragraph">
<p>Starting with VIATRA 1.6 (see <a href="http://bugs.eclipse.org/514628">bug 514628</a>), you can add analyzers to a test object which measure various metrics of query execution. For example, you can analyze coverage during testing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">static var CoverageAnalyzer coverage;

@BeforeClass
static def void before(){
    coverage = new CoverageAnalyzer();
}

@Test
def void testApplicationTypes() {
    ViatraQueryTest.test(ApplicationTypesQuerySpecification.instance)
        .analyzeWith(coverage) // Analyze coverage
        .with(new ReteBackendFactory) // First set of matches should come from query evaluation with Rete backend
        .with(snapshot) // Second set of matches should come from a snapshot
        .assertEquals // Assert that the match sets are equal
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then after running the tests, you can get the analyzed coverage with <code>CoverageAnalyzer#getCoverage()</code>, or report it with <code>CoverageReporter</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@AfterClass
static def void after(){
    CoverageReporter.reportHtml(coverage, new File("coverage.html"))
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a complete example, see the <a href="https://git.eclipse.org/c/viatra/org.eclipse.viatra.examples.git/tree/cps/frameworktests/org.eclipse.viatra.examples.cps.tests/src/org/eclipse/viatra/examples/cps/tests/BasicCpsTest.xtend">CPS Framework tests</a>.</p>
</div>
<div class="sect4">
<h5 id="_interpreting_the_coverage_report"><a class="link" href="#_interpreting_the_coverage_report">1.4.1.1. Interpreting the coverage report</a></h5>
<div class="paragraph">
<p>A coverage report looks like this: <a href="https://hudson.eclipse.org/viatra/job/viatra-framework-tests/lastSuccessfulBuild/artifact/cps/frameworktests/org.eclipse.viatra.examples.cps.tests/BasicCpsTest_coverage.html">CPS Framework tests coverage report</a></p>
</div>
<div class="paragraph">
<p>An element (pattern, pattern body or a constraint) can be:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Covered</dt>
<dd>
<p>the Rete node which belongs to it had at least one match during the query executions</p>
</dd>
<dt class="hdlist1">Uncovered</dt>
<dd>
<p>the Rete node which belongs to it had no matches during any query execution</p>
</dd>
<dt class="hdlist1">Not represented</dt>
<dd>
<p>it is not represented in the Rete network, which usually means that the optimizer removed it because it is redundant.</p>
</dd>
<dt class="hdlist1">Not represented by error</dt>
<dd>
<p>it should be represented in the Rete network, but it was removed for an unknown reason; if you encounter this, please report an issue, including your query file and the coverage report.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Note that a pattern body can be uncovered although each of its constraints is covered, because the Rete nodes belonging to the constraints could have matches during <em>different</em> query executions, which means that the constraints were not fulfilled at once.</p>
</div>
<div class="paragraph">
<p>A pattern&#8217;s aggregated coverage metric is calculated the following way: number of covered elements / number of represented (covered/uncovered) elements</p>
</div>
<div class="paragraph">
<p>Known limitations in 1.6:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>coverage measurement is supported only with the Rete backend</p>
</li>
<li>
<p>the results might be indeterministic because of the indeterminism of the Rete evaluation</p>
</li>
<li>
<p>the constraints are displayed in their internal PQuery representation (see <a href="http://bugs.eclipse.org/515723" class="bare">http://bugs.eclipse.org/515723</a>)</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query-optimization"><a class="link" href="#query-optimization">2. Debugging and Profiling Graph Patterns</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="rete-visualizer"><a class="link" href="#rete-visualizer">2.1. Rete Visualizer</a></h3>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>Install the <strong>Query Visualization</strong> feature group from the VIATRA update site.</p>
<div class="ulist">
<ul>
<li>
<p>Before VIATRA 1.6 this feature relied on a pre-release version of GEF4 Zest; the version available from the GEF update sites did not work. Use the version from the VIATRA update sites.</p>
</li>
<li>
<p>Since VIATRA 1.6 GEF 5 is used</p>
<div class="ulist">
<ul>
<li>
<p>JavaFX support is required</p>
</li>
<li>
<p>e(fx)clipse runtime and GEF5 is required. They are both available from the Oxygen release train.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Usage</div>
<ul>
<li>
<p>Go to <strong>Window</strong> | <strong>Show View</strong> | <strong>Other&#8230;&#8203;</strong> and choose <strong>Rete Visualizer</strong>.</p>
</li>
<li>
<p>Load the instance model and the pattern in <em>Query Results</em> view.</p>
</li>
<li>
<p>Click on the pattern name to visualize it.</p>
</li>
<li>
<p>To change the visualized Rete net, unload the pattern and load with the green start button.</p>
</li>
<li>
<p>You may change the layout by clicking the downward pointing triangle and going to the <strong>Layout</strong> menu.
<span class="image"><img src="./images/tools/rete_visualizer.png" alt="rete visualizer"></span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="local-search-debugger"><a class="link" href="#local-search-debugger">2.2. Local Search Debugger</a></h3>
<div class="ulist">
<div class="title">Installation</div>
<ul>
<li>
<p>The Local Search Debugger Tooling is available in the Query Visualization feature group.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Usage</div>
<ul>
<li>
<p>Open the Local Search Debugger view in Eclipse</p>
</li>
<li>
<p>Load the model and query definitions in the Query explorer</p>
</li>
<li>
<p>Select the the query in the Query explorer</p>
</li>
<li>
<p>Run the local search debugger by invoking the command on the toolbar of the Local Search Debugger view. The command reads the selection from the query explorer and initiates the matching: initializes and shows the plan.</p>
</li>
<li>
<p>Step or run the matching using the designated commands on the view&#8217;s toolbar. Breakpoints can also be added when needed.</p>
</li>
<li>
<p>The state of the shown search plan shows the state of the execution, while the already found matches and the current variable substitutions can be seen in the view&#8217;s provided Zest viewer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="query-profiling"><a class="link" href="#query-profiling">2.3. Memory Optimization of Rete Networks</a></h3>
<div class="paragraph">
<p>If you have a large number of patterns and you find that the incremental query evaluation seems very slow or uses more memory than expected, it is useful to take an instance model where the issue occurs and evaluate the footprint of each pattern independently. Of course, patterns that call other patterns will also incorporate the footprint of those patterns, but the difference can be seen nonetheless.</p>
</div>
<div class="paragraph">
<p>We provide a simple JUnit test for performing this hotspot evaluation easily using the Testing Framework of VIATRA Query: <a href="http://git.eclipse.org/c/viatra/org.eclipse.viatra.git/tree/query/tests/org.eclipse.viatra.query.testing.core/src/org/eclipse/viatra/query/testing/core/QueryPerformanceTest.xtend">QueryPerformanceTest.xtend</a>. Read the JavaDoc for more details, while an example on its usage can be found here for our UML surrogate queries: <a href="http://git.eclipse.org/c/viatra/org.eclipse.viatra.git/tree/integration/tests/org.eclipse.viatra.integration.uml.test/src/org/eclipse/viatra/integration/uml/test/UMLSurrogateQueryPerformanceTest.java">UMLSurrogateQueryPerformanceTest.java</a></p>
</div>
<div class="paragraph">
<p>Note that if you run the test and use profilers, such as <a href="https://www.yourkit.com/java/profiler/index.jsp">YourKit</a> or <a href="http://www.oracle.com/technetwork/java/javaseproducts/mission-control/java-mission-control-1998576.html">Java Mission Control</a>, the problematic patterns can be easily identified by looking at the heap size graphs, selecting the exceeding parts and looking at the current trace to see which query is being built.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="viatra-maven-plugin"><a class="link" href="#viatra-maven-plugin">3. Maven integration</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>VIATRA Query supports building VIATRA Query projects in a Maven-based builds by generating the pattern matcher code from the vql files.</p>
</div>
<div class="ulist">
<div class="title">Requirements</div>
<ul>
<li>
<p>The maven compiler requires Maven 3.1 to function correctly. In some cases Maven 3.0.5 is enough, but there are some dependency issues that are problematic for this version. Versions before Maven 3.0 will not work at all. See <a href="http://bugs.eclipse.org/478437" class="bare">http://bugs.eclipse.org/478437</a> for details.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Known limitations</div>
<ul>
<li>
<p>Code generation for integration components (e.g. validation framework, derived features) is not supported. See <a href="http://bugs.eclipse.org/434794" class="bare">http://bugs.eclipse.org/434794</a></p>
</li>
<li>
<p>The VIATRA Query project is not available from Maven Central, only from repo.eclipse.org.</p>
</li>
<li>
<p>There is no maven archetype support: it is not possible to generate an Eclipse-less project automatically, that works with VIATRA Query. However, manually created projects can be built with the existing compiler.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_repository"><a class="link" href="#_repository">3.1. Repository</a></h3>
<div class="paragraph">
<p>Maven components are available from the Eclipse maven repository with the following urls:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Releases: <a href="https://repo.eclipse.org/content/repositories/viatra-releases/" class="bare">https://repo.eclipse.org/content/repositories/viatra-releases/</a> (kept indefinitely)</p>
</li>
<li>
<p>Snapshot only: <a href="http://repo.eclipse.org/content/repositories/viatra-snapshots/" class="bare">http://repo.eclipse.org/content/repositories/viatra-snapshots/</a> (cleared after 30 days)
* Combined repository: <a href="https://repo.eclipse.org/content/groups/viatra/" class="bare">https://repo.eclipse.org/content/groups/viatra/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following maven projects are available for use:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">org.eclipse.viatra:viatra-query-runtime</dt>
<dd>
<p>dependency for the VIATRA Query runtime, without support for generic API</p>
</dd>
<dt class="hdlist1">org.eclipse.viatra:viatra-query-language</dt>
<dd>
<p>dependency for the VIATRA Query with support for generic API (requires many more dependencies - only use if required)</p>
</dd>
<dt class="hdlist1">org.eclipse.viatra:viatra-maven-plugin</dt>
<dd>
<p>Maven code generator, should not be added to the compile classpath</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To use VIATRA Query features, add the repository and the required dependencies to your Maven project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- use this in your project's pom.xml file --&gt;
&lt;properties&gt;
    &lt;!-- It is a good idea to specify VIATRA framework version once as
    a property (e.g. in the parent pom) and use that throughout the build --&gt;
	&lt;viatra.version&gt;1.2.1&lt;/viatra.version&gt;
&lt;/properties&gt;

&lt;dependencies&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
		&lt;artifactId&gt;viatra-query-runtime&lt;/artifactId&gt;
		&lt;version&gt;${viatra.version}&lt;/version&gt;
	&lt;/dependency&gt;

	&lt;!-- requires many more dependencies - only use if required --&gt;
	&lt;dependency&gt;
		&lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
		&lt;artifactId&gt;viatra-query-language&lt;/artifactId&gt;
		&lt;version&gt;${viatra.version}&lt;/version&gt;
	&lt;/dependency&gt;
&lt;/dependencies&gt;

&lt;repositories&gt;
	&lt;repository&gt;
		&lt;id&gt;viatra&lt;/id&gt;
		&lt;url&gt;https://repo.eclipse.org/content/groups/viatra2/&lt;/url&gt;
	&lt;/repository&gt;
&lt;/repositories&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_viatra_maven_plugin"><a class="link" href="#_viatra_maven_plugin">3.2. viatra-maven-plugin</a></h3>
<div class="paragraph">
<p>The maven plugin requires information from the used EMF packages and additionally the EMF packages should be able loaded as well. For this reason, it is important to add references to EPackages and Genmodels together with the corresponding dependencies.</p>
</div>
<div class="paragraph">
<p>Since 1.5, it is possible to use the project dependencies without declaring them explicitly. This helps when the metamodels you are using are not available as Maven artifacts.</p>
</div>
<div class="ulist">
<div class="title">Additional notes</div>
<ul>
<li>
<p>Package reference is added either by file path to the .genmodel file (typically by platform:/resource URI) or fully qualified name of the Ecore Package class that is available on the classpath. Note that if the class is in the same plugin as the query file, the class based reference will not work as compilation will happen at a later build phase than the generation. Also pay attention not to mix the package class-based and the genmodel-based mechanism in one reactor because it can lead to strange errors.</p>
</li>
<li>
<p>Each package that is imported must be listed in the metamodels section. The packages that are used transitively by the explicitly listed packages do not need to be listed.</p>
</li>
<li>
<p>Explicit dependency declarations are transitive, so you don&#8217;t need to specify all dependencies in all POM.XML files. Note that in some cases you need to add extra dependencies with specific versions (e.g. emf.core) if your genmodel requires a higher version than what is provided by the viatra-maven-plugin. This way you can redefine the EMF versions used by the generator.</p>
</li>
<li>
<p>If a pattern file in a Maven project imports patterns from another project on which it depends, make sure that the files containing the imported patterns are included in the dependency&#8217;s Maven artifact.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example POM.XML (based on <a href="http://git.eclipse.org/c/viatra/org.eclipse.viatra.git/tree/query/tests/org.eclipse.viatra.query.runtime.cps.tests/pom.xml">CPS example</a>)</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;pluginRepositories&gt;
  &lt;pluginRepository&gt;
    &lt;id&gt;viatra&lt;/id&gt;
    &lt;url&gt;https://repo.eclipse.org/content/groups/viatra/&lt;/url&gt;
  &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
&lt;build&gt;
&lt;plugins&gt;
&lt;!-- Using maven-clean-plugin to remove previously generated code --&gt;
&lt;plugin&gt;
  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
  &lt;version&gt;2.5&lt;/version&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;phase&gt;clean&lt;/phase&gt;
      &lt;goals&gt;
        &lt;goal&gt;clean&lt;/goal&gt;
      &lt;/goals&gt;
      &lt;configuration&gt;
        &lt;filesets&gt;
          &lt;fileset&gt;
            &lt;!-- Generated code folder --&gt;
            &lt;directory&gt;src-gen&lt;/directory&gt;
            &lt;includes&gt;
              &lt;include&gt;**/*&lt;/include&gt;
            &lt;/includes&gt;
          &lt;/fileset&gt;
        &lt;/filesets&gt;
      &lt;/configuration&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
&lt;!-- Setting up generator --&gt;
&lt;plugin&gt;
  &lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
  &lt;artifactId&gt;viatra-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;${viatra.version}&lt;/version&gt;
  &lt;!-- Binding execution to the code generation lifecycle phase --&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;goals&gt;
        &lt;goal&gt;generate&lt;/goal&gt;
      &lt;/goals&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
  &lt;configuration&gt;
    &lt;!-- Output directory - required --&gt;
    &lt;outputDirectory&gt;src-gen&lt;/outputDirectory&gt;
    &lt;metamodels&gt;
      &lt;metamodel&gt;
        &lt;!-- Select one of the following depending on where is your metamodel defined --&gt;

        &lt;!-- (a) Java class for the EMF EPackage - use this if generated EMF code is in the classpath --&gt;
        &lt;packageClass&gt;org.eclipse.viatra.examples.cps.cyberPhysicalSystem.CyberPhysicalSystemPackage&lt;/packageClass&gt;
        &lt;!-- (b) genmodel file used for generating the EMF model classes - use this if EMF model is in the same project --&gt;
        &lt;!-- &lt;genmodelUri&gt;model/model.genmodel&lt;/genmodelUri&gt; --&gt;
      &lt;/metamodel&gt;
    &lt;/metamodels&gt;
    &lt;!-- Since 1.5, you can use the project dependencies instead of specific Maven dependencies - optional --&gt;
    &lt;useProjectDependencies&gt;true&lt;/useProjectDependencies&gt;
  &lt;/configuration&gt;
  &lt;dependencies&gt;
    &lt;!-- Dependency required for the cps domain project (that contains the generated EPackage), unless you set useProjectDependencies --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.viatra.examples.cps&lt;/groupId&gt;
      &lt;artifactId&gt;org.eclipse.viatra.examples.cps.model&lt;/artifactId&gt;
      &lt;version&gt;1.2.0&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/plugin&gt;
&lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_language_extension_support"><a class="link" href="#_language_extension_support">3.2.1. Language extension support</a></h4>
<div class="paragraph">
<p>Starting with VIATRA 2.0, the viatra-maven-compiler can understand custom annotations, and validate them. To support these features, the new <code>viatra-query-language-extensions</code> maven module has to be added to the dependencies of the project.</p>
</div>
<div class="listingblock">
<div class="title">Custom annotation support</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;plugins&gt;
&lt;!-- Using maven-clean-plugin to remove previously generated code --&gt;
&lt;!-- Setting up generator --&gt;
&lt;plugin&gt;
  &lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
  &lt;artifactId&gt;viatra-maven-plugin&lt;/artifactId&gt;
  &lt;version&gt;${viatra.version}&lt;/version&gt;
  &lt;configuration&gt;
    ...
  &lt;/configuration&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
      &lt;artifactId&gt;viatra-query-language-extensions&lt;/artifactId&gt;
      &lt;version&gt;${viatra.version}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/plugin&gt;
&lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Code generator features bound to annotations, e.g. in case of the validation framework or the query-based derived feature support are still not available in the Maven compiler.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting"><a class="link" href="#_troubleshooting">3.2.2. Troubleshooting</a></h4>
<div class="paragraph">
<div class="title">Cyclic linking</div>
<p>In a project that contains multiple pattern definition files, there is a slight chance you get an error message like follows:</p>
</div>
<div class="paragraph">
<p><code>ERROR:Cyclic linking detected : PatternCall.patternRef&#8594;PatternCall.patternRef</code></p>
</div>
<div class="paragraph">
<p>This is a known issue we are working to fix; see <a href="http://bugs.eclipse.org/464120" class="bare">http://bugs.eclipse.org/464120</a> and <a href="http://bugs.eclipse.org/480652" class="bare">http://bugs.eclipse.org/480652</a> for details about the underlying issues.</p>
</div>
<div class="paragraph">
<p>As workaround, we suggest to explicitly define types for all parameters, because that avoids this issue. If that is not enough, you have to ensure that the vql files are processed in calling order: all patterns are to be processed before they are used in a pattern call. This can be achieved either by moving patterns between vql files, or by renaming your .vql files so that the files that call patterns from other files should have names lexicographically greater than the referenced files.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s suppose that you have a query file with two queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vql" data-lang="vql">// util.vql

pattern utilityPattern(...) {
  find anotherUtilityPattern(...);
}

pattern anotherUtilityPattern(...) {
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The cyclic linking occurs where <code>utilityPattern</code> calls <code>anotherUtilityPattern</code>. Search for callers of <code>utilityPattern</code>! Let&#8217;s suppose it is in this file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vql" data-lang="vql">// logic.vql

pattern myPattern(...) {
  find utilityPattern(...);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have to rename <code>util.vql</code> to <code>a_util.vql</code> and <code>logic.vql</code> to <code>b_logic.vql</code>, so that the former is processed before the latter.</p>
</div>
<div class="paragraph">
<div class="title">Ambiguous types</div>
<p>If you get type errors during validation such as <code>ERROR:foo cannot be resolved.</code> or <code>ERROR:Ambiguous variable type defintions: [Foo, Bar], type cannot be selected</code> although the query files are valid in Eclipse, check the cross-references in your ecore/genmodel files by opening them with a text editor. If their URIs are workspace-based, i.e. they start with <code>platform:/resource</code>, you have to map those URIs to absolute <code>file:</code> URIs by including URI mappings in the viatra-maven-plugin configuration (since 1.6):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-vql" data-lang="vql">&lt;plugin&gt;
	&lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
	&lt;artifactId&gt;viatra-maven-plugin&lt;/artifactId&gt;
	&lt;configuration&gt;
...
		&lt;uriMappings&gt;
			&lt;uriMapping&gt;
				&lt;sourceUri&gt;platform:/resource/school/model/school.ecore&lt;/sourceUri&gt;
				&lt;targetUri&gt;file:/${project.basedir}/school/model/school.ecore&lt;/targetUri&gt;
			&lt;/uriMapping&gt;
			&lt;uriMapping&gt;
				&lt;sourceUri&gt;platform:/resource/school/model/school.genmodel&lt;/sourceUri&gt;
				&lt;targetUri&gt;file:/${project.basedir}/school/model/school.genmodel&lt;/targetUri&gt;
			&lt;/uriMapping&gt;
		&lt;/uriMappings&gt;
	&lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Multiple definitions of a type</div>
<p>If you get the error
<code>ERROR:Variable foo has a type Foo which has multiple definitions: 'file://C:\project\model/../../anotherProject/model/usedMetamodel.ecore'&#8201;&#8212;&#8201; 'file://C:\project\../anotherProject/model/usedMetamodel.ecore'</code>
make sure that the genmodelUri in the viatra-maven-plugin&#8217;s configuration is <strong>exactly</strong> the same as the URI in your .genmodel file, e.g. if your <code>metamodel.ecore</code> resides in the <code>model</code> subfolder, this will be the configuration with the correct relative URI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
	&lt;groupId&gt;org.eclipse.viatra&lt;/groupId&gt;
	&lt;artifactId&gt;viatra-maven-plugin&lt;/artifactId&gt;
	&lt;configuration&gt;
		&lt;metamodels&gt;
			&lt;metamodel&gt;
				&lt;genmodelUri&gt;model/../../anotherProject/model/usedMetamodel.genmodel&lt;/genmodelUri&gt;
			&lt;/metamodel&gt;
		&lt;/metamodels&gt;
	&lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The URIs should be the same <strong>after</strong> URI mapping if used.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html><html id='3332.Sequence Diagrams.html'></html><?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Sequence Diagrams</title>
		<link type="text/css" rel="stylesheet" href="../../resources/bootstrap.css"/>
		<link type="text/css" rel="stylesheet" href="../../resources/custom.css"/>
	</head>
	<body>
		<h1 id="SpecifyingSequenceDiagramEditors">Specifying Sequence Diagram Editors</h1>
		<ol class="toc" style="list-style: disc;">
			<li>
				<a href="#SpecifyingSequenceDiagramEditors">Specifying Sequence Diagram Editors</a>
				<ol style="list-style: disc;">
					<li>
						<a href="#introduction">Introduction</a>
					</li>
					<li>
						<a href="#semantics">Sequence Diagrams Semantics</a>
					</li>
					<li>
						<a href="#restrictions">Restrictions and Limitations</a>
					</li>
					<li>
						<a href="#prerequisites">Prerequisites</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#Interaction">Interaction</a>
							</li>
							<li>
								<a href="#LifelineandInstancerole">Lifeline and Instance role</a>
							</li>
							<li>
								<a href="#Execution">Execution</a>
							</li>
							<li>
								<a href="#Message">Message</a>
							</li>
							<li>
								<a href="#SingleEventEndandCompoundEventEnd">SingleEventEnd and CompoundEventEnd</a>
							</li>
							<li>
								<a href="#Ordering">Ordering</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="#sd_description">Sequence Diagram Description</a>
					</li>
					<li>
						<a href="#DefaultLayer">Default Layer</a>
					</li>
					<li>
						<a href="#mappings">Mappings</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#InstanceRole">Instance Role</a>
							</li>
							<li>
								<a href="#Executions">Executions</a>
							</li>
							<li>
								<a href="#BasicMessages">Basic Messages</a>
							</li>
						</ol>
					</li>
					<li>
						<a href="#tools">Tools</a>
						<ol style="list-style: disc;">
							<li>
								<a href="#JavaServices">Java Services</a>
							</li>
							<li>
								<a href="#CreationTools">Creation Tools</a>
							</li>
							<li>
								<a href="#eventReorderTool">Event Reorder Tool</a>
							</li>
							<li>
								<a href="#instanceRoleReorderTool">Instance Role Reorder Tool</a>
							</li>
							<li>
								<a href="#OtherTools">Other Tools</a>
							</li>
						</ol>
					</li>
				</ol>
			</li>
		</ol>
		<h2 id="introduction">Introduction</h2>
		<p>This document describes how to specify sequence diagram modelers with Sirius. It has been written for software architects who want to specify sequence diagrams on their own meta-models.</p>
		<p>This tutorial is based on an example, i.e. the specification of a UML sequence diagram editor. The resulting diagram is  available in the 
			<em>Obeo UML Behavioral</em> viewpoint (available for free at <a href="https://github.com/ObeoNetwork/UML-Modeling" target="_blank">https://github.com/ObeoNetwork/UML-Modeling</a> ) which is based on the Eclipse Foundation&#8217;s <a href="http://wiki.eclipse.org/MDT-UML2" target="_blank">UML2 meta-model</a>.
		</p>
		<h2 id="semantics">Sequence Diagrams Semantics</h2>
		<p>As their name says, sequence diagrams are meant to represent ordered sequences of elements. Typically, they represent 
			<em>events</em> sent and received between some entities over 
			<em>time</em>. The canonical case is a UML Sequence Diagram (where the notation comes from), which represents the messages exchanged between objects in a software system.
		</p>
		<p>The most important consequence of this is that contrary to what happens on a classical diagram, 
			<em>the relative graphical positions of elements on a sequence diagram have strong meaning</em>. This is true for the vertical placement and for the left-to-right order of lifelines. However placing a message above or below another one has a strong implication on the ordering of the events they represent, and thus on the structure of the underlying semantic model which is represented. Sirius works hard to ensure that what you see on you sequence diagram (in terms of vertical ordering of elements and horizontal ordering of lifelines) always correspond to the semantic ordering of the represented events.
		</p>
		<p>This works both ways:</p>
		<ul>
			<li>Assuming a diagram is synchronized (i.e. you are in 
				<em>Automatic Refresh</em> mode or your manually refreshed it since the last semantic changes), Sirius will always organize the elements on the diagram in a way which is compatible with the semantic ordering of the events: if you see an execution 
				<em>E1</em> placed above another execution 
				<em>E2</em>, you can be sure the events corresponding to 
				<em>E1</em> happen before the events of 
				<em>E2</em> in the semantic model.
			</li>
			<li>Symmetrically, and perhaps more importantly, 
				<em>moving</em> elements on a sequence diagram may trigger changes in the underlying semantic model to reflect the new event order implied by the positions you changed. This is very different from what happens in other diagrams, where most graphical repositioning of elements are only cosmetic. Keeping the example above, moving execution 
				<em>E2</em> graphically above 
				<em>E1</em> will trigger changes in the semantic model to move the corresponding event of 
				<em>E2</em> before the events of 
				<em>E1</em>.
			</li>
		</ul>
		<p>Most of the specific features and restrictions of sequence diagrams compared to other diagrams derive from this strong guarantee that at all time, the graphical (vertical) order of the elements you see on the diagram match exactly the semantic order of the events which exist in the underlying model and the horizontal order of the instance roles you see on the diagram match exactly the semantic order of the corresponding elements which exist in the underlying model.</p>
		<p>From the specifier point of view, this means that sequence diagrams can only be defined on meta-models in which you can provide a total ordering of the events represented, and that you can reorder these elements in a predictable way (see the description of the 
			<a href="#eventReorderTool">Event Reorder Tool</a> and 
			<a href="#instanceRoleReorderTool">Instance Role Reorder Tool</a> for details).
		</p>
		<h2 id="restrictions">Restrictions and Limitations</h2>
		<p>In order to guarantee the strong guarantee described above, some of the features present on normal diagrams are not supported, or even completely disabled on sequence diagrams. Basically, anything which would make it possible on a normal diagram to have meaningful semantic elements not visible on the diagram is forbidden. This would make it impossible for Sirius to keep consistent tracking of the &#8220;position&#8221; of these invisible elements relative to the ones which are visible.</p>
		<ul>
			<li>
				<em>Layers</em>: sequence diagrams may define optional layers, as long as they do not make graphical elements appear or disappear on the diagram when they are selected or de-selected. Layers which contribute new tools in the palette for example are fine.
			</li>
			<li>
				<em>Filters</em>: filters which may hide elements from a sequence diagram when enabled are not supported.
			</li>
			<li>
				<em>Hide/Reveal</em>: hiding elements explicitly is not supported. The actions are disabled in the UI.
			</li>
			<li>
				<em>Pin/Unpin</em>: pinning graphical elements has no effect on the automatic layout of sequence diagrams. Even if an element has been marked as pinned, Sirius must be able to move it graphically as needed in order to maintain the graphical order of element in sync with the semantic order. The actions are disabled in the UI.
			</li>
		</ul>
		<h2 id="prerequisites">Prerequisites</h2>
		<p>As with any Sirius diagram, the semantic model used for a sequence diagram defines some elements and relationships that must be mapped to graphical elements in order to be represented on the sequence diagrams. For the UML2 modeler, the semantic model is defined in 
			<code>.uml</code> files and the mapping in the 
			<code>uml2.odesign</code> Viewpoint Specification file.
		</p>
		<p>The job of the architect is to map the UML2 interactions, life-lines, executions and messages. Even if the support for sequence diagrams in Sirius is not dedicated to UML2, these four kinds of elements (or similar ones) must be provided by the sequence meta-model in order to be represented as sequence diagrams in Sirius.</p>
		<h3 id="Interaction">Interaction</h3>
		<p>The interaction is the semantic container for all the sequence diagram elements.</p> 
		<img border="0" src="images/interaction.png"/>
		<p>In UML2, the interaction is represented by an element of type 
			<code>Interaction</code>.
		</p>
		<h3 id="LifelineandInstancerole">Lifeline and Instance role</h3>
		<p>The instance role and the lifeline represents one participant in the interaction.</p> 
		<img border="0" src="images/lifeline.png"/>
		<p>In UML2, the instance role and the lifeline are represented by one element of type 
			<code>Lifeline</code>.
		</p>
		<h3 id="Execution">Execution</h3>
		<p>The execution typically represents a period in the participant&#8217;s lifetime when it is active. An execution is composed of three elements:</p>
		<ul>
			<li>
				<em>Execution start</em>: the start occurrence of the execution;
			</li>
			<li>
				<em>Execution</em>: the execution by itself (the duration of the execution);
			</li>
			<li>
				<em>Execution finish</em>: the finish occurrence of the execution.
			</li>
		</ul> 
		<img border="0" src="images/execution.png"/>
		<p>In UML2, the execution is represented by an element of type 
			<code>Execution Specification</code>, the execution start and finish are defined by an abstract type 
			<code>Occurrence Specification</code>.
		</p>
		<h3 id="Message">Message</h3>
		<p>The message represents a kind of communication between lifelines of an interaction. A message is composed by three elements:</p>
		<ul>
			<li>
				<em>Message send</em> (or 
				<em>source</em>): the send occurrence of the message;
			</li>
			<li>
				<em>Message</em>: the message by itself (the kind of communication, e.g. synchronous/asynchronous call);
			</li>
			<li>
				<em>Message receive</em> (or 
				<em>target</em>): the receive occurrence of the message
			</li>
		</ul> 
		<img border="0" src="images/message.png"/>
		<p>In UML2, the message is represented by an element of type 
			<code>Message Specification</code>, the message send and receive are defined by one abstract type 
			<code>Occurrence Specification</code>.
		</p>
		<h3 id="SingleEventEndandCompoundEventEnd">SingleEventEnd and CompoundEventEnd</h3>
		<p>Sirius internally manages a list of start/finish execution occurrences and sender/receiver message occurrences defined for each interaction. All these occurrences are event ends contained in the 
			<code>EventEnds</code> list.
		</p>
		<p>An 
			<code>eventEnd</code> contains two properties:
		</p>
		<ul>
			<li>
				<code>semanticEvent</code>: points to the semantic event which could be a message or an execution,
			</li>
			<li>
				<code>semanticEnd</code>: points to one connection end of the semantic event, i.e. the semantic element which could be a message sender, a message receiver, an execution start or an execution finish.
			</li>
		</ul>
		<p>There are two kinds of 
			<code>EventEnds</code>:
		</p>
		<ul>
			<li>
				<code>SingleEventEnd</code>: Is an element which is used only as start/send or finish/receive by one execution/message. In UML2, an execution could be started or finished by an 
				<code>Execution Occurrence Specification</code> and a message could be sent or received by a 
				<code>Message occurrence Specification</code>.
			</li>
			<li>
				<code>CompoundEventEnd</code>: Is an element that represents the combination of a message and an execution. This kind of 
				<code>EventEnd</code> exists in order to associate graphically a message to an execution. As the 
				<code>CompoundEventEnd</code> is an 
				<code>EventEnd</code>, it contains the two properties:
				<ul>
					<li>
						<code>semanticEvent</code> which points to a message or an execution.
					</li>
					<li>
						<code>semanticEnd</code> which points to a 
						<code>MixEnd</code> element.
					</li>
				</ul>
			</li>
		</ul>
		<p>Depending on how the meta-model is defined, the 
			<code>MixEnd</code> could be represented by:
		</p>
		<ul>
			<li>one 
				<code>SingleEventEnd</code>: This is the case in UML2, the 
				<code>Execution Specification</code> could be defined with a start/finish element of type 
				<code>Execution Occurrence Specification</code> or 
				<code>Message Occurrence Specification</code>
			</li>
			<li>two 
				<code>SingleEventEnds</code>: one 
				<code>SingleEventElement</code> which points to the message and one 
				<code>SingleEventElement</code> which points to the execution.
			</li>
		</ul> 
		<img border="0" src="images/event_ends.png"/>
		<p>The 
			<code>Operation_0</code> message ends on the left border of the 
			<code>Operation_0()</code> execution because 
			<code>Operation_0_receiver</code> is associated to the start of the execution. Otherwise, the message would be associated to the lifeline. For example, the 
			<code>Message_3</code> is a simple message not linked to an execution. Consequently, the 
			<code>Message_3_receiver</code> is a 
			<code>SingleEventEnd</code> and is attached to the lifeline.
		</p>
		<p>Hence, for an asynchronous call, we get:</p>
		<ul>
			<li>one 
				<code>SingleEventEnd</code> for the message sending: 
				<code>Operation_0_sender</code>
				<ul>
					<li>
						<code>semanticEvent</code> = 
						<code>Operation_0</code> message
					</li>
					<li>
						<code>semanticEnd</code> = 
						<code>Operation_0_sender</code> message occurrence specification
					</li>
				</ul>
			</li>
			<li>one 
				<code>CompoundEventEnd</code> for the 
				<code>Operation_0</code> message receiving and 
				<code>Operation_0</code> execution 
				<code>startingEnd</code> composed by one 
				<code>SingleEventEnd</code> = 
				<code>Operation_receiver</code>
				<ul>
					<li>
						<code>semanticEvent</code> = 
						<code>Operation_0</code> message
					</li>
					<li>
						<code>semanticEnd</code> = 
						<code>Operation_0_receiver</code> message occurrence specification
					</li>
				</ul>
			</li>
			<li>one 
				<code>SingleEventEnd</code> for the execution finish: 
				<code>Operation_0_finish</code>
				<ul>
					<li>
						<code>semanticEvent</code> = 
						<code>Operation_0</code> execution
					</li>
					<li>
						<code>semanticEnd</code> = 
						<code>Operation_0_finish</code> execution occurrence specification
					</li>
				</ul>
			</li>
		</ul>
		<h3 id="Ordering">Ordering</h3>
		<p>In a Sirius sequence diagram, the elements are totally ordered.</p>
		<p>Internally, Sirius maintains three ordered sets:</p>
		<ul>
			<li>two for the vertical ordering : a graphical set which orders the graphical elements, a semantic set which orders the semantic elements.</li>
			<li>one for the horizontal ordering, a semantic set which orders the semantic instance roles (the graphical ordering of instance roles is available without heavy computation).</li>
		</ul> 
		<img border="0" src="images/orderings.png"/>
		<p>To provide a functional diagram, each semantic/graphical orderings couple must always be coherent. Creation tools and reordering tool must manage the semantic orderings. More explanations are given in the next section.</p>
		<h2 id="sd_description">Sequence Diagram Description</h2>
		<p>First, in an odesign file, from an existing viewpoint, you have to create a new kind of representation : Sequence Diagram Description.</p> 
		<img border="0" src="images/new_description.png"/> 
		<img border="0" src="images/description_properties.png"/>
		<p>As for other representations, you define mandatory properties:</p>
		<ul>
			<li>
				<em>Id</em>: unique identifier for the diagram type in Sirius
			</li>
			<li>
				<em>Label</em>: used to display information to end-user
			</li>
			<li>
				<em>Domain class</em>: type of the semantic element representing the sequence diagram container
			</li>
		</ul>
		<p>For a complete description of each property, have a look at the 
			<em>Help &gt; Sirius  Specifier Guide &gt; Reference Guide &gt; Representation &gt; Sequence Diagram</em>.
		</p>
		<p>The most important properties to understand are the 
			<em>Ends Ordering</em> and 
			<em>Instance Roles Ordering</em>.
		</p> 
		<img border="0" src="images/ends_ordering.png"/>
		<p>In a sequence diagram, graphical elements are ordered chronologically and this order is essential. Maintaining and updating the elements global order will be the main purpose of all tools that you will create later. Your tools must keep all the time the order of semantic elements and according to this, Sirius manages the graphical representation order.</p>
		<p>The ordered elements in a sequence diagram are defined with the 
			<em>Ends Ordering</em> and 
			<em>Instance Roles Ordering</em> fields. These properties will be used by Sirius to automatically order the graphical elements when you open a sequence diagram for an interaction. 
		</p>
		<p>The 
			<em>Ends Ordering</em> handles the vertical order of events. It specifies with an expression how semantic elements must be ordered. These elements should be execution1 start/finish and message send/receive occurrences. 
		</p>
		<p>A specific variable exists for this expression: 
			<code>eventEnds</code> . The variable 
			<code>eventEnds</code> contains the list of all 
			<code>EventEnds</code> existing for the current interaction.
		</p>
		<p>Pay attention: the evaluation of the 
			<em>Ends Ordering</em> expression should returned only elements contained in the 
			<code>eventEnds</code> list.
		</p>
		<p>The 
			<em>Instance Roles Ordering</em> handles the horizontal order of instance roles / lifelines. It specifies with an expression how semantic elements must be ordered. These elements should be the semantic elements which will be represented as instance role. 
		</p>
		<p>If we have a look at the UML2 meta-model, the fragment reference defined in an 
			<code>Interaction</code> contains all the execution occurrences and the message occurrences. Execution occurrences and messages occurrences are 
			<code>EventEnd</code> elements. But the fragment reference contains also some other types of elements as execution specifications. In order that the 
			<em>Ends Ordering</em> property only references 
			<code>EventEnd</code> elements we need to do an intersection of fragments elements and eventEnds (using either Acceleo or delegating to a Java service using 
			<code>service:</code>).. 
		</p>
		<p>Furthermore, the lifeline reference defined in an 
			<code>Interaction</code> contains all the 
			<code>Lifeline</code> representing both lifeline and instance role.
		</p> 
		<img border="0" src="images/ends_ordering_visual.png"/>
		<p>For the UML Modeler, the 
			<em>Ends Ordering</em> expression will return for the diagram below, the ordered list: 
			<code>[Operation_0_sender, Operation_0_receiver, Operation_0_finish, test_sender, test_receiver, test_reply_sender, test_reply_receiver, Message_3_sender, Message_3 _receiver]</code>. 
			<br/>And the 
			<em>Instance Roles Ordering</em> expression will return for the diagram below, the ordered list: 
			<code>[producers, consumers]</code>.
		</p>
		<h2 id="DefaultLayer">Default Layer</h2>
		<p>When the sequence diagram description is complete, you can add a Default layer.</p> 
		<img border="0" src="images/default_layer.png"/>
		<p>Next step is to define the mappings and all the tools to manage the interaction elements.</p>
		<h2 id="mappings">Mappings</h2>
		<p>We want to represent on a sequence diagram four different elements and then associate a mapping to each element:</p>
		<ul>
			<li>
				<em>Instance</em>: instance role mapping
			</li>
			<li>
				<em>Lifetime</em>: execution mapping
			</li>
			<li>
				<em>Execution</em>: execution mapping
			</li>
			<li>
				<em>Message</em>: basic message mapping
			</li>
		</ul> 
		<img border="0" src="images/mappings.png"/>
		<h3 id="InstanceRole">Instance Role</h3>
		<p>Firstly, create the instance role mapping. It graphically corresponds to the box at the top of the lifeline.</p> 
		<img border="0" src="images/new_instance_role_mapping.png"/>
		<p>Set the mandatory properties 
			<em>Id</em>, 
			<em>Label</em> and 
			<em>Domain class</em>:
		</p> 
		<img border="0" src="images/instance_role_mapping_properties.png"/>
		<p>The Semantic Candidates Expression is an Acceleo expression returning the semantic elements for which the mapping will be evaluated and then a graphical element will represent the semantic element on the diagram.</p>
		<p>Don&#8217;t forget to create a new Style for the instance role mapping.</p>
		<img border="0" src="images/instance_role_mapping_style.png"/>
		<h3 id="Executions">Executions</h3>
		<p>Execution mappings are used when you have an element which is composed by a start, a duration and a finish element. </p>
		<p>We will define the execution mappings:</p> 
		<img border="0" src="images/new_execution_mapping.png"/>
		<p>First, create the execution mapping for the lifeline execution. This represents the dashed line of lifeline.</p> 
		<img border="0" src="images/execution_mapping_properties1.png"/>
		<p>And create the execution mapping for the execution. This represents the execution square on lifeline or other execution.</p> 
		<img border="0" src="images/execution_mapping_properties2.png"/>
		<p>Set the mandatory properties:</p>
		<ul>
			<li>
				<em>Id</em>, 
				<em>Label</em>, 
				<em>Domain class</em>
			</li>
			<li>
				<em>Semantic Candidates Expression</em>:  expression that returns the first level executions associated to the current execution. 
			</li>
		</ul> 
		<img border="0" src="images/execution_mappings_visual.png"/>
		<p>Here, a java service1 executionSemanticCandidates() is called.</p>
		<ul>
			<li>
				<em>Starting End Finder Expression</em>: semantic element defining the execution start
			</li>
			<li>
				<em>Finishing End Finder Expression</em>: semantic element defining the execution finish
			</li>
		</ul>
		<p>The end finder expressions are used by Sirius to graphically link the execution to its start and finish elements and to find during creation and reorder operations where to reattach the dragged element.</p>
		<p>As an execution could recursively contain other executions, don&#8217;t forget to import the mapping on itself by setting the property Reused bordered node mappings :</p> 
		<img border="0" src="images/execution_mapping_reused.png"/>
		<p>For both execution mappings, don&#8217;t forget to create a New Style:</p> 
		<img border="0" src="images/execution_mapping_style.png"/>
		<h3 id="BasicMessages">Basic Messages</h3>
		<p>Now, we will define the basic message mapping:</p> 
		<img border="0" src="images/new_message_mapping.png"/>
		<p>Create the basic message mapping:</p> 
		<img border="0" src="images/new_basic_message_mapping.png"/> 
		<img border="0" src="images/basic_message_mapping_properties.png"/>
		<p>Set the mandatory properties:</p>
		<ul>
			<li>
				<em>Id</em>, 
				<em>Label</em>, 
				<em>Domain class</em>
			</li>
			<li>
				<em>Semantic Candidates Expression</em>: expression to get all the messages defined in an interaction
			</li>
			<li>
				<em>Semantic Elements</em>:  Associates a group of logical semantic elements to the graphical element. For example, here we associate to the graphical message the semantic element of type 
				<code>Message</code>, the message send event of type 
				<code>Message Occurrence Specification</code> and the message receive event of type 
				<code>Message Occurrence Specification</code>. Sirius will use this information to:
				<ul>
					<li>show associated semantic elements in properties view,</li>
					<li>listen for associated elements changes to refresh if necessary,</li>
					<li>delete associated elements if there is no specific delete tool.</li>
				</ul>
			</li>
			<li>
				<em>Source/Target mapping</em>: a list of graphical mappings that could be source/target of the message. Several mappings could be defined as source or target mapping for a message. In UML2, Lifeline mapping and Execution mapping can be source/target of message. On the illustration below, the consumers lifeline and the 
				<code>compute()</code> execution can be selected as source for the get message. The producers lifeline and the get execution can be selected as target for the get message.
			</li>
		</ul> 
		<img border="0" src="images/basic_message_mapping_visual1.png"/>
		<ul>
			<li>
				<em>Source/Target finder expression</em>: the expression which must return the source/target semantic element, i.e. the source/target context of the message. In UML2, the expression return is the lifeline or the execution for example. On the illustration below, the compute execution is the semantic source element for the message get and the get execution is the semantic target element.
			</li>
		</ul> 
		<img border="0" src="images/basic_message_mapping_visual2.png"/>
		<ul>
			<li>
				<em>Sending/Receiving End Finder Expression</em>: expression which must return the semantic element which represents the message sender/receiver.
			</li>
		</ul> 
		<img border="0" src="images/basic_message_mapping_visual3.png"/>
		<h4 id="LostandFoundMessages">Lost and Found Messages</h4>
		<p>Standard node mappings, direct children of a layer of the current sequence diagram description, can be used to represent the unknown message end. Lost and found messages should be created using a generic tool.</p>
		<h2 id="tools">Tools</h2>
		<h3 id="JavaServices">Java Services</h3>
		<p>To use a java service in an Acceleo expression, service must be define like this in odesign:</p> 
		<img border="0" src="images/java_service.png"/>
		<h3 id="CreationTools">Creation Tools</h3>
		<p>Define a new Section to add creation tools:</p> 
		<img border="0" src="images/new_creation_tool_section.png"/>
		<h4 id="CreateLifeline">Create Lifeline</h4>
		<p>Lifelines should be created using an Instance Role Creation Tool associated to the instance role mapping.</p> 
		<img border="0" src="images/lifeline_creation_tool.png"/>
		<p>The 
			<code>predecessor</code> variable represents in the global instance role ordering, the element preceding the new instance role.  
		</p>
		<h4 id="CreateExecution">Create Execution</h4>
		<p>An Execution can be created using 
			<em>Execution Creation Tool</em>.
		</p> 
		<img border="0" src="images/new_execution_creation_tool.png"/>
		<p>The following variables can be used from inside the tool definition:</p>
		<ul>
			<li>
				<code>container</code>: the element (lifeline or execution) that will contain graphically the new execution, in the example below the container would be the get() execution.
			</li>
			<li>
				<code>startingEndPredecessor</code> and 
				<code>finishingEndPredecessor</code>: represent in the global event ends list, the element preceding the new execution start and the element preceding the new execution finish. To get the corresponding semantic end element associated to event end: 
				<code>startingEndPredecessor.semanticEnd</code> or 
				<code>finishingEndPredecessor.semanticEnd</code>.
			</li>
		</ul> 
		<img border="0" src="images/execution_creation_tool_visual.png"/>
		<p>In the example above, we want to create a new 
			<code>BehaviorExecution_2</code> on the existing get execution. Thus, the 
			<code>startingEndPredecessor</code> and 
			<code>finishingEndPredecessor</code> will point to the 
			<code>get_receiver</code> message occurrence. This variables represent the semantic elements (
			<code>get_receiver</code>) associated to the graphical element preceding the 
			<code>startingEnd</code> (
			<code>BehaviorExecution_2_start</code>) and 
			<code>finishingEnd</code> (
			<code>BehaviorExecution_2_finish</code>) of the new element.
		</p>
		<h4 id="MessageCreationTool">Message Creation Tool</h4>
		<p>A Message can be created using Message Creation Tool.</p> 
		<img border="0" src="images/new_message_creation_tool.png"/>
		<p>The following variables can be used from inside the tool definition:</p>
		<ul>
			<li>
				<code>source</code>: Semantic element associated to message send;
			</li>
			<li>
				<code>target</code>: Semantic element associated to message receive;
			</li>
			<li>
				<code>startingEndPredecessor</code> and 
				<code>finishingEndPredecessor</code>: represent in the global event ends list, the element preceding the new message send and the element preceding the new message receive.
			</li>
		</ul> 
		<img border="0" src="images/message_creation_tool_visual.png"/>
		<p>In this example, we want to create a new 
			<code>Message_1</code> from the existing compute execution to the producers lifeline. Thus, the 
			<code>startingEndPredecessor</code> and 
			<code>finishingEndPredecessor</code> will point to the 
			<code>get_finish</code> execution occurrence. These variables represent the semantic elements (
			<code>get_finish</code>) associated to the graphical element preceding the 
			<code>startingEnd</code> (
			<code>Message_1_sender</code>) and 
			<code>finishingEnd</code> (
			<code>Message_1_receiver</code>) of the new element.
		</p>
		<p>
			<strong>Precondition.</strong> As for many other tools, it is possible to define a precondition for message creation tools. Depending on the precondition expression, the tool allows the element creation only under certain conditions. The precondition is defined as an interpreted expression.
		</p> 
		<img border="0" src="images/message_creation_precondition.png"/>
		<p>A variable is available for the Acceleo expression : $preTarget. This variable is the semantic element associated to graphical element that is currently hovered by the mouse.</p>
		<h3 id="eventReorderTool">Event Reorder Tool</h3>
		<p>This tool is called when the user moves or changes the size of graphical elements on the diagram.</p>
		<p>A single unique event reorder tool can and must be specified for message and execution mappings. The purpose of the tool is to re-synchronize the graphical ordering with the semantic ordering. When the user reorders a graphical element, the global order of graphical elements changes and the tool must then reorder the semantic elements according to these changes.</p> 
		<img border="0" src="images/new_reorder_tool.png"/>
		<p>This tool has access to the following two variables usable in expressions:</p>
		<ul>
			<li>
				<code>startingEndPredecessorAfter</code>: represents in the global event end list the element preceding the moved element start/send. It is the event which, 
				<strong>after</strong> the move, will be directly 
				<strong>preceding</strong> the 
				<strong>starting end</strong> (top) of the moved element;
			</li>
			<li>
				<code>finishingEndPredecessorAfter</code>: represents in the global event end list the element preceding the moved element finish/receive. It is the event which, 
				<strong>after</strong> the move, will be directly 
				<strong>preceding</strong> the 
				<strong>finishing end</strong> (bottom) of the moved element.
			</li>
		</ul> 
		<img border="0" src="images/reorder_tool_visual1.png"/>
		<p>In this example, we want to move the get execution after the 
			<code>Message_0</code>. Thus, the 
			<code>startingEndPredecessorAfter</code> variable will point to the 
			<code>compute_finish</code> execution occurrence. This variable represents the semantic elements (
			<code>compute_finish</code>) associated to the graphical element preceding the 
			<code>startingEnd</code> (
			<code>get_start</code>) after the move of get execution. The 
			<code>finishingEndPredecessorAfter</code> variable will point to the 
			<code>get_start</code> execution occurrence. This variable represents the semantic elements (
			<code>get_start</code>) associated to the graphical element preceding the 
			<code>finishingEnd</code> (
			<code>get_finish</code>) after the move of get execution.
		</p>
		<p>Now, we will have a look to a more complex reorder operation.</p> 
		<img border="0" src="images/reorder_tool_visual2.png"/>
		<p>In this example, we want to move the get execution after the 
			<code>Message_1</code>. The get execution is linked to the get synchronous message, thus the get execution 
			<code>startingEnd</code> is a 
			<code>compoundEvent</code> representing the 
			<code>get_receiver</code> message occurrence. When we move the execution, the associated message must be also moved. In this case, the 
			<code>startingEndPredecessorAfter</code> variable will point to the 
			<code>compute_finish</code> execution occurrence. This variable represents the semantic elements (
			<code>compute_finish</code>) associated to the graphical element preceding the 
			<code>startingEnd</code> (
			<code>get_send</code>) after the move of get execution. The 
			<code>finishingEndPredecessorAfter</code> variable will point to the 
			<code>get_receiver</code> message occurrence. This variable represents the semantic elements (
			<code>get_receiver</code>) associated to the graphical element preceding the 
			<code>finishingEnd</code> (
			<code>get_finish</code>) after the move of get execution.
		</p>
		<h3 id="instanceRoleReorderTool">Instance Role Reorder Tool</h3>
		<p>This tool is called when the user horizontally moves an instance role on the diagram.</p>
		<p>A single unique event reorder tool can and must be specified for instance role mappings. The purpose of the tool is to re-synchronize the graphical ordering with the semantic ordering. When the user reorders a graphical instance role, the global order of graphical instance roles changes and the tool must then reorder the semantic instance roles according to these changes.</p> 
		<img border="0" src="images/new_instance_role_reorder_tool.png"/>
		<p>This tool has access to the following two variables usable in expressions:</p>
		<ul>
			<li>
				<code>predecessorBefore</code>: represents in the global instance role ordering the element previously preceding the moved instance role. It is the element which, 
				<strong>before</strong> the move, was directly 
				<strong>preceding</strong> the moved element;
			</li>
			<li>
				<code>predecessorAfter</code>: represents in the global instance role ordering the element preceding the moved instance role. It is the event which, 
				<strong>after</strong> the move, will be directly 
				<strong>preceding</strong> the moved element;
			</li>
		</ul> 
		<img border="0" src="images/instance_role_reorder_tool_visual1.png"/>
		<p>In this example, we want to move the 
			<code>consumers</code> instance role after the 
			<code>producers</code> instance role. Thus, the 
			<code>predecessorAfter</code> variable will point to the 
			<code>producers</code> execution occurrence. This variable represents the semantic elements (
			<code>producers</code>) associated to the graphical element preceding the 
			<code>consumers</code> instance role after its move. The 
			<code>predecessorBefore</code> variable will be null, because 
			<code>consumers</code> was the first element of the ordering.
		</p>
		<h3 id="OtherTools">Other Tools</h3>
		<p>Nothing specific for deletion tool, edit label tool, diagram creation and diagram navigation tool, have a look at the Sirius Specifier Guide.</p>
	</body>
</html>