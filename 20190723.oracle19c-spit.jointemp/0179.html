<html id='03361.getting-started-with-oracle-database-vault.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">
      <meta name="description" content="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">
      <title>Getting Started with Oracle Database Vault</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide ">
      <meta property="og:description" content="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96302-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="what-to-expect-after-you-enable-oracle-database-vault.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-realms.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="DVADM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="what-to-expect-after-you-enable-oracle-database-vault.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-realms.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Getting Started with Oracle Database Vault</li>
            </ol>
            <a id="GUID-D3F37B71-0935-462C-A459-557D28F8CF20" name="GUID-D3F37B71-0935-462C-A459-557D28F8CF20"></a><a id="DVADM002"></a>
            
            <h2 id="DVADM-GUID-D3F37B71-0935-462C-A459-557D28F8CF20" class="sect2"><span class="enumeration_chapter">3 </span>Getting Started with Oracle Database Vault
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Before you can start using Oracle Database Vault, you must register it with the Oracle database. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-CBBB10AD-AF65-46FF-9F1A-C808BD7C9F1D">About Registering Oracle Database Vault with an Oracle Database</a><br>After you install Oracle Database, you must register (that is, configure and enable) Oracle Database Vault with the Oracle database in which it was installed. 
                  </li>
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a><br>You can register Oracle Database Vault in a multitenant environment based on several scenarios. 
                  </li>
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-82062E1E-C0E7-4258-B532-5C0393ADE0DB">Registering Database Vault in a Non-Multitenant Environment</a><br>You can register Oracle Database Vault from SQL*Plus in a non-multitenant environment.
                  </li>
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2">Verifying That Database Vault Is Configured and Enabled</a><br>The <code class="codeph">DBA_DV_STATUS</code>, <code class="codeph">CDB_DV_STATUS</code>, <code class="codeph">DBA_OLS_STATUS</code>, and <code class="codeph">CDB_OLS_STATUS</code> data dictionary views verify if Oracle Database is configured and enabled. 
                  </li>
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a><br>Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault. 
                  </li>
                  <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD">Quick Start Tutorial: Securing a Schema from DBA Access</a><br>This tutorial shows how to create a realm around the <code class="codeph">HR</code> schema. 
                  </li>
               </ul>
            </div>
            <a id="DVADM71415"></a><div class="props_rev_3"><a id="GUID-CBBB10AD-AF65-46FF-9F1A-C808BD7C9F1D" name="GUID-CBBB10AD-AF65-46FF-9F1A-C808BD7C9F1D"></a><h3 id="DVADM-GUID-CBBB10AD-AF65-46FF-9F1A-C808BD7C9F1D" class="sect3">About Registering Oracle Database Vault with an Oracle Database</h3>
               <div>
                  <p>After you install Oracle Database, you must register (that is, configure and enable) Oracle Database Vault with the Oracle database in which it was installed. </p>
                  <p>Oracle Database includes Database Vault when you choose to include a default database in the installation process, but you must register it before you can use it. If you create a custom database, then you can use DBCA to install and enable Database Vault for it. The registration process enables Oracle Label Security if it is not already enabled. Oracle Label Security is required for Oracle Database Vault but it does not require a separate license unless you begin using Oracle Label Security separately and create Oracle Label Security policies. This procedure applies to the CDB root, application root, and the current pluggable database (PDB), as well as to both single-instance and Oracle Real Application Clusters (Oracle RAC) installations. In a multitenant database, Database Vault must be configured with the CDB root before any of the PDBs can configure Database Vault.</p>
                  <p>As part of the registration process, you created the Database Vault backup accounts. These are accounts that hold the key Database Vault roles. Use these accounts initially to provision the roles to named users with administrative privileges. Maintaining a backup account will allow you to recover from the named user losing or somehow misplacing their credentials because <code class="codeph">SYS</code> will not be able to reset these passwords for users with these roles.
                  </p>
                  <p>You can register Oracle Database in both multitenant and non-multitenant environments. For multitenant environments, you have several methods to choose from for the registration. </p>
                  <div class="infoboxnote" id="GUID-CBBB10AD-AF65-46FF-9F1A-C808BD7C9F1D__GUID-1E94AF86-0609-4112-AB72-4547728B0DE9">
                     <p class="notep1">Note:</p>If you have upgraded from a release earlier than Oracle Database 12<span class="italic">c</span>, and if the earlier Oracle Database Vault had been enabled in that earlier release, then after the upgrade process is complete, you must enable Oracle Database Vault by using the <code class="codeph">DBMS_MACADM.ENABLE_DV</code> procedure. 
                     <p>In a multitenant environment, if you are migrating a non-Database Vault registered Oracle database from a release earlier than release 12c, then you must perform a manual installation of Database Vault.</p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM30031"></a><div class="props_rev_3"><a id="GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" name="GUID-68558E32-ABD0-4495-8677-4F9E09283E5D"></a><h3 id="DVADM-GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" class="sect3">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</h3>
               <div>
                  <p>You can register Oracle Database Vault in a multitenant environment based on several scenarios. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-243BF15C-D398-4EBD-B2C3-3D4C5F5B4864">About Registering Database Vault in a Multitenant Environment</a><br>In a multitenant environment, you must register Oracle Database Vault in the CDB root before you can register Database Vault in any of the associated PDBs. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A">Registering Database Vault in the CDB Root</a><br>In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193">Registering Database Vault Common Users to Manage Specific PDBs</a><br>In a multitenant environment, you must register Oracle Database Vault in the root first, then in the PDBs afterward.
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-75E90559-133D-4B5E-B658-D77810B590C6">Registering Database Vault Local Users to Manage Specific PDBs</a><br>In a multitenant environment, you must register Oracle Database Vault in the root first, and then in the PDBs afterward.
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-54699671-483A-49EF-B900-81D286845E8E">Plugging in a Database Vault-Enabled PDB</a><br>From SQL*Plus, in a multitenant environment, you can plug in a database that already has Database Vault enabled. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260">Manually Installing Oracle Database Vault in a Multitenant Environment</a><br>Under certain conditions, for a multitenant environment, you must manually install Oracle Database Vault. For example, a release 11g Oracle database without Database Vault is upgraded to release 12c, then converted to a PDB to be plugged into a 12c Database Vault-enabled database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-243BF15C-D398-4EBD-B2C3-3D4C5F5B4864" name="GUID-243BF15C-D398-4EBD-B2C3-3D4C5F5B4864"></a><h4 id="DVADM-GUID-243BF15C-D398-4EBD-B2C3-3D4C5F5B4864" class="sect4">About Registering Database Vault in a Multitenant Environment</h4>
                  <div>
                     <p>In a multitenant environment, you must register Oracle Database Vault in the CDB root before you can register Database Vault in any of the associated PDBs. </p>
                     <p>The common users who have been assigned the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles in the CDB root can also have the same role in the PDBs. PDBs can have Database Vault registered using the same common users or use separate PDB local users. The <code class="codeph">DV_ACCTMGR</code> role is granted commonly to the common user in the CDB root. You can grant <code class="codeph">DV_OWNER</code> locally or commonly to the CDB root common user when you register Database Vault with the CDB root. Granting <code class="codeph">DV_OWNER</code> locally to the common user prevents the common <code class="codeph">DV_OWNER</code> user from using this role in any PDB.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71417"></a><div class="props_rev_3"><a id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" name="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A"></a><h4 id="DVADM-GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" class="sect4">Registering Database Vault in the CDB Root</h4>
                  <div>
                     <p>In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.</p>
                     <ol>
                        <li class="stepexpand"><span>In a multitenant environment, log into the root of the database instance as a user who has privileges to create users and grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>sqlplus c##dba_debra
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__CHDGDEIB"><span>Select user accounts (or create new users) that will be used for the Database Vault Owner (<code class="codeph">DV_OWNER</code> role) and Database Vault Account Manager (<code class="codeph">DV_ACCTMGR</code> role) accounts. </span><div>
                              <p>Oracle strongly recommends that you maintain two accounts for each role. One account, the primary named user account, will be used on a day-to-day basis and the other account will be used as a backup account in case the password of the primary account is lost and must be reset.</p>
                           </div>
                           <div>
                              <p>Prepend the names of these accounts with <code class="codeph">c##</code> or <code class="codeph">C##</code>. For example: 
                              </p><pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO c##sec_admin_owen IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##dbv_owner_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##accts_admin_ace IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##dbv_acctmgr_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
</code></pre><p>In this specification: </p>
                              <ul style="list-style-type: disc;" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__UL_EFL_1LP_GFB">
                                 <li>Create the primary accounts (<code class="codeph">c##sec_admin_owen</code> and<code class="codeph"> c##accts_admin_ace</code>) if these do not already exist for the new roles, <code class="codeph">DV_ADMIN</code> and <code class="codeph">DV_ACCTMGR</code>.
                                 </li>
                                 <li>Replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure. 
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the root as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege </span><div><pre class="pre codeblock"><code>CONNECT SYS AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the two backup Database Vault user accounts. </span><div>For example:<pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
 &nbsp;&nbsp;dvowner_uname         =&gt; 'c##dbv_owner_root_backup',
 &nbsp;&nbsp;dvacctmgr_uname       =&gt; 'c##dbv_acctmgr_root_backup',
   force_local_dvowner   =&gt; FALSE);
 END;
/
</code></pre></div>
                           <div>In this example, setting <code class="codeph">force_local_dvowner</code> to <code class="codeph">FALSE</code> enables the common users to have <code class="codeph">DV_OWNER</code> privileges for the PDBs that are associated with this CDB root. Setting it to <code class="codeph">TRUE</code> restricts the common <code class="codeph">DV_OWNER</code> user to have the <code class="codeph">DV_OWNER</code> role privileges for the CDB root only. If you grant <code class="codeph">DV_OWNER</code> locally to the CDB root common user, then that user cannot grant the <code class="codeph">DV_OWNER</code> role commonly to any other user. 
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in the root. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql
</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, then run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the root as the primary Database Vault Owner user that you just configured. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault using one of the following commands:</span><div>
                              <ul style="list-style-type: disc;" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__UL_LYQ_35D_R2B">
                                 <li>
                                    <p>To enable Oracle Database Vault to use regular mode:</p><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;</code></pre></li>
                                 <li>
                                    <p>If every associated PDB will need to have Database Vault enabled in this database, then use the following command. (You will need to enable each of these PDBs after you complete this procedure.) PDBs that do not have Database Vault enabled will be in restricted mode after the database is restarted and until Database Vault is enabled in the PDB:</p><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV (strict_mode =&gt; 'y');</code></pre></li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the database. </span><div><pre class="pre codeblock"><code>SHUTDOWN IMMEDIATE
STARTUP
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that Oracle Database Vault and Oracle Label Security are installed and enabled.</span><div><pre class="pre codeblock"><code>SELECT * FROM DBA_DV_STATUS;
SELECT * FROM DBA_OLS_STATUS;
SELECT * FROM CDB_DV_STATUS;
SELECT * FROM CDB_OLS_STATUS;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO c##sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the backup <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_acctmgr_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></li>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" title="The DV_PATCH_ADMIN role is used for patching operations.">DV_PATCH_ADMIN Database Vault Database Patch Role</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E" title="The CONFIGURE_DV procedure configures the initial two Oracle Database user accounts, which are granted the DV_OWNER and DV_ACCTMGR roles, respectively.">CONFIGURE_DV General System Maintenance Procedure</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71429"></a><div class="props_rev_3"><a id="GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193" name="GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193"></a><h4 id="DVADM-GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193" class="sect4">Registering Database Vault Common Users to Manage Specific PDBs</h4>
                  <div>
                     <p>In a multitenant environment, you must register Oracle Database Vault in the root first, then in the PDBs afterward.</p>
                     <div class="section"> If you try to register in a PDB first, then an <code class="codeph">ORA-47503: Database Vault is not enabled on CDB$ROOT</code> error appears.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>If you have not already done so, then identify or create named common user accounts to be used as the Database Vault accounts along with associated backup accounts. </span></li>
                        <li class="stepexpand"><span>Ensure that you have registered Oracle Database Vault in the CDB root and that the <code class="codeph">DV_OWNER</code> role was granted commonly to the common user.</span></li>
                        <li class="stepexpand"><span>Connect to the PDB as an administrator who is local to the PDB. </span><div>For example:<pre class="pre codeblock"><code>CONNECT dba_debra@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre><p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges to the users for this PDB. </span><div>For example: <pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO c##sec_admin_owen CONTAINER = CURRENT;
GRANT CREATE SESSION, SET CONTAINER TO c##accts_admin_ace CONTAINER = CURRENT;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege </span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>While still in the PDB, configure the two backup Database Vault user accounts. </span><div><pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
 &nbsp;&nbsp;dvowner_uname         =&gt; 'c##dbv_owner_root_backup',
 &nbsp;&nbsp;dvacctmgr_uname       =&gt; 'c##dbv_acctmgr_root_backup');
 END;
/
</code></pre><p>In this example, the <code class="codeph">force_local_dvowner</code> parameter is omitted because it is unnecessary. All common users who are configured within a PDB are restricted to the scope of the PDB.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in this PDB. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql
</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, then run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as the backup Database Vault Owner user that you just configured. </span><div>For example:<pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault in this PDB.</span><div><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the CDB with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Close and reopen the PDB. </span><div>For example:<pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE;

ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that the PDB is configured and enabled for Database Vault.</span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>

SELECT * FROM DBA_DV_STATUS;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO c##sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the primary <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_acctmgr_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></li>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" title="The DV_PATCH_ADMIN role is used for patching operations.">DV_PATCH_ADMIN Database Vault Database Patch Role</a></li>
                           <li><a href="oracle-database-vault-general-administrative-apis.html#GUID-94E0FE51-0AAD-4520-9189-A2841FA5092E" title="The CONFIGURE_DV procedure configures the initial two Oracle Database user accounts, which are granted the DV_OWNER and DV_ACCTMGR roles, respectively.">CONFIGURE_DV General System Maintenance Procedure</a></li>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" title="In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.">Registering Database Vault in the CDB Root</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-75E90559-133D-4B5E-B658-D77810B590C6" name="GUID-75E90559-133D-4B5E-B658-D77810B590C6"></a><h4 id="DVADM-GUID-75E90559-133D-4B5E-B658-D77810B590C6" class="sect4">Registering Database Vault Local Users to Manage Specific PDBs</h4>
                  <div>
                     <p>In a multitenant environment, you must register Oracle Database Vault in the root first, and then in the PDBs afterward.</p>
                     <div class="p">If you try to register in a PDB first, then an <code class="codeph">ORA-47503: Database Vault is not enabled on CDB$ROOT</code> error appears.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In a multitenant environment, log into the PDB as a user who has privileges to create users and to grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges.</span><div>For example:<pre class="pre codeblock"><code>sqlplus sec_admin@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password
</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If you are not using existing local user named accounts for the new Database Vault roles, create new named local user accounts. </span><div>In both cases, you must create backup accounts to hold the Database Vault roles in case the named user loses or forgets their password.</div>
                           <div><pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO sec_admin_owen IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO dbv_owner_backup IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO accts_admin_ace IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO dbv_acctmgr_backup IDENTIFIED BY <span class="italic">password</span>;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that you have registered Oracle Database Vault in the CDB root.</span><div>Temporarily connect to the root and then query the <code class="codeph">DBA_DV_STATUS</code> view. <pre class="pre codeblock"><code>CONNECT SYS / AS SYSDBA
Enter password: <span class="italic">password
</span>
SELECT * FROM DBA_DV_STATUS;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege. </span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>While still in the PDB, configure the two backup Database Vault user accounts. </span><div><pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
   dvowner_uname         =&gt; 'dbv_owner_backup',
   dvacctmgr_uname       =&gt; 'dbv_acctmgr_backup');
 END;
/
</code></pre><p>In this example, the <code class="codeph">force_local_dvowner</code> parameter is omitted because it is unnecessary. Database Vault roles are granted locally when configured in a PDB.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in this PDB. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as the backup Database Vault Owner user that you just configured. </span><div>For example:<pre class="pre codeblock"><code>CONNECT dbv_owner_backup@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault in this PDB.</span><div><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the CDB with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Close and reopen the PDB. </span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE;
ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that the PDB is configured and enabled for Database Vault.</span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>

SELECT * FROM DBA_DV_STATUS;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT dbv_owner_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the backup <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT dbv_acctmgr_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                           <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></li>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" title="In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.">Registering Database Vault in the CDB Root</a></li>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-54699671-483A-49EF-B900-81D286845E8E" name="GUID-54699671-483A-49EF-B900-81D286845E8E"></a><h4 id="DVADM-GUID-54699671-483A-49EF-B900-81D286845E8E" class="sect4">Plugging in a Database Vault-Enabled PDB</h4>
                  <div>
                     <p>From SQL*Plus, in a multitenant environment, you can plug in a database that already has Database Vault enabled. </p>
                     <p>In this scenario, the plugged in database has its own local Database Vault accounts. Be aware that if you plug a Database Vault-enabled database into a CDB that is not Database Vault enabled, then the PDB will remain in restricted mode until you enable Database Vault in the CDB and then restart the CDB. If you plug a non-Database Vault-enabled PDB into a CDB that is Database Vault enabled, then the PDB remains in restricted mode until you enable Database Vault in the PDB and then restart the PDB. This plugged in non-Database Vault enabled PDB can still be used. However, if the CDB is Database Vault enabled with the strict option set, then the PDB must be Database Vault enabled.</p>
                     <p>Before you plug in a Database Vault-enabled PDB and if the Database Vault roles are granted to common users, ensure that you understand fully how plugging in PDBs affect common users.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../multi/plugging-in-a-pdb.html#MULTI-GUID-E7122CD7-47CA-4A89-A419-8CDEE622AF70" target="_blank"><span class="italic">Oracle Multitenant Administrator’s Guide</span></a></li>
                           <li><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG-GUID-81D0494C-E838-4DD9-AC82-B56473F98D06" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260" name="GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260"></a><h4 id="DVADM-GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260" class="sect4">Manually Installing Oracle Database Vault in a Multitenant Environment</h4>
                  <div>
                     <p>Under certain conditions, for a multitenant environment, you must manually install Oracle Database Vault. For example, a release 11g Oracle database without Database Vault is upgraded to release 12c, then converted to a PDB to be plugged into a 12c Database Vault-enabled database.</p>
                     <div class="section">You must manually install Oracle Database Vault (and Oracle Label Security) in a PDB if this PDB does not have these products when the PDB has been plugged into a CDB where Database Vault and Label Security are installed.</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>As user who has been granted the <code class="codeph">SYSDBA</code> administrative privilege, log in to the PDB in which you want to install Oracle Database Vault. </span><div>
                              <p>For example, to log in to a PDB named <code class="codeph">hr_pdb</code>:
                              </p><pre class="pre codeblock"><code>sqlplus sec_admin@hr_pdb as sysdba
Enter password: <span class="italic">password</span></code></pre><p>To find the available PDBs, run the <code class="codeph">show pdbs</code> command. To check the current PDB, run the <code class="codeph">show con_name</code> command.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If necessary, check if Oracle Database Vault and Oracle Label Security are already installed on this PDB.</span><div>If the <code class="codeph">DVSYS</code> account (for Database Vault) and the <code class="codeph"> LBACSYS</code> account (for Label Security) exist, then Database Vault and Label Security exist on the PDB. 
                           </div>
                           <div><pre class="pre codeblock"><code>SELECT USERNAME FROM DBA_USERS WHERE USERNAME IN ('DVSYS', 'LBACSYS');</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If neither Database Vault nor Label Security have been installed, then install Oracle Label Security by executing the <code class="codeph">catols.sql</code> script.</span><div><pre class="pre codeblock"><code>@$ORACLE_HOME/rdbms/admin/catols.sql</code></pre><p>Oracle Label Security must be installed before you can install Oracle Database Vault.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Install Oracle Database Vault by executing the <code class="codeph">catmac.sql</code> script.</span><div><pre class="pre codeblock"><code>@$ORACLE_HOME/rdbms/admin/catmac.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>At the <code class="codeph">Enter value for 1</code> prompt, enter <code class="codeph">SYSTEM</code> as the tablespace to install <code class="codeph">DVSYS</code>.</span></li>
                        <li class="stepexpand"><span>At the <code class="codeph">Enter value for 2</code> prompt, enter the temporary tablespace for the PDB.</span></li>
                     </ol>
                     <div class="section">After the installation is complete, you can register Oracle Database Vault in the PDB. If Database Vault is not registered in the CDB already, you must close the PDB before you can register Database Vault in the CDB root. Database Vault must be registered in CDB root before it can be registered in the PDB. After Database Vault is registered in the CDB root and the database has been restarted, then you can open the PDB and register Database Vault.</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM71416"></a><div class="props_rev_3"><a id="GUID-82062E1E-C0E7-4258-B532-5C0393ADE0DB" name="GUID-82062E1E-C0E7-4258-B532-5C0393ADE0DB"></a><h3 id="DVADM-GUID-82062E1E-C0E7-4258-B532-5C0393ADE0DB" class="sect3">Registering Database Vault in a Non-Multitenant Environment</h3>
               <div>
                  <p>You can register Oracle Database Vault from SQL*Plus in a non-multitenant environment.</p>
                  <ol>
                     <li class="stepexpand"><span>Log into the database instance as a user who has privileges to create user accounts and grant the <code class="codeph">CREATE SESSION</code> privilege to other users.</span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">sqlplus sec_admin
Enter password: <span class="italic">password</span>
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Identify (or create new named user accounts if necessary) named user accounts to be used for the Database Vault Owner (<code class="codeph">DV_OWNER</code> role) and Database Vault Account Manager (<code class="codeph">DV_ACCTMGR</code> role) accounts.</span><div>
                           <p>Oracle strongly recommends that you create two accounts for each role. One account, the primary named user account, will be used on a day-to-day basis and the other account will be used as a backup account in case the password of the primary account is lost and must be reset. </p>
                        </div>
                        <div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION TO sec_admin_owen IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION TO dbv_owner_backup IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION TO accts_admin_ace IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION TO dbv_acctmgr_backup IDENTIFIED BY <span class="italic">password</span>;</pre><p>Follow the guidelines in <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure. 
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Connect with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA
Enter password: <span class="italic">password</span>
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Configure Database Vault using the two backup user accounts.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 CONFIGURE_DV (
 &nbsp;&nbsp;dvowner_uname         =&gt; 'dbv_owner_backup',
 &nbsp;&nbsp;dvacctmgr_uname       =&gt; 'dbv_acctmgr_backup');
 END;
/
</pre><p>Do not enter the names <code class="codeph">DV_OWNER</code>, <code class="codeph">DV_ACCTMGR</code>, or the names of any other Database Vault roles for these user accounts. 
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects. </span><div><pre class="oac_no_warn" dir="ltr">@?/rdbms/admin/utlrp.sql
</pre><p>If the script gives you any instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, run it again.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Connect as the backup Database Vault Owner user that you just configured. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT dbv_owner_backup
Enter password: <span class="italic">password</span>
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Enable Oracle Database Vault.</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.ENABLE_DV;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restart the database. </span><div><pre class="oac_no_warn" dir="ltr">SHUTDOWN IMMEDIATE
STARTUP
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT dbv_owner_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO sec_admin_owen WITH ADMIN OPTION;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the primary <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT dbv_acctmgr_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO accts_admin_ace WITH ADMIN OPTION;</pre></div>
                     </li>
                     <li class="stepexpand"><span>Verify that the configuration was successful.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA

SELECT * FROM DBA_DV_STATUS;
SELECT * FROM DBA_OLS_STATUS; 
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="getting-started-with-oracle-database-vault.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></li>
                        <li><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM71421"></a><div class="props_rev_3"><a id="GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" name="GUID-B5569AED-AC16-482C-BA6D-34E275F016D2"></a><h3 id="DVADM-GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" class="sect3">Verifying That Database Vault Is Configured and Enabled</h3>
               <div>
                  <p>The <code class="codeph">DBA_DV_STATUS</code>, <code class="codeph">CDB_DV_STATUS</code>, <code class="codeph">DBA_OLS_STATUS</code>, and <code class="codeph">CDB_OLS_STATUS</code> data dictionary views verify if Oracle Database is configured and enabled. 
                  </p>
                  <div class="section">In addition to Oracle Database Vault administrators, the Oracle Database <code class="codeph">SYS</code> user and users who have been granted the <code class="codeph">DBA</code> role can query these views. 
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For Database Vault: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you want to find the Database Vault status for a non-multitenant database, or in a multitenant environment for the root only or an individual PDB, then query <code class="codeph">DBA_DV_STATUS</code>. For example:
                                 </p><pre class="pre codeblock"><code>SELECT * FROM DBA_DV_STATUS;</code></pre><p>Output similar to the following appears:</p><pre class="pre codeblock"><code>NAME                 STATUS
-------------------- -----------
DV_CONFIGURE_STATUS  TRUE
DV_ENABLE_STATUS     TRUE</code></pre></li>
                              <li>
                                 <p>If you want to find the Database Vault status of all PDBs in a multitenant environment, as a common user with administrative privileges, then query <code class="codeph">CDB_DV_STATUS</code>, which provides the addition of a container ID (<code class="codeph">CON_ID</code>) field.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>For Oracle Label Security, query the following data dictionary views, which are similar to their Database Vault equivalent views:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DBA_OLS_STATUS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CDB_OLS_STATUS</code></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM30001"></a><div class="props_rev_3"><a id="GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" name="GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6"></a><h3 id="DVADM-GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" class="sect3">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control </h3>
               <div>
                  <p>Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault. </p>
                  <div class="section">The Oracle Database Vault pages can be used to administer and monitor Database Vault-protected databases from a centralized console. This console enables you to automate alerts, view Database Vault reports, and propagate Database Vault policies to other Database Vault-protected databases.</div>
                  <!-- class="section" -->
                  <div class="p">Before you try to log in, ensure that you have configured the Cloud Control target databases that you plan to use with Database Vault by following the Oracle Enterprise Manager online help. Oracle Database Vault must also be registered with the Oracle database.</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Start Cloud Control.</span><div>
                           <p>For example: </p><pre class="oac_no_warn" dir="ltr">https://myserver.example.com:7799/em
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Log in to Cloud Control as a security administrator.</span></li>
                     <li class="stepexpand"><span>In the Cloud Control home page, from the <span class="bold">Targets</span> menu, select <span class="bold">Databases</span>. </span></li>
                     <li class="stepexpand"><span>In the Databases page, select the link for the Oracle Database Vault-protected database to which you want to connect. </span><div>
                           <p>The Database home page appears. </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>From the <span class="bold">Security</span> menu, select <span class="bold">Database Vault</span>.</span><div>
                           <p>The Database Login page appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Enter the following information:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Username:</span> Enter the name of a user who has been granted the appropriate Oracle Database Vault role:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Creating and propagating Database Vault policies: <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role, <code class="codeph">SELECT ANY DICTIONARY</code> privilege
                                       </p>
                                    </li>
                                    <li>
                                       <p>Viewing Database Vault alerts and reports: <code class="codeph">DV_OWNER</code>, <code class="codeph">DV_ADMIN</code>, or <code class="codeph">DV_SECANALYST</code> role, <code class="codeph">SELECT ANY DICTIONARY</code> privilege
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p><span class="bold">Password:</span> Enter your password.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Role:</span> Select <span class="bold">NORMAL</span> from the list. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Save as:</span> Select this check box if you want these credentials to be automatically filled in for you the next time that this page appears. The credentials are stored in Enterprise Manager in a secured manner. Access to these credentials depends on the user who is currently logged in.
                                 </p>
                              </li>
                           </ul>
                           <p>The Database Vault home page appears. </p><br><img src="img/em_dv_home_page.png" alt="Description of em_dv_home_page.png follows" title="Description of em_dv_home_page.png follows" longdesc="img_text/em_dv_home_page.html"><br><a href="img_text/em_dv_home_page.html">Description of the illustration em_dv_home_page.png</a><br></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3" title="Oracle Database Vault provides a set of roles that are required for managing Oracle Database Vault.">About Oracle Database Vault Roles</a></li>
                        <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-990B6C45-901E-46B5-B5B2-0CE24C3ED42E" title="Oracle Database Vault administrators can perform tasks in Oracle Enterprise Manager Cloud Control such as propagating polices to other databases.">Using Oracle Database Vault with Oracle Enterprise Manager</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM70135"></a><div class="props_rev_3"><a id="GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" name="GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD"></a><h3 id="DVADM-GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" class="sect3">Quick Start Tutorial: Securing a Schema from DBA Access</h3>
               <div>
                  <p>This tutorial shows how to create a realm around the <code class="codeph">HR</code> schema. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-1E5427BD-4084-4712-A27A-E3A609B5BE3B">About This Tutorial</a><br>In this tutorial, you create a realm around for the <code class="codeph">HR</code> sample database schema by using the Oracle Database Vault PL/SQL packages. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-872977EE-3DAD-46F4-8AE3-36176093F999">Step 1: Log On as SYSTEM to Access the HR Schema</a><br>You must enable the <code class="codeph">HR</code> schema for this tutorial. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-D327A3A5-B33E-4038-9C11-F333BC23B65C">Step 2: Create a Realm</a><br>Realms can protect one or more schemas, individual schema objects, and database roles. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-06B429BC-7070-4D97-9C7E-A13FB49E0B16">Step 3: Create the SEBASTIAN User Account</a><br>At this stage, there are no database accounts or roles authorized to access or otherwise manipulate the database objects the realm will protect. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-97F096B5-76EC-422B-BF05-A64DEAA9B5D7">Step 4: Have User SEBASTIAN Test the Realm</a><br>At this stage, have user <code class="codeph">SEBASTIAN</code> test the realm, even though he has the <code class="codeph">READ ANY TABLE</code> system privilege.
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-0861C9DB-43A9-4887-9F98-D1DE0D2B2833">Step 5: Create an Authorization for the Realm</a><br>Next, user <code class="codeph">SEBASTIAN</code> must be granted authorization to the HR Apps realm, so that he can access the <code class="codeph">HR.EMPLOYEES</code> table. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7">Step 6: Test the Realm</a><br>To test the realm, you must try to access the <code class="codeph">EMPLOYEES</code> table as a user other than <code class="codeph">HR</code>.
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-F1D1B4F0-7C04-477A-B7B3-357605EA127A">Step 7: If Unified Auditing Is Not Enabled, Then Run a Report</a><br>Because you enabled auditing on failure for the HR Apps realm, you can generate a report to find any security violations. 
                     </li>
                     <li class="ulchildlink"><a href="getting-started-with-oracle-database-vault.html#GUID-73CBBA3A-EA8E-49F0-A59D-0F066263E1D2">Step 8: Remove the Components for This Tutorial</a><br>You can remove the components that you created for this tutorial if you no longer need them. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-D3F37B71-0935-462C-A459-557D28F8CF20" title="Before you can start using Oracle Database Vault, you must register it with the Oracle database.">Getting Started with Oracle Database Vault</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71114"></a><div class="props_rev_3"><a id="GUID-1E5427BD-4084-4712-A27A-E3A609B5BE3B" name="GUID-1E5427BD-4084-4712-A27A-E3A609B5BE3B"></a><h4 id="DVADM-GUID-1E5427BD-4084-4712-A27A-E3A609B5BE3B" class="sect4">About This Tutorial</h4>
                  <div>
                     <p>In this tutorial, you create a realm around for the <code class="codeph">HR</code> sample database schema by using the Oracle Database Vault PL/SQL packages. 
                     </p>
                     <p>In the <code class="codeph">HR</code> schema, the <code class="codeph">EMPLOYEES</code> table has information such as salaries that should be hidden from most employees in the company, including those with administrative access. To accomplish this, you add the <code class="codeph">HR</code> schema to the secured objects of the protection zone, which in Oracle Database Vault is called a <span class="italic">realm</span>, inside the database. Then you grant limited authorizations to this realm. Afterward, you test the realm to make sure it has been properly secured. And finally, to see how Oracle Database Vault provides an audit trail on suspicious activities like the one you will try when you test the realm, you will run a report. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70137"></a><div class="props_rev_3"><a id="GUID-872977EE-3DAD-46F4-8AE3-36176093F999" name="GUID-872977EE-3DAD-46F4-8AE3-36176093F999"></a><h4 id="DVADM-GUID-872977EE-3DAD-46F4-8AE3-36176093F999" class="sect4">Step 1: Log On as SYSTEM to Access the HR Schema</h4>
                  <div>
                     <p>You must enable the <code class="codeph">HR</code> schema for this tutorial. 
                     </p>
                     <div class="p">Before you begin this tutorial, ensure that the <code class="codeph">HR</code> sample schema is installed. <a href="../comsc/introduction-to-sample-schemas.html#COMSC005" target="_blank"><span><cite>Oracle Database Sample Schemas</cite></span></a> describes how to install the sample schemas.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log into the database instance as a user who has been granted the <code class="codeph">DBA</code> role, and then access the <code class="codeph">HR</code> schema. </span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">sqlplus system
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In a multitenant environment, connect to the appropriate PDB. </span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM@my_pdb
Enter password: <span class="italic">password</span>
</pre><p>To find the available PDBs, run the <code class="codeph">show pdbs</code> command. To check the current PDB, run the <code class="codeph">show con_name</code> command. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">HR.EMPLOYEES</code> table as follows. </span><div><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES WHERE ROWNUM &lt; 10;
</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME           LAST_NAME                     SALARY
-------------------- ------------------------- ----------
Steven               King                           24000
Neena                Kochhar                        17000
Lex                  De Haan                        17000
Alexander            Hunold                          9000
Bruce                Ernst                           6000
David                Austin                          4800
Valli                Pataballa                       4800
Diana                Lorentz                         4200
Nancy                Greenberg                      12008

9 rows selected.
</pre></div>
                        </li>
                        <li class="stepexpand"><span>If the <code class="codeph">HR</code> schema is locked and expired, log into the database instance as the <code class="codeph">DV_ACCTMGR</code> user and unlock and unexpire the account. For example: </span><div><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr <span class="italic">-- For a multitenant environment, sqlplus bea_dvacctmgr@hrpdb</span>
Enter password: <span class="italic">password</span>

ALTER USER HR ACCOUNT UNLOCK IDENTIFIED BY <span class="italic">password</span>
</pre><p>Follow the guidelines in <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure. 
                              </p>
                              <p>As you can see, <code class="codeph">SYSTEM</code> has access to the salary information in the <code class="codeph">EMPLOYEES</code> table of the <code class="codeph">HR</code> schema. This is because <code class="codeph">SYSTEM</code> is automatically granted the <code class="codeph">DBA</code> role, which includes the <code class="codeph">SELECT ANY TABLE</code> system privilege.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Do not exit SQL*Plus. </span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70138"></a><div class="props_rev_3"><a id="GUID-D327A3A5-B33E-4038-9C11-F333BC23B65C" name="GUID-D327A3A5-B33E-4038-9C11-F333BC23B65C"></a><h4 id="DVADM-GUID-D327A3A5-B33E-4038-9C11-F333BC23B65C" class="sect4">Step 2: Create a Realm</h4>
                  <div>
                     <p>Realms can protect one or more schemas, individual schema objects, and database roles. </p>
                     <div class="section">Once you create a realm, you can create security restrictions that apply to the schemas and their schema objects within the realm. You will need to create a realm for the <code class="codeph">HR</code> schema. 
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Oracle Database Vault Administrator from Cloud Control as a user who has been granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege. <a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a> explains how to log in.</span></li>
                        <li class="stepexpand"><span>In the Administration page, under Database Vault Components, click <span class="bold">Realms</span>. </span></li>
                        <li class="stepexpand"><span>In the Realms page of Oracle Database Vault Administrator, click <span class="bold">Create</span>. </span></li>
                        <li class="stepexpand"><span>In the Create Realm page, under General, enter <code class="codeph">HR Apps</code> after <span class="bold">Name</span>. </span></li>
                        <li class="stepexpand"><span>In the <span class="bold">Description</span> field, enter <code class="codeph">Realm to protect the HR schema</code>.</span></li>
                        <li class="stepexpand"><span>Leave the <span class="bold">Mandatory Realm</span> check box unchecked.</span></li>
                        <li class="stepexpand"><span>After Status, ensure that <span class="bold">Enabled</span> is selected so that the realm can be used. </span></li>
                        <li class="stepexpand"><span>Under Audit Options, ensure that <span class="bold">Audit On Failure</span> is selected so that you can create an audit trial later on. </span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Next</span> to display the Realm secured objects page.</span></li>
                        <li class="stepexpand"><span>Click the <span class="bold">Add</span> button and in the Add Secured Object dialog box, enter the following information: </span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Owner:</span> Enter <code class="codeph">HR</code> to select the <code class="codeph">HR</code> schema.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Object Type:</span> Enter <code class="codeph">TABLE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Object Name:</span> Enter <code class="codeph">EMPLOYEES</code>. 
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span><div>
                              <p>The <code class="codeph">HR.EMPLOYEES</code> table is added to the Create Realm : Realm Secured Objects page. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Done</span>, and then click <span class="bold">Finish</span>.</span></li>
                     </ol>
                     <div class="section">
                        <p>At this stage, you have created the realm but you have not assigned any authorizations to it. You will take care of that later on in this tutorial. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71219"></a><div class="props_rev_3"><a id="GUID-06B429BC-7070-4D97-9C7E-A13FB49E0B16" name="GUID-06B429BC-7070-4D97-9C7E-A13FB49E0B16"></a><h4 id="DVADM-GUID-06B429BC-7070-4D97-9C7E-A13FB49E0B16" class="sect4">Step 3: Create the SEBASTIAN User Account</h4>
                  <div>
                     <p>At this stage, there are no database accounts or roles authorized to access or otherwise manipulate the database objects the realm will protect. </p>
                     <div class="section">
                        <p>So, the next step is to authorize database accounts or database roles so that they can have access to the schemas within the realm. You will create the <code class="codeph">SEBASTIAN</code> user account. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, connect as the Database Vault Account Manager, who has the <code class="codeph">DV_ACCTMGR</code> role, and create the local user <code class="codeph">SEBASTIAN</code>.</span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT bea_dvacctmgr <span class="italic">-- Or, CONNECT bea_dvacctmgr@hrpdb</span>
Enter password: <span class="italic">password</span>

GRANT CREATE SESSION TO SEBASTIAN IDENTIFIED BY <span class="italic">password</span>;
</pre><p>Replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure. See <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for the minimum requirements for creating passwords. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect as <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> privilege, and then grant <code class="codeph">SEBASTIAN</code> the following additional privilege. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYS AS SYSDBA <span class="italic">-- Or, CONNECT SYS@hrpdb</span> AS SYSDBA
Enter password: <span class="italic">password</span>

GRANT READ ANY TABLE TO SEBASTIAN;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>Do not exit SQL*Plus; you will need it for <a href="getting-started-with-oracle-database-vault.html#GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7" title="To test the realm, you must try to access the EMPLOYEES table as a user other than HR.">Step 6: Test the Realm</a>, when you test the realm.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-97F096B5-76EC-422B-BF05-A64DEAA9B5D7" name="GUID-97F096B5-76EC-422B-BF05-A64DEAA9B5D7"></a><h4 id="DVADM-GUID-97F096B5-76EC-422B-BF05-A64DEAA9B5D7" class="sect4">Step 4: Have User SEBASTIAN Test the Realm</h4>
                  <div>
                     <p>At this stage, have user <code class="codeph">SEBASTIAN</code> test the realm, even though he has the <code class="codeph">READ ANY TABLE</code> system privilege.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">SEBASTIAN</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT sebastian
Enter password: <span class="italic">password</span></pre></div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">HR.EMPLOYEES</code> table. </span><div><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM HR.EMPLOYEES;</pre></div>
                           <div>
                              <p>The following output should appear:</p><pre class="oac_no_warn" dir="ltr">ERROR at line 1:
ORA-01031: insufficient privileges
</pre></div>
                        </li>
                     </ol>
                     <div class="section">Even though user <code class="codeph">SEBASTIAN</code> has the <code class="codeph">READ ANY TABLE</code> system privilege, he cannot query the <code class="codeph">HR.EMPLOYEES</code> table, because the HR Apps realm takes precedence over the <code class="codeph">READ ANY TABLE</code> system privilege.
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70140"></a><div class="props_rev_3"><a id="GUID-0861C9DB-43A9-4887-9F98-D1DE0D2B2833" name="GUID-0861C9DB-43A9-4887-9F98-D1DE0D2B2833"></a><h4 id="DVADM-GUID-0861C9DB-43A9-4887-9F98-D1DE0D2B2833" class="sect4">Step 5: Create an Authorization for the Realm</h4>
                  <div>
                     <p>Next, user <code class="codeph">SEBASTIAN</code> must be granted authorization to the HR Apps realm, so that he can access the <code class="codeph">HR.EMPLOYEES</code> table. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>In the Realms page of Database Vault Administrator, select the <span class="bold">HR Apps</span> in the list of realms, and then click <span class="bold">Edit</span>.</span></li>
                        <li class="stepexpand"><span>Click the <span class="bold">Next</span> button until you reach the Realm authorizations page. </span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span> and then enter the following information in the Add Authorizations dialog box:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Realm Authorization Grantee:</span> Enter <code class="codeph">SEBASTIAN</code>. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Realm Authorization Type:</span> Select <span class="bold">Participant</span> from the list. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Realm Authorization Ruleset:</span> Leave this field blank.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span><div>
                              <p>The Participant authorization allows the user <code class="codeph">SEBASTIAN</code> in the HR Apps realm to manage access, manipulate, and create objects protected by the HR Apps realm. In this case, the <code class="codeph">HR</code> user and <code class="codeph">SEBASTIAN</code> are the only users allowed to view the <code class="codeph">EMPLOYEES</code> table. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Done</span>, and then <span class="bold">Finish</span>. </span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70141"></a><div class="props_rev_3"><a id="GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7" name="GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7"></a><h4 id="DVADM-GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7" class="sect4">Step 6: Test the Realm</h4>
                  <div>
                     <p>To test the realm, you must try to access the <code class="codeph">EMPLOYEES</code> table as a user other than <code class="codeph">HR</code>.
                     </p>
                     <div class="section">
                        <p> The <code class="codeph">SYSTEM</code> account normally has access to all objects in the <code class="codeph">HR</code> schema, but now that you have safeguarded the <code class="codeph">EMPLOYEES</code> table with Oracle Database Vault, this is no longer the case. 
                        </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as <code class="codeph">SYSTEM</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM <span class="italic">-- Or, CONNECT SYSTEM@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>Try accessing the salary information in the <code class="codeph">EMPLOYEES</code> table again: 
                              </p><pre class="oac_no_warn" dir="ltr">SELECT FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES WHERE ROWNUM &lt;10;
</pre><p>The following output should appear:</p><pre class="oac_no_warn" dir="ltr">Error at line 1:
ORA-01031: insufficient privileges
</pre><p><code class="codeph">SYSTEM</code> no longer has access to the salary information in the EMPLOYEES table. (In fact, even user <code class="codeph">SYS</code> does not have access to this table.) However, user <code class="codeph">SEBASTIAN</code> does have access to this information. 
                              </p>
                           </li>
                           <li>
                              <p>Connect as user <code class="codeph">SEBASTIAN</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT sebastian <span class="italic">-- Or, CONNECT sebastian@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>Perform the following query:</p><pre class="oac_no_warn" dir="ltr">
SELECT FIRST_NAME, LAST_NAME, SALARY FROM HR.EMPLOYEES WHERE ROWNUM &lt;10;
</pre><p>Output similar to the following appears:</p><pre class="oac_no_warn" dir="ltr">FIRST_NAME           LAST_NAME                     SALARY
-------------------- ------------------------- ----------
Steven               King                           24000
Neena                Kochhar                        17000
Lex                  De Haan                        17000
Alexander            Hunold                          9000
Bruce                Ernst                           6000
David                Austin                          4800
Valli                Pataballa                       4800
Diana                Lorentz                         4200
Nancy                Greenberg                      12008

9 rows selected.</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70142"></a><div class="props_rev_3"><a id="GUID-F1D1B4F0-7C04-477A-B7B3-357605EA127A" name="GUID-F1D1B4F0-7C04-477A-B7B3-357605EA127A"></a><h4 id="DVADM-GUID-F1D1B4F0-7C04-477A-B7B3-357605EA127A" class="sect4">Step 7: If Unified Auditing Is Not Enabled, Then Run a Report</h4>
                  <div>
                     <p>Because you enabled auditing on failure for the HR Apps realm, you can generate a report to find any security violations. </p>
                     <div class="section">
                        <p>For example, you could generate a report for the violation that you attempted in <a href="getting-started-with-oracle-database-vault.html#GUID-DF31D2EA-282E-4A02-AAC1-05E8228817F7" title="To test the realm, you must try to access the EMPLOYEES table as a user other than HR.">Step 6: Test the Realm</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, connect as user <code class="codeph">SYSTEM</code> and ensure that unified auditing is not enabled.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM <span class="italic">-- Or, CONNECT SYSTEM@hrpdb</span>
Enter password: <span class="italic">password</span>

SQL&gt; SELECT VALUE FROM V$OPTION WHERE PARAMETER = 'Unified Auditing';
</pre><p>If <code class="codeph">VALUE</code> returns <code class="codeph">TRUE</code>, then you cannot complete this section. Go to <a href="getting-started-with-oracle-database-vault.html#GUID-73CBBA3A-EA8E-49F0-A59D-0F066263E1D2" title="You can remove the components that you created for this tutorial if you no longer need them.">Step 8: Remove the Components for This Tutorial</a>.
                              </p>
                              <p>If unified auditing is enabled, then you must create a unified audit policy to capture events. See <a href="../dbseg/configuring-audit-policies.html#DBSEG419" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for information about how to create unified audit policies for Oracle Database Vault.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Database Vault Administrator page, click <span class="bold">Home</span> to display the home page.</span></li>
                        <li class="stepexpand"><span>In the Database Vault Home page, under <span class="bold">Reports</span>, select <span class="bold">Database Vault Reports</span>.</span></li>
                        <li class="stepexpand"><span>In the Database Vault Reports page, select <span class="bold">Database Vault Enforcement Audit Report</span>. </span></li>
                        <li class="stepexpand"><span>From the <span class="bold">Database Vault Audit Report</span> list, select <span class="bold">Realm Audit Report</span>. </span></li>
                        <li class="stepexpand"><span>In the Search area, from the <span class="bold">Command</span> menu, select <span class="bold">Equals</span> and in the text field, enter <code class="codeph">SELECT</code>. Then click <span class="bold">Search</span>.</span><div>
                              <p>The report appears in the table that follows the Search region. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> to exit the report.</span></li>
                     </ol>
                     <div class="section">
                        <p>Oracle Database Vault generates a report listing the type of violation (in this case, the <code class="codeph">SELECT</code> statement entered in the previous section), when and where it occurred, the login account who tried the violation, and what the violation was. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70143"></a><div class="props_rev_3"><a id="GUID-73CBBA3A-EA8E-49F0-A59D-0F066263E1D2" name="GUID-73CBBA3A-EA8E-49F0-A59D-0F066263E1D2"></a><h4 id="DVADM-GUID-73CBBA3A-EA8E-49F0-A59D-0F066263E1D2" class="sect4">Step 8: Remove the Components for This Tutorial</h4>
                  <div>
                     <p>You can remove the components that you created for this tutorial if you no longer need them. </p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>Drop user <code class="codeph">SEBASTIAN</code>.
                              </p>
                              <p>In SQL*Plus, log on as the Oracle Database Vault account manager (for example, <code class="codeph">bea_dvacctmgr</code>) and then drop <code class="codeph">SEBASTIAN</code> as follows:
                              </p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr <span class="italic">-- Or, CONNECT bea_dvacctmgr@hrpdb</span>
Enter password: <span class="italic">password</span>

DROP USER SEBASTIAN;
</pre></li>
                           <li>
                              <p>Delete the HR Apps realm. </p>
                              <ol type="a">
                                 <li>
                                    <p>In Cloud Control, ensure that you are logged in as a user who has the <code class="codeph">DV_OWNER</code> role.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the Database Vault Home page, click <span class="bold">Administration</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the Realms page, select <code class="codeph">HR Apps</code> from the list of realms. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Delete</span>, and in the Confirmation window, click <span class="bold">Yes</span>. 
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>If necessary, in SQL*Plus, lock and expire the <code class="codeph">HR</code> account. 
                              </p><pre class="oac_no_warn" dir="ltr">ALTER USER HR ACCOUNT LOCK PASSWORD EXPIRE;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="getting-started-with-oracle-database-vault.html#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00641.administration-of-XML-DB.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">
      <meta name="description" content="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">
      <title>Administration of Oracle XML&nbsp;DB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-tools-that-support-XML-DB.html" title="Previous" type="text/html">
      <link rel="next" href="how-to-load-XML-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-tools-that-support-XML-DB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="how-to-load-XML-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-tools-that-support-XML-DB.html" property="item" typeof="WebPage"><span property="name"> Oracle Tools that Support Oracle XML&nbsp;DB</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Administration of Oracle XML&nbsp;DB</li>
            </ol>
            <a id="GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" name="GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D"></a><a id="ADXDB2700"></a>
            
            <h2 id="ADXDB-GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" class="sect2"><span class="enumeration_chapter">34 </span> Administration of Oracle XML&nbsp;DB
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='administration-of-XML-DB'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896">Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation</a><br>Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).
                  </li>
                  <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-8D1BE3A4-5235-4E3D-9481-D822E6FDC46E">Administration of Oracle XML&nbsp;DB Using Oracle Enterprise Manager</a><br>You can use Oracle Enterprise Manager to easily perform Oracle XML&nbsp;DB administration tasks. This includes configuring Oracle XML&nbsp;DB; creating, searching, editing, and deleting XML schemas, <code class="codeph">XMLType</code> tables and views, and Oracle XML&nbsp;DB Repository <span class="italic">resources</span> and their <span class="italic">access control lists</span> (ACLs); registering XML schemas; and creating function-based indexes.
                  </li>
                  <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a><br>Oracle XML&nbsp;DB is managed internally through a configuration file, <code class="codeph">xdbconfig.xml</code>, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.
                  </li>
                  <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9">Oracle XML&nbsp;DB and Database Consolidation</a><br>Each pluggable database has its own Oracle XML&nbsp;DB Repository, and its own Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>.
                  </li>
                  <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232">Package DBMS_XDB_ADMIN</a><br>PL/SQL package <code class="codeph">DBMS_XDB_ADMIN</code> has subprograms for managing and configuring Oracle XML&nbsp;DB and Oracle XML&nbsp;DB Repository.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="use-of-XLink-and-XInclude-with-XML-DB.html#GUID-CC5F92B5-4718-4E29-B407-544C960AE5BE" title="The resource configuration file that you use as a resource to configure XLink (deprecated) and XInclude processing for other resources is described.">Configuration of Repository Resources for XLink and XInclude</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="oracle-tools-that-support-XML-DB.html#GUID-6E519C79-C879-46D0-BAD4-3E9FEA7BA35F" title="You can use various Oracle tools with Oracle XML&nbsp;DB. These include tools for managing Oracle XML&nbsp;DB, loading XML data, and exchanging XML data.">Oracle Tools that Support Oracle XML&nbsp;DB</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5703"></a><div class="props_rev_3"><a id="GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" name="GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896"></a><h3 id="ADXDB-GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" class="sect3"><span class="enumeration_section">34.1 </span>Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation
               </h3>
               <div>
                  <p>Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Run script <code class="codeph">catproc.sql</code>, as always.
                        </p>
                     </li>
                     <li>
                        <p>Replication of hierarchy-enabled tables is not supported for any replication method, including rolling upgrade.</p>
                     </li>
                     <li>
                        <p>If supplemental logging is turned on then these operations are not supported:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use of the <code class="codeph">APPEND</code> hint for <code class="codeph">INSERT</code></p>
                           </li>
                           <li>
                              <p>SQL*Loader direct-path insertion of <code class="codeph">XMLType</code> data
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If you use rolling upgrade and any of the following operations are invoked on the primary database, then an <span class="italic">unsupported operation</span> error is raised on the standby database:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_XDB_ADMIN</code> — all operations
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XMLSCHEMA.copyEvolve</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XMLSCHEMA.compileSchema</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XMLINDEX.dropparameter</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XMLINDEX.modifyparameter</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_XMLINDEX.registerparameter</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>ACL security: In releases prior to Oracle Database&nbsp;11g Release 1, conflicts among ACEs for the same principal and same privilege were resolved by giving priority to any ACE that had child <code class="codeph">deny</code>, whether or not preceding ACEs had child <code class="codeph">grant</code>. That is, ACE order did not matter. In Oracle Database 11g and later this <code class="codeph">deny-trumps-grant</code> behavior is still available, but it is not the default behavior.
                        </p>
                     </li>
                     <li>
                        <p>Prior to Oracle Database 12c Release 1 (12.1.0.1), basic access authentication was the only available HTTP authentication mechanism. Starting with 12c Release 1, digest access authentication is available. </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A">Authentication Considerations for Database Installation, Upgrade and Downgrade</a><br>Various authentication considerations apply to database installation, upgrades and downgrades.
                     </li>
                     <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-1463FD08-D572-49FD-BFBF-CCB051667E25">Automatic Installation of Oracle XML&nbsp;DB</a><br> Oracle XML&nbsp;DB is automatically installed during an upgrade. Ensure that the compatibility level is at least 12.1.0.1 if you intend to use Oracle XML&nbsp;DB.
                     </li>
                     <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-72F182D1-0318-4562-8087-DB0FFA4CFDA7">Validation of ACL Documents and Configuration File</a><br>During upgrade, existing ACL documents and the Oracle XML&nbsp;DB configuration file are validated against their XML schemas. If validation fails then you need to take certain measures.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896__GUID-85871C45-3128-4F1E-9ADE-5B1624BF2D68">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sbydb/using-sql-apply-to-perform-rolling-upgrade.html#SBYDB00830" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for information about performing a rolling upgrade
                           </p>
                        </li>
                        <li>
                           <p><a href="repository-access-control.html#GUID-3A94EEAA-A6ED-41EC-AE44-98D4D5FCF452" title="Privileges are checked before a principal is allowed to access a repository resource that is protected by ACLs. This check is done by evaluating the protecting ACLs for that principal, in order. For each such ACL, the ACEs in it that apply to the principal are examined, in order.">ACL and ACE Evaluation</a> for information about conflicts among ACEs
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6110"></a><div class="props_rev_3"><a id="GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A" name="GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A"></a><h4 id="ADXDB-GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A" class="sect4"><span class="enumeration_section">34.1.1 </span>Authentication Considerations for Database Installation, Upgrade and Downgrade
                  </h4>
                  <div>
                     <p>Various authentication considerations apply to database installation, upgrades and downgrades.</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-6641A84E-6BEC-4CB1-A0B0-9799E239F530">Authentication Considerations for a Database Installation</a><br>In a default database installation, digest authentication is enabled, and basic authentication is disallowed. Digest verifiers are automatically generated for <span class="italic">all</span> users.
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-EA48F64E-DEEF-44DD-986F-38BD03BB4EE2">Authentication Considerations for a Database Upgrade</a><br>After an upgrade from a release prior to Oracle Database 12c Release 1 (12.1.0.1), digest authentication is appended to the list of allowed authentication mechanisms. But basic authentication remains the current authentication method if it was enabled before the upgrade. This is for backward compatibility <span class="italic">only</span>. 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-371739FA-6495-4080-B357-9C6CEAA6C3A2">Authentication Considerations for a Database Downgrade</a><br>If you downgrade to a release where digest authentication was not supported, digest authentication is disabled and made unavailable as an authentication choice.
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="repository-access-using-protocols.html#GUID-8B00C84F-AA90-4594-BFBF-8A19A1C945D3" title="You configure the authentication mechanisms to allow for HTTP access to Oracle XML&nbsp;DB Repository by setting element authentication, a child of element httpconfig, in configuration file xdbconfig.xml.">Configuration and Management of Authentication Mechanisms for HTTP</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).">Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB6111"></a><div class="props_rev_3"><a id="GUID-6641A84E-6BEC-4CB1-A0B0-9799E239F530" name="GUID-6641A84E-6BEC-4CB1-A0B0-9799E239F530"></a><h5 id="ADXDB-GUID-6641A84E-6BEC-4CB1-A0B0-9799E239F530" class="sect5"><span class="enumeration_section">34.1.1.1 </span>Authentication Considerations for a Database Installation
                     </h5>
                     <div>
                        <p>In a default database installation, digest authentication is enabled, and basic authentication is disallowed. Digest verifiers are automatically generated for <span class="italic">all</span> users.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A" title="Various authentication considerations apply to database installation, upgrades and downgrades.">Authentication Considerations for Database Installation, Upgrade and Downgrade</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB6112"></a><div class="props_rev_3"><a id="GUID-EA48F64E-DEEF-44DD-986F-38BD03BB4EE2" name="GUID-EA48F64E-DEEF-44DD-986F-38BD03BB4EE2"></a><h5 id="ADXDB-GUID-EA48F64E-DEEF-44DD-986F-38BD03BB4EE2" class="sect5"><span class="enumeration_section">34.1.1.2 </span>Authentication Considerations for a Database Upgrade
                     </h5>
                     <div>
                        <p>After an upgrade from a release prior to Oracle Database 12c Release 1 (12.1.0.1), digest authentication is appended to the list of allowed authentication mechanisms. But basic authentication remains the current authentication method if it was enabled before the upgrade. This is for backward compatibility <span class="italic">only</span>. 
                        </p>
                        <div class="section">
                           <p>Oracle recommends that your database administrator <span class="italic">disable basic authentication as soon as possible</span> after upgrading. The reason that basic authentication remains in effect after such an upgrade is to allow users to change their passwords using a Web browser that does not support digest authentication.
                           </p>
                           <p>For such an upgrade, digest verifiers are computed for all <span class="italic">new</span> users and for all previously existing <span class="italic">users whose passwords changed</span> during the upgrade. Other users do <span class="italic">not</span> have digest verifiers.
                           </p>
                           <p>After an upgrade, a DBA can use database view <code class="codeph">DBA_DIGEST_VERIFIERS</code> to check which users have digest verifiers and take appropriate action, as follows:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Configure <span class="italic">basic</span> authentication as the <span class="italic">first</span> allowed authentication mechanism in the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>. This ensures that basic authentication can be used for HTTP access.</span></li>
                           <li class="stepexpand"><span>Expire all passwords for those users who do not have digest verifiers. This query returns those users:</span><div><pre class="pre codeblock"><code>SELECT USERNAME FROM DBA_DIGEST_VERIFIERS
  WHERE HAS_DIGEST_VERIFIERS = 'NO' AND DIGEST_TYPE is NULL;
</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>After the passwords for all such users have been changed, configure <code class="codeph">xdbconfig.xml</code> to re-enable digest as the first or (preferably) the only allowed authentication mechanism.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A" title="Various authentication considerations apply to database installation, upgrades and downgrades.">Authentication Considerations for Database Installation, Upgrade and Downgrade</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB6113"></a><div class="props_rev_3"><a id="GUID-371739FA-6495-4080-B357-9C6CEAA6C3A2" name="GUID-371739FA-6495-4080-B357-9C6CEAA6C3A2"></a><h5 id="ADXDB-GUID-371739FA-6495-4080-B357-9C6CEAA6C3A2" class="sect5"><span class="enumeration_section">34.1.1.3 </span>Authentication Considerations for a Database Downgrade
                     </h5>
                     <div>
                        <p>If you downgrade to a release where digest authentication was not supported, digest authentication is disabled and made unavailable as an authentication choice.</p>
                        <p>All digest verifiers are <span class="italic">erased</span> during a downgrade. This means, in particular, that if a downgrade is followed by an upgrade then users who were able to authenticate prior to the downgrade are denied digest authentication after the downgrade and the subsequent upgrade.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-5B2FAA2F-AFB3-48EA-9978-F08F0490612A" title="Various authentication considerations apply to database installation, upgrades and downgrades.">Authentication Considerations for Database Installation, Upgrade and Downgrade</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB6102"></a><div class="props_rev_3"><a id="GUID-1463FD08-D572-49FD-BFBF-CCB051667E25" name="GUID-1463FD08-D572-49FD-BFBF-CCB051667E25"></a><h4 id="ADXDB-GUID-1463FD08-D572-49FD-BFBF-CCB051667E25" class="sect4"><span class="enumeration_section">34.1.2 </span>Automatic Installation of Oracle XML&nbsp;DB
                  </h4>
                  <div>
                     <p> Oracle XML&nbsp;DB is automatically installed during an upgrade. Ensure that the compatibility level is at least 12.1.0.1 if you intend to use Oracle XML&nbsp;DB.</p>
                     <p>If Oracle XML&nbsp;DB is not already installed in your database prior to an upgrade to Oracle Database 12c Release 1 (12.1.0.1) or later, then it is automatically installed in tablespace <code class="codeph">SYSAUX</code> during the upgrade.
                     </p>
                     <p>If Oracle XML&nbsp;DB has thus been automatically installed, and if you want to use Oracle XML&nbsp;DB, then, after the upgrade operation, you must set the database compatibility to at least 12.1.0.1. If the compatibility is less than 12.1.0.1 then an error is raised when you try to use Oracle XML&nbsp;DB.</p>
                     <p>If Oracle XML&nbsp;DB was automatically installed during an upgrade and the current compatibility level is less than 12.1.0.1, then Oracle DB is automatically uninstalled during any downgrade to a prior release.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).">Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5704"></a><div class="props_rev_3"><a id="GUID-72F182D1-0318-4562-8087-DB0FFA4CFDA7" name="GUID-72F182D1-0318-4562-8087-DB0FFA4CFDA7"></a><h4 id="ADXDB-GUID-72F182D1-0318-4562-8087-DB0FFA4CFDA7" class="sect4"><span class="enumeration_section">34.1.3 </span>Validation of ACL Documents and Configuration File
                  </h4>
                  <div>
                     <p>During upgrade, existing ACL documents and the Oracle XML&nbsp;DB configuration file are validated against their XML schemas. If validation fails then you need to take certain measures.</p>
                     <p>Access control list (ACL) documents are stored in table <code class="codeph">XDB$ACL</code>. The Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>, is stored in table <code class="codeph">XDB$CONFIG</code>. Starting with Oracle Database&nbsp;12c Release 1 (12.1.0.1), these tables use the post-parse (binary XML) storage model. This implies that ACL documents and the configuration file are fully validated against their respective XML schemas. Validation takes place during upgrade, using your existing ACL documents and configuration file and the corresponding existing XML schemas.
                     </p>
                     <p>If an ACL document fails to validate during upgrade, then the document is moved to table <code class="codeph">XDB$INVALID_ACL</code>. 
                     </p>
                     <p>If validation of configuration file <code class="codeph">xdbconfig.xml</code> fails during upgrade, then the file is saved in table <code class="codeph">XDB$INVALID_CONFIG</code>, the default configuration file replaces it in table <code class="codeph">XDB$CONFIG</code>, and the <code class="codeph">XDB</code> component of the database is marked invalid. You must then start the database in normal mode and fix the <code class="codeph">XDB</code> component, before trying to use the database.
                     </p>
                     <p>To fix the <code class="codeph">XDB</code> component, you can fix the invalid files to make them valid, and then call PL/SQL procedure <code class="codeph">RecoverUpgrade</code>. After validating, this procedure moves the fixed files to tables <code class="codeph">XDB$ACL</code> and <code class="codeph">XDB$CONFIG</code>, and marks the <code class="codeph">XDB</code> component valid.
                     </p>
                     <p>As an option, you can call procedure <code class="codeph">RecoverUpgrade</code> with parameter <code class="codeph">use_default</code> set to <code class="codeph">TRUE</code>, to abandon any invalid files. In this case, any valid files are moved to tables <code class="codeph">XDB$ACL</code> and <code class="codeph">XDB$CONFIG</code>, and any remaining invalid files are deleted. Default files are used in place of any invalid files. For ACLs, the default ACL document is used. For the configuration file, the default <code class="codeph">xdbconfig.xml</code> is used (in which ACE order matters).
                     </p>
                     <div class="infoboxnote" id="GUID-72F182D1-0318-4562-8087-DB0FFA4CFDA7__GUID-8A33B58E-E184-4240-B7BE-D78E7D1CDB37">
                        <p class="notep1">Caution:</p>
                        <p>Use a <code class="codeph">TRUE</code> value for parameter <code class="codeph">use_default</code> <span class="italic">only</span> if you are certain that you no longer need the old ACL files or configuration file that are invalid. These files are <span class="italic">deleted</span>.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).">Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5708"></a><div class="props_rev_3"><a id="GUID-8D1BE3A4-5235-4E3D-9481-D822E6FDC46E" name="GUID-8D1BE3A4-5235-4E3D-9481-D822E6FDC46E"></a><h3 id="ADXDB-GUID-8D1BE3A4-5235-4E3D-9481-D822E6FDC46E" class="sect3"><span class="enumeration_section">34.2 </span>Administration of Oracle XML&nbsp;DB Using Oracle Enterprise Manager
               </h3>
               <div>
                  <p>You can use Oracle Enterprise Manager to easily perform Oracle XML&nbsp;DB administration tasks. This includes configuring Oracle XML&nbsp;DB; creating, searching, editing, and deleting XML schemas, <code class="codeph">XMLType</code> tables and views, and Oracle XML&nbsp;DB Repository <span class="italic">resources</span> and their <span class="italic">access control lists</span> (ACLs); registering XML schemas; and creating function-based indexes.
                  </p>
                  <p>See the online help available with Oracle Enterprise Manager for information about using Enterprise Manager to perform the following tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Configure Oracle XML&nbsp;DB. View or edit parameters for the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>.
                        </p>
                     </li>
                     <li>
                        <p>Search, create, edit, undelete Oracle XML&nbsp;DB Repository <span class="italic">resources</span> and their associated <span class="italic">access control lists</span> (ACLs).
                        </p>
                     </li>
                     <li>
                        <p>Search, create, edit, and delete <code class="codeph">XMLType</code> <span class="italic">tables</span> and <span class="italic">views</span>.
                        </p>
                     </li>
                     <li>
                        <p>Search, create, register, and delete <span class="italic">XML schemas</span>.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8D1BE3A4-5235-4E3D-9481-D822E6FDC46E__GUID-7C370F7E-F19D-4850-A0BF-A74E59A6CD73">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administration-of-XML-DB.html#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a> for information about configuring Oracle XML&nbsp;DB without using Oracle Enterprise Manager
                           </p>
                        </li>
                        <li>
                           <p><a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a> for information about creating and managing resources without using Oracle Enterprise Manager
                           </p>
                        </li>
                        <li>
                           <p><a href="XML-Schema-and-query-basic.html#GUID-C09824C1-6B02-4556-A265-B1749DEE8DE1" title="XML Schema is a standard for describing the content and structure of XML documents. You can register, update, and delete an XML schema used with Oracle XML&nbsp;DB. You can define storage structures to use for your XML schema-based data and map XML Schema data types to SQL data types.">XML Schema Storage and Query: Basic</a> for information about manipulating XML schemas without using Oracle Enterprise Manager
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5709"></a><div class="props_rev_3"><a id="GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" name="GUID-D1551B64-4A75-44CD-AA04-0A68018410AE"></a><h3 id="ADXDB-GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" class="sect3"><span class="enumeration_section">34.3 </span>Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml
               </h3>
               <div>
                  <p>Oracle XML&nbsp;DB is managed internally through a configuration file, <code class="codeph">xdbconfig.xml</code>, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.
                  </p>
                  <p>The configuration file can be modified at run time. Updating the configuration file creates a new version of this repository resource. At the start of each session, the current version of the configuration file is bound to that session. The session uses this configuration-file version for its duration, unless you make an explicit call to refresh the session to the latest version.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a><br>The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, <code class="codeph">xdbconfig.xml</code>, which conforms to the Oracle XML&nbsp;DB configuration XML schema, <code class="codeph">http://xmlns.oracle.com/xdb/xdbconfig.xsd</code>. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, <code class="codeph">xdbconfig.xml</code>.  You need administrator privileges to access file <code class="codeph">xdbconfig.xml</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5710"></a><div class="props_rev_3"><a id="GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" name="GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB"></a><h4 id="ADXDB-GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" class="sect4"><span class="enumeration_section">34.3.1 </span>Oracle XML&nbsp;DB Configuration File, xdbconfig.xml
                  </h4>
                  <div>
                     <p>The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, <code class="codeph">xdbconfig.xml</code>, which conforms to the Oracle XML&nbsp;DB configuration XML schema, <code class="codeph">http://xmlns.oracle.com/xdb/xdbconfig.xsd</code>. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, <code class="codeph">xdbconfig.xml</code>.  You need administrator privileges to access file <code class="codeph">xdbconfig.xml</code>.
                     </p>
                     <p>The structure of the configuration file is described in the following sections.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-BE6705C8-17DB-4730-AA91-08878F6E7931">Element xdbconfig (Top-Level)</a><br>Element <code class="codeph">xdbconfig</code> is the top-level element of the Oracle XML&nbsp;DB configuration file. 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-9191745A-530B-4124-92A5-FD6C2BF92450">Element sysconfig (Child of xdbconfig)</a><br>Element <code class="codeph">sysconfig</code> is a child of <code class="codeph">xdbconfig</code>. 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-BB03B882-4767-4685-9E7C-E2DE7709C6A0">Element userconfig (Child of xdbconfig)</a><br>Element <code class="codeph">userconfig</code> is a child of <code class="codeph">xdbconfig</code>. It contains any parameters that you may want to add.
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-4A6817FC-2460-4CD6-91C9-2102481B6842">Element protocolconfig (Child of sysconfig)</a><br>Element <code class="codeph">protocolconfig</code> is a child of <code class="codeph">sysconfig</code>. 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B">Element httpconfig (Child of protocolconfig)</a><br>Element <code class="codeph">httpconfig</code>, which is a child of <code class="codeph">protocolconfig</code>, is described. 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-C4035945-583B-474E-97D1-A9C05DEF820D">Element servlet (Descendant of httpconfig)</a><br>Element <code class="codeph">servlet</code> is a descendent of element <code class="codeph">httpconfig</code>. It is used to configure servlets, including Java servlets and embedded PL/SQL gateway servlets.
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-8EF64F1F-9EEE-44FB-9F78-F1A605019098">Oracle XML&nbsp;DB Configuration File Example</a><br>A sample Oracle XML&nbsp;DB configuration file is presented.
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C">Oracle XML&nbsp;DB Configuration API</a><br>You can access the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>, the same way you access any other XML schema-based resource. You can use FTP, HTTP(S), WebDAV, Oracle Enterprise Manager, or any of the resource and Document Object Model (DOM) APIs for Java, PL/SQL, or C (OCI). 
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732">Configuration of Mappings from Default Namespace to Schema Location</a><br>Oracle XML&nbsp;DB provides a mechanism to configure default XML schema location mappings.
                        </li>
                        <li class="ulchildlink"><a href="administration-of-XML-DB.html#GUID-03B51F0F-0896-4EDB-8423-093CDA63D86C">Configuration of XML File Extensions</a><br>Oracle XML&nbsp;DB Repository treats certain files as XML documents, based on their file extensions. When such files are inserted into the repository, Oracle XML&nbsp;DB pre-parses them to identify the XML schema location (or uses the default mapping if present) and inserts the document into the appropriate default table. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB__GUID-D39459A4-1CEB-4842-BAD8-42C47CABA288">
                        <p class="notep1">See Also:</p>
                        <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-6B384EEE-07D8-46AC-956C-1DF36159D23C" title="A full listing is presented of file xdbconfig.xsd, which contains the XML schema used to configure Oracle XML&nbsp;DB.">xdbconfig.xsd: XML Schema for Configuring Oracle XML&nbsp;DB</a> for a complete listing of the Oracle XML&nbsp;DB configuration XML schema
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB5711"></a><div class="props_rev_3"><a id="GUID-BE6705C8-17DB-4730-AA91-08878F6E7931" name="GUID-BE6705C8-17DB-4730-AA91-08878F6E7931"></a><h5 id="ADXDB-GUID-BE6705C8-17DB-4730-AA91-08878F6E7931" class="sect5"><span class="enumeration_section">34.3.1.1 </span>Element xdbconfig (Top-Level)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">xdbconfig</code> is the top-level element of the Oracle XML&nbsp;DB configuration file. 
                        </p>
                        <div class="section">
                           <p>Its structure is as follows:</p><pre class="pre codeblock"><code>&lt;xdbconfig&gt; 
    &lt;sysconfig&gt; ... &lt;/sysconfig&gt; 
    &lt;userconfig&gt; ... &lt;/userconfig&gt; 
&lt;/xdbconfig&gt;
</code></pre><p>Element <code class="codeph">sysconfig</code> defines system-specific, built-in parameters. Element <code class="codeph">userconfig</code> lets you store new custom parameters.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5712"></a><div class="props_rev_3"><a id="GUID-9191745A-530B-4124-92A5-FD6C2BF92450" name="GUID-9191745A-530B-4124-92A5-FD6C2BF92450"></a><h5 id="ADXDB-GUID-9191745A-530B-4124-92A5-FD6C2BF92450" class="sect5"><span class="enumeration_section">34.3.1.2 </span>Element sysconfig (Child of xdbconfig)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">sysconfig</code> is a child of <code class="codeph">xdbconfig</code>. 
                        </p>
                        <div class="section">
                           <p>Its structure is as follows: </p><pre class="pre codeblock"><code>&lt;sysconfig&gt; 
    <span class="italic">general parameters</span>
    &lt;protocolconfig&gt; ... &lt;/protocolconfig&gt; 
&lt;/sysconfig&gt; 
</code></pre><p>Element <code class="codeph">sysconfig</code> includes as content several general parameters that apply to all of Oracle XML&nbsp;DB, such as the maximum age of an access control list (ACL). Child element <code class="codeph">protocolconfig</code> contains protocol-specific parameters.
                           </p>
                           <div class="infoboxnote" id="GUID-9191745A-530B-4124-92A5-FD6C2BF92450__GUID-29C2E9A1-0BAE-4532-B178-DFD84C98E06A">
                              <p class="notep1">Note:</p>
                              <p>Element <code class="codeph">case-sensitive</code>, child of element <code class="codeph">sysconfig</code>, has no effect on the case-sensitivity of XQuery or full-text search. Otherwise, it affects the behavior of all of Oracle XML&nbsp;DB.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5713"></a><div class="props_rev_3"><a id="GUID-BB03B882-4767-4685-9E7C-E2DE7709C6A0" name="GUID-BB03B882-4767-4685-9E7C-E2DE7709C6A0"></a><h5 id="ADXDB-GUID-BB03B882-4767-4685-9E7C-E2DE7709C6A0" class="sect5"><span class="enumeration_section">34.3.1.3 </span>Element userconfig (Child of xdbconfig)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">userconfig</code> is a child of <code class="codeph">xdbconfig</code>. It contains any parameters that you may want to add.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5714"></a><div class="props_rev_3"><a id="GUID-4A6817FC-2460-4CD6-91C9-2102481B6842" name="GUID-4A6817FC-2460-4CD6-91C9-2102481B6842"></a><h5 id="ADXDB-GUID-4A6817FC-2460-4CD6-91C9-2102481B6842" class="sect5"><span class="enumeration_section">34.3.1.4 </span>Element protocolconfig (Child of sysconfig)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">protocolconfig</code> is a child of <code class="codeph">sysconfig</code>. 
                        </p>
                        <div class="section">
                           <p>Its structure is as follows: </p><pre class="oac_no_warn" dir="ltr">&lt;protocolconfig&gt; 
  &lt;common&gt; ... &lt;/common&gt; 
  &lt;ftpconfig&gt; ... &lt;/ftpconfig&gt; 
  &lt;httpconfig&gt; ... &lt;/httpconfig&gt; &lt;/protocolconfig&gt; 
</pre><p>Under element <code class="codeph">common</code>, Oracle Database stores parameters that apply to all protocols, such as MIME-type information. Parameters that are specific to protocols FTP and HTTP(S) are in elements <code class="codeph">ftpconfig</code> and <code class="codeph">httpconfig</code>, respectively. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV.">Repository Access Using Protocols</a></li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-4A6817FC-2460-4CD6-91C9-2102481B6842__GUID-C24031A7-33AE-49E0-91DE-265C01F3A564">
                           <p class="notep1">See Also:</p>
                           <p><a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__BABJEIEG" title="This table describes protocol configuration parameters.">Table 28-1</a>, <a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__G1029943" title="This table describes protocol configuration parameters specific to FTP.">Table 28-2</a>, and <a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__G1029959" title="This table describes protocol configuration parameters specific to HTTP or WebDAV.">Table 28-3</a>, for a list of protocol configuration parameters
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5715"></a><div class="props_rev_3"><a id="GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B" name="GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B"></a><h5 id="ADXDB-GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B" class="sect5"><span class="enumeration_section">34.3.1.5 </span>Element httpconfig (Child of protocolconfig)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">httpconfig</code>, which is a child of <code class="codeph">protocolconfig</code>, is described. 
                        </p>
                        <div class="section">
                           <p>This is the structure of <code class="codeph">httpconfig</code>: 
                           </p><pre class="pre codeblock"><code>&lt;httpconfig&gt;
  ...
  &lt;webappconfig&gt;
    ...
    &lt;servletconfig&gt;
      ...
      &lt;servlet-list&gt;
        &lt;servlet&gt; ... &lt;/servlet&gt;
        ...
      &lt;/servlet-list&gt;
    &lt;/servletconfig&gt;
  &lt;/webappconfig&gt;
  ...
  &lt;plsql&gt; ... &lt;/plsql&gt;
&lt;/httpconfig&gt;
</code></pre><p>Element <code class="codeph">httpconfig</code> has the following child elements, in addition to others:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">webappconfig</code> &#x2013; used to configure Web-based applications. This includes Web application-specific parameters, such as icon name, display name for the application, and a list of servlets. 
                                 </p>
                                 <p>Element <code class="codeph">servletconfig</code> is a child of <code class="codeph">webappconfig</code> that is used to define servlets. It has child element <code class="codeph">servlet-list</code>, which has child element <code class="codeph">servlet</code> (see <a href="administration-of-XML-DB.html#GUID-C4035945-583B-474E-97D1-A9C05DEF820D" title="Element servlet is a descendent of element httpconfig. It is used to configure servlets, including Java servlets and embedded PL/SQL gateway servlets.">Element servlet (Descendant of httpconfig)</a>).
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">plsql</code><a id="GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B__CHDJHBCH" name="GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B__CHDJHBCH" href="#GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B__CHDJHBCH" onclick="footdisplay(1, "There are two different plsql elements that are used to configure the embedded PL/SQL gateway. One, a child of httpconfig, defines global parameters. The other, a child of servlet, defines DAD attributes.")"><sup>Foot&nbsp;1</sup></a> &#x2013; used to define global configuration parameters when configuring the <span class="italic">embedded PL/SQL gateway</span>. Each global parameter is defined with a child element of <code class="codeph">plsql</code>. The element name is the same as the global parameter name. The element content is the same as the parameter value. 
                                 </p>
                                 <p>The recommended way to configure the embedded PL/SQL gateway is to use the procedures in PL/SQL package <code class="codeph">DBMS_EPG</code>, <span class="italic">not</span> to edit file <code class="codeph">xdbconfig.xml</code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV.">Repository Access Using Protocols</a></li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B__GUID-848A282E-E26D-401A-945E-4FAED054D195">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__BABJEIEG" title="This table describes protocol configuration parameters.">Table 28-1</a>, <a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__G1029943" title="This table describes protocol configuration parameters specific to FTP.">Table 28-2</a>, and <a href="repository-access-using-protocols.html#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__G1029959" title="This table describes protocol configuration parameters specific to HTTP or WebDAV.">Table 28-3</a>, for a list of protocol configuration parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adfns/web-applications.html#ADFNS015" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a>, for complete information about configuring and using the embedded PL/SQL gateway
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_EPG.html#ARPLS193" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, for information about package <code class="codeph">DBMS_EPG</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5716"></a><div class="props_rev_3"><a id="GUID-C4035945-583B-474E-97D1-A9C05DEF820D" name="GUID-C4035945-583B-474E-97D1-A9C05DEF820D"></a><h5 id="ADXDB-GUID-C4035945-583B-474E-97D1-A9C05DEF820D" class="sect5"><span class="enumeration_section">34.3.1.6 </span>Element servlet (Descendant of httpconfig)
                     </h5>
                     <div>
                        <p>Element <code class="codeph">servlet</code> is a descendent of element <code class="codeph">httpconfig</code>. It is used to configure servlets, including Java servlets and embedded PL/SQL gateway servlets.
                        </p>
                        <div class="section">
                           <p>See <a href="administration-of-XML-DB.html#GUID-67C929FC-52FC-4972-BD5F-B663E5B35C4B" title="Element httpconfig, which is a child of protocolconfig, is described.">Element httpconfig (Child of protocolconfig)</a>.
                           </p>
                           <div class="infoboxnote" id="GUID-C4035945-583B-474E-97D1-A9C05DEF820D__GUID-B9F89A8E-8595-4F9C-BE99-01EE88BEBB71">
                              <p class="notep1">Note:</p>
                              <p>The following servlets are preconfigured in file <code class="codeph">xdbconfig.xml</code>. Do <span class="italic">not</span> delete them.
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ORSServlet</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">EMExpressServlet</code></p>
                                 </li>
                              </ul>
                           </div>
                           <p>An optional element <code class="codeph">plsql</code>, child of <code class="codeph">servlet<a id="fnsrc_d166715e1595" name="fnsrc_d166715e1595" href="#fnsrc_d166715e1595" onclick="footdisplay(1, "There are two different plsql elements that are used to configure the embedded PL/SQL gateway. One, a child of httpconfig, defines global parameters. The other, a child of servlet, defines DAD attributes.")"><sup>Footref&nbsp;1</sup></a></code>, configures the embedded PL/SQL gateway servlet. However, the <span class="italic">recommended</span> way to configure the embedded gateway is to use the procedures in PL/SQL package <code class="codeph">DBMS_EPG</code>, <span class="italic">not</span> to edit file <code class="codeph">xdbconfig.xml</code>. 
                           </p>
                           <p>Element <code class="codeph">plsql</code> has a child element for each embedded PL/SQL DAD attribute<a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, "DAD is an abbreviation for Database Access Descriptor. DAD attributes are parameters that define such a descriptor.")"><sup>Foot&nbsp;2</sup></a> that is needed to configure the embedded gateway. All such children are optional. The element name is the same as the DAD attribute name. The element content is the same as the DAD-attribute value.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C4035945-583B-474E-97D1-A9C05DEF820D__GUID-2A8199BD-241D-4A7C-B032-5FD715310829">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a> for information about configuring Java servlets
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adfns/web-applications.html#ADFNS015" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a>, for complete information about configuring and using the embedded PL/SQL gateway
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=HTMDB" target="_blank"><span><span><cite>Oracle Application Express App Builder User’s Guide</cite></span></span></a>, for information about Oracle Application Express
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_EPG.html#ARPLS193" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, for information about package <code class="codeph">DBMS_EPG</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5718"></a><a id="ADXDB5717"></a><div class="props_rev_3"><a id="GUID-8EF64F1F-9EEE-44FB-9F78-F1A605019098" name="GUID-8EF64F1F-9EEE-44FB-9F78-F1A605019098"></a><h5 id="ADXDB-GUID-8EF64F1F-9EEE-44FB-9F78-F1A605019098" class="sect5"><span class="enumeration_section">34.3.1.7 </span>Oracle XML&nbsp;DB Configuration File Example
                     </h5>
                     <div>
                        <p>A sample Oracle XML&nbsp;DB configuration file is presented.</p>
                        <div class="example" id="GUID-8EF64F1F-9EEE-44FB-9F78-F1A605019098__GUID-50F6D12A-E4E8-4C02-9C73-D83FDCFA1ED3">
                           <p class="titleinexample">Example 34-1 Oracle XML&nbsp;DB Configuration File</p><pre class="pre codeblock"><code>&lt;xdbconfig xmlns="http://xmlns.oracle.com/xdb/xdbconfig.xsd" 
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                 xsi:schemaLocation="http://xmlns.oracle.com/xdb/xdbconfig.xsd 
                                    http://xmlns.oracle.com/xdb/xdbconfig.xsd"&gt;
   &lt;sysconfig&gt;
      &lt;acl-max-age&gt;900&lt;/acl-max-age&gt;
      &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt; 
      &lt;invalid-pathname-chars&gt;,&lt;/invalid-pathname-chars&gt;
      &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;       
      &lt;call-timeout&gt;300&lt;/call-timeout&gt;
      &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt; 
      &lt;max-session-use&gt;100&lt;/max-session-use&gt;
      &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt; 
      &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
      &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
      &lt;xdbcore-log-level&gt;0&lt;/xdbcore-log-level&gt;
      &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt; 
    
      &lt;protocolconfig&gt; 
          &lt;common&gt;
             &lt;extension-mappings&gt;
                &lt;mime-mappings&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;au&lt;/extension&gt;
                    &lt;mime-type&gt;audio/basic&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;avi&lt;/extension&gt;
                    &lt;mime-type&gt;video/x-msvideo&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                  &lt;mime-mapping&gt;
                    &lt;extension&gt;bin&lt;/extension&gt;
                    &lt;mime-type&gt;application/octet-stream&lt;/mime-type&gt;
                  &lt;/mime-mapping&gt;
                &lt;/mime-mappings&gt; 

                &lt;lang-mappings&gt;
                  &lt;lang-mapping&gt;
                    &lt;extension&gt;en&lt;/extension&gt;
                    &lt;lang&gt;english&lt;/lang&gt;
                  &lt;/lang-mapping&gt;
                &lt;/lang-mappings&gt;

                &lt;charset-mappings&gt;
                &lt;/charset-mappings&gt;

                &lt;encoding-mappings&gt;
                  &lt;encoding-mapping&gt;
                    &lt;extension&gt;gzip&lt;/extension&gt;
                    &lt;encoding&gt;zip file&lt;/encoding&gt;      
                  &lt;/encoding-mapping&gt;
                  &lt;encoding-mapping&gt;
                    &lt;extension&gt;tar&lt;/extension&gt;
                    &lt;encoding&gt;tar file&lt;/encoding&gt;        
                  &lt;/encoding-mapping&gt;
                &lt;/encoding-mappings&gt;
             &lt;/extension-mappings&gt;

             &lt;session-pool-size&gt;50&lt;/session-pool-size&gt;
             &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
          &lt;/common&gt;

          &lt;ftpconfig&gt;
            &lt;ftp-port&gt;2100&lt;/ftp-port&gt;
            &lt;ftp-listener&gt;local_listener&lt;/ftp-listener&gt;
            &lt;ftp-protocol&gt;tcp&lt;/ftp-protocol&gt;
            &lt;logfile-path&gt;/sys/log/ftplog.xml&lt;/logfile-path&gt;
            &lt;log-level&gt;0&lt;/log-level&gt;
            &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
            &lt;buffer-size&gt;8192&lt;/buffer-size&gt; 
          &lt;/ftpconfig&gt;

          &lt;httpconfig&gt;
            &lt;http-port&gt;8080&lt;/http-port&gt;
            &lt;http-listener&gt;local_listener&lt;/http-listener&gt;
            &lt;http-protocol&gt;tcp&lt;/http-protocol&gt;
            &lt;max-http-headers&gt;64&lt;/max-http-headers&gt; 
            &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
            &lt;server-name&gt;XDB HTTP Server&lt;/server-name&gt;
            &lt;max-header-size&gt;16384&lt;/max-header-size&gt;
            &lt;max-request-body&gt;2000000000&lt;/max-request-body&gt;
            &lt;logfile-path&gt;/sys/log/httplog.xml&lt;/logfile-path&gt;
            &lt;log-level&gt;0&lt;/log-level&gt;    
            &lt;servlet-realm&gt;Basic realm="XDB"&lt;/servlet-realm&gt;
            &lt;webappconfig&gt;
              &lt;welcome-file-list&gt;
                &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
                &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;
              &lt;/welcome-file-list&gt;
              &lt;error-pages&gt;
              &lt;/error-pages&gt;
              &lt;servletconfig&gt; 
                &lt;servlet-mappings&gt;
                  &lt;servlet-mapping&gt;
                    &lt;servlet-pattern&gt;/oradb/*&lt;/servlet-pattern&gt;
                    &lt;servlet-name&gt;DBURIServlet&lt;/servlet-name&gt;
                  &lt;/servlet-mapping&gt;
                &lt;/servlet-mappings&gt;
                               
                &lt;servlet-list&gt;
                  &lt;servlet&gt;
                    &lt;servlet-name&gt;DBURIServlet&lt;/servlet-name&gt;
                    &lt;display-name&gt;DBURI&lt;/display-name&gt;
                    &lt;servlet-language&gt;C&lt;/servlet-language&gt;
                    &lt;description&gt;Servlet for accessing DBURIs&lt;/description&gt;
                    &lt;security-role-ref&gt;
                      &lt;role-name&gt;authenticatedUser&lt;/role-name&gt;
                      &lt;role-link&gt;authenticatedUser&lt;/role-link&gt;
                    &lt;/security-role-ref&gt;
                  &lt;/servlet&gt;
                &lt;/servlet-list&gt;
              &lt;/servletconfig&gt;
            &lt;/webappconfig&gt;
          &lt;/httpconfig&gt; 
      &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt; 
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt; 
   &lt;/sysconfig&gt;
&lt;/xdbconfig&gt;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5720"></a><a id="ADXDB5719"></a><div class="props_rev_3"><a id="GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C" name="GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C"></a><h5 id="ADXDB-GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C" class="sect5"><span class="enumeration_section">34.3.1.8 </span>Oracle XML&nbsp;DB Configuration API
                     </h5>
                     <div>
                        <p>You can access the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>, the same way you access any other XML schema-based resource. You can use FTP, HTTP(S), WebDAV, Oracle Enterprise Manager, or any of the resource and Document Object Model (DOM) APIs for Java, PL/SQL, or C (OCI). 
                        </p>
                        <p>For convenience, you can use PL/SQL package <code class="codeph">DBMS_XDB_CONFIG</code> package for configuration access. It exposes the following functions and procedures:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">cfg_get</code> &#x2013; Returns the configuration information for the current session.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">cfg_refresh</code> &#x2013; Refreshes the session configuration information using the current configuration file. Typical uses of <code class="codeph">cfg_refresh</code> include the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>You have modified the configuration and now want the session to pick up the latest version of the configuration information.</p>
                                 </li>
                                 <li>
                                    <p>It has been a long running session, the configuration has been modified by a concurrent session, and you want the current session to pick up the latest version of the configuration information.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">cfg_update</code> &#x2013; Updates the configuration information, writing the configuration file. A <code class="codeph">COMMIT</code> is performed.
                              </p>
                           </li>
                        </ul>
                        <p><a href="administration-of-XML-DB.html#GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C__CACHDDGI">Example 34-2</a> updates parameters <code class="codeph">ftp-port</code> and <code class="codeph">http-port</code> in the configuration file.
                        </p>
                        <p>If you have many parameters to update, then it can be easier to use FTP, HTTP(S), or Oracle Enterprise Manager to update the configuration.</p>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C__GUID-20B7AADE-03A4-4255-A529-D1ED5F78BF34">
                              <p class="notep1">See Also:</p>
                              <p><a href="../arpls/DBMS_XDB.html#ARPLS371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-BCDB503F-14D1-4538-92B8-BF478B8C872C__CACHDDGI">
                           <p class="titleinexample">Example 34-2 Updating the Configuration File Using CFG_UPDATE and CFG_GET</p><pre class="pre codeblock"><code>DECLARE
  v_cfg XMLType;
BEGIN
  SELECT XMLQuery('declare default element namespace
                   "http://xmlns.oracle.com/xdb/xdbconfig.xsd";
                   copy $i := $cfg 
                   modify for $j in $i/xdbconfig
                   return (replace value of node $j/descendant::ftp-port with
                             "2121",
                           replace value of node $j/descendant::http-port with
                             "19090")
                   return $i'
                  PASSING DBMS_XDB_CONFIG.<span class="bold">cfg_get</span>() AS "cfg"
                  RETURNING CONTENT)
    INTO v_cfg FROM DUAL; 
  DBMS_XDB_CONFIG.<span class="bold">cfg_update</span>(v_cfg);
END;
/ 
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" title="PL/SQL package DBMS_XDB_CONFIG provides Oracle XML&nbsp;DB configuration management functions and procedures.">DBMS_XDB_CONFIG: Configuration Management</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5721"></a><div class="props_rev_3"><a id="GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732" name="GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732"></a><h5 id="ADXDB-GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732" class="sect5"><span class="enumeration_section">34.3.1.9 </span>Configuration of Mappings from Default Namespace to Schema Location
                     </h5>
                     <div>
                        <p>Oracle XML&nbsp;DB provides a mechanism to configure default XML schema location mappings.</p>
                        <p>Oracle XML&nbsp;DB identifies XML Schema-based <code class="codeph">XMLType</code> instances by pre-parsing input XML documents. If the appropriate <code class="codeph">xsi:schemaLocation</code> or <code class="codeph">xsi:noNamespaceSchemaLocation</code> attribute is found, then the specified schema location URL is used to consult the registered schema. 
                        </p>
                        <p>If the appropriate <code class="codeph">xsi:</code> attribute is not found, the XML document is considered to be non-schema-based. Oracle XML&nbsp;DB provides a mechanism to configure default schema location mappings. If the appropriate <code class="codeph">xsi:</code> attribute is not specified in the XML document, the default schema location mappings is used. 
                        </p>
                        <p>Element <code class="codeph">schemaLocation-mappings</code> of the Oracle XML&nbsp;DB configuration XML schema, <code class="codeph">xdbconfig.xsd</code>, can be used to specify the mapping between <span class="italic"><code class="codeph">(namespace, element)</code></span> pairs and the default schema location. If the <span class="italic"><code class="codeph">element</code></span> value is empty, the mapping applies to all global elements in the specified namespace. If the <span class="italic"><code class="codeph">namespace</code></span> value is empty, it corresponds to the null namespace.
                        </p>
                        <p>The definition of the <code class="codeph">schemaLocation-mappings</code> element is as follows: 
                        </p><pre class="pre codeblock"><code> &lt;element name="schemaLocation-mappings"
          type="xdbc:schemaLocation-mapping-type" minOccurs="0"/&gt; 
 &lt;complexType name="schemaLocation-mapping-type"&gt;&lt;sequence&gt;
      &lt;element name="schemaLocation-mapping"
               minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;complexType&gt;&lt;sequence&gt;
        &lt;element name="namespace" type="string"/&gt;
        &lt;element name="element" type="string"/&gt;
        &lt;element name="schemaURL" type="string"/&gt;
      &lt;/sequence&gt;&lt;/complexType&gt;
      &lt;/element&gt;&lt;/sequence&gt; 
 &lt;/complexType&gt; 
</code></pre><p>The schema location used depends on mappings in the Oracle XML&nbsp;DB configuration file for the namespace used and the root document element. For example, assume that the document does not have the appropriate <code class="codeph">xsi:</code> attribute to indicate the schema location. Consider a document root element <span class="italic">R</span> in namespace <span class="italic">N</span>. The algorithm for identifying the default schema location is as follows: 
                        </p>
                        <ol>
                           <li>
                              <p>If the Oracle XML&nbsp;DB configuration file has a mapping for <span class="italic">N</span> and <span class="italic">R</span>, the corresponding schema location is used. 
                              </p>
                           </li>
                           <li>
                              <p>If the configuration file has a mapping for <span class="italic">N</span>, but not <span class="italic">R</span>, the schema location for <span class="italic">N</span> is used. 
                              </p>
                           </li>
                           <li>
                              <p>If the document root <span class="italic">R</span> does not have any namespace, the schema location for <span class="italic">R</span> is used. 
                              </p>
                           </li>
                        </ol>
                        <p>For example, suppose that your Oracle XML&nbsp;DB configuration file includes the following mapping: </p><pre class="pre codeblock"><code>      &lt;schemaLocation-mappings&gt;
         &lt;schemaLocation-mapping&gt;
            &lt;namespace&gt;http://www.oracle.com/example&lt;/namespace&gt;
            &lt;element&gt;<span class="bold">root</span>&lt;/element&gt;
            &lt;schemaURL&gt;http://www.oracle.com/example/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
         &lt;schemaLocation-mapping&gt;
            &lt;namespace&gt;http://www.oracle.com/example2&lt;/namespace&gt;
            &lt;element&gt;&lt;/element&gt;
            &lt;schemaURL&gt;http://www.oracle.com/example2/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
         &lt;schemaLocation-mapping&gt;
           &lt;namespace&gt;&lt;/namespace&gt;
           &lt;element&gt;<span class="bold">specialRoot</span>&lt;/element&gt;
           &lt;schemaURL&gt;http://www.oracle.com/example3/sch.xsd&lt;/schemaURL&gt;
         &lt;/schemaLocation-mapping&gt;
      &lt;/schemaLocation-mappings&gt;
 </code></pre><p>The following schema locations are used: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Root element = <code class="codeph">root</code></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Namespace = <code class="codeph">http://www.oracle.com/example</code></p>
                                 </li>
                                 <li>
                                    <p>Schema URL = <code class="codeph">http://www.oracle.com/example/sch.xsd</code></p>
                                 </li>
                              </ul>
                              <p>This mapping is used when the instance document specifies: </p><pre class="oac_no_warn" dir="ltr">&lt;root xmlns="http://www.oracle.com/example"&gt;
</pre></li>
                           <li>
                              <p>Root element = <code class="codeph">null</code> (any global element in the namespace)
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Namespace = <code class="codeph">http://www.oracle.com/example2</code></p>
                                 </li>
                                 <li>
                                    <p>Schema URL = <code class="codeph">http://www.oracle.com/example2/sch.xsd</code></p>
                                 </li>
                              </ul>
                              <p>This mapping is used when the instance document specifies: </p><pre class="oac_no_warn" dir="ltr">&lt;root xmlns="http://www.oracle.example2"&gt;
</pre></li>
                           <li>
                              <p>Root element = <code class="codeph">specialRoot</code></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Namespace = <code class="codeph">null</code> (i.e null namespace)
                                    </p>
                                 </li>
                                 <li>
                                    <p>Schema URL = <code class="codeph">http://www.oracle.com/example3/sch.xsd</code></p>
                                 </li>
                              </ul>
                              <p>This mapping is used when the instance document specifies: </p><pre class="pre codeblock"><code>&lt;specialRoot&gt;</code></pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732__GUID-FF3FBD3F-DFF0-40F1-ADEC-F06E9CFFB46E">
                           <p class="notep1">Note:</p>
                           <p>This functionality is available only on the server side, that is, when XML is parsed on the server. If XML is parsed on the client side, the appropriate <code class="codeph">xsi:</code> attribute is still required. 
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB5722"></a><div class="props_rev_3"><a id="GUID-03B51F0F-0896-4EDB-8423-093CDA63D86C" name="GUID-03B51F0F-0896-4EDB-8423-093CDA63D86C"></a><h5 id="ADXDB-GUID-03B51F0F-0896-4EDB-8423-093CDA63D86C" class="sect5"><span class="enumeration_section">34.3.1.10 </span>Configuration of XML File Extensions
                     </h5>
                     <div>
                        <p>Oracle XML&nbsp;DB Repository treats certain files as XML documents, based on their file extensions. When such files are inserted into the repository, Oracle XML&nbsp;DB pre-parses them to identify the XML schema location (or uses the default mapping if present) and inserts the document into the appropriate default table. </p>
                        <p>By default, the following extensions are considered as XML file extensions: <span class="bold"><code class="codeph">xml</code></span>, <span class="bold"><code class="codeph">xsd</code></span>, <span class="bold"><code class="codeph">xsl</code></span>, <span class="bold"><code class="codeph">xlt</code></span>. In addition, Oracle XML&nbsp;DB provides a mechanism for applications to specify other file extensions as XML file extensions. The <span class="bold"><code class="codeph">xml-extensions</code></span> element is defined in the configuration schema, <code class="codeph">http://xmlns.oracle.com/xdb/xdbconfig.xsd</code>, as follows: 
                        </p><pre class="pre codeblock"><code> &lt;element name="xml-extensions"
          type="xdbc:xml-extension-type" minOccurs="0"/&gt;
 
 &lt;complexType name="xml-extension-type"&gt;&lt;sequence&gt;
      &lt;element name="extension" type="xdbc:exttype"
               minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;/element&gt;&lt;/sequence&gt; 
  &lt;/complexType&gt; 
</code></pre><p>For example, the following fragment from the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>, specifies that files with extensions <code class="codeph">vsd</code>, <code class="codeph">vml</code>, and <code class="codeph">svgl</code> should be treated as XML files: 
                        </p><pre class="pre codeblock"><code> &lt;xml-extensions&gt;
   &lt;extension&gt;vsd&lt;/extension&gt;
   &lt;extension&gt;vml&lt;/extension&gt;
   &lt;extension&gt;svgl&lt;/extension&gt;
 &lt;/xml-extensions&gt;</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-B51D6B89-A584-4728-90A8-45BBAA1730CB" title="The configuration of Oracle XML&nbsp;DB is defined and stored in an Oracle XML&nbsp;DB Repository resource, xdbconfig.xml, which conforms to the Oracle XML&nbsp;DB configuration XML schema, http://xmlns.oracle.com/xdb/xdbconfig.xsd. To configure or reconfigure Oracle XML&nbsp;DB, update the configuration file, xdbconfig.xml. You need administrator privileges to access file xdbconfig.xml.">Oracle XML&nbsp;DB Configuration File, xdbconfig.xml</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADXDB6099"></a><div class="props_rev_3"><a id="GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9" name="GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9"></a><h3 id="ADXDB-GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9" class="sect3"><span class="enumeration_section">34.4 </span>Oracle XML&nbsp;DB and Database Consolidation
               </h3>
               <div>
                  <p>Each pluggable database has its own Oracle XML&nbsp;DB Repository, and its own Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>.
                  </p>
                  <p>A multitenant container database (CDB) consists of zero or more pluggable databases (PDBs), a root, and a seed PDB (a template for creating PDBs). A given PDB can be associated with only one CDB at a time. A PDB appears to users and applications as a separate database. Your applications always interact with a single PDB at a time. Queries and dictionary views are local to a PDB. Each PDB has its own Oracle XML&nbsp;DB Repository, and its own Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>.
                  </p>
                  <p>The root of a CDB (<code class="codeph">CDB$ROOT</code>) contains no user data. It does, however, have its own configuration file, <code class="codeph">xdbconfig.xml</code>. 
                  </p>
                  <p>The root configuration file for a CDB has only certain parameters, and those parameters are used only from the root configuration file. If any of those parameters are also present in a configuration file of a PDB that is part of a CDB, they are ignored in favor of the corresponding parameters in the root configuration file.</p>
                  <p>These are the configuration parameters that are used from the root (and ignored from any PDBs):</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">acl-cache-size</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">acl-max-age</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">resource-view-cache-size</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">xdbcore-loadableunit-size</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">xdbcore-xobmem-bound</code></p>
                     </li>
                  </ul>
                  <p>Parameters <code class="codeph">xdbcore-loadableunit-size</code> and <code class="codeph">xdbcore-xobmem-bound</code> are process-specific. The others are SGA configuration parameters.
                  </p>
                  <p>Database schema (user account) <code class="codeph">XDB</code> is a common user, which means that it can connect to, and perform operations within, both the root and any PDBs.
                  </p>
                  <div class="infoboxnote" id="GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9__GUID-7D9ED3B4-4B66-48FF-AF24-A2662B9A6655">
                     <p class="notep1">Note:</p>
                     <p>Oracle recommends that you never unlock database schema XDB, under any circumstances.</p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C6C0EC34-29F6-47F5-B7A7-88F315403DC9__GUID-1507D4B4-26CD-4232-A748-009226668678">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../multi/overview-of-managing-a-multitenant-environment.html#ADMIN13508" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> and <a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89235" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about database consolidation and PDBs
                           </p>
                        </li>
                        <li>
                           <p><a href="repository-access-using-RESOURCE_VIEW-and-PATH_VIEW.html#GUID-9022CFD7-F8C8-434D-A3D6-21208328B2F2" title="Guidelines are presented for improving the performance of repository operations such as resource creation and querying.">Performance Guidelines for Oracle XML&nbsp;DB Repository Operations</a> for information about configuration parameters <code class="codeph">resource-view-cache-size</code>, <code class="codeph">xdbcore-loadableunit-size</code>, and <code class="codeph">xdbcore-xobmem-bound</code></p>
                        </li>
                        <li>
                           <p><a href="XML-Schema-and-query-object-relational-storage.html#GUID-32930A3C-AFD4-4950-94B6-B26ACAFBC70D" title="Oracle XML&nbsp;DB configuration file xdbconfig.xml has parameters that control the amount of memory used by the loading operation: xdbcore-loadableunit-size and xdbcore-xobmem-bound.">Considerations for Loading and Retrieving Large Documents with Collections</a> for information about configuration parameters <code class="codeph">xdbcore-loadableunit-size</code> and <code class="codeph">xdbcore-xobmem-bound</code></p>
                        </li>
                        <li>
                           <p><a href="repository-access-control.html#GUID-A7903BE5-C081-40A9-B778-99289AB08E84" title="Since ACLs are checked for each access to the data they protect, the performance of the ACL check operation is critical to the performance of such data, including Oracle XML&nbsp;DB Repository resources. In Oracle XML&nbsp;DB, the required performance for this repository operation is achieved by employing several caches.">ACL Caching</a> for information about configuration parameter <code class="codeph">acl-max-age</code></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6018"></a><a id="ADXDB6017"></a><div class="props_rev_3"><a id="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232" name="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232"></a><h3 id="ADXDB-GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232" class="sect3"><span class="enumeration_section">34.5 </span>Package DBMS_XDB_ADMIN
               </h3>
               <div>
                  <p>PL/SQL package <code class="codeph">DBMS_XDB_ADMIN</code> has subprograms for managing and configuring Oracle XML&nbsp;DB and Oracle XML&nbsp;DB Repository.
                  </p>
                  <p><a href="administration-of-XML-DB.html#GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232__CHDFCGHD" title="This table describes DBMS_XDB resource management methods.">Table 34-1</a> describes these subprograms.
                  </p>
                  <div class="tblformalwide" id="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232__CHDFCGHD">
                     <p class="titleintable">Table 34-1 DBMS_XDB_ADMIN Management Procedures</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_XDB_ADMIN Management Procedures" summary="This table describes DBMS_XDB resource management methods." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d166715e2374">Function/Procedure</th>
                              <th align="left" valign="bottom" width="70%" id="d166715e2377">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d166715e2382" headers="d166715e2374 ">
                                 <p><code class="codeph">moveXDB_tablespace</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d166715e2382 d166715e2377 ">
                                 <p>Move database schema (user account) <code class="codeph">XDB</code> to the specified tablespace. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d166715e2393" headers="d166715e2374 ">
                                 <p><code class="codeph">rebuildHierarchicalIndex</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d166715e2393 d166715e2377 ">
                                 <p>Rebuild the hierarchical repository index. This can be needed from time to time, in particular after invoking <code class="codeph">moveXDB_tablespace</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232__GUID-C63C0B48-AF23-40E4-AD64-56E0F97AD1AD">
                     <p class="notep1">Note:</p>
                     <p>Prior to Oracle Database 11g Release 2 (11.2.0.3), these procedures belonged to PL/SQL package <code class="codeph">DBMS_XDB</code>. These two procedures in package <code class="codeph">DBMS_XDB</code> are <span class="italic">deprecated</span> as of release 11.2.0.3.
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232__GUID-2B44D694-441F-40D4-BB88-05EAF7A72D82">
                     <p class="notep1">Note:</p>
                     <p>The tablespace containing Oracle XML&nbsp;DB Repository <span class="italic">must not</span> be read-only, because that would adversely affect XML operations.
                     </p>
                     <p>By default, Oracle XML&nbsp;DB Repository resides in tablespace <code class="codeph">SYSAUX</code>, which is used for other things as well. Oracle recommends instead that you create a dedicated tablespace for use only by the repository.
                     </p>
                     <p>Use procedure <code class="codeph">DBMS_XDB_ADMIN.moveXDB_tablespace</code> to move database schema <code class="codeph">XDB</code> to that tablespace dedicated to the repository. Ensure that the tablespace is not read-only.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232__GUID-2CEF6BFA-BB4E-48B4-9FE8-F20A6ED1C196">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB_ADMIN.html#ARPLS214" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="administration-of-XML-DB.html#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>There are two different <code class="codeph">plsql</code> elements that are used to configure the embedded PL/SQL gateway. One, a child of <code class="codeph">httpconfig</code>, defines <span class="italic">global parameters</span>. The other, a child of <code class="codeph">servlet</code>, defines <span class="italic">DAD attributes</span>.
            </p><br>Footnote&nbsp;2: 
            <p>DAD is an abbreviation for Database Access Descriptor. DAD attributes are parameters that define such a descriptor.</p><br></div>
      </article>
   </body>
</html><html id='10355.AUDIT-Traditional-Auditing.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>AUDIT (Traditional Auditing)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ASSOCIATE-STATISTICS.html" title="Previous" type="text/html">
      <link rel="next" href="AUDIT-Unified-Auditing.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ASSOCIATE-STATISTICS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="AUDIT-Unified-Auditing.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ALTER-SYNONYM-to-COMMENT.html" property="item" typeof="WebPage"><span property="name">SQL Statements: ALTER SYNONYM to COMMENT</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">AUDIT (Traditional Auditing) </li>
            </ol>
            <a id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD" name="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD"></a><a id="SQLRF53708"></a><a id="SQLRF53709"></a><a id="SQLRF53710"></a><a id="SQLRF53711"></a><a id="SQLRF53712"></a><a id="SQLRF53713"></a><a id="SQLRF53714"></a><a id="SQLRF53715"></a><a id="SQLRF53716"></a><a id="SQLRF53717"></a><a id="SQLRF53718"></a><a id="SQLRF53719"></a><a id="SQLRF53721"></a><a id="SQLRF53723"></a><a id="SQLRF53724"></a><a id="SQLRF53725"></a><a id="SQLRF53726"></a><a id="SQLRF53727"></a><a id="SQLRF53728"></a><a id="SQLRF53729"></a><a id="SQLRF53730"></a><a id="SQLRF53731"></a><a id="SQLRF55780"></a><a id="SQLRF53732"></a><a id="SQLRF56075"></a><a id="SQLRF53733"></a><a id="SQLRF55571"></a><a id="SQLRF53734"></a><a id="SQLRF56171"></a><a id="SQLRF53735"></a><a id="SQLRF53736"></a><a id="SQLRF53737"></a><a id="SQLRF53738"></a><a id="SQLRF53739"></a><a id="SQLRF53740"></a><a id="SQLRF53741"></a><a id="SQLRF53742"></a><a id="SQLRF53743"></a><a id="SQLRF53744"></a><a id="SQLRF53745"></a><a id="SQLRF01107"></a>
            
            <h2 id="SQLRF-GUID-ADF45B07-547A-4096-8144-50241FA2D8DD" class="sect2">AUDIT (Traditional Auditing) </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>This section describes the <code class="codeph">AUDIT</code> statement for <span class="bold">traditional</span> <span class="bold">auditing</span>, which is the same auditing functionality used in releases earlier than Oracle Database 12<span class="italic">c</span>.
                  </p>
                  <p>Beginning with Oracle Database 12<span class="italic">c</span>, Oracle introduces <span class="bold">unified</span> <span class="bold">auditing</span>, which provides a full set of enhanced auditing features. For backward compatibility, traditional auditing is still supported. However, Oracle recommends that you plan the migration of your existing audit settings to the new unified audit policy syntax. For new audit requirements, Oracle recommends that you use the new unified auditing. Traditional auditing may be desupported in a future major release.
                  </p>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-E6B840CB-FC57-44B4-887B-079B2C80BC93">
                     <p class="notep1">See Also:</p>
                     <p><a id="d291751e196" class="indexterm-anchor"></a><a href="AUDIT-Unified-Auditing.html#GUID-B24D6874-4053-4E66-8238-6CD0C87E9DCA">AUDIT (Unified Auditing)</a> for a description of the <code class="codeph">AUDIT</code> statement for unified auditing
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-64546826-4133-46E4-AC6D-DCD8A258EFBC">Purpose</p>
                  <p><a id="d291751e212" class="indexterm-anchor"></a>Use the <code class="codeph">AUDIT</code> statement to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Track the issuance of SQL statements in subsequent user sessions. You can track the issuance of a specific SQL statement or of all SQL statements authorized by a particular system privilege. Auditing operations on SQL statements apply only to subsequent sessions, not to current sessions. </p>
                     </li>
                     <li>
                        <p>Track operations on a specific schema object. Auditing operations on schema objects apply to current sessions as well as to subsequent sessions.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-970AAFD2-5EB4-454E-933E-1A19793FBC93">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d291751e231" class="indexterm-anchor"></a><a href="../arpls/DBMS_FGA.html#ARPLS015" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the <code class="codeph">DBMS_FGA</code> package, which lets you create and administer value-based auditing policies 
                           </p>
                        </li>
                        <li>
                           <p><a href="NOAUDIT-Traditional-Auditing.html#GUID-9D8EAF18-4AB3-4C04-8BF7-37BD0E15434D">NOAUDIT (Traditional Auditing)</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-137CF89A-CA37-4206-B9B8-16EF272C83D2">Prerequisites </p>
                  <p>To audit issuances of a SQL statement, you must have the <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> system privilege. However, the <code class="codeph">AUDIT</code> <code class="codeph">SYSTEM</code> system privilege is not required when you use the <code class="codeph">IN</code> <code class="codeph">SESSION</code> <code class="codeph">CURRENT</code> clause.
                  </p>
                  <p>To collect auditing results, you must enable auditing by setting the initialization parameter <code class="codeph">AUDIT_TRAIL</code> to a value other than the default setting of <code class="codeph">NONE</code>. You can specify auditing options regardless of whether auditing is enabled. However, Oracle Database does not generate audit records until you enable auditing.
                  </p>
                  <p>To audit operations on a schema object, the object you choose for auditing must be in your own schema or you must have <code class="codeph">AUDIT</code> <code class="codeph">ANY</code> system privilege. In addition, if the object you choose for auditing is a directory object, even if you created it, then you must have <code class="codeph">AUDIT</code> <code class="codeph">ANY</code> system privilege.
                  </p>
                  <p>When you are connected to a multitenant container database (CDB), you must have the privileges described in this section, either granted locally in the current container or granted commonly.</p>
                  <p>To specify the <code class="codeph">CONTAINER</code> clause, you must be connected to a multitenant container database (CDB). To specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>, the current container must be a pluggable database (PDB). To specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>, the current container must be the root.
                  </p>
                  <p><span class="bold">Notes on Using the AUDIT Statement in a CDB</span></p>
                  <p>When you issue the <code class="codeph">AUDIT</code> statement in a CDB, the database performs auditing as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you issue the <code class="codeph">AUDIT</code> statement when the current container is a PDB, then the database performs auditing in that PDB. If you specify the <code class="codeph"><span class="codeinlineitalic">auditing_by_clause</span></code>, then user must be a local user in the PDB or a common user. If you specify the <code class="codeph"><span class="codeinlineitalic">audit_schema_object_clause</span></code>, then the object must be a local object in the PDB.
                        </p>
                     </li>
                     <li>
                        <p>If you issue the <code class="codeph">AUDIT</code> statement when the current container is the root, then the database performs auditing across the entire CDB, that is, in the root and all PDBs. If you specify the <code class="codeph"><span class="codeinlineitalic">auditing_by_clause</span></code>, then user must be a common user. If you omit the <code class="codeph"><span class="codeinlineitalic">auditing_by_clause</span></code>, then all common users are audited. If you specify the <code class="codeph"><span class="codeinlineitalic">audit_schema_object_clause</span></code>, then the object must be a local object in the root or a common object.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-DD7382E5-540D-4EEF-BF96-14153DCBAEC1">
                     <p class="notep1">Note:</p>
                     <p><a id="d291751e367" class="indexterm-anchor"></a>The <code class="codeph">AUDIT</code> <code class="codeph">ANY</code> system privileges allows the grantee to audit any object in any schema except the <code class="codeph">SYS</code> schema. You can allow such a grantee to audit objects in the <code class="codeph">SYS</code> schema by setting the <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> initialization parameter to <code class="codeph">TRUE</code>. For security reasons, Oracle recommends that you use this setting only with great caution.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-CAB45AB8-27F9-4669-A727-FB99C614F64E">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/AUDIT_TRAIL.html#REFRN10006" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">AUDIT_TRAIL</code> parameter
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-FCD513B4-7016-47B2-8D0C-6050DD9D7667">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-071D7528-A362-4843-B7F1-7BF4DCAE7799"><span class="italic">audit</span>::=
                  </p>
                  <div class="figure" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-E402BE85-6E7F-4C6C-A784-7675A777DEFE"><img src="img/audit.gif" alt="Description of audit.eps follows" title="Description of audit.eps follows" longdesc="img_text/audit.html"><br><a href="img_text/audit.html">Description of the illustration audit.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-A11237D9-9F8D-4356-AE05-EBF54DD2AAD0"><span class="italic">audit_operation_clause</span>::=
                  </p><a id="d291751e417" class="indexterm-anchor"></a><a id="d291751e421" class="indexterm-anchor"></a><div class="figure" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-86C9EB02-1C8F-4677-85FC-09505B81D1E2"><img src="img/audit_operation_clause.gif" alt="Description of audit_operation_clause.eps follows" title="Description of audit_operation_clause.eps follows" longdesc="img_text/audit_operation_clause.html"><br><a href="img_text/audit_operation_clause.html">Description of the illustration audit_operation_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-07D28147-1E68-4A1B-B902-50DD96A241C5"><span class="italic">auditing_by_clause</span>::=
                  </p><a id="d291751e433" class="indexterm-anchor"></a><a id="d291751e439" class="indexterm-anchor"></a><div class="figure" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-57F8EBBE-F076-4F0C-B7FA-D9F7F6A5CA99"><img src="img/auditing_by_clause.gif" alt="Description of auditing_by_clause.eps follows" title="Description of auditing_by_clause.eps follows" longdesc="img_text/auditing_by_clause.html"><br><a href="img_text/auditing_by_clause.html">Description of the illustration auditing_by_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-EA2877D0-3845-4728-8EC5-A736910E81AA"><span class="italic">audit_schema_object_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-8827FD58-FDAC-4A9C-BA2D-4DECDEBFB9F0"><img src="img/audit_schema_object_clause.gif" alt="Description of audit_schema_object_clause.eps follows" title="Description of audit_schema_object_clause.eps follows" longdesc="img_text/audit_schema_object_clause.html"><br><a href="img_text/audit_schema_object_clause.html">Description of the illustration audit_schema_object_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-24306E64-3F20-4A07-9DC0-2ADF12E0234B"><span class="italic">auditing_on_clause</span>::=
                  </p><a id="d291751e461" class="indexterm-anchor"></a><a id="d291751e467" class="indexterm-anchor"></a><div class="figure" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-04CCC6A7-3CB7-43B5-855F-386C63D46D80"><img src="img/auditing_on_clause.gif" alt="Description of auditing_on_clause.eps follows" title="Description of auditing_on_clause.eps follows" longdesc="img_text/auditing_on_clause.html"><br><a href="img_text/auditing_on_clause.html">Description of the illustration auditing_on_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-6C49902C-6CCE-474C-9C84-D70E51E70B13">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-B5DE4452-30FA-4C3F-A209-46FF54F0D02A"><span class="italic">audit_operation_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">audit_operation_clause</code></span> to audit specified operations, regardless of the schema objects affected by the operations. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-E1DA34DB-39E4-4BFE-8333-F86F578A9C67"><span class="italic">sql_statement_shortcut</span></p>
                  <p>Specify a shortcut to audit the use of specific SQL statements. <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABEFEAC" title="The first column lists the statement option and the second column lists the SQL statements and operations">Table 12-1</a> and <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__G2274817" title="The first column lists the statement option and the second column lists the SQL statements and operations">Table 12-2</a> list the shortcuts and the SQL statements they audit.
                  </p>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-7C97B362-081F-4174-A6AB-97C1B24534AC">
                     <p class="notep1">Note:</p>
                     <p>Do not confuse SQL statement shortcuts with system privileges. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An <code class="codeph">AUDIT</code> <code class="codeph">USER</code> statement specifies the <code class="codeph">USER</code> <span class="italic">shortcut</span> for auditing of all <code class="codeph">CREATE</code> <code class="codeph">USER</code>, <code class="codeph">ALTER</code> <code class="codeph">USER</code>, and <code class="codeph">DROP</code> <code class="codeph">USER</code> SQL statements. Auditing in this case includes an operation in which a user changes his or her own password with an <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>An <code class="codeph">AUDIT</code> <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement specifies the <code class="codeph">ALTER</code> <code class="codeph">USER</code> <span class="italic">system privilege</span> for auditing of all operations that make use of that system privilege. Auditing in this case does <span class="italic">not</span> include an operation in which a user changes his or her own password, because that operation does not require the <code class="codeph">ALTER</code> <code class="codeph">USER</code> system privilege.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>For each audited operation, Oracle Database produces an audit record containing this information: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The user performing the operation </p>
                     </li>
                     <li>
                        <p>The type of operation </p>
                     </li>
                     <li>
                        <p>The object involved in the operation </p>
                     </li>
                     <li>
                        <p>The date and time of the operation </p>
                     </li>
                  </ul>
                  <p>Oracle Database writes audit records to the audit trail, which is a database table containing audit records. You can review database activity by examining the audit trail through data dictionary views.</p>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-B1A739E4-E0CB-4267-A0FD-FA86A6C1B75F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic">Oracle Database Security Guide 11g Release 2 (11.2)</span> for a listing of the audit trail data dictionary views. Refer to <a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD52813" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for instructions on how to locate the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) documentation.
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed descriptions of the data dictionary views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115960">Auditing SQL Statements Relating to Roles: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-7C9A490B-0214-4B6B-A050-CA89F35FDC49"><span class="italic">system_privilege</span></p>
                  <p>Specify a system privilege to audit SQL statements and other operations that are authorized by the specified system privilege. </p>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-D54FAA93-1FB1-44F9-A388-E6F27EF3AB90">
                     <p class="notep1">Note:</p>
                     <p>Auditing the use of a system privilege containing the <code class="codeph">ANY</code> keyword is more restrictive than auditing the use of the same privilege without the <code class="codeph">ANY</code> keyword. For example:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">AUDIT</code> <code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code> audits the statements issued using either the <code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code> or <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code> privilege.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AUDIT</code> <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code> audits only those statements issued using the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">PROCEDURE</code> privilege.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>Rather than specifying many individual system privileges, you can specify the roles <code class="codeph">CONNECT</code>, <code class="codeph">RESOURCE</code>, and <code class="codeph">DBA</code>. Doing so is equivalent to auditing all of the system privileges granted to those roles.
                  </p>
                  <p><a id="d291751e705" class="indexterm-anchor"></a><a id="d291751e709" class="indexterm-anchor"></a>Oracle Database also provides three shortcuts for specifying groups of system privileges and statement options at once:
                  </p>
                  <p><span class="bold">ALL</span></p>
                  <p>Specify <code class="codeph">ALL</code> to audit all statements options shown in <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABEFEAC" title="The first column lists the statement option and the second column lists the SQL statements and operations">Table 12-1</a> but not the additional statement options shown in <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__G2274817" title="The first column lists the statement option and the second column lists the SQL statements and operations">Table 12-2</a>.
                  </p>
                  <p><span class="bold">ALL STATEMENTS</span></p>
                  <p>Specify <code class="codeph">ALL</code> <code class="codeph">STATEMENTS</code> to audit all <a id="d291751e743" class="indexterm-anchor"></a><span class="bold">top-level SQL statements</span> executed. Top-level SQL statements are issued directly by a user. SQL statements run from within a PL/SQL procedure or function are not considered top-level statements. Therefore, this clause does not audit the statements executed within PL/SQL procedures or functions. However, the execution of the PL/SQL procedure or function itself is audited. This clause is useful if you want to audit all the statements in a specific environment, regardless of other auditing configurations that are system wide or user specific.
                  </p>
                  <p><span class="bold">ALL PRIVILEGES</span></p>
                  <p>Specify <code class="codeph">ALL</code> <code class="codeph">PRIVILEGES</code> to audit system privileges.
                  </p>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-763A6E2E-F3B9-4103-B153-1E5643CFC15D">
                     <p class="notep1">Note:</p>
                     <p>Oracle recommends that you specify individual system privileges and statement options for auditing rather than roles or shortcuts. The specific system privileges and statement options encompassed by roles and shortcuts change from one release to the next and may not be supported in future versions of Oracle Database.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-51F9988D-0364-4A20-8E88-4D354299DBE9">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="GRANT.html#GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3__BABEFFEE" title="Column 1 contains boldface subhead rows naming database objects. Cells under the subheads in column 1 itemize the system privileges relates to that database object. Column 2 describes the operations authorized by the system privilege.">Table 18-1</a> for a list of all system privileges and the operations that they authorize
                           </p>
                        </li>
                        <li>
                           <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG4414" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information on the <code class="codeph">CONNECT</code>, <code class="codeph">RESOURCE</code>, and <code class="codeph">DBA</code> roles
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115972">Auditing Query and Update SQL Statements: Example</a>"</span>, <span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115983">Auditing Deletions: Example</a>"</span>, and <span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115994">Auditing Statements Relating to Directories: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-3DC59B15-4440-4D78-9AB2-A559601026D6"><span class="italic">auditing_by_clause</span></p>
                  <p>Specify the <span class="italic"><code class="codeph">auditing_by_clause</code></span> to restrict auditing to only SQL statements issued by the specified users. If you omit this clause, then Oracle Database audits all users' statements. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-2E44806A-B96C-4A14-902C-9FA3C14D89CF">IN SESSION CURRENT</p>
                  <p>Use this clause to limit auditing to the current session. Auditing will persist until the end of the session and cannot be stopped using the <code class="codeph">NOAUDIT</code> statement.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-D6F787E7-A39A-480D-9891-1A98AD06EAF7"><span class="italic">audit_schema_object_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">audit_schema_object_clause</code></span> to audit operations on specific schema objects.
                  </p>
                  <p><span class="bold">Restriction on the</span> <span class="bold"><span class="italic">audit_schema_object_clause</span></span></p>
                  <p>When connected to a CDB, you can specify the <code class="codeph"><span class="codeinlineitalic">audit_schema_object_clause</span></code>, but you cannot also specify the <code class="codeph">CONTAINER</code> clause. This restriction does not limit functionality because the only allowed values for the <code class="codeph">CONTAINER</code> clause are the default values. Refer to <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__CONTAINERCLAUSE-A4065270">CONTAINER Clause</a> for more information.
                  </p>
                  <p><span class="bold"><span class="italic">sql_operation</span></span></p>
                  <p>Specify the SQL operation to be audited. <a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABCFIEA" title="This table lists database objects in the left-hand column and lists the object options valid with each datbase object in the right-hand column.">Table 12-3</a> shows the types of objects that can be audited, and for each object the SQL statements that can be audited. For example, if you choose to audit a table with the <code class="codeph">ALTER</code> operation, then Oracle Database audits all <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statements issued against the table. If you choose to audit a sequence with the <code class="codeph">SELECT</code> operation, then the database audits all statements that use any values of the sequence. 
                  </p>
                  <p><span class="bold">ALL</span></p>
                  <p>Specify <code class="codeph">ALL</code> as a shortcut equivalent to specifying all SQL operations applicable for the type of object.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-18E21866-EDD1-415F-8DEC-A2DD926DD6BB"><span class="italic">auditing_on_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">auditing_on_clause</code></span> lets you specify the particular schema object to be audited.
                  </p>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-383D111D-E2F1-4317-8550-BB498F07E7A0">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116010">Auditing Queries on a Table: Example</a>"</span>, <span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116021">Auditing Inserts and Updates on a Table: Example</a>"</span>, and <span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116032">Auditing Operations on a Sequence: Example</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Specify the schema containing the object chosen for auditing. If you omit <span class="italic"><code class="codeph">schema</code></span>, then Oracle Database assumes the object is in your own schema. 
                  </p>
                  <p><span class="bold"><span class="italic">object</span></span></p>
                  <p>Specify the name of the object to be audited. The object must be a table, view, sequence, stored procedure, function, package, materialized view, mining model, or library.</p>
                  <p>You can also specify a synonym for a table, view, sequence, procedure, stored function, package, materialized view, or user-defined type. </p>
                  <p><span class="bold">ON DEFAULT </span><a id="d291751e926" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">ON</code> <code class="codeph">DEFAULT</code> to establish the specified object options as default object options for subsequently created objects. After you have established these default auditing options, any subsequently created object is automatically audited with those options. The default auditing options for a view are always the union of the auditing options for the base tables of the view. You can see the current default auditing options by querying the <code class="codeph">ALL_DEF_AUDIT_OPTS</code> data dictionary view.
                  </p>
                  <p>When you change the default auditing options, the auditing options for previously created objects remain the same. You can change the auditing options for an existing object only by specifying the object in the <code class="codeph">ON</code> clause of the <code class="codeph">AUDIT</code> statement. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-05F4A277-8562-4AA8-9C86-5F47D9FCE3DF">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="AUDIT-Traditional-Auditing.html#GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116057">Setting Default Auditing Options: Example</a>"</span></p>
                  </div>
                  <p><span class="bold">ON DIRECTORY</span> <a id="d291751e959" class="indexterm-anchor"></a><a id="d291751e963" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">ON</code> <code class="codeph">DIRECTORY</code> clause lets you specify the name of a directory chosen for auditing.
                  </p>
                  <p><span class="bold">ON MINING MODEL</span> <a id="d291751e979" class="indexterm-anchor"></a><a id="d291751e983" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">ON</code> <code class="codeph">MINING</code> <code class="codeph">MODEL</code> clause lets you specify the name of a mining model to be audited.
                  </p>
                  <p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABEDDFH"><span class="bold">ON SQL TRANSLATION PROFILE</span><a id="d291751e1001" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">ON</code> <code class="codeph">SQL</code> <code class="codeph">TRANSLATION</code> <code class="codeph">PROFILE</code> clause lets you specify the name of a SQL translation profile to be audited.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-1E288FB2-62EB-4E3A-8627-D505B05C6D50">NETWORK</p>
                  <p><a id="d291751e1023" class="indexterm-anchor"></a><a id="d291751e1027" class="indexterm-anchor"></a>Use this clause to detect internal failures in the network layer.
                  </p>
                  <div class="infoboxnotealso" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-3CE84006-FBF7-4C75-B015-6434A7949DEE">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic">Oracle Database Security Guide 11g Release 2 (11.2)</span> for information on network auditing. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=UPGRD52813" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for instructions on how to locate the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) documentation.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-4CB11EE6-EFB8-4C2E-AC0B-717E14F2F7EB">DIRECT_PATH LOAD</p>
                  <p>Use this clause to audit SQL*Loader direct path loads.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-1B36CB75-9F87-4AEB-B770-2528DF084BAD">BY SESSION</p>
                  <p><a id="d291751e1054" class="indexterm-anchor"></a><a id="d291751e1058" class="indexterm-anchor"></a>In earlier releases, <code class="codeph">BY</code> <code class="codeph">SESSION</code> caused the database to write a single record for all SQL statements or operations of the same type executed on the same schema objects in the same session. Beginning with this release of Oracle Database, both <code class="codeph">BY</code> <code class="codeph">SESSION</code> and <code class="codeph">BY</code> <code class="codeph">ACCESS</code> cause Oracle Database to write one audit record for each audited statement and operation. <code class="codeph">BY</code> <code class="codeph">SESSION</code> continues to populate different values to the audit trail compared with <code class="codeph">BY</code> <code class="codeph">ACCESS</code>. Oracle recommends that you include the <code class="codeph">BY</code> <code class="codeph">ACCESS</code> clause for all <code class="codeph">AUDIT</code> statements, which results in a more detailed audit record. If you specify neither clause, then <code class="codeph">BY</code> <code class="codeph">ACCESS</code> is the default.
                  </p>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-8AD524C4-2FA4-43FF-AB26-F678F1039F7F">
                     <p class="notep1">Note:</p>
                     <p>This change applies only to schema object audit options, statement options and system privileges that audit SQL statements other than data definition language (DDL) statements. The database has always audited <code class="codeph">BY</code> <code class="codeph">ACCESS</code> all SQL statements and system privileges that audit a DDL statement.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-B2BC05E4-992A-49BA-BB01-5869735EB519">BY ACCESS</p>
                  <p><a id="d291751e1125" class="indexterm-anchor"></a><a id="d291751e1129" class="indexterm-anchor"></a>Specify <code class="codeph">BY</code> <code class="codeph">ACCESS</code> if you want Oracle Database to write one record for each audited statement and operation.
                  </p>
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-C8BD7C68-58C9-447D-B243-5239C991A1C4">
                     <p class="notep1">Note:</p>
                     <p>If you specify either a SQL statement shortcut or a system privilege that audits a data definition language (DDL) statement, then the database always audits by access. In all other cases, the database honors the <code class="codeph">BY</code> <code class="codeph">SESSION</code> or <code class="codeph">BY</code> <code class="codeph">ACCESS</code> specification.
                     </p>
                  </div>
                  <p>For statement options and system privileges that audit SQL statements other than DDL, you can specify either <code class="codeph">BY</code> <code class="codeph">SESSION</code> or <code class="codeph">BY</code> <code class="codeph">ACCESS</code>. <code class="codeph">BY</code> <code class="codeph">ACCESS</code> is the default. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-98324A81-01EB-4A74-8DD0-A71029DA7929">WHENEVER [NOT] SUCCESSFUL</p>
                  <p><a id="d291751e1182" class="indexterm-anchor"></a><a id="d291751e1186" class="indexterm-anchor"></a>Specify <code class="codeph">WHENEVER</code> <code class="codeph">SUCCESSFUL</code> to audit only SQL statements and operations that succeed. 
                  </p>
                  <p>Specify <code class="codeph">WHENEVER</code> <code class="codeph">NOT</code> <code class="codeph">SUCCESSFUL</code> to audit only SQL statements and operations that fail or result in errors.
                  </p>
                  <p>If you omit this clause, then Oracle Database performs the audit regardless of success or failure. </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__CONTAINERCLAUSE-A4065270">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-127DC3E2-483F-4378-BAE9-E5530E27C657">CONTAINER Clause</p>
                  <p>The <code class="codeph">CONTAINER</code> clause applies only when you are connected to a CDB. You can use this clause to specify the scope of the <code class="codeph">AUDIT</code> statement. However, it is not necessary to specify the <code class="codeph">CONTAINER</code> clause because its default values are the only allowed values.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>If you issue the <code class="codeph">AUDIT</code> statement when the current container is a PDB, then you can optionally specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>, which is the default.
                     </li>
                     <li>
                        <p>If you issue the <code class="codeph">AUDIT</code> statement when the current container is the root, then you can optionally specify <code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>, which is the default.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-416B84DF-9B68-4DAA-AEF7-DE01F24D763B">Tables of Auditing Options</p>
                  <div class="tblformal" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABEFEAC">
                     <p class="titleintable">Table 12-1 SQL Statement Shortcuts for Auditing</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SQL Statement Shortcuts for Auditing" summary="The first column lists the statement option and the second column lists the SQL statements and operations" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d291751e1270">SQL Statement Shortcut</th>
                              <th align="left" valign="bottom" width="67%" id="d291751e1273">SQL Statements and Operations Audited</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1278" headers="d291751e1270 ">
                                 <p><code class="codeph">ALTER SYSTEM</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1278 d291751e1273 ">
                                 <p><code class="codeph">ALTER SYSTEM</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1289" headers="d291751e1270 ">
                                 <p><code class="codeph">CLUSTER</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1289 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">CLUSTER</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">CLUSTER</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">CLUSTER</code></p>
                                 <p><code class="codeph">TRUNCATE</code> <code class="codeph">CLUSTER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1319" headers="d291751e1270 ">
                                 <p><code class="codeph">CONTEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1319 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">CONTEXT</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">CONTEXT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1337" headers="d291751e1270 ">
                                 <p><code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1337 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1373" headers="d291751e1270 ">
                                 <p><code class="codeph">DIMENSION</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1373 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">DIMENSION</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">DIMENSION</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">DIMENSION</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1397" headers="d291751e1270 ">
                                 <p><code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1397 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1415" headers="d291751e1270 ">
                                 <p><code class="codeph">INDEX</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1415 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">INDEX</code></p>
                                 <p><code class="codeph">ANALYZE INDEX</code> 
                                 </p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">INDEX</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1443" headers="d291751e1270 ">
                                 <p><code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1443 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1480" headers="d291751e1270 ">
                                 <p><code class="codeph">NOT</code> <code class="codeph">EXISTS</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1480 d291751e1273 ">
                                 <p>All SQL statements that fail because a specified object does not exist.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1491" headers="d291751e1270 ">
                                 <p><code class="codeph">OUTLINE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1491 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">OUTLINE</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">OUTLINE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">OUTLINE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1515" headers="d291751e1270 ">
                                 <p><code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1515 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1552" headers="d291751e1270 ">
                                 <p><code class="codeph">PROCEDURE</code> (See note at end of table)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1552 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">FUNCTION</code></p>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code></p>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PACKAGE</code></p>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PACKAGE</code> <code class="codeph">BODY</code></p>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PROCEDURE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">FUNCTION</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">LIBRARY</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PACKAGE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PROCEDURE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1616" headers="d291751e1270 ">
                                 <p><code class="codeph">PROFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1616 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PROFILE</code></p>
                                 <p><code class="codeph">ALTER PROFILE</code></p>
                                 <p><code class="codeph">DROP PROFILE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1634" headers="d291751e1270 ">
                                 <p><code class="codeph">PUBLIC</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1634 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PUBLIC</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">PUBLIC</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PUBLIC</code> <code class="codeph">DATABASE</code> <code class="codeph">LINK</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1682" headers="d291751e1270 ">
                                 <p><code class="codeph">PUBLIC</code> <code class="codeph">SYNONYM</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1682 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">PUBLIC</code> <code class="codeph">SYNONYM</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">PUBLIC</code> <code class="codeph">SYNONYM</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1709" headers="d291751e1270 ">
                                 <p><code class="codeph">ROLE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1709 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">ROLE</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">ROLE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">ROLE</code></p>
                                 <p><code class="codeph">SET</code> <code class="codeph">ROLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1739" headers="d291751e1270 ">
                                 <p><code class="codeph">ROLLBACK SEGMENT</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1739 d291751e1273 ">
                                 <p><code class="codeph">CREATE ROLLBACK SEGMENT</code></p>
                                 <p><code class="codeph">ALTER ROLLBACK SEGMENT</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">ROLLBACK</code> <code class="codeph">SEGMENT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1760" headers="d291751e1270 ">
                                 <p><code class="codeph">SEQUENCE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1760 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">SEQUENCE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">SEQUENCE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1778" headers="d291751e1270 ">
                                 <p><code class="codeph">SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1778 d291751e1273 ">
                                 <p>Logons</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1786" headers="d291751e1270 ">
                                 <p><code class="codeph">SYNONYM</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1786 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">SYNONYM</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">SYNONYM</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1804" headers="d291751e1270 ">
                                 <p><code class="codeph">SYSTEM AUDIT</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1804 d291751e1273 ">
                                 <p><code class="codeph">AUDIT</code> <span class="italic"><code class="codeph">sql_statements</code></span></p>
                                 <p><code class="codeph">NOAUDIT</code> <span class="italic"><code class="codeph">sql_statements</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1824" headers="d291751e1270 ">
                                 <p><code class="codeph">SYSTEM GRANT</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1824 d291751e1273 ">
                                 <p><code class="codeph">GRANT</code> <span class="italic"><code class="codeph">system_privileges_and_roles</code></span></p>
                                 <p><code class="codeph">REVOKE</code> <span class="italic"><code class="codeph">system_privileges_and_roles</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1845" headers="d291751e1270 ">
                                 <p><code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1845 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">TABLE</code></p>
                                 <p><code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1869" headers="d291751e1270 ">
                                 <p><code class="codeph">TABLESPACE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1869 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1893" headers="d291751e1270 ">
                                 <p><code class="codeph">TRIGGER</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1893 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TRIGGER</code> 
                                 </p>
                                 <p>&nbsp;&nbsp;&nbsp;with <code class="codeph">ENABLE</code> and <code class="codeph">DISABLE</code> clauses
                                 </p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">TRIGGER</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code></p>
                                 <p>&nbsp;&nbsp;&nbsp;with <code class="codeph">ENABLE</code> <code class="codeph">ALL</code> <code class="codeph">TRIGGERS</code> clause
                                 </p>
                                 <p>&nbsp;&nbsp;&nbsp;and <code class="codeph">DISABLE</code> <code class="codeph">ALL</code> <code class="codeph">TRIGGERS </code>clause
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1954" headers="d291751e1270 ">
                                 <p><code class="codeph">TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1954 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">TYPE</code></p>
                                 <p><code class="codeph">CREATE</code> <code class="codeph">TYPE</code> <code class="codeph">BODY</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TYPE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">TYPE</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">TYPE</code> <code class="codeph">BODY</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e1996" headers="d291751e1270 ">
                                 <p><code class="codeph">USER</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e1996 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">USER</code></p>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">USER</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">USER</code></p>
                                 <p><span class="bold">Notes:</span></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">AUDIT</code> <code class="codeph">USER</code> audits these three SQL statements. Use <code class="codeph">AUDIT</code> <code class="codeph">ALTER</code> <code class="codeph">USER</code> to audit statements that require the <code class="codeph">ALTER</code> <code class="codeph">USER</code> system privilege.
                                       </p>
                                    </li>
                                    <li>
                                       <p>An <code class="codeph">AUDIT</code> <code class="codeph">ALTER</code> <code class="codeph">USER</code> statement does not audit a user changing his or her own password, as this activity does not require the <code class="codeph">ALTER</code> <code class="codeph">USER</code> system privilege.
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d291751e2066" headers="d291751e1270 ">
                                 <p><code class="codeph">VIEW</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d291751e2066 d291751e1273 ">
                                 <p><code class="codeph">CREATE</code> <code class="codeph">VIEW</code></p>
                                 <p><code class="codeph">DROP</code> <code class="codeph">VIEW</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-C78AF2EF-D22C-43F2-A2B4-C2AECA36CED6">
                     <p class="notep1">Note:</p>
                     <p>Java schema objects (sources, classes, and resources) are considered the same as procedures for purposes of auditing SQL statements.</p>
                  </div>
                  <div class="tblformal" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__G2274817">
                     <p class="titleintable">Table 12-2 Additional SQL Statement Shortcuts for Auditing</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Additional SQL Statement Shortcuts for Auditing" summary="The first column lists the statement option and the second column lists the SQL statements and operations" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d291751e2096">SQL Statement Shortcut</th>
                              <th align="left" valign="bottom" width="66%" id="d291751e2099">SQL Statements and Operations Audited</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2104" headers="d291751e2096 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">SEQUENCE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2104 d291751e2099 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">SEQUENCE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2119" headers="d291751e2096 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2119 d291751e2099 ">
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2134" headers="d291751e2096 ">
                                 <p><code class="codeph">COMMENT</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2134 d291751e2099 ">
                                 <p><code class="codeph">COMMENT</code> <code class="codeph">ON</code> <code class="codeph">TABLE</code> <span class="italic"><code class="codeph">table</code></span><span class="italic">, </span><span class="italic"><code class="codeph">view</code></span><span class="italic">, </span><span class="italic"><code class="codeph">materialized</code></span><span class="italic"> </span><span class="italic"><code class="codeph">view</code></span></p>
                                 <p><code class="codeph">COMMENT</code> <code class="codeph">ON</code> <code class="codeph">COLUMN</code> <span class="italic"><code class="codeph">table</code></span><span class="italic">.</span><span class="italic"><code class="codeph">column</code></span><span class="italic">, </span><span class="italic"><code class="codeph">view</code></span><span class="italic">.</span><span class="italic"><code class="codeph">column</code></span><span class="italic">, </span><span class="italic"><code class="codeph">materialized</code></span><span class="italic"> </span><span class="italic"><code class="codeph">view</code></span><span class="italic">.</span><span class="italic"><code class="codeph">column</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2216" headers="d291751e2096 ">
                                 <p><code class="codeph">DELETE</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2216 d291751e2099 ">
                                 <p><code class="codeph">DELETE</code> <code class="codeph">FROM</code> <span class="italic"><code class="codeph">table</code></span>, <span class="italic"><code class="codeph">view</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2239" headers="d291751e2096 ">
                                 <p><code class="codeph">EXECUTE</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2239 d291751e2099 ">
                                 <p>Execution of any program in a directory</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2250" headers="d291751e2096 ">
                                 <p><code class="codeph">EXECUTE</code> <code class="codeph">PROCEDURE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2250 d291751e2099 ">
                                 <p><code class="codeph">CALL</code></p>
                                 <p>Execution of any procedure or function or access to any variable, library, or cursor inside a package</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2264" headers="d291751e2096 ">
                                 <p><code class="codeph">GRANT</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2264 d291751e2099 ">
                                 <p><code class="codeph">GRANT</code> privilege <code class="codeph">ON</code> directory
                                 </p>
                                 <p><code class="codeph">REVOKE</code> privilege <code class="codeph">ON</code> directory
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2287" headers="d291751e2096 ">
                                 <p><code class="codeph">GRANT</code> <code class="codeph">PROCEDURE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2287 d291751e2099 ">
                                 <p><code class="codeph">GRANT</code> privilege <code class="codeph">ON</code> procedure, function, package 
                                 </p>
                                 <p><code class="codeph">REVOKE</code> privilege <code class="codeph">ON</code> procedure, function, package
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2310" headers="d291751e2096 ">
                                 <p><code class="codeph">GRANT</code> <code class="codeph">SEQUENCE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2310 d291751e2099 ">
                                 <p><code class="codeph">GRANT</code> privilege <code class="codeph">ON</code> sequence
                                 </p>
                                 <p><code class="codeph">REVOKE</code> privilege <code class="codeph">ON</code> sequence
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2333" headers="d291751e2096 ">
                                 <p><code class="codeph">GRANT</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2333 d291751e2099 ">
                                 <p><code class="codeph">GRANT</code> privilege <code class="codeph">ON</code> table, view, materialized view
                                 </p>
                                 <p><code class="codeph">REVOKE</code> privilege <code class="codeph">ON</code> table, view, materialized view
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2356" headers="d291751e2096 ">
                                 <p><code class="codeph">GRANT</code> <code class="codeph">TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2356 d291751e2099 ">
                                 <p><code class="codeph">GRANT</code> privilege <code class="codeph">ON</code> <code class="codeph">TYPE</code></p>
                                 <p><code class="codeph">REVOKE</code> privilege <code class="codeph">ON</code> <code class="codeph">TYPE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2384" headers="d291751e2096 ">
                                 <p><code class="codeph">INSERT</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2384 d291751e2099 ">
                                 <p><code class="codeph">INSERT</code> <code class="codeph">INTO</code> table, view
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2400" headers="d291751e2096 ">
                                 <p><code class="codeph">LOCK</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2400 d291751e2099 ">
                                 <p><code class="codeph">LOCK</code> <code class="codeph">TABLE</code> table, view
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2416" headers="d291751e2096 ">
                                 <p><code class="codeph">READ</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2416 d291751e2099 ">
                                 <p>Read operations on a directory</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2427" headers="d291751e2096 ">
                                 <p><code class="codeph">SELECT</code> <code class="codeph">SEQUENCE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2427 d291751e2099 ">
                                 <p>Any statement containing <span class="italic"><code class="codeph">sequence</code></span>.<code class="codeph">CURRVAL</code> or <span class="italic"><code class="codeph">sequence</code></span>.<code class="codeph">NEXTVAL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2451" headers="d291751e2096 ">
                                 <p><code class="codeph">SELECT</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2451 d291751e2099 ">
                                 <p><code class="codeph">SELECT</code> <code class="codeph">FROM</code> table, view, materialized view
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2467" headers="d291751e2096 ">
                                 <p><code class="codeph">UPDATE</code> <code class="codeph">TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2467 d291751e2099 ">
                                 <p><code class="codeph">UPDATE</code> table, view
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d291751e2480" headers="d291751e2096 ">
                                 <p><code class="codeph">WRITE</code> <code class="codeph">DIRECTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d291751e2480 d291751e2099 ">
                                 <p>Write operations on a directory</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__BABCFIEA">
                     <p class="titleintable">Table 12-3 Schema Object Auditing Options</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Schema Object Auditing Options" summary="This table lists database objects in the left-hand column and lists the object options valid with each datbase object in the right-hand column." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d291751e2500">Object</th>
                              <th align="left" valign="bottom" width="69%" id="d291751e2503">SQL Operations</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2508" headers="d291751e2500 ">
                                 <p><span class="bold">Table</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2508 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">ALTER</code></li>
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">COMMENT</code></li>
                                    <li><code class="codeph">DELETE</code></li>
                                    <li><code class="codeph">FLASHBACK</code> (Note 1)
                                    </li>
                                    <li><code class="codeph">GRANT</code></li>
                                    <li><code class="codeph">INDEX</code></li>
                                    <li><code class="codeph">INSERT</code></li>
                                    <li><code class="codeph">LOCK</code></li>
                                    <li><code class="codeph">RENAME</code></li>
                                    <li><code class="codeph">SELECT</code></li>
                                    <li><code class="codeph">UPDATE</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2553" headers="d291751e2500 ">
                                 <p><span class="bold">View</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2553 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">COMMENT</code></li>
                                    <li><code class="codeph">DELETE</code></li>
                                    <li><code class="codeph">FLASHBACK</code> (Note 1)
                                    </li>
                                    <li><code class="codeph">GRANT</code></li>
                                    <li><code class="codeph">INSERT</code></li>
                                    <li><code class="codeph">LOCK</code></li>
                                    <li><code class="codeph">RENAME</code></li>
                                    <li><code class="codeph">SELECT</code></li>
                                    <li><code class="codeph">UPDATE</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2591" headers="d291751e2500 ">
                                 <p><span class="bold">Sequence</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2591 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">ALTER</code></li>
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">GRANT</code></li>
                                    <li><code class="codeph">SELECT</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2610" headers="d291751e2500 ">
                                 <p><span class="bold">Procedure, Function, Package</span> (Note 2)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2610 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">EXECUTE</code> (Notes 3 and 4)
                                    </li>
                                    <li><code class="codeph">GRANT</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2628" headers="d291751e2500 ">
                                 <p><span class="bold">Materialized View</span> (Note 5)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2628 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">ALTER</code></li>
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">COMMENT</code></li>
                                    <li><code class="codeph">DELETE</code></li>
                                    <li><code class="codeph">INDEX</code></li>
                                    <li><code class="codeph">INSERT</code></li>
                                    <li><code class="codeph">LOCK</code></li>
                                    <li><code class="codeph">SELECT</code></li>
                                    <li><code class="codeph">UPDATE</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2663" headers="d291751e2500 ">
                                 <p><span class="bold">Mining Model</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2663 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">COMMENT</code></li>
                                    <li><code class="codeph">GRANT</code></li>
                                    <li><code class="codeph">RENAME</code></li>
                                    <li><code class="codeph">SELECT</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2685" headers="d291751e2500 ">
                                 <p><span class="bold">Directory</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2685 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">GRANT</code></li>
                                    <li><code class="codeph">READ</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2701" headers="d291751e2500 ">
                                 <p><span class="bold">Library</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2701 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">EXECUTE</code></li>
                                    <li><code class="codeph">GRANT</code></li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d291751e2714" headers="d291751e2500 ">
                                 <p><span class="bold">Object Type</span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d291751e2714 d291751e2503 ">
                                 <ul class="simple" style="list-style-type: none;padding-left:0;">
                                    <li><code class="codeph">ALTER</code></li>
                                    <li><code class="codeph">AUDIT</code></li>
                                    <li><code class="codeph">GRANT</code></li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Note 1: The <code class="codeph">FLASHBACK</code> audit object option applies only to flashback queries.
                  </p>
                  <p>Note 2: Java schema objects (sources, classes, and resources) are considered the same as procedures, functions, and packages for purposes of auditing options.</p>
                  <p>Note 3: When you audit the <code class="codeph">EXECUTE</code> operation on a PL/SQL stored procedure or stored function, the database considers only its ability to find the procedure or function and authorize its execution when determining the success or failure of the operation for the purposes of auditing. Therefore, if you specify the <code class="codeph">WHENEVER</code> <code class="codeph">NOT</code> <code class="codeph">SUCCESSFUL</code> clause, then only invalid object errors, non-existent object errors, and authorization failures are audited; errors encountered during the execution of the procedure or function are not audited. If you specify the <code class="codeph">WHENEVER</code> <code class="codeph">SUCCESSFUL</code> clause, then all executions that are not blocked by invalid object errors, non-existent object errors, or authorization failures are audited, regardless of whether errors are encountered during execution.
                  </p>
                  <p>Note 4: To audit the failure of a recursive SQL operation inside a PL/SQL stored procedure or stored function, configure auditing for the SQL operation.</p>
                  <p>Note 5: You can audit <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> operations only on updatable materialized views.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__GUID-95986F02-D115-46D6-9DA1-7CBEE1CC8C6E">Examples</p>
                  <p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115960"><span class="bold">Auditing SQL Statements Relating to Roles: Example</span> 
                  </p>
                  <p>To choose auditing for every SQL statement that creates, alters, drops, or sets a role, regardless of whether the statement completes successfully, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">AUDIT ROLE; 
</pre><p>To choose auditing for every statement that successfully creates, alters, drops, or sets a role, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">AUDIT ROLE
    WHENEVER SUCCESSFUL; 
</pre><p>To choose auditing for every <code class="codeph">CREATE</code> <code class="codeph">ROLE</code>, <code class="codeph">ALTER</code> <code class="codeph">ROLE</code>, <code class="codeph">DROP</code> <code class="codeph">ROLE</code>, or <code class="codeph">SET</code> <code class="codeph">ROLE</code> statement that results in an Oracle Database error, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT ROLE
    WHENEVER NOT SUCCESSFUL; </pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115972"><span class="bold">Auditing Query and Update SQL Statements: Example</span></p>
                  <p>To choose auditing for any statement that queries or updates any table, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">AUDIT SELECT TABLE, UPDATE TABLE; 
</pre><p>To choose auditing for statements issued by the users <code class="codeph">hr</code> and <code class="codeph">oe</code> that query or update a table or view, issue the following statement
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT SELECT TABLE, UPDATE TABLE
    BY hr, oe; </pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115983"><span class="bold">Auditing Deletions: Example</span></p>
                  <p>To choose auditing for statements issued using the <code class="codeph">DELETE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT DELETE ANY TABLE; </pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2115994"><span class="bold">Auditing Statements Relating to Directories: Examples</span></p>
                  <p>To choose auditing for statements issued using the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code> system privilege, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT CREATE ANY DIRECTORY;
</pre><p>To choose auditing for <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> (and <code class="codeph">DROP</code> <code class="codeph">DIRECTORY</code>) statements that do not use the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code> system privilege, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT DIRECTORY;
</pre><p>To choose auditing for every statement that reads files from the <code class="codeph">bfile_dir</code> directory, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT READ ON DIRECTORY bfile_dir;</pre><p>To choose auditing for every statement that reads files from any directory, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">AUDIT READ DIRECTORY;</pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116010"><span class="bold">Auditing Queries on a Table: Example</span></p>
                  <p>To choose auditing for every SQL statement that queries the <code class="codeph">employees</code> table in the schema <code class="codeph">hr</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT SELECT
    ON hr.employees; 
</pre><p>To choose auditing for every statement that successfully queries the <code class="codeph">employees</code> table in the schema <code class="codeph">hr</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT SELECT 
    ON hr.employees
    WHENEVER SUCCESSFUL; 
</pre><p>To choose auditing for every statement that queries the <code class="codeph">employees</code> table in the schema <code class="codeph">hr</code> and results in an Oracle Database error, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT SELECT 
    ON hr.employees
    WHENEVER NOT SUCCESSFUL; </pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116021"><span class="bold">Auditing Inserts and Updates on a Table: Example</span></p>
                  <p>To choose auditing for every statement that inserts or updates a row in the <code class="codeph">customers</code> table in the schema <code class="codeph">oe</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT INSERT, UPDATE
    ON oe.customers; </pre><p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116032"><span class="bold">Auditing Operations on a Sequence: Example</span></p>
                  <p>To choose auditing for every statement that performs any operation on the <code class="codeph">employees_seq</code> sequence in the schema <code class="codeph">hr</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">AUDIT ALL
    ON hr.employees_seq; 
</pre><p>The preceding statement uses the <code class="codeph">ALL</code> shortcut to choose auditing for the following statements that operate on the sequence:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">SEQUENCE</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">AUDIT</code> 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">GRANT</code> 
                        </p>
                     </li>
                     <li>
                        <p>any statement that accesses the values of the sequence using the pseudocolumns <code class="codeph">CURRVAL</code> or <code class="codeph">NEXTVAL</code> 
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-ADF45B07-547A-4096-8144-50241FA2D8DD__I2116057"><span class="bold">Setting Default Auditing Options: Example</span></p>
                  <p>The following statement specifies default auditing options for objects created in the future:</p><pre class="oac_no_warn" dir="ltr">AUDIT ALTER, GRANT, INSERT, UPDATE, DELETE
    ON DEFAULT; 
</pre><p>Any objects created later are automatically configured for audit with the specified options that apply to them. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you create a table, then Oracle Database automatically configures audit options <code class="codeph">ALTER</code>, <code class="codeph">GRANT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> issued against the table. 
                        </p>
                     </li>
                     <li>
                        <p>If you create a view, then Oracle Database automatically configures audit options <code class="codeph">GRANT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> against the view. 
                        </p>
                     </li>
                     <li>
                        <p>If you create a sequence, then Oracle Database automatically configures audit options <code class="codeph">ALTER</code> or <code class="codeph">GRANT</code> against the sequence. 
                        </p>
                     </li>
                     <li>
                        <p>If you create a procedure, package, or function, then Oracle Database automatically configures audit options <code class="codeph">ALTER</code> or <code class="codeph">GRANT</code> against it. 
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='02643.using-real-application-security-in-java-applications.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Real Application Security in Java Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-data-security.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-fusion-middleware-integration-with-real-application-security.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-data-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-fusion-middleware-integration-with-real-application-security.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Real Application Security in Java Applications </li>
            </ol>
            <a id="GUID-2FCEEFB5-83DC-4D5A-982A-690C8DCC4181" name="GUID-2FCEEFB5-83DC-4D5A-982A-690C8DCC4181"></a><a id="DBFSG99844"></a>
            
            <h2 id="DBFSG-GUID-2FCEEFB5-83DC-4D5A-982A-690C8DCC4181" class="sect2"><span class="enumeration_chapter">6 </span>Using Real Application Security in Java Applications 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This chapter describes how to use Real Application Security in Java applications. This chapter contains the following sections:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-F003B955-1845-41BE-B818-02CDC6231EBA">About Initializing the Middle Tier</a></p>
                     </li>
                     <li>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-BC164147-DE1C-4E73-84B7-715540C5FC88">About Managing Real Application Security Sessions</a></p>
                     </li>
                     <li>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F">Authenticating Application Users Using Java APIs</a></p>
                     </li>
                     <li>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-A3A5BE47-E770-4206-8DA8-4A9D70FA89E3">About Authorizing Application Users Using ACLs</a></p>
                     </li>
                     <li>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3">Human Resources Administration Use Case: Implementation in Java</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99845"></a><div class="props_rev_3"><a id="GUID-F003B955-1845-41BE-B818-02CDC6231EBA" name="GUID-F003B955-1845-41BE-B818-02CDC6231EBA"></a><h3 id="DBFSG-GUID-F003B955-1845-41BE-B818-02CDC6231EBA" class="sect3">About Initializing the Middle Tier</h3>
               <div>
                  <p>The <code class="codeph">XSSessionManager</code> class manages the life cycle of the session. It provides methods to create, attach, assign, detach, and destroy sessions. It also provides methods to perform cache activities.
                  </p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-2DA94DA8-FCA0-44CD-A59C-68CC2D42B315">About Mid-Tier Configuration Mode</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-565444BC-7235-4E94-9D67-B6640330B958">Using the getSessionManager Method</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-910C7955-080E-4DD2-9C6E-4B4FFF61FEEE">About Changing the Middle-Tier Cache Setting</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG464"></a><div class="props_rev_3"><a id="GUID-2DA94DA8-FCA0-44CD-A59C-68CC2D42B315" name="GUID-2DA94DA8-FCA0-44CD-A59C-68CC2D42B315"></a><h4 id="DBFSG-GUID-2DA94DA8-FCA0-44CD-A59C-68CC2D42B315" class="sect4">About Mid-Tier Configuration Mode</h4>
                  <div>
                     <p>You can use <a id="d28828e385" class="indexterm-anchor"></a>one mid-tier configuration mode: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Dispatcher mode - get a session manager with dispatcher connections</p>
                        </li>
                     </ul>
                     <p>In dispatcher mode, the dispatcher user must have session administration and cache access privileges. The application user does not need any session or cache privilege. The two predefined database roles, <code class="codeph">xs_session_admin</code> and <code class="codeph">xs_cache_admin</code>, can be granted to the dispatcher.
                     </p>
                     <p>For best security practices, the application user should be given the least amount of privilege, therefore dispatcher mode is the recommended mid-tier configuration.</p>
                  </div>
               </div><a id="DBFSG462"></a><a id="DBFSG463"></a><a id="DBFSG99848"></a><a id="DBFSG99846"></a><div class="props_rev_3"><a id="GUID-565444BC-7235-4E94-9D67-B6640330B958" name="GUID-565444BC-7235-4E94-9D67-B6640330B958"></a><h4 id="DBFSG-GUID-565444BC-7235-4E94-9D67-B6640330B958" class="sect4">Using the getSessionManager Method</h4>
                  <div>
                     <div class="section">
                        <p>There is one way to get a session manager following the mid-tier configuration mode described in <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-2DA94DA8-FCA0-44CD-A59C-68CC2D42B315">About Mid-Tier Configuration Mode</a>"</span>: 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Pass a connection or a pool of connections of the dispatcher user. In this way, the needed privileges are granted to the dispatcher. The two predefined roles, <code class="codeph">xs_session_admin</code> and <code class="codeph">xs_cache_admin</code>, should be granted to the dispatcher user. The dispatcher user is a direct logon Real Application Security user.
                              </p>
                           </li>
                        </ul>
                        <p>Using the dispatcher mode, you can initiate the Real Application Security middle tier by getting an instance of the session manager (see <a href="using-real-application-security-in-java-applications.html#GUID-565444BC-7235-4E94-9D67-B6640330B958__BGBGGGIC">Example 6-1</a>). Use the <code class="codeph">getSessionManager</code> method (in bold typeface) of the <code class="codeph">XSSessionManager</code> class to get an instance of the session manager. This method initializes a Real Application Security session manager by using either a single connection or a pool of connections. The caller of the <code class="codeph">getSessionManager</code> method should have the Java Authentication and Authorization Service (JAAS) permission <code class="codeph">XSSecurityPermission("initSecurityManager")</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-565444BC-7235-4E94-9D67-B6640330B958__BGBJBIGB">
                        <p class="subhead3" id="GUID-565444BC-7235-4E94-9D67-B6640330B958__GUID-6C0162EE-0531-4A66-BDDE-550C195E2772">Privileges for the Session Manager</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Real Application Security session manager is initialized with a connection of a privileged user, who authorizes the session operations on behalf of the regular Real Application Security application users. If the session manager has the session operation privileges, then, each application user under the session manager does not need to have session operation privileges, and the application user's session operations can be performed as a trusted party. The session manager authorizes session operations for a connection, so you do not need to grant the <code class="codeph">createSession</code> and <code class="codeph">attachToSession</code> privileges directly to the regular Real Application Security application user. This session manager must have the following privileges:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Real Application Security database object privileges to manage cached data in the middle tier.</p>
                           </li>
                           <li>
                              <p>Session life cycle management privileges for the session manager to create or attach sessions on behalf of Real Application Security application user and external users.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-565444BC-7235-4E94-9D67-B6640330B958__GUID-2C6CCE2C-C4C2-42A7-9E5B-B898DD15E5CC">Roles for the Session Manager</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The session manager needs the following two roles to have the privileges mentioned in <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-565444BC-7235-4E94-9D67-B6640330B958__BGBJBIGB">Privileges for the Session Manager</a>"</span>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A database role <code class="codeph">xs_cache_admin</code> with the following privileges:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Privilege to query Real Application Security entities and to synchronize metadata</p>
                                 </li>
                                 <li>
                                    <p>Privilege to execute code for the key exchange</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>A Real Application Security role, <code class="codeph">xs_session_admin</code>, with <code class="codeph">ADMIN_SESSION</code> privilege
                              </p>
                           </li>
                        </ul>
                        <p>These roles are predefined in the system.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-565444BC-7235-4E94-9D67-B6640330B958__BGBGGGIC">
                        <p class="titleinexample">Example 6-1 How to Get an Instance of the Session Manager in Java Using a Single Connection</p><pre class="oac_no_warn" dir="ltr">static XSSessionManager manager;
static Connection dispatcherConn = null;
int cacheMaxIdleTime=30;
int cacheMaxsize=2048000;
String host;
String port;
String sid;
...
dispatcherConn = DriverManager.getConnection("jdbc:oracle:thin:@" + host + ":" + port + ":" + sid, dispatcherUser, dispatcherPassword);
...
<span class="bold">manager = XSSessionManager.getSessionManager(dispatcherConn, cacheMaxIdleTime, cacheMaxsize);</span>
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99849"></a><div class="props_rev_3"><a id="GUID-910C7955-080E-4DD2-9C6E-4B4FFF61FEEE" name="GUID-910C7955-080E-4DD2-9C6E-4B4FFF61FEEE"></a><h4 id="DBFSG-GUID-910C7955-080E-4DD2-9C6E-4B4FFF61FEEE" class="sect4">About Changing the Middle-Tier Cache Setting</h4>
                  <div>
                     <p>Once the session manager is initialized, it starts to add some data like the ACL and Security class information to the cache. This cache data can be reused. The cache is initialized with its default settings that can be changed later.</p>
                     <div class="p">This section describes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-7F9509F7-6BFF-449B-A817-95E7969CAB73">About Setting the Maximum Cache Idle Time</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-AA44F843-8DB3-470C-9BF6-B82B86E4666E">About Setting the Maximum Cache Size</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-52D7EF79-6554-4086-B62E-9AEBFD6F0C50">About Getting the Maximum Cache Idle Time</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-8692B1EC-5636-4D40-A16C-39FB49C02456">About Getting the Maximum Cache Size</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-5328F766-CB95-4B39-AA3B-7D95C611EE44">About Removing Entries from the Cache</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-8101F9C6-43ED-4209-AB56-F28DEB35FC9E">About Clearing the Cache</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99850"></a><div class="props_rev_3"><a id="GUID-7F9509F7-6BFF-449B-A817-95E7969CAB73" name="GUID-7F9509F7-6BFF-449B-A817-95E7969CAB73"></a><h5 id="DBFSG-GUID-7F9509F7-6BFF-449B-A817-95E7969CAB73" class="sect5">About Setting the Maximum Cache Idle Time</h5>
                     <div>
                        <p>To set the <a id="d28828e899" class="indexterm-anchor"></a>maximum cache idle time, use the <code class="codeph">setCacheMaxIdleTime</code> method of the <code class="codeph">XSSessionManager</code> class. The <code class="codeph">setCacheMaxIdleTime</code> method sets the maximum number of minutes that the cache can go without updating.
                        </p>
                        <p>If an attempt is made to fetch objects from the cache and the <code class="codeph">XSSessionManager</code> has not called the <code class="codeph">updateCache</code> method for a period of time equal to the value set by the <code class="codeph">setCacheMaxIdleTime</code> method, then, before returning any objects, the <code class="codeph">updateCache</code> method is invoked forcefully to check that all the cached objects are still valid. The caller of the <code class="codeph">setCacheMaxIdleTime</code> method must have the JAAS permission <code class="codeph">XSSecurityPermission("setCacheMaxIdleTime")</code>.
                        </p>
                     </div>
                  </div><a id="DBFSG99851"></a><div class="props_rev_3"><a id="GUID-AA44F843-8DB3-470C-9BF6-B82B86E4666E" name="GUID-AA44F843-8DB3-470C-9BF6-B82B86E4666E"></a><h5 id="DBFSG-GUID-AA44F843-8DB3-470C-9BF6-B82B86E4666E" class="sect5">About Setting the Maximum Cache Size</h5>
                     <div>
                        <p>To set the <a id="d28828e1050" class="indexterm-anchor"></a>maximum cache size, use the <code class="codeph">setCacheMaxSize</code> method of the <code class="codeph">XSSessionManager</code> class. This method sets the size of the cache on the middle tier.
                        </p>
                        <p>The default size of the cache is 10MB. The minimum cache size is 1MB. The caller of the <code class="codeph">setCacheMaxSize</code> method must have the JAAS permission<code class="codeph"> XSSecurityPermission("setCacheMaxSize")</code>.
                        </p>
                     </div>
                  </div><a id="DBFSG99852"></a><div class="props_rev_3"><a id="GUID-52D7EF79-6554-4086-B62E-9AEBFD6F0C50" name="GUID-52D7EF79-6554-4086-B62E-9AEBFD6F0C50"></a><h5 id="DBFSG-GUID-52D7EF79-6554-4086-B62E-9AEBFD6F0C50" class="sect5">About Getting the Maximum Cache Idle Time</h5>
                     <div>
                        <p>To get the <a id="d28828e1186" class="indexterm-anchor"></a>maximum cache idle time, use the <code class="codeph">getCacheMaxIdleTime</code> method of the <code class="codeph">XSSessionManager</code> class. This method returns the maximum number of minutes for which the cache does not have an <code class="codeph">updateCache</code> call to update the cache. The caller of the <code class="codeph">getCachemaxIdleTime</code> method must have the JAAS permission<code class="codeph"> XSSecurityPermission("getCacheMaxIdleTime")</code>.
                        </p>
                     </div>
                  </div><a id="DBFSG99853"></a><div class="props_rev_3"><a id="GUID-8692B1EC-5636-4D40-A16C-39FB49C02456" name="GUID-8692B1EC-5636-4D40-A16C-39FB49C02456"></a><h5 id="DBFSG-GUID-8692B1EC-5636-4D40-A16C-39FB49C02456" class="sect5">About Getting the Maximum Cache Size</h5>
                     <div>
                        <p>To get the <a id="d28828e1323" class="indexterm-anchor"></a>maximum cache size, use the <code class="codeph">getCacheMaxSize</code> method of the <code class="codeph">XSSessionManager</code> class. This method returns the maximum size of the cache in bytes. The caller of the <code class="codeph">getCacheMaxSize</code> method must have the JAAS permission XSSecurityPermission("getCacheMaxSize"). 
                        </p>
                     </div>
                  </div><a id="DBFSG99854"></a><div class="props_rev_2"><a id="GUID-5328F766-CB95-4B39-AA3B-7D95C611EE44" name="GUID-5328F766-CB95-4B39-AA3B-7D95C611EE44"></a><h5 id="DBFSG-GUID-5328F766-CB95-4B39-AA3B-7D95C611EE44" class="sect5">About Removing Entries from the Cache</h5>
                     <div>
                        <p>To remove entries from the cache, a cache eviction algorithm is used, along with watermark levels. A watermark level determines how long data should stay in memory cache before being removed. When the cache size reaches the high watermark, then the cache eviction algorithm removes entries until the cache size reaches the low watermark.</p>
                        <div class="p"> This section describes the following activities for removing entries from the cache:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-2F0EB720-4ADB-40D7-8738-B7B95EBC2DB7">About Setting the WaterMark</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-0B74A41C-A241-42F5-9B25-92BB70C85578">About Getting the High WaterMark</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-B39AE5D8-E06F-4E5C-BC25-12151461A58D">About Getting the Low WaterMark</a></p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="DBFSG99855"></a><div class="props_rev_3"><a id="GUID-2F0EB720-4ADB-40D7-8738-B7B95EBC2DB7" name="GUID-2F0EB720-4ADB-40D7-8738-B7B95EBC2DB7"></a><h6 id="DBFSG-GUID-2F0EB720-4ADB-40D7-8738-B7B95EBC2DB7" class="sect6">About Setting the WaterMark</h6>
                        <div>
                           <p>To set the <a id="d28828e1590" class="indexterm-anchor"></a>watermark, use the <code class="codeph">setWaterMark</code> method from the <code class="codeph">XSSessionManager</code> class. The caller of the <code class="codeph">setWaterMark</code> method must have the JAAS permission <code class="codeph">XSSecurityPermission("setWaterMark")</code>.
                           </p>
                        </div>
                     </div><a id="DBFSG99856"></a><div class="props_rev_3"><a id="GUID-0B74A41C-A241-42F5-9B25-92BB70C85578" name="GUID-0B74A41C-A241-42F5-9B25-92BB70C85578"></a><h6 id="DBFSG-GUID-0B74A41C-A241-42F5-9B25-92BB70C85578" class="sect6">About Getting the High WaterMark</h6>
                        <div>
                           <p>To get the <a id="d28828e1723" class="indexterm-anchor"></a>high watermark for cache, use the <code class="codeph">getHighWaterMark</code> method from the <code class="codeph">XSSessionManager</code> class.
                           </p>
                        </div>
                     </div><a id="DBFSG99857"></a><div class="props_rev_3"><a id="GUID-B39AE5D8-E06F-4E5C-BC25-12151461A58D" name="GUID-B39AE5D8-E06F-4E5C-BC25-12151461A58D"></a><h6 id="DBFSG-GUID-B39AE5D8-E06F-4E5C-BC25-12151461A58D" class="sect6">About Getting the Low WaterMark</h6>
                        <div>
                           <p>To get the <a id="d28828e1851" class="indexterm-anchor"></a>low watermark for cache, use the <a id="d28828e1858" class="indexterm-anchor"></a><code class="codeph">getLowWaterMark</code> method from the <code class="codeph">XSSessionManager</code> class. 
                           </p>
                        </div>
                     </div>
                  </div><a id="DBFSG99858"></a><div class="props_rev_3"><a id="GUID-8101F9C6-43ED-4209-AB56-F28DEB35FC9E" name="GUID-8101F9C6-43ED-4209-AB56-F28DEB35FC9E"></a><h5 id="DBFSG-GUID-8101F9C6-43ED-4209-AB56-F28DEB35FC9E" class="sect5">About Clearing the Cache</h5>
                     <div>
                        <p>To clear the cache<a id="d28828e1983" class="indexterm-anchor"></a> explicitly from the middle tier, use the <a id="d28828e1990" class="indexterm-anchor"></a><code class="codeph">clearCache</code> method of the <code class="codeph">XSSessionManager</code> class. This method explicitly clears the shared cache from the middle tier. The caller of the <code class="codeph">clearCache</code> method must have the JAAS permission<code class="codeph"> XSSecurityPermission("clearCache")</code>.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG99861"></a><div class="props_rev_3"><a id="GUID-BC164147-DE1C-4E73-84B7-715540C5FC88" name="GUID-BC164147-DE1C-4E73-84B7-715540C5FC88"></a><h3 id="DBFSG-GUID-BC164147-DE1C-4E73-84B7-715540C5FC88" class="sect3">About Managing Real Application Security Sessions</h3>
               <div>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E">Creating a Real Application Security User Session</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A">Attaching an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9">Assigning or Switching an Application User</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-930E5B82-A24B-482C-BCB6-44113251D5C8">Enabling Real Application Security Application Roles</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-6ED38345-63A3-490E-84A6-037C42B3164F">About Performing Namespace Operations as Session User</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-1A982585-B7E7-4AB7-92F3-B5B07C240AF8">About Performing Miscellaneous Session-Related Activities</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B">Detaching an Application Session</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004">Destroying A Real Application Security Application Session</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99863"></a><a id="DBFSG99862"></a><div class="props_rev_3"><a id="GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E" name="GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E"></a><h4 id="DBFSG-GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E" class="sect4">Creating a Real Application Security User Session</h4>
                  <div>
                     <div class="section">
                        <p>To create a Real Application Security user session, for example, <code class="codeph">lws</code>, for the application user <code class="codeph">lwuser</code>, use the <code class="codeph">createSession</code> method of the <code class="codeph">XSSessionManager</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E__BGBJJCCB">Example 6-2</a>). The <code class="codeph">createSession</code> method (in bold typeface). creates a session on the server with the specified parameters passed. A database round-trip is required to perform this operation.
                        </p>
                        <p>To create an anonymous Real Application Security application session, use the <code class="codeph">createAnonymousSession</code> method of the <code class="codeph">XSSessionManager</code> class. The application user for this session is a predefined anonymous user, so no user parameter is passed in this method.
                        </p>
                        <p>Both methods support using a cookie and a namespace.</p>
                        <p>The cookie, passed as the parameter, can be used to identify the newly created Real Application Security application session in future calls, until the cookie value is changed or the session is destroyed. </p>
                        <p>The namespace, passed as the parameter, can be used to create a namespace in the session. For details, see <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-6ED38345-63A3-490E-84A6-037C42B3164F">About Performing Namespace Operations as Session User</a>"</span>.
                        </p>
                        <p>It is possible to reassign a specific application user to take over this session. In this case, some of the state of the session for the anonymous user is still preserved. For details, see <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9">Assigning or Switching an Application User</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-583E51CC-E332-4649-A00F-B6ED09D4F27E__BGBJJCCB">
                        <p class="titleinexample">Example 6-2 How to Create a Real Application Security Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static XSSessionManager manager;
static Connection lwsConn = null;
static String user = "lwuser";
String cookie="nst";
...
<span class="bold">lws = manager.createSession(lwsConn, user, cookie, null);</span>
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG466"></a><a id="DBFSG467"></a><a id="DBFSG465"></a><div class="props_rev_3"><a id="GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A" name="GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A"></a><h4 id="DBFSG-GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A" class="sect4">Attaching an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>To attach an application <a id="d28828e2450" class="indexterm-anchor"></a>session, use the <code class="codeph">attachSession</code> method of the <code class="codeph">XSSessionManager</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__BABJCJBI">Example 6-3</a>). The <code class="codeph">attachSession</code> method (in bold typeface) attaches the JDBC connection to the specified Real Application Security application session object. It also enables or disables the dynamic application roles, creates namespaces of the session, and sets the authentication time.
                        </p>
                        <p>You can also attach to a session by using either ID or cookie as shown in <a href="using-real-application-security-in-java-applications.html#GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__CHDIHFHI">Example 6-4</a>. See <a href="oracle-fusion-middleware-integration-with-real-application-security.html#GUID-778E2431-6A9D-4566-8D17-DF95C2FB708D__CHDBGHHC">Example 7-2</a> for another example of attaching to a session by using a cookie. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__BABJCJBI">
                        <p class="titleinexample">Example 6-3 How to Attach a Real Application Security Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static Connection lwsConn = null;
static XSSessionManager manager;
static String user = "lwuser";
String cookie = "lwscookie";
List &lt;String&gt; edynamicRoles = new ArrayList &lt;String&gt;();
edynamicRoles.add("EDYNROLE001");
edynamicRoles.add("EDYNROLE002");
List &lt;String&gt; ddynamicRoles = new ArrayList &lt;String&gt;();
ddynamicRoles.add("DDYNROLE001");
ddynamicRoles.add("DDYNROLE002");
...
lws = manager.createSession(lwsConn, user, cookie, null);
<span class="bold">manager.attachSession(lwsConn, lws, edynamicRoles, ddynamicRoles, null, new Timestamp(System.currentTimeMillis()));</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3C2EC26F-6493-41E2-BD52-B5923FEE8E8A__CHDIHFHI">
                        <p class="titleinexample">Example 6-4 How to Attach Using a Cookie</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static Connection lwsConn = null;
static XSSessionManager manager;
...
lws = manager.attachSessionByCookie(lwsConn, "myCookie", null, null, null, null, null);
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG471"></a><a id="DBFSG472"></a><a id="DBFSG470"></a><div class="props_rev_3"><a id="GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9" name="GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9"></a><h4 id="DBFSG-GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9" class="sect4">Assigning or Switching an Application User</h4>
                  <div>
                     <div class="section">
                        <p>If you have an anonymous session, you can reassign it to another application user later. Otherwise, if your session is assigned to an application user already, you can switch the session to another application user. In either case, the session must be attached first, before assigning or switching an application user.</p>
                        <p>To assign a name to a previously anonymous application user, use the <code class="codeph">assignUser</code> method of the <code class="codeph">XSSessionManager</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABJABAB">Example 6-5</a>). The <code class="codeph">assignUser</code> method (in bold typeface) changes the session context (user and roles) to the given user, for example, <code class="codeph">lwuser</code>, but keeps the existing namespace. It can also change the session at the same time, by any given dynamic roles and namespace parameters, in the same way as the <code class="codeph">attachSession</code> method. The associated session attributes remain in effect unless they are removed through another call.
                        </p>
                        <p>To change a session user from a named user (non-anonymous) to another named user, use the <code class="codeph">switchUser</code> method of the Session object.
                        </p>
                        <p>Any request for retaining the dynamic application roles, which were assigned while attaching the session, is disabled. The dynamic application roles are retained for the new application user only when they are also included in the dynamic application roles list for the new application user. The associated session attributes remain in effect unless the session attributes list is reset.</p>
                        <p>This method changes the session context (user and roles) to the target user (see <span class="q">"<a href="configuring-application-sessions.html#GUID-CC76B226-1A50-4E2E-9569-8970B1EA2EF3">Switching a Current Application User to Another Application User in the Current Application Session</a>"</span> for details about roles change), but <span class="italic">not</span> keeping the existing namespace by default. If you want to retain the existing namespace, you can use the <code class="codeph">switchUserKeepState</code> method of the Session object. It can also change the session at the same time, by any given dynamic roles and namespace parameters, in the same way as the <code class="codeph">attachSession</code> method. 
                        </p>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABDIGAE">Example 6-6</a> demonstrates how to switch the application user from <code class="codeph">lwuser</code> to <code class="codeph">lwuser1</code>. The <code class="codeph">switchUser</code> method is in bold typeface.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABJABAB">
                        <p class="titleinexample">Example 6-5 How to Assign an Application User to a Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static XSSessionManager manager;
static String user = "lwuser";
...
<span class="bold">manager.assignUser(lws, user, null, null, null, new Timestamp(System.currentTimeMillis()));</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4D8AEEB1-29BF-4813-9023-4EA8FB21E5D9__BABDIGAE">
                        <p class="titleinexample">Example 6-6 How to Switch an Application User in a Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
Vector&lt;String&gt; listOfNamespaces;
static String user = "lwuser";
List&lt;String&gt; nslist1 = new ArrayList&lt;String&gt;();
...
manager.assignUser(lws, user, nslist1, nslist2, nslist3, new Timestamp(System.currentTimeMillis()));
...
<span class="bold">lws.switchUser("lwuser1",listOfNamespaces);</span>
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG473"></a><div class="props_rev_3"><a id="GUID-930E5B82-A24B-482C-BCB6-44113251D5C8" name="GUID-930E5B82-A24B-482C-BCB6-44113251D5C8"></a><h4 id="DBFSG-GUID-930E5B82-A24B-482C-BCB6-44113251D5C8" class="sect4">Enabling Real Application Security Application Roles</h4>
                  <div>
                     <div class="section">
                        <p>A Real Application Security application role is a role that can be granted only to a Real Application Security application user or to another Real Application Security application role. Real Application Security application roles are granted database privileges through database roles. The database privileges are granted to a database role, which in turn is granted to a Real Application Security application role. For more information about Real Application Security application users and application roles, refer to <span class="q">"<a href="indroducing-oracle-database-real-application-security.html#GUID-75ECE2BF-08EE-451E-B303-43DB307382F6">Principals: Users and Roles</a>"</span>.
                        </p>
                        <div class="p">This section describes the following operation associated with application roles:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-51C12565-C2CE-4406-8152-3D67D4001A9B">Enabling a Real Application Security Application Role</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9">Disabling a Real Application Security Application Role</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7">Checking If a Real Application Security Application Role Is Enabled</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG475"></a><a id="DBFSG474"></a><div class="props_rev_3"><a id="GUID-51C12565-C2CE-4406-8152-3D67D4001A9B" name="GUID-51C12565-C2CE-4406-8152-3D67D4001A9B"></a><h5 id="DBFSG-GUID-51C12565-C2CE-4406-8152-3D67D4001A9B" class="sect5">Enabling a Real Application Security Application Role</h5>
                     <div>
                        <div class="section">
                           <p>To enable a Real Application Security application <a id="d28828e2935" class="indexterm-anchor"></a>role granted to the current application user for the session, use the <code class="codeph">enableRole</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-51C12565-C2CE-4406-8152-3D67D4001A9B__BABIFEGI">Example 6-7</a>).
                           </p>
                           <p>The <code class="codeph">enableRole</code> method (in bold typeface) has no effect if the particular application role is currently disabled. This operation requires a database round-trip.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-51C12565-C2CE-4406-8152-3D67D4001A9B__BABIFEGI">
                           <p class="titleinexample">Example 6-7 How to Enable a Real Application Security Application Role in Java</p><pre class="oac_no_warn" dir="ltr">static Session lws;
static Roles r1;
...
r1=new Role("HROLE1",null,0);
<span class="bold">lws.enableRole(r1);</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG477"></a><a id="DBFSG476"></a><div class="props_rev_3"><a id="GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9" name="GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9"></a><h5 id="DBFSG-GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9" class="sect5">Disabling a Real Application Security Application Role</h5>
                     <div>
                        <div class="section">
                           <p>To disable a Real Application Security <a id="d28828e3077" class="indexterm-anchor"></a>application role granted to the current user for the session, use the <code class="codeph">disableRole</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9__BABJJGHA">Example 6-8</a>). This operation requires a database round-trip. The <code class="codeph">disableRole</code> method is in bold typeface.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A56BB20C-9ED7-440E-8B44-3F7ECD55C4D9__BABJJGHA">
                           <p class="titleinexample">Example 6-8 How to Disable a Real Application Security Application Role in Java</p><pre class="oac_no_warn" dir="ltr">static Session lws;
static Roles r1;
...
r1=new Role("HROLE1",null,0);
lws.enableRole(r1);
...
<span class="bold">lws.disableRole(r1);</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG479"></a><a id="DBFSG478"></a><div class="props_rev_3"><a id="GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7" name="GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7"></a><h5 id="DBFSG-GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7" class="sect5">Checking If a Real Application Security Application Role Is Enabled</h5>
                     <div>
                        <div class="section">
                           <p>To test if the specified application <a id="d28828e3218" class="indexterm-anchor"></a>role is enabled in the Real Application Security application session, use the <a id="d28828e3223" class="indexterm-anchor"></a><code class="codeph">isRoleEnabled</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7__BABDCGIJ">Example 6-9</a>). The <code class="codeph">isRoleEnabled</code> method is in bold typeface.
                           </p>
                           <p>This method does not have an associated database operation. You must have the <code class="codeph">administerSession</code> Real Application Security application privilege to call this method.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-52F935A4-BBFB-4EB7-81B9-8F4A02CE8FD7__BABDCGIJ">
                           <p class="titleinexample">Example 6-9 How to Test If a Real Application Security Application Role Is Enabled in Java</p><pre class="oac_no_warn" dir="ltr">static Session lws;
...
lws.enableRole("HROLE1");
...
<span class="bold">boolean b = lws.isRoleEnabled("HROLE1");</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG99901"></a><div class="props_rev_3"><a id="GUID-6ED38345-63A3-490E-84A6-037C42B3164F" name="GUID-6ED38345-63A3-490E-84A6-037C42B3164F"></a><h4 id="DBFSG-GUID-6ED38345-63A3-490E-84A6-037C42B3164F" class="sect4">About Performing Namespace Operations as Session User</h4>
                  <div>
                     <p>A namespace is a group of additional attributes of the session context. An application uses a namespace to store application defined attribute-value pairs. The current session user should have <code class="codeph">MODIFY_NAMESPACE</code> (for namespace) and <code class="codeph">MODIFY_ATTRIBUTE</code> (for attribute) application privileges. For more information about namespaces, refer to <span class="q">"<a href="configuring-application-sessions.html#GUID-0B1ED666-0401-4050-BE4E-EF375752A39B">About Using Namespace Templates to Create Namespaces</a>"</span>.
                     </p>
                     <div class="p">This section describes how to perform the following activities:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304">Creating Namespaces</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-07954A29-1F53-4609-9F69-7A883972E6D0">Deleting Namespaces</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2">Implicitly Creating Namespaces</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-D7FC21CA-68C1-4890-80BF-379C0D7445FC">About Using Namespace Attributes</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG99903"></a><a id="DBFSG99902"></a><div class="props_rev_3"><a id="GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304" name="GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304"></a><h5 id="DBFSG-GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304" class="sect5">Creating Namespaces</h5>
                     <div>
                        <div class="section">
                           <p>To create a namespace in Java, use the <code class="codeph">createNamespace</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304__BGBEFDHB">Example 6-10</a>). The <code class="codeph">createNamespace</code> method (in bold typeface) creates a new session namespace <a id="d28828e3527" class="indexterm-anchor"></a>using the namespace template document, whose name matches with the specified name. If an event handler is specified in the template document, then the specified event handler applies to all the namespaces created using that template.
                           </p>
                           <div class="infoboxnote" id="GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304__GUID-ED2842BE-9C6F-4A3F-B52D-95EFEB92C2B9">
                              <p class="notep1">Note:</p>
                              <p>You can also create a namespace by passing a namespace name as a parameter with the <code class="codeph">createSession</code> and <code class="codeph">attachSession</code> methods discussed in the previous sections.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F96DD9EA-EF6D-41D9-B64C-4C3CEE69E304__BGBEFDHB">
                           <p class="titleinexample">Example 6-10 How to Create a Namespace in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
...
<span class="bold">SessionNamespace ns = lws.createNamespace("TESTNS1");</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99927"></a><a id="DBFSG99926"></a><div class="props_rev_3"><a id="GUID-07954A29-1F53-4609-9F69-7A883972E6D0" name="GUID-07954A29-1F53-4609-9F69-7A883972E6D0"></a><h5 id="DBFSG-GUID-07954A29-1F53-4609-9F69-7A883972E6D0" class="sect5">Deleting Namespaces</h5>
                     <div>
                        <div class="section">
                           <p>To delete a <a id="d28828e3665" class="indexterm-anchor"></a>namespace in Java, use the <code class="codeph">deleteNamespace</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-07954A29-1F53-4609-9F69-7A883972E6D0__BGBEIACD">Example 6-11</a>). The <code class="codeph">deleteNamespace</code> method (in bold typeface) removes a namespace from a session.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-07954A29-1F53-4609-9F69-7A883972E6D0__BGBEIACD">
                           <p class="titleinexample">Example 6-11 How to Delete a Namespace in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
...
SessionNamespace ns = lws.createNamespace("TESTNS1");
...
<span class="bold">lws.deleteNamespace("TESTNS1");</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99905"></a><a id="DBFSG99904"></a><div class="props_rev_3"><a id="GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2" name="GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2"></a><h5 id="DBFSG-GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2" class="sect5">Implicitly Creating Namespaces</h5>
                     <div>
                        <div class="section">
                           <p>To implicitly <a id="d28828e3806" class="indexterm-anchor"></a>create the namespace object to represents the session namespace, use the <code class="codeph">getNamespace</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2__BGBCDFGB">Example 6-12</a>). The <code class="codeph">getNamespace</code> method is in bold typeface. If the namespace specified already exists, an error is thrown.
                           </p>
                           <p>To retrieve a String representation of the namespace, use the <a id="d28828e3824" class="indexterm-anchor"></a><code class="codeph">toString</code> method of the <code class="codeph">SessionNamespace</code> interface.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-FCF83764-6C46-4B38-97E1-92D01F7D16B2__BGBCDFGB">
                           <p class="titleinexample">Example 6-12 How to Implicitly Create the Namespace in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
...
<span class="bold">SessionNamespace ns2 = lws.getNamespace("TESTNS1");</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG99909"></a><div class="props_rev_3"><a id="GUID-D7FC21CA-68C1-4890-80BF-379C0D7445FC" name="GUID-D7FC21CA-68C1-4890-80BF-379C0D7445FC"></a><h5 id="DBFSG-GUID-D7FC21CA-68C1-4890-80BF-379C0D7445FC" class="sect5">About Using Namespace Attributes</h5>
                     <div>
                        <p>A session namespace manages the attributes that a single application module stores for the duration of the session. The session namespace stores the attributes in a single namespace, a single set of access control restrictions, or a single event handler procedure that dispatches the attribute change events for that namespace.</p>
                        <div class="p">This section describes how to perform the following activities:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57">Creating a Session Namespace Attribute</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-BEF803A4-9CE4-4F82-B31A-FFC5C1C0E567">About Setting a Session Namespace Attribute</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2">Getting a Session Namespace Attribute</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E">Listing Attributes</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29">Resetting Attributes</a></p>
                              </li>
                              <li>
                                 <p><a href="using-real-application-security-in-java-applications.html#GUID-4679C940-38C5-4013-997A-7A4D45184508">Deleting Attributes</a></p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="DBFSG99911"></a><a id="DBFSG99910"></a><div class="props_rev_3"><a id="GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57" name="GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57"></a><h6 id="DBFSG-GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57" class="sect6">Creating a Session Namespace Attribute</h6>
                        <div>
                           <div class="section">
                              <p>To create a <a id="d28828e4105" class="indexterm-anchor"></a>session namespace attribute in Java, use the <code class="codeph">createAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57__BGBGEEGH">Example 6-13</a>). The <code class="codeph">createAttribute</code> method (in bold typeface) creates a new attribute in the namespace.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-941BB32F-DCE5-42EE-AA1A-576BC0577E57__BGBGEEGH">
                              <p class="titleinexample">Example 6-13 How to Create a Session Namespace Attribute in Java</p><pre class="oac_no_warn" dir="ltr">String name1="empid';
String value1="JB007";
SessionNamespace ns;
...
<span class="bold">SessionNamespaceAttribute sa1=ns.createAttribute(name1,value1);</span>
...
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="DBFSG480"></a><div class="props_rev_3"><a id="GUID-BEF803A4-9CE4-4F82-B31A-FFC5C1C0E567" name="GUID-BEF803A4-9CE4-4F82-B31A-FFC5C1C0E567"></a><h6 id="DBFSG-GUID-BEF803A4-9CE4-4F82-B31A-FFC5C1C0E567" class="sect6">About Setting a Session Namespace Attribute</h6>
                        <div>
                           <p>To set a <a id="d28828e4243" class="indexterm-anchor"></a>session namespace attribute in Java, use the <code class="codeph">setAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface.
                           </p>
                        </div>
                     </div><a id="DBFSG99913"></a><a id="DBFSG99912"></a><div class="props_rev_3"><a id="GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2" name="GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2"></a><h6 id="DBFSG-GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2" class="sect6">Getting a Session Namespace Attribute</h6>
                        <div>
                           <div class="section">
                              <p>To retrieve <a id="d28828e4371" class="indexterm-anchor"></a>a session namespace attribute in Java, use the <code class="codeph">getAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2__BGBFFFAD">Example 6-14</a>). The <code class="codeph">getAttribute</code> method (in bold typeface) returns the attribute whose name is specified as the parameter.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-B1C5CF5C-A134-4FE8-922C-A64292895DB2__BGBFFFAD">
                              <p class="titleinexample">Example 6-14 How to Retrieve a Session Namespace Attribute in Java</p><pre class="oac_no_warn" dir="ltr">String name="empid';
String value="JB007";
SessionNamespace ns;
...
SessionNamespaceAttribute sa=ns.createAttribute(name,value);
...
<span class="bold">String attrvalue =  ns.getAttribute("empid").getValue();</span>
<span class="bold">ns.getAttribute("empid").setValue("newValue");</span>
...
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="DBFSG99921"></a><a id="DBFSG99920"></a><div class="props_rev_3"><a id="GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E" name="GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E"></a><h6 id="DBFSG-GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E" class="sect6">Listing Attributes</h6>
                        <div>
                           <div class="section">
                              <p>To list the attributes <a id="d28828e4514" class="indexterm-anchor"></a>in the namespace, use the <code class="codeph">listAttributes</code> method of the <code class="codeph">SessionNamespace</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E__BGBFJEAC">Example 6-15</a>). The <code class="codeph">listAttributes</code> method (in bold typeface) returns a collection of the attribute names in the namespace 
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-29C27170-36F2-449C-82E4-9DD0687BFE6E__BGBFJEAC">
                              <p class="titleinexample">Example 6-15 How to List Attributes in Java</p><pre class="oac_no_warn" dir="ltr">String name1="empid';
String value1="JB007";
SessionNamespace ns;
...
SessionNamespaceAttribute sa1=ns.createAttribute(name1,value1);
...
<span class="bold">for (Enumeration e = ns.listAttributes() ; e.hasMoreElements() ;)</span> {
 System.out.println("   -- " + e.nextElement());
}
...
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="DBFSG99923"></a><a id="DBFSG99922"></a><div class="props_rev_3"><a id="GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29" name="GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29"></a><h6 id="DBFSG-GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29" class="sect6">Resetting Attributes</h6>
                        <div>
                           <div class="section">
                              <p>To reset an <a id="d28828e4654" class="indexterm-anchor"></a>attribute in Java, use the <code class="codeph">resetAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29__BGBIEIGE">Example 6-16</a>). The <code class="codeph">resetAttribute</code> method (in bold typeface) resets the attribute in the namespace to its default value.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-8873B2F2-80C5-4F88-8E3F-05471C94DE29__BGBIEIGE">
                              <p class="titleinexample">Example 6-16 How to Reset an Attribute in Java</p><pre class="oac_no_warn" dir="ltr">String name1="empid';
String value1="JB007";
SessionNamespace ns;
...
SessionNamespaceAttribute sa1=ns.createAttribute(name1,value1);
...
<span class="bold">ns.resetAttribute("empid");</span>
...
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="DBFSG99925"></a><a id="DBFSG99924"></a><div class="props_rev_3"><a id="GUID-4679C940-38C5-4013-997A-7A4D45184508" name="GUID-4679C940-38C5-4013-997A-7A4D45184508"></a><h6 id="DBFSG-GUID-4679C940-38C5-4013-997A-7A4D45184508" class="sect6">Deleting Attributes</h6>
                        <div>
                           <div class="section">
                              <p>To delete <a id="d28828e4795" class="indexterm-anchor"></a>an attribute in Java, use the <a id="d28828e4800" class="indexterm-anchor"></a><code class="codeph">deleteAttribute</code> method of the <code class="codeph">SessionNamespace</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-4679C940-38C5-4013-997A-7A4D45184508__BGBHJDED">Example 6-17</a>). The <code class="codeph">deleteAttribute</code> method (in bold typeface) deletes the particular attribute in the namespace.
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-4679C940-38C5-4013-997A-7A4D45184508__BGBHJDED">
                              <p class="titleinexample">Example 6-17 How to Delete an Attribute in Java</p><pre class="oac_no_warn" dir="ltr">String name1="empid';
String value1="JB007";
SessionNamespace ns;
...
SessionNamespaceAttribute sa1=ns.createAttribute(name1,value1);
...
<span class="bold">ns.deleteAttribute("empid");</span>
...
</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div>
                  </div>
               </div><a id="DBFSG682"></a><div class="props_rev_3"><a id="GUID-ED231373-C97C-436C-9EF1-BDC33D723B9D" name="GUID-ED231373-C97C-436C-9EF1-BDC33D723B9D"></a><h4 id="DBFSG-GUID-ED231373-C97C-436C-9EF1-BDC33D723B9D" class="sect4">About Performing Namespace Operations as Session Manager</h4>
                  <div>
                     <p>Each namespace has an associated ACL to determine who can manipulate the namespace and its attributes. If an application does not want the current session user to manipulate the namespace, but allows a session manager to do it, this can be done as session manager <code class="codeph">XSSessionManager</code>.
                     </p>
                     <p><code class="codeph">XSSessionManager</code> has a set of overloaded methods as Session, to manage the namespace. The usage is similar to that described for session user in <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-6ED38345-63A3-490E-84A6-037C42B3164F">About Performing Namespace Operations as Session User</a>"</span>.
                     </p>
                     <p>Note that the session manager instance <code class="codeph">XSSessionManager</code> may not be available to the application code; only the trusted infrastructure layer can use the session manager to manipulate such a secured namespace.
                     </p>
                  </div>
               </div><a id="DBFSG481"></a><div class="props_rev_3"><a id="GUID-1A982585-B7E7-4AB7-92F3-B5B07C240AF8" name="GUID-1A982585-B7E7-4AB7-92F3-B5B07C240AF8"></a><h4 id="DBFSG-GUID-1A982585-B7E7-4AB7-92F3-B5B07C240AF8" class="sect4">About Performing Miscellaneous Session-Related Activities</h4>
                  <div>
                     <div class="p">This section describes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-1076C1C0-E2AB-42EE-BE5B-9E0D696ADC76">About Getting the Oracle Connection Associated with the Session</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-20026189-D342-40D1-8629-462020DD4D67">About Getting the Application User ID for the Session</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7">Getting the Session ID for the Session</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-27784741-9900-41B7-9D35-4D7866D26D4B">About Getting a String Representation of the Session</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6">Getting the Session Cookie</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-8481DB9B-7085-4F2B-8C96-27A81F18CEFA">Setting Session Inactivity Timeout as Session Manager</a></p>
                           </li>
                           <li>
                              <p><a href="using-real-application-security-in-java-applications.html#GUID-23E01854-C532-4A86-AB09-B4C10342410D">Setting the Session Cookie as Session Manager</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG482"></a><div class="props_rev_3"><a id="GUID-1076C1C0-E2AB-42EE-BE5B-9E0D696ADC76" name="GUID-1076C1C0-E2AB-42EE-BE5B-9E0D696ADC76"></a><h5 id="DBFSG-GUID-1076C1C0-E2AB-42EE-BE5B-9E0D696ADC76" class="sect5">About Getting the Oracle Connection Associated with the Session</h5>
                     <div>
                        <p>To get the Oracle connection <a id="d28828e5217" class="indexterm-anchor"></a>associated with the session, if it is currently bound to one, use the <code class="codeph">getConnection</code> method of the <code class="codeph">Session</code> interface.
                        </p>
                     </div>
                  </div><a id="DBFSG483"></a><div class="props_rev_3"><a id="GUID-20026189-D342-40D1-8629-462020DD4D67" name="GUID-20026189-D342-40D1-8629-462020DD4D67"></a><h5 id="DBFSG-GUID-20026189-D342-40D1-8629-462020DD4D67" class="sect5">About Getting the Application User ID for the Session</h5>
                     <div>
                        <p>To get the application <a id="d28828e5342" class="indexterm-anchor"></a>user identifier (ID) for a particular session, use the <code class="codeph">getUserId</code> method of the <code class="codeph">Session</code> interface.
                        </p>
                        <p>To check if the application user for the session is anonymous, use the <code class="codeph">isAnonymous</code> method of the <code class="codeph">Session</code> interface.
                        </p>
                     </div>
                  </div><a id="DBFSG485"></a><a id="DBFSG484"></a><div class="props_rev_3"><a id="GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7" name="GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7"></a><h5 id="DBFSG-GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7" class="sect5">Getting the Session ID for the Session</h5>
                     <div>
                        <div class="section">
                           <p>To get the session <a id="d28828e5478" class="indexterm-anchor"></a>identifier (ID) for a particular session, use the <code class="codeph">getId</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7__BABJIIIH">Example 6-18</a>). The <code class="codeph">getId</code> method is in bold typeface.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-121ABCE5-04D8-41DB-8A6D-21C8AAD73EF7__BABJIIIH">
                           <p class="titleinexample">Example 6-18 How to Get the Session ID for the Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws=null;
...
<span class="bold">System.out.println( "The Session ID is" +  lws.getId());</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG488"></a><div class="props_rev_3"><a id="GUID-27784741-9900-41B7-9D35-4D7866D26D4B" name="GUID-27784741-9900-41B7-9D35-4D7866D26D4B"></a><h5 id="DBFSG-GUID-27784741-9900-41B7-9D35-4D7866D26D4B" class="sect5">About Getting a String Representation of the Session</h5>
                     <div>
                        <p>To get a String representation of <a id="d28828e5616" class="indexterm-anchor"></a>the session, use the <code class="codeph">toString</code> method of the <code class="codeph">Session</code> interface.
                        </p>
                     </div>
                  </div><a id="DBFSG493"></a><a id="DBFSG492"></a><div class="props_rev_3"><a id="GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6" name="GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6"></a><h5 id="DBFSG-GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6" class="sect5">Getting the Session Cookie</h5>
                     <div>
                        <div class="section">
                           <p>To get the secure session <a id="d28828e5743" class="indexterm-anchor"></a>cookie used for the session, use the <code class="codeph">getSessionCookie</code> method of the <code class="codeph">Session</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6__BABBGHHH">Example 6-19</a>). The <code class="codeph">getSessionCookie</code> method is in bold typeface.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8E4A0C2D-1B6A-4C91-99A2-502397F154A6__BABBGHHH">
                           <p class="titleinexample">Example 6-19 How to Get the Secure Session Cookie in Java</p><pre class="oac_no_warn" dir="ltr">static Session lws;
...
<span class="bold">System.out.println(lws.getSessionCookie())</span>;
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG489"></a><div class="props_rev_3"><a id="GUID-8481DB9B-7085-4F2B-8C96-27A81F18CEFA" name="GUID-8481DB9B-7085-4F2B-8C96-27A81F18CEFA"></a><h5 id="DBFSG-GUID-8481DB9B-7085-4F2B-8C96-27A81F18CEFA" class="sect5">Setting Session Inactivity Timeout as Session Manager</h5>
                     <div>
                        <div class="section">
                           <p>To set the timeout on the <a id="d28828e5883" class="indexterm-anchor"></a>session, use the <a id="d28828e5888" class="indexterm-anchor"></a><code class="codeph">setInactivityTimeout</code> method of the <code class="codeph">SessionManager</code> interface. This method sets the session timeout in minutes.
                           </p>
                           <p>The <code class="codeph">setInactivityTimeout</code> method overrides the normal session timeout configuration. The method is:
                           </p><pre class="oac_no_warn" dir="ltr">sessionManager.setInactivityTimeout(Session session, int minutes);
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DBFSG491"></a><a id="DBFSG490"></a><div class="props_rev_3"><a id="GUID-23E01854-C532-4A86-AB09-B4C10342410D" name="GUID-23E01854-C532-4A86-AB09-B4C10342410D"></a><h5 id="DBFSG-GUID-23E01854-C532-4A86-AB09-B4C10342410D" class="sect5">Setting the Session Cookie as Session Manager</h5>
                     <div>
                        <div class="section">
                           <p>To set the secure <a id="d28828e6021" class="indexterm-anchor"></a>session cookie used for the session, use the <a id="d28828e6026" class="indexterm-anchor"></a><code class="codeph">setCookie</code> method of the <code class="codeph">SessionManager</code> interface (see <a href="using-real-application-security-in-java-applications.html#GUID-23E01854-C532-4A86-AB09-B4C10342410D__BABJJBHF">Example 6-20</a>). The <code class="codeph">setCookie</code> method (in bold typeface) returns the secure session cookie used for this session. The method is:
                           </p><pre class="oac_no_warn" dir="ltr">sessionManager.setCookie(lws,"newCookieValue");
</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-23E01854-C532-4A86-AB09-B4C10342410D__BABJJBHF">
                           <p class="titleinexample">Example 6-20 How to Set the Secure Session Cookie in Java</p><pre class="oac_no_warn" dir="ltr">static XSSessionManager manager;
...
<span class="bold">manager.sessionManager.setCookie(lws,"chocolate chip");</span>
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG469"></a><a id="DBFSG468"></a><div class="props_rev_3"><a id="GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B" name="GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B"></a><h4 id="DBFSG-GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B" class="sect4">Detaching an Application Session</h4>
                  <div>
                     <div class="section">
                        <p>To detach a Real Application Security <a id="d28828e6167" class="indexterm-anchor"></a>application session in Java, use the <code class="codeph">detachSession</code> method of the <code class="codeph">XSSessionManager</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B__BABJFIGH">Example 6-21</a>). The <code class="codeph">detachSession</code> method (in bold typeface) detaches the session whose object it accepts as a parameter. The <code class="codeph">detachSession</code> method call commits all changes in the request at the database level. A database round-trip is required to perform this operation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1644F4CF-90DE-40BE-AC5C-341372A0DB3B__BABJFIGH">
                        <p class="titleinexample">Example 6-21 How to Detach a Real Application Security Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static XSSessionManager manager;
static Connection lwsConn = null;
static String user = "lwuser";
String cookie;
...
lws = manager.createSession(lwsConn, user, cookie, null);
manager.attachSession(lwsConn, lws, null, null, null, new Timestamp(System.currentTimeMillis()));
...
<span class="bold">manager.detachSession(lws);</span>
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99866"></a><a id="DBFSG99865"></a><div class="props_rev_3"><a id="GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004" name="GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004"></a><h4 id="DBFSG-GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004" class="sect4">Destroying A Real Application Security Application Session</h4>
                  <div>
                     <div class="section">
                        <p>To destroy <a id="d28828e6312" class="indexterm-anchor"></a>a Real Application Security application session in Java, use the <code class="codeph">destroySession</code> method of the <code class="codeph">XSSessionManager</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004__BGBIJIFH">Example 6-22</a>). The <code class="codeph">destroySession</code> method (in bold typeface) accepts the database connection object and a session object as parameters. After you call this method, the destroyed session can no longer be accessed from any JVM. A database round-trip is required to perform this operation and for create session as well.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6DACB579-26F2-4641-A4D5-E7DE2A1B0004__BGBIJIFH">
                        <p class="titleinexample">Example 6-22 How to Destroy a Real Application Security Session in Java</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static Connection lwsConn = null;
static XSSessionManager manager;
static String user = "lwuser";
String cookie;
...
lws = manager.createSession(lwsConn, user, cookie, null);
manager.attachSession(lwsConn, lws, null, null, null, new Timestamp(System.currentTimeMillis()));
...
manager.detachSession(lws);
<span class="bold">manager.destroySession(lwsConn, lws);</span>
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DBFSG99938"></a><a id="DBFSG99937"></a><div class="props_rev_3"><a id="GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F" name="GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F"></a><h3 id="DBFSG-GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F" class="sect3">Authenticating Application Users Using Java APIs</h3>
               <div>
                  <div class="section">
                     <p>Authenticating application <a id="d28828e6453" class="indexterm-anchor"></a>users is a main security function needed by applications. The <code class="codeph">XSAuthenticationModule</code> class is used for authenticating application users. The <code class="codeph">authenticate</code> method of the <code class="codeph">XSAuthenticationModule</code> class is used to verify the application user credentials (see <a href="using-real-application-security-in-java-applications.html#GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F__BGBJHDID">Example 6-23</a>). The <code class="codeph">authenticate</code> method is in bold typeface.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FDF62B47-A13B-4CA1-AA9C-F2EF602FF60F__BGBJHDID">
                     <p class="titleinexample">Example 6-23 How to Authenticate Application Users in Java</p><pre class="oac_no_warn" dir="ltr">boolean authOk = false;
String dbUser;
String passwd;
String host;
String port;
String sid;
...
<span class="bold">authOk = XSAuthenticationModule.authenticate(host + ":" + port + ":" + sid, dbUser, passwd);</span>
...
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DBFSG99928"></a><div class="props_rev_3"><a id="GUID-A3A5BE47-E770-4206-8DA8-4A9D70FA89E3" name="GUID-A3A5BE47-E770-4206-8DA8-4A9D70FA89E3"></a><h3 id="DBFSG-GUID-A3A5BE47-E770-4206-8DA8-4A9D70FA89E3" class="sect3">About Authorizing Application Users Using ACLs</h3>
               <div>
                  <p>Authorization is another main security feature needed by applications. In Real Application Security, the authorization policy comprises of the Access Control Lists (ACLs) and the application privileges. They are defined in the Real Application Security database and managed in a cache in the middle tier. The application privileges are data privileges. Data privileges are used to define the access of a function or operation to data. Once a function attaches a connection to the session, any query passed through the connection is automatically enforced by the database server.</p>
                  <div class="p">The <code class="codeph">AclId</code> class provides various methods to perform the following:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1">Constructing an ACL Identifier</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747">Using the checkAcl Method</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-AF830025-6F45-4E53-9506-6F6260AF6F4B">About Getting Data Privileges Associated with a Specific ACL</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG497"></a><a id="DBFSG99929"></a><div class="props_rev_3"><a id="GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1" name="GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1"></a><h4 id="DBFSG-GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1" class="sect4">Constructing an ACL Identifier</h4>
                  <div>
                     <div class="section">
                        <p>To construct an <a id="d28828e6735" class="indexterm-anchor"></a>Access Control List (ACL) identifier, use one of the overloaded parameterized constructors of the <code class="codeph">AclId</code> class (see <a href="using-real-application-security-in-java-applications.html#GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1__BGBDEFAE">Example 6-24</a>). If you want to construct an ACL identifier from raw binary data, then use the following constructor:
                        </p><pre class="oac_no_warn" dir="ltr">public AclId(byte[] raw)
</pre><p>When you invoke this constructor, an ACL identifier, using raw binary returned from the <code class="codeph">ora_get_aclids</code> operator of a query, is created.
                        </p>
                        <p>If you want to construct an ACL identifier from internal ACL identifiers, then use the following constructor:</p><pre class="oac_no_warn" dir="ltr">public AclId(java.util.List&lt;java.lang.Long&gt; ids)
</pre><p>When you invoke this constructor, it creates an ACL identifier using internal ACL identifiers.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-99DFC9BD-59D5-40A7-B876-5E0AB52059D1__BGBDEFAE">
                        <p class="titleinexample">Example 6-24 How to Construct an ACL Identifier</p><pre class="oac_no_warn" dir="ltr">Session lws = null;
static byte[] aclRaw;
...
AclId id = new AclId(aclRaw);
boolean ret = lws.checkAcl(aclRaw, "UPDATE_INFO");
...</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG498"></a><a id="DBFSG99934"></a><div class="props_rev_3"><a id="GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747" name="GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747"></a><h4 id="DBFSG-GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747" class="sect4">Using the checkAcl Method</h4>
                  <div>
                     <div class="section">
                        <p>To check one or more ACLs <a id="d28828e6879" class="indexterm-anchor"></a>for specified data privileges, use the <code class="codeph">checkAcl</code> method of the <code class="codeph">XSAccessController</code> class. The data privileges are checked against one or more ACLs defined in the <code class="codeph">AclId</code> object. The <code class="codeph">checkAcl</code> method returns <code class="codeph">true</code> only when all the data privileges are granted in the ACLs. It is important to note that all privileges need not be granted in a single ACL. A session is needed for using the <code class="codeph">checkAcl</code> method as <a href="using-real-application-security-in-java-applications.html#GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747__BGBCBEIA">Example 6-25</a> indicates.
                        </p>
                        <p><a href="using-real-application-security-in-java-applications.html#GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747__BGBCBEIA">Example 6-25</a> demonstrates how to get the ACL associated with data privilege <code class="codeph">privileges22</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A6FCD53A-A13B-48BF-9A27-85E453B35747__BGBCBEIA">
                        <p class="titleinexample">Example 6-25 How to get an ACL for a Specified Data Privilege</p><pre class="oac_no_warn" dir="ltr">boolean ret;
Session lws = null;
AclId id2 = new AclId(ids);
List &lt;String&gt; privileges22 = new ArrayList&lt;String&gt;();
...
ret = XSAccessController.checkAcl(lws, id2, privileges22);
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99936"></a><div class="props_rev_3"><a id="GUID-AF830025-6F45-4E53-9506-6F6260AF6F4B" name="GUID-AF830025-6F45-4E53-9506-6F6260AF6F4B"></a><h4 id="DBFSG-GUID-AF830025-6F45-4E53-9506-6F6260AF6F4B" class="sect4">About Getting Data Privileges Associated with a Specific ACL</h4>
                  <div>
                     <p>To get a collection of data <a id="d28828e7031" class="indexterm-anchor"></a>privileges that are granted in the given ACL, for the given session, use the <code class="codeph">getPrivileges</code> method of the <code class="codeph">Session</code> class.
                     </p>
                     <div class="infoboxnote" id="GUID-AF830025-6F45-4E53-9506-6F6260AF6F4B__GUID-0C7C27E4-2FF8-4061-A52A-CCCC76047D49">
                        <p class="notep1">Note:</p>
                        <p>You use the <code class="codeph">checkAcl</code> method for data security and the <code class="codeph">checkPrivilege</code> method for function security.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG456"></a><a id="DBFSG501"></a><a id="DBFSG502"></a><a id="DBFSG503"></a><a id="DBFSG504"></a><a id="DBFSG505"></a><a id="DBFSG506"></a><a id="DBFSG500"></a><div class="props_rev_3"><a id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3" name="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3"></a><h3 id="DBFSG-GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3" class="sect3">Human Resources Administration Use Case: Implementation in Java</h3>
               <div>
                  <div class="section">
                     <p>This section describes how to verify data security related application privileges at the middle tier. This Java example is based on the Security Human Resources (HR) scenario described in <span class="q">"<a href="configuring-data-security.html#GUID-C6EF75C9-C167-4482-828E-065BD552E0B7">Real Application Security: Putting It All Together</a>"</span>. It uses the <code class="codeph">EMPLOYEES</code> table in the sample <code class="codeph">HR</code> schema. The example uses two Real Application Security application users <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code> to illustrate Real Application Security concepts. The example can be divided into the following modules:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CHDGBCJB">Setting Up the Mid-Tier Related Configuration</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBJCEEE">Setting up the Connection and Initializing the Middle Tier</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBDHCEF">Setting up the Session and Authorizing with Middle-Tier API</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBGGIID">Running a Query on the Database</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBJCIGH">Performing Cleanup Operations</a></p>
                        </li>
                        <li>
                           <p><a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBCBIJJ">The main Method</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CHDGBCJB">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-755253E6-ECF0-417C-B8BF-0E38C9D3CEA7">Setting Up the Mid-Tier Related Configuration</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To set up the mid-tier configuration involves creating a <code class="codeph">DISPATCHER</code> user and password and granting this user the <code class="codeph">xscacfeadmin</code> and <code class="codeph">xsessionadmin</code> Real Application Security administrator privileges.
                     </p><pre class="oac_no_warn" dir="ltr">exec xs_principal.create_user(name=&gt;'dispatcher', schema=&gt;'HR');
exec sys.xs_principal.set_password('dispatcher', '<span class="italic">password</span>');

exec xs_principal.grant_roles('dispatcher', 'xscacheadmin');
exec xs_principal.grant_roles('dispatcher', 'xssessionadmin');
</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBJCEEE">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-E2A6A33B-8443-4E2F-8590-A3940ECFB80A">Setting up the Connection and Initializing the Middle Tier</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example <a id="d28828e7248" class="indexterm-anchor"></a>uses the <code class="codeph">setupConnection</code> method to create the connection to the database. The <code class="codeph">setupConnection</code> method accepts a String array as argument, where:
                     </p>
                     <p><code class="codeph">args[0]</code>=Database user
                     </p>
                     <p><code class="codeph">args[1]</code>=Password
                     </p>
                     <p><code class="codeph">args[2]</code>=Host
                     </p>
                     <p>This method also initializes the middle tier by calling the <code class="codeph">getSessionManager</code> method of the <code class="codeph">oracle.security.xs.XSSecurityManager</code> class.
                     </p><pre class="oac_no_warn" dir="ltr">  public static void setupConnection(String[] args) throws Exception {
    mgrConnection =
        DriverManager.getConnection(args[2], "dispatcher", "<span class="italic">password</span>");
 
    mgr = XSSessionManager.getSessionManager(mgrConnection, 30, 2048000);
   
    appConnection = DriverManager.getConnection(args[2], args[0], args[1]);
  }
</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBDHCEF">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-E253697C-E16C-48C9-A0A9-3099D118CBDE">Setting up the Session and Authorizing with Middle-Tier API</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example <a id="d28828e7292" class="indexterm-anchor"></a><a id="d28828e7298" class="indexterm-anchor"></a>uses <code class="codeph">queryAsUser</code> method to set up the session and authorize with the middle-tier <code class="codeph">checkAcl</code> method. This example creates a session and attaches the session, and then calls the <code class="codeph">queryEmployees</code> method. The <code class="codeph">queryEmployees</code> method in <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBGGIID">Running a Query on the Database</a>"</span> checks the ACL for the <code class="codeph">UPDATE</code> privilege, and if <code class="codeph">TRUE</code>, it allows the update; it checks the ACL again for the <code class="codeph">VIEW_SALARY</code> application privilege, and if <code class="codeph">TRUE</code>, it allows access to the <code class="codeph">SALARY</code> column and displays all the employees records including the sensitive data in the <code class="codeph">SALARY</code> column. Then after displaying the employees records, it detaches the session, and destroys the session.
                     </p><pre class="oac_no_warn" dir="ltr">  private static void queryAsUser(String user) throws SQLException {
   
    System.out.println("\nQuery HR.EMPLOYEES table as user \"" + user + "\"");
 
    try {
      Session lws = mgr.createSession(appConnection, user, null,null);
      mgr.attachSession(appConnection, lws, null, null, null, null, null);
 
      queryEmployees(lws);
  
      mgr.detachSession(lws);
      mgr.destroySession(appConnection, lws);
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBGGIID">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-D27C5F71-B5DC-4788-A290-07CDEDB3F879">Running a Query on the Database</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example <a id="d28828e7349" class="indexterm-anchor"></a>uses the <code class="codeph">queryEmployees</code> method to run a query on the HR database.
                     </p><pre class="oac_no_warn" dir="ltr">  public static void queryEmployees(Session lws) throws SQLException {
 
    Connection conn = lws.getConnection();
    String query =
      " select email, first_name, last_name, department_id, salary, ora_get_aclids(emp) from hr.employees emp where department_id in (40, 60, 100) order by email";
 
    Statement stmt = null;
    ResultSet rs = null;
 
    System.out.printf("  EMAIL  | FIRST_NAME | LAST_NAME  | DEPT | SALARY | UPDATE | VIEW_SALARY\n");
   
    try {
 
      stmt = conn.createStatement();
      rs = stmt.executeQuery(query);
      
      while (rs.next()) {
 
        String email = rs.getString("EMAIL");
        String first_name = rs.getString("FIRST_NAME");
        String last_name = rs.getString("LAST_NAME");
        String department_id = rs.getString("DEPARTMENT_ID");
        String salary;
        
        if (((OracleResultSet)rs).getAuthorizationIndicator("SALARY") == AuthorizationIndicator.NONE) {
          salary = rs.getString("SALARY");
        }
        else {
          salary = "*****";
        }
 
        byte[] aclRaw = rs.getBytes(6);
        String update, viewSalary;
        if (XSAccessController.checkAcl(lws, aclRaw, "UPDATE")) {
          update = "true";
        }
        else {
          update = "false";
        }
        
        if (XSAccessController.checkAcl(lws, aclRaw, "VIEW_SALARY")) {
          viewSalary = "true";
        }
        else {
          viewSalary = "false";
        }
 
        System.out.printf("%9s|%12s|%12s|%6s|%8s|%8s|%8s\n", email, 
                          first_name, last_name, department_id, 
                          salary, update, viewSalary);
       }
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      try { if (rs != null) rs.close(); } catch (Exception e) {};
      try { if (stmt != null) stmt.close(); } catch (Exception e) {};
    }
  }
}
</pre><p>The <code class="codeph">queryEmployees</code> method is run for both application users <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBJCIGH">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-C4FB5BCD-BD3B-4D58-98FD-B89B9A0B3CDC">Performing Cleanup Operations</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This examples <a id="d28828e7379" class="indexterm-anchor"></a>uses the <code class="codeph">cleanup</code> method for system cleanup operations.
                     </p><pre class="oac_no_warn" dir="ltr">  public static void cleanupConnection() throws Exception {
    mgrConnection.close();
    appConnection.close();
 
  }</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__CBBCBIJJ">
                     <p class="subhead2" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-C4B9B0EF-3685-4931-BF91-078335C62851">The main Method</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This section <a id="d28828e7397" class="indexterm-anchor"></a>contains the <code class="codeph">main</code> method for the Java example discussed. This section also contains the different packages that you must import to run the program.
                     </p><pre class="oac_no_warn" dir="ltr">import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
 
 
import java.util.ArrayList;
import java.util.List;
import oracle.jdbc.OracleDriver;
import oracle.jdbc.OracleResultSet;
import oracle.jdbc.OracleResultSet.AuthorizationIndicator;
 
import oracle.security.xs.Role;
import oracle.security.xs.Session;
import oracle.security.xs.XSAccessController;
import oracle.security.xs.XSSessionManager;
 
/**
 * HR demo java version, check data security related privilege at mid-tier
 */
public class HRDemo {
 
  static Connection mgrConnection = null;
  static Connection appConnection = null;
  static XSSessionManager mgr = null;
  static String user = null;
 
  public static void main(String[] args)  {
 
    try {
      DriverManager.registerDriver(new OracleDriver());
 
 
      if (args.length &gt;=3) {
        user = args[0];
      } else {
        System.out.println("Usage HRDemo user pwd dbURL");
        System.exit(1);
      }
 
      setupConnection(args);
 
      queryAsUser("DAUSTIN");
      queryAsUser("SMAVRIS");
      
      cleanupConnection();
 
    } catch (Exception e1) {
      e1.printStackTrace();
    }
  }
 
</pre></div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Running the Security HR demo in Java assumes that the set up script described in <span class="q">"<a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">Setting Up the Security HR Demo Components</a>"</span> has been run to set up the Real Application Security components. </span></li>
                     <li class="stepexpand"><span>Compile the Java code.</span><div><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/jdk6/bin/javac -classpath $ORACLE_HOME/rdbms_ho/jlib/xs.jar:$ORACLE_HOME/dbjava/lib/ojdbc6.jar HRdemo.java
</pre><div class="infoboxnote" id="GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3__GUID-8BB95CE3-813F-42C6-8AD5-92F20979B559">
                              <p class="notep1">Note:</p>
                              <p>You must use JDK 6 with <code class="codeph">xs.jar</code> and <code class="codeph">ojdbc6.jar</code>, which are located in the Oracle home directory. Different jars and JDK may not work.
                              </p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Run the Java code. </span><div><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/jdk6/bin/java -classpath $ORACLE_HOME/rdbms_ho/jlib/xs.jar:$ORACLE_HOME/dbjava/lib/ojdbc6.jar

HRdemo db_hr db_hr jdbc:oracle:thin:@myserver:myport:mysid
</pre></div>
                     </li>
                  </ol>
               </div>
               <div class="sect3"><a id="CHDDJHBI" name="CHDDJHBI"></a><h4 id="DBFSG-CHDDJHBI" class="sect4">Output</h4>
                  <div>
                     <div class="section">
                        <p>Running the Security HR demo in Java assumes that the set up script described in <span class="q">"<a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">Setting Up the Security HR Demo Components</a>"</span> has been run to set up the Real Application Security components. When you run the Security HR demo, results of two queries are returned. 
                        </p>
                        <p>The first query runs with application user <code class="codeph">DAUSTIN</code>, who has application roles <code class="codeph">EMP_ROLE</code> and <code class="codeph">IT_ROLE</code>, so he can view employee records in the IT department, but he cannot view the <code class="codeph">SALARY</code> column except for his own salary record. The results of the query are as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Query HR.EMPLOYEES table as user "DAUSTIN"
  EMAIL  | FIRST_NAME | LAST_NAME  | DEPT | SALARY | UPDATE | VIEW_SALARY
  AHUNOLD|   Alexander|      Hunold|    60|   *****|   false|   false
   BERNST|       Bruce|       Ernst|    60|   *****|   false|   false
  DAUSTIN|       David|      Austin|    60|    4800|   false|    true
 DLORENTZ|       Diana|     Lorentz|    60|   *****|   false|   false
 VPATABAL|       Valli|   Pataballa|    60|   *****|   false|   false
</pre><p>Note that application user <code class="codeph">DAUSTIN</code> can only view the <code class="codeph">SALARY</code> column data for his own record, and no others. 
                        </p>
                        <p>The second query runs with application user SMAVRIS, who has application roles <code class="codeph">EMP_ROLE</code> and <code class="codeph">HR_ROLE</code>, so she can view and update all the employee records. The results of the query are as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Query HR.EMPLOYEES table as user "SMAVRIS"
  EMAIL  | FIRST_NAME | LAST_NAME  | DEPT | SALARY | UPDATE | VIEW_SALARY
  AHUNOLD|   Alexander|      Hunold|    60|    9000|    true|    true
   BERNST|       Bruce|       Ernst|    60|    6000|    true|    true
  DAUSTIN|       David|      Austin|    60|    4800|    true|    true
  DFAVIET|      Daniel|      Faviet|   100|    9000|    true|    true
 DLORENTZ|       Diana|     Lorentz|    60|    4200|    true|    true
 ISCIARRA|      Ismael|     Sciarra|   100|    7700|    true|    true
    JCHEN|        John|        Chen|   100|    8200|    true|    true
  JMURMAN| Jose Manuel|       Urman|   100|    7800|    true|    true
    LPOPP|        Luis|        Popp|   100|    6900|    true|    true
 NGREENBE|       Nancy|   Greenberg|   100|   12008|    true|    true
  SMAVRIS|       Susan|      Mavris|    40|    6500|    true|    true
 VPATABAL|       Valli|   Pataballa|    60|    4800|    true|    true
</pre><p>Note that application user <code class="codeph">SMAVRIS</code> can view all the employee records, including all data in the <code class="codeph">SALARY</code> column.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05231.plsql-data-types.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Every PL/SQL constant, variable, parameter, and function return value has a data type that determines its storage format and its valid values and operations.">
      <meta name="description" content="Every PL/SQL constant, variable, parameter, and function return value has a data type that determines its storage format and its valid values and operations.">
      <title>PL/SQL Data Types</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="Every PL/SQL constant, variable, parameter, and function return value has a data type that determines its storage format and its valid values and operations.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="plsql-language-fundamentals.html" title="Previous" type="text/html">
      <link rel="next" href="plsql-control-statements.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="plsql-language-fundamentals.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="plsql-control-statements.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Language Reference </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PL/SQL Data Types</li>
            </ol>
            <a id="GUID-391C58FD-16AF-486C-AF28-173E309CDBA5" name="GUID-391C58FD-16AF-486C-AF28-173E309CDBA5"></a><a id="LNPLS283"></a><a id="LNPLS003"></a>
            
            <h2 id="LNPLS-GUID-391C58FD-16AF-486C-AF28-173E309CDBA5" class="sect2"><span class="enumeration_chapter">3 </span>PL/SQL Data Types
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='plsql-data-types'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Every PL/SQL constant, variable, parameter, and function return value has a <span class="bold">data type</span> that determines its storage format and its valid values and operations.
               </p>
               <p>This chapter explains <span class="bold">scalar data types</span>, which store values with no internal components. 
               </p>
               <p>A scalar data type can have subtypes. A <span class="bold">subtype</span> is a data type that is a subset of another data type, which is its <span class="bold">base type</span>. A subtype has the same valid operations as its base type. A data type and its subtypes comprise a <span class="bold">data type family</span>.
               </p>
               <p>PL/SQL predefines many types and subtypes in the package <code class="codeph">STANDARD</code> and lets you define your own subtypes.
               </p>
               <p>The PL/SQL scalar data types are:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>The SQL data types</p>
                  </li>
                  <li>
                     <p><code class="codeph">BOOLEAN</code></p>
                  </li>
                  <li>
                     <p><code class="codeph">PLS_INTEGER</code></p>
                  </li>
                  <li>
                     <p><code class="codeph">BINARY_INTEGER</code></p>
                  </li>
                  <li>
                     <p><code class="codeph">REF</code> <code class="codeph">CURSOR</code></p>
                  </li>
                  <li>
                     <p>User-defined subtypes</p>
                  </li>
               </ul>
               <div class="section">
                  <p class="subhead1" id="GUID-391C58FD-16AF-486C-AF28-173E309CDBA5__GUID-8655FDCD-B723-4494-A164-D7A434746C4B">Topics</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="plsql-data-types.html#GUID-239A89A6-4CBC-46F5-8A6A-10E8B465B7E8" title="The PL/SQL data types include the SQL data types.">SQL Data Types</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-data-types.html#GUID-02AEA63C-9A27-43F4-80B7-4781343445D0" title="The PL/SQL data type BOOLEAN stores logical values, which are the boolean values TRUE and FALSE and the value NULL. NULL represents an unknown value.">BOOLEAN Data Type</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-data-types.html#GUID-9517B7AC-9CEA-4C36-A454-52588BEEBE8F" title="The PL/SQL data types PLS_INTEGER and BINARY_INTEGER are identical.">PLS_INTEGER and BINARY_INTEGER Data Types</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-data-types.html#GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF" title="SIMPLE_INTEGER is a predefined subtype of the PLS_INTEGER data type.">SIMPLE_INTEGER Subtype of PLS_INTEGER</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-data-types.html#GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670" title="PL/SQL lets you define your own subtypes.">User-Defined PL/SQL Subtypes</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-391C58FD-16AF-486C-AF28-173E309CDBA5__GUID-10A6FF0B-092D-457A-9CF1-9B9889862FB3">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="plsql-collections-and-records.html#GUID-7115C8B6-62F9-496D-BEC3-F7441DFE148A" title="PL/SQL lets you define two kinds of composite data types: collection and record.">PL/SQL Collections and Records</a>"</span> for information about <span class="bold">composite data types</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="static-sql.html#GUID-4A6E054A-4002-418D-A1CA-DE849CD7E6D5" title="To create a cursor variable, either declare a variable of the predefined type SYS_REFCURSOR or define a REF CURSOR type and then declare a variable of that type.After opening a cursor variable, you can fetch the rows of the query result set with the FETCH statement.You can assign to a PL/SQL cursor variable the value of another PL/SQL cursor variable or host cursor variable.The query associated with a cursor variable can reference any variable in its scope.You can use a cursor variable as a subprogram parameter, which makes it useful for passing query results between subprograms.You can use a cursor variable as a host variable, which makes it useful for passing query results between PL/SQL stored subprograms and their clients.">Cursor Variables</a>"</span> for information about <code class="codeph">REF</code> <code class="codeph">CURSOR</code></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="CREATE-TYPE-statement.html#GUID-389D603D-FBD0-452A-8414-240BBBC57034" title="The CREATE TYPE statement specifies the name of the type and its attributes, methods, and other properties.">CREATE TYPE Statement</a>"</span> for information about creating schema-level user-defined data types
                        </p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="plsql-predefined-data-types.html#GUID-1D28B7B6-15AE-454A-8134-F8724551AE8B">PL/SQL Predefined Data Types</a>"</span> for the predefined PL/SQL data types and subtypes, grouped by data type family
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="LNPLS286"></a><div class="props_rev_3"><a id="GUID-239A89A6-4CBC-46F5-8A6A-10E8B465B7E8" name="GUID-239A89A6-4CBC-46F5-8A6A-10E8B465B7E8"></a><h3 id="LNPLS-GUID-239A89A6-4CBC-46F5-8A6A-10E8B465B7E8" class="sect3"><span class="enumeration_section">3.1 </span>SQL Data Types
               </h3>
               <div>
                  <p>The PL/SQL data types include the SQL data types.</p>
                  <p>For information about the SQL data types, see <a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>—all information there about data types and subtypes, data type comparison rules, data conversion, literals, and format models applies to both SQL and PL/SQL, except as noted here:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-data-types.html#GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0">Different Maximum Sizes</a></p>
                     </li>
                     <li>
                        <p><a href="plsql-data-types.html#GUID-9410B67C-0E65-45BE-9376-0BD97E39D678">Additional PL/SQL Constants for BINARY_FLOAT and BINARY_DOUBLE</a></p>
                     </li>
                     <li>
                        <p><a href="plsql-data-types.html#GUID-48101DAA-B168-4648-A05A-CA81A9512E8C">Additional PL/SQL Subtypes of BINARY_FLOAT and BINARY_DOUBLE</a></p>
                     </li>
                  </ul>
                  <p>Unlike SQL, PL/SQL lets you declare variables, to which the following topics apply:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-data-types.html#GUID-43BB16CE-9D77-419B-ACE9-32D8A91B3D43" title="This explains the differences and considerations of using blank-padding with CHAR and VARCHAR2.The SQL rules for comparing character values apply to PL/SQL character variables.">CHAR and VARCHAR2 Variables</a></p>
                     </li>
                     <li>
                        <p><a href="plsql-data-types.html#GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9">LONG and LONG RAW Variables</a></p>
                     </li>
                     <li>
                        <p><a href="plsql-data-types.html#GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650">ROWID and UROWID Variables</a></p>
                     </li>
                  </ul>
               </div><a id="LNPLS2172"></a><a id="LNPLS99943"></a><div class="props_rev_3"><a id="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0" name="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0"></a><h4 id="LNPLS-GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0" class="sect4"><span class="enumeration_section">3.1.1 </span>Different Maximum Sizes
                  </h4>
                  <div>
                     <p>The SQL data types listed in <a href="plsql-data-types.html#GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAHEEJF" title="This table has three columns. The first column lists the predefined SQL data types that have different maximum values in PL/SQL and SQL, the second column gives their maximum sizes in PL/SQL, and the third column gives their maximum values in SQL.">Table 3-1</a> have different maximum sizes in PL/SQL and SQL.
                     </p>
                     <div class="tblformal" id="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAHEEJF">
                        <p class="titleintable">Table 3-1 Data Types with Different Maximum Sizes in PL/SQL and SQL</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Data Types with Different Maximum Sizes in PL/SQL and SQL" summary="This table has three columns. The first column lists the predefined SQL data types that have different maximum values in PL/SQL and SQL, the second column gives their maximum sizes in PL/SQL, and the third column gives their maximum values in SQL." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d27514e500">Data Type</th>
                                 <th align="left" valign="bottom" width="32%" id="d27514e503">Maximum Size in PL/SQL</th>
                                 <th align="left" valign="bottom" width="48%" id="d27514e506">Maximum Size in SQL</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e511" headers="d27514e500 ">
                                    <p><code class="codeph">CHAR</code><a id="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJADBCHJ" name="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJADBCHJ" href="#GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJADBCHJ" onclick="footdisplay(1, "When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.")"><sup>Foot&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e511 d27514e503 ">
                                    <p>32,767 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e511 d27514e506 ">
                                    <p>2,000 bytes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e525" headers="d27514e500 ">
                                    <p><code class="codeph">NCHAR</code><a id="fnsrc_d27514e529" name="fnsrc_d27514e529" href="#fnsrc_d27514e529" onclick="footdisplay(1, "When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.")"><sup>Footref&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e525 d27514e503 ">
                                    <p>32,767 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e525 d27514e506 ">
                                    <p>2,000 bytes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e538" headers="d27514e500 ">
                                    <p><code class="codeph">RAW</code><a id="fnsrc_d27514e542" name="fnsrc_d27514e542" href="#fnsrc_d27514e542" onclick="footdisplay(1, "When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.")"><sup>Footref&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e538 d27514e503 ">
                                    <p>32,767 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e538 d27514e506 ">
                                    <p>2,000 bytes<a id="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAGGFGH" name="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAGGFGH" href="#GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAGGFGH" onclick="footdisplay(2, "To eliminate this size difference, follow the instructions in Oracle Database SQL Language Reference.")"><sup>Foot&nbsp;2</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e559" headers="d27514e500 ">
                                    <p><code class="codeph">VARCHAR2</code><a id="fnsrc_d27514e563" name="fnsrc_d27514e563" href="#fnsrc_d27514e563" onclick="footdisplay(1, "When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.")"><sup>Footref&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e559 d27514e503 ">
                                    <p>32,767 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e559 d27514e506 ">
                                    <p>4,000 bytes<a id="fnsrc_d27514e571" name="fnsrc_d27514e571" href="#fnsrc_d27514e571" onclick="footdisplay(2, "To eliminate this size difference, follow the instructions in Oracle Database SQL Language Reference.")"><sup>Footref&nbsp;2</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e574" headers="d27514e500 ">
                                    <p><code class="codeph">NVARCHAR2</code><a id="fnsrc_d27514e578" name="fnsrc_d27514e578" href="#fnsrc_d27514e578" onclick="footdisplay(1, "When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.")"><sup>Footref&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e574 d27514e503 ">
                                    <p>32,767 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e574 d27514e506 ">
                                    <p>4,000 bytes<a id="fnsrc_d27514e586" name="fnsrc_d27514e586" href="#fnsrc_d27514e586" onclick="footdisplay(2, "To eliminate this size difference, follow the instructions in Oracle Database SQL Language Reference.")"><sup>Footref&nbsp;2</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e589" headers="d27514e500 ">
                                    <p><code class="codeph">LONG</code><a id="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAFECGG" name="GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAFECGG" href="#GUID-C3B938C9-7B0B-4AAC-8323-FEB2ED0225D0__CJAFECGG" onclick="footdisplay(3, "Supported only for backward compatibility with existing applications.")"><sup>Foot&nbsp;3</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e589 d27514e503 ">
                                    <p>32,760 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e589 d27514e506 ">
                                    <p>2 gigabytes (GB) - 1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e603" headers="d27514e500 ">
                                    <p><code class="codeph">LONG</code> <code class="codeph">RAW</code><a id="fnsrc_d27514e610" name="fnsrc_d27514e610" href="#fnsrc_d27514e610" onclick="footdisplay(3, "Supported only for backward compatibility with existing applications.")"><sup>Footref&nbsp;3</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e603 d27514e503 ">
                                    <p>32,760 bytes</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e603 d27514e506 ">
                                    <p>2 GB</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e619" headers="d27514e500 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e619 d27514e503 ">
                                    <p>128 terabytes (TB)</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e619 d27514e506 ">
                                    <p>(4 GB - 1) * <span class="italic"><code class="codeph">database_block_size</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e633" headers="d27514e500 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e633 d27514e503 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e633 d27514e506 ">
                                    <p>(4 GB - 1) * <span class="italic"><code class="codeph">database_block_size</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d27514e647" headers="d27514e500 ">
                                    <p><code class="codeph">NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d27514e647 d27514e503 ">
                                    <p>128 TB</p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d27514e647 d27514e506 ">
                                    <p>(4 GB - 1) * <span class="italic"><code class="codeph">database_block_size</code></span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>When specifying the maximum size of a value of this data type in PL/SQL, use an integer literal (not a constant or variable) whose value is in the range from 1 through 32,767.</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p>To eliminate this size difference, follow the instructions in <a href="../sqlrf/Data-Types.html#SQLRF55623" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3 </sup></p><p>Supported only for backward compatibility with existing applications.</p>
                     <p></p>
                  </div>
               </div><a id="LNPLS327"></a><a id="LNPLS326"></a><div class="props_rev_3"><a id="GUID-9410B67C-0E65-45BE-9376-0BD97E39D678" name="GUID-9410B67C-0E65-45BE-9376-0BD97E39D678"></a><h4 id="LNPLS-GUID-9410B67C-0E65-45BE-9376-0BD97E39D678" class="sect4"><span class="enumeration_section">3.1.2 </span>Additional PL/SQL Constants for BINARY_FLOAT and BINARY_DOUBLE
                  </h4>
                  <div>
                     <p>The SQL data types <code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code> represent single-precision and double-precision IEEE 754-format floating-point numbers, respectively.
                     </p>
                     <p><code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code> computations do not raise exceptions, so you must check the values that they produce for conditions such as overflow and underflow by comparing them to predefined constants (for examples, see <a href="../sqlrf/Literals.html#SQLRF51060" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>). PL/SQL has more of these constants than SQL does.
                     </p>
                     <p><a href="plsql-data-types.html#GUID-9410B67C-0E65-45BE-9376-0BD97E39D678__CIHHEAFG" title="This table summarizes the predefined PL/SQL BINARY_FLOAT and BINARY_DOUBLE constants (with asterisks indicating which constants SQL also defines).">Table 3-2</a> lists and describes the predefined PL/SQL constants for <code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code>, and identifies those that SQL also defines.
                     </p>
                     <div class="tblformal" id="GUID-9410B67C-0E65-45BE-9376-0BD97E39D678__CIHHEAFG">
                        <p class="titleintable">Table 3-2 Predefined PL/SQL BINARY_FLOAT and BINARY_DOUBLE Constants</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined PL/SQL BINARY_FLOAT and BINARY_DOUBLE Constants" summary="This table summarizes the predefined PL/SQL BINARY_FLOAT and BINARY_DOUBLE constants (with asterisks indicating which constants SQL also defines)." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="41%" id="d27514e794">Constant</th>
                                 <th align="left" valign="bottom" width="59%" id="d27514e797">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e802" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_NAN</code> (*)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e802 d27514e797 ">
                                    <p><code class="codeph">BINARY_FLOAT</code> value for which the condition <code class="codeph">IS</code> <code class="codeph">NAN</code> (not a number) is true
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e819" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_INFINITY</code> (*)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e819 d27514e797 ">
                                    <p>Single-precision positive infinity</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e828" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_MAX_NORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e828 d27514e797 ">
                                    <p>Maximum normal <code class="codeph">BINARY_FLOAT</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e839" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_MIN_NORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e839 d27514e797 ">
                                    <p>Minimum normal <code class="codeph">BINARY_FLOAT</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e850" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_MAX_SUBNORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e850 d27514e797 ">
                                    <p>Maximum subnormal <code class="codeph">BINARY_FLOAT</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e861" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_FLOAT_MIN_SUBNORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e861 d27514e797 ">
                                    <p>Minimum subnormal <code class="codeph">BINARY_FLOAT</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e872" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_NAN</code> (*)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e872 d27514e797 ">
                                    <p><code class="codeph">BINARY_DOUBLE</code> value for which the condition <code class="codeph">IS</code> <code class="codeph">NAN</code> (not a number) is true
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e889" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_INFINITY</code> (*)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e889 d27514e797 ">
                                    <p>Double-precision positive infinity</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e898" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_MAX_NORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e898 d27514e797 ">
                                    <p>Maximum normal <code class="codeph">BINARY_DOUBLE</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e909" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_MIN_NORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e909 d27514e797 ">
                                    <p>Minimum normal <code class="codeph">BINARY_DOUBLE</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e920" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_MAX_SUBNORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e920 d27514e797 ">
                                    <p>Maximum subnormal <code class="codeph">BINARY_DOUBLE</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d27514e932" headers="d27514e794 ">
                                    <p><code class="codeph">BINARY_DOUBLE_MIN_SUBNORMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d27514e932 d27514e797 ">
                                    <p>Minimum subnormal <code class="codeph">BINARY_DOUBLE</code> value
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p id="GUID-9410B67C-0E65-45BE-9376-0BD97E39D678__SQLALSOPREDEFINESTHISCONSTANT.-5C523FE8">(*) SQL also predefines this constant.</p>
                  </div>
               </div><a id="LNPLS99942"></a><div class="props_rev_3"><a id="GUID-48101DAA-B168-4648-A05A-CA81A9512E8C" name="GUID-48101DAA-B168-4648-A05A-CA81A9512E8C"></a><h4 id="LNPLS-GUID-48101DAA-B168-4648-A05A-CA81A9512E8C" class="sect4"><span class="enumeration_section">3.1.3 </span>Additional PL/SQL Subtypes of BINARY_FLOAT and BINARY_DOUBLE
                  </h4>
                  <div>
                     <p>PL/SQL predefines these subtypes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">SIMPLE_FLOAT</code>, a subtype of SQL data type <code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SIMPLE_DOUBLE</code>, a subtype of SQL data type <code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                     </ul>
                     <p>Each subtype has the same range as its base type and has a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint (explained in <span class="q">"<a href="plsql-language-fundamentals.html#GUID-6705CC7D-470A-4B4A-BCAD-6843F227C012" title="You can impose the NOT NULL constraint on a scalar variable or constant (or scalar component of a composite variable or constant).">NOT NULL Constraint</a>"</span>).
                     </p>
                     <p>If you know that a variable will never have the value <code class="codeph">NULL</code>, declare it as <code class="codeph">SIMPLE_FLOAT</code> or <code class="codeph">SIMPLE_DOUBLE</code>, rather than <code class="codeph">BINARY_FLOAT</code> or <code class="codeph">BINARY_DOUBLE</code>. Without the overhead of checking for nullness, the subtypes provide significantly better performance than their base types. The performance improvement is greater with <code class="codeph">PLSQL_CODE_TYPE='NATIVE'</code> than with <code class="codeph">PLSQL_CODE_TYPE='INTERPRETED'</code> (for more information, see <span class="q">"<a href="plsql-optimization-and-tuning.html#GUID-CB9BF149-8E00-45F1-99E8-AC42795CF6D0">Use Data Types that Use Hardware Arithmetic</a>"</span>).
                     </p>
                  </div>
               </div><a id="LNPLS288"></a><a id="LNPLS332"></a><div class="props_rev_3"><a id="GUID-43BB16CE-9D77-419B-ACE9-32D8A91B3D43" name="GUID-43BB16CE-9D77-419B-ACE9-32D8A91B3D43"></a><h4 id="LNPLS-GUID-43BB16CE-9D77-419B-ACE9-32D8A91B3D43" class="sect4"><span class="enumeration_section">3.1.4 </span>CHAR and VARCHAR2 Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-43BB16CE-9D77-419B-ACE9-32D8A91B3D43__GUID-04046E77-E6A6-434F-828C-040EAA5A96BE">Topics</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="plsql-data-types.html#GUID-FB44B23B-0F5C-4507-AC5C-17D29339BD8A">Assigning or Inserting Too-Long Values</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-042904FC-F495-45D1-BF3F-17378D397C00">Declaring Variables for Multibyte Characters</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-7D0D76A5-D921-4823-91F5-FC9887598795" title="This explains the differences and considerations of using blank-padding with CHAR and VARCHAR2.The SQL rules for comparing character values apply to PL/SQL character variables.">Differences Between CHAR and VARCHAR2 Data Types</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNPLS99941"></a><div class="props_rev_3"><a id="GUID-FB44B23B-0F5C-4507-AC5C-17D29339BD8A" name="GUID-FB44B23B-0F5C-4507-AC5C-17D29339BD8A"></a><h5 id="LNPLS-GUID-FB44B23B-0F5C-4507-AC5C-17D29339BD8A" class="sect5"><span class="enumeration_section">3.1.4.1 </span>Assigning or Inserting Too-Long Values
                     </h5>
                     <div>
                        <div class="section">
                           <p>If the value that you assign to a character variable is longer than the maximum size of the variable, an error occurs. For example:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  c VARCHAR2(<span class="bold">3 CHAR</span>);
BEGIN
  c := <span class="bold">'abc  '</span>;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
<span class="bold">ORA-06502: PL/SQL: numeric or value error: character string buffer too small</span>
<span class="bold">ORA-06512: at line 4</span>
</pre><p>Similarly, if you insert a character variable into a column, and the value of the variable is longer than the defined width of the column, an error occurs. For example:</p><pre class="oac_no_warn" dir="ltr">DROP TABLE t;
CREATE TABLE t (c CHAR(<span class="bold">3 CHAR</span>));
 
DECLARE
  <span class="bold">s VARCHAR2(5 CHAR) := 'abc  '</span>;
BEGIN
  INSERT INTO t(c) VALUES(<span class="bold">s</span>);
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">BEGIN
*
ERROR at line 1:
<span class="bold">ORA-12899: value too large for column "HR"."T"."C" (actual: 5, maximum: 3)</span>
<span class="bold">ORA-06512: at line 4</span>
</pre><p>To strip trailing blanks from a character value before assigning it to a variable or inserting it into a column, use the <code class="codeph">RTRIM</code> function, explained in <a href="../sqlrf/RTRIM.html#SQLRF06104" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>. For example:
                           </p><pre class="oac_no_warn" dir="ltr">DECLARE
  c VARCHAR2(3 CHAR);
BEGIN
  c := <span class="bold">RTRIM('abc  ')</span>;
  INSERT INTO t(c) VALUES(<span class="bold">RTRIM('abc  ')</span>);
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">PL/SQL procedure successfully completed.</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNPLS99940"></a><div class="props_rev_3"><a id="GUID-042904FC-F495-45D1-BF3F-17378D397C00" name="GUID-042904FC-F495-45D1-BF3F-17378D397C00"></a><h5 id="LNPLS-GUID-042904FC-F495-45D1-BF3F-17378D397C00" class="sect5"><span class="enumeration_section">3.1.4.2 </span>Declaring Variables for Multibyte Characters
                     </h5>
                     <div>
                        <div class="section">
                           <p>The maximum <span class="italic">size</span> of a <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2</code> variable is 32,767 bytes, whether you specify the maximum size in characters or bytes. The maximum <span class="italic">number of characters</span> in the variable depends on the character set type and sometimes on the characters themselves:
                           </p>
                           <div class="tblformal" id="GUID-042904FC-F495-45D1-BF3F-17378D397C00__GUID-751238CD-9C01-42A4-A1A9-90ED5EC43C85">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The left column lists the types of character sets and the right column lists the maximum number of characters that the character set type can have." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="40%" id="d27514e1456">Character Set Type</th>
                                       <th align="left" valign="bottom" width="60%" id="d27514e1459">Maximum Number of Characters</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="40%" id="d27514e1464" headers="d27514e1456 ">
                                          <p>Single-byte character set</p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d27514e1464 d27514e1459 ">
                                          <p>32,767</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="40%" id="d27514e1471" headers="d27514e1456 ">
                                          <p><span class="italic">n</span>-byte fixed-width multibyte character set (for example, AL16UTF16)
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d27514e1471 d27514e1459 ">
                                          <p><code class="codeph">FLOOR(32,767/</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">)</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="40%" id="d27514e1486" headers="d27514e1456 ">
                                          <p><span class="italic">n</span>-byte variable-width multibyte character set with character widths between 1 and <span class="italic">n</span> bytes (for example, JA16SJIS or AL32UTF8)
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="60%" headers="d27514e1486 d27514e1459 ">
                                          <p>Depends on characters themselves—can be anything from 32,767 (for a string containing only 1-byte characters) through <code class="codeph">FLOOR(32,767/</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">)</code> (for a string containing only <span class="italic">n</span>-byte characters).
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>When declaring a <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2</code> variable, to ensure that it can always hold <span class="italic">n</span> characters in any multibyte character set, declare its length in characters—that is, <code class="codeph">CHAR(</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">CHAR)</code> or <code class="codeph">VARCHAR2(</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">CHAR)</code>, where <span class="italic">n</span> does not exceed <code class="codeph">FLOOR(32767/4)</code> = 8191.
                           </p>
                           <div class="infoboxnotealso" id="GUID-042904FC-F495-45D1-BF3F-17378D397C00__GUID-19106AF6-B38A-4D94-9974-6069A994C9A8">
                              <p class="notep1">See Also:</p>
                              <p><a href="../nlspg/overview-of-globalization-support.html#NLSPG153" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for information about Oracle Database character set support
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNPLS99939"></a><div class="props_rev_3"><a id="GUID-7D0D76A5-D921-4823-91F5-FC9887598795" name="GUID-7D0D76A5-D921-4823-91F5-FC9887598795"></a><h5 id="LNPLS-GUID-7D0D76A5-D921-4823-91F5-FC9887598795" class="sect5"><span class="enumeration_section">3.1.4.3 </span>Differences Between CHAR and VARCHAR2 Data Types
                     </h5>
                     <div>
                        <p><code class="codeph">CHAR</code> and <code class="codeph">VARCHAR2</code> data types differ in:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="plsql-data-types.html#GUID-6E2DB5F5-FB20-456D-9861-B0846207F53C">Predefined Subtypes</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-91989965-9087-4091-8B37-01E025E33FD7" title="This explains the differences and considerations of using blank-padding with CHAR and VARCHAR2.">How Blank-Padding Works</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-624E93C5-2115-44FB-9F75-F5513FD25204" title="The SQL rules for comparing character values apply to PL/SQL character variables.">Value Comparisons</a></p>
                           </li>
                        </ul>
                     </div><a id="LNPLS333"></a><div class="props_rev_3"><a id="GUID-6E2DB5F5-FB20-456D-9861-B0846207F53C" name="GUID-6E2DB5F5-FB20-456D-9861-B0846207F53C"></a><h6 id="LNPLS-GUID-6E2DB5F5-FB20-456D-9861-B0846207F53C" class="sect6"><span class="enumeration_section">3.1.4.3.1 </span>Predefined Subtypes
                        </h6>
                        <div>
                           <p>The <code class="codeph">CHAR</code> data type has one predefined subtype in both PL/SQL and SQL—<code class="codeph">CHARACTER</code>.
                           </p>
                           <p>The <code class="codeph">VARCHAR2</code> data type has one predefined subtype in both PL/SQL and SQL, <code class="codeph">VARCHAR</code>, and an additional predefined subtype in PL/SQL, <code class="codeph">STRING</code>.
                           </p>
                           <p>Each subtype has the same range of values as its base type.</p>
                           <div class="infoboxnote" id="GUID-6E2DB5F5-FB20-456D-9861-B0846207F53C__GUID-821BD336-F10E-4F22-9B99-A45CF44A7AF8">
                              <p class="notep1">Note:</p>
                              <p>In a future PL/SQL release, to accommodate emerging SQL standards, <code class="codeph">VARCHAR</code> might become a separate data type, no longer synonymous with <code class="codeph">VARCHAR2</code>.
                              </p>
                           </div>
                        </div>
                     </div><a id="LNPLS289"></a><a id="LNPLS335"></a><div class="props_rev_3"><a id="GUID-91989965-9087-4091-8B37-01E025E33FD7" name="GUID-91989965-9087-4091-8B37-01E025E33FD7"></a><h6 id="LNPLS-GUID-91989965-9087-4091-8B37-01E025E33FD7" class="sect6"><span class="enumeration_section">3.1.4.3.2 </span>How Blank-Padding Works
                        </h6>
                        <div>
                           <p>This explains the differences and considerations of using  blank-padding with CHAR and VARCHAR2.</p>
                           <p>Consider these situations:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The value that you assign to a variable is shorter than the maximum size of the variable.</p>
                              </li>
                              <li>
                                 <p>The value that you insert into a column is shorter than the defined width of the column.</p>
                              </li>
                              <li>
                                 <p>The value that you retrieve from a column into a variable is shorter than the maximum size of the variable.</p>
                              </li>
                           </ul>
                           <p>If the data type of the receiver is <code class="codeph">CHAR</code>, PL/SQL blank-pads the value to the maximum size. Information about trailing blanks in the original value is lost.
                           </p>
                           <p>If the data type of the receiver is <code class="codeph">VARCHAR2</code>, PL/SQL neither blank-pads the value nor strips trailing blanks. Character values are assigned intact, and no information is lost.
                           </p>
                           <div class="example" id="GUID-91989965-9087-4091-8B37-01E025E33FD7__CHDBABGF">
                              <p class="titleinexample">Example 3-1 CHAR and VARCHAR2 Blank-Padding Difference</p>
                              <p>In this example, both the <code class="codeph">CHAR</code> variable and the <code class="codeph">VARCHAR2</code> variable have the maximum size of 10 characters. Each variable receives a five-character value with one trailing blank. The value assigned to the <code class="codeph">CHAR</code> variable is blank-padded to 10 characters, and you cannot tell that one of the six trailing blanks in the resulting value was in the original value. The value assigned to the <code class="codeph">VARCHAR2</code> variable is not changed, and you can see that it has one trailing blank.
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
  first_name  CHAR(10 CHAR);
  last_name   VARCHAR2(10 CHAR);
BEGIN
  first_name := 'John ';
  last_name  := 'Chen ';
 
  DBMS_OUTPUT.PUT_LINE('*' || first_name || '*');
  DBMS_OUTPUT.PUT_LINE('*' || last_name || '*');
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">*John      *
*Chen *</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="LNPLS336"></a><div class="props_rev_3"><a id="GUID-624E93C5-2115-44FB-9F75-F5513FD25204" name="GUID-624E93C5-2115-44FB-9F75-F5513FD25204"></a><h6 id="LNPLS-GUID-624E93C5-2115-44FB-9F75-F5513FD25204" class="sect6"><span class="enumeration_section">3.1.4.3.3 </span>Value Comparisons
                        </h6>
                        <div>
                           <p>The SQL rules for comparing character values apply to PL/SQL character variables. </p>
                           <p>Whenever one or both values in the comparison have the data type <code class="codeph">VARCHAR2</code> or <code class="codeph">NVARCHAR2</code>, nonpadded comparison semantics apply; otherwise, blank-padded semantics apply. For more information, see <a href="../sqlrf/Data-Type-Comparison-Rules.html#SQLRF51040" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNPLS346"></a><div class="props_rev_3"><a id="GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9" name="GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9"></a><h4 id="LNPLS-GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9" class="sect4"><span class="enumeration_section">3.1.5 </span>LONG and LONG RAW Variables
                  </h4>
                  <div>
                     <div class="infoboxnote" id="GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9__GUID-7F06927A-56ED-4AEC-94F7-419D3CE6D474">
                        <p class="notep1">Note:</p>
                        <p>Oracle supports the <code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> data types only for backward compatibility with existing applications. For new applications:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Instead of <code class="codeph">LONG</code>, use <code class="codeph">VARCHAR2(32760)</code>, <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code>.
                              </p>
                           </li>
                           <li>
                              <p>Instead of <code class="codeph">LONG</code> <code class="codeph">RAW</code>, use <code class="codeph">BLOB</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>You can insert any <code class="codeph">LONG</code> value into a <code class="codeph">LONG</code> column. You can insert any <code class="codeph">LONG</code> <code class="codeph">RAW</code> value into a <code class="codeph">LONG</code> <code class="codeph">RAW</code> column. You cannot retrieve a value longer than 32,760 bytes from a <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code> column into a <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code> variable.
                     </p>
                     <p>You can insert any <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2</code> value into a <code class="codeph">LONG</code> column. You cannot retrieve a value longer than 32,767 bytes from a <code class="codeph">LONG</code> column into a <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2</code> variable.
                     </p>
                     <p>You can insert any <code class="codeph">RAW</code> value into a <code class="codeph">LONG</code> <code class="codeph">RAW</code> column. You cannot retrieve a value longer than 32,767 bytes from a <code class="codeph">LONG</code> <code class="codeph">RAW</code> column into a <code class="codeph">RAW</code> variable.
                     </p>
                     <div class="infoboxnotealso" id="GUID-89ABA12C-6096-446C-9E2C-65687A0B8DA9__GUID-BF1DF5EB-DC4B-4165-80E0-126E49F9C2F9">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="plsql-triggers.html#GUID-CC076546-C00D-4CC6-A664-82CCE4F64533">Trigger LONG and LONG RAW Data Type Restrictions</a>"</span> for restrictions on <code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> data types in triggers
                        </p>
                     </div>
                  </div>
               </div><a id="LNPLS347"></a><div class="props_rev_3"><a id="GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650" name="GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650"></a><h4 id="LNPLS-GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650" class="sect4"><span class="enumeration_section">3.1.6 </span>ROWID and UROWID Variables
                  </h4>
                  <div>
                     <p>When you retrieve a rowid into a <code class="codeph">ROWID</code> variable, use the <code class="codeph">ROWIDTOCHAR</code> function to convert the binary value to a character value. For information about this function, see <a href="../sqlrf/ROWIDTOCHAR.html#SQLRF06101" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                     </p>
                     <p>To convert the value of a <code class="codeph">ROWID</code> variable to a rowid, use the <code class="codeph">CHARTOROWID</code> function, explained in <a href="../sqlrf/CHARTOROWID.html#SQLRF00615" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>. If the value does not represent a valid rowid, PL/SQL raises the predefined exception <code class="codeph">SYS_INVALID_ROWID</code>.
                     </p>
                     <p>To retrieve a rowid into a <code class="codeph">UROWID</code> variable, or to convert the value of a <code class="codeph">UROWID</code> variable to a rowid, use an assignment statement; conversion is implicit.
                     </p>
                     <div class="infoboxnote" id="GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650__GUID-20833E69-059E-4F40-8B7A-0D522C52D5D6">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">UROWID</code> is a more versatile data type than <code class="codeph">ROWID</code>, because it is compatible with both logical and physical rowids.
                              </p>
                           </li>
                           <li>
                              <p>When you update a row in a table compressed with Hybrid Columnar Compression (HCC), the <code class="codeph">ROWID</code> of the row changes. HCC, a feature of certain Oracle storage systems, is described in <a href="../cncpt/tables-and-table-clusters.html#CNCPT89198" target="_blank"><span class="italic">Oracle Database Concepts</span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-378DD770-A137-44F7-9F0C-C4AB9A5E1650__GUID-4B362DDB-EF06-4519-8551-C58CF805E1AE">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_ROWID.html#ARPLS053" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_ROWID</code> package, whose subprograms let you create and return information about <code class="codeph">ROWID</code> values (but not <code class="codeph">UROWID</code> values)
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPLS290"></a><a id="LNPLS518"></a><a id="LNPLS348"></a><div class="props_rev_3"><a id="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0" name="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0"></a><h3 id="LNPLS-GUID-02AEA63C-9A27-43F4-80B7-4781343445D0" class="sect3"><span class="enumeration_section">3.2 </span>BOOLEAN Data Type
               </h3>
               <div>
                  <p>The PL/SQL data type <code class="codeph">BOOLEAN</code> stores <span class="bold">logical values</span>, which are the boolean values <code class="codeph">TRUE</code> and <code class="codeph">FALSE</code> and the value <code class="codeph">NULL</code>. <code class="codeph">NULL</code> represents an unknown value.
                  </p>
                  <p>The syntax for declaring an <code class="codeph">BOOLEAN</code> variable is:
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">variable_name</span> BOOLEAN
</pre><p>The only value that you can assign to a <code class="codeph">BOOLEAN</code> variable is a <code class="codeph">BOOLEAN</code> expression. For details, see <span class="q">"<a href="plsql-language-fundamentals.html#GUID-E277B6FF-866F-486A-BCB1-58235C0AFC69" title="A BOOLEAN expression is an expression that returns a BOOLEAN value—TRUE, FALSE, or NULL.">BOOLEAN Expressions</a>"</span>.
                  </p>
                  <p>Because SQL has no data type equivalent to <code class="codeph">BOOLEAN</code>, you cannot:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Assign a <code class="codeph">BOOLEAN</code> value to a database table column
                        </p>
                     </li>
                     <li>
                        <p>Select or fetch the value of a database table column into a <code class="codeph">BOOLEAN</code> variable
                        </p>
                     </li>
                     <li>
                        <p>Use a <code class="codeph">BOOLEAN</code> value in a SQL function
                        </p>
                        <p>(However, a SQL query can invoke a PL/SQL function that has a <code class="codeph">BOOLEAN</code> parameter, as in <span class="q">"<a href="plsql-data-types.html#GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__CJAJAJIC">Example 3-3</a>"</span>.)
                        </p>
                     </li>
                     <li>
                        <p>Use a <code class="codeph">BOOLEAN</code> expression in a SQL statement, except as an argument to a PL/SQL function invoked in a SQL query, or in a PL/SQL anonymous block.
                        </p>
                        <div class="infoboxnote" id="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__GUID-768CF4E6-867D-4EF2-97D3-021CCDD30F47">
                           <p class="notep1">Note:</p>
                           <p>An argument to a PL/SQL function invoked in a static SQL query cannot be a <code class="codeph">BOOLEAN</code> literal. The workaround is to assign the literal to a variable and then pass the variable to the function, as in <span class="q">"<a href="plsql-data-types.html#GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__CJAJAJIC">Example 3-3</a>"</span>.
                           </p>
                        </div>
                     </li>
                  </ul>
                  <p>You cannot pass a <code class="codeph">BOOLEAN</code> value to the <code class="codeph">DBMS_OUTPUT</code>.<code class="codeph">PUT</code> or <code class="codeph">DBMS_OUTPUT</code>.<code class="codeph">PUTLINE</code> subprogram. To print a <code class="codeph">BOOLEAN</code> value, use an <code class="codeph">IF</code> or <code class="codeph">CASE</code> statement to translate it to a character value (for information about these statements, see <span class="q">"<a href="plsql-control-statements.html#GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31" title="The conditional selection statements, IF and CASE, run different statements for different data values.">Conditional Selection Statements</a>"</span>).
                  </p>
                  <div class="example" id="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__CHDHDHHA">
                     <p class="titleinexample">Example 3-2 Printing BOOLEAN Values</p>
                     <p>In this example, the procedure accepts a <code class="codeph">BOOLEAN</code> parameter and uses a <code class="codeph">CASE</code> statement to print <code class="codeph">Unknown</code> if the value of the parameter is <code class="codeph">NULL</code>, <code class="codeph">Yes</code> if it is <code class="codeph">TRUE</code>, and <code class="codeph">No</code> if it is <code class="codeph">FALSE</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__GUID-95CBF1E9-1457-458C-A0D7-84E772F30FDE">
                        <p class="notep1">See Also:</p>
                        <p><a href="plsql-language-fundamentals.html#GUID-9D19FEBB-A397-47F5-A4EC-D71B0DE91738__CIHDAFEJ">Example 2-34</a>, which creates a <code class="codeph">print_boolean</code> procedure that uses an <code class="codeph">IF</code> statement.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">PROCEDURE print_boolean (b BOOLEAN)
AS
BEGIN
  DBMS_OUTPUT.PUT_LINE (
    CASE
      WHEN b IS NULL THEN 'Unknown'
      WHEN b THEN 'Yes'
      WHEN NOT b THEN 'No'
    END
  );
END;

BEGIN
  print_boolean(TRUE);
  print_boolean(FALSE);
  print_boolean(NULL);
END;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Yes
No
Unknown</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-02AEA63C-9A27-43F4-80B7-4781343445D0__CJAJAJIC">
                     <p class="titleinexample">Example 3-3 SQL Statement Invokes PL/SQL Function with BOOLEAN Parameter</p>
                     <p>In this example, a SQL statement invokes a PL/SQL function that has a <code class="codeph">BOOLEAN</code> parameter.
                     </p><pre class="oac_no_warn" dir="ltr">FUNCTION f (<span class="bold">x BOOLEAN</span>, y PLS_INTEGER)
  RETURN employees.employee_id%TYPE
  AUTHID CURRENT_USER AS
BEGIN
  IF x THEN
    RETURN y;
  ELSE
    RETURN 2*y;
  END IF;
END;
 
DECLARE
  name employees.last_name%TYPE;
  <span class="bold">b BOOLEAN := TRUE;</span>
BEGIN
  SELECT last_name INTO name
  FROM employees
  WHERE employee_id = <span class="bold">f(b, 100)</span>;
 
  DBMS_OUTPUT.PUT_LINE(name);
 
  <span class="bold">b := FALSE;</span>
 
  SELECT last_name INTO name
  FROM employees
  WHERE employee_id = <span class="bold">f(b, 100)</span>;
 
  DBMS_OUTPUT.PUT_LINE(name);
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">King
Whalen</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="LNPLS291"></a><a id="LNPLS319"></a><div class="props_rev_3"><a id="GUID-9517B7AC-9CEA-4C36-A454-52588BEEBE8F" name="GUID-9517B7AC-9CEA-4C36-A454-52588BEEBE8F"></a><h3 id="LNPLS-GUID-9517B7AC-9CEA-4C36-A454-52588BEEBE8F" class="sect3"><span class="enumeration_section">3.3 </span>PLS_INTEGER and BINARY_INTEGER Data Types
               </h3>
               <div>
                  <p>The PL/SQL data types <code class="codeph">PLS_INTEGER</code> and <code class="codeph">BINARY_INTEGER</code> are identical. 
                  </p>
                  <p>For simplicity, this document uses <code class="codeph">PLS_INTEGER</code> to mean both <code class="codeph">PLS_INTEGER</code> and <code class="codeph">BINARY_INTEGER</code>.
                  </p>
                  <p>The <code class="codeph">PLS_INTEGER</code> data type stores signed integers in the range -2,147,483,648 through 2,147,483,647, represented in 32 bits.
                  </p>
                  <p>The <code class="codeph">PLS_INTEGER</code> data type has these advantages over the <code class="codeph">NUMBER</code> data type and <code class="codeph">NUMBER</code> subtypes:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">PLS_INTEGER</code> values require less storage.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">PLS_INTEGER</code> operations use hardware arithmetic, so they are faster than <code class="codeph">NUMBER</code> operations, which use library arithmetic.
                        </p>
                     </li>
                  </ul>
                  <p>For efficiency, use <code class="codeph">PLS_INTEGER</code> values for all calculations in its range.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-9517B7AC-9CEA-4C36-A454-52588BEEBE8F__GUID-4E80819D-0420-48DE-A9A7-649BC0C6DA3B">Topics</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="plsql-data-types.html#GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965" title="A calculation with two PLS_INTEGER values that overflows the PLS_INTEGER range raises an overflow exception.">Preventing PLS_INTEGER Overflow</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-data-types.html#GUID-00859F04-85FC-422D-B35B-93F5B5F4B912" title="This summary lists the predefined subtypes of the PLS_INTEGER data type and describes the data they store.">Predefined PLS_INTEGER Subtypes</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-data-types.html#GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF" title="SIMPLE_INTEGER is a predefined subtype of the PLS_INTEGER data type.">SIMPLE_INTEGER Subtype of PLS_INTEGER</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPLS292"></a><a id="LNPLS293"></a><a id="LNPLS99938"></a><div class="props_rev_3"><a id="GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965" name="GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965"></a><h4 id="LNPLS-GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965" class="sect4"><span class="enumeration_section">3.3.1 </span>Preventing PLS_INTEGER Overflow
                  </h4>
                  <div>
                     <p>A calculation with two <code class="codeph">PLS_INTEGER</code> values that overflows the <code class="codeph">PLS_INTEGER</code> range raises an overflow exception.
                     </p>
                     <div class="section">
                        <p>For calculations outside the <code class="codeph">PLS_INTEGER</code> range, use <code class="codeph">INTEGER</code>, a predefined subtype of the <code class="codeph">NUMBER</code> data type.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965__CHDDIAEG">
                        <p class="titleinexample">Example 3-4 PLS_INTEGER Calculation Raises Overflow Exception</p>
                        <p>This example shows that a calculation with two <code class="codeph">PLS_INTEGER</code> values that overflows the <code class="codeph">PLS_INTEGER</code> range raises an overflow exception, even if you assign the result to a <code class="codeph">NUMBER</code> data type.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  p1 PLS_INTEGER := 2147483647;
  p2 PLS_INTEGER := 1;
  n NUMBER;
BEGIN
  n := p1 + p2;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
<span class="bold">ORA-01426: numeric overflow</span>
ORA-06512: at line 6</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965__CHDEDAGD">
                        <p class="titleinexample">Example 3-5 Preventing <span><a href="plsql-data-types.html#GUID-EC45A8BA-1D95-4A36-AE06-6F1E77EC4965__CHDDIAEG">Example 3-4</a></span> Overflow
                        </p>
                        <p> This example shows the correct use of the <code class="codeph">INTEGER</code> predefined subtype for calculations outside the <code class="codeph">PLS_INTEGER</code> range.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  p1 PLS_INTEGER := 2147483647;
  p2 <span class="bold">INTEGER</span> := 1;
  n NUMBER;
BEGIN
  n := p1 + p2;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">PL/SQL procedure successfully completed.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS309"></a><a id="LNPLS311"></a><a id="LNPLS99937"></a><div class="props_rev_3"><a id="GUID-00859F04-85FC-422D-B35B-93F5B5F4B912" name="GUID-00859F04-85FC-422D-B35B-93F5B5F4B912"></a><h4 id="LNPLS-GUID-00859F04-85FC-422D-B35B-93F5B5F4B912" class="sect4"><span class="enumeration_section">3.3.2 </span>Predefined PLS_INTEGER Subtypes
                  </h4>
                  <div>
                     <p>This summary lists the predefined subtypes of the <code class="codeph">PLS_INTEGER</code> data type and describes the data they store.
                     </p>
                     <div class="tblformal" id="GUID-00859F04-85FC-422D-B35B-93F5B5F4B912__CHDDFGFG">
                        <p class="titleintable">Table 3-3 Predefined Subtypes of PLS_INTEGER Data Type</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined Subtypes of PLS_INTEGER Data Type" summary="This table summarizes the predefined subtypes of the PLS_INTEGER datatype." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d27514e3109">Data Type</th>
                                 <th align="left" valign="bottom" width="78%" id="d27514e3112">Data Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3117" headers="d27514e3109 ">
                                    <p><code class="codeph">NATURAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3117 d27514e3112 ">
                                    <p>Nonnegative <code class="codeph">PLS_INTEGER</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3128" headers="d27514e3109 ">
                                    <p><code class="codeph">NATURALN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3128 d27514e3112 ">
                                    <p>Nonnegative <code class="codeph">PLS_INTEGER</code> value with <code class="codeph">NOT NULL</code> constraint
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3142" headers="d27514e3109 ">
                                    <p><code class="codeph">POSITIVE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3142 d27514e3112 ">
                                    <p>Positive <code class="codeph">PLS_INTEGER</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3153" headers="d27514e3109 ">
                                    <p><code class="codeph">POSITIVEN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3153 d27514e3112 ">
                                    <p>Positive <code class="codeph">PLS_INTEGER</code> value with <code class="codeph">NOT NULL</code> constraint
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3167" headers="d27514e3109 ">
                                    <p><code class="codeph">SIGNTYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3167 d27514e3112 ">
                                    <p><code class="codeph">PLS_INTEGER</code> value -1, 0, or 1 (useful for programming tri-state logic)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d27514e3177" headers="d27514e3109 ">
                                    <p><code class="codeph">SIMPLE_INTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="78%" headers="d27514e3177 d27514e3112 ">
                                    <p><code class="codeph">PLS_INTEGER</code> value with <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">PLS_INTEGER</code> and its subtypes can be implicitly converted to these data types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">VARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NUMBER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code></p>
                        </li>
                     </ul>
                     <p>All of the preceding data types except <code class="codeph">LONG</code>, and all <code class="codeph">PLS_INTEGER</code> subtypes, can be implicitly converted to <code class="codeph">PLS_INTEGER</code>.
                     </p>
                     <p>A <code class="codeph">PLS_INTEGER</code> value can be implicitly converted to a <code class="codeph">PLS_INTEGER</code> subtype only if the value does not violate a constraint of the subtype. 
                     </p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-00859F04-85FC-422D-B35B-93F5B5F4B912__GUID-3B696C9A-95DC-4972-804F-E1E419347D02">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="plsql-language-fundamentals.html#GUID-6705CC7D-470A-4B4A-BCAD-6843F227C012" title="You can impose the NOT NULL constraint on a scalar variable or constant (or scalar component of a composite variable or constant).">NOT NULL Constraint</a>"</span>for information about the <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="plsql-data-types.html#GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF" title="SIMPLE_INTEGER is a predefined subtype of the PLS_INTEGER data type.">SIMPLE_INTEGER Subtype of PLS_INTEGER</a>"</span> for more information about <code class="codeph">SIMPLE_INTEGER</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div class="example" id="GUID-00859F04-85FC-422D-B35B-93F5B5F4B912__CHDBJFJE">
                        <p class="titleinexample">Example 3-6 Violating Constraint of SIMPLE_INTEGER Subtype</p>
                        <p>This example shows that casting the <code class="codeph">PLS_INTEGER</code> value <code class="codeph">NULL</code> to the <code class="codeph">SIMPLE_INTEGER</code> subtype raises an exception. 
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  a SIMPLE_INTEGER := 1;
  b PLS_INTEGER := NULL;
BEGIN
  a := b;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
ORA-06502: PL/SQL: numeric or value error
ORA-06512: at line 5</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS314"></a><a id="LNPLS00305"></a><div class="props_rev_3"><a id="GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF" name="GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF"></a><h4 id="LNPLS-GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF" class="sect4"><span class="enumeration_section">3.3.3 </span>SIMPLE_INTEGER Subtype of PLS_INTEGER
                  </h4>
                  <div>
                     <p><code class="codeph">SIMPLE_INTEGER</code> is a predefined subtype of the <code class="codeph">PLS_INTEGER</code> data type.
                     </p>
                     <p><code class="codeph">SIMPLE_INTEGER</code> has the same range as <code class="codeph">PLS_INTEGER</code> and has a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint. It differs significantly from <code class="codeph">PLS_INTEGER</code> in its overflow semantics.
                     </p>
                     <p>If you know that a variable will never have the value <code class="codeph">NULL</code> or need overflow checking, declare it as <code class="codeph">SIMPLE_INTEGER</code> rather than <code class="codeph">PLS_INTEGER</code>. Without the overhead of checking for nullness and overflow, <code class="codeph">SIMPLE_INTEGER</code> performs significantly better than <code class="codeph">PLS_INTEGER</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF__GUID-AE120E3E-0891-49C2-9735-FC5742BBC510">Topics</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="plsql-data-types.html#GUID-508CD868-0C7A-431B-9BA8-419ACD3F1964" title="If and only if all operands in an expression have the data type SIMPLE_INTEGER, PL/SQL uses two's complement arithmetic and ignores overflows.">SIMPLE_INTEGER Overflow Semantics</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-55F1EF5E-77CA-4AFA-A577-94710502470C" title="If an expression has both SIMPLE_INTEGER and other operands, PL/SQL implicitly converts the SIMPLE_INTEGER values to PLS_INTEGER NOT NULL.">Expressions with Both SIMPLE_INTEGER and Other Operands</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-data-types.html#GUID-5F982083-9915-420C-A73F-FCD3D7ECE5C2" title="Integer literals in the SIMPLE_INTEGER range have the data type SIMPLE_INTEGER.">Integer Literals in SIMPLE_INTEGER Range</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-84C413B0-BDCA-4ABC-B402-3B8CED013DAF__GUID-552BD564-3870-4043-A4EF-F1BB5B862C8A">
                           <p class="notep1">See Also:</p><span class="q">"<a href="plsql-language-fundamentals.html#GUID-6705CC7D-470A-4B4A-BCAD-6843F227C012" title="You can impose the NOT NULL constraint on a scalar variable or constant (or scalar component of a composite variable or constant).">NOT NULL Constraint</a>"</span></div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNPLS321"></a><div class="props_rev_3"><a id="GUID-508CD868-0C7A-431B-9BA8-419ACD3F1964" name="GUID-508CD868-0C7A-431B-9BA8-419ACD3F1964"></a><h5 id="LNPLS-GUID-508CD868-0C7A-431B-9BA8-419ACD3F1964" class="sect5"><span class="enumeration_section">3.3.3.1 </span>SIMPLE_INTEGER Overflow Semantics
                     </h5>
                     <div>
                        <p>If and only if all operands in an expression have the data type <code class="codeph">SIMPLE_INTEGER</code>, PL/SQL uses two's complement arithmetic and ignores overflows. 
                        </p>
                        <p>Because overflows are ignored, values can wrap from positive to negative or from negative to positive; for example:</p>
                        <p>2<sup>30</sup> + 2<sup>30</sup> = 0x40000000 + 0x40000000 = 0x80000000 = -2<sup>31</sup></p>
                        <p>-2<sup>31</sup> + -2<sup>31</sup> = 0x80000000 + 0x80000000 = 0x00000000 = 0
                        </p>
                        <p>For example, this block runs without errors:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  n <span class="bold">SIMPLE_INTEGER</span> := 2147483645;
BEGIN
  FOR j IN 1..4 LOOP
    n := n + 1;
    DBMS_OUTPUT.PUT_LINE(TO_CHAR(n, 'S9999999999'));
  END LOOP;
  FOR j IN 1..4 LOOP
   n := n - 1;
   DBMS_OUTPUT.PUT_LINE(TO_CHAR(n, 'S9999999999'));
  END LOOP;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">+2147483646
+2147483647
-2147483648
-2147483647
-2147483648
+2147483647
+2147483646
+2147483645

PL/SQL procedure successfully completed.</pre></div>
                  </div><a id="LNPLS99936"></a><div class="props_rev_3"><a id="GUID-55F1EF5E-77CA-4AFA-A577-94710502470C" name="GUID-55F1EF5E-77CA-4AFA-A577-94710502470C"></a><h5 id="LNPLS-GUID-55F1EF5E-77CA-4AFA-A577-94710502470C" class="sect5"><span class="enumeration_section">3.3.3.2 </span>Expressions with Both SIMPLE_INTEGER and Other Operands
                     </h5>
                     <div>
                        <p>If an expression has both <code class="codeph">SIMPLE_INTEGER</code> and other operands, PL/SQL implicitly converts the <code class="codeph">SIMPLE_INTEGER</code> values to <code class="codeph">PLS_INTEGER</code> <code class="codeph">NOT</code> <code class="codeph">NULL</code>.
                        </p>
                        <p>The PL/SQL compiler issues a warning when <code class="codeph">SIMPLE_INTEGER</code> and other values are mixed in a way that might negatively impact performance by inhibiting some optimizations.
                        </p>
                     </div>
                  </div><a id="LNPLS323"></a><div class="props_rev_3"><a id="GUID-5F982083-9915-420C-A73F-FCD3D7ECE5C2" name="GUID-5F982083-9915-420C-A73F-FCD3D7ECE5C2"></a><h5 id="LNPLS-GUID-5F982083-9915-420C-A73F-FCD3D7ECE5C2" class="sect5"><span class="enumeration_section">3.3.3.3 </span>Integer Literals in SIMPLE_INTEGER Range
                     </h5>
                     <div>
                        <p>Integer literals in the <code class="codeph">SIMPLE_INTEGER</code> range have the data type <code class="codeph">SIMPLE_INTEGER</code>. 
                        </p>
                        <p>However, to ensure backward compatibility, when all operands in an arithmetic expression are integer literals, PL/SQL treats the integer literals as if they were cast to <code class="codeph">PLS_INTEGER</code>.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPLS315"></a><a id="LNPLS99935"></a><div class="props_rev_3"><a id="GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670" name="GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670"></a><h3 id="LNPLS-GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670" class="sect3"><span class="enumeration_section">3.4 </span>User-Defined PL/SQL Subtypes
               </h3>
               <div>
                  <p>PL/SQL lets you define your own subtypes.</p>
                  <p>The base type can be any scalar or user-defined PL/SQL data type specifier such as <code class="codeph">CHAR</code>, <code class="codeph">DATE</code>, or <code class="codeph">RECORD</code> (including a previously defined user-defined subtype).
                  </p>
                  <div class="infoboxnote" id="GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670__GUID-2DF9F3A6-8991-4354-8CFE-39DFAC5BC295">
                     <p class="notep1">Note:</p>
                     <p>The information in this topic applies to both user-defined subtypes and the predefined subtypes listed in <a href="plsql-predefined-data-types.html#GUID-1D28B7B6-15AE-454A-8134-F8724551AE8B">PL/SQL Predefined Data Types</a>.
                     </p>
                  </div>
                  <p>Subtypes can:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Provide compatibility with ANSI/ISO data types</p>
                     </li>
                     <li>
                        <p>Show the intended use of data items of that type</p>
                     </li>
                     <li>
                        <p>Detect out-of-range values</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-0E03C20F-2960-4ED9-8692-D4DCBF1F9670__GUID-4982318C-C573-4176-9FE2-8CA7BDB40809">Topics</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="plsql-data-types.html#GUID-31F465A3-F8F7-413A-AB6F-7EF422D052E0" title="An unconstrained subtype has the same set of values as its base type, so it is only another name for the base type.">Unconstrained Subtypes</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-data-types.html#GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F" title="A constrained subtype has only a subset of the values of its base type.">Constrained Subtypes</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-data-types.html#GUID-126CB7F3-7E65-40BC-B6CD-2244B63240A7" title="If two subtypes have different base types in the same data type family, then one subtype can be implicitly converted to the other only if the source value does not violate a constraint of the target subtype.">Subtypes with Base Types in Same Data Type Family</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPLS316"></a><a id="LNPLS99934"></a><div class="props_rev_3"><a id="GUID-31F465A3-F8F7-413A-AB6F-7EF422D052E0" name="GUID-31F465A3-F8F7-413A-AB6F-7EF422D052E0"></a><h4 id="LNPLS-GUID-31F465A3-F8F7-413A-AB6F-7EF422D052E0" class="sect4"><span class="enumeration_section">3.4.1 </span>Unconstrained Subtypes
                  </h4>
                  <div>
                     <p>An <span class="bold">unconstrained subtype</span> has the same set of values as its base type, so it is only another name for the base type. 
                     </p>
                     <p>Therefore, unconstrained subtypes of the same base type are interchangeable with each other and with the base type. No data type conversion occurs.</p>
                     <p>To define an unconstrained subtype, use this syntax:</p><pre class="oac_no_warn" dir="ltr">SUBTYPE <span class="italic">subtype_name</span> IS <span class="italic">base_type</span>
</pre><p>For information about <span class="italic"><code class="codeph">subtype_name</code></span> and <span class="italic"><code class="codeph">base_type</code></span>, see <span class="bold"><a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CHDECJAH">subtype</a></span>.
                     </p>
                     <p>An example of an unconstrained subtype, which PL/SQL predefines for compatibility with ANSI, is:</p><pre class="oac_no_warn" dir="ltr">SUBTYPE "DOUBLE PRECISION" IS FLOAT
</pre><div class="example" id="GUID-31F465A3-F8F7-413A-AB6F-7EF422D052E0__BABEDFGH">
                        <p class="titleinexample">Example 3-7 User-Defined Unconstrained Subtypes Show Intended Use</p>
                        <p>In this example, the unconstrained subtypes <code class="codeph">Balance</code> and <code class="codeph">Counter</code> show the intended uses of data items of their types.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  <span class="bold">SUBTYPE Balance IS NUMBER</span>;

  checking_account        Balance(6,2);
  savings_account         Balance(8,2);
  certificate_of_deposit  Balance(8,2);
  max_insured  CONSTANT   Balance(8,2) := 250000.00;

  <span class="bold">SUBTYPE Counter IS NATURAL</span>;

  accounts     Counter := 1;
  deposits     Counter := 0;
  withdrawals  Counter := 0;
  overdrafts   Counter := 0;

  PROCEDURE deposit (
    account  IN OUT Balance,
    amount   IN     Balance
  ) IS
  BEGIN
    account  := account + amount;
    deposits := deposits + 1;
  END;
  
BEGIN
  NULL;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS374"></a><a id="LNPLS317"></a><a id="LNPLS99933"></a><div class="props_rev_3"><a id="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F" name="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F"></a><h4 id="LNPLS-GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F" class="sect4"><span class="enumeration_section">3.4.2 </span>Constrained Subtypes
                  </h4>
                  <div>
                     <p>A <span class="bold">constrained subtype</span> has only a subset of the values of its base type.
                     </p>
                     <p>If the base type lets you specify size, precision and scale, or a range of values, then you can specify them for its subtypes. The subtype definition syntax is:</p><pre class="oac_no_warn" dir="ltr">SUBTYPE <span class="italic">subtype_name</span> IS <span class="italic">base_type</span>
  { <span class="italic">precision</span> [, <span class="italic">scale</span> ] | RANGE <span class="italic">low_value</span> .. <span class="italic">high_value</span> } [ NOT NULL ]
</pre><p>Otherwise, the only constraint that you can put on its subtypes is <code class="codeph">NOT</code> <code class="codeph">NULL</code>:
                     </p><pre class="oac_no_warn" dir="ltr">SUBTYPE <span class="italic">subtype_name</span> IS <span class="italic">base_type</span> [ NOT NULL ]</pre><div class="infoboxnote" id="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F__GUID-73884108-CAE5-4155-843C-49CC4C829F3E">
                        <p class="notep1">Note:</p>
                        <p>The only base types for which you can specify a range of values are <code class="codeph">PLS_INTEGER</code> and its subtypes (both predefined and user-defined).
                        </p>
                     </div>
                     <p>A constrained subtype can be implicitly converted to its base type, but the base type can be implicitly converted to the constrained subtype only if the value does not violate a constraint of the subtype.</p>
                     <p>A constrained subtype can be implicitly converted to another constrained subtype with the same base type only if the source value does not violate a constraint of the target subtype.</p>
                     <div class="infoboxnotealso" id="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F__GUID-059627C8-295E-49E9-B269-0C81BFB2B55F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CHDCIGAD">subtype_definition ::=</a>"</span> syntax diagram
                              </p> 
                           </li>
                           <li>
                              <p><span class="q">"<a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CHDECJAH">subtype</a>"</span> semantic description 
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="plsql-data-types.html#GUID-00859F04-85FC-422D-B35B-93F5B5F4B912__CHDBJFJE">Example 3-6</a>"</span>, <span class="q">"Violating Constraint of SIMPLE_INTEGER Subtype"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="plsql-subprograms.html#GUID-BA13F32D-4E04-4004-8CE5-5B628678A253">Formal Parameters of Constrained Subtypes</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="plsql-language-fundamentals.html#GUID-6705CC7D-470A-4B4A-BCAD-6843F227C012" title="You can impose the NOT NULL constraint on a scalar variable or constant (or scalar component of a composite variable or constant).">NOT NULL Constraint</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F__CJABHGBG">
                        <p class="titleinexample">Example 3-8 User-Defined Constrained Subtype Detects Out-of-Range Values</p>
                        <p>In this example, the constrained subtype <code class="codeph">Balance</code> detects out-of-range values.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  <span class="bold">SUBTYPE Balance IS NUMBER(8,2)</span>;
 
  checking_account  Balance;
  <span class="bold">savings_account   Balance</span>;
 
BEGIN
  checking_account := 2000.00;
  <span class="bold">savings_account  := 1000000.00</span>;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
<span class="bold">ORA-06502: PL/SQL: numeric or value error: number precision too large</span>
ORA-06512: at line 9
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FDC366F3-66AA-4F6A-A59B-5A08DCBD4F9F__CHDDEEJC">
                        <p class="titleinexample">Example 3-9 Implicit Conversion Between Constrained Subtypes with Same Base Type</p>
                        <p>In this example, the three constrained subtypes have the same base type. The first two subtypes can be implicitly converted to the third subtype, but not to each other.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  SUBTYPE Digit        IS PLS_INTEGER RANGE 0..9;
  SUBTYPE Double_digit IS PLS_INTEGER RANGE 10..99;
  SUBTYPE Under_100    IS PLS_INTEGER RANGE 0..99;
 
  d   Digit        :=  4;
  dd  Double_digit := 35;
  u   Under_100;
BEGIN
  u := d;   -- Succeeds; Under_100 range includes Digit range
  u := dd;  -- Succeeds; Under_100 range includes Double_digit range
  dd := d;  -- Raises error; Double_digit range does not include Digit range
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
ORA-06502: PL/SQL: numeric or value error
ORA-06512: at line 12</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS318"></a><a id="LNPLS99932"></a><div class="props_rev_3"><a id="GUID-126CB7F3-7E65-40BC-B6CD-2244B63240A7" name="GUID-126CB7F3-7E65-40BC-B6CD-2244B63240A7"></a><h4 id="LNPLS-GUID-126CB7F3-7E65-40BC-B6CD-2244B63240A7" class="sect4"><span class="enumeration_section">3.4.3 </span>Subtypes with Base Types in Same Data Type Family
                  </h4>
                  <div>
                     <p>If two subtypes have different base types in the same data type family, then one subtype can be implicitly converted to the other only if the source value does not violate a constraint of the target subtype.</p>
                     <p>For the predefined PL/SQL data types and subtypes, grouped by data type family, see <a href="plsql-predefined-data-types.html#GUID-1D28B7B6-15AE-454A-8134-F8724551AE8B">PL/SQL Predefined Data Types</a>.
                     </p>
                     <div class="example" id="GUID-126CB7F3-7E65-40BC-B6CD-2244B63240A7__CHDIIGEA">
                        <p class="titleinexample">Example 3-10 Implicit Conversion Between Subtypes with Base Types in Same Family</p>
                        <p>In this example, the subtypes <code class="codeph">Word</code> and <code class="codeph">Text</code> have different base types in the same data type family. The first assignment statement implicitly converts a <code class="codeph">Word</code> value to <code class="codeph">Text</code>. The second assignment statement implicitly converts a <code class="codeph">Text</code> value to <code class="codeph">Word</code>. The third assignment statement cannot implicitly convert the <code class="codeph">Text</code> value to <code class="codeph">Word</code>, because the value is too long.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  SUBTYPE Word IS CHAR(6);
  SUBTYPE Text IS VARCHAR2(15);
 
  verb       Word := 'run';
  sentence1  Text;
  sentence2  Text := 'Hurry!';
  sentence3  Text := 'See Tom run.';
 
BEGIN
  sentence1 := verb;  -- 3-character value, 15-character limit
  verb := sentence2;  -- 6-character value, 6-character limit
  verb := sentence3;  -- 12-character value, 6-character limit
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">DECLARE
*
ERROR at line 1:
ORA-06502: PL/SQL: numeric or value error: character string buffer too small
ORA-06512: at line 13</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04697.intervalds-class.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>IntervalDS Class</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96205-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="environment-class.html" title="Previous" type="text/html">
      <link rel="next" href="intervalym-class.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNCPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="environment-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="intervalym-class.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name"> OCCI Application Programming Interface</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">IntervalDS Class</li>
            </ol>
            <a id="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124" name="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124"></a><a id="LNCPP21003"></a><a id="LNCPP21004"></a><a id="LNCPP21005"></a><a id="LNCPP21006"></a><a id="LNCPP1011"></a>
            
            <h2 id="LNCPP-GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124" class="sect2"><span class="enumeration_section">13.15 </span>IntervalDS Class
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The IntervalDS class encapsulates time interval calculations in terms of days, hours, minutes, seconds, and fractional seconds. Leading field precision is determined by number of decimal digits in day input. Fraction second precision is determined by number of fraction digits on input.</p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124__GUID-56394893-89F9-44D6-AC07-4644E6B39834">
                  <p class="titleintable">Table 13-19 Fields of IntervalDS Class </p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Fields of IntervalDS Class " summary="First column lists fields; second column provides field types; third column provides description and range of legal values of the fields." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="14%" id="d127196e116">Field</th>
                           <th align="left" valign="bottom" width="13%" id="d127196e119">Type</th>
                           <th align="left" valign="bottom" width="72%" id="d127196e122">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d127196e127" headers="d127196e116 ">
                              <p><code class="codeph">day</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d127196e127 d127196e119 ">
                              <p><code class="codeph">int</code></p>
                           </td>
                           <td align="left" valign="top" width="72%" headers="d127196e127 d127196e122 ">
                              <p>Day component. Valid values are <code class="codeph">-10^9</code> through <code class="codeph">10^9</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d127196e145" headers="d127196e116 ">
                              <p><code class="codeph">hour</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d127196e145 d127196e119 ">
                              <p><code class="codeph">int</code></p>
                           </td>
                           <td align="left" valign="top" width="72%" headers="d127196e145 d127196e122 ">
                              <p>Hour component. Valid values are <code class="codeph">-23</code> through <code class="codeph">23</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d127196e163" headers="d127196e116 ">
                              <p><code class="codeph">minute</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d127196e163 d127196e119 ">
                              <p><code class="codeph">int</code></p>
                           </td>
                           <td align="left" valign="top" width="72%" headers="d127196e163 d127196e122 ">
                              <p>Minute component. Valid values are <code class="codeph">-59</code> through <code class="codeph">59</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d127196e181" headers="d127196e116 ">
                              <p><code class="codeph">second</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d127196e181 d127196e119 ">
                              <p><code class="codeph">int</code></p>
                           </td>
                           <td align="left" valign="top" width="72%" headers="d127196e181 d127196e122 ">
                              <p>Second component. Valid values are <code class="codeph">-59</code> through <code class="codeph">59</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="14%" id="d127196e199" headers="d127196e116 ">
                              <p><code class="codeph">fs</code></p>
                           </td>
                           <td align="left" valign="top" width="13%" headers="d127196e199 d127196e119 ">
                              <p><code class="codeph">int</code></p>
                           </td>
                           <td align="left" valign="top" width="72%" headers="d127196e199 d127196e122 ">
                              <p>Fractional second component. Constructs a <code class="codeph">NULL</code> <code class="codeph">IntervalDS</code> object. A <code class="codeph">NULL</code> <code class="codeph">intervalDS</code> can be initialized by assignment or calling <code class="codeph">fromText</code> method. Methods that can be called on <code class="codeph">NULL</code> <code class="codeph">intervalDS</code> objects are <a href="bfile-class.html#GUID-96AA140C-73F2-432D-9E76-0123BBEDFB6D">setName()</a> and <a href="intervalds-class.html#GUID-E891191D-0F10-4230-8977-96E79AF83882">isNull()</a>.
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="example" id="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124__GUID-CD97B9F0-A73F-49CC-B2E3-156C87C089B2">
                  <p class="titleinexample">Example 13-6 How to Use an Empty IntervalDS Object through Direct Assignment</p>
                  <p>This example demonstrates how the default constructor creates a <code class="codeph">NULL</code> value, and how you can assign a non <code class="codeph">NULL</code> value to a day-second interval and then perform operations on it.
                  </p><pre class="oac_no_warn" dir="ltr">Environment *env = Environment::createEnvironment();

// Create a NULL day-second interval
IntervalDS ds;
if(ds.isNull())
   cout &lt;&lt; "\n ds is null";

// Assign a non-NULL value to ds
IntervalDS anotherDS(env, "10 20:14:10.2");
ds = anotherDS;

// Now all operations on IntervalDS are valid
int DAY = ds.getDay();
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124__GUID-BF4B4129-EDFD-4B89-98F6-E86A20FF1FF7">
                  <p class="titleinexample">Example 13-7 How to Use an Empty IntervalDS Object Through *Text() Methods</p>
                  <p>This example demonstrates how to create a <code class="codeph">NULL</code> day-second interval, initialize the day-second interval by using the <code class="codeph">fromText()</code> method, add to the day-second interval by using the += operator, multiply by using the * operator, compare 2 day-second intervals, and convert a day-second interval to a string by using the <code class="codeph">toText</code> method:
                  </p><pre class="oac_no_warn" dir="ltr">Environment *env = Environment::createEnvironment();

// Create a null day-second interval
IntervalDS ds1

// Initialize a null day-second interval by using the fromText method
ds1.fromText("20 10:20:30.9","",env);

IntervalDS addWith(env,2,1);
ds1 += addWith;    //call += operator

IntervalDS mulDs1=ds1 * Number(env,10);  
                   //call * operator
if(ds1==mulDs1)    //call == operator
   .
   .
string strds=ds1.toText(2,4);                       //2 is leading field precision
                   //4 is the fractional field precision
</pre></div>
               <!-- class="example" -->
               <div class="tblformal" id="GUID-5EA0C922-1AB0-41A0-A338-D5CA2D405124__GUID-8DBB21FE-059F-4066-B08E-0BB86656F12A">
                  <p class="titleintable">Table 13-20 Summary of IntervalDS Methods </p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of IntervalDS Methods " summary="First column lists methods; second column provides description of these methods." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d127196e277">Method</th>
                           <th align="left" valign="bottom" width="63%" id="d127196e280">Summary</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e285" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0">IntervalDS()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e285 d127196e280 ">
                              <p><code class="codeph">IntervalDS</code> class constructor.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e295" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3">fromText()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e295 d127196e280 ">
                              <p>Returns an <code class="codeph">IntervalDS</code> converted from a <code class="codeph">string</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e309" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A">fromUText()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e309 d127196e280 ">
                              <p>Returns an <code class="codeph">IntervalDS</code> converted from a <code class="codeph">UString</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e323" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-D3017C3B-E3A8-4DAB-B06D-E58412CA6420">getDay()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e323 d127196e280 ">
                              <p>Returns day interval values.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e331" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104">getFracSec()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e331 d127196e280 ">
                              <p>Returns fractional second interval values.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e339" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104">getFracSec()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e339 d127196e280 ">
                              <p>Returns hour interval values.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e347" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-14272F29-2E5B-4CA2-960E-249E0DB5E555">getMinute()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e347 d127196e280 ">
                              <p>Returns minute interval values.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e355" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-BE16430A-7B29-40C8-87D2-FBFC18266401">getSecond()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e355 d127196e280 ">
                              <p>Returns second interval values.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e363" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-E891191D-0F10-4230-8977-96E79AF83882">isNull()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e363 d127196e280 ">
                              <p>Returns <code class="codeph">true</code> if <code class="codeph">IntervalDS</code> is <code class="codeph">NULL</code>, <code class="codeph">false</code> otherwise.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e383" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-0916C0D3-9814-4023-9F38-AED86E447123">operator*()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e383 d127196e280 ">
                              <p>Returns the product of two <code class="codeph">IntervalDS</code> values.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e394" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4">operator*=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e394 d127196e280 ">
                              <p>Multiplication assignment.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e403" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E">operator=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e403 d127196e280 ">
                              <p>Simple assignment.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e411" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10">operator==()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e411 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> and <code class="codeph">b</code> are equal.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e425" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84">operator!=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e425 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> and <code class="codeph">b</code> are not equal.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e439" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B">operator/()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e439 d127196e280 ">
                              <p>Returns an <code class="codeph">IntervalDS</code> with value <code class="codeph">(</code><code class="codeph">a</code><code class="codeph"> / </code><code class="codeph">b</code><code class="codeph">)</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e461" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-D0B4CB32-D42A-45CE-8752-83745198CF43">operator/=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e461 d127196e280 ">
                              <p>Division assignment.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e469" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-691EC167-EB76-4644-AAD3-45BEF0760A93">operator&gt;()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e469 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> is greater than <code class="codeph">b</code> 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e483" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-9226E924-B130-4952-923E-F79DDD362766">operator&gt;=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e483 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> is greater than or equal to <code class="codeph">b</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e497" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53">operator&lt;()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e497 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> is less than <code class="codeph">b</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e511" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76">operator&lt;=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e511 d127196e280 ">
                              <p>Checks if <code class="codeph">a</code> is less than or equal to <code class="codeph">b</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e525" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-D1313768-C265-4137-ABE1-F35872CB2C97">operator-()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e525 d127196e280 ">
                              <p>Returns an <code class="codeph">IntervalDS</code> with value (<code class="codeph">a -</code><code class="codeph"> </code><code class="codeph">b</code>).
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e543" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F">operator-=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e543 d127196e280 ">
                              <p>Subtraction assignment.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e552" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69">operator+()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e552 d127196e280 ">
                              <p>Returns the sum of two <code class="codeph">IntervalDS</code> values.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e563" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-8880A94F-60EB-43BB-944F-5FAF645112C2">operator+=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e563 d127196e280 ">
                              <p>Addition assignment.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e571" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88">set()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e571 d127196e280 ">
                              <p>Sets day-second interval.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e579" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-BB2E52DE-824E-42E7-BAB7-157D38F948B7">setNull()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e579 d127196e280 ">
                              <p>Sets day-second interval to <code class="codeph">NULL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e590" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E">toText()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e590 d127196e280 ">
                              <p>Converts to a <code class="codeph">string</code> representation for the interval.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d127196e601" headers="d127196e277 ">
                              <p><a href="intervalds-class.html#GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016">toUText()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d127196e601 d127196e280 ">
                              <p>Converts to a <code class="codeph">UString</code> representation for the interval.
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP21007"></a><div class="props_rev_3"><a id="GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0" name="GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0"></a><h3 id="LNCPP-GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0" class="sect3"><span class="enumeration_section">13.15.1 </span>IntervalDS()
               </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">IntervalDS</code> class constructor.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0__GUID-E47D5EF0-4989-4871-BAD7-AED9511DF219">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists versions of the constructor; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d127196e688">Syntax</th>
                              <th align="left" valign="bottom" width="66%" id="d127196e691">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d127196e696" headers="d127196e688 "><pre class="oac_no_warn" dir="ltr">IntervalDS();</pre></td>
                              <td align="left" valign="top" width="66%" headers="d127196e696 d127196e691 ">
                                 <p>Constructs a <code class="codeph">NULL</code> <code class="codeph">IntervalDS</code> object. A <code class="codeph">NULL</code> <code class="codeph">IntervalDS </code>can be initialized by assignment or calling <a href="intervalds-class.html#GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3">fromText()</a> method. Methods that can be called on <code class="codeph">NULL</code> <code class="codeph">IntervalDS</code> objects are <a href="bfile-class.html#GUID-96AA140C-73F2-432D-9E76-0123BBEDFB6D">setName()</a> and <a href="bfile-class.html#GUID-2A7B4150-BC6A-450E-999C-3633C0022D31">isNull()</a>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d127196e731" headers="d127196e688 "><pre class="oac_no_warn" dir="ltr">IntervalDS(
&nbsp;&nbsp;&nbsp;const Environment *env,
&nbsp;&nbsp;&nbsp;int day = 0,
&nbsp;&nbsp;&nbsp;int hour = 0,
&nbsp;&nbsp;&nbsp;int minute = 0,
&nbsp;&nbsp;&nbsp;int second = 0,
&nbsp;&nbsp;&nbsp;int fs = 0);</pre></td>
                              <td align="left" valign="top" width="66%" headers="d127196e731 d127196e691 ">
                                 <p>Constructs an <code class="codeph">IntervalDS</code> object within a specified <code class="codeph">Environment</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d127196e744" headers="d127196e688 "><pre class="oac_no_warn" dir="ltr">IntervalDS(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;src);</pre></td>
                              <td align="left" valign="top" width="66%" headers="d127196e744 d127196e691 ">
                                 <p>Constructs an<code class="codeph"> IntervalYM</code> object from <code class="codeph">src</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8349424B-4776-4972-BA6B-E445EA8CA6A0__GUID-0B529771-7D5D-40DE-AC47-B63E00740CB2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e764">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e767">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e772" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">env</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e772 d127196e767 ">
                                 <p>The <code class="codeph">Environment</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e782" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">day</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e782 d127196e767 ">
                                 <p>The <code class="codeph">day</code> field of <code class="codeph">IntervalDS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e795" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">hour</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e795 d127196e767 ">
                                 <p>The <code class="codeph">hour</code> field of <code class="codeph">IntervalDS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e808" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">minute</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e808 d127196e767 ">
                                 <p>The <code class="codeph">minute</code> field of <code class="codeph">IntervalDS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e821" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e821 d127196e767 ">
                                 <p>The second field of <code class="codeph">IntervalDS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e831" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">fs</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e831 d127196e767 ">
                                 <p>The <code class="codeph">fs</code> field of <code class="codeph">IntervalDS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e844" headers="d127196e764 "><pre class="oac_no_warn" dir="ltr">src</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e844 d127196e767 ">
                                 <p>The source that the <code class="codeph">IntervalDS</code> object is copied from.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21009"></a><a id="LNCPP21008"></a><div class="props_rev_3"><a id="GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3" name="GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3"></a><h3 id="LNCPP-GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3" class="sect3"><span class="enumeration_section">13.15.2 </span>fromText()
               </h3>
               <div>
                  <div class="section">
                     <p>Creates the interval from the string specified. The string is converted using the <code class="codeph">nls</code> parameters associated with the relevant environment. The <code class="codeph">nls</code> parameters are picked up from <code class="codeph">env</code>. If <code class="codeph">env</code> is <code class="codeph">NULL</code>, the <code class="codeph">nls</code> parameters are picked up from the environment associated with the instance, if any.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3__GUID-E1C1B5A7-C93D-4C35-8A48-0C36AEA7389A">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void fromText(
&nbsp;&nbsp;&nbsp;const string &amp;inpstr,
&nbsp;&nbsp;&nbsp;const string &amp;nlsParam = "",
&nbsp;&nbsp;&nbsp;const Environment *env = NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C1290BD4-D236-4E23-9F38-A19ACC7621D3__GUID-190C67C2-BB38-4ACB-B48B-A993C2149A26">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e954">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e957">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e962" headers="d127196e954 "><pre class="oac_no_warn" dir="ltr">inpstr</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e962 d127196e957 ">
                                 <p>Input string representing a day second interval of the form 'days hours:minutes:seconds', for example, '10 20:14:10.2'</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e969" headers="d127196e954 "><pre class="oac_no_warn" dir="ltr">nlsParam</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e969 d127196e957 ">
                                 <p>The <code class="codeph">NLS</code> parameter string. If <code class="codeph">nlsParam</code> is specified, this determines the NLS parameters to be used for the conversion. If <code class="codeph">nlsParam</code> is not specified, the NLS parameters are picked up from <code class="codeph">envp</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e988" headers="d127196e954 "><pre class="oac_no_warn" dir="ltr">env</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e988 d127196e957 ">
                                 <p>Environment whose NLS parameters are used.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21011"></a><a id="LNCPP21010"></a><div class="props_rev_3"><a id="GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A" name="GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A"></a><h3 id="LNCPP-GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A" class="sect3"><span class="enumeration_section">13.15.3 </span>fromUText()
               </h3>
               <div>
                  <div class="section">
                     <p>Creates the interval from the <code class="codeph">UString</code> specified.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A__GUID-3F7D8BDB-23B8-48F6-B6E7-143B52D7CAC5">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void fromUText(
&nbsp;&nbsp;&nbsp;const UString &amp;inpstr,
&nbsp;&nbsp;&nbsp;const Environment *env=NULL );
</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F715C9E-88FD-4359-A0B7-9FD9AE4D8E0A__GUID-D519E15A-5E46-4FE0-B073-A58EC9BBBFA4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e1080">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e1083">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1088" headers="d127196e1080 "><pre class="oac_no_warn" dir="ltr">inpstr</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1088 d127196e1083 ">
                                 <p>Input <code class="codeph">UString</code> representing a day second interval of the form 'days hours:minutes:seconds', for example, '10 20:14:10.2'
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1098" headers="d127196e1080 "><pre class="oac_no_warn" dir="ltr">env</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1098 d127196e1083 ">
                                 <p>The <code class="codeph">Environment</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21013"></a><a id="LNCPP21012"></a><div class="props_rev_3"><a id="GUID-D3017C3B-E3A8-4DAB-B06D-E58412CA6420" name="GUID-D3017C3B-E3A8-4DAB-B06D-E58412CA6420"></a><h3 id="LNCPP-GUID-D3017C3B-E3A8-4DAB-B06D-E58412CA6420" class="sect3"><span class="enumeration_section">13.15.4 </span>getDay()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the day component of the interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D3017C3B-E3A8-4DAB-B06D-E58412CA6420__GUID-0A97CFEC-A90F-4F47-90DF-A31924B57122">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getDay() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21015"></a><a id="LNCPP21014"></a><div class="props_rev_3"><a id="GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104" name="GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104"></a><h3 id="LNCPP-GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104" class="sect3"><span class="enumeration_section">13.15.5 </span>getFracSec()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the fractional second component of the interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ADCB5B82-94A9-4F12-8C05-067F41B46104__GUID-5904C2E4-242D-4352-B3A4-3CC58B7B75A0">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getFracSec() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21017"></a><a id="LNCPP21016"></a><div class="props_rev_3"><a id="GUID-F8D06B39-F83C-415F-83E0-13190BD4E80F" name="GUID-F8D06B39-F83C-415F-83E0-13190BD4E80F"></a><h3 id="LNCPP-GUID-F8D06B39-F83C-415F-83E0-13190BD4E80F" class="sect3"><span class="enumeration_section">13.15.6 </span>getHour()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the hour component of the interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F8D06B39-F83C-415F-83E0-13190BD4E80F__GUID-3A753BBD-A64C-4B41-9CE2-835501DB6FA3">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getHour() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21019"></a><a id="LNCPP21018"></a><div class="props_rev_3"><a id="GUID-14272F29-2E5B-4CA2-960E-249E0DB5E555" name="GUID-14272F29-2E5B-4CA2-960E-249E0DB5E555"></a><h3 id="LNCPP-GUID-14272F29-2E5B-4CA2-960E-249E0DB5E555" class="sect3"><span class="enumeration_section">13.15.7 </span>getMinute()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the minute component of this interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-14272F29-2E5B-4CA2-960E-249E0DB5E555__GUID-E3D0D031-305A-4D43-A6BE-91C66494B501">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getMinute() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21021"></a><a id="LNCPP21020"></a><div class="props_rev_3"><a id="GUID-BE16430A-7B29-40C8-87D2-FBFC18266401" name="GUID-BE16430A-7B29-40C8-87D2-FBFC18266401"></a><h3 id="LNCPP-GUID-BE16430A-7B29-40C8-87D2-FBFC18266401" class="sect3"><span class="enumeration_section">13.15.8 </span>getSecond()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the seconds component of this interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE16430A-7B29-40C8-87D2-FBFC18266401__GUID-9219F9B6-AC4F-427B-A5BE-A1BA6800333A">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getSecond() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21023"></a><a id="LNCPP21022"></a><div class="props_rev_3"><a id="GUID-E891191D-0F10-4230-8977-96E79AF83882" name="GUID-E891191D-0F10-4230-8977-96E79AF83882"></a><h3 id="LNCPP-GUID-E891191D-0F10-4230-8977-96E79AF83882" class="sect3"><span class="enumeration_section">13.15.9 </span>isNull()
               </h3>
               <div>
                  <div class="section">
                     <p>Tests whether the interval is <code class="codeph">NULL</code>. If the interval is <code class="codeph">NULL</code> then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E891191D-0F10-4230-8977-96E79AF83882__GUID-5256BB6F-899F-4722-A7F3-7558D2726C99">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isNull() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21025"></a><a id="LNCPP21024"></a><div class="props_rev_3"><a id="GUID-0916C0D3-9814-4023-9F38-AED86E447123" name="GUID-0916C0D3-9814-4023-9F38-AED86E447123"></a><h3 id="LNCPP-GUID-0916C0D3-9814-4023-9F38-AED86E447123" class="sect3"><span class="enumeration_section">13.15.10 </span>operator*()
               </h3>
               <div>
                  <div class="section">
                     <p>Multiplies an interval by a specified value and returns the result.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0916C0D3-9814-4023-9F38-AED86E447123__GUID-EDAF4802-B397-45B5-AC29-F0511A8423F5">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">const IntervalDS operator*(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;interval,
&nbsp;&nbsp;&nbsp;const Number &amp;val);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-0916C0D3-9814-4023-9F38-AED86E447123__GUID-10C345FC-9359-4635-88C5-C451F74B893A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e1647">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e1650">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1655" headers="d127196e1647 "><pre class="oac_no_warn" dir="ltr">interval</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1655 d127196e1650 ">
                                 <p>Interval to be multiplied.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1662" headers="d127196e1647 "><pre class="oac_no_warn" dir="ltr">val</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1662 d127196e1650 ">
                                 <p>Value by which interval is to be multiplied.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21027"></a><a id="LNCPP21026"></a><div class="props_rev_3"><a id="GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4" name="GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4"></a><h3 id="LNCPP-GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4" class="sect3"><span class="enumeration_section">13.15.11 </span>operator*=()
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns the product of <code class="codeph">IntervalDS</code> and <code class="codeph">a</code> to <code class="codeph">IntervalDS</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4__GUID-8E7100A4-F8E6-4CA9-8E16-F484BD372091">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS&amp; operator*=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;factor);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CCDC92E2-EA36-40B8-AEF7-5C7F3CEF10B4__GUID-4AAD1A16-6BAE-44E4-A842-2153EF0BA53E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e1759">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e1762">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1767" headers="d127196e1759 "><pre class="oac_no_warn" dir="ltr">factor</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1767 d127196e1762 ">
                                 <p>A day second interval.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21029"></a><a id="LNCPP21028"></a><div class="props_rev_3"><a id="GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E" name="GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E"></a><h3 id="LNCPP-GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E" class="sect3"><span class="enumeration_section">13.15.12 </span>operator=()
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns the specified value to the interval.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E__GUID-5987E4B8-19A9-448F-A23B-1F7783E25EE6">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS&amp; operator=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;src);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3B659232-E1EB-4749-A7D5-A0A2A520318E__GUID-413A9881-80C8-4E6E-AF1E-9CF2ABA8AA62">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d127196e1856">Parameter</th>
                              <th align="left" valign="bottom" width="79%" id="d127196e1859">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d127196e1864" headers="d127196e1856 "><pre class="oac_no_warn" dir="ltr">src</pre></td>
                              <td align="left" valign="top" width="79%" headers="d127196e1864 d127196e1859 ">
                                 <p>Value to be assigned.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21031"></a><a id="LNCPP21030"></a><div class="props_rev_3"><a id="GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10" name="GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10"></a><h3 id="LNCPP-GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10" class="sect3"><span class="enumeration_section">13.15.13 </span>operator==()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the intervals are equal, then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10__GUID-6577B888-E581-4FE8-8948-CA9421CDC69B">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator==(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;<code class="codeph">second</code>);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4FF89992-93D7-4677-A819-EDD5B55DBE10__GUID-AD94A29A-1F98-4A12-A5EA-FAF397098617">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e1964">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e1967">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e1972" headers="d127196e1964 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e1972 d127196e1967 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e1979" headers="d127196e1964 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e1979 d127196e1967 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21033"></a><a id="LNCPP21032"></a><div class="props_rev_3"><a id="GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84" name="GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84"></a><h3 id="LNCPP-GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84" class="sect3"><span class="enumeration_section">13.15.14 </span>operator!=()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the intervals are not equal then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84__GUID-973EC1FC-48BC-4F65-ADA6-6BA49590ADBB">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator!=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;second);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2C2C678E-C6F9-4CA0-8B7E-3C0B3F48FB84__GUID-12B1A26D-5012-4713-9619-EA6BC5E39A42">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2076">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2079">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2084" headers="d127196e2076 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2084 d127196e2079 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2091" headers="d127196e2076 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2091 d127196e2079 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21035"></a><a id="LNCPP21034"></a><div class="props_rev_3"><a id="GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B" name="GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B"></a><h3 id="LNCPP-GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B" class="sect3"><span class="enumeration_section">13.15.15 </span>operator/()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the result of dividing an interval by a constant value.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B__GUID-8FDBF3C0-F121-46A7-89E5-A64746B76DD9">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">const IntervalDS operator/(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;dividend,
&nbsp;&nbsp;&nbsp;const Number &amp;factor);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-EBFFB831-232D-45BB-9471-A36ED9197C5B__GUID-A11B0A37-0070-43A0-AAB8-93EAC7B4D8B1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2180">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2183">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2188" headers="d127196e2180 "><pre class="oac_no_warn" dir="ltr">dividend</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2188 d127196e2183 ">
                                 <p>The interval to be divided.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2195" headers="d127196e2180 "><pre class="oac_no_warn" dir="ltr">factor</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2195 d127196e2183 ">
                                 <p>Value by which interval is to be divided.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21037"></a><a id="LNCPP21036"></a><div class="props_rev_3"><a id="GUID-D0B4CB32-D42A-45CE-8752-83745198CF43" name="GUID-D0B4CB32-D42A-45CE-8752-83745198CF43"></a><h3 id="LNCPP-GUID-D0B4CB32-D42A-45CE-8752-83745198CF43" class="sect3"><span class="enumeration_section">13.15.16 </span>operator/=()
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns the quotient of <code class="codeph">IntervalDS</code> and <code class="codeph">val</code> to <code class="codeph">IntervalDS</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D0B4CB32-D42A-45CE-8752-83745198CF43__GUID-56BA5F66-7522-4FD6-B47D-0B8400968533">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS&amp; operator/=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;factor);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D0B4CB32-D42A-45CE-8752-83745198CF43__GUID-2EDA82E7-8E37-4B60-ACBC-24D90B494700">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2292">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2295">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2300" headers="d127196e2292 "><pre class="oac_no_warn" dir="ltr">factor</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2300 d127196e2295 ">
                                 <p>A day second interval.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21039"></a><a id="LNCPP21038"></a><div class="props_rev_3"><a id="GUID-691EC167-EB76-4644-AAD3-45BEF0760A93" name="GUID-691EC167-EB76-4644-AAD3-45BEF0760A93"></a><h3 id="LNCPP-GUID-691EC167-EB76-4644-AAD3-45BEF0760A93" class="sect3"><span class="enumeration_section">13.15.17 </span>operator&gt;()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the first interval is greater than the second interval then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-691EC167-EB76-4644-AAD3-45BEF0760A93__GUID-70F4ED9E-75AA-4B86-8B11-643A29AFB575">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator&gt;(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;<code class="codeph">second</code>);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-691EC167-EB76-4644-AAD3-45BEF0760A93__GUID-4F3ACE34-B08E-4915-8C23-DC1974C0F73F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2400">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2403">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2408" headers="d127196e2400 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2408 d127196e2403 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2415" headers="d127196e2400 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2415 d127196e2403 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21041"></a><a id="LNCPP21040"></a><div class="props_rev_3"><a id="GUID-9226E924-B130-4952-923E-F79DDD362766" name="GUID-9226E924-B130-4952-923E-F79DDD362766"></a><h3 id="LNCPP-GUID-9226E924-B130-4952-923E-F79DDD362766" class="sect3"><span class="enumeration_section">13.15.18 </span>operator&gt;=()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the first interval is greater than or equal to the second interval then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9226E924-B130-4952-923E-F79DDD362766__GUID-C146E83F-D5C7-4EAA-A067-3B2FA1F8CE9D">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator&gt;=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9226E924-B130-4952-923E-F79DDD362766__GUID-147F5AB5-1C00-49A2-866E-94F0511A48E5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2513">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2516">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2521" headers="d127196e2513 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2521 d127196e2516 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2528" headers="d127196e2513 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2528 d127196e2516 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21043"></a><a id="LNCPP21042"></a><div class="props_rev_3"><a id="GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53" name="GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53"></a><h3 id="LNCPP-GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53" class="sect3"><span class="enumeration_section">13.15.19 </span>operator&lt;()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the first interval is less than the second interval then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53__GUID-8222EA90-A9D3-4C09-8725-3A214A7923DD">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator&lt;(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;<code class="codeph">second</code>);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A48AFDA4-50D5-4CB7-83D1-03506DD03E53__GUID-7DFF9AEF-C2FE-4B6F-AD75-6EDDE34DE74F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2628">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2631">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2636" headers="d127196e2628 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2636 d127196e2631 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2643" headers="d127196e2628 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2643 d127196e2631 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21045"></a><a id="LNCPP21044"></a><div class="props_rev_3"><a id="GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76" name="GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76"></a><h3 id="LNCPP-GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76" class="sect3"><span class="enumeration_section">13.15.20 </span>operator&lt;=()
               </h3>
               <div>
                  <div class="section">
                     <p>Compares the intervals specified. If the first interval is less than or equal to the second interval then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. If either interval is <code class="codeph">NULL</code> then SQLException is thrown.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76__GUID-58B0BBAD-05BF-4A27-B566-1A69161AB804">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator&lt;=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;second);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-414CE18D-F4FE-4654-AB7E-84BA7AA83B76__GUID-D97DF66F-E4FE-445E-90BD-F0A824D111C7">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2740">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2743">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2748" headers="d127196e2740 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2748 d127196e2743 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2755" headers="d127196e2740 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2755 d127196e2743 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21047"></a><a id="LNCPP21046"></a><div class="props_rev_3"><a id="GUID-D1313768-C265-4137-ABE1-F35872CB2C97" name="GUID-D1313768-C265-4137-ABE1-F35872CB2C97"></a><h3 id="LNCPP-GUID-D1313768-C265-4137-ABE1-F35872CB2C97" class="sect3"><span class="enumeration_section">13.15.21 </span>operator-()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the difference between the intervals <code class="codeph">first</code> and <code class="codeph">second</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D1313768-C265-4137-ABE1-F35872CB2C97__GUID-E28C324A-B87D-462B-9D1C-C8A47D0237C6">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">const IntervalDS operator-(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;<code class="codeph">second</code>);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D1313768-C265-4137-ABE1-F35872CB2C97__GUID-4212C558-9A79-4402-97D7-12A8D34CB23E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2853">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2856">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2861" headers="d127196e2853 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2861 d127196e2856 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2868" headers="d127196e2853 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2868 d127196e2856 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21049"></a><a id="LNCPP21048"></a><div class="props_rev_3"><a id="GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F" name="GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F"></a><h3 id="LNCPP-GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F" class="sect3"><span class="enumeration_section">13.15.22 </span>operator<code class="codeph">-=</code>()
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns the difference between <code class="codeph">IntervalDS</code> and <code class="codeph">val</code> to <code class="codeph">IntervalDS</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F__GUID-5217DE06-3518-4CBD-93F6-3AE196D5FBCF">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS&amp; operator-=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;val);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C4ED08C3-A76A-4317-A2DE-DAADA2208D8F__GUID-494F75E9-29DA-4EC4-A54F-EC1FDDC029B8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e2968">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e2971">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e2976" headers="d127196e2968 "><pre class="oac_no_warn" dir="ltr">val</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e2976 d127196e2971 ">
                                 <p>A day second interval.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21051"></a><a id="LNCPP21050"></a><div class="props_rev_3"><a id="GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69" name="GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69"></a><h3 id="LNCPP-GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69" class="sect3"><span class="enumeration_section">13.15.23 </span>operator+()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the sum of the intervals specified.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69__GUID-A7F54B14-8212-43AF-9D5B-49C9FC06097F">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">const IntervalDS operator+(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;first,
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;<code class="codeph">second</code>);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C379C037-07BA-453C-A34E-05F3ECDE8D69__GUID-E7A5C303-A310-4E5A-9C84-25B00E521325">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e3067">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e3070">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3075" headers="d127196e3067 "><pre class="oac_no_warn" dir="ltr">first</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3075 d127196e3070 ">
                                 <p>The first interval to be compared.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3082" headers="d127196e3067 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3082 d127196e3070 ">
                                 <p>The second interval to be compared.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21053"></a><a id="LNCPP21052"></a><div class="props_rev_3"><a id="GUID-8880A94F-60EB-43BB-944F-5FAF645112C2" name="GUID-8880A94F-60EB-43BB-944F-5FAF645112C2"></a><h3 id="LNCPP-GUID-8880A94F-60EB-43BB-944F-5FAF645112C2" class="sect3"><span class="enumeration_section">13.15.24 </span>operator+=()
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns the sum of <code class="codeph">IntervalDS </code>and <code class="codeph">val</code> to <code class="codeph">IntervalDS</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8880A94F-60EB-43BB-944F-5FAF645112C2__GUID-3FD9219B-F865-4D6D-91E3-DB0380BF53E1">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">IntervalDS&amp; operator+=(
&nbsp;&nbsp;&nbsp;const IntervalDS &amp;val);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8880A94F-60EB-43BB-944F-5FAF645112C2__GUID-86D611CC-B840-4FD5-99A9-00818953C24B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e3180">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e3183">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3188" headers="d127196e3180 "><pre class="oac_no_warn" dir="ltr">val</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3188 d127196e3183 ">
                                 <p>A day second interval.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21055"></a><a id="LNCPP21054"></a><div class="props_rev_3"><a id="GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88" name="GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88"></a><h3 id="LNCPP-GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88" class="sect3"><span class="enumeration_section">13.15.25 </span>set()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the interval to the values specified.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88__GUID-7860FE1B-492E-40C0-823B-A33953B8AC77">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void set(
&nbsp;&nbsp;&nbsp;int day,
&nbsp;&nbsp;&nbsp;int hour,
&nbsp;&nbsp;&nbsp;int minute,
&nbsp;&nbsp;&nbsp;int second,
&nbsp;&nbsp;&nbsp;int fracsec);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-24A5A776-CCC4-4822-8A1D-469536EA4A88__GUID-E976225F-76F6-4243-BFEE-A1C21C3136B0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d127196e3276">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d127196e3279">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d127196e3284" headers="d127196e3276 "><pre class="oac_no_warn" dir="ltr">day</pre></td>
                              <td align="left" valign="top" width="82%" headers="d127196e3284 d127196e3279 ">
                                 <p>Day component.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d127196e3291" headers="d127196e3276 "><pre class="oac_no_warn" dir="ltr">hour</pre></td>
                              <td align="left" valign="top" width="82%" headers="d127196e3291 d127196e3279 ">
                                 <p>Hour component.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d127196e3298" headers="d127196e3276 "><pre class="oac_no_warn" dir="ltr">min</pre></td>
                              <td align="left" valign="top" width="82%" headers="d127196e3298 d127196e3279 ">
                                 <p>Minute component.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d127196e3305" headers="d127196e3276 "><pre class="oac_no_warn" dir="ltr">second</pre></td>
                              <td align="left" valign="top" width="82%" headers="d127196e3305 d127196e3279 ">
                                 <p>Second component.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d127196e3312" headers="d127196e3276 "><pre class="oac_no_warn" dir="ltr">fracsec</pre></td>
                              <td align="left" valign="top" width="82%" headers="d127196e3312 d127196e3279 ">
                                 <p>Fractional second component.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21057"></a><a id="LNCPP21056"></a><div class="props_rev_3"><a id="GUID-BB2E52DE-824E-42E7-BAB7-157D38F948B7" name="GUID-BB2E52DE-824E-42E7-BAB7-157D38F948B7"></a><h3 id="LNCPP-GUID-BB2E52DE-824E-42E7-BAB7-157D38F948B7" class="sect3"><span class="enumeration_section">13.15.26 </span>setNull()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the <code class="codeph">IntervalDS</code> to <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB2E52DE-824E-42E7-BAB7-157D38F948B7__GUID-39C67B03-518E-4235-9C99-B9893F2113D0">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNull();
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21059"></a><a id="LNCPP21058"></a><div class="props_rev_3"><a id="GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E" name="GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E"></a><h3 id="LNCPP-GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E" class="sect3"><span class="enumeration_section">13.15.27 </span>toText()
               </h3>
               <div>
                  <div class="section">
                     <p>Converts to a <code class="codeph">string</code> representation for the interval.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E__GUID-E36DC8D2-462B-4A2C-9D14-FE0A5CFD4AA8">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string toText(
&nbsp;&nbsp;&nbsp;unsigned int lfprec,
&nbsp;&nbsp;&nbsp;unsigned int fsprec,
&nbsp;&nbsp;&nbsp;const string &amp;nlsParam = "") const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6064D2CB-1072-4C6E-916B-2604EB8F2D6E__GUID-4DAFD149-B099-4004-84D4-3AACD817CE1C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e3484">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e3487">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3492" headers="d127196e3484 "><pre class="oac_no_warn" dir="ltr">lfprec</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3492 d127196e3487 ">
                                 <p>Leading field precision.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3499" headers="d127196e3484 "><pre class="oac_no_warn" dir="ltr">fsprec</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3499 d127196e3487 ">
                                 <p>Fractional second precision.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3506" headers="d127196e3484 "><pre class="oac_no_warn" dir="ltr">nlsParam</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3506 d127196e3487 ">
                                 <p>The NLS parameters string. If <code class="codeph">nlsParam</code> is specified, this determines the NLS parameters to be used for the conversion. If <code class="codeph">nlsParam</code> is not specified, the NLS parameters are picked up from <code class="codeph">envp</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21061"></a><a id="LNCPP21060"></a><div class="props_rev_3"><a id="GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016" name="GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016"></a><h3 id="LNCPP-GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016" class="sect3"><span class="enumeration_section">13.15.28 </span>toUText()
               </h3>
               <div>
                  <div class="section">
                     <p>Converts to a <code class="codeph">UString</code> representation for the interval.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016__GUID-0F389FEA-D435-4E1C-BF3E-B3420C7C78AF">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString toUText(
&nbsp;&nbsp;&nbsp;unsigned int lfprec,
&nbsp;&nbsp;&nbsp;unsigned int fsprec) cosnt;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6DD2E239-BCA6-43E5-91A5-E3807F607016__GUID-28E6B732-CB32-47B3-A9CE-EBD5CBC8885D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d127196e3606">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d127196e3609">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3614" headers="d127196e3606 "><pre class="oac_no_warn" dir="ltr">lfprec</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3614 d127196e3609 ">
                                 <p>Leading field precision.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d127196e3621" headers="d127196e3606 "><pre class="oac_no_warn" dir="ltr">fsprec</pre></td>
                              <td align="left" valign="top" width="72%" headers="d127196e3621 d127196e3609 ">
                                 <p>Fractional second precision.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='02638.real-application-security-hr-demo.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Real Application Security HR Demo</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="XS_SECURITY_CLASS-package.html" title="Previous" type="text/html">
      <link rel="next" href="predefined-objects-in-real-application-security.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XS_SECURITY_CLASS-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="predefined-objects-in-real-application-security.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Real Application Security HR Demo </li>
            </ol>
            <a id="GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" name="GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87"></a><a id="DBFSG806"></a>
            
            <h2 id="DBFSG-GUID-F38C8CA7-05B0-4939-AF59-741D8EF7FB87" class="sect2"><span class="enumeration_chapter">12 </span>Real Application Security HR Demo 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This chapter describes the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A">Overview of the Security HR Demo</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C">What Each Script Does</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">Setting Up the Security HR Demo Components</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-FA992EC6-83D5-4465-86D8-334EAA195C41">Running the Security HR Demo Using Direct Logon</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A">Running the Security HR Demo Attached to a Real Application Security Session</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B">Running the Security HR Demo Cleanup Script</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-36443370-D363-45F1-8F39-45FC8FA52FEB">Running the Security HR Demo in the Java Interface</a></p>
                     </li>
                     <li>
                        <p><a href="real-application-security-hr-demo.html#GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" title="Describes how to use RASADM to create Real Application Security data security policies using a graphical user interface.">About Using RASADM to Run the Security HR Demo</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG807"></a><div class="props_rev_3"><a id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A" name="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A"></a><h3 id="DBFSG-GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A" class="sect3">Overview of the Security HR Demo</h3>
               <div>
                  <p>This Human Resources (HR) Demonstration shows how to use basic Real Application Security (RAS) features. This tutorial is an end-to-end use case scenario. PL/SQL scripts, a Java program source file, and log files can be found in <a href="real-application-security-hr-demo-files.html#GUID-9289D66D-6426-4CE5-9E5E-941A360B0E9C">Real Application Security HR Demo Files</a>.
                  </p>
                  <p>The HR demo secures the <code class="codeph">HR.EMPLOYEE</code> table by applying a data security policy that has three realms:
                  </p>
                  <ol>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">
                        <p>An employee's own record realm. The ACL, <code class="codeph">EMP_ACL</code> controls this realm, which grants application role <code class="codeph">employee</code> privileges to access the realm, including the <code class="codeph">SALARY</code> column. 
                        </p>
                     </li>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHGGHEH">
                        <p>All the records in the IT department realm. The ACL, <code class="codeph">IT_ACL</code> controls this realm, which grants application role <code class="codeph">it_engineer</code> privileges to access the realm, but excluding the <code class="codeph">SALARY</code> column. 
                        </p>
                     </li>
                     <li id="GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHBGEEH">
                        <p>All the employee records realm. The ACL, HR_ACL controls this realm, which grants application role <code class="codeph">hr_representative</code> privileges to access the realm, including the  <code class="codeph">SALARY</code> column. 
                        </p>
                     </li>
                  </ol>
                  <p>The HR Demo defines two application users to demonstrate the effects of the policy: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DAUSTIN</code>, an application user in the IT department. He has application roles <code class="codeph">employee</code> and <code class="codeph">it_engineer</code>. So, he can access realm #<a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">1</a> and realm #<a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHGGHEH">2</a> mentioned previously; that is, he can view employee records in the IT department, but he cannot view the <code class="codeph">SALARY</code> column, except for his own salary record. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">SMAVRIS</code>, an application user in HR department. She has application roles <code class="codeph">employee</code> and <code class="codeph">hr_representative</code>. So, she can access realm #<a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHJHIDF">1</a> and realm #<a href="real-application-security-hr-demo.html#GUID-E5B6F107-FACD-4D7E-97D2-1BCA07447A1A__CIHBGEEH">3</a> mentioned previously; that is, she can view and update all the employee records. 
                        </p>
                     </li>
                  </ul>
                  <p>The HR Demo scripts show:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>How to create Real Application Security objects: application user, application role, ACL, security class, and data security policy. </p>
                     </li>
                     <li>
                        <p>How to use the data security policy to secure rows (using realm constraints) and columns (using a column constraint) of a table. </p>
                     </li>
                     <li>
                        <p>How to directly logon to a database with application users (requiring a password), and how to create, attach, detach, and destroy a Real Application Security session. </p>
                     </li>
                     <li>
                        <p>How to enable and disable an application role in a Real Application Security session. </p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG808"></a><div class="props_rev_3"><a id="GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C" name="GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C"></a><h3 id="DBFSG-GUID-0608DC74-A2FB-4ECF-9AA9-53F3D95FE43C" class="sect3">What Each Script Does</h3>
               <div>
                  <p>The Security HR demo use case runs the following set of PL/SQL scripts to set up components and run the demo:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">hrdemo_setup.sql</code>: sets up the demo components by:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating a database user as the Real Application Security Administrator and then connecting as the Real Application Security Administrator to create the components.</p>
                           </li>
                           <li>
                              <p>Creating a database role, <code class="codeph">DB_EMP</code>.
                              </p>
                           </li>
                           <li>
                              <p>Creating an IT application user, <code class="codeph">DAUSTIN</code>.
                              </p>
                           </li>
                           <li>
                              <p>Creating an HR application user, <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Creating application roles: <code class="codeph">employee</code>, <code class="codeph">it_engineer</code>, and <code class="codeph">hr_representative</code>, and then granting the database role <code class="codeph">DB_EMP</code> to each of these application roles.
                              </p>
                           </li>
                           <li>
                              <p>Granting application roles <code class="codeph">employee</code> and <code class="codeph">it_engineer</code> to application user <code class="codeph">DAUSTIN</code>.
                              </p>
                           </li>
                           <li>
                              <p>Granting application roles <code class="codeph">employee</code> and <code class="codeph">hr_representative</code> to application user <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Creating the <code class="codeph">VIEW_SALARY</code> privilege and creating the <code class="codeph">hr_privileges</code> security class in which to scope the privilege.
                              </p>
                           </li>
                           <li>
                              <p>Creating three ACLs: <code class="codeph">EMP_ACL</code>, <code class="codeph">IT_ACL</code>, and <code class="codeph">HR_ACL</code>, in which:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">EMP_ACL</code> grants the <code class="codeph">employee</code> role the <code class="codeph">SELECT</code> database privilege and <code class="codeph">VIEW_SALARY</code> application privilege to view an employee's own record, including the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">IT_ACL</code> grants the <code class="codeph">it_engineer</code> role only the <code class="codeph">SELECT</code> database privilege to view the employee records in the IT department, but it does not grant the <code class="codeph">VIEW_SALARY</code> privilege that is required for access to the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HR_ACL</code> grants the <code class="codeph">hr_representative</code> role <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> database privileges to view and update all employee's records, and granting the <code class="codeph">VIEW_SALARY</code> application privilege to view the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The HR demo secures the <code class="codeph">HR.EMPLOYEE</code> table by creating and applying the data security policy, <code class="codeph">EMPLOYEES_DS</code>, that has the following three realms and column constraint:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>An employee's own record realm. The ACL, <code class="codeph">EMP_ACL</code> controls this realm, which grants application role <code class="codeph">employee</code> privileges to access the realm, including the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                                 <li>
                                    <p>All the records in the IT department realm. The ACL, <code class="codeph">IT_ACL</code> controls this realm, which grants application role <code class="codeph">it_engineer</code> privileges to access the realm, but excluding the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                                 <li>
                                    <p>All the employee records realm. The ACL, <code class="codeph">HR_ACL</code> controls this realm, which grants application role <code class="codeph">hr_representative</code> privileges to access the realm, including the  <code class="codeph">SALARY</code> column. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>A column constraint that protects the <code class="codeph">SALARY</code> column by requiring the <code class="codeph">VIEW_SALARY</code> privilege to view its sensitive data.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Validating all the objects that have been created to ensure that all configurations are correct.</p>
                           </li>
                           <li>
                              <p>Setting up the mid-tier related configuration by creating a <code class="codeph">DISPATCHER</code> user, setting the password for this user, and granting the roles, <code class="codeph">XSCONNECT</code> and <code class="codeph">xsdispatcher</code> to this <code class="codeph">DISPATCHER</code> user.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo.sql</code>: runs the demo with direct logon, demonstrating:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>That the IT application user, <code class="codeph">DAUSTIN</code>, can view the records in the IT department, but can only view his own salary record, and cannot update his own record.
                              </p>
                           </li>
                           <li>
                              <p>That the HR application user, <code class="codeph">SMAVRIS</code>, can view all the records, including all salary rows in the <code class="codeph">SALARY</code> column, and can update any record.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo_session.sql</code>: runs the demo creating and attaching to a Real Application Security session, demonstrating:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Connecting as the Real Application Security Administrator and creating an application session for application user <code class="codeph">SMAVRIS</code> and attaching to it.
                              </p>
                           </li>
                           <li>
                              <p>Displaying the current user as <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Displaying the enabled database roles as <code class="codeph">DB_EMP</code> and application roles as <code class="codeph">employee</code>, <code class="codeph">hr_representative</code>, and <code class="codeph">XSPUBLIC</code> for the current user <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                           <li>
                              <p>That <code class="codeph">SMAVRIS</code> application user can view all records including all salary rows in the <code class="codeph">SALARY</code> column.
                              </p>
                           </li>
                           <li>
                              <p>Disabling the <code class="codeph">hr_representative</code> and thus limiting application user <code class="codeph">SMAVRIS </code>to viewing only her own employee record.
                              </p>
                           </li>
                           <li>
                              <p>Enabling the <code class="codeph">hr_representative</code>, thus allowing <code class="codeph">SMAVRIS</code> application user to view all records, including all salary rows in the <code class="codeph">SALARY</code> column again.
                              </p>
                           </li>
                           <li>
                              <p>Detaching from the application session.</p>
                           </li>
                           <li>
                              <p>Destroying the application session.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo_clean.sql</code>: performs a cleanup operation that removes: application roles, application users, ACLs, the data security policy, the database role, the Real Application Security administrative user, and the mid-tier dispatcher user.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">hrdemo.java</code>: runs the HR Demo using the Java interface.
                        </p>
                     </li>
                  </ul>
                  <p><span class="q">"<a href="real-application-security-hr-demo.html#GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4">Setting Up the Security HR Demo Components</a>"</span> describes in more detail how each of the Real Application Security components is created along with performing some other important tasks.
                  </p>
               </div>
            </div><a id="DBFSG809"></a><div class="props_rev_3"><a id="GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4" name="GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4"></a><h3 id="DBFSG-GUID-487A921A-6D51-47C2-8D1E-EBD2C2B7A2A4" class="sect3">Setting Up the Security HR Demo Components</h3>
               <div>
                  <div class="section">
                     <p>Before you can create Real Application Security components, you must first connect as <code class="codeph">SYS/</code> user as <code class="codeph">SYSDBA</code>. 
                     </p><pre class="oac_no_warn" dir="ltr">define passwd=&amp;1
connect sys/<span class="italic">&amp;passwd</span> as sysdba
</pre><div class="p">This sections includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD">About Creating Roles and Application Users</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2">About Creating the Security Class and ACLs</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D">About Creating the Data Security Policy</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-9519B6E3-ACC5-403A-BF54-99862F01665D">About Validating the Real Application Security Objects</a></p>
                           </li>
                           <li>
                              <p><a href="real-application-security-hr-demo.html#GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4">About Setting Up the Mid-Tier Related Configuration</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBFSG810"></a><div class="props_rev_3"><a id="GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD" name="GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD"></a><h4 id="DBFSG-GUID-96620EA6-5B7C-43C3-800C-9DF2D35DE1FD" class="sect4">About Creating Roles and Application Users</h4>
                  <div>
                     <p>Create the application roles <code class="codeph">EMPLOYEE</code>, <code class="codeph">IT_ENGINEER</code>, and <code class="codeph">HR_REPRESENTATIVE</code>, and the database role <code class="codeph">DB_EMP</code>. The <code class="codeph">DB_EMP</code> role is used to grant the required object privileges to the two application users that are created, <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code>. Finally, grant the <code class="codeph">HR</code> user the policy administration privilege, <code class="codeph">ADMIN_ANY_SEC_POLICY</code>.
                     </p>
                     <p>Connect as <code class="codeph">SYS/</code> user as <code class="codeph">SYSDBA</code>.
                     </p><pre class="oac_no_warn" dir="ltr">define passwd=&amp;1
connect sys/&amp;passwd as sysdba
</pre><p>Create the application role <code class="codeph">EMPLOYEE</code> for common employees.
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role(name =&gt; 'employee', enabled =&gt; true);
</pre><p>Create an application role <code class="codeph">IT_ENGINEER</code> for the IT department.
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role(name =&gt; 'it_engineer', enabled =&gt; true);
</pre><p>Create an application role <code class="codeph">HR_REPRESENTATIVE</code> for the HR department.
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_role(name =&gt; 'hr_representative', enabled =&gt; true);
</pre><p>Create the database role, <code class="codeph">DB_EMP</code>, for object privilege grants.
                     </p><pre class="oac_no_warn" dir="ltr">create role db_emp;
</pre><p>Grant the <code class="codeph">DB_EMP</code> database role to the three application roles, so they each have the required object privilege to access the table. 
                     </p><pre class="oac_no_warn" dir="ltr">grant db_emp to employee;
grant db_emp to it_engineer;
grant db_emp to hr_representative;
</pre><p>Create the application users. </p>
                     <p>Create application user <code class="codeph">DAUSTIN</code> (in the IT department) and grant this user application roles <code class="codeph">EMPLOYEE</code> and <code class="codeph">IT_ENGINEER</code>.
                     </p><pre class="oac_no_warn" dir="ltr">exec  sys.xs_principal.create_user(name =&gt; 'daustin', schema =&gt; 'hr');
exec  sys.xs_principal.set_password('daustin', 'welcome1');
exec  sys.xs_principal.grant_roles('daustin', 'XSCONNECT');
exec  sys.xs_principal.grant_roles('daustin', 'employee');
exec  sys.xs_principal.grant_roles('daustin', 'it_engineer');
</pre><p>Create application user <code class="codeph">SMAVRIS</code> (in the HR department) and grant this user application roles <code class="codeph">EMPLOYEE</code> and <code class="codeph">HR_REPRESENTATIVE</code>.
                     </p><pre class="oac_no_warn" dir="ltr">exec  sys.xs_principal.create_user(name =&gt; 'smavris', schema =&gt; 'hr');
exec  sys.xs_principal.set_password('smavris', 'welcome1');
exec  sys.xs_principal.grant_roles('smavris', 'XSCONNECT');
exec  sys.xs_principal.grant_roles('smavris', 'employee');
exec  sys.xs_principal.grant_roles('smavris', 'hr_representative');
</pre><p>Grant the <code class="codeph">HR</code> user the policy administration privilege, <code class="codeph">ADMIN_ANY_SEC_POLICY</code>.
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_admin_util.grant_system_privilege('ADMIN_ANY_SEC_POLICY','HR');</pre></div>
               </div><a id="DBFSG811"></a><div class="props_rev_3"><a id="GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2" name="GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2"></a><h4 id="DBFSG-GUID-25E303A2-C2A4-4051-AA05-3F8641ED37E2" class="sect4">About Creating the Security Class and ACLs</h4>
                  <div>
                     <p>First, grant the necessary table privileges to the <code class="codeph">DB_EMP</code> role.
                     </p>
                     <p>Next, create a security class <code class="codeph">HR_PRIVILEGES</code> based on the predefined DML security class. <code class="codeph">HR_PRIVILEGES</code> has a new privilege <code class="codeph">VIEW_SALARY</code>, which controls access to the <code class="codeph">SALARY</code> column. Finally, create the three ACLs, <code class="codeph">EMP_ACL</code>, <code class="codeph">IT_ACL</code>, and <code class="codeph">HR_ACL</code>.
                     </p>
                     <p>Connect as the <code class="codeph">HR</code> user.
                     </p><pre class="oac_no_warn" dir="ltr">connect hr/hr;</pre><p>Grant the necessary object privileges to the <code class="codeph">DB_EMP</code> role. This role is used to grant the required object privileges to application users.
                     </p><pre class="oac_no_warn" dir="ltr">grant select, insert, update, delete on hr.employees to db_emp; </pre><pre class="oac_no_warn" dir="ltr">declare
begin
  sys.xs_security_class.create_security_class(
    name        =&gt; 'hr_privileges', 
    parent_list =&gt; xs$name_list('sys.dml'),
    priv_list   =&gt; xs$privilege_list(xs$privilege('view_salary')));
end;
/
</pre><p>Create three ACLs, <code class="codeph">EMP_ACL</code>, <code class="codeph">IT_ACL</code>, and <code class="codeph">HR_ACL</code> to grant privileges for the data security policy to be defined later.
                     </p><pre class="oac_no_warn" dir="ltr">declare  
  aces xs$ace_list := xs$ace_list();  
begin 
  aces.extend(1);
 
  -- EMP_ACL: This ACL grants EMPLOYEE role the privileges to view an employee's
  --          own record including SALARY column.
  aces(1) := xs$ace_type(privilege_list =&gt; xs$name_list('select','view_salary'),
                         principal_name =&gt; 'employee');
 
  sys.xs_acl.create_acl(name      =&gt; 'emp_acl',
                    ace_list  =&gt; aces,
                    sec_class =&gt; 'hr_privileges');
  
  -- IT_ACL:  This ACL grants IT_ENGINEER role the privilege to view the employee
  --          records in IT department, but it does not grant the VIEW_SALARY
  --          privilege that is required for access to SALARY column.
  aces(1) := xs$ace_type(privilege_list =&gt; xs$name_list('select'),
                         principal_name =&gt; 'it_engineer');
 
  sys.xs_acl.create_acl(name      =&gt; 'it_acl',
                    ace_list  =&gt; aces,
                    sec_class =&gt; 'hr_privileges');
 
  -- HR_ACL:  This ACL grants HR_REPRESENTITIVE role the privileges to view and update all
  --          employees' records including SALARY column.
  aces(1):= xs$ace_type(privilege_list =&gt; xs$name_list('select', 'insert', 
                                          'update', 'delete', 'view_salary'),
                        principal_name =&gt; 'hr_representative');
 
  sys.xs_acl.create_acl(name      =&gt; 'hr_acl',
                    ace_list  =&gt; aces,
                    sec_class =&gt; 'hr_privileges');
end;
/
</pre></div>
               </div><a id="DBFSG812"></a><div class="props_rev_3"><a id="GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D" name="GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D"></a><h4 id="DBFSG-GUID-BC978931-ABB9-4AD7-B74E-521AB427E07D" class="sect4">About Creating the Data Security Policy</h4>
                  <div>
                     <p>Create the data security policy for the <code class="codeph">EMPLOYEE</code> table. The policy defines three realm constraints and a column constraint that protects the <code class="codeph">SALARY</code> column.
                     </p><pre class="oac_no_warn" dir="ltr">declare
  realms   xs$realm_constraint_list := xs$realm_constraint_list();      
  cols     xs$column_constraint_list := xs$column_constraint_list();
begin  
  realms.extend(3);
 
  -- Realm #1: Only the employee's own record. 
  --           The EMPLOYEE role can view the realm including SALARY column.     
  realms(1) := xs$realm_constraint_type(
    realm    =&gt; 'email = xs_sys_context(''xs$session'',''username'')',
    acl_list =&gt; xs$name_list('emp_acl'));
 
  -- Realm #2: The records in the IT department.
  --           The IT_ENGINEER role can view the realm excluding SALARY column.
  realms(2) := xs$realm_constraint_type(
    realm    =&gt; 'department_id = 60',
    acl_list =&gt; xs$name_list('it_acl'));
 
  -- Realm #3: All the records.
  --           The HR_REPRESENTATIVE role can view and update the realm including SALARY column.
  realms(3) := xs$realm_constraint_type(
    realm    =&gt; '1 = 1',
    acl_list =&gt; xs$name_list('hr_acl'));
 
  -- Column constraint protects SALARY column by requiring VIEW_SALARY 
  -- privilege.
  cols.extend(1);
  cols(1) := xs$column_constraint_type(
    column_list =&gt; xs$list('salary'),
    privilege   =&gt; 'view_salary');
 
  sys.xs_data_security.create_policy(
    name                   =&gt; 'employees_ds',
    realm_constraint_list  =&gt; realms,
    column_constraint_list =&gt; cols);
end;
/
</pre><p>Apply the data security policy to the <code class="codeph">EMPLOYEES</code> table.
                     </p><pre class="oac_no_warn" dir="ltr">begin
  sys.xs_data_security.apply_object_policy(
    policy =&gt; 'employees_ds', 
    schema =&gt; 'hr',
    object =&gt;'employees');
end;
/
</pre></div>
               </div><a id="DBFSG813"></a><div class="props_rev_3"><a id="GUID-9519B6E3-ACC5-403A-BF54-99862F01665D" name="GUID-9519B6E3-ACC5-403A-BF54-99862F01665D"></a><h4 id="DBFSG-GUID-9519B6E3-ACC5-403A-BF54-99862F01665D" class="sect4">About Validating the Real Application Security Objects</h4>
                  <div>
                     <p>After you create these Real Application Security objects, validate them to ensure they are all properly configured.</p><pre class="oac_no_warn" dir="ltr">begin
  if (sys.xs_diag.validate_workspace()) then
    dbms_output.put_line('All configurations are correct.');
  else
    dbms_output.put_line('Some configurations are incorrect.');
  end if;
end;
/
-- XS$VALIDATION_TABLE contains validation errors if any.
-- Expect no rows selected.
select * from xs$validation_table order by 1, 2, 3, 4;
</pre></div>
               </div><a id="DBFSG814"></a><div class="props_rev_3"><a id="GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4" name="GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4"></a><h4 id="DBFSG-GUID-FF821236-FAD0-41F5-ABF3-B10C237396F4" class="sect4">About Setting Up the Mid-Tier Related Configuration</h4>
                  <div>
                     <p>Set up the mid-tier configuration to be used later. This involves creating a session administrator, <code class="codeph">hr_session</code>, who only has Real Application Security administrative privileges (<code class="codeph">XS_SESSION_ADMIN</code> and <code class="codeph">CREATE SESSION</code>), but no data privileges. The session administrator is responsible for managing the  Real Application Security session for each application user. In addition, it involves creating a <code class="codeph">DISPATCHER</code> user and password and granting this user the <code class="codeph">XSCONNECT</code> and <code class="codeph">XSDISPATCHER</code> Real Application Security administrator privileges.
                     </p><pre class="oac_no_warn" dir="ltr">grant xs_session_admin, create session to hr_session identified by hr_session;
grant create session to hr_common identified by hr_common;</pre><p>Create a dispatcher user for the Java demo to set up a session for the application user.</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.create_user(name=&gt;'dispatcher', schema=&gt;'HR');
exec sys.xs_principal.set_password('dispatcher', 'welcome1');
exec sys.xs_principal.grant_roles('dispatcher', 'XSCONNECT');
exec sys.xs_principal.grant_roles('dispatcher', 'xsdispatcher');</pre></div>
               </div>
            </div><a id="DBFSG815"></a><div class="props_rev_3"><a id="GUID-FA992EC6-83D5-4465-86D8-334EAA195C41" name="GUID-FA992EC6-83D5-4465-86D8-334EAA195C41"></a><h3 id="DBFSG-GUID-FA992EC6-83D5-4465-86D8-334EAA195C41" class="sect3">Running the Security HR Demo Using Direct Logon</h3>
               <div>
                  <div class="section">
                     <p>To run the HR Demo, first connect as application user <code class="codeph">DAUSTIN</code>, who has only the <code class="codeph">EMPLOYEE</code> and <code class="codeph">IT_ENGINEER</code> application roles.
                     </p><pre class="oac_no_warn" dir="ltr">conn daustin/welcome1;
</pre><p>Customize how secured column values are to be displayed in SQL*Plus using the default indicator asterisks (*******) in place of column values.</p><pre class="oac_no_warn" dir="ltr">SET SECUREDCOL ON UNAUTH *******
</pre><p>Perform a query to show that application user <code class="codeph">DAUSTIN</code> can view the records in the IT department, but can only view his own <code class="codeph">SALARY</code> column.
                     </p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary 
from employees order by email;

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees order by email;
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
AHUNOLD    Alexander       Hunold                     60        102 *******
BERNST     Bruce           Ernst                      60        103 *******
DAUSTIN    David           Austin                     60        103    4800
DLORENTZ   Diana           Lorentz                    60        103 *******
VPATABAL   Valli           Pataballa                  60        103 *******
 
5 rows selected.
</pre><p>Set to the default display for how secured column values are to be displayed in SQL*Plus by displaying null values in place of column values for application users without authorization, and in place of column values where the security level is unknown.</p><pre class="oac_no_warn" dir="ltr">SET SECUREDCOL OFF 
</pre><p>Perform an update operation to show that application user is not authorized to update the record.</p><pre class="oac_no_warn" dir="ltr">update employees set manager_id = 102 where email = 'DAUSTIN';

SQL&gt; update employees set manager_id = 102 where email = 'DAUSTIN';
 
0 rows updated.
</pre><p>Perform a query to show that the record is unchanged.</p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary
from employees where email = 'DAUSTIN';

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where email = 'DAUSTIN';
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
DAUSTIN    David           Austin                     60        103    4800
 
1 row selected.
</pre><p>Connect as application user <code class="codeph">SMAVRIS</code>, who has both <code class="codeph">EMPLOYEE</code> and <code class="codeph">HR_REPRESENTATIVE</code> application roles.
                     </p><pre class="oac_no_warn" dir="ltr">conn smavris/welcome1;
</pre><p>Perform a query to show that application user <code class="codeph">SMAVRIS</code> can view all the records including <code class="codeph">SALARY</code> column. 
                     </p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary 
from employees where department_id = 60 or department_id = 40
order by department_id, email;

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where department_id = 60 or department_id = 40
  3  order by department_id, email;
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
SMAVRIS    Susan           Mavris                     40        101    6500
AHUNOLD    Alexander       Hunold                     60        102    9000
BERNST     Bruce           Ernst                      60        103    6000
DAUSTIN    David           Austin                     60        103    4800
DLORENTZ   Diana           Lorentz                    60        103    4200
VPATABAL   Valli           Pataballa                  60        103    4800
 
6 rows selected.
</pre><p>Perform a query to show that application user <code class="codeph">SMAVRIS</code> can access all the records.
                     </p><pre class="oac_no_warn" dir="ltr">select count(*) from employees;

SQL&gt; select count(*) from employees;
 
  COUNT(*)
----------
       107
 
1 row selected.
</pre><p>Perform an update of the record to show that application user <code class="codeph">SMAVRIS</code> can update the record.
                     </p><pre class="oac_no_warn" dir="ltr">update employees set manager_id = 102 where email = 'DAUSTIN';

SQL&gt; update employees set manager_id = 102 where email = 'DAUSTIN';
 
1 row updated.
</pre><p>Perform a query to show that the record is changed.</p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary
from employees where email = 'DAUSTIN';

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where email = 'DAUSTIN';
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
DAUSTIN    David           Austin                     60        102    4800
 
1 row selected.
</pre><p>Update the record to change it back to its original state.</p><pre class="oac_no_warn" dir="ltr">update employees set manager_id = 103 where email = 'DAUSTIN';

SQL&gt; update employees set manager_id = 103 where email = 'DAUSTIN';
 
1 row updated.
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG816"></a><div class="props_rev_3"><a id="GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A" name="GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A"></a><h3 id="DBFSG-GUID-158CF5F1-BF4C-46C3-9C99-B2686C340F7A" class="sect3">Running the Security HR Demo Attached to a Real Application Security Session</h3>
               <div>
                  <div class="section">
                     <p>To run the demo attached to a Real Application Security session, the Real Application Security administrator must first create the session for an application user and attach to it. In the process, create a variable to remember the session ID. </p><pre class="oac_no_warn" dir="ltr">connect hr_session/hr_session;

var gsessionid varchar2(32);

declare
  sessionid raw(16);
begin
  sys.dbms_xs_sessions.create_session('SMAVRIS', sessionid);
  :gsessionid := rawtohex(sessionid);
  sys.dbms_xs_sessions.attach_session(sessionid, null);
end ;
/
</pre><p>Display the current user.</p><pre class="oac_no_warn" dir="ltr">select xs_sys_context('xs$session','username') from dual;

SQL&gt; select xs_sys_context('xs$session','username') from dual;
 
XS_SYS_CONTEXT('XS$SESSION','USERNAME')
--------------------------------------------------------------------------------
SMAVRIS
 
1 row selected.
</pre><p>Display the enabled database and application roles for the current application user.</p><pre class="oac_no_warn" dir="ltr">select role_name from v$xs_session_roles union
select role from session_roles order by 1;

SQL&gt; select role_name from v$xs_session_roles union
  2  select role from session_roles order by 1;
 
ROLE_NAME
--------------------------------------------------------------------------------
DB_EMP
EMPLOYEE
HR_REPRESENTATIVE
XSPUBLIC
 
4 rows selected.
</pre><p>Perform a query to show that application user <code class="codeph">SMAVRIS</code> can view all the records including <code class="codeph">SALARY</code> column.
                     </p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary 
from employees where department_id = 60 or department_id = 40
order by department_id, email;

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where department_id = 60 or department_id = 40
  3  order by department_id, email;
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
SMAVRIS    Susan           Mavris                     40        101    6500
AHUNOLD    Alexander       Hunold                     60        102    9000
BERNST     Bruce           Ernst                      60        103    6000
DAUSTIN    David           Austin                     60        103    4800
DLORENTZ   Diana           Lorentz                    60        103    4200
VPATABAL   Valli           Pataballa                  60        103    4800
 
6 rows selected.
</pre><p>Perform a query to show that application user <code class="codeph">SMAVRIS</code> can access all the records.
                     </p><pre class="oac_no_warn" dir="ltr">select count(*) from employees;

SQL&gt; select count(*) from employees;
 
  COUNT(*)
----------
       107
 
1 row selected.
</pre><p>Disable the <code class="codeph">HR_REPRESENTATIVE</code> role. This will limit application user <code class="codeph">SMAVRIS</code> to only be able to see her own record. 
                     </p><pre class="oac_no_warn" dir="ltr">exec dbms_xs_sessions.disable_role('hr_representative');
</pre><p>Perform a query </p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary 
from employees where department_id = 60 or department_id = 40
order by department_id, email;

SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where department_id = 60 or department_id = 40
  3  order by department_id, email;
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
SMAVRIS    Susan           Mavris                     40        101    6500
 
1 row selected.
</pre><p>Enable the <code class="codeph">HR_REPRESENTATIVE</code> role so the application user can view all the records including <code class="codeph">SALARY</code> column.
                     </p><pre class="oac_no_warn" dir="ltr">exec dbms_xs_sessions.enable_role('hr_representative');
</pre><p>Perform a query to show that application user can view all the records including <code class="codeph">SALARY</code> column. 
                     </p><pre class="oac_no_warn" dir="ltr">select email, first_name, last_name, department_id, manager_id, salary 
from employees where department_id = 60 or department_id = 40
order by department_id, email;

SQL&gt; -- SMAVRIS can view all the records again.
SQL&gt; select email, first_name, last_name, department_id, manager_id, salary
  2  from employees where department_id = 60 or department_id = 40
  3  order by department_id, email;
 
EMAIL      FIRST_NAME      LAST_NAME       DEPARTMENT_ID MANAGER_ID  SALARY
---------- --------------- --------------- ------------- ---------- -------
SMAVRIS    Susan           Mavris                     40        101    6500
AHUNOLD    Alexander       Hunold                     60        102    9000
BERNST     Bruce           Ernst                      60        103    6000
DAUSTIN    David           Austin                     60        103    4800
DLORENTZ   Diana           Lorentz                    60        103    4200
VPATABAL   Valli           Pataballa                  60        103    4800
 
6 rows selected.
</pre><p>Perform a query to show that application user <code class="codeph">SMAVRIS</code> can access all the records.
                     </p><pre class="oac_no_warn" dir="ltr">select count(*) from employees;

SQL&gt; select count(*) from employees;
 
  COUNT(*)
----------
       107
 
1 row selected.
</pre><p>Detach and destroy the application session.</p><pre class="oac_no_warn" dir="ltr">declare
  sessionid raw(16);
begin
  sessionid := hextoraw(:gsessionid);
  sys.dbms_xs_sessions.detach_session;
  sys.dbms_xs_sessions.destroy_session(sessionid);
end;
/
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG817"></a><div class="props_rev_3"><a id="GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B" name="GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B"></a><h3 id="DBFSG-GUID-7527DF49-052A-4F1C-B49A-32DFDA74C36B" class="sect3">Running the Security HR Demo Cleanup Script</h3>
               <div>
                  <div class="section">
                     <p>After running the HR demo, you can run the clean up script to remove all of the Real Application Security components. </p>
                     <p>To start, connect as the Real Application Security Administrator and then begin removing components.</p><pre class="oac_no_warn" dir="ltr">define passwd=&amp;1
connect hr/hr;
</pre><p>Remove the data security policy from the <code class="codeph">EMPLOYEES</code> table.
                     </p><pre class="oac_no_warn" dir="ltr">begin
  xs_data_security.remove_object_policy(policy=&gt;'employees_ds', 
                                        schema=&gt;'hr', object=&gt;'employees');
end;
/
</pre><p>Delete the security class and the ACLs.</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_security_class.delete_security_class('hrprivs', xs_admin_util.cascade_option);
exec sys.xs_acl.delete_acl('emp_acl', xs_admin_util.cascade_option);
exec sys.xs_acl.delete_acl('it_acl', xs_admin_util.cascade_option);
exec sys.xs_acl.delete_acl('hr_acl', xs_admin_util.cascade_option);
</pre><p>Delete the data security policy.</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_data_security.delete_policy('employees_ds', xs_admin_util.cascade_option);
</pre><p>Connect as <code class="codeph">SYS/</code> user as <code class="codeph">SYSDBA</code>.
                     </p><pre class="oac_no_warn" dir="ltr">connect sys/&amp;passwd as sysdba</pre><p>Delete the application roles and application users.</p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.delete_principal('employee', xs_admin_util.cascade_option);
exec sys.xs_principal.delete_principal('hr_representative', xs_admin_util.cascade_option);
exec sys.xs_principal.delete_principal('it_engineer', xs_admin_util.cascade_option);
exec sys.xs_principal.delete_principal('smavris', xs_admin_util.cascade_option);
exec sys.xs_principal.delete_principal('daustin', xs_admin_util.cascade_option);
</pre><p>Delete the database role.</p><pre class="oac_no_warn" dir="ltr">drop role db_emp;
</pre><p>Delete the Real Application Security session administrator.</p><pre class="oac_no_warn" dir="ltr">drop user hr_session;
</pre><p>Delete the common user used to connect to the database.</p><pre class="oac_no_warn" dir="ltr">drop user hr_common;</pre><p>Delete the <code class="codeph">DISPATCHER</code> user used by the mid-tier.
                     </p><pre class="oac_no_warn" dir="ltr">exec sys.xs_principal.delete_principal('dispatcher', xs_admin_util.cascade_option);
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG818"></a><div class="props_rev_3"><a id="GUID-36443370-D363-45F1-8F39-45FC8FA52FEB" name="GUID-36443370-D363-45F1-8F39-45FC8FA52FEB"></a><h3 id="DBFSG-GUID-36443370-D363-45F1-8F39-45FC8FA52FEB" class="sect3">Running the Security HR Demo in the Java Interface</h3>
               <div>
                  <div class="section">
                     <p>See the Output section in <span class="q">"<a href="using-real-application-security-in-java-applications.html#GUID-501B93E3-2673-4838-889E-AC1CAC9D9AD3">Human Resources Administration Use Case: Implementation in Java</a>"</span> for a description of the two queries that are returned from running the Security HR Demo in the Java interface.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" name="GUID-73D8B4A8-43B1-47CF-B23F-07248275176F"></a><h3 id="DBFSG-GUID-73D8B4A8-43B1-47CF-B23F-07248275176F" class="sect3">About Using RASADM to Run the Security HR Demo</h3>
               <div>
                  <p>Describes how to use RASADM  to create Real Application Security data security policies using a graphical user interface.</p>
                  <p>Oracle Database Real Application Security Administration (RASADM) lets you create Real Application Security data security policies using a graphical user interface. For more information on installing and configuring RASADM, see <a href="../rasad/index.html" target="_blank"> Real Application Security Administration</a>.
                  </p>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" title="Describes how to run the RASADM application.">About Running the RASADM Application</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" title="In the design phase, you identify all the tasks an application performs that require application privileges to control data access.">Design Phase</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" title="To develop data security policies using RASADM, you must follow some basic steps.">Development Flow</a></p>
                        </li>
                        <li>
                           <p><a href="real-application-security-hr-demo.html#GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" title="Describes how to use RASADM to create the HR Demo application.">About Using RASADM to Create the HR Demo</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" name="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC"></a><h4 id="DBFSG-GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" class="sect4">About Running the RASADM Application</h4>
                  <div>
                     <p>Describes how to run the RASADM application.</p>
                     <p>The following URL is just an example and the real URL is based on your current Application Express configuration. Make sure the correct URL is provided. Then log in as the RASADM administrator using the same password given during the installation.</p>
                     <p>To run the RASADM application, you would enter in your browser a URL like the following: https://www.example.com:8080/apex/f?p=rasadm.</p>
                     <p>Oracle recommends that you turn on HTTPS.</p>
                     <p>You can log in as the RASADM <code class="codeph">admin</code> user or any user created after installation using the password given during installation as shown in the following screen shot.
                     </p>
                     <div class="figure" id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC__GUID-8772133B-FF97-498A-BE9B-7978A485C93C"><img src="img/ras_ui_login.png" height="390" width="387" alt="Description of ras_ui_login.png follows" title="Description of ras_ui_login.png follows" longdesc="img_text/ras_ui_login.html"><br><a href="img_text/ras_ui_login.html">Description of the illustration ras_ui_login.png</a></div>
                     <!-- class="figure" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC__GUID-26AD9430-4D83-4F96-97FB-592F0842C242">For More Information</p>
                        <p>See the following resources for more information:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Real Application Security discussion forum: <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=ras_discussion_forum" target="_blank">Database Security — General</a></p>
                           </li>
                           <li>
                              <p>Real Application Security Documentation: see <a href="../rasad/index.html" target="_blank"><span><cite>Oracle Database Real Application Security Administration</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" name="GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B"></a><h4 id="DBFSG-GUID-F0992499-E07A-45A6-A328-C09D62B3AF9B" class="sect4">Design Phase</h4>
                  <div>
                     <p>In the design phase, you identify all the tasks an application performs that require application privileges to control data access.</p>
                     <p>For example, during the design phase, the application policy designer must identify:</p>
                     <ol>
                        <li>
                           <p>The set of application-level operations that require access control.</p>
                        </li>
                        <li>
                           <p>The rows and columns of tables and views that can be accessed as part of the application-level operations.</p>
                        </li>
                        <li>
                           <p>The set of actors or principals (users and roles) that can perform these operations.</p>
                        </li>
                        <li>
                           <p>The runtime application session attributes that identity rows of a table or views. These attribute names are used within the predicates that selects the rows to be authorized, and their values are set during the execution of the application.</p>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" name="GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8"></a><h4 id="DBFSG-GUID-EB98BBA9-03B9-4729-8F39-A0F60D0BA2E8" class="sect4">Development Flow</h4>
                  <div>
                     <p>To develop data security policies using RASADM, you must follow some basic steps.</p>
                     <p>In the development phase, as the RASADM administrator, you use RASADM to develop your data security policies following these steps:</p>
                     <ol>
                        <li>
                           <p>Create the corresponding application users and roles. If using an external directory server, create the application users and roles or user groups in the directory server. Follow this procedure to create these principals natively in the database:</p>
                           <ol type="a">
                              <li>
                                 <p>  Create the application roles and grant application roles to application roles, if needed. See the topic on creating application roles.</p>
                              </li>
                              <li>
                                 <p>  Create the application users and grant application roles to the application users. See the topic on creating application users.</p>
                              </li>
                              <li>
                                 <p>  Configure the directory server to fetch the users and role, when principals from external stores are used. See the topic on configuration.</p>
                              </li>
                              <li>
                                 <p>  For users and roles in the external Directory Server, manage parameter settings for using RASADM with a Directory Server. See the topic on managing settings.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>  Create each privilege class that you plan to use to develop the security policies for your application. Each privilege class consists of one or more appropriate privileges that you define and can reference in an ACL and also grant them to the application users and application roles. Each privilege class authorizes by means of ACLs the required application-level operations of a data security policy. See the topic on creating application privilege classes.</p>
                        </li>
                        <li>
                           <p>Create one or more session namespaces that can be used across different application sessions. This consists of defining for a session namespace its set of properties (application attributes) and its associated access control policy or ACL that you can choose from a list or create. See the topic on creating namespaces.</p>
                        </li>
                        <li>
                           <p>Create the data security policy by associating each data realm with an ACL, so as to create both data realm authorization and column authorization as needed. This process consists of four parts:</p>
                           <ol type="a">
                              <li>
                                 <p>Policy Information - You choose the object to be protected and the privilege class to protect it as well as specify the policy name and select the policy schema. See Step 3 in the topic on creating data security policies.</p>
                              </li>
                              <li>
                                 <p>Column Level Authorization - You choose the name of the column to be protected and select the privilege to be granted to access the column, which is associated with the privilege class you selected in Step 3a. See Step 4 in the topic on creating data security policies.</p>
                              </li>
                              <li>
                                 <p>  Data Realm Authorization - You create a SQL predicate to represent the data realm to be protected and add each to a data realm grant list. Then you choose or create the ACL to protect the data realm. Next, create privilege grants to be added to a privilege grants list consisting of each principal and whether it is allowed authorization or denied authorization by selecting the appropriate privilege. See Step 5 in the topic on creating data security policies.</p>
                              </li>
                              <li>
                                 <p>Apply Policy - You can apply, remove, enable, or disable the data security policy you are creating and choose to specify certain apply options, allowing the owner of the table or view to bypass this data security policy, and whether to enforce statement types for this policy. See Step 6 in the topic on creating data security policies.</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" name="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72"></a><h4 id="DBFSG-GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72" class="sect4">About Using RASADM to Create the HR Demo</h4>
                  <div>
                     <p>Describes how to use RASADM to create the HR Demo application.</p>
                     <p>To begin, you should be running the RASADM application and be logged in as the <code class="codeph">ADMIN</code> user as described in <a href="real-application-security-hr-demo.html#GUID-A5EF34CB-A160-41B6-8A25-01B5E205DCDC" title="Describes how to run the RASADM application.">About Running the RASADM Application</a> and shown in the following screen shots.
                     </p>
                     <div class="figure" id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72__GUID-C04FE61D-54D4-4268-B5AD-86FD7ADF145D"><img src="img/ras_ui_home_part1.png" alt="Description of ras_ui_home_part1.png follows" title="Description of ras_ui_home_part1.png follows" longdesc="img_text/ras_ui_home_part1.html"><br><a href="img_text/ras_ui_home_part1.html">Description of the illustration ras_ui_home_part1.png</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-BC9D919A-F315-4043-9C86-5D61DCE99E72__GUID-BC3768F6-7B19-4B07-865C-056EA29EC806"><img src="img/ras_ui_part2.png" alt="Description of ras_ui_part2.png follows" title="Description of ras_ui_part2.png follows" longdesc="img_text/ras_ui_part2.html"><br><a href="img_text/ras_ui_part2.html">Description of the illustration ras_ui_part2.png</a></div>
                     <!-- class="figure" -->
                     <p>You will be performing the following tasks:</p>
                  </div>
                  <div class="sect4"><a id="GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392" name="GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392"></a><h5 id="DBFSG-GUID-F6632E85-1A85-4CCE-9CB5-C8D4EA097392" class="sect5">About Creating Application Roles</h5>
                     <div>
                        <p>Describes how to create application roles and specifically the database DB_EMP role.</p>
                        <p>You must create a database <code class="codeph">DB_EMP</code> role using SQL*Plus and grant this role <code class="codeph">SELECT</code>,<code class="codeph"> INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges in <code class="codeph">HR.EMPLOYEES</code> as this code snippet indicates.
                        </p><pre class="oac_no_warn" dir="ltr">-- Create database role DB_EMP and grant necessary table privileges.
-- This role will be used to grant the required object privileges to
-- application users.
CREATE ROLE DB_EMP;
GRANT SELECT, INSERT, UPDATE, DELETE ON HR.EMPLOYEES TO DB_EMP;</pre><p>See <a href="real-application-security-hr-demo-files.html#GUID-E7974492-8418-4DAD-8497-530F3A669064">hrdemo_setup.sql</a>for more information.
                        </p>
                        <p>This next task involves creating the following application roles: <code class="codeph">EMP_ROLE</code>, <code class="codeph">IT_ROLE</code>, and <code class="codeph">HR_ROLE</code>, and then enabling each application role.
                        </p>
                        <p>This task can be performed in one of two ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using RASADM to create these application roles.</p>
                           </li>
                           <li>
                              <p>Using an external directory server to create the application roles in the directory server.</p>
                           </li>
                        </ul>
                        <p>In either case, for the HR Demo, the following application roles will be created:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">EMP_ROLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">IT_ROLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">HR_ROLE</code></p>
                           </li>
                        </ul>
                        <p>Finally, using SQL*Plus, you must grant each of these application roles the database <code class="codeph">DB_EMP</code> role as indicated in the following code snippet.
                        </p><pre class="oac_no_warn" dir="ltr">-- Grant DB_EMP to the three application roles, so they have the required 
-- object privilege to access the table. 
GRANT DB_EMP TO EMP_ROLE;
GRANT DB_EMP TO IT_ROLE;
GRANT DB_EMP TO HR_ROLE;</pre><p>See <a href="real-application-security-hr-demo-files.html#GUID-E7974492-8418-4DAD-8497-530F3A669064">hrdemo_setup.sql</a>for more information.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>See <a href="real-application-security-hr-demo.html#GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" title="Describes how to create application roles using RASADM.">Using RASADM to Create Application Roles</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="sect5"><a id="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" name="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003"></a><h6 id="DBFSG-GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003" class="sect6">Using RASADM to Create Application Roles</h6>
                        <div>
                           <p>Describes how to create application roles using RASADM.</p>
                           <div class="section">To get started, click the <span class="bold">Roles</span> tab, then click <span class="bold">Create Role</span>.
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>On the <code class="codeph">Application Role</code> page, enter information in the following fields:</span><ol type="a">
                                    <li><span><span class="bold">Role Name:</span> Enter <code class="codeph">EMP_ROLE</code>.</span></li>
                                    <li><span><span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span><span class="bold">Type of Role:</span> Select the default, <code class="codeph">ROLE</code>.</span></li>
                                    <li><span><span class="bold">Enabled by Default:</span> Select <code class="codeph">Yes</code>.</span></li>
                                 </ol>
                              </li>
                              <li><span>In <span class="bold">Roles Grant</span> section, in the <span class="bold">Roles</span> field, click <span class="bold">^</span> and select <span class="bold">DB_EMP</span> role from the list to add it as a direct role grant.</span></li>
                              <li><span>Click <span class="bold">Apply Changes</span> to create the <code class="codeph">EMP_ROLE </code>application role.</span></li>
                              <li><span>Click the role <code class="codeph">EMP_ROLE</code> to see the edit view of this role as shown in the following screen shot.</span></li>
                              <li><span>Repeat these steps to create the <code class="codeph">IT_ROLE</code> and <code class="codeph">HR_ROLE</code> application roles. Again, there are no application roles to be granted to either of these application roles.</span></li>
                           </ol>
                           <div class="section">
                              <div class="figure" id="GUID-08F8EFA9-48C6-4F68-BA15-23D2D1313003__GUID-9B3B7646-B174-443A-980D-E8EAC55E1DED"><img src="img/application_role.png" alt="Description of application_role.png follows" title="Description of application_role.png follows" longdesc="img_text/application_role.html"><br><a href="img_text/application_role.html">Description of the illustration application_role.png</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9" name="GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9"></a><h5 id="DBFSG-GUID-A99CAD2C-D0A8-46F0-8AD0-C4D15A95EBE9" class="sect5">About Creating Application Users</h5>
                     <div>
                        <p>Describes creating application users and granting them roles.</p>
                        <p>This task involves creating each application user and granting each application user its respective application role.</p>
                        <p>This task can be performed in one of two ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using RASADM to create application users: <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code>.
                              </p>
                              <p>Next, perform the following grants:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Grant application roles <code class="codeph">EMP_ROLE</code> and <code class="codeph">IT_ROLE</code> to <code class="codeph">DAUSTIN</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Grant application roles <code class="codeph">EMP_ROLE</code> and <code class="codeph">HR_ROLE</code> to <code class="codeph">SMAVRIS</code>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Using an external directory server to create the application users or application user groups in the directory server.</p>
                           </li>
                        </ul>
                        <p>In either case, for this HR Demo, the following application users will be created:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DAUSTIN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SMAVRIS</code></p>
                           </li>
                        </ul>
                        <p>Next, you will perform the following grants:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Grant the application role <code class="codeph">EMP_ROLE</code> to user <code class="codeph">DAUSTIN</code> and <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Grant the application role <code class="codeph">IT_ROLE</code> to user <code class="codeph">DAUSTIN</code>.
                              </p>
                           </li>
                           <li>
                              <p>Grant the application role <code class="codeph">HR_ROLE</code> to user <code class="codeph">SMAVRIS</code>.
                              </p>
                           </li>
                        </ul>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>See <a href="real-application-security-hr-demo.html#GUID-81090CE9-0F71-4778-8A90-6C0D24509005" title="Describes creating application users using RASADM.">Using RASADM to Create Application Users</a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="sect5"><a id="GUID-81090CE9-0F71-4778-8A90-6C0D24509005" name="GUID-81090CE9-0F71-4778-8A90-6C0D24509005"></a><h6 id="DBFSG-GUID-81090CE9-0F71-4778-8A90-6C0D24509005" class="sect6">Using RASADM to Create Application Users</h6>
                        <div>
                           <p>Describes creating application users using RASADM.</p>
                           <div class="section">To get started, click the <span class="bold">Users</span> tab, then click <span class="bold">Create User</span>.
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>On the <code class="codeph">Manage User</code> page in the <span class="bold">Application User</span> section, enter information in the following fields:</span><ol type="a">
                                    <li><span><span class="bold">Name:</span> Enter <code class="codeph">DAUSTIN.</code></span></li>
                                    <li><span><span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span><span class="bold">Default Schema:</span> Select <code class="codeph">HR</code>.</span></li>
                                    <li><span><span class="bold">Roles Default Enabled:</span> Select <code class="codeph">Yes</code>.</span></li>
                                    <li><span><span class="bold">Status:</span> Chose <code class="codeph">Active</code>.</span></li>
                                 </ol>
                              </li>
                              <li><span>In the <span class="bold">Roles Grants</span> section, select the application roles to be granted to the application user <code class="codeph">daustin</code>. Enter information in the <span class="bold">Role:</span> field by clicking <span class="bold">^</span> and selecting <code class="codeph">EMP_ROLE</code>.</span></li>
                              <li><span>Click <span class="bold">Add</span> to grant this role. Repeat this process to grant the <code class="codeph">IT_ROLE</code> to <code class="codeph">DAUSTIN</code>.</span></li>
                              <li><span>Click <span class="bold">Apply Changes</span> to create the application user <code class="codeph">DAUSTIN</code>.</span></li>
                              <li><span>Click user <code class="codeph">DAUSTIN</code> to see the edit view of this user as shown in the following screen shot.</span></li>
                              <li><span>Repeat these steps to grant the <code class="codeph">EMP_ROLE</code> and <code class="codeph">HR_ROLE</code> to application user <code class="codeph">SMAVRIS</code>.</span></li>
                           </ol>
                           <div class="section">
                              <div class="figure" id="GUID-81090CE9-0F71-4778-8A90-6C0D24509005__GUID-DE5DA579-D02C-432A-96CE-D100A28ADC91"><img src="img/application_user__daustin.png" alt="Description of application_user__daustin.png follows" title="Description of application_user__daustin.png follows" longdesc="img_text/application_user__daustin.html"><br><a href="img_text/application_user__daustin.html">Description of the illustration application_user__daustin.png</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                           <div class="section"></div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863" name="GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863"></a><h5 id="DBFSG-GUID-1A2F1C33-17A8-4A9A-98F7-47D7FB8A1863" class="sect5">About Creating the Data Security Policy</h5>
                     <div>
                        <p>Describes the process flow for creating the data security policy.</p>
                        <p>This task involves creating the HRDEMO data security policy. It includes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Entering the policy information.</p>
                           </li>
                           <li>
                              <p>Creating the <code class="codeph">HRPRIVS</code> privilege class and its <code class="codeph">VIEW_SALARY</code> privilege.
                              </p>
                           </li>
                           <li>
                              <p>Creating the <code class="codeph">SALARY</code> column authorization and selecting the <code class="codeph">HRPRIVS</code> privilege class to be applied to the column.
                              </p>
                           </li>
                           <li>
                              <p>Creating the data realm authorization consisting of the three data realms, one for employee access, one for IT access, and one for HR access along with each associated ACL with its respective defined privilege grant for each principal to control its row access.</p>
                           </li>
                           <li>
                              <p>Applying the <code class="codeph">HRDEMO</code> data security policy by enabling it.
                              </p>
                           </li>
                        </ul>
                        <p>This section includes the following topics:</p>
                     </div>
                     <div class="sect5"><a id="GUID-D5A48389-58F8-486B-A721-0130A77F2800" name="GUID-D5A48389-58F8-486B-A721-0130A77F2800"></a><h6 id="DBFSG-GUID-D5A48389-58F8-486B-A721-0130A77F2800" class="sect6">Entering Policy Information</h6>
                        <div>
                           <p>Describes entering data security policy information using the RASADM application.</p>
                           <div class="section">To create a data security policy, click the <span class="bold">Policies</span> tab, then click <span class="bold">Create</span> to display the <span class="bold">Policy Information</span> page.
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>On the <span class="bold">Policy Information</span> page, enter the policy information in the following fields:</span><ol type="a">
                                    <li><span><span class="bold">Policy Schema:</span> Click <span class="bold">^</span> and select <code class="codeph">HR</code>.</span></li>
                                    <li><span><span class="bold">Policy Name:</span> Enter the name <code class="codeph">Employees_DS</code>.</span></li>
                                    <li><span><span class="bold">Description:</span> Enter a brief description for this policy.</span></li>
                                    <li><span><span class="bold">Privilege Class:</span> Click <span class="bold">NEW</span> to create the <code class="codeph">HRPRIVS</code> privilege class.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>On the <span class="bold">Privilege Class</span> page, enter the following information:</span><ol type="a">
                                    <li><span>For <span class="bold">Privilege Class</span>. Privilege Class Name: Enter <code class="codeph">HRPRIVS</code>.</span></li>
                                    <li><span>For <span class="bold">Privilege Class</span>.   Description: Enter a brief description.</span></li>
                                    <li><span>For <span class="bold">Application Privileges</span>.  Privilege Name: Enter the name <code class="codeph">VIEW_SALARY</code>.</span></li>
                                    <li><span>For <span class="bold">Application Privileges</span>. Description: Enter a brief description.</span></li>
                                    <li><span>For <span class="bold">Application Privileges</span>. Implied Privileges: Click <code class="codeph">Select</code>.</span></li>
                                    <li><span>Click <span class="bold">Add</span> to add the <code class="codeph">VIEW_SALARY</code> privilege to the Application Privileges list. See the following figure.</span></li>
                                    <li><span>Click <span class="bold">Apply Changes</span> to save the <code class="codeph">HRPRIVS</code> privilege class.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>On the same <span class="bold">Privilege Class</span> page, enter the following information:</span><ol type="a">
                                    <li><span><span class="bold">Protected Object's Schema:</span> Click <span class="bold">^</span> and select <code class="codeph">HR</code>.</span></li>
                                    <li><span><span class="bold">Protected Object:</span> Click <span class="bold">^</span> and select <code class="codeph">EMPLOYEES</code>.</span></li>
                                 </ol>
                                 <div>The following screen shot shows the <span class="bold">Policy Information</span> page for the <code class="codeph">Employees_DS</code> data security policy. 
                                    <div class="figure" id="GUID-D5A48389-58F8-486B-A721-0130A77F2800__GUID-2DCC3EBD-9B73-41A4-902E-1795852A793B"><img src="img/hr_hrprivs_privileges.png" alt="Description of hr_hrprivs_privileges.png follows" title="Description of hr_hrprivs_privileges.png follows" longdesc="img_text/hr_hrprivs_privileges.html"><br><a href="img_text/hr_hrprivs_privileges.html">Description of the illustration hr_hrprivs_privileges.png</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">Next</span> to go to the <code class="codeph">Column Authorization</code> page.</span></li>
                           </ol>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB" name="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB"></a><h6 id="DBFSG-GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB" class="sect6">Creating the Column Authorization</h6>
                        <div>
                           <p>Describes creating the column authorization part of the data security policy.</p>
                           <ol>
                              <li class="stepexpand"><span>On the<span class="bold"> Column Authorization</span> page, enter the following information to create a column authorization:</span><ol type="a">
                                    <li><span><span class="bold">Column:</span> Click <span class="bold">^</span> and select <code class="codeph">SALARY</code>.</span></li>
                                    <li><span><span class="bold">Privilege:</span> Click <span class="bold">^</span> and select <code class="codeph">VIEW_SALARY</code>.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">Add</span> to add the column authorization to the <span class="bold">Column Constraint</span> list.</span><div>The following screen shot shows the <span class="bold">Column Authorization</span> page with the created <code class="codeph">SALARY</code> column authorization protected by the <code class="codeph">VIEW_SALARY</code> privilege. 
                                    <div class="figure" id="GUID-CCCB3986-B768-4D5B-9CC2-D90C0F5843DB__GUID-C69EEAEF-AD42-40CB-BC4F-62A7D18AB87F"><img src="img/column_authorization.png" alt="Description of column_authorization.png follows" title="Description of column_authorization.png follows" longdesc="img_text/column_authorization.html"><br><a href="img_text/column_authorization.html">Description of the illustration column_authorization.png</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">Next</span> to go to the <span class="bold">Data Realm Authorization</span> page.</span></li>
                           </ol>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E" name="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E"></a><h6 id="DBFSG-GUID-022C5D0B-3919-4C78-837D-18ECB950A85E" class="sect6">Creating the Data Realm Authorizations</h6>
                        <div>
                           <p>Describes the creating the data realm authorizations part of the data security policy.</p>
                           <div class="section">Three data realm authorizations will be created that:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Allows a user granted the <code class="codeph">IT_ROLE</code> to view records in the IT department excluding the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Allows a user granted the <code class="codeph">EMP_ROLE</code> to view their own record including the <code class="codeph">SALARY</code> column
                                    </p>
                                 </li>
                                 <li>
                                    <p>Allows a user granted the <code class="codeph">HR_ROLE</code> to view and update all records including the <code class="codeph">SALARY</code> column.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>On the <span class="bold">Data Realm Authorization</span> page, enter information in the following fields to create the data realm to allow the IT department member access to their department records, excluding the <code class="codeph">SALARY</code> column:</span><ol type="a">
                                    <li><span><span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span><span class="bold">SQL Predicate:</span> Click <span class="bold">&gt;</span> to expand the <span class="bold">Predicate Builder</span> field. Enter information in the following fields:</span></li>
                                    <li><span><span class="bold">Column Name:</span> Click <span class="bold">^</span> to select the <code class="codeph">DEPARTMENT</code> column name.</span></li>
                                    <li><span><span class="bold">Operator:</span> Click <span class="bold">^</span> to select the <code class="codeph">=</code> operator.</span></li>
                                    <li><span><span class="bold">Value:</span> Enter the value <code class="codeph">60</code>.</span></li>
                                    <li><span><span class="bold">AND/OR:</span> Ignore this option.</span></li>
                                    <li><span>Click <span class="bold">Apply</span> to create the SQL predicate. </span></li>
                                 </ol>
                                 <div>The following screen shows the completed IT Department data realm authorization.. 
                                    <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-24F74958-67FB-4CA8-AD79-9A4E2F7B0910"><img src="img/it_department_dr.png" alt="Description of it_department_dr.png follows" title="Description of it_department_dr.png follows" longdesc="img_text/it_department_dr.html"><br><a href="img_text/it_department_dr.html">Description of the illustration it_department_dr.png</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL Name:</span> Click <span class="bold">+</span> to create the <code class="codeph">IT_ACL</code>. Enter information in the following fields:</span><ol type="a">
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Name:</span> Enter <code class="codeph">IT_ACL</code>.</span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>,  <span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Inheritance:</span> Ignore this field.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, Principal: Click <span class="bold">&lt;-</span> to select a principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Type:</span> Click <span class="bold">User</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Store:</span> Click <span class="bold">Database</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Filter:</span> Enter <code class="codeph">DAUSTIN</code> and click <span class="bold">Search</span>. Then click <span class="bold">Select</span> to select <span class="bold">DAUSTIN</span> as the principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Privilege:</span> Choose the default option, <span class="bold">SELECT</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Grant:</span> Choose the option <span class="bold">Grant</span>.</span></li>
                                    <li><span>Click <span class="bold">Add</span> to add this privilege grant.</span></li>
                                 </ol>
                                 <div> The following screen shot shows the completed <code class="codeph">IT_ACL</code> ACL and its privilege grant of the SELECT privilege granted to the IT_ROLE role.
                                    <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-C003BEED-8F21-4592-B2E0-CAE4961B9FEE"><img src="img/hr_it_acl.png" alt="Description of hr_it_acl.png follows" title="Description of hr_it_acl.png follows" longdesc="img_text/hr_it_acl.html"><br><a href="img_text/hr_it_acl.html">Description of the illustration hr_it_acl.png</a></div>
                                    <!-- class="figure" --> 
                                 </div>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant:</span> Click <span class="bold">Add</span> to grant this data realm.</span></li>
                              <li class="stepexpand"><span>On the <span class="bold">Data Realm Authorization</span> page,  Click <span class="bold">Add </span>to begin to add the next data realm authorization. Enter information in the following fields to create the data realm to allow the employee access to their own record, including the <code class="codeph">SALARY</code> column.</span><ol type="a">
                                    <li><span><span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span><span class="bold">SQL Predicate:</span> Enter<code class="codeph"> UPPER(email) = XS_SYS_CONTEXT('XS$SESSION','USERNAME')</code>.</span></li>
                                    <li><span>Click <span class="bold">Preview</span> to view the results of the query and see if it is what you expected.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL Name:</span> Click <span class="bold">+</span> to create the <code class="codeph">EMP_ACL</code>. Enter information in the following fields:</span><ol type="a">
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Name:</span> Enter <code class="codeph">EMP_ACL</code></span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>,  <span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Inheritance:</span> Ignore this field.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, Principal: Click <span class="bold">&lt;-</span> to select a principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Type:</span> Click <span class="bold">User</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Store:</span> Click <span class="bold">Database</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Filter:</span> Enter <code class="codeph">DAUSTIN</code> and click <span class="bold">Search</span>. Then click <span class="bold">Select</span> to select <span class="bold">DAUSTIN</span> as the principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Privilege:</span> Choose the default option, <span class="bold">SELECT</span></span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Grant:</span> Choose the option <span class="bold">Grant</span>.</span></li>
                                    <li><span>Click <span class="bold">Add</span> to add this privilege grant.</span></li>
                                    <li><span>Repeat these same two grants for user <code class="codeph">SMAVRIS</code>, so user <code class="codeph">SMAVRIS</code> is granted <code class="codeph">SELECT</code> and <code class="codeph">VIEW_SALARY</code> application privileges.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant:</span> Click <span class="bold">Add</span> to grant this data realm.</span></li>
                              <li class="stepexpand"><span>On the <span class="bold">Data Realm Authorization</span> page,  Click <span class="bold">Add </span>to begin to add the next data realm authorization. Enter information in the following fields to create the data realm to allow the HR personnel to access and update all employee records, including the <code class="codeph">SALARY</code> column.</span><ol type="a">
                                    <li><span><span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span><span class="bold">SQL Predicate:</span> Enter<code class="codeph"> UPPER(email) = XS_SYS_CONTEXT('XS$SESSION','USERNAME')</code>.</span></li>
                                    <li><span>Click <span class="bold">Preview</span> to view the results of the query and see if it is what you expected.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">ACL Name:</span> Click <span class="bold">+</span> to create the <code class="codeph">HR_ACL</code>. Enter information in the following fields:</span><ol type="a">
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Name:</span> Enter <code class="codeph">HR_ACL</code></span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>,  <span class="bold">Description:</span> Enter a brief description.</span></li>
                                    <li><span>For <span class="bold">ACL Control Lists (ACL)</span>, <span class="bold">ACL Inheritance:</span> Ignore this field.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, Principal: Click <span class="bold">&lt;-</span> to select a principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Type:</span> Click <span class="bold">User</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Store:</span> Click <span class="bold">Database</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Filter:</span> Enter <code class="codeph">SMAVRIS</code> and click <span class="bold">Search</span>. Then click <span class="bold">Select</span> to select <code class="codeph">SMAVRIS</code> as the principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Privilege:</span> Choose the default option, <span class="bold">SELECT</span></span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Grant:</span> Choose the option <span class="bold">Grant</span>.</span></li>
                                    <li><span>Repeat this <span class="bold">Privileges Grants</span> step to grant <code class="codeph">UPDATE</code> to <code class="codeph">SMAVRIS</code>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, Principal: Click <span class="bold">&lt;-</span> to select a principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Type:</span> Click <span class="bold">User</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Store:</span> Click <span class="bold">Database</span>.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Principal Filter:</span> Enter <code class="codeph">SMAVRIS</code> and click <span class="bold">Search</span>. Then click <span class="bold">Select</span> to select <code class="codeph">SMAVRIS</code> as the principal.</span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Privilege:</span> Choose <span class="bold">UPDATE</span></span></li>
                                    <li><span>For <span class="bold">Privilege Grants</span>, <span class="bold">Grant:</span> Choose the option <span class="bold">Grant</span>.</span></li>
                                    <li><span>Repeat this step two more times to grant <code class="codeph">INSERT</code> and <code class="codeph">DELETE</code> to <code class="codeph">SMAVRIS</code>. </span></li>
                                    <li><span>Click <span class="bold">Add</span> to add this privilege grant.</span></li>
                                 </ol>
                              </li>
                              <li class="stepexpand"><span><span class="bold">Data Realm Grant:</span> Click <span class="bold">Add</span> to add this data realm authorization to the list of data realm authorizations. </span></li>
                           </ol>
                           <div class="section">The following screen shot shows the three completed data realm authorizations and the completed column authorization.
                              <div class="figure" id="GUID-022C5D0B-3919-4C78-837D-18ECB950A85E__GUID-B987DB7F-28C4-411B-8DDC-578441D1E3F3"><img src="img/employee_ds_policy.png" alt="Description of employee_ds_policy.png follows" title="Description of employee_ds_policy.png follows" longdesc="img_text/employee_ds_policy.html"><br><a href="img_text/employee_ds_policy.html">Description of the illustration employee_ds_policy.png</a></div>
                              <!-- class="figure" -->
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C" name="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C"></a><h6 id="DBFSG-GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C" class="sect6">Applying the Policy</h6>
                        <div>
                           <p>Describes applying the data security policy.</p>
                           <div class="section">To apply the <code class="codeph">Employees_DS</code> data security policy, perform the following steps:
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>On the <span class="bold">Apply Policy</span> page, enter information in the <span class="bold">Apply Policy</span> field by selecting <code class="codeph">Enable</code> to enable this data security policy. </span><div>The following screen shot shows the completed <code class="codeph">Employees_DS</code> data security policy on the <span class="bold">Policies</span> page with the policy already set to be enabled. 
                                    <div class="figure" id="GUID-E05A3443-FBFE-42B5-BB3D-65140B035A3C__GUID-7972B77E-7E29-447C-A6D5-70335B715E43"><img src="img/apply_policy.png" alt="Description of apply_policy.png follows" title="Description of apply_policy.png follows" longdesc="img_text/apply_policy.html"><br><a href="img_text/apply_policy.html">Description of the illustration apply_policy.png</a></div>
                                    <!-- class="figure" -->
                                 </div>
                              </li>
                              <li class="stepexpand"><span>Click <span class="bold">Apply Changes</span> to create the <code class="codeph">Employees_DS</code> data security policy. </span></li>
                           </ol>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04835.using-sql_statements-in-oci.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.">
      <meta name="description" content="This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.">
      <title>Using SQL Statements in OCI</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="data-types.html" title="Previous" type="text/html">
      <link rel="next" href="binding-and-defining-in-oci.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="binding-and-defining-in-oci.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using SQL Statements in OCI</li>
            </ol>
            <a id="GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" name="GUID-3F20EDC9-D436-4A54-9698-4FA95988A819"></a><a id="LNOCI040"></a>
            
            <h2 id="LNOCI-GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" class="sect2"><span class="enumeration_chapter">6 </span> Using SQL Statements in OCI
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.</p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07" title="One of the most common tasks of an OCI program is to accept and process SQL statements.">Overview of SQL Statement Processing</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" title="SQL and PL/SQL statements are prepared for execution by using the statement prepare call and any necessary bind calls.">About Preparing Statements</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70" title="Most DML statements, and some queries (such as those with a WHERE clause), require a program to pass data to Oracle Database as part of a SQL or PL/SQL statement.">About Binding Placeholders in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-C71878A2-B089-4666-9898-AA56A54AD03D" title="An OCI application executes prepared statements individually using OCIStmtExecute().">About Executing Statements</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E" title="If your OCI application is processing a query, you may need to obtain more information about the items in the select list.">About Describing Select-List Items</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296" title="Query statements return data from the database to your application.">About Defining Output Variables in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" title="If an OCI application has processed a query, it is typically necessary to fetch the results with OCIStmtFetch2() after the statement has completed execution.">About Fetching Results</a></p>
                  </li>
                  <li>
                     <p><a href="using-sql_statements-in-oci.html#GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2" title="A cursor is a current position in a result set.">About Using Scrollable Cursors in OCI</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16338"></a><a id="LNOCI16337"></a><div class="props_rev_3"><a id="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07" name="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07"></a><h3 id="LNOCI-GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07" class="sect3"><span class="enumeration_section">6.1 </span>Overview of SQL Statement Processing
               </h3>
               <div>
                  <p>One of the most common tasks of an OCI program is to accept and process SQL statements.</p>
                  <p>Chapter 3 “OCI Programming Basics” discussed the basic steps involved in any OCI application. This chapter presents a more detailed look at the specific tasks involved in processing SQL statements in an OCI program.</p>
                  <p>This section outlines the specific steps involved in accepting and processing SQL statements.</p>
                  <p>Once you have allocated the necessary handles and connected to an Oracle database, follow the steps illustrated in <a href="using-sql_statements-in-oci.html#GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07__I448548">Figure 6-1</a>.
                  </p>
                  <div class="figure" id="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07__I448548">
                     <p class="titleinfigure">Figure 6-1 Steps in Processing SQL Statements</p><img src="img/lnoci020.png" alt="Description of Figure 6-1 follows" title="Description of Figure 6-1 follows" longdesc="img_text/lnoci020.html"><br><a href="img_text/lnoci020.html">Description of "Figure 6-1 Steps in Processing SQL Statements"</a></div>
                  <!-- class="figure" -->
                  <ol>
                     <li>
                        <p>Prepare the statement. Define an application request using <code class="codeph">OCIStmtPrepare2()</code>. <code class="codeph">OCIStmtPrepare2()</code> is an enhanced version of <code class="codeph">OCIStmtPrepare()</code> that was introduced to support statement caching. Beginning with Oracle Database 12<code class="codeph">c</code> Release 2 (12.2), <code class="codeph">OCIStmtPrepare()</code> is deprecated.
                        </p>
                     </li>
                     <li>
                        <p>Bind placeholders, if necessary. For DML statements and queries with input variables, perform one or more of the following bind calls to bind the address of each input variable (or PL/SQL output variable) or array to each placeholder in the statement.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCIBindByPos2()</code> or <code class="codeph">OCIBindByPos()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIBindByName2()</code> or <code class="codeph">OCIBindByName()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIBindObject()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIBindDynamic()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIBindArrayOfStruct()</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Execute the statement by calling <code class="codeph">OCIStmtExecute()</code>. For DDL statements, no further steps are necessary.
                        </p>
                     </li>
                     <li>
                        <p>Describe the select-list items, if necessary, using<code class="codeph">OCIParamGet()</code> and <code class="codeph">OCIAttrGet()</code>. This is optional step is not required if the number of select-list items and the attributes of each item (such as its length and data type) are known at compile time.
                        </p>
                     </li>
                     <li>
                        <p>Define output variables, if necessary. For queries, perform one or more define calls to <code class="codeph">OCIDefineByPos2()</code> or <code class="codeph">OCIDefineByPos()</code>, , <code class="codeph">OCIDefineObject()</code>, <code class="codeph">OCIDefineDynamic()</code>, or <code class="codeph">OCIDefineArrayOfStruct()</code> to define an output variable for each select-list item in the SQL statement. Note that you do not use a define call to define the output variables in an anonymous PL/SQL block. You did this when you bound the data.
                        </p>
                     </li>
                     <li>
                        <p>Fetch the results of the query, if necessary, by calling <code class="codeph">OCIStmtFetch2()</code>.
                        </p>
                     </li>
                  </ol>
                  <p>After these steps have been completed, the application can free allocated handles and then detach from the server, or it may process additional statements.</p>
                  <div class="infoboxnote" id="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07__GUID-8C43E4A5-00DA-417F-AEAC-A0925D1B1E4E">
                     <p class="notep1">Note:</p>
                     <p>OCI programs no longer require an explicit parse step. If a statement must be parsed, that step occurs upon execution, meaning that release 8.0 or later applications must issue an execute command for both DML and DDL statements.</p>
                  </div>
                  <p>The following sections describe each step in detail.</p>
                  <div class="infoboxnote" id="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07__GUID-B29CCA9E-01EC-4666-B12F-3B98118CE6FE">
                     <p class="notep1">Note:</p>
                     <p>Some variation in the order of steps is possible. For example, it is possible to do the define step before the execute step if the data types and lengths of returned values are known at compile time.</p>
                  </div>
                  <p>Additional steps beyond those listed earlier may be required if your application must do any of the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Initiate and manage multiple transactions</p>
                     </li>
                     <li>
                        <p>Manage multiple threads of execution</p>
                     </li>
                     <li>
                        <p>Perform piecewise inserts, updates, or fetches</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8D6FD01B-5B8A-49A2-BFD8-71B404529F07__GUID-F46AE940-96E8-4121-8B87-26A230E94D09">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-topics.html#GUID-4947CAE8-1F00-4897-BB2B-7F921E495175" title="Statement caching refers to the feature that provides and manages a cache of statements for each session.">Statement Caching in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" title="This chapter introduces concepts and procedures involved in programming with OCI.">OCI Programming Basics</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a> or <a href="deprecated-oci-functions.html#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" title="This function was deprecated beginning with Oracle Database 12c Release 2 (12.2).">OCIStmtPrepare()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-5C505821-323D-473D-825B-448C8D9A6702" title="Creates an association between a program variable and a placeholder in a SQL statement or PL/SQL block. Use this call when working with data types when actual lengths exceed UB2MAXVAL on the client.">OCIBindByPos2()</a> or <a href="bind-define-describe-functions.html#GUID-D28DF5A7-3C75-4E52-82F7-A5D6D5714E69" title="Creates an association between a program variable and a placeholder in a SQL statement or PL/SQL block.">OCIBindByPos()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-55C47708-5468-4106-89BE-1AB60861D037" title="Creates an association between a program variable and a placeholder in a SQL statement or PL/SQL block. Use this function when working with data types when actual lengths exceed UB2MAXVAL on the client.">OCIBindByName2()</a> or <a href="bind-define-describe-functions.html#GUID-CD63DF78-2178-4727-A896-B9673C4A37F0" title="Creates an association between a program variable and a placeholder in a SQL statement or PL/SQL block.">OCIBindByName()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-384B5D31-165B-4661-A334-8C2B5E475AEF" title="Sets up additional attributes that are required for a named data type (object) bind.">OCIBindObject()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-030270CB-346A-412E-B3B3-556DD6947BE2" title="Registers user callbacks for dynamic data allocation.">OCIBindDynamic()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-E83BF668-88FC-4F31-A950-3580B79588E0" title="Sets up the skip parameters for a static array bind.">OCIBindArrayOfStruct()</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-35D2FF91-139B-4A5C-97C8-8BC29866CCA4" title="Returns a descriptor of a parameter specified by position in the describe handle or statement handle.">OCIParamGet()</a></p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-74939FB5-919E-4D24-B327-AFB532435061" title="Associates an item in a select list with the type and output data buffer. Use this call when working with data types when actual lengths exceed UB2MAXVAL on the client.">OCIDefineByPos2()</a> or <a href="bind-define-describe-functions.html#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="Associates an item in a select list with the type and output data buffer.">OCIDefineByPos()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-F211198D-C88C-493B-A65E-2C2A95E6197B" title="Sets up additional attributes necessary for a named data type or REF define.">OCIDefineObject()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-DD404526-9615-4E44-B790-1D17396C82A9" title="Sets the additional attributes required if the OCI_DYNAMIC_FETCH mode was selected in OCIDefineByPos() or OCIDefineByPos2().">OCIDefineDynamic()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-D3F74828-5DA7-48AD-A170-120AD547DEB3" title="Specifies additional attributes necessary for a static array define, used in an array of structures (multirow, multicolumn) fetch.">OCIDefineArrayOfStruct()</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI16340"></a><a id="LNOCI16339"></a><div class="props_rev_3"><a id="GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" name="GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8"></a><h3 id="LNOCI-GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" class="sect3"><span class="enumeration_section">6.2 </span>About Preparing Statements
               </h3>
               <div>
                  <p>SQL and PL/SQL statements are prepared for execution by using the statement prepare call and any necessary bind calls.</p>
                  <p>In this phase, the application specifies a SQL or PL/SQL statement and binds associated placeholders in the statement to data for execution. The client-side library allocates storage to maintain the statement prepared for execution. </p>
                  <p>An application requests a SQL or PL/SQL statement to be prepared for execution using the <code class="codeph">OCIStmtPrepare2()</code> call and passes to this call a previously allocated statement handle. This is a completely local call, requiring no round-trip to the server. No association is made between the statement and a particular server at this point.
                  </p>
                  <p>Following the request call, an application can call <code class="codeph">OCIAttrGet()</code> on the statement handle, passing <code class="codeph">OCI_ATTR_STMT_TYPE</code> to the <code class="codeph">attrtype</code> parameter, to determine what type of SQL statement was prepared. The possible attribute values and corresponding statement types are listed in <a href="using-sql_statements-in-oci.html#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8__CIHEHCEJ" title="This table has 2 columns. Column 1 is the attribute value and column 2 describes its corresponding SQL statement type.">Table 6-1</a>.
                  </p>
                  <div class="tblformal" id="GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8__CIHEHCEJ">
                     <p class="titleintable">Table 6-1 OCI_ATTR_STMT_TYPE Values and Statement Types</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OCI_ATTR_STMT_TYPE Values and Statement Types" summary="This table has 2 columns. Column 1 is the attribute value and column 2 describes its corresponding SQL statement type." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d70425e967">Attribute Value</th>
                              <th align="left" valign="bottom" width="55%" id="d70425e970">Statement Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e975" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_SELECT</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e975 d70425e970 ">
                                 <p><code class="codeph">SELECT</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e985" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_UPDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e985 d70425e970 ">
                                 <p><code class="codeph">UPDATE</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e995" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_DELETE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e995 d70425e970 ">
                                 <p><code class="codeph">DELETE</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1005" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_INSERT</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1005 d70425e970 ">
                                 <p><code class="codeph">INSERT</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1015" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_CREATE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1015 d70425e970 ">
                                 <p><code class="codeph">CREATE</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1025" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_DROP</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1025 d70425e970 ">
                                 <p><code class="codeph">DROP</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1035" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_ALTER</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1035 d70425e970 ">
                                 <p><code class="codeph">ALTER</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1045" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_BEGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1045 d70425e970 ">
                                 <p><code class="codeph">BEGIN</code>... (PL/SQL)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1055" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_DECLARE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1055 d70425e970 ">
                                 <p><code class="codeph">DECLARE</code>... (PL/SQL)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1065" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_CALL</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1065 d70425e970 ">
                                 <p><code class="codeph">CALL</code>... (PL/SQL)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d70425e1075" headers="d70425e967 ">
                                 <p><code class="codeph">OCI_STMT_MERGE</code></p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d70425e1075 d70425e970 ">
                                 <p><code class="codeph">MERGE</code>... (PL/SQL)
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>This section includes the following topic: <a href="using-sql_statements-in-oci.html#GUID-1FC53A56-7859-4099-8DB8-7674FB2470D5" title="A prepared application request can be executed on multiple servers at run time by reassociating the statement handle with the respective service context handles for the servers.">About Using Prepared Statements on Multiple Servers</a></p>
                  <div class="infoboxnotealso" id="GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8__GUID-B0A1D3C7-C225-412D-9AEC-2987E671F870">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                        </li>
                        <li>
                           <p><a href="oci-programming-basics.html#GUID-46090C93-4BC4-4E88-AA09-3E9B716917A3" title="PL/SQL is Oracle's procedural extension to the SQL language.">About Using PL/SQL in an OCI Program</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16341"></a><div class="props_rev_3"><a id="GUID-1FC53A56-7859-4099-8DB8-7674FB2470D5" name="GUID-1FC53A56-7859-4099-8DB8-7674FB2470D5"></a><h4 id="LNOCI-GUID-1FC53A56-7859-4099-8DB8-7674FB2470D5" class="sect4"><span class="enumeration_section">6.2.1 </span>About Using Prepared Statements on Multiple Servers
                  </h4>
                  <div>
                     <p>A prepared application request can be executed on multiple servers at run time by reassociating the statement handle with the respective service context handles for the servers. </p>
                     <p>All information about the current service context and statement handle association is lost when a new association is made.</p>
                     <p>For example, consider an application such as a network manager, which manages multiple servers. In many cases, it is likely that the same <code class="codeph">SELECT</code> statement must be executed against multiple servers to retrieve information for display. OCI allows the network manager application to prepare a <code class="codeph">SELECT</code> statement once and execute it against multiple servers. It must fetch all of the required rows from each server before reassociating the prepared statement with the next server. 
                     </p>
                     <div class="infoboxnote" id="GUID-1FC53A56-7859-4099-8DB8-7674FB2470D5__GUID-D891C149-5A14-49C1-8554-F2402CF925D4">
                        <p class="notep1">Note:</p>
                        <p>If a prepared statement must be reexecuted frequently on the same server, it is more efficient to prepare a new statement for another service context.</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI72596"></a><a id="LNOCI16342"></a><div class="props_rev_3"><a id="GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70" name="GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70"></a><h3 id="LNOCI-GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70" class="sect3"><span class="enumeration_section">6.3 </span>About Binding Placeholders in OCI
               </h3>
               <div>
                  <p>Most DML statements, and some queries (such as those with a <code class="codeph">WHERE</code> clause), require a program to pass data to Oracle Database as part of a SQL or PL/SQL statement.
                  </p>
                  <p>This data can be constant or literal, known when your program is compiled. For example, the following SQL statement, which adds an employee to a database, contains several literals, such as 'BESTRY' and 2365:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp VALUES
    (2365, 'BESTRY', 'PROGRAMMER', 2000, 20)
</pre><p>Coding a statement like this into an application would severely limit its usefulness. You must change the statement and recompile the program each time you add a new employee to the database. To make the program more flexible, you can write the program so that a user can supply input data at run time.</p>
                  <p>When you prepare a SQL statement or PL/SQL block that contains input data to be supplied at run time, placeholders in the SQL statement or PL/SQL block mark where data must be supplied. For example, the following SQL statement contains five placeholders, indicated by the leading colons (<code class="codeph">:ename</code>), that show where input data must be supplied by the program.
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp VALUES
    (:empno, :ename, :job, :sal, :deptno)
</pre><p>You can use placeholders for input variables in any <code class="codeph">DELETE</code>, <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, or <code class="codeph">UPDATE</code> statement, or in a PL/SQL block, in any position in the statement where you can use an expression or a literal value. In PL/SQL, placeholders can also be used for output variables.
                  </p>
                  <p>Placeholders cannot be used to represent other Oracle objects such as tables. For example, the following is <span class="italic">not</span> a valid use of the <code class="codeph">emp</code> placeholder:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO :emp VALUES
    (12345, 'OERTEL', 'WRITER', 50000, 30)
</pre><p>For each placeholder in a SQL statement or PL/SQL block, you must call an OCI routine that binds the address of a variable in your program to that placeholder. When the statement executes, the database gets the data that your program placed in the input variables or bind variables and passes it to the server with the SQL statement.</p>
                  <p>Binding is used for both input and output variables in nonquery operations. In <a href="using-sql_statements-in-oci.html#GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70__CIHHHEFJ">Example 6-1</a>, the variables <code class="codeph">empno_out</code>, <code class="codeph">ename_out</code>, <code class="codeph">job_out</code>, <code class="codeph">sal_out</code>, and <code class="codeph">deptno_out</code> should be bound. These are outbinds (as opposed to regular inbinds).
                  </p>
                  <div class="example" id="GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70__CIHHHEFJ">
                     <p class="titleinexample">Example 6-1 Binding Both Input and Output Variables in Nonquery Operations</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp VALUES
         (:empno, :ename, :job, :sal, :deptno)
      RETURNING
         (empno, ename, job, sal, deptno)
      INTO
         (:empno_out, :ename_out, :job_out, :sal_out, :deptno_out)
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>This section includes the following topic: <a href="using-sql_statements-in-oci.html#GUID-A0A6D04B-C60D-4499-9951-873A6DD7D0D2" title="Lists and describes the rules for forming placeholders.">Rules for Placeholders</a></p>
                     <div class="infoboxnotealso" id="GUID-CB348BD8-9A45-4921-B397-ADFE96B75C70__GUID-4E05D7F7-1F88-4456-AFF9-1261EA92761B">
                        <p class="notep1">See Also:</p>
                        <p><a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="This chapter describes binding and defining in OCI.">Binding and Defining in OCI</a> for detailed information about implementing bind operations
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNOCI16343"></a><div class="props_rev_3"><a id="GUID-A0A6D04B-C60D-4499-9951-873A6DD7D0D2" name="GUID-A0A6D04B-C60D-4499-9951-873A6DD7D0D2"></a><h4 id="LNOCI-GUID-A0A6D04B-C60D-4499-9951-873A6DD7D0D2" class="sect4"><span class="enumeration_section">6.3.1 </span>Rules for Placeholders
                  </h4>
                  <div>
                     <p>Lists and describes the rules for forming placeholders.</p>
                     <p>The rules for forming placeholders are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The first character is a colon (":").</p>
                        </li>
                        <li>
                           <p>The colon is followed by a combination of underscore ("_"), A to Z, a to z, or 0 to 9. However, the first character following the colon cannot be an underscore.</p>
                        </li>
                        <li>
                           <p>The letters must be only from the English alphabet, and only the first 30 characters after the colon are significant. The name is case-insensitive.</p>
                        </li>
                        <li>
                           <p>The placeholder can consist of only digits after the colon. If it is only digits, the placeholder must be less than 65536. If the name starts with a digit, then only digits are allowed.</p>
                        </li>
                        <li>
                           <p>The hyphen ("-") is not allowed.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI16344"></a><div class="props_rev_3"><a id="GUID-C71878A2-B089-4666-9898-AA56A54AD03D" name="GUID-C71878A2-B089-4666-9898-AA56A54AD03D"></a><h3 id="LNOCI-GUID-C71878A2-B089-4666-9898-AA56A54AD03D" class="sect3"><span class="enumeration_section">6.4 </span>About Executing Statements
               </h3>
               <div>
                  <p>An OCI application executes prepared statements individually using <code class="codeph">OCIStmtExecute()</code>.
                  </p>
                  <p>When an OCI application executes a query, it receives from the Oracle database data that matches the query specifications. Within the database, the data is stored in Oracle-defined formats. When the results are returned, the OCI application can request that data be converted to a particular host language format, and stored in a particular output variable or buffer.</p>
                  <p>For each item in the select list of a query, the OCI application must define an output variable to receive the results of the query. The define step indicates the address of the buffer and the type of the data to be retrieved.</p>
                  <div class="infoboxnote" id="GUID-C71878A2-B089-4666-9898-AA56A54AD03D__GUID-E82F5F0B-DD20-49FE-8E4D-8E4AACE9D0E1">
                     <p class="notep1">Note:</p>
                     <p>If output variables are defined for a <code class="codeph">SELECT</code> statement before a call to <code class="codeph">OCIStmtExecute()</code>, the number of rows specified by the <code class="codeph">iters</code> parameter are fetched directly into the defined output buffers and additional rows equivalent to the prefetch count are prefetched. If there are no additional rows, then the fetch is complete without calling <code class="codeph">OCIStmtFetch2()</code>.
                     </p>
                  </div>
                  <p><span class="bold"></span>For nonqueries, the number of times the statement is executed during array operations equals <code class="codeph">iters - rowoff</code>, where <code class="codeph">rowoff</code> is the offset in the bound array, and is also a parameter of the <code class="codeph">OCIStmtExecute()</code> call. 
                  </p>
                  <p>For example, if an array of 10 items is bound to a placeholder for an <code class="codeph">INSERT</code> statement, and <code class="codeph">iters</code> is set to 10, all 10 items are inserted in a single execute call when <code class="codeph">rowoff</code> is zero. If <code class="codeph">rowoff</code> is set to 2, only 8 items are inserted.
                  </p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF" title="The OCIStmtExecute() call provides the ability to ensure that multiple service contexts operate on the same consistent snapshot of the database's committed data.">Execution Snapshots</a></p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-AE8B3835-50CD-49DB-925A-740F31E7FD3B" title="You can specify a number of modes for the OCIStmtExecute() call.">Execution Modes of OCIStmtExecute()</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-C71878A2-B089-4666-9898-AA56A54AD03D__GUID-DD1BFE0C-6D36-4D60-8C8A-38A9591A5568">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296" title="Query statements return data from the database to your application.">About Defining Output Variables in OCI</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16345"></a><div class="props_rev_3"><a id="GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF" name="GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF"></a><h4 id="LNOCI-GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF" class="sect4"><span class="enumeration_section">6.4.1 </span>Execution Snapshots
                  </h4>
                  <div>
                     <p>The <code class="codeph">OCIStmtExecute()</code> call provides the ability to ensure that multiple service contexts operate on the same consistent snapshot of the database's committed data.
                     </p>
                     <p> This is achieved by taking the contents of the <code class="codeph">snap_out</code> parameter of one <code class="codeph">OCIStmtExecute()</code> call and passing that value as the <code class="codeph">snap_in</code> parameter of the next <code class="codeph">OCIStmtExecute()</code> call.
                     </p>
                     <div class="infoboxnote" id="GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF__GUID-5D019542-B9C5-4317-B3E3-22C4866E490D">
                        <p class="notep1">Note:</p>
                        <p>Uncommitted data in one service context is <span class="italic">not</span> visible to another context, even when both calls are using the same snapshot.
                        </p>
                     </div>
                     <p>The data type of both the <code class="codeph">snap_out</code> and <code class="codeph">snap_in</code> parameter is <code class="codeph">OCISnapshot</code>. OCISnapshot is an OCI snapshot descriptor that is allocated with the <code class="codeph">OCIDescriptorAlloc()</code> function.
                     </p>
                     <p>It is not necessary to specify a <span class="italic">snapshot</span> when calling <code class="codeph">OCIStmtExecute()</code>. The following sample code shows a basic execution in which the <code class="codeph">snapsho</code>t parameters are passed as <code class="codeph">NULL</code>.
                     </p><pre class="oac_no_warn" dir="ltr">checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4) 0,
          (OCISnapshot *)NULL, (OCISnapshot *) NULL, OCI_DEFAULT));
</pre><div class="infoboxnote" id="GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF__GUID-ED0C13AA-D35C-4C64-B371-ED41963F76B8">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">checkerr()</code> function, which is user-developed, evaluates the return code from an OCI application.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-A4D09C66-C273-46C3-9EC8-0BCFBE4E61CF__GUID-B93B608C-7050-492B-9882-B314A1F8445C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="Allocates storage to hold descriptors or LOB locators.">OCIDescriptorAlloc()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-programming-basics.html#GUID-82F35CC7-A79D-42CE-BF90-DE63FCBAAB7C" title="OCI descriptors and locators are opaque data structures that maintain data-specific information.">OCI Descriptors</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16346"></a><div class="props_rev_3"><a id="GUID-AE8B3835-50CD-49DB-925A-740F31E7FD3B" name="GUID-AE8B3835-50CD-49DB-925A-740F31E7FD3B"></a><h4 id="LNOCI-GUID-AE8B3835-50CD-49DB-925A-740F31E7FD3B" class="sect4"><span class="enumeration_section">6.4.2 </span>Execution Modes of OCIStmtExecute()
                  </h4>
                  <div>
                     <p>You can specify a number of modes for the <code class="codeph">OCIStmtExecute()</code> call.
                     </p>
                     <p>This section describes the OCIStmtExecute() call. See <code class="codeph">OCIStmtExecute()</code> for other values of the parameter <code class="codeph">mode</code>.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-sql_statements-in-oci.html#GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D" title="OCI provides the ability to perform array DML operations.">Using Batch Error Mode</a></p>
                           </li>
                           <li>
                              <p><a href="using-sql_statements-in-oci.html#GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D" title="Shows how the batch error execution mode might be used.">Example of Batch Error Mode</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AE8B3835-50CD-49DB-925A-740F31E7FD3B__GUID-0BB59F1B-28D3-406F-8C78-F32F8F735B52">
                        <p class="notep1">See Also:</p>
                        <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                     </div>
                  </div><a id="LNOCI16347"></a><div class="props_rev_3"><a id="GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D" name="GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D"></a><h5 id="LNOCI-GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D" class="sect5"><span class="enumeration_section">6.4.2.1 </span>Using Batch Error Mode
                     </h5>
                     <div>
                        <p>OCI provides the ability to perform array DML operations.</p>
                        <div class="section">
                           <p>For example, an application can process an array of <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statements with a single statement execution. If one of the operations fails due to an error from the server, such as a unique constraint violation, the array operation terminates, and OCI returns an error. Any rows remaining in the array are ignored. The application must then reexecute the remainder of the array, and go through the whole process again if it encounters more errors, which causes additional round-trips.
                           </p>
                           <p>To facilitate processing of array DML operations, OCI provides the <span class="italic">batch error mode </span>(also called the<span class="italic"> enhanced DML array </span>feature). This mode, which is specified in the <code class="codeph">OCIStmtExecute()</code> call, simplifies DML array processing if there are one or more errors. In this mode, OCI attempts to insert, update, or delete all rows, and collects information about any errors that occurred. The application can then retrieve error information and reexecute any DML operations that failed during the first call. In this way, all DML operations in the array are attempted in the first call, and any failed operations can be reissued in a second call.
                           </p>
                           <div class="infoboxnote" id="GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D__GUID-9D30323B-B0AC-4A05-906E-7D038B3A6561">
                              <p class="notep1">Note:</p>
                              <p>This feature is only available to applications linked with release 8.1 or later OCI libraries running against a release 8.1 or later server. Applications must also be recoded to account for the new program logic described in this section.</p>
                           </div>
                           <p>This mode is used as follows:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>The user specifies <code class="codeph">OCI_BATCH_ERRORS</code> as the <span class="italic">mode</span> parameter of the <code class="codeph">OCIStmtExecute()</code> call.</span></li>
                           <li class="stepexpand"><span>After performing an array DML operation with <code class="codeph">OCIStmtExecute()</code>, the application can retrieve the number of errors encountered during the operation by calling <code class="codeph">OCIAttrGet()</code> on the statement handle to retrieve the <code class="codeph">OCI_ATTR_NUM_DML_ERRORS</code> attribute, as shown in the following code example.</span><div>
                                 <p>Calling OCIAttrGet() to Retrieve the Number of Errors Encountered During an Array DML Operation</p><pre class="oac_no_warn" dir="ltr">ub4   num_errs;
OCIAttrGet(stmtp, OCI_HTYPE_STMT, &amp;num_errs, 0, OCI_ATTR_NUM_DML_ERRORS,
           errhp);
</pre></div>
                           </li>
                           <li class="stepexpand"><span>The application extracts each error using <code class="codeph">OCIParamGet()</code>, along with its row information, from the error handle that was passed to the <code class="codeph">OCIStmtExecute()</code> call. To retrieve the information, the application must allocate an additional new error handle for the <code class="codeph">OCIParamGet()</code> call, populating the new error handle with batched error information. The application obtains the syntax of each error with <code class="codeph">OCIErrorGet()</code>, and the row offset into the DML array at which the error occurred, by calling <code class="codeph">OCIAttrGet()</code> on the new error handle.</span><div>
                                 <p>For example, after the <code class="codeph">num_errs</code> amount has been retrieved, the application can issue the following calls shown in the following code example.
                                 </p>
                                 <p>Retrieving Information About Each Error Following an Array DML Operation</p><pre class="oac_no_warn" dir="ltr">OCIError errhndl, errhp2;
for (i=0; i&lt;num_errs; i++)
{
   OCIParamGet(errhp, OCI_HTYPE_ERROR, errhp2, (void **)&amp;errhndl, i);
   OCIAttrGet(errhndl, OCI_HTYPE_ERROR, &amp;row_offset, 0,
       OCI_ATTR_DML_ROW_OFFSET, errhp2);
   OCIErrorGet(..., errhndl, ...);
</pre><p>Following this operation, the application can correct the bind information for the appropriate entry in the array using the diagnostic information retrieved from the batched error. Once the appropriate bind buffers are corrected or updated, the application can reexecute the associated DML statements.</p>
                                 <p>Because it cannot be determined at compile time which rows in the first execution may cause errors, the binds for the subsequent DML should be done dynamically by passing in the appropriate buffers at run time. The bind buffers used in the array binds done on the first DML operation can be reused.</p>
                                 <div class="infoboxnotealso" id="GUID-665D540E-9BD1-4505-9FB8-1EBD7C0DFB7D__GUID-05BC5278-5CD5-4A9D-AC40-741044179C67">
                                    <p class="notep1">See Also:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                                       </li>
                                       <li>
                                          <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                                       </li>
                                       <li>
                                          <p><a href="handle-and-descriptor-functions.html#GUID-35D2FF91-139B-4A5C-97C8-8BC29866CCA4" title="Returns a descriptor of a parameter specified by position in the describe handle or statement handle.">OCIParamGet()</a></p>
                                       </li>
                                       <li>
                                          <p><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></p>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="LNOCI72599"></a><a id="LNOCI16348"></a><div class="props_rev_2"><a id="GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D" name="GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D"></a><h5 id="LNOCI-GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D" class="sect5"><span class="enumeration_section">6.4.2.2 </span>Example of Batch Error Mode
                     </h5>
                     <div>
                        <p>Shows how the batch error execution mode might be used.</p>
                        <div class="section">
                           <p><a href="using-sql_statements-in-oci.html#GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D__CIHGDAIE">Example 6-2</a> shows an example of how the batch error execution mode might be used. In this example, assume that you have an application that inserts five rows (with two columns, of types <code class="codeph">NUMBER</code> and <code class="codeph">CHAR</code>) into a table. Furthermore, assume that only two rows (1 and 3) are successfully inserted in the initial DML operation. The user then proceeds to correct the data (wrong data was being inserted the first time) and to issue an update with the corrected data. The user uses statement handles <code class="codeph">stmtp1</code> and <code class="codeph">stmtp2</code> to issue the <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> statements, respectively.
                           </p>
                           <p>In <a href="using-sql_statements-in-oci.html#GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D__CIHGDAIE">Example 6-2</a>, <code class="codeph">OCIBindDynamic()</code> is used with a callback because the user does not know at compile time what rows may return with errors. With a callback, you can simply pass the erroneous row numbers, stored in <code class="codeph">row_off</code>, through the callback context and send only those rows that must be updated or corrected. The same bind buffers can be shared between the <code class="codeph">INSERT</code> and the <code class="codeph">UPDATE</code> statement executions.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D__CIHGDAIE">
                           <p class="titleinexample">Example 6-2 Using Batch Error Execution Mode</p><pre class="oac_no_warn" dir="ltr">OCIBind *bindp1[2], *bindp2[2];
ub4 num_errs, row_off[MAXROWS], number[MAXROWS] = {1,2,3,4,5};
char grade[MAXROWS] = {'A','B','C','D','E'};
OCIError *errhp2;
OCIError *errhndl[MAXROWS];
...
/* Array bind all the positions */
OCIBindByPos (stmtp1,&amp;bindp1[0],errhp,1,(void *)&amp;number[0],
     sizeof(number[0]),SQLT_INT,(void *)0, (ub2 *)0,(ub2 *)0,
            0,(ub4 *)0,OCI_DEFAULT);
OCIBindByPos (stmtp1,&amp;bindp1[1],errhp,2,(void *)&amp;grade[0],
     sizeof(grade[0]),SQLT_CHR,(void *)0, (ub2 *)0,(ub2 *)0,0,
            (ub4 *)0,OCI_DEFAULT);
/* execute the array INSERT */
OCIStmtExecute (svchp,stmtp1,errhp,5,0,0,0,OCI_BATCH_ERRORS);
/* get the number of errors. A different error handler errhp2 is used so that
 * the state of errhp is not changed */
OCIAttrGet (stmtp1, OCI_HTYPE_STMT, &amp;num_errs, 0,
            OCI_ATTR_NUM_DML_ERRORS, errhp2);
if (num_errs) {
   /* The user can do one of two things: 1) Allocate as many  */
   /* error handles as number of errors and free all handles  */
   /* at a later time; or 2) Allocate one err handle and reuse */
   /* the same handle for all the errors */
   for (i = 0; i &lt; num_errs; i++) {
      OCIHandleAlloc( (void *)envhp, (void **)&amp;errhndl[i],
      (ub4) OCI_HTYPE_ERROR, 0, (void *) 0);
      OCIParamGet(errhp, OCI_HTYPE_ERROR, errhp2, &amp;errhndl[i], i);
      OCIAttrGet (errhndl[i], OCI_HTYPE_ERROR, &amp;row_off[i], 0,
                  OCI_ATTR_DML_ROW_OFFSET, errhp2);
      /* get server diagnostics */
      OCIErrorGet (..., errhndl[i], ...);
      }
   }
/* make corrections to bind data */
OCIBindByPos (stmtp2,&amp;bindp2[0],errhp,1,(void *)0,sizeof(grade[0]),SQLT_INT,
     (void *)0, (ub2 *)0,(ub2 *)0,0,(ub4 *)0,OCI_DATA_AT_EXEC);
OCIBindByPos (stmtp2,&amp;bindp2[1],errhp,2,(void *)0,sizeof(number[0]),SQLT_DAT,
     (void *)0, (ub2 *)0,(ub2 *)0,0,(ub4 *)0,OCI_DATA_AT_EXEC);
/* register the callback for each bind handle, row_off and position
 * information can be passed to the callback function by means of context
 * pointers.
 */
OCIBindDynamic (bindp2[0],errhp,ctxp1,my_callback,0,0);
OCIBindDynamic (bindp2[1],errhp,ctxp2,my_callback,0,0);
/* execute the UPDATE statement */
OCIStmtExecute (svchp,stmtp2,errhp,num_errs,0,0,0,OCI_BATCH_ERRORS);
...
</pre><div class="infoboxnotealso" id="GUID-4DC077FC-7F6C-4EB0-830C-530642A46B9D__GUID-81862A58-233D-4AA2-9416-7BA91BEF2EDF">
                              <p class="notep1">See Also:</p>
                              <p><a href="bind-define-describe-functions.html#GUID-030270CB-346A-412E-B3B3-556DD6947BE2" title="Registers user callbacks for dynamic data allocation.">OCIBindDynamic()</a></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16349"></a><div class="props_rev_3"><a id="GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E" name="GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E"></a><h3 id="LNOCI-GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E" class="sect3"><span class="enumeration_section">6.5 </span>About Describing Select-List Items
               </h3>
               <div>
                  <p>If your OCI application is processing a query, you may need to obtain more information about the items in the select list.</p>
                  <p>This is particularly true for dynamic queries whose contents are not known until run time. In this case, the program may need to obtain information about the data types and column lengths of the select-list items. This information is necessary to define output variables that may receive query results.</p>
                  <p>For example, consider a query where the program has no prior information about the columns in the <code class="codeph">employees</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees
</pre><p>There are two types of describes available: implicit and explicit. </p>
                  <p>An <span class="italic">implicit describe</span> does not require any special calls to retrieve describe information from the server, although special calls <span class="italic">are</span> necessary to access the information. An implicit describe allows an application to obtain select-list information as an attribute of the statement handle <span class="italic">after a statement has been executed</span> without making a specific describe call. It is called <span class="italic">implicit</span> because no describe call is required. The describe information comes <span class="italic">free</span> with the statement execution. 
                  </p>
                  <p>An <span class="italic">explicit describe</span> requires the application to call a particular function to bring the describe information from the server. An application may describe a select list (query) either implicitly or explicitly. Other schema elements must be described explicitly.
                  </p>
                  <p>You can describe a query explicitly before execution by specifying <code class="codeph">OCI_DESCRIBE_ONLY</code> as the mode of <code class="codeph">OCIStmtExecute()</code>, which does not execute the statement, but returns the select-list description. For performance reasons, Oracle recommends that applications use the implicit describe, which comes <span class="italic">free</span> with a standard statement execution.
                  </p>
                  <p>An explicit describe with the <code class="codeph">OCIDescribeAny()</code> call obtains information about schema objects rather than select lists.
                  </p>
                  <p>In all cases, the specific information about columns and data types is retrieved by reading handle attributes.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2" title="After a SQL statement is executed, information about the select list is available as an attribute of the statement handle. No explicit describe call is needed.">Implicit Describe</a></p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-1FE451DB-FB37-4966-8334-AE04E532D27C" title="You can describe a query explicitly before execution by specifying OCI_DESCRIBE_ONLY as the mode of OCIStmtExecute()">Explicit Describe of Queries</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-DDB109DD-52EB-4AA8-A69A-34015F8D5D6E__GUID-D17C0F49-3D91-4601-87CC-D3CEAA8285AA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="describing-schema-metadata.html#GUID-CED0D15A-D873-43F7-A5B2-51FC0662C250" title="Performs an explicit describe of schema objects and their subschema objects.The OCIDescribeAny() call limits information returned to the basic information and stops expanding a node if it amounts to another describe operation.What to be aware of when performing describe operations.The OCI_ATTR_TYPECODE attribute returns typecodes that represent the types supplied by the user when a new type is created using the CREATE TYPE statement.To describe type objects, it is necessary to initialize the OCI process in object mode.The column attribute OCI_ATTR_PRECISION can be returned using an implicit describe with OCIStmtExecute() and an explicit describe with OCIDescribeAny().The OCI_ATTR_LIST_ARGUMENTS attribute for type methods represents second-level arguments for the method.This section describes the attributes and handles that belong to different parameters. Lists and describes the type-specific attributes for parameters for a table or view. Lists and describes the type-specific attributes when a parameter is for a procedure or function.Lists and describes the attributes when a parameter is for a package.Lists and describes the attributes when a parameter is for a type. Lists and describes the attributes when a parameter is for an attribute of a type.Lists and dsescribes the attributes when a parameter is for a method of a type.Lists and describes the attributes when a parameter is for a collection type.Lists and describes the attributes when a parameter is for a synonym.Lists and describes the attributes when a parameter is for a sequence.Lists and describes the attributes when a parameter is for a column of a table or view.Lists and describes the attributes when a parameter is for an argument of a procedure or function.Lists and describes the attributes when the parameter is for a list of columns, arguments, and subprograms, or fields of a package record type.Lists and describes the attributes when a parameter is for a schema type.Lists and describes the attributes when a parameter is for a database type.Lists and describes the attributes when a parameter is for a rule.Lists and describes the attributes when a parameter is for a rule set.Lists and describes the attributes when a parameter is for an evaluation context.Lists and describes the attributes when a parameter is for a table alias.Lists and describes the attributes when a parameter is for a variable.Lists and describes the attributes when a parameter is for a name-value pair.Query and column information are supported with character-length semantics.If the database column was created using character-length semantics, then the implicit describe information contains the character length, the byte length, and a flag indicating how the database column was created.Explicit describes of tables have three attributes: OCI_ATTR_DATA_SIZE, OCI_ATTR_CHAR_SIZE, and OCI_ATTR_CHAR_USED.Character-length semantics depends on the release of the server or client. It is best described when both server and client are Oracle9i or later. Otherwise, compatibility issues as described result.The following examples demonstrate the use of OCIDescribeAny() for describing different types of schema objects.Illustrates the use of an explicit describe that retrieves the column data types for a table.The steps required to describe type methods (also divided into functions and procedures) are identical to those of regular PL/SQL functions and procedures.Illustrates the use of an explicit describe on a named object type.Illustrates the use of an explicit describe on a named collection type.Shows a loop that retrieves the column names and data types corresponding to a query following query execution.Illustrates the use of invisible column properties and checking each column to determine if it is an invisible column."> Describing Schema Metadata</a> for information about using <a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="Describes existing schema and subschema objects.">OCIDescribeAny()</a> to obtain metadata pertaining to schema objects
                           </p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </li>
                        <li>
                           <p><a href="bind-define-describe-functions.html#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="Describes existing schema and subschema objects.">OCIDescribeAny()</a></p>
                        </li>
                     </ul>
                     <p></p>
                  </div>
               </div><a id="LNOCI72600"></a><a id="LNOCI16350"></a><div class="props_rev_3"><a id="GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2" name="GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2"></a><h4 id="LNOCI-GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2" class="sect4"><span class="enumeration_section">6.5.1 </span>Implicit Describe
                  </h4>
                  <div>
                     <p>After a SQL statement is executed, information about the select list is available as an attribute of the statement handle. No explicit describe call is needed.</p>
                     <p>To retrieve information about multiple select-list items, an application can call <code class="codeph">OCIParamGet()</code> with the <span class="italic">pos</span> parameter set to 1 the first time, and then iterate the value of <span class="italic">pos</span> and repeat the <code class="codeph">OCIParamGet()</code> call until <code class="codeph">OCI_ERROR</code> with <code class="codeph">ORA-24334</code> is returned. An application could also specify any position <span class="italic">n</span> to get a column at random.
                     </p>
                     <p>Once a parameter descriptor has been allocated for a position in the select list, the application can retrieve specific information by calling <code class="codeph">OCIAttrGet()</code> on the parameter descriptor. Information available from the parameter descriptor includes the data type and maximum size of the parameter.
                     </p>
                     <p>The sample code in <a href="using-sql_statements-in-oci.html#GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2__CIHHFJJE">Example 6-3</a><a href="using-sql_statements-in-oci.html#GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2__CIHHFJJE">Example 6-3</a> shows a loop that retrieves the column names and data types corresponding to a query following query execution. The query was associated with the statement handle by a prior call to <code class="codeph">OCIStmtPrepare2()</code>.
                     </p>
                     <p>The <code class="codeph">checkerr()</code> function in <a href="using-sql_statements-in-oci.html#GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2__CIHHFJJE">Example 6-3</a> is used for error handling. The complete listing can be found in the first sample application in <a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="Lists example programs with sample code demonstrating the allocation and use of OCI handles.">OCI Demonstration Programs</a>.
                     </p>
                     <p>The calls to <code class="codeph">OCIAttrGet()</code> and <code class="codeph">OCIParamGet()</code> are local calls that do not require a network round-trip, because all of the select-list information is cached on the client side after the statement is executed.
                     </p>
                     <div class="example" id="GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2__CIHHFJJE">
                        <p class="titleinexample">Example 6-3 Implicit Describe - Select List Is Available as an Attribute of the Statement Handle</p><pre class="oac_no_warn" dir="ltr">...
OCIParam     *mypard = (OCIParam *) 0;
ub2          dtype;
text         *col_name;
ub4          counter, col_name_len, char_semantics;
ub2          col_width;
sb4          parm_status;

text *sqlstmt = (text *)"SELECT * FROM employees WHERE employee_id = 100";

checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, (OraText *)sqlstmt,
                    (ub4)strlen((char *)sqlstmt), NULL, 0,
                    (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));

checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, 0, 0, (OCISnapshot *)0, (OCISnapshot *)0, OCI_DEFAULT));

/* Request a parameter descriptor for position 1 in the select list */
counter = 1;
parm_status = OCIParamGet((void *)stmthp, OCI_HTYPE_STMT, errhp,
               (void **)&amp;mypard, (ub4) counter);

/* Loop only if a descriptor was successfully retrieved for
   current position, starting at 1 */

while (parm_status == OCI_SUCCESS) {
   /* Retrieve the data type attribute */
   checkerr(errhp, OCIAttrGet((void*) mypard, (ub4) OCI_DTYPE_PARAM,
           (void*) &amp;dtype,(ub4 *) 0, (ub4) OCI_ATTR_DATA_TYPE,
           (OCIError *) errhp  ));

   /* Retrieve the column name attribute */
   col_name_len = 0;
   checkerr(errhp, OCIAttrGet((void*) mypard, (ub4) OCI_DTYPE_PARAM,
           (void**) &amp;col_name, (ub4 *) &amp;col_name_len, (ub4) OCI_ATTR_NAME,
           (OCIError *) errhp ));

   /* Retrieve the length semantics for the column */
   char_semantics = 0;
   checkerr(errhp, OCIAttrGet((void*) mypard, (ub4) OCI_DTYPE_PARAM,
           (void*) &amp;char_semantics,(ub4 *) 0, (ub4) OCI_ATTR_CHAR_USED,
           (OCIError *) errhp  ));
   col_width = 0;
   if (char_semantics)
       /* Retrieve the column width in characters */
       checkerr(errhp, OCIAttrGet((void*) mypard, (ub4) OCI_DTYPE_PARAM,
               (void*) &amp;col_width, (ub4 *) 0, (ub4) OCI_ATTR_CHAR_SIZE,
               (OCIError *) errhp  ));
   else
       /* Retrieve the column width in bytes */
       checkerr(errhp, OCIAttrGet((void*) mypard, (ub4) OCI_DTYPE_PARAM,
               (void*) &amp;col_width,(ub4 *) 0, (ub4) OCI_ATTR_DATA_SIZE,
               (OCIError *) errhp  ));

   /* increment counter and get next descriptor, if there is one */
   counter++;
   parm_status = OCIParamGet((void *)stmthp, OCI_HTYPE_STMT, errhp,
          (void **)&amp;mypard, (ub4) counter);
} /* while */
...
</pre><div class="infoboxnotealso" id="GUID-1494AB91-F7BD-4B73-97B9-4F3AA51D2EB2__GUID-439F6784-9B0D-4EDE-A84B-4BD86F6984E9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-35D2FF91-139B-4A5C-97C8-8BC29866CCA4" title="Returns a descriptor of a parameter specified by position in the describe handle or statement handle.">OCIParamGet()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                              </li>
                              <li>
                                 <p><a href="statement-functions.html#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="Allocates an array of descriptors.">OCIArrayDescriptorAlloc()</a></p>
                              </li>
                              <li>
                                 <p><a href="describing-schema-metadata.html#GUID-2EB52CE1-9947-472C-B8B3-24214D66EE19" title="This section describes the attributes and handles that belong to different parameters.">Parameter Attributes</a> for a list of the specific attributes of the parameter descriptor that may be read by <a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="Allocates an array of descriptors.">OCIArrayDescriptorAlloc()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNOCI72601"></a><a id="LNOCI16351"></a><div class="props_rev_3"><a id="GUID-1FE451DB-FB37-4966-8334-AE04E532D27C" name="GUID-1FE451DB-FB37-4966-8334-AE04E532D27C"></a><h4 id="LNOCI-GUID-1FE451DB-FB37-4966-8334-AE04E532D27C" class="sect4"><span class="enumeration_section">6.5.2 </span>Explicit Describe of Queries
                  </h4>
                  <div>
                     <p>You can describe a query explicitly before execution by specifying <code class="codeph">OCI_DESCRIBE_ONLY</code> as the mode of <code class="codeph">OCIStmtExecute()</code></p>
                     <p>This does not execute the statement, but returns the select-list description.</p>
                     <div class="infoboxnote" id="GUID-1FE451DB-FB37-4966-8334-AE04E532D27C__GUID-9DBAC0A6-0912-4607-A80A-83A3820FD686">
                        <p class="notep1">Note:</p>
                        <p>To maximize performance, Oracle recommends that applications execute the statement in default mode and use the implicit describe that accompanies the execution.</p>
                     </div>
                     <p>The code in <a href="using-sql_statements-in-oci.html#GUID-1FE451DB-FB37-4966-8334-AE04E532D27C__CIHCGFEE">Example 6-4</a> demonstrates the use of explicit describe in a select list to return information about columns.
                     </p>
                     <div class="example" id="GUID-1FE451DB-FB37-4966-8334-AE04E532D27C__CIHCGFEE">
                        <p class="titleinexample">Example 6-4 Explicit Describe - Returning the Select-List Description for Each Column</p><pre class="oac_no_warn" dir="ltr">...
int i = 0;
ub4 numcols = 0;
ub2 type = 0;
OCIParam *colhd = (OCIParam *) 0;   /* column handle */

text *sqlstmt = (text *)"SELECT * FROM employees WHERE employee_id = 100";

checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, (OraText *)sqlstmt,
                    (ub4)strlen((char *)sqlstmt), NULL, 0,
                    (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));

/* initialize svchp, stmthp, errhp, rowoff, iters, snap_in, snap_out */
/* set the execution mode to OCI_DESCRIBE_ONLY. Note that setting the mode to
OCI_DEFAULT does an implicit describe of the statement in addition to executing
the statement */

checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, 0, 0,
        (OCISnapshot *) 0, (OCISnapshot *) 0, OCI_DESCRIBE_ONLY));

/* Get the number of columns in the query */
checkerr(errhp, OCIAttrGet((void *)stmthp, OCI_HTYPE_STMT, (void *)&amp;numcols,
                      (ub4 *)0, OCI_ATTR_PARAM_COUNT, errhp));

/* go through the column list and retrieve the data type of each column.
Start from pos = 1 */
for (i = 1; i &lt;= numcols; i++)
{
  /* get parameter for column i */
  checkerr(errhp, OCIParamGet((void *)stmthp, OCI_HTYPE_STMT, errhp, (void **)&amp;colhd, i));

  /* get data-type of column i */
  type = 0;
  checkerr(errhp, OCIAttrGet((void *)colhd, OCI_DTYPE_PARAM,
          (void *)&amp;type, (ub4 *)0, OCI_ATTR_DATA_TYPE, errhp));
}
...
</pre><div class="infoboxnotealso" id="GUID-1FE451DB-FB37-4966-8334-AE04E532D27C__GUID-755DD05A-64EB-42FA-902E-7672D8152BBB">
                           <p class="notep1">See Also:</p>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI16352"></a><div class="props_rev_3"><a id="GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296" name="GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296"></a><h3 id="LNOCI-GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296" class="sect3"><span class="enumeration_section">6.6 </span>About Defining Output Variables in OCI
               </h3>
               <div>
                  <p>Query statements return data from the database to your application.</p>
                  <p>When processing a query, you must define an output variable or an array of output variables for each item in the select list from which to retrieve data. The define step creates an association that determines where returned results are stored, and in what format.</p>
                  <p>For example, to process the following statement you would normally define two output variables: one to receive the value returned from the <code class="codeph">name</code> column, and one to receive the value returned from the <code class="codeph">ssn</code> column:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT name, ssn FROM employees
    WHERE empno = :empnum
</pre><div class="infoboxnotealso" id="GUID-F5FB3DBA-9FDA-45FC-AF5D-2D8D4C436296__GUID-E3130724-AA9E-4D2B-AD0E-1A75CF1F3005">
                     <p class="notep1">See Also:</p>
                     <p><a href="binding-and-defining-in-oci.html#GUID-4C2BD7BB-5768-4E8A-82BF-84FB0030A8C5" title="This chapter describes binding and defining in OCI.">Binding and Defining in OCI</a></p>
                  </div>
               </div>
            </div><a id="LNOCI16353"></a><div class="props_rev_3"><a id="GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" name="GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6"></a><h3 id="LNOCI-GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" class="sect3"><span class="enumeration_section">6.7 </span>About Fetching Results
               </h3>
               <div>
                  <p>If an OCI application has processed a query, it is typically necessary to fetch the results with <code class="codeph">OCIStmtFetch2()</code> after the statement has completed execution. 
                  </p>
                  <p>The <code class="codeph">OCIStmtFetch2()</code> function supports <span class="italic">scrollable cursors</span>.
                  </p>
                  <p>Fetched data is retrieved into output variables that have been specified by define operations.</p>
                  <div class="infoboxnote" id="GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6__GUID-C5DC1425-6EB1-4C0D-9D59-D79DF64D5AB2">
                     <p class="notep1">Note:</p>
                     <p>If output variables are defined for a <code class="codeph">SELECT</code> statement before a call to <code class="codeph">OCIStmtExecute()</code>, the number of rows specified by the <code class="codeph">iters</code> parameter is fetched directly into the defined output buffers
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-sql_statements-in-oci.html#GUID-531299F8-6F55-4550-B389-1B3346045FC2" title="If LOB columns or attributes are part of a select list, they can be returned as LOB locators or actual LOB values, depending on how you define them.">About Fetching LOB Data</a></p>
                           </li>
                           <li>
                              <p><a href="using-sql_statements-in-oci.html#GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" title="To minimize server round-trips and optimize performance, OCI can prefetch result set rows when executing a query.">About Setting Prefetch Count</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="infoboxnotealso" id="GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6__GUID-9E5CCC5C-711B-4A5B-998C-ED09B56D1990">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2" title="A cursor is a current position in a result set.">About Using Scrollable Cursors in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </li>
                        <li>
                           <p>These statements mentioned previously fetch data associated with the sample code in <a href="binding-and-defining-in-oci.html#GUID-E965AB3C-003F-45CD-82FA-586BBB4082A4" title="A basic define is done with a position call, OCIDefineByPos() or OCIDefineByPos2().">Steps Used in OCI Defining</a>. See that example for more information.
                           </p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-8A09BC68-4C3D-4977-86C9-134F73121E26" title="Query statements return data from the database to your application.">Overview of Defining in OCI</a> for information about defining output variables
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16354"></a><div class="props_rev_3"><a id="GUID-531299F8-6F55-4550-B389-1B3346045FC2" name="GUID-531299F8-6F55-4550-B389-1B3346045FC2"></a><h4 id="LNOCI-GUID-531299F8-6F55-4550-B389-1B3346045FC2" class="sect4"><span class="enumeration_section">6.7.1 </span>About Fetching LOB Data
                  </h4>
                  <div>
                     <p>If LOB columns or attributes are part of a select list, they can be returned as LOB locators or actual LOB values, depending on how you define them.</p>
                     <p>If LOB locators are fetched, then the application can perform further operations on these locators through the <code class="codeph">OCILobXXX</code> functions.
                     </p>
                     <div class="infoboxnotealso" id="GUID-531299F8-6F55-4550-B389-1B3346045FC2__GUID-A4A28A80-A70B-48FC-B577-7AE99C3818D2">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="lobs-and-bfile-operations.html#GUID-0A094518-F97C-40BE-A336-259AA82BD0A2" title="This chapter describes LOB and BFILE operations.">LOB and BFILE Operations</a> for more information about working with LOB locators in OCI
                              </p>
                           </li>
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-16652266-2A22-43AB-8BA3-9868CCEC9271">About Defining LOB Output Variables</a> for usage and examples of selecting LOB data without the use of locators
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16355"></a><div class="props_rev_3"><a id="GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" name="GUID-7AE9DBE2-5316-4802-99D1-969B72823F02"></a><h4 id="LNOCI-GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" class="sect4"><span class="enumeration_section">6.7.2 </span>About Setting Prefetch Count
                  </h4>
                  <div>
                     <p>To minimize server round-trips and optimize performance, OCI can prefetch result set rows when executing a query.</p>
                     <p>You can customize this prefetching by setting either the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> or <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attribute of the statement handle using the <code class="codeph">OCIAttrSet()</code> function. These attributes are used as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> sets the number of rows to be prefetched. If it is not set, then the default value is 1. If the <code class="codeph">iters</code> parameter of <code class="codeph">OCIStmtExecute()</code> is 0 and prefetching is enabled, the rows are buffered during calls to <code class="codeph">OCIStmtFetch2()</code>. The prefetch value can be altered after execution and between fetches.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> sets the memory allocated for rows to be prefetched. The application then fetches as many rows as can fit into that much memory.
                           </p>
                        </li>
                     </ul>
                     <p>When both of these attributes are set, OCI prefetches rows up to the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> limit unless the <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> limit is reached, in which case OCI returns as many rows as can fit in a buffer of size <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code>.
                     </p>
                     <p>By default, prefetching is turned on, and OCI fetches one extra row, except when prefetching cannot be supported for a query (see the note that follows). To turn prefetching off, set both the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> and <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attributes to zero.
                     </p>
                     <p>If both <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> and <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attributes are explicitly set, OCI uses the tighter of the two constraints to determine the number of rows to prefetch.
                     </p>
                     <p>To prefetch exclusively based on the memory constraint, set the <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attribute and be sure to disable the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> attribute by setting it to zero (to override the default setting of 1 row).
                     </p>
                     <p>To prefetch exclusively based on the number of rows constraint, set the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> attribute and disable the <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attribute by setting it to zero (if it was ever explicitly set to a non-zero value).
                     </p>
                     <p>Prefetching is possible for <code class="codeph">REF CURSOR</code>s and nested cursor columns. By default, prefetching is not turned on for <code class="codeph">REF CURSOR</code>s. To turn on prefetching for <code class="codeph">REF CURSOR</code>s, set the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> or <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> attribute before fetching rows from the <code class="codeph">REF CURSOR</code>. When a <code class="codeph">REF CURSOR</code> is passed multiple times between an OCI application and PL/SQL and fetches on the <code class="codeph">REF CURSOR</code> are done in OCI and in PL/SQL, the rows prefetched by OCI (if enabled) cause the application to behave as if out-of-order rows are being fetched in PL/SQL. In such situations, OCI prefetch should not be enabled on <code class="codeph">REF CURSOR</code>s.
                     </p>
                     <div class="infoboxnote" id="GUID-7AE9DBE2-5316-4802-99D1-969B72823F02__GUID-BDED5EA1-B78B-429C-B938-02AD86D55370">
                        <p class="notep1">Note:</p>
                        <p>Prefetching is not in effect if <code class="codeph">LONG</code>, LOB or Opaque Type columns (such as <code class="codeph">XMLType</code>) are part of the query.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7AE9DBE2-5316-4802-99D1-969B72823F02__GUID-DA3E7081-C740-46C5-9151-959E661E08A6">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE" title="Lists and describes statement handle attributes.">Statement Handle Attributes</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16356"></a><div class="props_rev_3"><a id="GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2" name="GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2"></a><h3 id="LNOCI-GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2" class="sect3"><span class="enumeration_section">6.8 </span>About Using Scrollable Cursors in OCI
               </h3>
               <div>
                  <p>A cursor is a current position in a <span class="italic">result set</span>. 
                  </p>
                  <p>Execution of a cursor puts the results of the query into a set of rows called the result set that can be fetched either sequentially or nonsequentially. In the latter case, the cursor is known as a <span class="italic">scrollable cursor.</span></p>
                  <p>A scrollable cursor supports forward and backward access into the result set from a given position, by using either absolute or relative row number offsets into the result set.</p>
                  <p>Rows are numbered starting at one. For a scrollable cursor, you can fetch previously fetched rows, the nth row in the result set, or the nth row from the current position. Client-side caching of either the partial or entire result set improves performance by limiting calls to the server.</p>
                  <p>Oracle Database does not support DML operations on scrollable cursors. A cursor cannot be made scrollable if the <code class="codeph">LONG</code> data type is part of the select list. 
                  </p>
                  <p>Moreover, fetches from a scrollable statement handle are based on the snapshot at execution time. OCI client prefetching works with OCI scrollable cursors. The size of the client prefetch cache can be controlled by the existing OCI attributes <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> and <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2__GUID-54D355A4-C206-4DC4-A1F0-F3AC66052AA4">
                     <p class="notep1">Note:</p>
                     <p>Do not use scrollable cursors unless you require their functionality, because they use more server resources and can have greater response times than nonscrollable cursors.</p>
                  </div>
                  <p>The <code class="codeph">OCIStmtExecute()</code> call has an execution mode for scrollable cursors, <code class="codeph">OCI_STMT_SCROLLABLE_READONLY</code>. The default for statement handles is nonscrollable, forward sequential access only, where the mode is <code class="codeph">OCI_FETCH_NEXT</code>. You must set this execution mode each time the statement handle is executed.
                  </p>
                  <p>The statement handle attribute <code class="codeph">OCI_ATTR_CURRENT_POSITION</code> can be retrieved only by using <code class="codeph">OCIAttrGet()</code>. This attribute cannot be set by the application; it indicates the current position in the result set. 
                  </p>
                  <p>For nonscrollable cursors, <code class="codeph">OCI_ATTR_ROW_COUNT</code> is the total number of rows fetched into the user buffers with the <code class="codeph">OCIStmtFetch2()</code> calls since this statement handle was executed. Because nonscrollable cursors are forward sequential only, <code class="codeph">OCI_ATTR_ROW_COUNT</code> also represents the highest row number detected by the application.
                  </p>
                  <p>Beginning with Oracle Database Release 12.1, using the attribute <code class="codeph">OCI_ATTR_UB8_ROW_COUNT</code> is preferred to using the attribute <code class="codeph">OCI_ATTR_ROW_COUNT</code> if row count values can exceed the value of <code class="codeph">UB4MAXVAL</code> for an OCI application. 
                  </p>
                  <p>For scrollable cursors, <code class="codeph">OCI_ATTR_ROW_COUNT</code> represents the maximum (absolute) row number fetched into the user buffers. Because the application can arbitrarily position the fetches, this does not have to be the total number of rows fetched into the user's buffers since the (scrollable) statement was executed.
                  </p>
                  <p>The attribute <code class="codeph">OCI_ATTR_ROWS_FETCHED</code> on the statement handle represents the number of rows that were successfully fetched into the user's buffers in the last fetch call or execute. It works for both scrollable and nonscrollable cursors.
                  </p>
                  <p>Use the <code class="codeph">OCIStmtFetch2()</code> call, instead of the <code class="codeph">OCIStmtFetch()</code> call, which is retained for backward compatibility. You are encouraged to use <code class="codeph"></code><code class="codeph">OCIStmtFetch2()</code> for all new applications, even those not using scrollable cursors. This call also works for nonscrollable cursors, but can raise an error if any other orientation besides <code class="codeph">OCI_DEFAULT</code> or <code class="codeph">OCI_FETCH_NEXT</code> is passed.
                  </p>
                  <p>Scrollable cursors are supported for remote mapped queries. Transparent application failover (TAF) is supported for scrollable cursors.</p>
                  <div class="infoboxnote" id="GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2__GUID-6C0E8BAB-B241-4AED-A1C3-86A4822C21CA">
                     <p class="notep1">Note:</p>
                     <p>If you call <code class="codeph">OCIStmtFetch2()</code> with the <code class="codeph">nrows</code> parameter set to 0, the cursor is canceled.
                     </p>
                  </div>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-EF4297B5-78A7-449A-ABB4-9C5B754D3A89" title="Response time is improved if you use OCI client-side prefetch buffers.">About Increasing Scrollable Cursor Performance</a></p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613" title="Shows the use of a scrollable cursor.">Example of Access on a Scrollable Cursor</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-1728D572-BED3-4F80-BDC3-E6F9A66046B2__GUID-95D92C90-1E96-4BFA-AC7F-377A7AFB3A78">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                        </li>
                        <li>
                           <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" title="To minimize server round-trips and optimize performance, OCI can prefetch result set rows when executing a query.">About Setting Prefetch Count</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16357"></a><div class="props_rev_3"><a id="GUID-EF4297B5-78A7-449A-ABB4-9C5B754D3A89" name="GUID-EF4297B5-78A7-449A-ABB4-9C5B754D3A89"></a><h4 id="LNOCI-GUID-EF4297B5-78A7-449A-ABB4-9C5B754D3A89" class="sect4"><span class="enumeration_section">6.8.1 </span>About Increasing Scrollable Cursor Performance
                  </h4>
                  <div>
                     <p>Response time is improved if you use OCI client-side prefetch buffers.</p>
                     <p>After calling <code class="codeph">OCIStmtExecute()</code> for a scrollable cursor, call <code class="codeph">OCIStmtFetch2()</code> using <code class="codeph">OCI_FETCH_LAST</code> to obtain the size of the result set. Then set <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> to about 20% of that size, and set <code class="codeph">OCI_PREFETCH_MEMORY</code> if the result set uses a large amount of memory.
                     </p>
                     <div class="infoboxnotealso" id="GUID-EF4297B5-78A7-449A-ABB4-9C5B754D3A89__GUID-08630751-DF92-421D-A7EA-98E742A655F3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                           </li>
                           <li>
                              <p><a href="statement-functions.html#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI72602"></a><a id="LNOCI16358"></a><div class="props_rev_3"><a id="GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613" name="GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613"></a><h4 id="LNOCI-GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613" class="sect4"><span class="enumeration_section">6.8.2 </span>Example of Access on a Scrollable Cursor
                  </h4>
                  <div>
                     <p>Shows the use of a scrollable cursor.</p>
                     <p>Assume that a result set is returned by the following SQL query, and that the table <code class="codeph">EMP</code> has 14 rows:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT empno, ename FROM emp
</pre><p>One use of scrollable cursors is shown in <a href="using-sql_statements-in-oci.html#GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613__CIHBFFEB">Example 6-5</a>. 
                     </p>
                     <div class="example" id="GUID-4A994A3E-EA41-4DA1-B58C-2BBB3C083613__CIHBFFEB">
                        <p class="titleinexample">Example 6-5 Access on a Scrollable Cursor</p><pre class="oac_no_warn" dir="ltr">...
/* execute the scrollable cursor in the scrollable mode */
OCIStmtExecute(svchp, stmthp, errhp, (ub4)0, (ub4)0, (CONST OCISnapshot *)NULL,
               (OCISnapshot *) NULL, OCI_STMT_SCROLLABLE_READONLY ); 
                                  
/* Fetches rows with absolute row numbers 6, 7, 8. After this call,
 OCI_ATTR_CURRENT_POSITION = 8, OCI_ATTR_ROW_COUNT = 8 */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 3, 
                               OCI_FETCH_ABSOLUTE, (sb4) 6, OCI_DEFAULT);
                               
/* Fetches rows with absolute row numbers 6, 7, 8. After this call,
 OCI_ATTR_CURRENT_POSITION = 8, OCI_ATTR_ROW_COUNT = 8 */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 3, 
                               OCI_FETCH_RELATIVE, (sb4) -2, OCI_DEFAULT);
                               
/* Fetches rows with absolute row numbers 14. After this call,
 OCI_ATTR_CURRENT_POSITION = 14, OCI_ATTR_ROW_COUNT = 14 */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 1, 
                               OCI_FETCH_LAST, (sb4) 0, OCI_DEFAULT);

/* Fetches rows with absolute row number 1. After this call,
 OCI_ATTR_CURRENT_POSITION = 1, OCI_ATTR_ROW_COUNT = 14 */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 1, 
                               OCI_FETCH_FIRST, (sb4) 0, OCI_DEFAULT);

/* Fetches rows with absolute row numbers 2, 3, 4. After this call,
 OCI_ATTR_CURRENT_POSITION = 4, OCI_ATTR_ROW_COUNT = 14 */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 3, 
                               OCI_FETCH_NEXT, (sb4) 0, OCI_DEFAULT);

/* Fetches rows with absolute row numbers 3,4,5,6,7. After this call,
 OCI_ATTR_CURRENT_POSITION = 7, OCI_ATTR_ROW_COUNT = 14. It is assumed 
the user's define memory is allocated. */
checkprint(errhp, OCIStmtFetch2(stmthp, errhp, (ub4) 5, 
                               OCI_FETCH_PRIOR, (sb4) 0, OCI_DEFAULT);
...
}
checkprint (errhp, status)
{
 ub4 rows_fetched;
/* This checks for any OCI errors before printing the results of the fetch call
   in the define buffers */
 checkerr (errhp, status);
 checkerr(errhp, OCIAttrGet((CONST void *) stmthp, OCI_HTYPE_STMT,
         (void *) &amp;rows_fetched, (uint *) 0, OCI_ATTR_ROWS_FETCHED, errhp));
}
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05499.using-oracle-database-vault-with-a-cdb.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can use Oracle Database Vault in a multitenant container database (CDB).">
      <meta name="description" content="You can use Oracle Database Vault in a multitenant container database (CDB).">
      <title>Using Oracle Database Vault with a CDB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="You can use Oracle Database Vault in a multitenant container database (CDB).">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-oracle-scheduler-with-a-cdb.html" title="Previous" type="text/html">
      <link rel="next" href="using-xstream-with-a-cdb.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-scheduler-with-a-cdb.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-xstream-with-a-cdb.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="using-oracle-features-in-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">Using Oracle Features in a Multitenant Environment</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using Oracle Database Vault with a CDB</li>
            </ol>
            <a id="GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" name="GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3"></a>
            
            <h2 id="MULTI-GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" class="sect2"><span class="enumeration_chapter">24 </span> Using Oracle Database Vault with a CDB
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can use Oracle Database Vault in a multitenant container database (CDB).</p>
               <p>This section contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-59526942-DC4F-489B-819E-D4F33BA17F9D">About Oracle Database Vault</a><br>The Oracle Database Vault security controls protect application data from unauthorized access, and comply with privacy and regulatory requirements. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-F4182518-DEFF-4433-9593-0D73315DF661">How Oracle Database Vault Works in a Multitenant Environment</a><br>To provide increased security for consolidation, you can use Oracle Database Vault with Oracle Multitenant.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2">Verifying That Database Vault Is Configured and Enabled</a><br>The <code class="codeph">DBA_DV_STATUS</code>, <code class="codeph">CDB_DV_STATUS</code>, <code class="codeph">DBA_OLS_STATUS</code>, and <code class="codeph">CDB_OLS_STATUS</code> data dictionary views verify if Oracle Database is configured and enabled. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a><br>You can register Oracle Database Vault in a multitenant environment based on several scenarios. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6">Configuring Realms</a><br>You can create a realm around database objects to protect them, and then set authorizations to control user access to this data. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-6308CB8B-6777-44AF-A523-F1A956591F6D">Rule Sets and Rules in a Multitenant Environment</a><br>In a multitenant environment, you can create a rule set and its associated rules in the application root.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84">Command Rules in a Multitenant Environment</a><br>In a multitenant environment, you can create common and local command rules in either the CDB root or the application root.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-07513135-CB45-4788-A596-E5A71879BB81">Oracle Database Vault Policies in a Multitenant Environment</a><br>Oracle Database Vault policies are only local to the pluggable database (PDB) in which they were created. 
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a><br>You can control PDB access by CDB root common users, such as infrastructure database administrators.
                  </li>
                  <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-517E9611-546B-43D9-8C54-37037AF0B198">Converting a Standalone Oracle Database to a PDB and Plugging It into a CDB</a><br>You can convert a standalone Oracle Database Release 12c or later database to a PDB, and then plug this PDB into a CDB.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="using-oracle-features-in-a-multitenant-environment.html#GUID-CE922DAA-66FB-430B-96E5-29FF50BFD2FF" title="You can use Oracle Database features in a multitenant environment.">Using Oracle Features in a Multitenant Environment</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-59526942-DC4F-489B-819E-D4F33BA17F9D" name="GUID-59526942-DC4F-489B-819E-D4F33BA17F9D"></a><h3 id="MULTI-GUID-59526942-DC4F-489B-819E-D4F33BA17F9D" class="sect3"><span class="enumeration_section">24.1 </span>About Oracle Database Vault
               </h3>
               <div>
                  <p>The Oracle Database Vault security controls protect application data from unauthorized access, and comply with privacy and regulatory requirements. </p>
                  <p>You can deploy controls to block privileged account access to application data and control sensitive operations inside the database using trusted path authorization. Through the analysis of privileges and roles, you can increase the security of existing applications by using least privilege best practices. Oracle Database Vault secures existing database environments transparently, eliminating costly and time consuming application changes.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM-GUID-0C8AF1B2-6CE9-4408-BFB3-7B2C7F9E7284" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-F4182518-DEFF-4433-9593-0D73315DF661" name="GUID-F4182518-DEFF-4433-9593-0D73315DF661"></a><h3 id="MULTI-GUID-F4182518-DEFF-4433-9593-0D73315DF661" class="sect3"><span class="enumeration_section">24.2 </span>How Oracle Database Vault Works in a Multitenant Environment
               </h3>
               <div>
                  <p>To provide increased security for consolidation, you can use Oracle Database Vault with Oracle Multitenant.</p>
                  <p>Oracle Database Vault can prevent privileged user access inside a pluggable database (PDB) and between the PDB and the common privileged user at the container database. Each PDB has its own Database Vault metadata, such as realms, rule sets, command rules, default policies (such as default realms), and so on. In addition, the objects within the <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code> schemas are automatically available to any child PDBs. Both schemas are common user schemas. 
                  </p>
                  <p>You can configure common realms in the application root only, but you can create common rule sets and command rules in either the application root or the CDB root. A common command rule in the application root applies to its associated PDBs, and common command rules in the CDB root apply to all PDBs in the CDB environment. The ability to create common realms and command rules enables you to create policies that use a shared set of realms, rule sets, or command rules throughout the CDB environments, rather than having to create these same components for every PDB in the multitenant environment. The common protection applies for all PDBs associated with the application root that have Oracle Database Vault enabled.</p>
                  <p>You can create individual local policies for each PDB. When you use Database Vault to protect an object, Database Vault subjects common privileges for common objects to the same enforcement rules as local system privileges. </p>
                  <p>When you configure a PDB that has Database Vault enabled, the <code class="codeph">DVSYS</code> schema is a common user schema that is stored in the root. This means that all the objects within the <code class="codeph">DVSYS</code> schema (tables, data dictionary views, user accounts, PL/SQL packages, default policies, and so on) are subject to the common privileges available for this schema. In other words, you can create realms, factors, and so on in the root to protect the schema in the root. Ensure that you configure Database Vault in the root first, before you configure it in the associated PDBs.
                  </p>
                  <p>When you enable Oracle Database Vault in the CDB root, you can choose either regular mode or strict mode. The settings propagate throughout the CDB based on the setting you choose. For example, suppose a CDB contains both Database Vault-enabled PDBs and PDBs in which Database Vault is not enabled. If you enable Database Vault using regular mode, then both types of PDBs continue to function normally. If you enable Database Vault using strict mode, then the Database Vault-disabled PDBs operate in restricted mode. </p>
                  <p><a href="using-oracle-database-vault-with-a-cdb.html#GUID-F4182518-DEFF-4433-9593-0D73315DF661__CHDGHEHH">Figure 24-1</a> illustrates how the database in regular mode allows different access for common and local database administrators depending if Database Vault is enabled. In this scenario, neither the common user nor the local users have access to the realms in PDB1 and PDB2. Both the common user and the PDB3 local user have access to the Custom App application in PDB3, where Database Vault is not enabled.
                  </p>
                  <div class="figure" id="GUID-F4182518-DEFF-4433-9593-0D73315DF661__CHDGHEHH">
                     <p class="titleinfigure">Figure 24-1 Oracle Database Vault in a Multitenant Environment with Regular Mode</p><img src="img/dvadm_vm_005c.png" alt="Description of Figure 24-1 follows" title="Description of Figure 24-1 follows" longdesc="img_text/dvadm_vm_005c.html"><br><a href="img_text/dvadm_vm_005c.html">Description of "Figure 24-1 Oracle Database Vault in a Multitenant Environment with Regular Mode"</a></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-72403156-3E91-43FD-8D06-859DBBC10568" title="In a multitenant environment, you can create a realm to protect common objects in the application root.">Realms in a Multitenant Environment</a></li>
                        <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" title="In a multitenant environment, you can create a rule set and its associated rules in the application root.">Rule Sets and Rules in a Multitenant Environment</a></li>
                        <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" title="In a multitenant environment, you can create common and local command rules in either the CDB root or the application root.">Command Rules in a Multitenant Environment</a></li>
                        <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-517E9611-546B-43D9-8C54-37037AF0B198" title="You can convert a standalone Oracle Database Release 12c or later database to a PDB, and then plug this PDB into a CDB.">Converting a Standalone Oracle Database to a PDB and Plugging It into a CDB</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" name="GUID-B5569AED-AC16-482C-BA6D-34E275F016D2"></a><h3 id="MULTI-GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" class="sect3"><span class="enumeration_section">24.3 </span>Verifying That Database Vault Is Configured and Enabled
               </h3>
               <div>
                  <p>The <code class="codeph">DBA_DV_STATUS</code>, <code class="codeph">CDB_DV_STATUS</code>, <code class="codeph">DBA_OLS_STATUS</code>, and <code class="codeph">CDB_OLS_STATUS</code> data dictionary views verify if Oracle Database is configured and enabled. 
                  </p>
                  <div class="section">In addition to Oracle Database Vault administrators, the Oracle Database <code class="codeph">SYS</code> user and users who have been granted the <code class="codeph">DBA</code> role can query these views. 
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For Database Vault: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you want to find the Database Vault status for a non-multitenant database, or in a multitenant environment for the root only or an individual PDB, then query <code class="codeph">DBA_DV_STATUS</code>. For example:
                                 </p><pre class="pre codeblock"><code>SELECT * FROM DBA_DV_STATUS;</code></pre><p>Output similar to the following appears:</p><pre class="pre codeblock"><code>NAME                 STATUS
-------------------- -----------
DV_CONFIGURE_STATUS  TRUE
DV_ENABLE_STATUS     TRUE</code></pre></li>
                              <li>
                                 <p>If you want to find the Database Vault status of all PDBs in a multitenant environment, as a common user with administrative privileges, then query <code class="codeph">CDB_DV_STATUS</code>, which provides the addition of a container ID (<code class="codeph">CON_ID</code>) field.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>For Oracle Label Security, query the following data dictionary views, which are similar to their Database Vault equivalent views:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DBA_OLS_STATUS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CDB_OLS_STATUS</code></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" name="GUID-68558E32-ABD0-4495-8677-4F9E09283E5D"></a><h3 id="MULTI-GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" class="sect3"><span class="enumeration_section">24.4 </span>Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment
               </h3>
               <div>
                  <p>You can register Oracle Database Vault in a multitenant environment based on several scenarios. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A">Registering Database Vault in the CDB Root</a><br>In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193">Registering Database Vault Common Users to Manage Specific PDBs</a><br>In a multitenant environment, you must register Oracle Database Vault in the root first, then in the PDBs afterward.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-75E90559-133D-4B5E-B658-D77810B590C6">Registering Database Vault Local Users to Manage Specific PDBs</a><br>In a multitenant environment, you must register Oracle Database Vault in the root first, and then in the PDBs afterward.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-54699671-483A-49EF-B900-81D286845E8E">Plugging in a Database Vault-Enabled PDB</a><br>From SQL*Plus, in a multitenant environment, you can plug in a database that already has Database Vault enabled. 
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260">Manually Installing Oracle Database Vault in a Multitenant Environment</a><br>Under certain conditions, for a multitenant environment, you must manually install Oracle Database Vault. For example, a release 11g Oracle database without Database Vault is upgraded to release 12c, then converted to a PDB to be plugged into a 12c Database Vault-enabled database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" name="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A"></a><h4 id="MULTI-GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A" class="sect4"><span class="enumeration_section">24.4.1 </span>Registering Database Vault in  the CDB Root
                  </h4>
                  <div>
                     <p>In a multitenant environment, you register Oracle Database Vault with common users who will use the Database Vault-enforced roles in the CDB root.</p>
                     <ol>
                        <li class="stepexpand"><span>In a multitenant environment, log into the root of the database instance as a user who has privileges to create users and grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>sqlplus c##dba_debra
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__CHDGDEIB"><span>Select user accounts (or create new users) that will be used for the Database Vault Owner (<code class="codeph">DV_OWNER</code> role) and Database Vault Account Manager (<code class="codeph">DV_ACCTMGR</code> role) accounts. </span><div>
                              <p>Oracle strongly recommends that you maintain two accounts for each role. One account, the primary named user account, will be used on a day-to-day basis and the other account will be used as a backup account in case the password of the primary account is lost and must be reset.</p>
                           </div>
                           <div>
                              <p>Prepend the names of these accounts with <code class="codeph">c##</code> or <code class="codeph">C##</code>. For example: 
                              </p><pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO c##sec_admin_owen IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##dbv_owner_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##accts_admin_ace IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
GRANT CREATE SESSION, SET CONTAINER TO c##dbv_acctmgr_root_backup IDENTIFIED BY <span class="italic">password</span> CONTAINER = ALL;
</code></pre><p>In this specification: </p>
                              <ul style="list-style-type: disc;" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__UL_EFL_1LP_GFB">
                                 <li>Create the primary accounts (<code class="codeph">c##sec_admin_owen</code> and<code class="codeph"> c##accts_admin_ace</code>) if these do not already exist for the new roles, <code class="codeph">DV_ADMIN</code> and <code class="codeph">DV_ACCTMGR</code>.
                                 </li>
                                 <li>Replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure. 
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the root as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege </span><div><pre class="pre codeblock"><code>CONNECT SYS AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the two backup Database Vault user accounts. </span><div>For example:<pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
 &nbsp;&nbsp;dvowner_uname         =&gt; 'c##dbv_owner_root_backup',
 &nbsp;&nbsp;dvacctmgr_uname       =&gt; 'c##dbv_acctmgr_root_backup',
   force_local_dvowner   =&gt; FALSE);
 END;
/
</code></pre></div>
                           <div>In this example, setting <code class="codeph">force_local_dvowner</code> to <code class="codeph">FALSE</code> enables the common users to have <code class="codeph">DV_OWNER</code> privileges for the PDBs that are associated with this CDB root. Setting it to <code class="codeph">TRUE</code> restricts the common <code class="codeph">DV_OWNER</code> user to have the <code class="codeph">DV_OWNER</code> role privileges for the CDB root only. If you grant <code class="codeph">DV_OWNER</code> locally to the CDB root common user, then that user cannot grant the <code class="codeph">DV_OWNER</code> role commonly to any other user. 
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in the root. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql
</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, then run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the root as the primary Database Vault Owner user that you just configured. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##sec_admin_owen
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault using one of the following commands:</span><div>
                              <ul style="list-style-type: disc;" id="GUID-5CC1B6F0-FDDB-4183-8233-0AC6B208667A__UL_LYQ_35D_R2B">
                                 <li>
                                    <p>To enable Oracle Database Vault to use regular mode:</p><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;</code></pre></li>
                                 <li>
                                    <p>If every associated PDB must have Database Vault enabled in this database, use the following command. PDBs that do not have Database Vault enabled will be in restricted mode after the database is restarted and until Database Vault is enabled in the PDB:</p><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV (strict_mode =&gt; 'y');</code></pre></li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the database. </span><div><pre class="pre codeblock"><code>SHUTDOWN IMMEDIATE
STARTUP
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that Oracle Database Vault and Oracle Label Security are installed and enabled.</span><div><pre class="pre codeblock"><code>SELECT * FROM DBA_DV_STATUS;
SELECT * FROM DBA_OLS_STATUS;
SELECT * FROM CDB_DV_STATUS;
SELECT * FROM CDB_OLS_STATUS;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO c##sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the backup <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_acctmgr_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                           <li><a href="../dvadm/oracle-database-vault-schemas-roles-and-accounts.html#DVADM-GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                           <li><a href="../dvadm/getting-started-with-oracle-database-vault.html#DVADM-GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193" name="GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193"></a><h4 id="MULTI-GUID-E30BC167-13D6-4C84-ABCC-28CBFF704193" class="sect4"><span class="enumeration_section">24.4.2 </span>Registering Database Vault Common Users to Manage Specific PDBs
                  </h4>
                  <div>
                     <p>In a multitenant environment, you must register Oracle Database Vault in the root first, then in the PDBs afterward.</p>
                     <div class="section"> If you try to register in a PDB first, then an <code class="codeph">ORA-47503: Database Vault is not enabled on CDB$ROOT</code> error appears.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>If you have not already done so, then identify or create named common user accounts to be used as the Database Vault accounts along with associated backup accounts. </span></li>
                        <li class="stepexpand"><span>Ensure that you have registered Oracle Database Vault in the CDB root and that the <code class="codeph">DV_OWNER</code> role was granted commonly to the common user.</span></li>
                        <li class="stepexpand"><span>Connect to the PDB as an administrator who is local to the PDB. </span><div>For example:<pre class="pre codeblock"><code>CONNECT dba_debra@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre><p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges to the users for this PDB. </span><div>For example: <pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO c##sec_admin_owen CONTAINER = CURRENT;
GRANT CREATE SESSION, SET CONTAINER TO c##accts_admin_ace CONTAINER = CURRENT;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege </span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>While still in the PDB, configure the two backup Database Vault user accounts. </span><div><pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
 &nbsp;&nbsp;dvowner_uname         =&gt; 'c##dbv_owner_root_backup',
 &nbsp;&nbsp;dvacctmgr_uname       =&gt; 'c##dbv_acctmgr_root_backup');
 END;
/
</code></pre><p>In this example, the <code class="codeph">force_local_dvowner</code> parameter is omitted because it is unnecessary. All common users who are configured within a PDB are restricted to the scope of the PDB.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in this PDB. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql
</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, then run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as the backup Database Vault Owner user that you just configured. </span><div>For example:<pre class="pre codeblock"><code>CONNECT c##dbv_owner_root_backup@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault in this PDB.</span><div><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the CDB with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Close and reopen the PDB. </span><div>For example:<pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE;

ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that the PDB is configured and enabled for Database Vault.</span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>

SELECT * FROM DBA_DV_STATUS;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_owner_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO c##sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the primary <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT c##dbv_acctmgr_root_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-B5569AED-AC16-482C-BA6D-34E275F016D2" title="The DBA_DV_STATUS, CDB_DV_STATUS, DBA_OLS_STATUS, and CDB_OLS_STATUS data dictionary views verify if Oracle Database is configured and enabled.">Verifying That Database Vault Is Configured and Enabled</a></li>
                           <li><a href="../dvadm/oracle-database-vault-schemas-roles-and-accounts.html#DVADM-GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                           <li><a href="../dvadm/getting-started-with-oracle-database-vault.html#DVADM-GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-75E90559-133D-4B5E-B658-D77810B590C6" name="GUID-75E90559-133D-4B5E-B658-D77810B590C6"></a><h4 id="MULTI-GUID-75E90559-133D-4B5E-B658-D77810B590C6" class="sect4"><span class="enumeration_section">24.4.3 </span>Registering Database Vault Local Users to Manage Specific PDBs
                  </h4>
                  <div>
                     <p>In a multitenant environment, you must register Oracle Database Vault in the root first, and then in the PDBs afterward.</p>
                     <div class="p">If you try to register in a PDB first, then an <code class="codeph">ORA-47503: Database Vault is not enabled on CDB$ROOT</code> error appears.
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In a multitenant environment, log into the PDB as a user who has privileges to create users and to grant the <code class="codeph">CREATE SESSION</code> and <code class="codeph">SET CONTAINER</code> privileges.</span><div>For example:<pre class="pre codeblock"><code>sqlplus sec_admin@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password
</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If you are not using existing local user named accounts for the new Database Vault roles, create new named local user accounts. </span><div>In both cases, you must create backup accounts to hold the Database Vault roles in case the named user loses or forgets their password.</div>
                           <div><pre class="pre codeblock"><code>GRANT CREATE SESSION, SET CONTAINER TO sec_admin_owen IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO dbv_owner_backup IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO accts_admin_ace IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION, SET CONTAINER TO dbv_acctmgr_backup IDENTIFIED BY <span class="italic">password</span>;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that you have registered Oracle Database Vault in the CDB root.</span><div>Temporarily connect to the root and then query the <code class="codeph">DBA_DV_STATUS</code> view. <pre class="pre codeblock"><code>CONNECT SYS / AS SYSDBA
Enter password: <span class="italic">password
</span>
SELECT * FROM DBA_DV_STATUS;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege. </span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>While still in the PDB, configure the two backup Database Vault user accounts. </span><div><pre class="pre codeblock"><code>BEGIN
 CONFIGURE_DV (
   dvowner_uname         =&gt; 'dbv_owner_backup',
   dvacctmgr_uname       =&gt; 'dbv_acctmgr_backup');
 END;
/
</code></pre><p>In this example, the <code class="codeph">force_local_dvowner</code> parameter is omitted because it is unnecessary. Database Vault roles are granted locally when configured in a PDB.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">utlrp.sql</code> script to recompile invalidated objects in this PDB. </span><div><pre class="pre codeblock"><code>@?/rdbms/admin/utlrp.sql</code></pre><p>If the script provides instructions, follow them, and then run the script again. If the script terminates abnormally without giving any instructions, run it again.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Connect to the PDB as the backup Database Vault Owner user that you just configured. </span><div>For example:<pre class="pre codeblock"><code>CONNECT dbv_owner_backup@<span class="italic">pdb_name</span>
Enter password: <span class="italic">password</span>
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enable Oracle Database Vault in this PDB.</span><div><pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_DV;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the CDB with the <code class="codeph">SYSDBA</code> administrative privilege.</span><div><pre class="pre codeblock"><code>CONNECT / AS SYSDBA</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Close and reopen the PDB. </span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> CLOSE IMMEDIATE;
ALTER PLUGGABLE DATABASE <span class="italic">pdb_name</span> OPEN;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Verify that the PDB is configured and enabled for Database Vault.</span><div><pre class="pre codeblock"><code>CONNECT SYS@<span class="italic">pdb_name</span> AS SYSDBA
Enter password: <span class="italic">password</span>

SELECT * FROM DBA_DV_STATUS;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role to the primary <code class="codeph">DV_OWNER</code> user that you created earlier.</span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT dbv_owner_backup
Enter password: <span class="italic">password</span>

GRANT DV_OWNER TO sec_admin_owen WITH ADMIN OPTION;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect as the backup <code class="codeph">DV_ACCTMGR</code> user and then grant the <code class="codeph">DV_ACCTMGR</code> role to the backup <code class="codeph">DV_ACCTMGR</code> user. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>CONNECT dbv_acctmgr_backup
Enter password: <span class="italic">password</span>

GRANT DV_ACCTMGR TO c##accts_admin_ace WITH ADMIN OPTION;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Store the two backup account passwords in a safe location such as a privileged account management (PAM) system in case they are needed in the future.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-54699671-483A-49EF-B900-81D286845E8E" name="GUID-54699671-483A-49EF-B900-81D286845E8E"></a><h4 id="MULTI-GUID-54699671-483A-49EF-B900-81D286845E8E" class="sect4"><span class="enumeration_section">24.4.4 </span>Plugging in a Database Vault-Enabled PDB
                  </h4>
                  <div>
                     <p>From SQL*Plus, in a multitenant environment, you can plug in a database that already has Database Vault enabled. </p>
                     <p>In this scenario, the plugged in database has its own local Database Vault accounts. Be aware that if you plug a Database Vault-enabled database into a CDB that is not Database Vault enabled, then the PDB will remain in restricted mode until you enable Database Vault in the CDB and then restart the CDB. If you plug a non-Database Vault-enabled PDB into a CDB that is Database Vault enabled, then the PDB remains in restricted mode until you enable Database Vault in the PDB and then restart the PDB. This plugged in non-Database Vault enabled PDB can still be used. However, if the CDB is Database Vault enabled with the strict option set, then the PDB must be Database Vault enabled.</p>
                     <p>Before you plug in a Database Vault-enabled PDB and if the Database Vault roles are granted to common users, ensure that you understand fully how plugging in PDBs affect common users.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG-GUID-81D0494C-E838-4DD9-AC82-B56473F98D06" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260" name="GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260"></a><h4 id="MULTI-GUID-9D1223B5-3B22-4343-B9DA-05B4BC72F260" class="sect4"><span class="enumeration_section">24.4.5 </span>Manually Installing Oracle Database Vault in a Multitenant Environment
                  </h4>
                  <div>
                     <p>Under certain conditions, for a multitenant environment, you must manually install Oracle Database Vault. For example, a release 11g Oracle database without Database Vault is upgraded to release 12c, then converted to a PDB to be plugged into a 12c Database Vault-enabled database.</p>
                     <div class="section">You must manually install Oracle Database Vault (and Oracle Label Security) in a PDB if this PDB does not have these products when the PDB has been plugged into a CDB where Database Vault and Label Security are installed.</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>As user who has been granted the <code class="codeph">SYSDBA</code> administrative privilege, log in to the PDB in which you want to install Oracle Database Vault. </span><div>
                              <p>For example, to log in to a PDB named <code class="codeph">hr_pdb</code>:
                              </p><pre class="pre codeblock"><code>sqlplus sec_admin@hr_pdb as sysdba
Enter password: <span class="italic">password</span></code></pre><p>To find the available PDBs, run the <code class="codeph">show pdbs</code> command. To check the current PDB, run the <code class="codeph">show con_name</code> command.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If necessary, check if Oracle Database Vault and Oracle Label Security are already installed on this PDB.</span><div>If the <code class="codeph">DVSYS</code> account (for Database Vault) and the <code class="codeph"> LBACSYS</code> account (for Label Security) exist, then Database Vault and Label Security exist on the PDB. 
                           </div>
                           <div><pre class="pre codeblock"><code>SELECT USERNAME FROM DBA_USERS WHERE USERNAME IN ('DVSYS', 'LBACSYS');</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>If neither Database Vault nor Label Security have been installed, then install Oracle Label Security by executing the <code class="codeph">catols.sql</code> script.</span><div><pre class="pre codeblock"><code>@$ORACLE_HOME/rdbms/admin/catols.sql</code></pre><p>Oracle Label Security must be installed before you can install Oracle Database Vault.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Install Oracle Database Vault by executing the <code class="codeph">catmac.sql</code> script.</span><div><pre class="pre codeblock"><code>@$ORACLE_HOME/rdbms/admin/catmac.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>At the <code class="codeph">Enter value for 1</code> prompt, enter <code class="codeph">SYSTEM</code> as the tablespace to install <code class="codeph">DVSYS</code>.</span></li>
                        <li class="stepexpand"><span>At the <code class="codeph">Enter value for 2</code> prompt, enter the temporary tablespace for the PDB.</span></li>
                     </ol>
                     <div class="section">After the installation is complete, you can register Oracle Database Vault in the PDB. If Database Vault is not registered in the CDB already, you must close the PDB before you can register Database Vault in the CDB root. Database Vault must be registered in CDB root before it can be registered in the PDB. After Database Vault is registered in the CDB root and the database has been restarted, then you can open the PDB and register Database Vault.</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dvadm/getting-started-with-oracle-database-vault.html#DVADM-GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-68558E32-ABD0-4495-8677-4F9E09283E5D" title="You can register Oracle Database Vault in a multitenant environment based on several scenarios.">Registering Oracle Database Vault with an Oracle Database in a Multitenant Environment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" name="GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6"></a><h3 id="MULTI-GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" class="sect3"><span class="enumeration_section">24.5 </span>Configuring Realms
               </h3>
               <div>
                  <p>You can create a realm around database objects to protect them, and then set authorizations to control user access to this data. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-D200353D-D15B-46AE-82DA-FE874D24800C">What Are Realms?</a><br>Realms enable you to protect database objects, including specific object types. 
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-DA60AF6B-D669-4E17-94B4-043BB41FC673">Realm Authorizations in a Multitenant Environment</a><br>In a multitenant environment, the rules and behavior for common realm authorizations are similar to the authorizations for other common objects. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-D200353D-D15B-46AE-82DA-FE874D24800C" name="GUID-D200353D-D15B-46AE-82DA-FE874D24800C"></a><h4 id="MULTI-GUID-D200353D-D15B-46AE-82DA-FE874D24800C" class="sect4"><span class="enumeration_section">24.5.1 </span>What Are Realms?
                  </h4>
                  <div>
                     <p>Realms enable you to protect database objects, including specific object types. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0">About Realms</a><br>A realm is a grouping of database schemas, database objects, and database roles that must be secured for a given application. 
                        </li>
                        <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-72403156-3E91-43FD-8D06-859DBBC10568">Realms in a Multitenant Environment</a><br>In a multitenant environment, you can create a realm to protect common objects in the application root.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" title="You can create a realm around database objects to protect them, and then set authorizations to control user access to this data.">Configuring Realms</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0" name="GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0"></a><h5 id="MULTI-GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0" class="sect5"><span class="enumeration_section">24.5.1.1 </span>About Realms
                     </h5>
                     <div>
                        <p>A realm is a grouping of database schemas, database objects, and database roles that must be secured for a given application. </p>
                        <p>Think of a realm as zone of protection for your database objects. A schema is a logical collection of database objects such as tables, views, and packages, and a role is a collection of privileges. By arranging schemas and roles into functional groups, you can control the ability of users to use system privileges against these groups and prevent unauthorized data access by the database administrator or other powerful users with system privileges. Oracle Database Vault does not replace the discretionary access control model in the existing Oracle database. It functions as a layer on top of this model for both realms and command rules.</p>
                        <p>Oracle Database Vault provides two types of realms: regular and mandatory. Both realm types can protect either an entire schema or crucial objects within a schema selectively, such as tables and indexes. With a regular realm, an object owner or users who has been granted object privileges can perform queries or DML operations without realm authorization but must have realm authorization to perform DDL operations. A mandatory realm provides stronger protection for objects within a realm. Mandatory realms block both object privilege-based and system privilege-based access and will not allow users with object privileges to perform queries, DML, or DDL operations without realm authorization. In other words, even an object owner cannot access his or her own objects without proper realm authorization if the objects are protected by mandatory realms.</p>
                        <p>For databases that use Oracle Flashback Technology, then both regular and mandatory realms will enforce the same behavior for a flashback table. Users can execute a <code class="codeph">FLASHBACK TABLE</code> SQL statement on a realm-protected table if the user is authorized to the realm.
                        </p>
                        <p>For databases that use Information Lifecycle Management (ILM), a Database Vault administrator can use the <code class="codeph">DBMS_MACADM.AUTHORIZE_MAINTENANCE_USER</code> and <code class="codeph">DBMS_MACADM.UNAUTHORIZE_MAINTENANCE_USER</code> procedure to control who can perform ILM operations on realm-protected objects.
                        </p>
                        <p>You can register schemas, all objects of a certain type in a schema, or individual objects within a schema into a realm. After you create a realm, you can register a set of schema objects or roles (secured objects) for realm protection and authorize a set of users or roles to access the secured objects. Objects that are protected by a regular realm allow DML access to users who have direct object grants. </p>
                        <p>For example, you can create a realm to protect all existing database schemas that are used in an accounting department. The realm prohibits any user who is not authorized to the realm to use system privileges to access the secured accounting data. When an entire schema is protected, all objects in the schema are protected, including tables, indexes, procedures and other objects.</p>
                        <p>You can run reports on realms that you create in Oracle Database Vault. You can use simulation mode during development, test, and even production phases to log only realm violations instead of blocking access. This enables you to quickly test applications using Database Vault realms.</p>
                        <p>You can configure realms by using the Oracle Database Vault Administrator pages in Oracle Enterprise Manager Cloud Control. Alternatively, you can configure realms by using the PL/SQL interfaces and packages provided by Oracle Database Vault.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-D200353D-D15B-46AE-82DA-FE874D24800C" title="Realms enable you to protect database objects, including specific object types.">What Are Realms?</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-72403156-3E91-43FD-8D06-859DBBC10568" name="GUID-72403156-3E91-43FD-8D06-859DBBC10568"></a><h5 id="MULTI-GUID-72403156-3E91-43FD-8D06-859DBBC10568" class="sect5"><span class="enumeration_section">24.5.1.2 </span>Realms in a Multitenant Environment
                     </h5>
                     <div>
                        <p>In a multitenant environment, you can create a realm to protect common objects in the application root.</p>
                        <p>The advantage of creating a realm in the application root instead of creating a large number objects and realms around these objects within individual pluggable databases (PDBs) is that you can create them in one place, the application root. This way, you can manage them centrally.</p>
                        <p>You cannot create a common realm in the CDB root. </p>
                        <p>A Database Vault common realm can be either a regular realm or a mandatory realm. The realm protects only objects within the application root, not local objects in a PDB. The CDB root, application root, and any affected PDBs all must be Database Vault enabled. </p>
                        <p>To configure a common realm, you must be commonly granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role. To grant common authorizations for a common realm, you must be in the application root. To propagate the realm to the PDBs that are associated with the application root, you must synchronize the application root. For example, to synchronize an application called <code class="codeph">saas_sales_app</code></p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;</code></pre></div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../dvadm/configuring-realms.html#DVADM-GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-D200353D-D15B-46AE-82DA-FE874D24800C" title="Realms enable you to protect database objects, including specific object types.">What Are Realms?</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-DA60AF6B-D669-4E17-94B4-043BB41FC673" name="GUID-DA60AF6B-D669-4E17-94B4-043BB41FC673"></a><h4 id="MULTI-GUID-DA60AF6B-D669-4E17-94B4-043BB41FC673" class="sect4"><span class="enumeration_section">24.5.2 </span>Realm Authorizations in a Multitenant Environment
                  </h4>
                  <div>
                     <p>In a multitenant environment, the rules and behavior for common realm authorizations are similar to the authorizations for other common objects. </p>
                     <p><span class="bold">Local Authorization for a Common Realm</span></p>
                     <p>The local authorization for a common realm refers to the authorization a user has for the PDB that this user is accessing. </p>
                     <p>The rules for the local authorization for a common realm are as follows: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A user who has been commonly granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role can grant local authorization to common users, common roles, local users, and local roles. The common <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> user can also remove local authorization from a common realm in a PDB.
                           </p>
                        </li>
                        <li>
                           <p>A local Database Vault administrator can authorize locally (that is, grant local authorizations to both local and common users) within the PDB. A common Database Vault administrator can also grant authorizations in each PDB. A common realm authorization can only be granted by a common Database Vault administrator in the application root. </p>
                        </li>
                        <li>
                           <p>The common Database Vault administrator can both add or remove local authorization to and from a common realm from within the PDB.</p>
                        </li>
                        <li>
                           <p> If a common user has only local authorization for a common realm, then this user cannot access the common realm in any other PDB than this local authorization. </p>
                        </li>
                        <li>
                           <p>A common user or a common role can have both the local authorization and the common authorization to a common realm at the same time. Removing a common user’s local authorization from a common realm does not affect the common user’s common authorization. Removing a common user’s common authorization from a common realm does not affect the common user’s local authorization. </p>
                        </li>
                     </ul>
                     <p><span class="bold">Common Authorization for a Common Realm</span></p>
                     <p>The common authorization for a common realm refers to the authorization a common user or a common role has in the application root while the authorization takes effect in every container that is Database Vault enabled.</p>
                     <p>The rules for the local authorization for a common realm are as follows: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A user who has been commonly granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role can grant common realm authorization to common users or roles in the application root. This common Database Vault administrator can perform the removal of common authorizations while in the application root.
                           </p>
                        </li>
                        <li>
                           <p>This common authorization applies to the containers that have been Database Vault enabled in the CDB. </p>
                        </li>
                        <li>
                           <p>If a common user is authorized to a common realm in the application root, then this user has access to the objects protected by the common realm in the application root and any application PDBs.</p>
                        </li>
                        <li>
                           <p>Any rule sets that are associated with a common realm must be common rule sets. The rules that are added to a common rule set that is associated with common authorization cannot involve any local objects. </p>
                        </li>
                     </ul>
                     <p><span class="bold">How the Authorization of a Realm Works in Both the Application Root and in an Individual PDB</span></p>
                     <p>During the Database Vault enforcement in a container, a common realm performs the same enforcement behaviors as the same realm when it is used locally in a PDB. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" title="You can create a realm around database objects to protect them, and then set authorizations to control user access to this data.">Configuring Realms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" name="GUID-6308CB8B-6777-44AF-A523-F1A956591F6D"></a><h3 id="MULTI-GUID-6308CB8B-6777-44AF-A523-F1A956591F6D" class="sect3"><span class="enumeration_section">24.6 </span>Rule Sets and Rules in a Multitenant Environment
               </h3>
               <div>
                  <p>In a multitenant environment, you can create a rule set and its associated rules in the application root.</p>
                  <p>A common realm must use a common rule set when the associated realm or command rule is evaluated by Database Vault. The common rule set and its rules can only be created in the application root. After the common rule set is created, it exists in every container that is associated with the root where the common rule set is created. The common rule set can only include common rules.</p>
                  <p>To configure a common rule set and its rules, you must be commonly granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="using-oracle-database-vault-with-a-cdb.html#GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" title="In a multitenant environment, you can create common and local command rules in either the CDB root or the application root.">Command Rules in a Multitenant Environment</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" name="GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84"></a><h3 id="MULTI-GUID-571C5AF1-909C-4A76-BE2B-9BAC5232FE84" class="sect3"><span class="enumeration_section">24.7 </span>Command Rules in a Multitenant Environment
               </h3>
               <div>
                  <p>In a multitenant environment, you can create common and local command rules in either the CDB root or the application root.</p>
                  <p>Common command rules can be associated only with common realms, rule sets, and rules. Local command rules can be associated only with local realm, rule sets, and rules.</p>
                  <p>To apply these command rules to the entire multitenant environment, you must execute the command rule procedures from the CDB root or application root as a common user who has been granted the <code class="codeph">DVADM</code> or <code class="codeph">DVOWNER</code> role. A common command rule that is created in the CDB root will be applied to all PDBs in that CDB environment. A common command rule that is created in the application root will only be applied to the PDBs that are associated with this application root. To propagate the command rule to the PDBs that are associated with the CDB root or application root, you must synchronize the PDB. For example, to synchronize an application root called <code class="codeph">saas_sales_app</code> to its application PDBs:
                  </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION saas_sales_app SYNC;</code></pre><p>To synchronize a common command rule in the CDB root to a PDB:</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE APPLICATION APP$CDB$SYSTEM SYNC;</code></pre><p>You can check a user’s roles by querying the <code class="codeph">USER_ROLE_PRIVS</code> data dictionary view. To find information about command rules, query the <code class="codeph">DBA_DV_COMMAND_RULE</code> data dictionary view.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-07513135-CB45-4788-A596-E5A71879BB81" name="GUID-07513135-CB45-4788-A596-E5A71879BB81"></a><h3 id="MULTI-GUID-07513135-CB45-4788-A596-E5A71879BB81" class="sect3"><span class="enumeration_section">24.8 </span>Oracle Database Vault Policies in a Multitenant Environment
               </h3>
               <div>
                  <p>Oracle Database Vault policies are only local to the pluggable database (PDB) in which they were created. </p>
                  <p>That is, if you created the policy in a PDB, then only local realms and command rules can be added to it. You cannot create Database Vault policies that can have common realms or common command rules. </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" name="GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F"></a><h3 id="MULTI-GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" class="sect3"><span class="enumeration_section">24.9 </span>Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data
               </h3>
               <div>
                  <p>You can control PDB access by CDB root common users, such as infrastructure database administrators.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-1A67C2FE-A83C-4B5F-AB2E-1A7E96922064">About Using Database Vault Operations Control</a><br>You can automatically restrict common users from accessing pluggable database (PDB) local data in autonomous, regular Cloud, or on-premise environments. 
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3">Enabling Database Vault Operations Control</a><br>To enable Database Vault operations control, use the <code class="codeph">DBMS_MACADM.ENABLE_APP_PROTECTION</code> PL/SQL procedure.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-00868C98-FC37-49BC-B867-558B9FB27B6A">Adding Common Users and Packages to an Exception List</a><br>Common users and applications that must access PDB local data can be added to an exception list.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-57584CE8-8BC0-40DA-A446-A45AFF882726">Deleting Common Users and Packages from an Exception List</a><br>Users and applications that no longer need to access PDB local data can be removed from the exception list.
                     </li>
                     <li class="ulchildlink"><a href="using-oracle-database-vault-with-a-cdb.html#GUID-D23A52A4-0556-4F71-9157-6CC081EF7819">Disabling Database Vault Operations Control</a><br>To disable Database Vault operations control, use the <code class="codeph">DBMS_MACADM.DISABLE_APP_PROTECTION</code> PL/SQL procedure.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM-GUID-17665902-E9F9-479A-B60A-29853672BB2B" target="_blank">DBA Operations in an Oracle&nbsp;Database&nbsp;Vault&nbsp;Environment<span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1A67C2FE-A83C-4B5F-AB2E-1A7E96922064" name="GUID-1A67C2FE-A83C-4B5F-AB2E-1A7E96922064"></a><h4 id="MULTI-GUID-1A67C2FE-A83C-4B5F-AB2E-1A7E96922064" class="sect4"><span class="enumeration_section">24.9.1 </span>About Using Database Vault Operations Control
                  </h4>
                  <div>
                     <p>You can automatically restrict common users from accessing pluggable database (PDB) local data in autonomous, regular Cloud, or on-premise environments. </p>
                     <p>To accomplish this, you can use Oracle Database Vault operations control, which applies to common users (such as infrastructure database administrators and applications.</p>
                     <p>Database Vault operations control is useful for situations where a database administrator must log in to the CDB root as a highly privileged user, but still not be able to access PDB customer data. Database operations control does not block PDB database administrators. To block these users, enable Oracle Database Vault in the PDB and then use the Database Vault features such as realm control to block these users. </p>
                     <p>You can create an exception list for Database Vault operations control of common users and packages for situations where a common user or application must perform tasks that must access local data on a PDB. An example of the type of common user that you would specify for the exception list is the <code class="codeph">CTXSYS</code> application account, which is responsible for Oracle Text. Specifying a package in an exception list enables you to apply more fine-grained control instead of providing full access to a user in an exception list.
                     </p>
                     <p>The general process for using Database Vault operations control is as follows: </p>
                     <ol id="GUID-1A67C2FE-A83C-4B5F-AB2E-1A7E96922064__OL_JMR_TFW_Q2B">
                        <li>Enable Database Vault operations control and keep it enabled for the production environment. </li>
                        <li>At this stage Database Vault operations control applies to all PDBs in the environment, regardless of whether the PDB has enabled Database Vault or not.</li>
                        <li>To enable specific users and packages to have access to the local schemas of the PDBs, add them to an exception list. When the user or package no longer needs access, then you can remove them from the exception list. For example, if the database is using Oracle Text, then you can add the <code class="codeph">CTXSYS</code> administrative user account and the package to the exception list. 
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" title="You can control PDB access by CDB root common users, such as infrastructure database administrators.">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3" name="GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3"></a><h4 id="MULTI-GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3" class="sect4"><span class="enumeration_section">24.9.2 </span>Enabling Database Vault Operations Control
                  </h4>
                  <div>
                     <p>To enable Database Vault operations control, use the <code class="codeph">DBMS_MACADM.ENABLE_APP_PROTECTION</code> PL/SQL procedure.
                     </p>
                     <div class="section">
                        <p>Oracle recommends that if you elect to use Database Vault operations control for your multitenant production server, then you should keep Database Vault operations control enabled full time.</p> In most cases, you will enable Database Operations control for the entire CDB, not just a specific PDB. If you need to disable it for a specific PDB (for example, for troubleshooting purposes), then you can execute the <code class="codeph">DBMS_MACADM.DISABLE_APP_PROTECTION</code> procedure on the PDB. When you are finished troubleshooting the PDB, re-enable it for Database Vault operations control, as shown in the example in this topic.
                     </div>
                     <!-- class="section" -->
                     <div class="p">Before you enable Database Vault operations control, Database Vault must be enabled and configured in the CDB root. However, Database Vault does not need to be enabled in the PDBs. </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the CDB root as a common user who has been granted the <code class="codeph">DV_OWNER</code> role. </span><div>For example:<pre class="pre codeblock"><code>sqlplus c##sec_admin_owen_root
Enter password: <span class="italic">password</span>  </code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">DBMS_MACADM.ENABLE_APP_PROTECTION</code> procedure. </span><ul id="GUID-9CC9C99D-7168-4C39-8380-81C1CBF1E8C3__CHOICES_YPW_BBS_R2B">
                              <li>To enable Database Vault operations control for all PDBs in the CDB environment: <pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_APP_PROTECTION;</code></pre></li>
                              <li>To enable Database Vault operations control for a specific PBB (for example, <code class="codeph">HRPDB</code>):<pre class="pre codeblock"><code>EXEC DBMS_MACADM.ENABLE_APP_PROTECTION ('HRPDB');</code></pre></li>
                           </ul>
                        </li>
                     </ol>
                     <div class="section">At this stage, one or all of the PDBs are enabled for Database Vault operations control. If specific trusted common users or packages must have access to the local schemas of these PDBs to perform special operations, then you can use the <code class="codeph">DBMS_MACADM.ADD_APP_EXCEPTION</code> procedure to add the user or package to an exception list for Database Vault operations control. 
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM-GUID-00868C98-FC37-49BC-B867-558B9FB27B6A" target="_blank">Adding Common Users and Packages to an Exception List<span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" title="You can control PDB access by CDB root common users, such as infrastructure database administrators.">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-00868C98-FC37-49BC-B867-558B9FB27B6A" name="GUID-00868C98-FC37-49BC-B867-558B9FB27B6A"></a><h4 id="MULTI-GUID-00868C98-FC37-49BC-B867-558B9FB27B6A" class="sect4"><span class="enumeration_section">24.9.3 </span>Adding Common Users and Packages to an Exception List
                  </h4>
                  <div>
                     <p>Common users and applications that must access PDB local data can be added to an exception list.</p>
                     <div class="section">Add a user package to the exception list if the package is the only object in the user account that needs access to the PDB local data. This allows for fine grained control over what is put into the exception list. The kinds of common users and packages that you would add to the exception list are ones that are necessary for the functioning of the PDB. For example, if you are using Oracle Spatial, then you should add the <code class="codeph">MDSYS</code> account to the exception list. <code class="codeph">MDSYS</code> requires access to customer PDB data for Oracle Spatial functions. To add a common user and a package to the Database Vault operations control exception list, you can use the <code class="codeph">DBMS_MACADM.ADD_APP_EXCEPTION</code> PL/SQL procedure. To find existing exceptions, you can query the <code class="codeph">DBA_DV_APP_EXCEPTION</code> data dictionary view. 
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the CDB root as a common user who has been granted the <code class="codeph">DV_OWNER</code> role. </span><div>For example:<pre class="pre codeblock"><code>qlplus c##sec_admin_owen_root
Enter password: <span class="italic">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that the package that you will specify for the common user meets the following requirements:</span><div>
                              <ul style="list-style-type: disc;" id="GUID-00868C98-FC37-49BC-B867-558B9FB27B6A__UL_RMR_XVN_S2B">
                                 <li>The package must be owned by the common user. </li>
                                 <li>A user-created package must be created with definer's rights procedures. </li>
                              </ul>
                              <p>You can find more information about user-created packages by querying the <code class="codeph">DBA_OBJECTS</code> data dictionary view.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">DBMS_MACADM.ADD_APP_EXCEPTION</code> procedure. </span><div>For example:<pre class="pre codeblock"><code>DBMS_MACADM.ADD_APP_EXCEPTION ('MDSYS', 'PATCH_APP'); </code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" title="You can control PDB access by CDB root common users, such as infrastructure database administrators.">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-57584CE8-8BC0-40DA-A446-A45AFF882726" name="GUID-57584CE8-8BC0-40DA-A446-A45AFF882726"></a><h4 id="MULTI-GUID-57584CE8-8BC0-40DA-A446-A45AFF882726" class="sect4"><span class="enumeration_section">24.9.4 </span>Deleting Common Users and Packages from an Exception List
                  </h4>
                  <div>
                     <p>Users and applications that no longer need to access PDB local data can be removed from the exception list.</p>
                     <div class="section">To remove a common user and a package from the Database Vault operations control exception list, you can use the <code class="codeph">DBMS_MACADM.DELETE_APP_PROTECTION</code> PL/SQL procedure. To find existing exceptions, you can query the <code class="codeph">DBA_DV_APP_EXCEPTION</code> data dictionary view. 
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the CDB root as a common user who has been granted the <code class="codeph">DV_OWNER</code> role. </span><div>For example:<pre class="pre codeblock"><code>sqlplus c##sec_admin_owen_root
Enter password: <span class="italic">password</span>  </code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">DBMS_MACADM.DELETE_APP_EXCEPTION</code> procedure. </span><div>For example:<pre class="pre codeblock"><code>DBMS_MACADM.DELETE_APP_EXCEPTION ('MDSYS', 'PATCH_APP'); </code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" title="You can control PDB access by CDB root common users, such as infrastructure database administrators.">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-D23A52A4-0556-4F71-9157-6CC081EF7819" name="GUID-D23A52A4-0556-4F71-9157-6CC081EF7819"></a><h4 id="MULTI-GUID-D23A52A4-0556-4F71-9157-6CC081EF7819" class="sect4"><span class="enumeration_section">24.9.5 </span>Disabling Database Vault Operations Control
                  </h4>
                  <div>
                     <p>To disable Database Vault operations control, use the <code class="codeph">DBMS_MACADM.DISABLE_APP_PROTECTION</code> PL/SQL procedure.
                     </p>
                     <div class="section">In most cases, you should keep Database Vault operations control enabled. If troubleshooting requires that a PDB be dropped from Database Vault operations control, then Oracle recommends that you temporarily disable Database Vault operations control for the PDB (and maintain operations control for the rest of the PDBs). After the troubleshooting is complete, then you should re-enable Database Vault operations control. </div>
                     <!-- class="section" -->
                     <ol id="GUID-D23A52A4-0556-4F71-9157-6CC081EF7819__STEPS_HFJ_TSX_Q2B">
                        <li class="stepexpand"><span>Log in to the CDB root as a common user who has been granted the <code class="codeph">DV_OWNER</code> role. </span><div>For example:<pre class="pre codeblock"><code>sqlplus c##sec_admin_owen_root
Enter password: <span class="italic">password</span>  </code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">DBMS_MACADM.DISABLE_APP_PROTECTION</code> procedure. </span><ul id="GUID-D23A52A4-0556-4F71-9157-6CC081EF7819__CHOICES_YPW_BBS_R2B">
                              <li>To disable Database Vault operations control for all PDBs in the CDB environment: <pre class="pre codeblock"><code>EXEC DBMS_MACADM.DISABLE_APP_PROTECTION;</code></pre></li>
                              <li>To disable Database Vault operations control for a specific PBB (for example, <code class="codeph">HRPDB</code>):<pre class="pre codeblock"><code>EXEC DBMS_MACADM.DISABLE_APP_PROTECTION ('HRPDB');</code></pre></li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-E04CBDD1-17F0-4942-BF78-21C340A4425F" title="You can control PDB access by CDB root common users, such as infrastructure database administrators.">Using Database Vault Operations Control to Restrict Multitenant Common User Access to Local PDB Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-517E9611-546B-43D9-8C54-37037AF0B198" name="GUID-517E9611-546B-43D9-8C54-37037AF0B198"></a><h3 id="MULTI-GUID-517E9611-546B-43D9-8C54-37037AF0B198" class="sect3"><span class="enumeration_section">24.10 </span>Converting a Standalone Oracle Database to a PDB and Plugging It into a CDB
               </h3>
               <div>
                  <p>You can convert a standalone Oracle Database Release 12c or later database to a PDB, and then plug this PDB into a CDB.</p>
                  <ol>
                     <li class="stepexpand"><span>Connect to the root as a user who has been granted the <code class="codeph">DV_OWNER</code> role.</span><div>
                           <p>For example: </p><pre class="pre codeblock"><code>sqlplus c##sec_admin
Enter password: <span class="italic">password</span>
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Grant the <code class="codeph">DV_PATCH_ADMIN</code> role to user <code class="codeph">SYS</code> with <code class="codeph">CONTAINER = CURRENT</code>. </span><div><pre class="pre codeblock"><code>GRANT DV_PATCH_ADMIN TO SYS CONTAINER = CURRENT;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>In the root, connect as user <code class="codeph">SYS</code> with the <code class="codeph">SYSOPER</code> system privilege. </span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>CONNECT SYS AS SYSOPER <span class="italic">-- Or, CONNECT SYS@hrpdb AS SYSOPER</span>
Enter password: <span class="italic">password</span>
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Restart the database in read-only mode. </span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>SHUTDOWN IMMEDIATE
STARTUP MOUNT
ALTER DATABASE OPEN READ ONLY
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect to the Database Vault-enabled database as a user who has the <code class="codeph">DV_OWNER</code> role. </span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>CONNECT sec_admin@dv_db
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Grant the <code class="codeph">DV_PATCH_ADMIN</code> role to user <code class="codeph">SYS</code> on this database.</span><div><pre class="pre codeblock"><code>GRANT DV_PATCH_ADMIN TO SYS;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Optionally, run the <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code> function to determine whether the unplugged PDB is compatible with the CDB.</span><div>
                           <p>When you run the function, set the following parameters:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">pdb_descr_file</code>: Set this parameter to the full path to the XML file that will contain a description of the PDB.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">store_report</code>: Set this parameter to indicate whether you want to generate a report if the PDB is not compatible with the CDB. Set it to <code class="codeph">TRUE</code> to generate a report or <code class="codeph">FALSE</code> to not generate a report. A generated report is stored in the <code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> temporary table and is generated only if the PDB is not compatible with the CDB.
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to determine whether a PDB described by the <code class="codeph">/disk1/usr/dv_db_pdb.xml</code> file is compatible with the current CDB, run the following PL/SQL block:
                           </p><pre class="pre codeblock"><code>SET SERVEROUTPUT ON
DECLARE
  compatible CONSTANT VARCHAR2(3) := 
    CASE DBMS_PDB.CHECK_PLUG_COMPATIBILITY(
           pdb_descr_file =&gt; '/disk1/usr/dv_db_pdb.xml',
           store_report   =&gt; TRUE)
    WHEN TRUE THEN 'YES'
    ELSE 'NO'
END;
BEGIN
  DBMS_OUTPUT.PUT_LINE(compatible);
END;
/
</code></pre><p>If the output is <code class="codeph">YES</code>, then the PDB is compatible, and you can continue with the next step.
                           </p>
                           <p>If the output is <code class="codeph">NO</code>, then the PDB is not compatible. You can check the <code class="codeph">PDB_PLUG_IN_VIOLATIONS</code> temporary table to see why it is not compatible.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Create an XML file that describes the PDB. </span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>BEGIN
  DBMS_PDB.DESCRIBE(
    pdb_descr_file =&gt; '/disk1/oracle/dv_db.xml');
END;
/
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, and specify the XML file in the <code class="codeph">USING</code> clause. Specify other clauses when they are required.</span><div>
                           <p>For example: </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE dv_db_pdb AS CLONE USING 'dv_db.xml' NOCOPY;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect to the PDB that you just created as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege. </span><div><pre class="pre codeblock"><code>CONNECT SYS@dv_db_pdb AS SYSDBA
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Execute the <code class="codeph">noncdb_to_pdb.sql</code> script.</span><div><pre class="pre codeblock"><code>@$ORACLE_HOME/rdbms/admin/noncdb_to_pdb.sql
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Open this PDB in a read/write restricted mode.</span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE dv_db_pdb OPEN READ WRITE RESTRICTED;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the following procedure to synchronize the PDB:</span><div><pre class="pre codeblock"><code>EXECUTE DBMS_PDB.SYNC_PDB;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect to the root as a user who has been granted the <code class="codeph">DV_OWNER</code> role. </span><div><pre class="pre codeblock"><code>sqlplus c##sec_admin
Enter password: <span class="italic">password</span>
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Revoke the <code class="codeph">DV_PATCH_ADMIN</code> role from user <code class="codeph">SYS</code> with <code class="codeph">CONTAINER = CURRENT</code>.</span><div><pre class="pre codeblock"><code>REVOKE DV_PATCH_ADMIN FROM SYS CONTAINER = CURRENT;
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Connect to the legacy Database Vault-enabled database as user <code class="codeph">SYS</code> with the <code class="codeph">SYSOPER</code> system privilege.</span><div><pre class="pre codeblock"><code>CONNECT SYS@dv_db_pdb AS SYSOPER
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Restart this database.</span><div>
                           <p>For example:</p><pre class="pre codeblock"><code>SHUTDOWN IMMMEDIATE
STARUP
</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>Revoke the <code class="codeph">DV_PATCH_ADMIN</code> role from user <code class="codeph">SYS</code>.</span><div><pre class="pre codeblock"><code>REVOKE DV_PATCH_ADMIN FROM SYS;</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-oracle-database-vault-with-a-cdb.html#GUID-5CD1D1E7-2435-4331-876F-34C5AE04BAD3" title="You can use Oracle Database Vault in a multitenant container database (CDB).">Using Oracle Database Vault with a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>