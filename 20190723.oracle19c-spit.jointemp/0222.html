<html id='03315.database-gateway-drda-initialization-parameters.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Initialization Parameters</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-drda-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T16:51:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18236-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="db2-data-dictionary.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for DRDA User's Guide">
    <meta name="dcterms.isVersionOf" content="DRDAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="db2-data-dictionary.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Initialization Parameters</li>
            </ol>
            <a id="GUID-D5965054-49C8-4D6A-91C3-C33BA2477434" name="GUID-D5965054-49C8-4D6A-91C3-C33BA2477434"></a><a id="DRDAG257"></a>
            
            <h2 id="DRDAG-GUID-D5965054-49C8-4D6A-91C3-C33BA2477434" class="sect2"><span class="enumeration_appendix">B </span> Initialization Parameters
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The Oracle database initialization parameters in the <code class="codeph">init.ora</code> file are distinct from gateway initialization parameters. Set the gateway parameters in the initialization parameter file using an agent-specific mechanism, or set them in the Oracle data dictionary using the <code class="codeph">DBMS_HS</code> package. <a id="d62447e26" class="indexterm-anchor"></a>The gateway initialization parameter file must be available when the gateway is started. Changes made to the initialization parameters only take effect in the next gateway session.
               </p>
               <p>The following sections contain a list of the gateway initialization parameters that can be set for each gateway and their description. It also describes the initialization parameter file syntax.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-drda-initialization-parameters.html#GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779">Initialization Parameter File Syntax</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-drda-initialization-parameters.html#GUID-74339239-67F9-4384-B598-848AF1E9B607">Oracle Database Gateway for DRDA Initialization Parameters</a></p>
                  </li>
               </ul>
            </div><a id="DRDAG258"></a><div class="props_rev_3"><a id="GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779" name="GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779"></a><h3 id="DRDAG-GUID-BCDB3471-A8D6-42AE-A946-5F8A7B942779" class="sect3">Initialization Parameter File Syntax</h3>
               <div>
                  <p>The syntax for the initialization parameter file is as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The file is a sequence of commands.</p>
                     </li>
                     <li>
                        <p>Each command should start on a separate line.</p>
                     </li>
                     <li>
                        <p>End of line is considered a command terminator (unless escaped with a backslash).</p>
                     </li>
                     <li>
                        <p>If there is a syntax error in an initialization parameter file, none of the settings take effect.</p>
                     </li>
                     <li>
                        <p>Set the parameter values as follows:</p><pre class="oac_no_warn" dir="ltr">[SET][PRIVATE] <span class="italic">parameter</span>=<span class="italic">value</span>
</pre><p>Where:</p>
                        <p><span class="italic"><code class="codeph">parameter</code></span> is an initialization parameter name. It is a string of characters starting with a letter and consisting of letters, digits and underscores. Initialization parameter names are case sensitive.
                        </p>
                        <p><span class="italic"><code class="codeph">value</code></span> is the initialization parameter value. It is case-sensitive. An initialization parameter value is either:
                        </p>
                        <ol>
                           <li>
                              <p>A string of characters that does not contain any backslashes, white space or double quotation marks (")</p>
                           </li>
                           <li>
                              <p>A quoted string beginning with a double quotation mark and ending with a double quotation mark. The following can be used inside a quoted string:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>backslash (\) is the escape character</p>
                                 </li>
                                 <li>
                                    <p>\n inserts a new line</p>
                                 </li>
                                 <li>
                                    <p>\t inserts a tab</p>
                                 </li>
                                 <li>
                                    <p>\" inserts a double quotation mark</p>
                                 </li>
                                 <li>
                                    <p>\\ inserts a backslash</p>
                                 </li>
                              </ul>
                              <p>A backslash at the end of the line continues the string on the next line. If a backslash precedes any other character then the backslash is ignored.</p>
                           </li>
                        </ol>
                        <p>For example, to enable tracing for an agent, set the <code class="codeph">HS_FDS_TRACE_LEVEL</code> initialization parameter as follows:
                        </p><pre class="oac_no_warn" dir="ltr"><a id="d62447e133" class="indexterm-anchor"></a>HS_FDS_TRACE_LEVEL=ON
</pre><p><code class="codeph">SET</code> and <code class="codeph">PRIVATE</code> are optional keywords. You cannot use either as an initialization parameter name. Most parameters are needed only as initialization parameters, so you usually do not need to use the <code class="codeph">SET</code> or <code class="codeph">PRIVATE</code> keywords. If you do not specify either <code class="codeph">SET</code> or <code class="codeph">PRIVATE</code>, the parameter is used only as an initialization parameter for the agent. 
                        </p>
                        <p><code class="codeph">SET</code> specifies that, in addition to being used as an initialization parameter, the parameter value is set as an environment variable for the agent process. Use <code class="codeph">SET</code> for parameter values that the drivers or non-Oracle system need as environment variables. 
                        </p>
                        <p><code class="codeph">PRIVATE</code> specifies that the initialization parameter should be private to the agent and should not be uploaded to the Oracle database. Most initialization parameters should not be private. If, however, you are storing sensitive information like a password in the initialization parameter file, then you may not want it uploaded to the server because the initialization parameters and values are not encrypted when uploaded. Making the initialization parameters private prevents the upload from happening and they do not appear in dynamic performance views. Use <code class="codeph">PRIVATE</code> for the initialization parameters only if the parameter value includes sensitive information such as a username or password.
                        </p>
                        <p><code class="codeph">SET PRIVATE</code> specifies that the parameter value is set as an environment variable for the agent process and is also private (not transferred to the Oracle database, not appearing in dynamic performance views or graphical user interfaces).
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="DRDAG259"></a><div class="props_rev_3"><a id="GUID-74339239-67F9-4384-B598-848AF1E9B607" name="GUID-74339239-67F9-4384-B598-848AF1E9B607"></a><h3 id="DRDAG-GUID-74339239-67F9-4384-B598-848AF1E9B607" class="sect3">Oracle Database Gateway for DRDA Initialization Parameters</h3>
               <div>
                  <p>This section lists all the initialization file parameters that can be set for the Oracle Database Gateway for DRDA. They are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708">HS_CALL_NAME </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-745689D2-4AD8-4DE7-B248-555E66DDC107">HS_DB_DOMAIN </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C">HS_DB_INTERNAL_NAME </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0">HS_DB_NAME </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0">HS_DESCRIBE_CACHE_HWM </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D">HS_LANGUAGE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-682005EB-0613-4072-A822-2D3450E23DF7">HS_LONG_PIECE_TRANSFER_SIZE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC">HS_OPEN_CURSORS  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3">HS_RPC_FETCH_REBLOCKING  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-168E698C-817E-4588-83F4-A54FE055D52E">HS_RPC_FETCH_SIZE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A">HS_TRANSACTION_MODEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248">IFILE </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B">HS_FDS_CONNECT_INFO</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0">HS_FDS_RECOVERY_ACCOUNT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F">HS_FDS_RECOVERY_PWD</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4">HS_FDS_FETCH_ROWS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8A213748-7B17-4345-BD90-7EE477748D25">HS_FDS_TRACE_LEVEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161">HS_FDS_TRANSACTION_LOG</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-F8956706-05E2-4368-939E-A1DC32009464">HS_IDLE_TIMEOUT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B">HS_FDS_MBCS_TO_GRAPHIC</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36">HS_FDS_GRAPHIC_TO_MBCS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5">HS_FDS_TIMESTAMP_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-A16B8C40-16B5-4949-9174-C38999964261">HS_FDS_DATE_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C">HS_FDS_QUOTE_IDENTIFIER</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-D725AE78-87E6-4C4B-9347-E60B4299E673">HS_FDS_CAPABILITY</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-C472E1CA-C253-48D1-A36F-31FD7788316A">HS_FDS_ISOLATION_LEVEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37">HS_FDS_PACKAGE_COLLID</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-DD412062-270D-4755-B6C6-B6688CFB52C5">HS_NLS_LENGTH_SEMANTICS </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5">HS_KEEP_REMOTE_COLUMN_SIZE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-01214441-BF61-4939-B0B5-41FA0923B40B">HS_FDS_RESULTSET_SUPPORT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB">HS_FDS_REMOTE_DB_CHARSET</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-03C36967-4A20-4613-A593-DCFB03EA5E17">HS_FDS_SUPPORT_STATISTICS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46">HS_FDS_RSET_RETURN_ROWCOUNT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1">HS_FDS_AUTHENTICATE_USER</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E">HS_FDS_ENCRYPT_SESSION</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A">HS_FDS_VALIDATE_SERVER_CERT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-B3096AFF-9484-44D0-8C16-E3106DC32444">HS_FDS_TRUSTSTORE_FILE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C">HS_FDS_TRUSTSTORE_PASSWORD</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92">HS_FDS_SQLLEN_INTERPRETATION</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-drda-initialization-parameters.html#GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435">HS_FDS_ARRAY_EXEC</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DRDAG261"></a><div class="props_rev_3"><a id="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708" name="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708"></a><h3 id="DRDAG-GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708" class="sect3">HS_CALL_NAME </h3>
               <div>
                  <div class="tblformal" id="GUID-8EC7FA69-CC12-47E9-9AFC-EB650D255708__GUID-03B6202C-1FD6-4B6F-A8A3-90D495395DD4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e438">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e441">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e446" headers="d62447e438 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e446 d62447e441 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e453" headers="d62447e438 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e453 d62447e441 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the remote functions that can be referenced in SQL statements. The value is a list of remote functions and their owners, separated by semicolons, in the following format:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">[owner_name.]function_name</span>
 </pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">owner1.A1;owner2.A2;A3 
</pre><p>If an owner name is not specified for a remote function, the default owner name becomes the user name used to connect to the remote database (specified when the Heterogeneous Services database link is created or taken from user session if not specified in the DB link).</p>
                     <p>The entries for the owner names and the function names are case-sensitive.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG262"></a><div class="props_rev_3"><a id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107" name="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107"></a><h3 id="DRDAG-GUID-745689D2-4AD8-4DE7-B248-555E66DDC107" class="sect3">HS_DB_DOMAIN </h3>
               <div>
                  <div class="tblformal" id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107__GUID-6DEB0A52-6731-4512-980A-617968C4E32D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e502">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e505">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e510" headers="d62447e502 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e510 d62447e505 ">
                                 <p><code class="codeph">WORLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e518" headers="d62447e502 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e518 d62447e505 ">
                                 <p>1 to 199 characters</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique network sub-address for a non-Oracle system. The <code class="codeph">HS_DB_DOMAIN</code> initialization parameter is similar to the <code class="codeph">DB_DOMAIN</code> initialization parameter, described in the <a href="../refrn/PARALLEL_MIN_PERCENT.html#REFRN10159" target="_blank"><span class="variable" translate="no">Oracle Database Reference</span></a>. The <code class="codeph">HS_DB_DOMAIN</code> initialization parameter is required if you use the Oracle Names server. The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters define the global name of the non-Oracle system.
                     </p>
                     <div class="infoboxnote" id="GUID-745689D2-4AD8-4DE7-B248-555E66DDC107__GUID-7CF4B1C9-1BB0-4FE7-BB4A-942EBEB59131">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters must combine to form a unique address in a cooperative server environment.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG263"></a><div class="props_rev_3"><a id="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C" name="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C"></a><h3 id="DRDAG-GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C" class="sect3">HS_DB_INTERNAL_NAME </h3>
               <div>
                  <div class="tblformal" id="GUID-845B1B16-185D-42BF-B5F8-C68B5ACFCD8C__GUID-1F51ED0C-E277-404C-8F42-C64BF9AAC406">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e585">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e588">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e593" headers="d62447e585 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e593 d62447e588 ">
                                 <p><code class="codeph">01010101</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e601" headers="d62447e585 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e601 d62447e588 ">
                                 <p>1 to 16 hexadecimal characters</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique hexadecimal number identifying the instance to which the Heterogeneous Services agent is connected. This parameter's value is used as part of a transaction ID when global name services are activated. Specifying a nonunique number can cause problems when two-phase commit recovery actions are necessary for a transaction.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG264"></a><div class="props_rev_3"><a id="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0" name="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0"></a><h3 id="DRDAG-GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0" class="sect3">HS_DB_NAME </h3>
               <div>
                  <div class="tblformal" id="GUID-E5A94A7F-08F1-43A6-A66E-2BB841E1C9C0__GUID-9F006C8B-19C7-4AC8-B8D8-58EBA8882EF5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e639">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e642">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e647" headers="d62447e639 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e647 d62447e642 ">
                                 <p><code class="codeph">HO</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e655" headers="d62447e639 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e655 d62447e642 ">
                                 <p>1 to 8 characters</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique alphanumeric name for the data store given to the non-Oracle system. This name identifies the <a id="d62447e664" class="indexterm-anchor"></a><a id="d62447e668" class="indexterm-anchor"></a>non-Oracle system within the cooperative server environment. The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters define the global name of the non-Oracle system. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG265"></a><div class="props_rev_3"><a id="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0" name="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0"></a><h3 id="DRDAG-GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0" class="sect3">HS_DESCRIBE_CACHE_HWM </h3>
               <div>
                  <div class="tblformal" id="GUID-397994A3-E67B-4B2E-9B04-8BCB0C31D8A0__GUID-E7D6DB6D-52B1-4679-ADC5-EB4938E72D89">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e705">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e708">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e713" headers="d62447e705 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e713 d62447e708 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e721" headers="d62447e705 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e721 d62447e708 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">4000</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e733" class="indexterm-anchor"></a><a id="d62447e735" class="indexterm-anchor"></a>Specifies the maximum number of entries in the describe cache used by Heterogeneous Services. This limit is known as the <a id="d62447e740" class="indexterm-anchor"></a>describe cache high water mark. The cache contains descriptions of the mapped tables that Heterogeneous Services reuses so that it does not have to re-access the non-Oracle data store. 
                     </p>
                     <p>If you are accessing many mapped tables, increase the high water mark to improve performance. Increasing the high water mark improves performance at the cost of memory usage. </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG266"></a><div class="props_rev_3"><a id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D" name="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D"></a><h3 id="DRDAG-GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D" class="sect3">HS_LANGUAGE  </h3>
               <div>
                  <div class="tblformal" id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D__GUID-E43C554A-A653-4085-9BC5-235BFA71AE84">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e783">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e786">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e791" headers="d62447e783 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e791 d62447e786 ">
                                 <p>System-specific</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e798" headers="d62447e783 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e798 d62447e786 ">
                                 <p>Any valid language name (up to 255 characters)</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Provides Heterogeneous Services with character set, language, and territory information of the non-Oracle data source. The value must use the following format:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">language</span>[_<span class="italic">territory</span>.<span class="italic">character_set</span>]</pre><div class="infoboxnote" id="GUID-65375111-5FD8-4504-BFC8-6F5296C1F02D__GUID-6721B5B1-FB25-4AEA-828C-63E4CB8824CF">
                        <p class="notep1">Note:</p>
                        <p>The globalization support initialization parameters affect error messages, the data for the SQL Service, and parameters in distributed external procedures. </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DRDAG267"></a><div class="props_rev_3"><a id="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039" name="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039"></a><h4 id="DRDAG-GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039" class="sect4">Character Sets</h4>
                  <div>
                     <p>Ideally, the character sets of the Oracle database and the non-Oracle data source are the same. In almost all cases, <code class="codeph">HS_LANGUAGE</code> should be set exactly the same as Oracle database character set for optimal character set mapping and performance. If they are not the same, Heterogeneous Services attempts to translate the character set of the non-Oracle data source to the Oracle database character set, and back again. The translation can degrade performance. In some cases, Heterogeneous Services cannot translate a character from one character set to another.
                     </p>
                     <div class="infoboxnote" id="GUID-3C51DF7C-03D9-4895-A17F-951CCF7E9039__GUID-05BD177D-9540-42D8-9E5C-B30BAE10C5C9">
                        <p class="notep1">Note:</p>
                        <p>The specified character set must be a superset of the operating system character set on the platform where the agent is installed.</p>
                     </div>
                     <p>As more Oracle databases and non-Oracle databases use Unicode as database character sets, it is preferable to also run the gateway in Unicode character set. To do so, you must set <code class="codeph">HS_LANGUAGE=AL32UTF8</code>. However, when the gateway runs on Windows, the Microsoft ODBC Driver Manager interface can exchange data only in the double-byte character set, UCS2. This results in extra ratio expansion of described buffer and column sizes. Refer to <a href="database-gateway-drda-initialization-parameters.html#GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB">HS_FDS_REMOTE_DB_CHARSET</a> for instruction on how to adjust to correct sizes.
                     </p>
                  </div>
               </div><a id="DRDAG268"></a><div class="props_rev_3"><a id="GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4" name="GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4"></a><h4 id="DRDAG-GUID-4AE644B3-7FDA-426F-A6F4-2B8E2973F5A4" class="sect4">Language</h4>
                  <div>
                     <p>The language component of the <code class="codeph">HS_LANGUAGE</code> initialization parameter determines:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Day and month names of dates</p>
                        </li>
                        <li>
                           <p>AD, BC, PM, and AM symbols for date and time</p>
                        </li>
                        <li>
                           <p>Default sorting mechanism</p>
                        </li>
                     </ul>
                     <p>Note that Oracle does not determine the language for error messages for the generic Heterogeneous Services messages (<code class="codeph">ORA-25000</code> through <code class="codeph">ORA-28000</code>). These are controlled by the session settings in the Oracle database.
                     </p>
                  </div>
               </div><a id="DRDAG269"></a><div class="props_rev_3"><a id="GUID-56DB1A6A-6051-41CE-931B-932BA868F191" name="GUID-56DB1A6A-6051-41CE-931B-932BA868F191"></a><h4 id="DRDAG-GUID-56DB1A6A-6051-41CE-931B-932BA868F191" class="sect4">Territory</h4>
                  <div>
                     <p>The territory clause specifies the conventions for day and week numbering, default date format, decimal character and group separator, and ISO and local currency symbols. Note that the level of globalization support between the Oracle database and the non-Oracle data source depends on how the gateway is implemented.</p>
                  </div>
               </div>
            </div><a id="DRDAG1147"></a><div class="props_rev_3"><a id="GUID-682005EB-0613-4072-A822-2D3450E23DF7" name="GUID-682005EB-0613-4072-A822-2D3450E23DF7"></a><h3 id="DRDAG-GUID-682005EB-0613-4072-A822-2D3450E23DF7" class="sect3">HS_LONG_PIECE_TRANSFER_SIZE  </h3>
               <div>
                  <div class="tblformal" id="GUID-682005EB-0613-4072-A822-2D3450E23DF7__GUID-59EDFBB8-3FE8-42C1-B860-6705D5D4C407">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e966">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e969">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e974" headers="d62447e966 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e974 d62447e969 ">
                                 <p>64 KB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e981" headers="d62447e966 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e981 d62447e969 ">
                                 <p>Any value up to 2 GB</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Sets the size of the piece of <code class="codeph">LONG</code> data being transferred. A smaller piece size means less memory requirement, but more round-trips to fetch all the data. A larger piece size means fewer round-trips, but more of a memory requirement to store the intermediate pieces internally. Thus, the initialization parameter can be used to tune a system for the best performance, with the best trade-off between round-trips and memory requirements, and network latency or response time.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG270"></a><div class="props_rev_3"><a id="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC" name="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC"></a><h3 id="DRDAG-GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC" class="sect3">HS_OPEN_CURSORS  </h3>
               <div>
                  <div class="tblformal" id="GUID-41416F78-4A4C-4181-97F2-B0E69C8FA3EC__GUID-18266D34-C303-4732-B928-8121D5BAA7A5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1029">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1032">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1037" headers="d62447e1029 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1037 d62447e1032 ">
                                 <p><code class="codeph">50</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1045" headers="d62447e1029 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1045 d62447e1032 ">
                                 <p><code class="codeph">1</code> to the value of <code class="codeph">OPEN_CURSORS</code> initialization parameter of Oracle database
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Defines the maximum number of cursors that can be open on one connection to a non-Oracle system instance.</p>
                     <p>The value never exceeds the number of open cursors in the Oracle database. Therefore, setting the same value as the <code class="codeph">OPEN_CURSORS</code> initialization parameter in the Oracle database is recommended.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG271"></a><div class="props_rev_3"><a id="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3" name="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3"></a><h3 id="DRDAG-GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3" class="sect3">HS_RPC_FETCH_REBLOCKING  </h3>
               <div>
                  <div class="tblformal" id="GUID-E4740E63-36C3-4241-B5F4-5F4BCC4C99D3__GUID-63591948-F1FB-4441-B446-F871FDD4BBCD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1100">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1103">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1108" headers="d62447e1100 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1108 d62447e1103 ">
                                 <p><code class="codeph">ON</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1116" headers="d62447e1100 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1116 d62447e1103 ">
                                 <p><code class="codeph">OFF</code> or <code class="codeph">ON</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Controls whether Heterogeneous Services attempts to optimize performance of data transfer between the Oracle database and the Heterogeneous Services agent connected to the non-Oracle data store.</p>
                     <p>The following values are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OFF</code> disables reblocking of fetched data so that data is immediately sent from agent to server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code> enables reblocking, which means that data fetched from the non-Oracle system is buffered in the agent and is not sent to the Oracle database until the amount of fetched data is equal or higher than the value of <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter. However, any buffered data is returned immediately when a fetch indicates that no more data exists or when the non-Oracle system reports an error.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG272"></a><div class="props_rev_3"><a id="GUID-168E698C-817E-4588-83F4-A54FE055D52E" name="GUID-168E698C-817E-4588-83F4-A54FE055D52E"></a><h3 id="DRDAG-GUID-168E698C-817E-4588-83F4-A54FE055D52E" class="sect3">HS_RPC_FETCH_SIZE  </h3>
               <div>
                  <div class="tblformal" id="GUID-168E698C-817E-4588-83F4-A54FE055D52E__GUID-676980F0-6FAD-4FCA-869F-71E96581BCF0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table desdribes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1182">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1185">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1190" headers="d62447e1182 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1190 d62447e1185 ">
                                 <p><code class="codeph">50000</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1198" headers="d62447e1182 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1198 d62447e1185 ">
                                 <p>1 to 10000000</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Tunes internal data buffering to optimize the data transfer rate between the server and the agent process. </p>
                     <p>Increasing the value can reduce the number of network round-trips needed to transfer a given amount of data, but also tends to increase data bandwidth and to reduce latency as measured between issuing a query and completion of all fetches for the query. Nevertheless, increasing the fetch size can increase latency for the initial fetch results of a query, because the first fetch results are not transmitted until additional data is available.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG273"></a><div class="props_rev_3"><a id="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A" name="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A"></a><h3 id="DRDAG-GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A" class="sect3">HS_TRANSACTION_MODEL</h3>
               <div>
                  <div class="tblformal" id="GUID-C3DD153B-8C9A-4B43-A336-1F7F0CA4628A__GUID-A6EAC393-C18A-47A8-A80D-17B9B167CF18">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_TRANSACTION_MODEL" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1237">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1240">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1245" headers="d62447e1237 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1245 d62447e1240 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1253" headers="d62447e1237 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1253 d62447e1240 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code>, <code class="codeph">READ_ONLY</code>, <code class="codeph">READ_ONLY_AUTOCOMMIT</code>, <code class="codeph">SINGLE_SITE</code>, <code class="codeph">SINGLE_SITE_AUTOCOMMIT</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the type of transaction model that is used when the non-Oracle database is updated by a transaction.</p>
                     <p>The following values are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMMIT_CONFIRM</code> provides read and write access to the non-Oracle database and allows the gateway to be part of a distributed update. To use the commit-confirm model, the following items must be created in the non-Oracle database:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Transaction log table. The default table name is <code class="codeph">HS_TRANSACTION_LOG</code>. A different name can be set using the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> parameter. The transaction log table must be granted <code class="codeph">SELECT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code> privileges set to public.
                                 </p>
                              </li>
                              <li>
                                 <p>Recovery account. The account name is assigned with the <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> parameter.
                                 </p>
                              </li>
                              <li>
                                 <p>Recovery account password. The password is assigned with the <code class="codeph">HS_FDS_RECOVERY_PWD</code> parameter.
                                 </p>
                                 <p><code class="codeph">COMMIT_CONFIRM</code> does not apply to Oracle Database Gateway for ODBC. The default value for Oracle Database Gateway for ODBC is <code class="codeph">SINGLE_SITE</code>.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY</code> provides read access to the non-Oracle database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY_AUTOCOMMIT</code> provides read access to the non-Oracle database that do not have logging.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE</code> provides read and write access to the non-Oracle database. However, the gateway cannot participate in distributed updates.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE_AUTOCOMMIT</code> provides read and write access to the non-Oracle database that do not have logging. Any update is committed immediately, and the gateway cannot participate in distributed updates.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG275"></a><div class="props_rev_3"><a id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248" name="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248"></a><h3 id="DRDAG-GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248" class="sect3">IFILE </h3>
               <div>
                  <div class="tblformal" id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248__GUID-FB5CD241-D3DD-4021-829C-9D34A6A61EE8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d62447e1373">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d62447e1376">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1381" headers="d62447e1373 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1381 d62447e1376 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d62447e1388" headers="d62447e1373 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d62447e1388 d62447e1376 ">
                                 <p>Valid parameter file names</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Use the <code class="codeph">IFILE</code> initialization parameter to embed another initialization file within the current initialization file. The value should be an absolute path and should not contain environment variables. The three levels of nesting limit do not apply.
                     </p>
                     <div class="infoboxnotealso" id="GUID-C39E96C7-9E7D-4447-8A2F-74525A5F8248__GUID-E9DF8623-C0EA-41F3-85D7-F4362914C189">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/IFILE.html#REFRN10070" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1154"></a><div class="props_rev_3"><a id="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B" name="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B"></a><h3 id="DRDAG-GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B" class="sect3">HS_FDS_CONNECT_INFO</h3>
               <div>
                  <div class="tblformal" id="GUID-3226C0DA-4599-4335-BA4A-AABBADC2380B__GUID-18C07058-C294-41B6-82AE-0D9D956E2708">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_CONNECT_INFO" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1439">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1442">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1447" headers="d62447e1439 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1447 d62447e1442 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1454" headers="d62447e1439 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1454 d62447e1442 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_CONNECT_INFO</code> that describes the connection to the non-Oracle system.
                     </p>
                     <p>The default initialization parameter file already has an entry for this parameter. The syntax for <code class="codeph">HS_FDS_CONNECT_INFO</code> for the gateways are as follows:
                     </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=<span class="italic">IP_address</span>:<span class="italic">Port_number</span>/<span class="italic">Database_name</span>,<span class="italic">Type</span>
</pre><p>Where <code class="codeph">IP_address</code> is the hostname or IP address of the DB2 DRDA server
                     </p>
                     <p><code class="codeph">Port_number</code> is the port number of the DB2 DRDA server.
                     </p>
                     <p><code class="codeph">Database_name</code> is  the database name of the DB2 server
                     </p>
                     <p><code class="codeph">Type</code> (case insensitive) is one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>ZOS (DB2 UDB for z/OS),</p>
                        </li>
                        <li>
                           <p>IOS (DB2 UDB for iSeries), or</p>
                        </li>
                        <li>
                           <p>LUW (DB2 UDB for Linux, Unix, or Windows)</p>
                        </li>
                     </ul>
                     <p>This release of gateway can support  IPv6. If IPv6 address format is to be specified, you would need to wrap square brackets around the IPv6 specification to indicate the separation from the port number.</p>
                     <p>For example,</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=[2001:0db8:20C:F1FF:FEC6:38AF]:1300/DB2M,ZOS
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1157"></a><div class="props_rev_3"><a id="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0" name="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0"></a><h3 id="DRDAG-GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0" class="sect3">HS_FDS_RECOVERY_ACCOUNT</h3>
               <div>
                  <div class="tblformal" id="GUID-AD94316D-09CF-4771-9390-389F6B0B0FF0__GUID-378B88FA-FFA5-4972-BB51-63424726DDCC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_ACCOUNT" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1545">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1548">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1553" headers="d62447e1545 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1553 d62447e1548 ">
                                 <p><code class="codeph">RECOVER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1561" headers="d62447e1545 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1561 d62447e1548 ">
                                 <p>Any valid user ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the name of the recovery account used for the commit-confirm transaction model. An account with user name and password must be set up at the non-Oracle system. For more information about the commit-confirm model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                     <p>For DRDA, <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> specifies the user&nbsp;ID that is used by the gateway if a <a id="d62447e1578" class="indexterm-anchor"></a>distributed transaction becomes in doubt. This user&nbsp;ID must have execute privileges on the package and must be defined to the IBM database. 
                     </p>
                     <p>If a distributed transaction becomes in doubt, then the Oracle database determines the status of the transaction by connecting to the IBM database, using the <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>. If this parameter is missing, then the gateway attempts to connect to a user&nbsp;ID of <a id="d62447e1588" class="indexterm-anchor"></a><code class="codeph">ORARECOV</code>.
                     </p>
                     <p>The name of the recovery account is case-sensitive.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1158"></a><div class="props_rev_3"><a id="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F" name="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F"></a><h3 id="DRDAG-GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F" class="sect3">HS_FDS_RECOVERY_PWD</h3>
               <div>
                  <div class="tblformal" id="GUID-65AFA357-A4BF-43B4-AEF3-65188F61572F__GUID-3A750D27-D5B2-4C68-9D4B-271E23B655FD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_PWD" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1625">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1628">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1633" headers="d62447e1625 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1633 d62447e1628 ">
                                 <p><code class="codeph">RECOVER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1641" headers="d62447e1625 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1641 d62447e1628 ">
                                 <p>Any valid password</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the password of the recovery account used for the commit-confirm transaction model set up at the non-Oracle system. For more information about the commit-confirm model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                     <p><code class="codeph">HS_FDS_RECOVERY_PWD</code> is used with the <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>. The recovery user connects to the IBM database if a distributed transaction is in doubt.
                     </p>
                     <p>The name of the password of the recovery account is case-sensitive.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG274"></a><div class="props_rev_3"><a id="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4" name="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4"></a><h3 id="DRDAG-GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4" class="sect3">HS_FDS_FETCH_ROWS</h3>
               <div>
                  <div class="tblformal" id="GUID-6A51F1F7-2A83-4B38-9BA3-8D269FB3AAB4__GUID-2CD1B45A-C1E8-4B32-931D-C85DFE2F29D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1701">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1704">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1709" headers="d62447e1701 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1709 d62447e1704 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1717" headers="d62447e1701 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1717 d62447e1704 ">
                                 <p>Any integer between <code class="codeph">1</code>&nbsp;and&nbsp;<code class="codeph">1000</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1729" headers="d62447e1701 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1729 d62447e1704 ">
                                 <p><code class="codeph">HS_FDS_FETCH_ROWS=</code><span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_FETCH_ROWS</code> specifies the <a id="d62447e1744" class="indexterm-anchor"></a>fetch array size. This is the number of rows to be fetched from the non-Oracle database and to return to Oracle database at one time. This parameter will be affected by the <code class="codeph">HS_RPC_FETCH_SIZE</code> and <code class="codeph">HS_RPC_FETCH_REBLOCKING</code> parameters.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1160"></a><div class="props_rev_3"><a id="GUID-8A213748-7B17-4345-BD90-7EE477748D25" name="GUID-8A213748-7B17-4345-BD90-7EE477748D25"></a><h3 id="DRDAG-GUID-8A213748-7B17-4345-BD90-7EE477748D25" class="sect3">HS_FDS_TRACE_LEVEL</h3>
               <div>
                  <div class="tblformal" id="GUID-8A213748-7B17-4345-BD90-7EE477748D25__GUID-D490117F-1FBC-42AD-96F6-9A2C04DBC00E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_ACCOUNT" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e1785">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e1788">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1793" headers="d62447e1785 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1793 d62447e1788 ">
                                 <p><code class="codeph">OFF</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e1801" headers="d62447e1785 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e1801 d62447e1788 ">
                                 <p><code class="codeph">OFF</code>, <code class="codeph">ON</code>, <code class="codeph">DEBUG</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies whether <a id="d62447e1817" class="indexterm-anchor"></a>error tracing is turned on or off for gateway connectivity. 
                     </p>
                     <p>The following values are valid:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OFF</code> disables the tracing of error messages. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code> enables the tracing of error messages that occur when you encounter problems. The results are written by default to a gateway log file in LOG directory where the gateway is installed.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DEBUG</code> enables the tracing of detailed error messages that can be used for debugging. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1161"></a><div class="props_rev_3"><a id="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161" name="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161"></a><h3 id="DRDAG-GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161" class="sect3">HS_FDS_TRANSACTION_LOG</h3>
               <div>
                  <div class="tblformal" id="GUID-BFF68C19-870C-4EAB-AB2B-F2228BE8F161__GUID-77B0183C-16FF-4AD7-9A2B-D1B7EF11B11E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_TRANSACTION_LOG" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1872">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1875">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1880" headers="d62447e1872 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1880 d62447e1875 ">
                                 <p><code class="codeph">HS_TRANSACTION_LOG</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1888" headers="d62447e1872 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1888 d62447e1875 ">
                                 <p>Any valid table name</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the name of the table created in the non-Oracle system for logging transactions. For more information about the transaction model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1183"></a><div class="props_rev_3"><a id="GUID-F8956706-05E2-4368-939E-A1DC32009464" name="GUID-F8956706-05E2-4368-939E-A1DC32009464"></a><h3 id="DRDAG-GUID-F8956706-05E2-4368-939E-A1DC32009464" class="sect3">HS_IDLE_TIMEOUT</h3>
               <div>
                  <div class="tblformal" id="GUID-F8956706-05E2-4368-939E-A1DC32009464__GUID-7A72EAAB-A850-4491-B240-928EFF37DC2D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1929">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1932">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1937" headers="d62447e1929 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1937 d62447e1932 ">
                                 <p>0 (no timeout)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1944" headers="d62447e1929 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1944 d62447e1932 ">
                                 <p>0-9999 (minutes)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e1951" headers="d62447e1929 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e1951 d62447e1932 ">
                                 <p><code class="codeph">HS_IDLE_TIMEOUT=</code><span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This feature is only available for Oracle Net TCP protocol.</p>
                     <p>When there is no activity for a connected gateway session for this specified time period, the gateway session would be terminated automatically with pending update (if any) rolled back.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1184"></a><div class="props_rev_3"><a id="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B" name="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B"></a><h3 id="DRDAG-GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B" class="sect3">HS_FDS_MBCS_TO_GRAPHIC</h3>
               <div>
                  <div class="tblformal" id="GUID-1CA2EB6E-D3A3-4B2E-A335-9DDADCB8344B__GUID-B4866BCB-7C91-49E6-BEDB-CC0210806160">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e1994">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e1997">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2002" headers="d62447e1994 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2002 d62447e1997 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2010" headers="d62447e1994 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2010 d62447e1997 ">
                                 <p><code class="codeph">FALSE|TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2018" headers="d62447e1994 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2018 d62447e1997 ">
                                 <p><code class="codeph">HS_FDS_MBCS_TO_GRAPHIC=</code><span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">TRUE</code>, any single-byte character meant to insert to DB2 (var)graphic column would be converted to equivalent double-byte value before the insert operation.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1185"></a><div class="props_rev_3"><a id="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36" name="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36"></a><h3 id="DRDAG-GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36" class="sect3">HS_FDS_GRAPHIC_TO_MBCS</h3>
               <div>
                  <div class="tblformal" id="GUID-0C3CDAEE-5982-463F-BDC4-FA97D7A7ED36__GUID-6C3EABBE-576C-4D49-AB1D-2BB4AC32FC23">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2062">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2065">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2070" headers="d62447e2062 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2070 d62447e2065 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2078" headers="d62447e2062 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2078 d62447e2065 ">
                                 <p><code class="codeph">FALSE|TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2086" headers="d62447e2062 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2086 d62447e2065 ">
                                 <p><code class="codeph">HS_FDS_GRAPHIC_TO_MBCS=</code><span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">TRUE</code>, any double-byte characters in DB2 (var)graphic column that can have equivalent single-byte equivalent would be translated to equivalent single-byte before sending to the user.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1186"></a><div class="props_rev_3"><a id="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5" name="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5"></a><h3 id="DRDAG-GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5" class="sect3">HS_FDS_TIMESTAMP_MAPPING</h3>
               <div>
                  <div class="tblformal" id="GUID-3C1EF78C-75DC-4829-9B8D-9FCD07FC2EF5__GUID-3205094F-BE70-40FA-9294-29EF2DF96E2B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2131">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2134">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2139" headers="d62447e2131 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2139 d62447e2134 ">
                                 <p><code class="codeph">CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2147" headers="d62447e2131 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2147 d62447e2134 ">
                                 <p><code class="codeph">CHAR</code>|<code class="codeph">DATE</code>|<code class="codeph">TIMESTAMP</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2161" headers="d62447e2131 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2161 d62447e2134 ">
                                 <p><code class="codeph">HS_FDS_TIMESTAMP_MAPPING={</code><span class="italic"><code class="codeph">CHAR|DATE|TIMESTAMP}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">CHAR</code> ,  then non-Oracle target timestamp would be mapped to <code class="codeph">CHAR(26)</code>. If set to <code class="codeph">DATE</code> (default), then non-Oracle target timestamp would be mapped to Oracle <code class="codeph">DATE</code>. If set to <code class="codeph">TIMESTAMP</code>,  then non-Oracle target timestamp would be mapped to Oracle <code class="codeph">TIMESTAMP</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1284"></a><div class="props_rev_3"><a id="GUID-A16B8C40-16B5-4949-9174-C38999964261" name="GUID-A16B8C40-16B5-4949-9174-C38999964261"></a><h3 id="DRDAG-GUID-A16B8C40-16B5-4949-9174-C38999964261" class="sect3">HS_FDS_DATE_MAPPING</h3>
               <div>
                  <div class="tblformal" id="GUID-A16B8C40-16B5-4949-9174-C38999964261__GUID-312EBD3C-382C-40FF-8693-7A5916AD7786">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2221">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2224">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2229" headers="d62447e2221 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2229 d62447e2224 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2237" headers="d62447e2221 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2237 d62447e2224 ">
                                 <p><code class="codeph">DATE</code>|<code class="codeph">CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2248" headers="d62447e2221 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2248 d62447e2224 ">
                                 <p><code class="codeph">HS_FDS_DATE_MAPPING={</code><span class="italic"><code class="codeph">DATE|CHAR}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">CHAR</code>, then non-oracle target date would be mapped to <code class="codeph">CHAR(10)</code>. If set to <code class="codeph">DATE</code>, then non-Oracle target date would be mapped to Oracle date.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1187"></a><div class="props_rev_3"><a id="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C" name="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C"></a><h3 id="DRDAG-GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C" class="sect3">HS_FDS_QUOTE_IDENTIFIER</h3>
               <div>
                  <div class="tblformal" id="GUID-09DC8E8F-89D1-40B0-BA83-D0E9894E4D4C__GUID-3B1EDFBE-1714-4D4B-8607-C1397581F1A2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2298">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2301">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2306" headers="d62447e2298 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2306 d62447e2301 ">
                                 <p><code class="codeph">TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2314" headers="d62447e2298 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2314 d62447e2301 ">
                                 <p><code class="codeph">TRUE|FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2322" headers="d62447e2298 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2322 d62447e2301 ">
                                 <p><code class="codeph">HS_FDS_QUOTE_IDENTIFIER=</code><span class="italic"><code class="codeph">{FALSE|TRUE}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>By default, the gateway will quote identifiers if the FDS supports it. However, we give the user the ability to overwrite the behavior.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG277"></a><div class="props_rev_3"><a id="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673" name="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673"></a><h3 id="DRDAG-GUID-D725AE78-87E6-4C4B-9347-E60B4299E673" class="sect3">HS_FDS_CAPABILITY</h3>
               <div>
                  <div class="tblformal" id="GUID-D725AE78-87E6-4C4B-9347-E60B4299E673__GUID-152808F3-8D47-44D2-9D8D-8C1A645578C2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2364">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2367">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2372" headers="d62447e2364 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2372 d62447e2367 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2379" headers="d62447e2364 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2379 d62447e2367 ">
                                 <p>Refer to <a href="developing-applications.html#GUID-69ABFEB3-BAD1-424D-88EC-DE827C203946">SQL Functions That Can Be Enabled</a> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2389" headers="d62447e2364 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2389 d62447e2367 ">
                                 <p><code class="codeph">HS_FDS_CAPABILITY= {</code><span class="italic"><code class="codeph">FUNCTION/{ON|OFF|SKIP}</code></span><code class="codeph">},...</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e2403" class="indexterm-anchor"></a>If the <code class="codeph">HS_FDS_CAPABILITY</code> is set to <code class="codeph">ON</code> then the specified function will be sent to DB2 for processing. In other words, post processing will be not needed for that function. 
                     </p>
                     <p>If the <code class="codeph">HS_FDS_CAPABILITY</code> is set to <code class="codeph">OFF</code> then the specified function will be not be sent to DB2 for processing. In other words, it will be post processed. 
                     </p>
                     <p>If the <code class="codeph">HS_FDS_CAPABILITY</code> is set to <code class="codeph">SKIP</code> then the specified function will be stripped from the SQL statement sent to DB2. In other words the function will be ignored.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1270"></a><a id="DRDAG1178"></a><div class="props_rev_3"><a id="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A" name="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A"></a><h3 id="DRDAG-GUID-C472E1CA-C253-48D1-A36F-31FD7788316A" class="sect3">HS_FDS_TRANSACTION_ISOLATION</h3>
               <div>
                  <div class="tblformal" id="GUID-C472E1CA-C253-48D1-A36F-31FD7788316A__GUID-65FD204B-8290-4DA9-9CD5-689A08A577D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2471">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2474">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2479" headers="d62447e2471 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2479 d62447e2474 ">
                                 <p><code class="codeph">READ_COMMITTED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2487" headers="d62447e2471 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2487 d62447e2474 ">
                                 <p>{<code class="codeph">READ_UNCOMMITTED</code>|<code class="codeph">READ_COMMITTED</code>|<code class="codeph">REPEATABLE_READ</code>|<code class="codeph">SERIALIZABLE</code>|<code class="codeph">NONE</code>}
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2509" headers="d62447e2471 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2509 d62447e2474 ">
                                 <p><code class="codeph">HS_FDS_ISOLATION_LEVEL={{READ_UNCOMMITTED|READ_COMMITTED|REPEATABLE_READ|SERIALIZABLE|NONE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_TRANSACTION_ISOLATION</code> specifies the isolation level that is used for  the transaction that the gateway opens on the non-Oracle database. <a id="d62447e2521" class="indexterm-anchor"></a><a id="d62447e2525" class="indexterm-anchor"></a><a id="d62447e2529" class="indexterm-anchor"></a></p>
                     <p>The isolation level <code class="codeph">NONE</code> is only valid against DB2 iSeries. It specifies level<code class="codeph"> NO COMMIT</code>. This isolation level will force an <code class="codeph">HS_TRANSACTION_MODEL</code> of <code class="codeph">SINGLE_SITE_AUTOCOMMIT</code>. Please refer to DB2's documentation regarding this level.
                     </p>
                     <p>The isolation levels of <code class="codeph">READ_UNCOMMITTED</code>, <code class="codeph">READ_COMMITTED</code>, <code class="codeph">REPEATABLE_READ</code>, and <code class="codeph">SERIALIZABLE</code> are the four isolation levels defined in the SQL standard and adopted by both both ANSI and ISO/IEC. For additional information regarding them, see <a href="../cncpt/data-concurrency-and-consistency.html#CNCPT-GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a>.
                     </p>
                     <p>Use caution when specifying an isolation level lower than the Oracle transaction isolation level being used, as the gateway transaction will have different Preventable Read Phenomena from what will occur in the Oracle database transaction.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1182"></a><div class="props_rev_3"><a id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37" name="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37"></a><h3 id="DRDAG-GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37" class="sect3">HS_FDS_PACKAGE_COLLID</h3>
               <div>
                  <div class="tblformal" id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37__GUID-B67153BC-5AE1-4DF2-A513-FE0CA7EA6613">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2607">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2610">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2615" headers="d62447e2607 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2615 d62447e2610 ">
                                 <p><code class="codeph">ORACLEGTW</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2623" headers="d62447e2607 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2623 d62447e2610 ">
                                 <p>An alphanumeric string 1&nbsp;to&nbsp;18&nbsp;characters in length</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2630" headers="d62447e2607 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2630 d62447e2610 ">
                                 <p><code class="codeph">HS_FDS_PACKAGE_COLLID=</code><span class="italic"><code class="codeph">collection_id</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_PACKAGE_COLLID</code> specifies the <a id="d62447e2645" class="indexterm-anchor"></a>package collection&nbsp;ID. Note that in <a id="d62447e2650" class="indexterm-anchor"></a>DB2 UDB for iSeries, the collection ID is actually the name of an <a id="d62447e2655" class="indexterm-anchor"></a>AS/400 library.
                     </p>
                     <div class="infoboxnote" id="GUID-090B77C9-0988-4DB2-A82C-E7EA956BEF37__GUID-3BDF8601-4418-4F42-8125-7BBF5BE21083">
                        <p class="notep1">Note:</p>
                        <p>Any change to this parameter will cause a new package to be implicitly bound by the gateway. For DB2 for UDB iSeries, prior to attempting a con<a id="d62447e2663" class="indexterm-anchor"></a>nection, one should use the iSeries SQL command <code class="codeph">CREATE SCHEMA</code> or <code class="codeph">CREATE COLLECTION</code> to create an iSeries library with the name as specified for <code class="codeph">HS_FDS_PACKAGE_COLLID</code>. This <code class="codeph">COLLECTION</code> or <code class="codeph">SCHEMA</code> should be created under the id specified in the <code class="codeph">CONNECT TO</code> phrase of the Oracle SQL command <code class="codeph">CREATE DATABASE LINK</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1271"></a><div class="props_rev_3"><a id="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5" name="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5"></a><h3 id="DRDAG-GUID-DD412062-270D-4755-B6C6-B6688CFB52C5" class="sect3">HS_NLS_LENGTH_SEMANTICS </h3>
               <div>
                  <div class="tblformal" id="GUID-DD412062-270D-4755-B6C6-B6688CFB52C5__GUID-816CE832-9631-43D4-8CEA-4E4236DEA253">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_PWD" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2719">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2722">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2727" headers="d62447e2719 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2727 d62447e2722 ">
                                 <p><code class="codeph">BYTE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2735" headers="d62447e2719 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2735 d62447e2722 ">
                                 <p><code class="codeph">BYTE | CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2743" headers="d62447e2719 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2743 d62447e2722 ">
                                 <p><code class="codeph">HS_NLS_LENGTH_SEMANTICS = { BYTE | CHAR }</code> 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This release of gateway has Character Semantics functionality equivalent to the Oracle Database Character Semantics, that is, <code class="codeph">NLS_LENGTH_SEMANTICS</code>. When <code class="codeph">HS_NLS_LENGTH_SEMANTICS</code> is set to <code class="codeph">CHAR</code>, the <code class="codeph">(VAR)CHAR</code> columns of UDB database are to be interpreted as having <code class="codeph">CHAR</code> semantics. The only situation the gateway does not honor the <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code> setting is when both Oracle database and the gateway are on the same multi-byte character set 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1272"></a><div class="props_rev_3"><a id="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5" name="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5"></a><h3 id="DRDAG-GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5" class="sect3">HS_KEEP_REMOTE_COLUMN_SIZE</h3>
               <div>
                  <div class="tblformal" id="GUID-E3A14F22-F012-4933-A5FB-48AFFA70E2E5__GUID-E8D2FF85-5670-4A8D-B28F-3659E5ADA30C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Initialization parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d62447e2801">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d62447e2804">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2809" headers="d62447e2801 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2809 d62447e2804 ">
                                 <p><code class="codeph">OFF</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2817" headers="d62447e2801 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2817 d62447e2804 ">
                                 <p><code class="codeph">OFF | LOCAL | REMOTE | ALL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2825" headers="d62447e2801 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2825 d62447e2804 ">
                                 <p><code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE = OFF | LOCAL |REMOTE |ALL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d62447e2833" headers="d62447e2801 ">
                                 <p>Parameter type</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d62447e2833 d62447e2804 ">
                                 <p>String</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d62447e2841" class="indexterm-anchor"></a><code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> specifies whether to suppress ratio expansion when computing the length of <code class="codeph">(VAR)CHAR</code> datatypes during data conversion from UDB database to the gateway, and then to the Oracle database. When it is set to <code class="codeph">REMOTE</code>, the expansion is suppressed between the non-Oracle database to the gateway. When it is set to <code class="codeph">LOCAL</code>, the expansion is suppressed between the gateway and Oracle database. When it is set to <code class="codeph">ALL</code>, the expansion is suppressed from the non-Oracle database to the Oracle database.
                     </p>
                     <p>When the parameter is set, the expansion is suppressed when reporting the remote column size, calculating the implicit resulting buffer size, and instantiating in the local Oracle database. This has effect only for remote column size from the non-Oracle database to Oracle database. If the gateway runs on Windows and <code class="codeph">HS_LANGUAGE=AL32UTF8</code>, then you must not specify this parameter, as it would influence other ratio related parameter operation. It has no effect for calculating ratio for data moving from Oracle database to non-Oracle database through gateway during <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1273"></a><div class="props_rev_3"><a id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B" name="GUID-01214441-BF61-4939-B0B5-41FA0923B40B"></a><h3 id="DRDAG-GUID-01214441-BF61-4939-B0B5-41FA0923B40B" class="sect3">HS_FDS_RESULTSET_SUPPORT</h3>
               <div>
                  <div class="tblformal" id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B__GUID-BC9E74D0-C4EE-41EB-A7F9-B1BC07F14A5E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_PWD" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2900">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2903">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2908" headers="d62447e2900 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2908 d62447e2903 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2916" headers="d62447e2900 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2916 d62447e2903 ">
                                 <p><code class="codeph">TRUE | FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2924" headers="d62447e2900 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2924 d62447e2903 ">
                                 <p><code class="codeph">HS_FDS_RESULTSET_SUPPORT = { TRUE | FALSE }</code> 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Enables result sets to be returned from stored procedures. By default, all stored procedures do not return a result set to the user.</p>
                     <div class="infoboxnote" id="GUID-01214441-BF61-4939-B0B5-41FA0923B40B__GUID-73204CEF-6827-4FEE-B31E-9B8F7BE6CD7A">
                        <p class="notep1">Note:</p>
                        <p>If you set this initialization parameter, you must do the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Change the syntax of the procedure execute statement for all existing stored procedures, to handle result sets.</p>
                           </li>
                           <li>
                              <p>Work in the sequential mode of Heterogeneous Services.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1274"></a><div class="props_rev_3"><a id="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB" name="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB"></a><h3 id="DRDAG-GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB" class="sect3">HS_FDS_REMOTE_DB_CHARSET</h3>
               <div>
                  <div class="tblformal" id="GUID-0DC47906-E4E2-454B-B0C0-A8DA8CC44AEB__GUID-E0A1414A-BE11-4854-98E7-359EF0A9A9EF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="initparam" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e2974">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e2977">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2982" headers="d62447e2974 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2982 d62447e2977 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2989" headers="d62447e2974 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2989 d62447e2977 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e2996" headers="d62447e2974 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e2996 d62447e2977 ">
                                 <p><code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This parameter is valid only when <code class="codeph">HS_LANGUAGE</code> is set to <code class="codeph">AL32UTF8</code> and the gateway runs on Windows. As more Oracle databases and non-Oracle databases use Unicode as database character sets, it is preferable to also run the gateway in Unicode character set. To do so, you must set <code class="codeph">HS_LANGUAGE=AL32UTF8</code>. However, when the gateway runs on Windows, the Microsoft ODBC Driver Manager interface can exchange data only in the double-byte character set, UCS2. This results in extra ratio expansion of described buffer and column sizes.  To compensate, the gateway can re-adjust the column size if <code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code> is set to the corresponding non-Oracle database character set. For example, <code class="codeph">HS_FDS_REMOTE_DB_CHARSET=KO16KSC5601</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1275"></a><div class="props_rev_3"><a id="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17" name="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17"></a><h3 id="DRDAG-GUID-03C36967-4A20-4613-A593-DCFB03EA5E17" class="sect3">HS_FDS_SUPPORT_STATISTICS</h3>
               <div>
                  <div class="tblformal" id="GUID-03C36967-4A20-4613-A593-DCFB03EA5E17__GUID-AC705DAD-C095-489B-8100-F49760C5CA29">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3049">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3052">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3057" headers="d62447e3049 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3057 d62447e3052 ">
                                 <p><code class="codeph">TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3065" headers="d62447e3049 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3065 d62447e3052 ">
                                 <p><code class="codeph">{TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3073" headers="d62447e3049 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3073 d62447e3052 ">
                                 <p><code class="codeph">HS_FDS_SUPPORT_STATISTICS= {TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>We gather statistics from the non-Oracle database by default. You can choose to disable the gathering of remote database statistics by setting the <code class="codeph">HS_FDS_SUPPORT_STATISTICS</code> parameter to <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1276"></a><div class="props_rev_3"><a id="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46" name="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46"></a><h3 id="DRDAG-GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46" class="sect3">HS_FDS_RSET_RETURN_ROWCOUNT</h3>
               <div>
                  <div class="tblformal" id="GUID-523DC7E8-E6C3-42E4-BB76-B8038B8EBD46__GUID-BBC9CB97-A2DC-41AA-9EB3-43419B50B89C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3117">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3120">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3125" headers="d62447e3117 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3125 d62447e3120 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3133" headers="d62447e3117 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3133 d62447e3120 ">
                                 <p><code class="codeph">{TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3141" headers="d62447e3117 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3141 d62447e3120 ">
                                 <p><code class="codeph">HS_FDS_RSET_RETURN_ROWCOUNT= {TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>When set to <code class="codeph">TRUE</code>, the gateway returns the row counts of DML statements that are executed inside a stored procedure. The row count is returned as a single row, single column result set of type signed integer.
                     </p>
                     <p>When set to <code class="codeph">FALSE</code>, the gateway skips the row counts of DML statements that are executed inside a stored procedure. This is the default behavior, and it is the behavior of 11.1 and older gateways.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1277"></a><div class="props_rev_3"><a id="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1" name="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1"></a><h3 id="DRDAG-GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1" class="sect3">HS_FDS_AUTHENTICATE_USER</h3>
               <div>
                  <div class="tblformal" id="GUID-CE874080-E13F-4174-ACE5-2D53A7E195C1__GUID-A913FADB-EAAB-4427-8B62-EFCD39C8DCA4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3188">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3191">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3196" headers="d62447e3188 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3196 d62447e3191 ">
                                 <p><code class="codeph">CLEARTEXT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3204" headers="d62447e3188 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3204 d62447e3191 ">
                                 <p><code class="codeph">{CLEARTEXT|ENCRYPT|ENCRYPT_BOTH|CLIENT|KERBEROS}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3212" headers="d62447e3188 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3212 d62447e3191 ">
                                 <p><code class="codeph">HS_FDS_AUTHENTICATE_USER= {CLEARTEXT|ENCRYPT|ENCRYPT_BOTH|CLIENT|KERBEROS}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the way in which user ID and password are sent to the remote DB2 server and authenticated.  Valid values are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CLEARTEXT</code> : user ID and password are sent in clear text to server (default).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENCRYPT</code> : password is sent encrypted to server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ENCRYPT_BOTH</code> : user ID and password are sent encrypted to server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CLIENT</code> : user ID is validated on the client side instead of by the server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">KERBEROS</code> : uses Kerberos to authenticate user ID. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1278"></a><div class="props_rev_3"><a id="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E" name="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E"></a><h3 id="DRDAG-GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E" class="sect3">HS_FDS_ENCRYPT_SESSION</h3>
               <div>
                  <div class="tblformal" id="GUID-7F772D25-52FB-4086-8E3F-9ED435312F4E__GUID-0061DA40-D193-4829-9F64-F42A29C46E63">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3276">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3279">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3284" headers="d62447e3276 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3284 d62447e3279 ">
                                 <p><code class="codeph">NONE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3292" headers="d62447e3276 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3292 d62447e3279 ">
                                 <p><code class="codeph">{NONE|SSL|DB2|NOTRUST_SSL}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3300" headers="d62447e3276 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3300 d62447e3279 ">
                                 <p><code class="codeph">HS_FDS_ENCRYPT_SESSION = {NONE|SSL|DB2|NOTRUST_SSL}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the way the session to DB2 is encrypted. Valid values are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NONE</code> : data session is not encrypted (default).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SSL</code> : Use SSL to encrypt data session.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DB2</code> : Use DB2 encryption protocol for data session  (supported only on DB2 for Linux,, UNIX, Windows, and  DB2 for z/OS).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NOTRUST_SSL</code>:&nbsp;&nbsp;This option is equivalent to the SSL setting, with initialization parameter <code class="codeph">HS_FDS_VALIDATE_SERVER_CERT = DISABLED</code></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A" name="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A"></a><h3 id="DRDAG-GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A" class="sect3">HS_FDS_VALIDATE_SERVER_CERT</h3>
               <div>
                  <div class="tblformal" id="GUID-83BFFA10-8953-4697-BA23-55A8CFE0AF7A__GUID-0061DA40-D193-4829-9F64-F42A29C46E63">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3360">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3363">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3368" headers="d62447e3360 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3368 d62447e3363 ">
                                 <p><code class="codeph">ENABLED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3376" headers="d62447e3360 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3376 d62447e3363 ">
                                 <p><code class="codeph">{ENABLED|DISABLED}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3384" headers="d62447e3360 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3384 d62447e3363 ">
                                 <p><code class="codeph">HS_FDS_VALIDATE_SERVER_CERT = {ENABLED|DISABLED}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies whether the driver validates the certificate that is sent by the  database server when SSL encryption is enabled through <code class="codeph">HS_FDS_ENCRYPT_SESSION</code>. When using SSL server authentication, any certificate sent by the server must be issued by a trusted Certificate Authority. Valid values are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ENABLED</code> : the gateway validates the certificate that is sent by the database server. Any certificate from the server must be issued by a trusted Certificate Authority in the truststore file. The truststore information is specified using the <code class="codeph">HS_FDS_TRUSTSTORE_FILE</code> and <code class="codeph">HS_FDS_TRUSTSTORE_PASSWORD</code> initialization parameters.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISABLED</code> : the gateway does not validate the certificate that is sent by the database server.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1279"></a><div class="props_rev_3"><a id="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444" name="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444"></a><h3 id="DRDAG-GUID-B3096AFF-9484-44D0-8C16-E3106DC32444" class="sect3">HS_FDS_TRUSTSTORE_FILE</h3>
               <div>
                  <div class="tblformal" id="GUID-B3096AFF-9484-44D0-8C16-E3106DC32444__GUID-287D610D-E388-491F-BB32-5B5C15C3ED6D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3443">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3446">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3451" headers="d62447e3443 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3451 d62447e3446 ">
                                 <p>none</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3458" headers="d62447e3443 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3458 d62447e3446 ">
                                 <p><span class="italic"><code class="codeph">path to truststore file</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3467" headers="d62447e3443 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3467 d62447e3446 ">
                                 <p><code class="codeph">HS_FDS_TRUSTSTORE_FILE</code> <span class="italic"><code class="codeph">= path to truststore file</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the path that specifies the location of the truststore file. The truststore file contains a list of the valid Certificate Authorities (CAs) that are trusted by the client machine for SSL server authentication.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1280"></a><div class="props_rev_3"><a id="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C" name="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C"></a><h3 id="DRDAG-GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C" class="sect3">HS_FDS_TRUSTSTORE_PASSWORD</h3>
               <div>
                  <div class="tblformal" id="GUID-8E1E6565-2B51-4E40-A038-0D3DD317396C__GUID-0CBAEB99-A469-4923-BCF1-91205D19AFA6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3509">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3512">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3517" headers="d62447e3509 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3517 d62447e3512 ">
                                 <p>none</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3524" headers="d62447e3509 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3524 d62447e3512 ">
                                 <p><span class="italic"><code class="codeph">password</code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3533" headers="d62447e3509 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3533 d62447e3512 ">
                                 <p><code class="codeph">HS_FDS_TRUSTSTORE_PASSWORD</code>= <span class="italic"><code class="codeph">password</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the password required to access the truststore.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1281"></a><div class="props_rev_3"><a id="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92" name="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92"></a><h3 id="DRDAG-GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92" class="sect3">HS_FDS_SQLLEN_INTERPRETATION</h3>
               <div>
                  <div class="tblformal" id="GUID-9BD810C1-6069-46E2-9E74-D71CAE6A8B92__GUID-B0515BD2-4152-4F7C-9554-3E273114426C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3575">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3578">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3583" headers="d62447e3575 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3583 d62447e3578 ">
                                 <p><code class="codeph">64</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3591" headers="d62447e3575 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3591 d62447e3578 ">
                                 <p><code class="codeph">{64|32}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3599" headers="d62447e3575 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3599 d62447e3578 ">
                                 <p><code class="codeph">HS_FDS_SQLLEN_INTERPRETATION= {64|32}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This parameter is only valid for 64 bit platforms. ODBC standard specifies <code class="codeph">SQLLEN</code> (of internal ODBC construct) being 64 bit on 64 bit platforms, but some ODBC driver managers and drivers violate this convention, and implement it as 32 bit.  In order for the gateway to compensate their behavior, you need to specify <code class="codeph">HS_FDS_SQLLEN_INTERPRETATION=32</code> if you use these types of driver managers and driver.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG1285"></a><div class="props_rev_3"><a id="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435" name="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435"></a><h3 id="DRDAG-GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435" class="sect3">HS_FDS_ARRAY_EXEC</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ACC8C9CF-AC62-4351-87ED-5FC3B84C6435__GUID-E636AD86-C4E0-4947-BD08-50CAE230C083">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d62447e3645">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d62447e3648">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3653" headers="d62447e3645 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3653 d62447e3648 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3661" headers="d62447e3645 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3661 d62447e3648 ">
                                 <p><code class="codeph">{TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d62447e3669" headers="d62447e3645 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d62447e3669 d62447e3648 ">
                                 <p><code class="codeph">HS_FDS_ARRAY_EXEC= {TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">TRUE</code>, the gateway will use array operations for insert, update, delete statements containing binds against the remote data source. The array size is determined by the value of the <code class="codeph">HS_FDS_FETCH_ROWS</code> init parameter. 
                     </p>
                     <p>If set to <code class="codeph">FALSE</code>, the gateway will not use array operations for insert, update, and delete statements. Instead, a single statement will be issued for every value.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01065.DBMS_PARALLEL_EXECUTE.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel.">
      <meta name="description" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel.">
      <title>DBMS_PARALLEL_EXECUTE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_PARALLEL_EXECUTE package enables incremental update of table data in parallel.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_OUTPUT.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_PART.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_OUTPUT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_PART.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_PARALLEL_EXECUTE </li>
            </ol>
            <a id="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC" name="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC"></a><a id="ARPLS233"></a><a id="ARPLS233"></a>
            
            <h2 id="ARPLS-GUID-D13B6975-09B5-4711-AD43-45F68228C1CC" class="sect2"><span class="enumeration_chapter">115 </span> DBMS_PARALLEL_EXECUTE 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_PARALLEL_EXECUTE</code> package enables incremental update of table data in parallel.
               </p>
               <p>This chapter contains the following topics:<a id="d647230e89" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" title="This package lets you incrementally update table data in parallel, in two high-level steps.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" title="DBMS_PARALLEL_EXECUTE is a SYS-owned package which is granted to PUBLIC.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" title="The DBMS_PARALLEL_EXECUTE package uses the constants described in these two tables.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="The DBMS_PARALLEL_EXECUTE package uses the following views.">Views</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" title="The following table lists the exceptions raised by DBMS_PARALLEL_EXECUTE.">Exceptions</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" title="The following examples run on the Human Resources (HR) schema of the Oracle Database Sample Schemas. They requires that the HR schema be created with the JOB SYSTEM privilege.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" title="This table lists the DBMS_PARALLEL_EXECUTE subprograms and briefly describes them.">Summary of DBMS_PARALLEL_EXECUTE Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D13B6975-09B5-4711-AD43-45F68228C1CC__GUID-4CF78966-A983-48C5-9E64-D207A7724B1A">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../adfns/editions.html#ADFNS020" target="_blank"><span class="italic">Oracle Database Development Guide</span></a></p>
                     </li>
                     <li>
                        <p><a href="../refrn/DBA_PARALLEL_EXECUTE_TASKS.html#REFRN-GUID-AEFFCE5D-AB5B-4EE1-9CB3-4491F3D3D0E7" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS67331"></a><a id="ARPLS67331"></a><div class="props_rev_3"><a id="GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" name="GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49"></a><h3 id="ARPLS-GUID-09911EE7-A08A-4059-B3C3-D7C3D52FBF49" class="sect3"><span class="enumeration_section">115.1 </span>DBMS_PARALLEL_EXECUTE Overview
               </h3>
               <div>
                  <p>This package lets you incrementally update table data in parallel, in two high-level steps.</p>
                  <div class="section">
                     <ol>
                        <li>
                           <p>Group sets of rows in the table into smaller-sized chunks.</p>
                        </li>
                        <li>
                           <p>Run a user-specified statement on these chunks in parallel, and commit when finished processing each chunk.</p>
                        </li>
                     </ol>
                     <p>This package introduces the notion of <span class="italic">parallel execution task</span>. This task groups the various steps associated with the parallel execution of a PL/SQL block, which is typically updating table data.
                     </p>
                     <p>All of the package subroutines (except the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" title="This function returns a unique name for a task.">GENERATE_TASK_NAME Function</a> and the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" title="This procedure returns the task status.">TASK_STATUS Procedure</a>) perform a commit.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67332"></a><a id="ARPLS67332"></a><div class="props_rev_3"><a id="GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" name="GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F"></a><h3 id="ARPLS-GUID-34F2D688-E686-4654-AE5D-3D14D6CBCA6F" class="sect3"><span class="enumeration_section">115.2 </span>DBMS_PARALLEL_EXECUTE Security Model
               </h3>
               <div>
                  <p><code class="codeph">DBMS_PARALLEL_EXECUTE</code> is a <code class="codeph">SYS</code>-owned package which is granted to <code class="codeph">PUBLIC</code>. 
                  </p>
                  <div class="section">
                     <p>Users who have the <code class="codeph">ADM_PARALLEL_EXECUTE_TASK</code> role can perform administrative routines (qualified by the prefix <code class="codeph">ADM_</code>) and access the DBA view.
                     </p>
                     <p>Apart from the administrative routines, all the subprograms refer to tasks owned by the current user.</p>
                     <p>To execute chunks in parallel, you must have <code class="codeph">CREATE</code> <code class="codeph">JOB</code> system privilege.
                     </p>
                     <p>The <code class="codeph">CHUNK_BY_SQL</code>, <code class="codeph">RUN_TASK</code>, and <code class="codeph">RESUME_TASK</code> subprograms require a query, and are executed using <code class="codeph">DBMS_SQL</code>. Invokers of the <code class="codeph">DBMS_SQL</code> interface must ensure that no query contains SQL injection.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67333"></a><a id="ARPLS67334"></a><a id="ARPLS67335"></a><a id="ARPLS67334"></a><a id="ARPLS67335"></a><a id="ARPLS67333"></a><div class="props_rev_3"><a id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" name="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F"></a><h3 id="ARPLS-GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F" class="sect3"><span class="enumeration_section">115.3 </span>DBMS_PARALLEL_EXECUTE Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_PARALLEL_EXECUTE</code> package uses the constants described in these two tables.
                  </p>
                  <div class="tblformal" id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDEIDAF">
                     <p class="titleintable">Table 115-1 DBMS_PARALLEL_EXECUTE Constants - Chunk Status Value</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE Constants - Chunk Status Value" summary="This table describes DBMS_PARALLEL_EXECUTE Constants - Chunk Status Value" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d647230e539">Constant</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e542">Type</th>
                              <th align="left" valign="bottom" width="19%" id="d647230e545">Value</th>
                              <th align="left" valign="bottom" width="47%" id="d647230e548">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e553" headers="d647230e539 ">
                                 <p><code class="codeph">ASSIGNED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e553 d647230e542 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e553 d647230e545 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e553 d647230e548 ">
                                 <p>Chunk has been assigned for processing</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e568" headers="d647230e539 ">
                                 <p><code class="codeph">PROCESSED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e568 d647230e542 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e568 d647230e545 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e568 d647230e548 ">
                                 <p>Chunk has been processed successfully</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e583" headers="d647230e539 ">
                                 <p><code class="codeph">PROCESSED_WITH_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e583 d647230e542 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e583 d647230e545 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e583 d647230e548 ">
                                 <p>Chunk has been processed, but an error occurred during processing</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e598" headers="d647230e539 ">
                                 <p><code class="codeph">UNASSIGNED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e598 d647230e542 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e598 d647230e545 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e598 d647230e548 ">
                                 <p>Chunk is unassigned</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDIHJHI">
                     <p class="titleintable">Table 115-2 DBMS_PARALLEL_EXECUTE Constants - Task Status Value</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE Constants - Task Status Value" summary="This table describes BMS_PARALLEL_EXECUTE Constants - Task Status Value" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d647230e624">Constant</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e627">Type</th>
                              <th align="left" valign="bottom" width="19%" id="d647230e630">Value</th>
                              <th align="left" valign="bottom" width="47%" id="d647230e633">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e638" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e638 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e638 d647230e630 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e638 d647230e633 ">
                                 <p>Table associated with the task has been chunked, but none of the chunk has been assigned for processing</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e653" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKING</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e653 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e653 d647230e630 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e653 d647230e633 ">
                                 <p>Table associated with the task is being chunked</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e668" headers="d647230e624 ">
                                 <p><code class="codeph">CHUNKING_FAILED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e668 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e668 d647230e630 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e668 d647230e633 ">
                                 <p>Chunking failed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e683" headers="d647230e624 ">
                                 <p><code class="codeph">CRASHED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e683 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e683 d647230e630 ">
                                 <p>8</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e683 d647230e633 ">
                                 <p>Only applicable if parallel execution is used, this occurs if a job slave crashes or if the database crashes during <code class="codeph">EXECUTE</code>, leaving a chunk in <code class="codeph">ASSIGNED</code> or <code class="codeph">UNASSIGNED</code> state.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e707" headers="d647230e624 ">
                                 <p><code class="codeph">CREATED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e707 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e707 d647230e630 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e707 d647230e633 ">
                                 <p>The task has been created by the <code class="codeph"><a href="DBMS_PARALLEL_EXECUTE.html#GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" title="This procedure creates a task for the current user. The pairing of task_name and current_user must be unique.">CREATE_TASK Procedure</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e735" headers="d647230e624 ">
                                 <p><code class="codeph">FINISHED</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e735 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e735 d647230e630 ">
                                 <p>6</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e735 d647230e633 ">
                                 <p>All chunks processed without error</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e750" headers="d647230e624 ">
                                 <p><code class="codeph">FINISHED_WITH_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e750 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e750 d647230e630 ">
                                 <p>7</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e750 d647230e633 ">
                                 <p>All chunks processed, but with errors in some cases</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d647230e765" headers="d647230e624 ">
                                 <p><code class="codeph">PROCESSING</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e765 d647230e627 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d647230e765 d647230e630 ">
                                 <p>5</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d647230e765 d647230e633 ">
                                 <p>Part of the chunk assigned for processing, or which has been processed</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67336"></a><a id="ARPLS67336"></a><div class="props_rev_3"><a id="GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" name="GUID-18C01BED-25F5-4B87-BA77-170EDFB70423"></a><h3 id="ARPLS-GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" class="sect3"><span class="enumeration_section">115.4 </span>DBMS_PARALLEL_EXECUTE Views
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_PARALLEL_EXECUTE</code> package uses the following views.
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/DBA_PARALLEL_EXECUTE_CHUNKS.html#REFRN23742" target="_blank">DBA_PARALLEL_EXECUTE_CHUNKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/DBA_PARALLEL_EXECUTE_TASKS.html#REFRN23743" target="_blank">DBA_PARALLEL_EXECUTE_TASKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/USER_PARALLEL_EXECUTE_CHUNKS.html#REFRN26742" target="_blank">USER_PARALLEL_EXECUTE_CHUNKS</a></p>
                        </li>
                        <li>
                           <p><a href="../refrn/USER_PARALLEL_EXECUTE_TASKS.html#REFRN26743" target="_blank">USER_PARALLEL_EXECUTE_TASKS</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67337"></a><a id="ARPLS67338"></a><a id="ARPLS67338"></a><a id="ARPLS67337"></a><div class="props_rev_3"><a id="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" name="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171"></a><h3 id="ARPLS-GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171" class="sect3"><span class="enumeration_section">115.5 </span>DBMS_PARALLEL_EXECUTE Exceptions
               </h3>
               <div>
                  <p>The following table lists the exceptions raised by <code class="codeph">DBMS_PARALLEL_EXECUTE</code>.
                  </p>
                  <div class="tblformal" id="GUID-B5E48A38-96F8-4A49-ABD6-7A0D4F927171__GUID-3396E1FD-276C-4C33-973D-E0A86C72D4C2">
                     <p class="titleintable">Table 115-3 Exceptions Raised by DBMS_PARALLEL_EXECUTE</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Exceptions Raised by DBMS_PARALLEL_EXECUTE" summary="This table describes the Exceptions raised by the DBMS_PARALLEL_EXECUTE package." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d647230e993">Exception</th>
                              <th align="left" valign="bottom" width="15%" id="d647230e996">Error Code</th>
                              <th align="left" valign="bottom" width="55%" id="d647230e999">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1004" headers="d647230e993 ">
                                 <p><code class="codeph">CHUNK_NOT_FOUND</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1004 d647230e996 ">
                                 <p>29499</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1004 d647230e999 ">
                                 <p>Specified chunk does not exist</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1015" headers="d647230e993 ">
                                 <p><code class="codeph">DUPLICATE_TASK_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1015 d647230e996 ">
                                 <p>29497</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1015 d647230e999 ">
                                 <p>Same task name has been used by an existing task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1026" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_CHUNK</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1026 d647230e996 ">
                                 <p>29492</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1026 d647230e999 ">
                                 <p>Attempts to chunk a table that is not in <code class="codeph">CREATED</code> or <code class="codeph">CHUNKING_FAILED</code> state
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1043" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_REDSUME</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1043 d647230e996 ">
                                 <p>29495</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1043 d647230e999 ">
                                 <p>Attempts to resume execution, but the task is not in <code class="codeph">FINISHED_WITH_ERROR</code> or <code class="codeph">CRASHED</code> state
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1060" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATE_FOR_RUN</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1060 d647230e996 ">
                                 <p>29494</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1060 d647230e999 ">
                                 <p>Attempts to execute the task that is not in <code class="codeph">CHUNKED</code> state
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1074" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_STATUS</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1074 d647230e996 ">
                                 <p>29493</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1074 d647230e999 ">
                                 <p>Attempts to set an invalid value to the chunk status</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1085" headers="d647230e993 ">
                                 <p><code class="codeph">INVALID_TABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1085 d647230e996 ">
                                 <p>29491</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1085 d647230e999 ">
                                 <p>Attempts to chunk a table by rowid in cases in which the table is not a physical table, or the table is an IOT</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1096" headers="d647230e993 ">
                                 <p><code class="codeph">MISSING_ROLE</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1096 d647230e996 ">
                                 <p>29490</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1096 d647230e999 ">
                                 <p>User does not have the necessary <code class="codeph">ADM_PARALLEL_EXECUTE</code> role
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d647230e1110" headers="d647230e993 ">
                                 <p><code class="codeph">TASK_NOT_FOUND</code></p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d647230e1110 d647230e996 ">
                                 <p>29498</p>
                              </td>
                              <td align="left" valign="top" width="55%" headers="d647230e1110 d647230e999 ">
                                 <p>Specified <code class="codeph">task_name</code> does not exist
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67339"></a><a id="ARPLS67340"></a><a id="ARPLS67341"></a><a id="ARPLS67342"></a><a id="ARPLS67340"></a><a id="ARPLS67341"></a><a id="ARPLS67342"></a><a id="ARPLS67339"></a><div class="props_rev_3"><a id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" name="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201"></a><h3 id="ARPLS-GUID-F45C3B26-821D-4545-AB48-FD03E82ED201" class="sect3"><span class="enumeration_section">115.6 </span>DBMS_PARALLEL_EXECUTE Examples
               </h3>
               <div>
                  <p>The following examples run on the Human Resources (HR) schema of the Oracle Database Sample Schemas. They requires that the HR schema be created with the <code class="codeph">JOB</code> <code class="codeph">SYSTEM</code> privilege.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-D0A46BDA-D93F-4810-88FC-986600635764">Chunk by ROWID</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example shows the most common usage of this package. After calling the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a>, it checks for errors and reruns in the case of error. 
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  l_sql_stmt VARCHAR2(1000);
  l_try NUMBER;
  l_status NUMBER;
BEGIN
 
  -- Create the TASK
  DBMS_PARALLEL_EXECUTE.CREATE_TASK ('mytask');
 
  -- Chunk the table by ROWID
  DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID('mytask', 'HR', 'EMPLOYEES', true, 100);
 
  -- Execute the DML in parallel
  l_sql_stmt := 'update EMPLOYEES e 
      SET e.salary = e.salary + 10
      WHERE rowid BETWEEN :start_id AND :end_id';
  DBMS_PARALLEL_EXECUTE.RUN_TASK('mytask', l_sql_stmt, DBMS_SQL.NATIVE,
                                 parallel_level =&gt; 10);
 
  -- If there is an error, RESUME it for at most 2 times.
  L_try := 0;
  L_status := DBMS_PARALLEL_EXECUTE.TASK_STATUS('mytask');
  WHILE(l_try &lt; 2 and L_status != DBMS_PARALLEL_EXECUTE.FINISHED) 
  LOOP
    L_try := l_try + 1;
    DBMS_PARALLEL_EXECUTE.RESUME_TASK('mytask');
    L_status := DBMS_PARALLEL_EXECUTE.TASK_STATUS('mytask');
  END LOOP;
 
  -- Done with processing; drop the task
  DBMS_PARALLEL_EXECUTE.DROP_TASK('mytask');
   
END;
/</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-5FB9CFDE-7FAA-4DFA-8B79-5408770526A5">Chunk by User-Provided SQL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A user can specify a chunk algorithm by using the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" title="This procedure chunks the table (associated with the specified task) by means of a user-provided SELECT statement.">CREATE_CHUNKS_BY_SQL Procedure</a>. This example shows that rows with the same <code class="codeph">manager_id</code> are grouped together and processed in one chunk.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  l_chunk_sql VARCHAR2(1000);
  l_sql_stmt VARCHAR2(1000);
  l_try NUMBER;
  l_status NUMBER;
BEGIN
 
  -- Create the TASK
  DBMS_PARALLEL_EXECUTE.CREATE_TASK ('mytask');
 
  -- Chunk the table by MANAGER_ID
  l_chunk_sql := 'SELECT distinct manager_id, manager_id FROM employees';
  DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL('mytask', l_chunk_sql, false);
 
  -- Execute the DML in parallel
  --   the WHERE clause contain a condition on manager_id, which is the chunk
  --   column. In this case, grouping rows is by manager_id.
  l_sql_stmt := 'update EMPLOYEES e 
      SET e.salary = e.salary + 10
      WHERE manager_id between :start_id and :end_id';
  DBMS_PARALLEL_EXECUTE.RUN_TASK('mytask', l_sql_stmt, DBMS_SQL.NATIVE,
                                  parallel_level =&gt; 10);
 
  -- If there is error, RESUME it for at most 2 times.
  L_try := 0;
  L_status := DBMS_PARALLEL_EXECUTE.TASK_STATUS('mytask');
  WHILE(l_try &lt; 2 and L_status != DBMS_PARALLEL_EXECUTE.FINISHED) 
  Loop
    L_try := l_try + 1;
    DBMS_PARALLEL_EXECUTE.RESUME_TASK('mytask');
    L_status := DBMS_PARALLEL_EXECUTE.TASK_STATUS('mytask');
  END LOOP;
 
  -- Done with processing; drop the task
  DBMS_PARALLEL_EXECUTE.DROP_TASK('mytask');
 
end;
/</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F45C3B26-821D-4545-AB48-FD03E82ED201__GUID-5030FCF4-A182-429A-A82D-BBFF3B8EE3FB">Executing Chunks in an User-defined Framework</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can execute chunks in a self-defined framework without using the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a>. This example shows how to use <a href="DBMS_PARALLEL_EXECUTE.html#GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" title="This procedure picks an unassigned ROWID chunk and changes it to ASSIGNED.">GET_ROWID_CHUNK Procedure</a>, <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>, <a href="DBMS_PARALLEL_EXECUTE.html#GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" title="This procedure sets the status of the chunk.">SET_CHUNK_STATUS Procedure</a> to execute the chunks.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  l_sql_stmt varchar2(1000);
  l_try number;
  l_status number;
  l_chunk_id number;
  l_start_rowid rowid;
  l_end_rowid rowid;
  l_any_rows boolean;
  CURSOR c1 IS SELECT chunk_id
               FROM user_parallel_execute_chunks
               WHERE task_name = 'mytask'
                 AND STATUS IN (DBMS_PARALLEL_EXECUTE.PROCESSED_WITH_ERROR,
                                DBMS_PARALLEL_EXECUTE.ASSIGNED);
BEGIN
 
  -- Create the Objects, task, and chunk by ROWID
  DBMS_PARALLEL_EXECUTE.CREATE_TASK ('mytask');
  DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID('mytask', 'HR', 'EMPLOYEES', true, 100);
 
  l_sql_stmt := 'update EMPLOYEES e 
      SET e.salary = e.salary + 10
      WHERE rowid BETWEEN :start_id AND :end_id';
 
  -- Execute the DML in his own framework 
  --
  -- Process each chunk and commit.
  -- After processing one chunk, repeat this process until
  -- all the chunks are processed.
  --
  &lt;&lt;main_processing&gt;&gt;
  LOOP
      --
      -- Get a chunk to process; if there is nothing to process, then exit the 
      -- loop;
      --
      DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK('mytask',
                                                          l_chunk_id,
                                                          l_start_rowid,
                                                          l_end_rowid,
                                                          l_any_rows);
      IF (l_any_rows = false) THEN EXIT; END IF;
 
      --
      -- The chunk is specified by start_id and end_id.
      -- Bind the start_id and end_id and then execute it
      --
      -- If no error occured, set the chunk status to PROCESSED.
      --
      -- Catch any exception. If an exception occured, store the error num/msg
      -- into the chunk table and then continue to process the next chunk.
      -- 
      BEGIN
        EXECUTE IMMEDIATE l_sql_stmt using l_start_rowid, l_end_rowid;
        DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS('mytask',l_chunk_id,
          DBMS_PARALLEL_EXECUTE.PROCESSED);
      EXCEPTION WHEN OTHERS THEN
        DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS('mytask', l_chunk_id,
          DBMS_PARALLEL_EXECUTE.PROCESSED_WITH_ERROR, SQLCODE, SQLERRM);
      END;
 
      --
      -- Finished processing one chunk; Commit here
      --
      COMMIT;
  END LOOP;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67343"></a><a id="ARPLS67344"></a><a id="ARPLS67344"></a><a id="ARPLS67343"></a><div class="props_rev_3"><a id="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" name="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96"></a><h3 id="ARPLS-GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96" class="sect3"><span class="enumeration_section">115.7 </span>Summary of DBMS_PARALLEL_EXECUTE Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_PARALLEL_EXECUTE</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-F93E6373-8ADA-4683-AD02-66CAB1FF5A96__GUID-09629141-2489-4E7A-84EF-36CB5BE62AE6">
                     <p class="titleintable">Table 115-4 DBMS_PARALLEL_EXECUTE Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PARALLEL_EXECUTE Package Subprograms" summary="This table lists the DBMS_PARALLEL_EXECUTE subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d647230e1405">Subprogram</th>
                              <th align="left" valign="bottom" width="59%" id="d647230e1408">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1413" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" title="This procedure drops all chunks of the specified task owned by the specified owner.">ADM_DROP_CHUNKS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1413 d647230e1408 ">
                                 <p>Drops all chunks of the specified task owned by the specified owner</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1425" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" title="This procedure drops the task of the specified user and all related chunks.">ADM_DROP_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1425 d647230e1408 ">
                                 <p>Drops the task of the given user and all related chunks</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1437" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" title="This function returns the task status.">ADM_TASK_STATUS Function</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1437 d647230e1408 ">
                                 <p>Returns the task status</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1449" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" title="This procedure stops the task of the specified owner and related job slaves.">ADM_STOP_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1449 d647230e1408 ">
                                 <p>Stops the task of the given owner and related job slaves</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1461" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" title="This procedure creates a task for the current user. The pairing of task_name and current_user must be unique.">CREATE_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1461 d647230e1408 ">
                                 <p>Creates a task for the current user</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1479" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" title="This procedure chunks the table (associated with the specified task) by the specified column. The specified column must be a NUMBER column. This procedure takes the MIN and MAX value of the column, and then divides the range evenly according to chunk_size.">CREATE_CHUNKS_BY_NUMBER_COL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1479 d647230e1408 ">
                                 <p>Chunks the table associated with the given task by the specified column.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1503" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" title="This procedure chunks the table (associated with the specified task) by ROWID.">CREATE_CHUNKS_BY_ROWID Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1503 d647230e1408 ">
                                 <p>Chunks the table associated with the given task by <code class="codeph">ROWID</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1520" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" title="This procedure chunks the table (associated with the specified task) by means of a user-provided SELECT statement.">CREATE_CHUNKS_BY_SQL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1520 d647230e1408 ">
                                 <p>Chunks the table associated with the given task by means of a user-provided <code class="codeph">SELECT</code> statement
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1538" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" title="This procedure drops the task and all related chunks.">DROP_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1538 d647230e1408 ">
                                 <p>Drops the task and all related chunks</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1550" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" title="This procedure drops the task's chunks.">DROP_CHUNKS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1550 d647230e1408 ">
                                 <p>Drops the task's chunks</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1562" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" title="This function returns a unique name for a task.">GENERATE_TASK_NAME Function</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1562 d647230e1408 ">
                                 <p>Returns a unique name for a task</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1575" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" title="This procedure picks an unassigned NUMBER chunk and changes it to ASSIGNED. If there are no more chunks to assign, any_rows is set to FALSE. Otherwise, the chunk_id, start, and end_id of the chunk are returned as OUT parameters.">GET_NUMBER_COL_CHUNK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1575 d647230e1408 ">
                                 <p>Picks an unassigned <code class="codeph">NUMBER</code> chunk and changes it to <code class="codeph">ASSIGNED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1619" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" title="This procedure picks an unassigned ROWID chunk and changes it to ASSIGNED.">GET_ROWID_CHUNK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1619 d647230e1408 ">
                                 <p>Picks an unassigned <code class="codeph">ROWID</code> chunk and changes it to <code class="codeph">ASSIGNED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1642" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" title="This procedure deletes all the processed chunks whose status is PROCESSED or PROCESSED_WITH_ERROR.">PURGE_PROCESSED_CHUNKS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1642 d647230e1408 ">
                                 <p>Deletes all the processed chunks whose status is <code class="codeph">PROCESSED</code> or <code class="codeph">PROCESSED_WITH_ERROR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1665" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" title="This procedure retries the specified the task if the RUN_TASK Procedure finished with an error, or resumes the task if a crash occurred.">RESUME_TASK Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1665 d647230e1408 ">
                                 <p>Retries the given the task if the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a> finished with an error, or resumes the task if a crash occurred.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1687" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1687 d647230e1408 ">
                                 <p>Executes the specified SQL statement on the chunks in parallel</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1702" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" title="This procedure sets the status of the chunk.">SET_CHUNK_STATUS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1702 d647230e1408 ">
                                 <p>Sets the status of the chunk</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1714" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-02F55085-5D20-4417-851A-121154F0CF87" title="This procedure stops the task and related job slaves.">STOP_TASK Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1714 d647230e1408 ">
                                 <p>Stops the task and related job slaves</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d647230e1726" headers="d647230e1405 ">
                                 <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" title="This procedure returns the task status.">TASK_STATUS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d647230e1726 d647230e1408 ">
                                 <p>Returns the task status</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67345"></a><a id="ARPLS67346"></a><a id="ARPLS67346"></a><a id="ARPLS67345"></a><div class="props_rev_3"><a id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" name="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5"></a><h4 id="ARPLS-GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5" class="sect4"><span class="enumeration_section">115.7.1 </span>ADM_DROP_CHUNKS Procedure
                  </h4>
                  <div>
                     <p>This procedure drops all chunks of the specified task owned by the specified owner.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-B3A5195B-1C2C-4D64-8410-BC6797B4D4A7">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_DROP_CHUNKS (
   task_owner      IN  VARCHAR2,
   task_name       IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-0747554A-8B8C-4131-878C-58BAAF107DCA">Parameters</p>
                        <div class="tblformal" id="GUID-D9B7DCA8-5AD3-42E6-9100-4D568C0CE8A5__GUID-08A42005-8E5F-49C8-893B-F99EC306A2CA">
                           <p class="titleintable">Table 115-5 ADM_DROP_CHUNKS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_DROP_CHUNKS Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_DROP_CHUNKS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e1847">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e1850">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1855" headers="d647230e1847 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1855 d647230e1850 ">
                                       <p>Owner of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1863" headers="d647230e1847 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1863 d647230e1850 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67347"></a><a id="ARPLS67348"></a><a id="ARPLS67348"></a><a id="ARPLS67347"></a><div class="props_rev_3"><a id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" name="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC"></a><h4 id="ARPLS-GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC" class="sect4"><span class="enumeration_section">115.7.2 </span>ADM_DROP_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the task of the specified user and all related chunks.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-261E56A2-7E60-4BB2-91D9-3991F6C134D3">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_DROP_TASK (
   task_owner      IN  VARCHAR2,
   task_name       IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-FC89E2A5-C596-41F0-A569-9D61AE1AD4AB">Parameters</p>
                        <div class="tblformal" id="GUID-E5575BD6-D804-48E7-B776-6A1E447C4AFC__GUID-5AFC68B7-544F-4630-B7C1-8B29CA4F2F7C">
                           <p class="titleintable">Table 115-6 ADM_DROP_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_DROP_TASK Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.ADM_DROP_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e1981">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e1984">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1989" headers="d647230e1981 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1989 d647230e1984 ">
                                       <p>Owner of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e1997" headers="d647230e1981 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e1997 d647230e1984 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67349"></a><a id="ARPLS67350"></a><a id="ARPLS67350"></a><a id="ARPLS67349"></a><div class="props_rev_3"><a id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" name="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5"></a><h4 id="ARPLS-GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5" class="sect4"><span class="enumeration_section">115.7.3 </span>ADM_TASK_STATUS Function
                  </h4>
                  <div>
                     <p>This function returns the task status.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-5AEF996C-31B5-47EE-8790-7829152B51B3">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_TASK_STATUS  (
   task_owner      IN  VARCHAR2,
   task_name       IN  VARCHAR2)
 RETURN NUMBER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-816C2E24-06C5-4F71-ADB3-F5800F84FFC6">Parameters</p>
                        <div class="tblformal" id="GUID-ED6A3CF2-ACF3-4E11-AD69-157AAFCCE8E5__GUID-CC820546-C3D9-4036-B52D-0BCF3074C00D">
                           <p class="titleintable">Table 115-7 ADM_TASK_STATUS Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_TASK_STATUS Function Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_TASK_STATUS  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2114">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2117">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2122" headers="d647230e2114 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2122 d647230e2117 ">
                                       <p>Owner of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2130" headers="d647230e2114 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2130 d647230e2117 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67351"></a><a id="ARPLS67352"></a><a id="ARPLS67352"></a><a id="ARPLS67351"></a><div class="props_rev_3"><a id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" name="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31"></a><h4 id="ARPLS-GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31" class="sect4"><span class="enumeration_section">115.7.4 </span>ADM_STOP_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure stops the task of the specified owner and related job slaves.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-534BFFE5-236D-4C5D-A2B0-AE1BAF4F4E95">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.ADM_STOP_TASK (
   task_owner      IN  VARCHAR2,
   task_name       IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-305B726F-F48A-435C-B0A9-EFFFC9DD3580">Parameters</p>
                        <div class="tblformal" id="GUID-20A89F50-9B58-4D89-9924-ED625E1A4F31__GUID-1DFC46BE-A5F9-4D80-93DB-D9FA7739B45D">
                           <p class="titleintable">Table 115-8 ADM_STOP_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADM_STOP_TASK Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.ADM_STOP_TASK  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2247">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2250">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2255" headers="d647230e2247 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2255 d647230e2250 ">
                                       <p>Owner of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2263" headers="d647230e2247 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2263 d647230e2250 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67353"></a><a id="ARPLS67354"></a><a id="ARPLS67354"></a><a id="ARPLS67353"></a><div class="props_rev_3"><a id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" name="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B"></a><h4 id="ARPLS-GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B" class="sect4"><span class="enumeration_section">115.7.5 </span>CREATE_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure creates a task for the current user. The pairing of <code class="codeph">task_name</code> and <code class="codeph">current_user</code> must be unique. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-83E7FB34-B8D5-4CF6-99A9-98D10A5D2D55">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_TASK (
   task_name        IN   VARCHAR2,
   comment          IN   VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-19A67CD1-2307-4C9C-8E59-C97A6E659B16">Parameters</p>
                        <div class="tblformal" id="GUID-67FE6EF4-7331-4CA1-8252-3FDD48C4EF6B__GUID-7163236E-40C0-46C7-95DD-1849FEFD93E8">
                           <p class="titleintable">Table 115-9 CREATE_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_TASK Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.CREATE_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2387">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2390">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2395" headers="d647230e2387 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2395 d647230e2390 ">
                                       <p>Name of the task. The task_name can be any string in which related length must be less than or equal to 128 bytes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2403" headers="d647230e2387 ">
                                       <p><code class="codeph">comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2403 d647230e2390 ">
                                       <p>Comment field. The comment must be less than 4000 bytes. </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67355"></a><a id="ARPLS67356"></a><a id="ARPLS67356"></a><a id="ARPLS67355"></a><div class="props_rev_3"><a id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" name="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8"></a><h4 id="ARPLS-GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8" class="sect4"><span class="enumeration_section">115.7.6 </span>CREATE_CHUNKS_BY_NUMBER_COL Procedure
                  </h4>
                  <div>
                     <p>This procedure chunks the table (associated with the specified task) by the specified column. The specified column must be a <code class="codeph">NUMBER</code> column. This procedure takes the <code class="codeph">MIN</code> and <code class="codeph">MAX</code> value of the column, and then divides the range evenly according to <code class="codeph">chunk_size</code>.
                     </p>
                     <div class="section">
                        <p> The chunks are:</p><pre class="oac_no_warn" dir="ltr">START_ID                              END_ID
---------------------------           ---------------------------
min_id_val                            min_id_val+1*chunk_size-1
min_id_val+1*chunk_size               min_id_val+2*chunk_size-1
…                                     …
min_id_val+i*chunk_size               max_id_val</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-8CAD8168-CB76-4326-8D10-542EFD0AEE9F">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_NUMBER_COL (
   task_name       IN  VARCHAR2,
   table_owner     IN  VARCHAR2,
   table_name      IN  VARCHAR2,
   table_column    IN  VARCHAR2,
   chunk_size      IN  NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-BBCDA690-B750-4F64-9FDC-6B580E611350">Parameters</p>
                        <div class="tblformal" id="GUID-77247C7C-388F-45F4-BE0A-F8AD548EE5E8__GUID-CA09E5B0-3302-4269-A893-5AE050661793">
                           <p class="titleintable">Table 115-10 CREATE_CHUNKS_BY_NUMBER_COL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_NUMBER_COL Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_NUMBER_COL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2537">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2540">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2545" headers="d647230e2537 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2545 d647230e2540 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2553" headers="d647230e2537 ">
                                       <p><code class="codeph">table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2553 d647230e2540 ">
                                       <p>Owner of the table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2561" headers="d647230e2537 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2561 d647230e2540 ">
                                       <p>Name of the table </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2569" headers="d647230e2537 ">
                                       <p><code class="codeph">table_column</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2569 d647230e2540 ">
                                       <p>Name of the <code class="codeph">NUMBER</code> column
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2580" headers="d647230e2537 ">
                                       <p><code class="codeph">chunk_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2580 d647230e2540 ">
                                       <p>Range of each chunk</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67357"></a><a id="ARPLS67358"></a><a id="ARPLS67358"></a><a id="ARPLS67357"></a><div class="props_rev_3"><a id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" name="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C"></a><h4 id="ARPLS-GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C" class="sect4"><span class="enumeration_section">115.7.7 </span>CREATE_CHUNKS_BY_ROWID Procedure
                  </h4>
                  <div>
                     <p>This procedure chunks the table (associated with the specified task) by <code class="codeph">ROWID</code>.
                     </p>
                     <div class="section">
                        <p><code class="codeph">num_row</code> and <code class="codeph">num_block</code> are approximate guidance for the size of each chunk. The table to be chunked must be a physical table with physical <code class="codeph">ROWID</code> having views and table functions. Index-organized tables are not allowed.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-C1F35D3F-326D-4CE8-9C23-DA34F1F48DFF">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID (
   task_name       IN  VARCHAR2,
   table_owner     IN  VARCHAR2,
   table_name      IN  VARCHAR2,
   by_row          IN  BOOLEAN,
   chunk_size      IN  NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-50BB63EE-51BA-4714-A8E1-241497A0F186">Parameters</p>
                        <div class="tblformal" id="GUID-5CE1DA66-EF57-4D4A-8682-FF449B9EC78C__GUID-80C88455-131E-4D1A-A407-F91DB7F0D53A">
                           <p class="titleintable">Table 115-11 CREATE_CHUNKS_BY_ROWID Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_ROWID Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_ROWID  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2711">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2714">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2719" headers="d647230e2711 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2719 d647230e2714 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2727" headers="d647230e2711 ">
                                       <p><code class="codeph">table_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2727 d647230e2714 ">
                                       <p>Owner of the table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2735" headers="d647230e2711 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2735 d647230e2714 ">
                                       <p>Name of the table </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2743" headers="d647230e2711 ">
                                       <p><code class="codeph">by_row</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2743 d647230e2714 ">
                                       <p><code class="codeph">TRUE</code> if <code class="codeph">chunk_size</code> refers to the number of rows, otherwise, <code class="codeph">chunk_size</code> refers to the number of blocks
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2759" headers="d647230e2711 ">
                                       <p><code class="codeph">chunk_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2759 d647230e2714 ">
                                       <p>Approximate number of rows/blocks to process for each commit cycle</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67359"></a><a id="ARPLS67360"></a><a id="ARPLS67360"></a><a id="ARPLS67359"></a><div class="props_rev_3"><a id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" name="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4"></a><h4 id="ARPLS-GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4" class="sect4"><span class="enumeration_section">115.7.8 </span>CREATE_CHUNKS_BY_SQL Procedure
                  </h4>
                  <div>
                     <p>This procedure chunks the table (associated with the specified task) by means of a user-provided <code class="codeph">SELECT</code> statement.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">SELECT</code> statement that returns the range of each chunk must have two columns: <code class="codeph">start_id</code> and <code class="codeph">end_id</code>. If the task is to chunk by <code class="codeph">ROWID</code>, then the two columns must be of <code class="codeph">ROWID</code> type. If the task is to chunk the table by <code class="codeph">NUMBER</code> column, then the two columns must be of <code class="codeph">NUMBER</code> type. The procedure provides the flexibility to users who want to deploy user-defined chunk algorithms.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-F7A79180-19FC-4F5F-8107-6279D8609986">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL (
   task_name       IN  VARCHAR2,
   sql_statement   IN  CLOB,
   by_rowid        IN  BOOLEAN);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-02DBBC29-6433-4627-B450-C402912605D9">Parameters</p>
                        <div class="tblformal" id="GUID-FCB2DAFE-06A9-4ABC-B19B-E574D3833CC4__GUID-D3A8C7DF-6504-4C2C-A71A-B5C191628BC3">
                           <p class="titleintable">Table 115-12 CREATE_CHUNKS_BY_SQL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_CHUNKS_BY_SQL Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.CREATE_CHUNKS_BY_SQL  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e2905">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e2908">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2913" headers="d647230e2905 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2913 d647230e2908 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2921" headers="d647230e2905 ">
                                       <p><code class="codeph">sql_statment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2921 d647230e2908 ">
                                       <p>SQL that returns the chunk ranges</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e2929" headers="d647230e2905 ">
                                       <p><code class="codeph">by_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e2929 d647230e2908 ">
                                       <p><code class="codeph">TRUE</code> if the table is chunked by rowids
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67361"></a><a id="ARPLS67362"></a><a id="ARPLS67362"></a><a id="ARPLS67361"></a><div class="props_rev_3"><a id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" name="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0"></a><h4 id="ARPLS-GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0" class="sect4"><span class="enumeration_section">115.7.9 </span>DROP_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the task and all related chunks.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-2043B750-788D-4E54-833A-EF489202722D">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.DROP_TASK (
   task_name       IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-78A1F6B2-97EA-4AE9-BBA4-AA3B8CCB41A2">Parameters</p>
                        <div class="tblformal" id="GUID-804E9E0C-37F1-49FC-91BB-E2232BF8BAD0__GUID-9E6A6668-1855-446E-84CD-947549A861D4">
                           <p class="titleintable">Table 115-13 DROP_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_TASK Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.DROP_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3048">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3051">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3056" headers="d647230e3048 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3056 d647230e3051 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67363"></a><a id="ARPLS67364"></a><a id="ARPLS67364"></a><a id="ARPLS67363"></a><div class="props_rev_3"><a id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" name="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77"></a><h4 id="ARPLS-GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77" class="sect4"><span class="enumeration_section">115.7.10 </span>DROP_CHUNKS Procedure
                  </h4>
                  <div>
                     <p>This procedure drops the task's chunks.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-416377DE-E5E3-40E7-A8B3-227AB4D281FD">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.DROP_CHUNKS (
   task_name       IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-05C4CDF2-9BF1-4117-B960-9BC82F2D5D3C">Parameters</p>
                        <div class="tblformal" id="GUID-C87FFCF3-FB56-4FDD-B3D8-99E5A8C4DD77__GUID-262D84C5-8A45-496E-9AF7-EC345943118C">
                           <p class="titleintable">Table 115-14 DROP_CHUNKS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_CHUNKS Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.DROP_CHUNKS  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3173">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3176">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3181" headers="d647230e3173 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3181 d647230e3176 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67365"></a><a id="ARPLS67366"></a><a id="ARPLS67366"></a><a id="ARPLS67365"></a><div class="props_rev_3"><a id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" name="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B"></a><h4 id="ARPLS-GUID-27329B79-AB51-45C7-8620-0E9D11008A6B" class="sect4"><span class="enumeration_section">115.7.11 </span>GENERATE_TASK_NAME Function
                  </h4>
                  <div>
                     <p>This function returns a unique name for a task. </p>
                     <div class="section">
                        <p>The name is of the form <span class="italic">prefix</span>N where N is a number from a sequence. If no prefix is specified, the generated name is, by default, <code class="codeph">TASK$_1</code>, <code class="codeph">TASK$_2</code>, <code class="codeph">TASK$_3</code>, and so on. If '<code class="codeph">SCOTT</code>' is specified as the prefix, the name is <code class="codeph">SCOTT1</code>, <code class="codeph">SCOTT2</code>, and so on.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-62FD19C3-1703-480A-AA56-2023C0DA2EBD">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GENERATE_TASK_NAME (
   prefix      IN      VARCHAR2 DEFAULT 'TASK$_') 
 RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-A9350CBA-39F3-4982-AC7A-894695BCB5D3">Parameters</p>
                        <div class="tblformal" id="GUID-27329B79-AB51-45C7-8620-0E9D11008A6B__GUID-4BA3883D-6EA4-40EA-B2A0-F4B236B3EA06">
                           <p class="titleintable">Table 115-15 GENERATE_TASK_NAME Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GENERATE_TASK_NAME Function Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GENERATE_TASK_NAME  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3324">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3327">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3332" headers="d647230e3324 ">
                                       <p><code class="codeph">prefix</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3332 d647230e3327 ">
                                       <p>The prefix to use when generating the task name </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67367"></a><a id="ARPLS67368"></a><a id="ARPLS67368"></a><a id="ARPLS67367"></a><div class="props_rev_3"><a id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" name="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55"></a><h4 id="ARPLS-GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55" class="sect4"><span class="enumeration_section">115.7.12 </span>GET_NUMBER_COL_CHUNK Procedure
                  </h4>
                  <div>
                     <p>This procedure picks an unassigned <code class="codeph">NUMBER</code> chunk and changes it to <code class="codeph">ASSIGNED</code>. If there are no more chunks to assign, <code class="codeph">any_rows</code> is set to <code class="codeph">FALSE</code>. Otherwise, the <code class="codeph">chunk_id</code>, <code class="codeph">start</code>, and <code class="codeph">end</code><code class="codeph">_id</code> of the chunk are returned as <code class="codeph">OUT</code> parameters. 
                     </p>
                     <div class="section">
                        <p>The chunk information in <code class="codeph">DBMS_PARALLEL_EXECUTE_CHUNKS$</code> is updated as follows: <code class="codeph">STATUS</code> becomes <code class="codeph">ASSIGNED</code>; <code class="codeph">START_TIMESTAMP</code> records the current time; <code class="codeph">END_TIMESTAMP</code> is cleared.
                        </p>
                        <div class="infoboxnotealso" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-C5CF2FCA-C29C-43EE-A2D0-88E289FB544B">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="The DBMS_PARALLEL_EXECUTE package uses the following views.">Views</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-47C936CB-B37D-45C1-9E9A-CAC073633017">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GET_NUMBER_COL_CHUNK (
   task_name       IN VARCHAR2,
   chunk_id        OUT NUMBER,
   start_rowid     OUT ROWID,      
   end_id          OUT ROWID,
   any_rows        OUT BOOLEAN);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-87B8FEEE-E8FE-4CEF-9B02-FA12120F9795">Parameters</p>
                        <div class="tblformal" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-796F28B1-0E6B-4474-9FBF-C785CD7E21C1">
                           <p class="titleintable">Table 115-16 GET_NUMBER_COL_CHUNK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_NUMBER_COL_CHUNK Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GET_NUMBER_COL_CHUNK  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3505">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3508">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3513" headers="d647230e3505 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3513 d647230e3508 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3521" headers="d647230e3505 ">
                                       <p><code class="codeph">chunk_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3521 d647230e3508 ">
                                       <p>Chunk_id of the chunk</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3529" headers="d647230e3505 ">
                                       <p><code class="codeph">start_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3529 d647230e3508 ">
                                       <p>Start rowid in the returned range</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3537" headers="d647230e3505 ">
                                       <p><code class="codeph">end_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3537 d647230e3508 ">
                                       <p>End rowid in the returned range</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3545" headers="d647230e3505 ">
                                       <p><code class="codeph">any_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3545 d647230e3508 ">
                                       <p>Indicating if there could be any rows to process in the range</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-62ABE054-BA31-4B6B-B438-D0D5F00BCC55__GUID-CE4F4B25-7B9D-4138-B6D7-43E9E547E839">Usage Notes</p>
                        <p>If the task is chunked by <code class="codeph">ROWID</code>, then use <code class="codeph">get_rowid_range</code>. If the task is chunked by <code class="codeph">NUMBER</code> column, then use <code class="codeph">get_number_col_range</code>. If you make the wrong function call, the returning <code class="codeph">chunk_id</code> and <code class="codeph">any_rows</code> have valid values but <code class="codeph">start_id</code> and <code class="codeph">end_id</code> are <code class="codeph">NULL</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67369"></a><a id="ARPLS67370"></a><a id="ARPLS67370"></a><a id="ARPLS67369"></a><div class="props_rev_3"><a id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" name="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963"></a><h4 id="ARPLS-GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963" class="sect4"><span class="enumeration_section">115.7.13 </span>GET_ROWID_CHUNK Procedure
                  </h4>
                  <div>
                     <p>This procedure picks an unassigned <code class="codeph">ROWID</code> chunk and changes it to <code class="codeph">ASSIGNED</code>. 
                     </p>
                     <div class="section">
                        <p>If there are no more chunks to assign, <code class="codeph">any_rows</code> is set to <code class="codeph">FALSE</code>. Otherwise, the <code class="codeph">chunk_id</code>, <code class="codeph">start</code>, and <code class="codeph">end</code>_<code class="codeph">id</code> of the chunk are returned as <code class="codeph">OUT</code> parameters. The chunk info in <code class="codeph">DBMS_PARALLEL_EXECUTE_CHUNKS$</code> is updated as follows: <code class="codeph">STATUS</code> becomes <code class="codeph">ASSIGNED</code>; <code class="codeph">START_TIMESTAMP</code> records the current time; <code class="codeph">END_TIMESTAMP</code> is cleared.
                        </p>
                        <div class="infoboxnotealso" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-6F92634E-4302-4FBF-B0CF-19555525211C">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="The DBMS_PARALLEL_EXECUTE package uses the following views.">Views</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-194684D2-BFBD-49B6-B392-E32D331D95BD">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK (
   task_name       IN VARCHAR2,
   chunk_id        OUT NUMBER,
   start_rowid     OUT ROWID,      
   end_id          OUT ROWID,
   any_rows        OUT BOOLEAN);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-2E8E16C7-E11C-4434-80C7-EC3B4840DF7F">Parameters</p>
                        <div class="tblformal" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-FBBC5C64-F8B1-4503-8E89-995B45E0D2F1">
                           <p class="titleintable">Table 115-17 GET_ROWID_CHUNK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_ROWID_CHUNK Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.GET_ROWID_CHUNK  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e3753">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e3756">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3761" headers="d647230e3753 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3761 d647230e3756 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3769" headers="d647230e3753 ">
                                       <p><code class="codeph">chunk_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3769 d647230e3756 ">
                                       <p>Chunk_id of the chunk</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3777" headers="d647230e3753 ">
                                       <p><code class="codeph">start_rowid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3777 d647230e3756 ">
                                       <p>Start rowid in the returned range</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3785" headers="d647230e3753 ">
                                       <p><code class="codeph">end_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3785 d647230e3756 ">
                                       <p>End rowid in the returned range</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e3793" headers="d647230e3753 ">
                                       <p><code class="codeph">any_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e3793 d647230e3756 ">
                                       <p>Indicates that the range could include rows to process</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A31C2E84-91CC-4D35-AAFE-4E7E6609C963__GUID-33BF89D5-1258-4C53-8B63-72CCBBB1AA86">Usage Notes</p>
                        <p>If the task is chunked by <code class="codeph">ROWID</code>, then use <code class="codeph">get_rowid_range</code>. If the task is chunked by <code class="codeph">NUMBER</code> column, then use <code class="codeph">get_number_col_range</code>. If you make the wrong function call, the returning <code class="codeph">chunk_id</code> and <code class="codeph">any_rows</code> will still have valid values but <code class="codeph">start_id</code> and <code class="codeph">end_id</code> are <code class="codeph">NULL</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67371"></a><a id="ARPLS67372"></a><a id="ARPLS67372"></a><a id="ARPLS67371"></a><div class="props_rev_3"><a id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" name="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468"></a><h4 id="ARPLS-GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468" class="sect4"><span class="enumeration_section">115.7.14 </span>PURGE_PROCESSED_CHUNKS Procedure
                  </h4>
                  <div>
                     <p>This procedure deletes all the processed chunks whose status is <code class="codeph">PROCESSED</code> or <code class="codeph">PROCESSED_WITH_ERROR</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-349D013D-DAE4-4AB1-9A99-80B0F79A6593">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.PURGE_PROCESSED_CHUNKS (
   task_name       IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-04EC1C6F-E73F-4E63-96FB-53DAAE14D678">Parameters</p>
                        <div class="tblformal" id="GUID-21E1322F-0E2E-4A75-BBE9-322BCD7BF468__GUID-D6ADB08A-AD4C-4B33-A18D-12389246A6D3">
                           <p class="titleintable">Table 115-18 PURGE_PROCESSED_CHUNKS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_PROCESSED_CHUNKS Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.PURGE_PROCESSED_CHUNKS  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d647230e3950">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d647230e3953">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d647230e3958" headers="d647230e3950 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d647230e3958 d647230e3953 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67373"></a><a id="ARPLS67374"></a><a id="ARPLS67374"></a><a id="ARPLS67373"></a><div class="props_rev_3"><a id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" name="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F"></a><h4 id="ARPLS-GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" class="sect4"><span class="enumeration_section">115.7.15 </span>RESUME_TASK Procedures
                  </h4>
                  <div>
                     <p>This procedure retries the specified the task if the RUN_TASK Procedure finished with an error, or resumes the task if a crash occurred. </p>
                     <div class="section">
                        <p>You can only invoke this procedure if the task is in a <code class="codeph">CRASHED</code> or <code class="codeph">FINISHED_WITH_ERROR</code> state. 
                        </p>
                        <p>For a crashed serial execution, the state remains in <code class="codeph">PROCESSING</code>. The <code class="codeph">FORCE</code> option allows you to resume any task in <code class="codeph">PROCESSING</code> state. However, it is your responsibility to determine that a crash has occurred. 
                        </p>
                        <p>The procedure resumes processing the chunks which have not been processed. Also, chunks which are in <code class="codeph">PROCESSED_WITH_ERROR</code> or <code class="codeph">ASSIGNED</code> (due to crash) state are processed because those chunks did not commit. 
                        </p>
                        <p>This procedure takes the same argument as the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a>. The overload which takes <code class="codeph">task_name</code> as the only input argument re-uses the arguments provided in the previous invoking of the <a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a> or <a href="DBMS_PARALLEL_EXECUTE.html#GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F" title="This procedure retries the specified the task if the RUN_TASK Procedure finished with an error, or resumes the task if a crash occurred.">RESUME_TASK Procedures</a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-1F646B3D-BED2-4672-B6AE-9F58A4F9D0A3">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-5581516D-AB22-4748-8476-C5BB38BE7E2F__CHDIHJHI" title="This table describes BMS_PARALLEL_EXECUTE Constants - Task Status Value">Table 115-2</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-899D38A8-AE49-46A3-9530-9AF08CAA7125">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.RESUME_TASK (
   task_name                     IN  VARCHAR2,
   sql_stmt                      IN  CLOB,   
   language_flag                 IN  NUMBER,
   edition                       IN  VARCHAR2  DEFAULT NULL,
   apply_crossedition_trigger    IN  VARCHAR2  DEFAULT NULL,
   fire_apply_trigger            IN  BOOLEAN   DEFAULT TRUE,
   parallel_level                IN  NUMBER    DEFAULT 0,
   job_class                     IN  VARCHAR2  DEFAULT 'DEFAULT_JOB_CLASS',
   force                         IN  BOOLEAN   DEFAULT FALSE);

DBMS_PARALLEL_EXECUTE.RESUME_TASK (
   task_name                     IN  VARCHAR2,
   force                         IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-1878E0F2-E0AA-4C16-9807-322E837278A0">Parameters</p>
                        <div class="tblformal" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-6C4C572B-EB99-492F-BE75-D33913D72A46">
                           <p class="titleintable">Table 115-19 RESUME_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_TASK Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.RESUME_TASK  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4141">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4144">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4149" headers="d647230e4141 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4149 d647230e4144 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4157" headers="d647230e4141 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4157 d647230e4144 ">
                                       <p>SQL statement; must have <code class="codeph">:start_id</code> and <code class="codeph">:end_id</code> placeholders
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4171" headers="d647230e4141 ">
                                       <p><code class="codeph">language_flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4171 d647230e4144 ">
                                       <p>Determines how Oracle handles the SQL statement. The following options are recognized:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">V6</code> (or 0) specifies version 6 behavior
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NATIVE</code> (or 1) specifies normal behavior for the database to which the program is connected
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">V7</code> (or 2) specifies Oracle database version 7 behavior
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4195" headers="d647230e4141 ">
                                       <p><code class="codeph">edition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4195 d647230e4144 ">
                                       <p>Specifies the edition in which to run the statement. Default is the current edition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4203" headers="d647230e4141 ">
                                       <p><code class="codeph">apply_crossedition_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4203 d647230e4144 ">
                                       <p>Specifies the unqualified name of a forward crossedition trigger that is to be applied to the specified SQL. The name is resolved using the edition and <code class="codeph">current_schema</code> setting in which the statement is to be executed. The trigger must be owned by the user who executes the statement.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4214" headers="d647230e4141 ">
                                       <p><code class="codeph">fire_apply_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4214 d647230e4144 ">
                                       <p>Indicates whether the specified <code class="codeph">apply_crossedition_trigger</code> is itself to be executed, or only to used as be a guide in selecting other triggers
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4225" headers="d647230e4141 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4225 d647230e4144 ">
                                       <p>Number of parallel jobs; zero if run in serial; <code class="codeph">NULL</code> uses the default parallelism
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4236" headers="d647230e4141 ">
                                       <p><code class="codeph">job_class</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4236 d647230e4144 ">
                                       <p>If running in parallel, the jobs all belong to the specified job class</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4244" headers="d647230e4141 ">
                                       <p><code class="codeph">force</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4244 d647230e4144 ">
                                       <p>If <code class="codeph">TRUE</code>, do not raise an error if the status is <code class="codeph">PROCESSING</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E43F62E7-0DD7-4AB8-96D7-16677FDF1E1F__GUID-4E1F1AE1-2458-446B-BBA9-11106F4E5F01">Examples</p>
                        <p>Suppose the chunk table contains the following chunk ranges:</p><pre class="oac_no_warn" dir="ltr">START_ID                              END_ID
---------------------------           ---------------------------
1                                     10
11                                    20
21                                    30
</pre><p>And the specified SQL statement is:</p><pre class="oac_no_warn" dir="ltr">UPDATE employees
      SET salary = salary + 10
      WHERE e.employee_id  BETWEEN :start_id AND :end_id
</pre><p>This procedure executes the following statements in parallel:</p><pre class="oac_no_warn" dir="ltr">UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id BETWEEN 1 and 10; 
      COMMIT;

UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id between 11 and 20;
      COMMIT;

UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id between 21 and 30;
      COMMIT;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_PARALLEL_EXECUTE.html#GUID-409D701B-8E09-406A-903A-3E74048B2815" title="This procedure executes the specified statement (sql_stmt) on the chunks in parallel.">RUN_TASK Procedure</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS67375"></a><a id="ARPLS67376"></a><a id="ARPLS67376"></a><a id="ARPLS67375"></a><div class="props_rev_3"><a id="GUID-409D701B-8E09-406A-903A-3E74048B2815" name="GUID-409D701B-8E09-406A-903A-3E74048B2815"></a><h4 id="ARPLS-GUID-409D701B-8E09-406A-903A-3E74048B2815" class="sect4"><span class="enumeration_section">115.7.16 </span>RUN_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure executes the specified statement (<code class="codeph">sql_stmt</code>) on the chunks in parallel.
                     </p>
                     <div class="section">
                        <p>It commits after processing each chunk. </p>
                        <p>The specified statement must have two placeholders called <code class="codeph">start_id</code> and <code class="codeph">end_id,</code> respectively, which represent the range of the chunk to be processed. The type of each placeholder must be <code class="codeph">ROWID</code> where <code class="codeph">ROWID</code>-based chunking was used, or <code class="codeph">NUMBER</code> where <code class="codeph">NUMBER</code>-based chunking was used. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-3428DDF0-B296-44E9-B7CC-F506E096F0F6">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.RUN_TASK (
   task_name                     IN  VARCHAR2,
   sql_stmt                      IN  CLOB,
   language_flag                 IN  NUMBER,
   edition                       IN  VARCHAR2  DEFAULT NULL,
   apply_crossedition_trigger    IN  VARCHAR2  DEFAULT NULL,
   fire_apply_trigger            IN  BOOLEAN   DEFAULT TRUE,
   parallel_level                IN  NUMBER    DEFAULT 0,
   job_class                     IN  VARCHAR2  DEFAULT 'DEFAULT_JOB_CLASS');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-F044E103-DF29-4E79-86C5-59C8FBDC903D">Parameters</p>
                        <div class="tblformal" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-DFAFB84B-BC39-48C4-935F-A910DF35B26C">
                           <p class="titleintable">Table 115-20 RUN_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RUN_TASK Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.RUN_TASK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4420">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4423">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4428" headers="d647230e4420 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4428 d647230e4423 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4436" headers="d647230e4420 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4436 d647230e4423 ">
                                       <p>SQL statement; must have <code class="codeph">:start_id</code> and <code class="codeph">:end_id</code> placeholders
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4450" headers="d647230e4420 ">
                                       <p><code class="codeph">language_flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4450 d647230e4423 ">
                                       <p>Determines how Oracle handles the SQL statement. The following options are recognized:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">V6</code> (or 0) specifies version 6 behavior
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NATIVE</code> (or 1) specifies normal behavior for the database to which the program is connected
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">V7</code> (or 2) specifies Oracle database version 7 behavior
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4474" headers="d647230e4420 ">
                                       <p><code class="codeph">edition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4474 d647230e4423 ">
                                       <p>Specifies the edition in which to run the statement. Default is the current edition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4482" headers="d647230e4420 ">
                                       <p><code class="codeph">apply_crossedition_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4482 d647230e4423 ">
                                       <p>Specifies the unqualified name of a forward crossedition trigger that is to be applied to the specified SQL. The name is resolved using the edition and <code class="codeph">current_schema</code> setting in which the statement is to be executed. The trigger must be owned by the user executes the statement.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4493" headers="d647230e4420 ">
                                       <p><code class="codeph">fire_apply_trigger</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4493 d647230e4423 ">
                                       <p>Indicates whether the specified <code class="codeph">apply_crossedition_trigger</code> is itself to be executed, or only a guide to be used in selecting other triggers.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4504" headers="d647230e4420 ">
                                       <p><code class="codeph">parallel_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4504 d647230e4423 ">
                                       <p>Number of parallel jobs; zero if run in serial; <code class="codeph">NULL</code> uses the default parallelism.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4515" headers="d647230e4420 ">
                                       <p><code class="codeph">job_class</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4515 d647230e4423 ">
                                       <p>If running in parallel, the jobs belong to the specified job class</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-8E158FF7-B076-42D6-8E7D-E7972FB88AC5">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The SQL statement is executed as the current user.</p>
                           </li>
                           <li>
                              <p>Since this subprogram is subject to reexecution on error, you need to take great care in submitting a statement to <code class="codeph">RUN_TASK</code> that is not idempotent.
                              </p>
                           </li>
                           <li>
                              <p>Chunks can be executed in parallel by <code class="codeph">DBMS_SCHEDULER</code> job slaves. Therefore, parallel execution requires <code class="codeph">CREATE</code> <code class="codeph">JOB</code> system privilege. The job slaves is created under the current user. The default number of job slaves is computed as the product of Oracle parameters <code class="codeph">cpu_count</code> and <code class="codeph">parallel_threads_per_cpu</code>. On a Real Application Clusters installation, the number of job slaves is the sum of individual settings on each node in the cluster. This procedure returns only when all the chunks are processed. In parallel cases, this procedure returns only when all the job slaves finished. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-409D701B-8E09-406A-903A-3E74048B2815__GUID-C837E02B-0EF3-4D81-AD45-106F4EF9BE21">Examples</p>
                        <p>Suppose the chunk table contains the following chunk ranges:</p><pre class="oac_no_warn" dir="ltr">START_ID                              END_ID
---------------------------           ---------------------------
1                                     10
11                                    20
21                                    30
</pre><p>And the specified SQL statement is:</p><pre class="oac_no_warn" dir="ltr">UPDATE employees
      SET salary = salary + 10
      WHERE e.employee_id  BETWEEN :start_id AND :end_id
</pre><p>This procedure executes the following statements in parallel:</p><pre class="oac_no_warn" dir="ltr">UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id BETWEEN 1 and 10; 
      COMMIT;

UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id between 11 and 20;
      COMMIT;

UPDATE employees  
      SET salary =.salary + 10  WHERE employee_id between 21 and 30;
      COMMIT;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67377"></a><a id="ARPLS67378"></a><a id="ARPLS67378"></a><a id="ARPLS67377"></a><div class="props_rev_3"><a id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" name="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14"></a><h4 id="ARPLS-GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14" class="sect4"><span class="enumeration_section">115.7.17 </span>SET_CHUNK_STATUS Procedure
                  </h4>
                  <div>
                     <p>This procedure sets the status of the chunk.</p>
                     <div class="section">
                        <p>The <code class="codeph">START_TIMESTAMP</code> and <code class="codeph">END_TIMESTAMP</code> of the chunk is updated according to the new status:
                        </p><pre class="oac_no_warn" dir="ltr">Value of the new Status               Side Effect
---------------------------           ---------------------------
UNASSIGNED                            START_TIMESTAMP and END_TIMESTAMP 
                                      will be cleared
ASSIGNED                              START_TIMESTAMP will be the current time 
                                      and END_TIMESTAMP will be cleared.
PROCESSED or PROCESSED_WITH_ERROR     The current time will be recorded 
                                      in END_TIMESTAMP</pre><div class="infoboxnotealso" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-65B81AE4-0EDD-4BF2-8F9D-DC589D7C95B3">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBMS_PARALLEL_EXECUTE.html#GUID-18C01BED-25F5-4B87-BA77-170EDFB70423" title="The DBMS_PARALLEL_EXECUTE package uses the following views.">Views</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-2DE48080-787A-4E78-85DE-698896778881">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS (
   task_name       IN VARCHAR2,
   chunk_id        OUT NUMBER,
   status          IN  NUMBER,
   err_num         IN  NUMBER   DEFAULT NULL,
   err_msg         IN  VARCHAR2 DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-B421BF70-C65C-432C-8FF5-B9696C6678BB">Parameters</p>
                        <div class="tblformal" id="GUID-69FA9E4B-7AEB-4817-95BB-5D70C47FCA14__GUID-F455EF4B-B253-4DC3-84CC-6973B9A4A2D8">
                           <p class="titleintable">Table 115-21 SET_CHUNK_STATUS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_CHUNK_STATUS Procedure Parameters" summary="This table describes the parameters of DBMS_PARALLEL_EXECUTE.SET_CHUNK_STATUS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4701">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4704">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4709" headers="d647230e4701 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4709 d647230e4704 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4717" headers="d647230e4701 ">
                                       <p><code class="codeph">chunk_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4717 d647230e4704 ">
                                       <p>Chunk_id of the chunk</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4725" headers="d647230e4701 ">
                                       <p><code class="codeph">status</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4725 d647230e4704 ">
                                       <p>Status of the chunk: <code class="codeph">UNASSIGNED</code>, <code class="codeph">ASSIGNED</code>, <code class="codeph">PROCESSED</code> <code class="codeph">PROCESSED_WITH_ERROR</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4744" headers="d647230e4701 ">
                                       <p><code class="codeph">err_num</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4744 d647230e4704 ">
                                       <p>Error code returned during the processing of the chunk</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4752" headers="d647230e4701 ">
                                       <p><code class="codeph">err_msg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4752 d647230e4704 ">
                                       <p>Error message returned during the processing of the chunk</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67379"></a><a id="ARPLS67380"></a><a id="ARPLS67380"></a><a id="ARPLS67379"></a><div class="props_rev_3"><a id="GUID-02F55085-5D20-4417-851A-121154F0CF87" name="GUID-02F55085-5D20-4417-851A-121154F0CF87"></a><h4 id="ARPLS-GUID-02F55085-5D20-4417-851A-121154F0CF87" class="sect4"><span class="enumeration_section">115.7.18 </span>STOP_TASK Procedure
                  </h4>
                  <div>
                     <p>This procedure stops the task and related job slaves.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-300A8576-35B7-4B1F-A456-A5B5AEEE5123">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.STOP_TASK (
   task_name       IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-5A5D2B5C-7ED3-4F80-B03E-4EF240E49B53">Parameters</p>
                        <div class="tblformal" id="GUID-02F55085-5D20-4417-851A-121154F0CF87__GUID-99FB49FD-88AE-4BB5-AF5A-82467FA67B47">
                           <p class="titleintable">Table 115-22 STOP_TASK Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STOP_TASK Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.STOP_TASK  subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4869">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4872">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4877" headers="d647230e4869 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4877 d647230e4872 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67381"></a><a id="ARPLS67382"></a><a id="ARPLS67382"></a><a id="ARPLS67381"></a><div class="props_rev_3"><a id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" name="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576"></a><h4 id="ARPLS-GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576" class="sect4"><span class="enumeration_section">115.7.19 </span>TASK_STATUS Procedure
                  </h4>
                  <div>
                     <p>This procedure returns the task status.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-84D1E430-6FC4-4632-9604-0ED2C67EEC3C">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PARALLEL_EXECUTE.TASK_STATUS (
   task_name       IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-3F0ED4AB-5E2B-4FD5-AA1F-D8015B0C67DF">Parameters</p>
                        <div class="tblformal" id="GUID-2EEA5D25-B852-45F4-BA06-21EE6383E576__GUID-86D66877-62C4-4BD7-84A0-9E83BD738242">
                           <p class="titleintable">Table 115-23 TASK_STATUS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TASK_STATUS Procedure Parameters" summary="This table describes the Parameters of DBMS_PARALLEL_EXECUTE.TASK_STATUS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d647230e4990">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d647230e4993">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d647230e4998" headers="d647230e4990 ">
                                       <p><code class="codeph">task_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d647230e4998 d647230e4993 ">
                                       <p>Name of the task</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04862.Oracle-dynamic-SQL-method-4.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Dynamic SQL: Method 4</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="cobol-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:40:40-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96466-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ANSI-dynamic-SQL.html" title="Previous" type="text/html">
      <link rel="next" href="multithreaded-applications.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*COBOL Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ANSI-dynamic-SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="multithreaded-applications.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name">  Applications </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Dynamic SQL: Method 4</li>
            </ol>
            <a id="GUID-C6256169-5928-466C-B7C7-960D20705EED" name="GUID-C6256169-5928-466C-B7C7-960D20705EED"></a><a id="LNPCB011"></a>
            
            <h2 id="LNPCB-GUID-C6256169-5928-466C-B7C7-960D20705EED" class="sect2"><span class="enumeration_chapter">11 </span> Oracle Dynamic SQL: Method 4
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter shows you how to implement Oracle dynamic SQL Method 4, which lets your program accept or build dynamic SQL statements that contain a varying number of host variables. </p>
               <p>New applications should be developed using the newer ANSI SQL Method 4 described in “ANSI Dynamic SQL”. The ANSI Method 4 supports all Oracle types, while the older Oracle Method 4 does <span class="italic">not</span> support cursor variables, tables of group items, the DML returning clause, and LOBs.
               </p>
               <p>Subjects discussed include the following: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-ADB6E6AD-E098-418D-A702-1848E04EF385">Meeting the Special Requirements of Method 4</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3">Understanding the SQL Descriptor Area (SQLDA)</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194">The SQLDA Variables</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1">Prerequisite Knowledge</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-2235722D-A4D2-453D-99EE-339F48C96F28">The Basic Steps</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE">A Closer Look at Each Step</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36">Using Host Tables with Method 4</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49">Sample Program 10: Dynamic SQL Method 4</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-C6256169-5928-466C-B7C7-960D20705EED__GUID-B84FD4BD-FCCF-438F-9B62-8FCA6960C24A">
                  <p class="notep1">Note:</p>
                  <p> For a discussion of dynamic SQL Methods 1, 2, and 3, and an overview of Oracle Method 4, see “Oracle Dynamic SQL”.</p>
               </div>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="ANSI-dynamic-SQL.html#GUID-D6E9ACBE-EFF4-42F6-A855-B510004F4164">ANSI Dynamic SQL</a></li>
                     <li><a href="Oracle-dynamic-SQL.html#GUID-C325218F-3DFF-4551-A5EB-483ADB24E324">Oracle Dynamic SQL</a></li>
                  </ul>
               </div>
            </div>
            <a id="LNPCB707"></a><div class="props_rev_3"><a id="GUID-ADB6E6AD-E098-418D-A702-1848E04EF385" name="GUID-ADB6E6AD-E098-418D-A702-1848E04EF385"></a><h3 id="LNPCB-GUID-ADB6E6AD-E098-418D-A702-1848E04EF385" class="sect3"><span class="enumeration_section">11.1 </span>Meeting the Special Requirements of Method 4
               </h3>
               <div>
                  <p>Before looking into the requirements of Method 4, you should be familiar with the terms <span class="italic">select-list item</span> and <span class="italic">place-holder</span>. Select-list items are the columns or expressions following the keyword SELECT in a query. For example, the following dynamic query contains three select-list items: 
                  </p><pre class="oac_no_warn" dir="ltr">SELECT ENAME, JOB, SAL + COMM FROM EMP WHERE DEPTNO = 20
</pre><p>Place-holders are dummy bind (input) variables that hold places in a SQL statement for actual bind variables. You do not declare place-holders and can name them anything you like. Place-holders for bind variables are most often used in the SET, VALUES, and WHERE clauses. For example, the following dynamic SQL statements each contain two place-holders.</p><pre class="oac_no_warn" dir="ltr">INSERT INTO EMP (EMPNO, DEPTNO) VALUES (:E, :D)
DELETE FROM DEPT WHERE DEPTNO = :DNUM AND LOC = :DLOC
</pre><p>Place-holders cannot reference table or column names. </p>
               </div><a id="LNPCB708"></a><div class="props_rev_3"><a id="GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473" name="GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473"></a><h4 id="LNPCB-GUID-393CDFE4-8A89-44AA-90BC-F9B32FB14473" class="sect4"><span class="enumeration_section">11.1.1 </span>Advantages of Method 4
                  </h4>
                  <div>
                     <p>Unlike Methods 1, 2, and 3, dynamic SQL Method 4 lets your program: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Accept or build dynamic SQL statements that contain an unknown number of select-list items or place-holders </p>
                        </li>
                        <li>
                           <p>Take explicit control over datatype conversion between Oracle and COBOL types </p>
                        </li>
                     </ul>
                     <p>To add this flexibility to your program, you must give the runtime library additional information.<a id="d72777e160" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB709"></a><div class="props_rev_3"><a id="GUID-9003045A-98CE-4150-AFEE-62BA00643E30" name="GUID-9003045A-98CE-4150-AFEE-62BA00643E30"></a><h4 id="LNPCB-GUID-9003045A-98CE-4150-AFEE-62BA00643E30" class="sect4"><span class="enumeration_section">11.1.2 </span>Information the Database Needs
                  </h4>
                  <div>
                     <p>Pro*COBOL generates calls to Oracle for all executable dynamic SQL statements. If a dynamic SQL statement contains no select-list items or place-holders, the database needs no additional information to execute the statement. The following DELETE statement falls into this category: </p><pre class="oac_no_warn" dir="ltr">*    Dynamic SQL statement...
     MOVE 'DELETE FROM EMP WHERE DEPTNO = 30' TO STMT.
</pre><p>However, most dynamic SQL statements contain select-list items or place-holders for bind variables, as shown in the following UPDATE statement: </p><pre class="oac_no_warn" dir="ltr">*    Dynamic SQL statement with place-holders...
     MOVE 'UPDATE EMP SET COMM = :C WHERE EMPNO = :E' TO STMT.
</pre><p>To execute a dynamic SQL statement that contains select-list items or place-holders for bind variables, or both, the database needs information about the program variables that will hold output or input values. Specifically, the database needs the following information: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The number of select-list items and the number of bind variables </p>
                        </li>
                        <li>
                           <p>The length of each select-list item and bind variable </p>
                        </li>
                        <li>
                           <p>The datatype of each select-list item and bind variable </p>
                        </li>
                        <li>
                           <p>The memory address of each output variable that will store the value of a select-list item, and the address of each bind variable </p>
                        </li>
                     </ul>
                     <p>For example, to write the value of a select-list item, the database needs the address of the corresponding output variable. </p>
                  </div>
               </div><a id="LNPCB710"></a><div class="props_rev_3"><a id="GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98" name="GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98"></a><h4 id="LNPCB-GUID-13734790-CB3A-4E9F-A65B-AD290EED0B98" class="sect4"><span class="enumeration_section">11.1.3 </span>Where the Information is Stored
                  </h4>
                  <div>
                     <p>All the information the database needs about select-list items or place-holders for bind variables, except their values, is stored in a program data structure called the SQL Descriptor Area (SQLDA).</p>
                     <p>Descriptions of select-list items are stored in a <span class="italic">select SQLDA</span>, and descriptions of place-holders for bind variables are stored in a <span class="italic">bind SQLDA</span>.<a id="d72777e244" class="indexterm-anchor"></a><a id="d72777e248" class="indexterm-anchor"></a></p>
                     <p>The values of select-list items are stored in output buffers; the values of bind variables are stored in input buffers. You use the library routine SQLADR to store the addresses of these data buffers in a select or bind SQLDA, so that the database knows where to write output values and read input values.<a id="d72777e252" class="indexterm-anchor"></a><a id="d72777e256" class="indexterm-anchor"></a></p>
                     <p>How do values get stored in these data variables? A FETCH generates output values using a cursor, and input values are filled in by your program, typically from information entered interactively by the user. </p>
                  </div>
               </div><a id="LNPCB711"></a><div class="props_rev_3"><a id="GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C" name="GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C"></a><h4 id="LNPCB-GUID-E5A252C9-C8A4-4A0D-841D-A465950E514C" class="sect4"><span class="enumeration_section">11.1.4 </span>How Information is Obtained
                  </h4>
                  <div>
                     <p>You use the DESCRIBE statement to help get the information the database needs. The DESCRIBE SELECT LIST statement examines each select-list item to determine its name, datatype, constraints, length, scale, and precision, then stores this information in the select SQLDA for your use. For example, you might use select-list names as column headings in a printout. DESCRIBE also stores the total number of select-list items in the SQLDA. </p>
                     <p>The DESCRIBE BIND VARIABLES statement examines each place-holder to determine its name and length, then stores this information in an input buffer and bind SQLDA for your use. For example, you might use place-holder names to prompt the user for the values of bind variables. </p>
                  </div>
               </div>
            </div><a id="LNPCB712"></a><div class="props_rev_3"><a id="GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3" name="GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3"></a><h3 id="LNPCB-GUID-C689132A-8C42-4F2F-AA86-EF747D7EB7C3" class="sect3"><span class="enumeration_section">11.2 </span>Understanding the SQL Descriptor Area (SQLDA)
               </h3>
               <div>
                  <p>This section describes the SQLDA data structure in detail. You learn how to declare it, what variables it contains, how to initialize them, and how to use them in your program.<a id="d72777e313" class="indexterm-anchor"></a><a id="d72777e315" class="indexterm-anchor"></a></p>
               </div><a id="LNPCB713"></a><div class="props_rev_3"><a id="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48" name="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48"></a><h4 id="LNPCB-GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48" class="sect4"><span class="enumeration_section">11.2.1 </span>Purpose of the SQLDA
                  </h4>
                  <div>
                     <p>Method 4 is required for dynamic SQL statements that contain an unknown number of select-list items or place-holders for bind variables. To process this kind of dynamic SQL statement, your program must explicitly declare SQLDAs, also called <span class="italic">descriptors</span>. Each descriptor corresponds to a group item in your program.<a id="d72777e346" class="indexterm-anchor"></a></p>
                     <p>A <span class="italic">select descriptor</span> stores descriptions of select-list items and the addresses of output buffers that hold the names and values of select-list items.<a id="d72777e355" class="indexterm-anchor"></a><a id="d72777e359" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-3750CA2B-A9F1-4EFE-B2D5-86FA01499C48__GUID-C75358CC-0F6F-40AF-97F2-5FF61603A042">
                        <p class="notep1">Note:</p>
                        <p> The name of a select-list item can be a column name, a column alias, or the text of an expression such as SAL + COMM.<a id="d72777e364" class="indexterm-anchor"></a><a id="d72777e368" class="indexterm-anchor"></a></p>
                     </div>
                     <p>A <span class="italic">bind descriptor</span> stores descriptions of bind variables and indicator variables and the addresses of input buffers where the names and values of bind variables and indicator variables are stored.<a id="d72777e377" class="indexterm-anchor"></a><a id="d72777e381" class="indexterm-anchor"></a><a id="d72777e385" class="indexterm-anchor"></a><a id="d72777e389" class="indexterm-anchor"></a></p>
                     <p>Remember, some descriptor variables contain addresses, not values. Therefore, you must declare data buffers to hold the values. You decide the sizes of the required input and output buffers. Because COBOL does not support pointers, you must use the library subroutine SQLADR to get the addresses of input and output buffers. You learn how to call SQLADR in the section “Using SQLADR”.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59">Using SQLADR</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB714"></a><div class="props_rev_3"><a id="GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348" name="GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348"></a><h4 id="LNPCB-GUID-D0FAD28C-3EE5-4ECB-AEA4-A48DAFCFD348" class="sect4"><span class="enumeration_section">11.2.2 </span>Multiple SQLDAs
                  </h4>
                  <div>
                     <p>If your program has more than one active dynamic SQL statement, each statement must have its own SQLDA. You can declare any number of SQLDAs with different names. For example, you might declare three select SQLDAs named SELDSC1, SELDSC2, and SELDSC3, so that you can FETCH from three concurrently open cursors. However, non-concurrent cursors can reuse SQLDAs. </p>
                  </div>
               </div><a id="LNPCB716"></a><a id="LNPCB717"></a><a id="LNPCB715"></a><div class="props_rev_3"><a id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8" name="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8"></a><h4 id="LNPCB-GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8" class="sect4"><span class="enumeration_section">11.2.3 </span>Declaring a SQLDA
                  </h4>
                  <div>
                     <div class="section">
                        <p>To declare select and bind SQLDAs, you can code them into your program using the sample select and bind SQLDAs shown in <a href="Oracle-dynamic-SQL-method-4.html#GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__CDDHABCF">Figure 11-1</a>. You can modify the table dimensions to suit your needs.
                        </p>
                        <div class="infoboxnote" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__GUID-87B619D7-0782-4480-851C-AFDD5453CC3E">
                           <p class="notep1">Note:</p>
                           <p> For byte-swapped platforms, use COMP5 instead of COMP when declaring a SQLDA.</p>
                        </div>
                        <div class="figure" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__CDDHABCF">
                           <p class="titleinfigure">Figure 11-1 Sample Pro*COBOL SQLDA Descriptors and Data Buffers (32 bit)</p><img src="img/pco81005.gif" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/pco81005.html"><br><a href="img_text/pco81005.html">Description of "Figure 11-1 Sample Pro*COBOL SQLDA Descriptors and Data Buffers (32 bit)"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__GUID-DD9F9882-D858-4A99-AC2D-3DBD27003C0F">
                           <p class="notep1">Note:</p>
                           <p>For 64-bit platforms, use PIC S9(18) declarations instead of PIC S9(9) when declaring a SQLDA.</p>
                        </div>
                        <p>You can store the SQLDAs in files (named SELDSC and BNDDSC, for example), and then copy the files into your program with the INCLUDE statement as follows:<a id="d72777e469" class="indexterm-anchor"></a><a id="d72777e473" class="indexterm-anchor"></a><a id="d72777e477" class="indexterm-anchor"></a><a id="d72777e481" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL INCLUDE SELDSC END-EXEC.
     EXEC SQL INCLUDE BNDDSC END-EXEC.
</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__I25351">Figure 11-2</a> shows whether variables are set by SQLADR calls, DESCRIBE commands, FETCH commands, or program assignments. 
                        </p>
                        <div class="figure" id="GUID-BD97527B-614D-4AFB-8C9F-EDB21E690BE8__I25351">
                           <p class="titleinfigure">Figure 11-2  How Variables Are Set</p><img src="img/pco81006.gif" alt="Description of Figure 11-2 follows" title="Description of Figure 11-2 follows" longdesc="img_text/pco81006.html"><br><a href="img_text/pco81006.html">Description of "Figure 11-2  How Variables Are Set"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB719"></a><a id="LNPCB720"></a><a id="LNPCB721"></a><a id="LNPCB722"></a><a id="LNPCB723"></a><a id="LNPCB724"></a><a id="LNPCB725"></a><a id="LNPCB726"></a><a id="LNPCB727"></a><a id="LNPCB728"></a><a id="LNPCB729"></a><a id="LNPCB730"></a><a id="LNPCB731"></a><a id="LNPCB732"></a><a id="LNPCB733"></a><a id="LNPCB734"></a><a id="LNPCB735"></a><a id="LNPCB736"></a><a id="LNPCB737"></a><a id="LNPCB738"></a><a id="LNPCB739"></a><a id="LNPCB740"></a><a id="LNPCB741"></a><a id="LNPCB742"></a><a id="LNPCB718"></a><div class="props_rev_3"><a id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194" name="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194"></a><h3 id="LNPCB-GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194" class="sect3"><span class="enumeration_section">11.3 </span>The SQLDA Variables
               </h3>
               <div>
                  <div class="section">
                     <p>This section explains the purpose and use of each variable in the SQLDA.<a id="d72777e546" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E5A055F1-61B1-4370-8D36-98F9A7806700">SQLDNUM</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This variable specifies the maximum number of select-list items or place-holders that can be included in DESCRIBE. Thus, SQLDNUM determines the number of elements in the descriptor tables.<a id="d72777e556" class="indexterm-anchor"></a><a id="d72777e560" class="indexterm-anchor"></a></p>
                     <p>Before issuing a DESCRIBE command, you must set this variable to the dimension of the descriptor tables. After the DESCRIBE, you must reset it to the actual number of variables in the DESCRIBE, which is stored in SQLDFND.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-F9A6E7E8-C104-472E-81AD-9E3EEAD53FB7">SQLDFND</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The SQLDFND variable is the actual number of select-list items or place-holders found by the DESCRIBE command.<a id="d72777e570" class="indexterm-anchor"></a><a id="d72777e574" class="indexterm-anchor"></a></p>
                     <p>SQLDFND is set by DESCRIBE. If SQLDFND is negative, the DESCRIBE command found too many select-list items or place-holders for the size of the descriptor. For example, if you set SQLDNUM to 10 but DESCRIBE finds 11 select-list items or place-holders, SQLDFND is set to -11. If this happens, you cannot process the SQL statement without reallocating the descriptor.</p>
                     <p>After the DESCRIBE, you must set SQLDNUM equal to SQLDFND.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-F5B86827-B3E0-427A-9337-6AD6C10D78A8">SELDV | BNDDV</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDV | BNDDV</span> table contains the addresses of data buffers that store select-list or bind-variable values.<a id="d72777e589" class="indexterm-anchor"></a><a id="d72777e593" class="indexterm-anchor"></a><a id="d72777e595" class="indexterm-anchor"></a><a id="d72777e599" class="indexterm-anchor"></a></p>
                     <p>You must set the elements of SELDV or BNDDV using SQLADR.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-1A7FDFC9-C2C6-47C3-A380-AE9D5D1992AB">Select Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following statement</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL FETCH ... USING DESCRIPTOR ...
</pre><p>directs the database to store FETCHed select-list values in the data buffers addressed by SELDV(1) through SELDV(SQLDNUM). Thus, the database stores the Jth select-list value in SEL-DV(J).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-4D1CF284-8B53-4E9D-8F35-455F4F15DD35">Bind Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must set the bind descriptors before issuing the OPEN command. The following statement </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL OPEN ... USING DESCRIPTOR ...
</pre><p>directs Oracle to execute the dynamic SQL statement using the bind-variable values addressed by BNDDV(1) through BNDDV(SQLDNUM). (Typically, the values are entered by the user.) The database finds the Jth bind-variable value in BND-DV(J).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-8F128B01-2FAB-427A-8110-E70D78E98285">SELDFMT | BNDDFMT</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDFMT | BNDDFMT</span> table contains the addresses of data buffers that store select-list or bind-variable conversion format strings. You can currently use it only for COBOL packed decimals. The format for the conversion string is PP.+SS or PP.-SS where PP is the precision and SS is the scale. For definitions of precision and scale, see <span class="q">"Extracting Precision and Scale"</span> in <a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">Coercing Datatypes</a>.<a id="d72777e639" class="indexterm-anchor"></a><a id="d72777e643" class="indexterm-anchor"></a><a id="d72777e647" class="indexterm-anchor"></a><a id="d72777e649" class="indexterm-anchor"></a></p>
                     <p>The use of format strings is optional. If you want a conversion format for the Jth select-list item or bind variable, set SELDFMT(J) or BNDDFMT(J) using SQLADR, then store the packed-decimal format (<code class="codeph">07.+02</code> for example) in SEL-DFMT or BND-DFMT. Otherwise, set SELDFMT(J) or BNDDFMT(J) to zero.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-5C829D07-2D8D-4E7F-8D7F-A73BCF2A387C">SELDVLN | BNDDVLN</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDVLN | BNDDVLN</span> table contains the lengths of select-list variables or bind-variable values stored in the data buffers.<a id="d72777e665" class="indexterm-anchor"></a><a id="d72777e669" class="indexterm-anchor"></a><a id="d72777e671" class="indexterm-anchor"></a><a id="d72777e675" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-EB47A703-8600-4350-B335-FB0EE53A112C">Select Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE SELECT LIST sets the table of lengths to the maximum expected for each select-list item. However, you might want to reset some lengths before issuing a FETCH command. FETCH returns at most <span class="italic">n</span> characters, where <span class="italic">n</span> is the value of SELDVLN(J) before the FETCH command.
                     </p>
                     <p>The format of the length differs among datatypes. For CHAR select-list items, DESCRIBE SELECT LIST sets SELDVLN(J) to the maximum length in bytes of the select-list item. For NUMBER select-list items, scale and precision are returned respectively in the low and next-higher bytes of the variable. You can use the library routine SQLPRC to extract precision and scale values from SELDVLN. See the section “Extracting Precision and Scale”.</p>
                     <p>You must reset SELDVLN(J) to the required length of the data buffer before the FETCH. For example, when coercing a NUMBER to a COBOL character string, set SELDVLN(J) to the precision of the number plus two for the sign and decimal point. When coercing a NUMBER to a COBOL floating point number, set SELDVLN(J) to the length of the appropriate floating point type on your system. </p>
                     <p>For more information about the lengths of coerced datatypes, see the section “Converting Data”.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-68A7E624-409A-4F98-8548-2087911FDCC0">Bind Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must set the Bind Descriptor lengths before issuing the OPEN command. For example, you can use the following statements to set the lengths of bind-variable character strings entered by the user:</p><pre class="oac_no_warn" dir="ltr"> PROCEDURE DIVISION. 
     ... 
     PERFORM GET-INPUT-VAR 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN BNDDSC. 
     ... 
 GET-INPUT-VAR. 
     DISPLAY "Enter value of ", BND-DH-VNAME(J). 
     ACCEPT INPUT-STRING. 
     UNSTRING INPUT-STRING DELIMITED BY "  " 
         INTO BND-DV(J) COUNT IN BNDDVLN(J). 
</pre><p>Because Oracle accesses a data buffer indirectly, using the address in SELDV(J) or BNDDV(J), it does not know the length of the value in that buffer. If you want to change the length Oracle uses for the Jth select-list or bind-variable value, reset SELDVLN(J) or BNDDVLN(J) to the length you need. Each input or output buffer can have a different length.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-6B91249B-4CDB-4CAF-AEAA-AAF2DE3CAEB0">SELDFMTL | BNDDFMTL </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This is a table containing the lengths of select-list or bind-variable conversion format strings. Currently, you can use it only for COBOL packed decimal.</p>
                     <p>The use of format strings is optional. If you want a conversion format for the Jth select-list item or bind variable, set SELDFMTL(J) before the FETCH or BNDDFMTL(J) before the OPEN to the length of the packed-decimal format stored in SEL-DFMT or BND-DFMT. Otherwise, set SELDFMTL(J) or BNDDFMTL(J) to zero.</p>
                     <p>If the value of SELDFMTL(J) or BNDDFMTL(J) is zero, SELDFMT(J) or BNDDFMT(J) are not used.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-CF3D4A7C-EBF4-4E11-90A9-193EE3E80CF3">SELDVTYP | BNDDVTYP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDVTYP | BNDDVTYP</span> table contains the datatype codes of select-list or bind-variable values. These codes determine how Oracle data is converted when stored in the data buffers addressed by elements of SELDV. The datatype descriptor table is further described in “Converting Data”.<a id="d72777e725" class="indexterm-anchor"></a><a id="d72777e729" class="indexterm-anchor"></a><a id="d72777e731" class="indexterm-anchor"></a><a id="d72777e735" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-97AE56AC-97F6-468E-8F2F-BF52AB481580">Select Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE SELECT LIST sets the table of datatype codes to the <span class="italic">internal</span> datatype (for example, VARCHAR2, CHAR, NUMBER, or DATE) of the items in the select list.
                     </p>
                     <p>Before a FETCH is executed, you might want to reset some datatypes because the internal format of datatypes can be difficult to handle. For display purposes, it is usually a good idea to coerce the datatype of select-list values to VARCHAR2. For calculations, you might want to coerce numbers from Oracle to COBOL format. See “Coercing Datatypes”.</p>
                     <p>The high bit of SELDVTYP(J) is set to indicate the NULL/not NULL status of the Jth select-list column. You must always clear this bit before issuing an OPEN or FETCH command. Use the library routine SQLNUL to retrieve the datatype code and clear the NULL/not NULL bit. For more information, see: “Handling NULL/Not NULL Datatypes”.</p>
                     <p>It is best to change the NUMBER internal datatype to an external datatype compatible with that of the COBOL data buffer addressed by SELDV(J).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-CA99F67A-F13B-4029-BD0D-1F94024D9334">Bind Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>DESCRIBE BIND VARIABLES sets the table of datatype codes to zeros. You must reset the table of datatypes before issuing the OPEN command. The code represents the external (COBOL) datatype of the buffer addressed by BNDDV(J). Often, bind-variable values are stored in character strings, so the datatype table elements are set to 1 (the VARCHAR2 datatype code).</p>
                     <p>To change the datatype of the Jth select-list or bind-variable value, reset SELDVTYP(J) or BNDDVTYP(J) to the datatype you want.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-2AF7ED5B-8B4B-4F13-B693-C576DB00DBF8">SELDI | BNDDI</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDI | BNDDI</span> table contains the addresses of data buffers that store indicator-variable values. You must set the elements of SELDI or BNDDI using SQLADR. <a id="d72777e769" class="indexterm-anchor"></a><a id="d72777e773" class="indexterm-anchor"></a><a id="d72777e775" class="indexterm-anchor"></a><a id="d72777e779" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-1B71D455-E519-443A-9345-940EBE2A9F92">Select Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must set this table before issuing the FETCH command. When Oracle executes the statement </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL FETCH ... USING DESCRIPTOR ... 
</pre><p>if the Jth returned select-list value is NULL, the buffer addressed by SELDI(J) is set to -1. Otherwise, it is set to zero (the value is not NULL) or a positive integer (the value was truncated).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-819CB264-388F-4030-BD6A-D79E3C024CF7">Bind Descriptors</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must initialize this table and set the associated indicator variables before issuing the OPEN command. When Oracle executes the statement</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL OPEN ... USING DESCRIPTOR ...
</pre><p>the buffer addressed by BNDDI(J) determines whether the Jth bind variable is NULL. If the value of an indicator variable is -1, its associated bind variable is NULL.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E6FDA8CC-280C-4ED1-BB0E-E57DEFE10D24">SELDH-VNAME | BNDDH-VNAME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDH-VNAME | BNDDH-VNAME</span> table contains the addresses of data buffers that store select-list or place-holder names as they appear in dynamic SQL statements. You must set the elements of SELDH-VNAME or BNDDH-VNAME using SQLADR before issuing the DESCRIBE command.<a id="d72777e811" class="indexterm-anchor"></a><a id="d72777e815" class="indexterm-anchor"></a><a id="d72777e817" class="indexterm-anchor"></a><a id="d72777e821" class="indexterm-anchor"></a></p>
                     <p>DESCRIBE directs Oracle to store the name of the Jth select-list item or place-holder in the data buffer addressed by SELDH-VNAME(J) or BNDDH-VNAME(J). Thus, Oracle stores the Jth select-list or place-holder name in SEL-DH-VNAME(J) or BND-DH-VNAME(J).</p>
                     <div class="infoboxnote" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-13317B60-499D-4F45-A274-55A3189CF156">
                        <p class="notep1">Note:</p>
                        <p> The <span class="bold">SELDH-VNAME | BNDDH-VNAME</span> table contains only the name of the column, and <span class="italic">not</span> the table-qualifier.column name, even if you provide it in your SQL statement. If, for example, you were to do a describe of select-list in the SQL statement <code class="codeph">select a.owner from all_tables</code> the software will return <code class="codeph">not a.owner</code>, but instead, <code class="codeph">owner</code>. If necessary, you should use column aliases to correctly identify a column in the select list. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-C0B20A3A-AD0F-47FC-B4A4-DAA12B133E45">SELDH-MAX-VNAMEL | BNDDH-MAX-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDH-MAX-VNAMEL | BNDDH-MAX-VNAMEL</span> table contains the maximum lengths of the data buffers that store select-list or place-holder names. The buffers are addressed by the elements of SELDH-VNAME or BNDDH-VNAME.<a id="d72777e852" class="indexterm-anchor"></a><a id="d72777e856" class="indexterm-anchor"></a><a id="d72777e858" class="indexterm-anchor"></a><a id="d72777e862" class="indexterm-anchor"></a></p>
                     <p>You must set the elements of SELDH-MAX-VNAMEL or BNDDH-MAX-VNAMEL before issuing the DESCRIBE command. Each select-list or place-holder name buffer can have a different length.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-9740DEA9-EDFB-4967-908A-32EEC4B992A3">SELDH-CUR-VNAMEL | BNDDH-CUR-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDH-CUR-VNAMEL | BNDDH-CUR-VNAMEL</span> table contains the actual lengths of the names of the select-list or place-holder. DESCRIBE sets the table of actual lengths to the number of characters in each select-list or place-holder name.<a id="d72777e875" class="indexterm-anchor"></a><a id="d72777e879" class="indexterm-anchor"></a><a id="d72777e881" class="indexterm-anchor"></a><a id="d72777e885" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-7BE6E3C7-159A-41F4-94AC-E401B43569A6">SELDI-VNAME | BNDDI-VNAME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDI-VNAME | BNDDI-VNAME</span> table contains the addresses of data buffers that store indicator-variable names.
                     </p>
                     <p>You can associate indicator-variable values with select-list items and bind variables. However, you can associate indicator-variable names only with bind variables. You can use this table only with bind descriptors.<a id="d72777e898" class="indexterm-anchor"></a><a id="d72777e902" class="indexterm-anchor"></a><a id="d72777e904" class="indexterm-anchor"></a><a id="d72777e908" class="indexterm-anchor"></a> You must set the elements of BNDDI-VNAME using SQLADR before issuing the DESCRIBE command.
                     </p>
                     <p>DESCRIBE BIND VARIABLES directs Oracle to store any indicator-variable names in the data buffers addressed by BNDDI-VNAME(1) through BNDDI-VNAME(SQLDNUM). Thus, Oracle stores the Jth indicator-variable name in BND-DI-VNAME(J).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-E1575A9A-4C6F-464D-9049-7683EE9F5D25">SELDI-MAX-VNAMEL | BNDDI-MAX-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDI-MAX-VNAMEL | BNDDI-MAX-VNAMEL</span> table contains the maximum lengths of the data buffers that store indicator-variable names. The buffers are addressed by the elements of SELDI-VNAME or BNDDI-VNAME.
                     </p>
                     <p>You can associate indicator-variable names only with bind variables. You can use this table only with bind descriptors.<a id="d72777e924" class="indexterm-anchor"></a><a id="d72777e928" class="indexterm-anchor"></a><a id="d72777e930" class="indexterm-anchor"></a><a id="d72777e934" class="indexterm-anchor"></a></p>
                     <p>You must set the elements BNDDI-MAX-VNAMEL(1) through BNDDI-MAX-VNAMEL(SQLDNUM) before issuing the DESCRIBE command. Each indicator-variable name buffer can have a different length.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-DB521173-970D-4811-81FC-C493F5DCB756">SELDI-CUR-VNAMEL | BNDDI-CUR-VNAMEL</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDI-CUR-VNAMEL | BNDDI-CUR-VNAMEL</span> table contains the actual lengths of the names of the indicator variables. You can associate indicator-variable names only with bind variables. You can use this table only with bind descriptors.<a id="d72777e948" class="indexterm-anchor"></a><a id="d72777e952" class="indexterm-anchor"></a><a id="d72777e954" class="indexterm-anchor"></a><a id="d72777e958" class="indexterm-anchor"></a></p>
                     <p>DESCRIBE BIND VARIABLES sets the table of actual lengths to the number of characters in each indicator-variable name.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-94C634CB-2BC8-4C5E-93BA-A74F471B30AB">SELDFCLP | BNDDFCLP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDFCLP | BNDDFCLP</span> table is reserved for future use. It must be present because Oracle expects the group item SELDSC or BNDDSC to be a certain size.<a id="d72777e971" class="indexterm-anchor"></a><a id="d72777e975" class="indexterm-anchor"></a><a id="d72777e977" class="indexterm-anchor"></a><a id="d72777e981" class="indexterm-anchor"></a> You must currently set the elements of SELDFCLP and BNDDFCLP to zero.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-50504330-0DCB-49BE-8FC8-E87C5BB55194__GUID-94D4B762-326E-4D46-A8D3-B35FFBC11C9C">SELDFCRCP | BNDDFCRCP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <span class="bold">SELDFCRCP | BNDDFCRCP</span> table is reserved for future use. It must be present because Oracle expects the group item SELDSC or BNDDSC to be a certain size.<a id="d72777e993" class="indexterm-anchor"></a><a id="d72777e997" class="indexterm-anchor"></a><a id="d72777e999" class="indexterm-anchor"></a><a id="d72777e1003" class="indexterm-anchor"></a> You must set the elements of SELDFCRCP and BNDDFCRCP to zero.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF">Converting Data</a></li>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">Coercing Datatypes</a></li>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64">Handling NULL/Not NULL Datatypes</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB743"></a><div class="props_rev_3"><a id="GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1" name="GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1"></a><h3 id="LNPCB-GUID-D0FBC7DB-FF8D-4D08-A06D-1F3A1666BDA1" class="sect3"><span class="enumeration_section">11.4 </span>Prerequisite Knowledge
               </h3>
               <div>
                  <p>You need a working knowledge of the following subjects to implement dynamic SQL Method 4:<a id="d72777e1051" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Using the library routine SQLADR </p>
                     </li>
                     <li>
                        <p>converting data </p>
                     </li>
                     <li>
                        <p>coercing datatypes </p>
                     </li>
                     <li>
                        <p>handling NULL/not NULL datatypes </p>
                     </li>
                  </ul>
               </div><a id="LNPCB744"></a><div class="props_rev_3"><a id="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59" name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59"></a><h4 id="LNPCB-GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59" class="sect4"><span class="enumeration_section">11.4.1 </span>Using SQLADR
                  </h4>
                  <div>
                     <div class="section">
                        <p>You must call the library subroutine SQLADR to get the addresses of data buffers that store input and output values. You store the addresses in a bind or select SQLDA so that Oracle knows where to read bind-variable values or write select-list values. </p>
                        <p>Call SQLADR using the syntax<a id="d72777e1095" class="indexterm-anchor"></a><a id="d72777e1099" class="indexterm-anchor"></a><a id="d72777e1103" class="indexterm-anchor"></a><a id="d72777e1107" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     CALL "SQLADR" USING BUFFER, ADDRESS.
</pre><p>where: </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59__GUID-FC60596C-19D7-4B90-9BD4-227938C4A9C0">
                                 <!-- --></a>BUFFER
                           </dt>
                           <dd>
                              <p>Is a data buffer that stores the value or name of a select-list item, bind variable, or indicator variable.</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-EE6FD907-F6B2-49B6-BD60-453810E3EE59__GUID-5EBE25E8-190A-46E4-890F-182C58C34464">
                                 <!-- --></a>ADDRESS
                           </dt>
                           <dd>
                              <p>Is an integer variable that returns the address of the data buffer.</p>
                              <p>A call to SQLADR stores the address of BUFFER in ADDRESS. The next example uses SQLADR to initialize the select descriptor tables SELDV, SELDH-VNAME, and SELDI. Their elements address data buffers for select-list values, select-list names, and indicator values.</p><pre class="oac_no_warn" dir="ltr"> PROCEDURE DIVISION.
     ... 
     PERFORM INIT-SELDSC 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN SELDSC.
     ... 
 INIT-SELDSC.
     CALL "SQLADR" USING SEL-DV(J), SELDV(J).
     CALL "SQLADR" USING SEL-DH-VNAME(J), SELDH-VNAME(J).
     CALL "SQLADR" USING SEL-DI(J), SELDI(J).</pre></dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB746"></a><a id="LNPCB747"></a><a id="LNPCB748"></a><a id="LNPCB749"></a><a id="LNPCB750"></a><a id="LNPCB751"></a><a id="LNPCB745"></a><div class="props_rev_3"><a id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF" name="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF"></a><h4 id="LNPCB-GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF" class="sect4"><span class="enumeration_section">11.4.2 </span>Converting Data
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section provides more detail about the datatype descriptor table. In host programs that use neither datatype equivalencing nor dynamic SQL Method 4, the conversion between internal and external datatypes is determined at precompile time. By default, Pro*COBOL assigns a specific external datatype to each host variable. For example, Pro*COBOL assigns the INTEGER external datatype to host variables of type PIC S9(n) COMP. </p>
                        <p>However, Method 4 lets you control data conversion and formatting. You specify conversions by setting datatype codes in the datatype descriptor table. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-5D77D547-E448-4A32-BABC-5C59AE434063">Internal Datatypes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Internal datatypes specify the formats used by Oracle to store column values in database tables to represent pseudocolumn values.<a id="d72777e1178" class="indexterm-anchor"></a><a id="d72777e1182" class="indexterm-anchor"></a></p>
                        <p>When you issue a DESCRIBE SELECT LIST command, Oracle returns the internal datatype code for each select-list item to the SELDVTYP (datatype) descriptor table. For example, the datatype code for the Jth select-list item is returned to SELDVTYP(J).</p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26357" title="q">Table 11-1</a> shows the internal datatypes and their codes:
                        </p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26357">
                           <p class="titleintable">Table 11-1 Internal Datatypes and Related Codes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Internal Datatypes and Related Codes" summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d72777e1204">Internal Datatype</th>
                                    <th align="left" valign="bottom" width="69%" id="d72777e1207">Code</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1212" headers="d72777e1204 ">
                                       <p>VARCHAR2</p>
                                       <p>NUMBER</p>
                                       <p>LONG</p>
                                       <p>ROWID</p>
                                       <p>DATE</p>
                                       <p>RAW</p>
                                       <p>LONG RAW</p>
                                       <p>CHAR</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1212 d72777e1207 ">
                                       <p>1</p>
                                       <p>2</p>
                                       <p>8</p>
                                       <p>11</p>
                                       <p>12</p>
                                       <p>23</p>
                                       <p>24</p>
                                       <p>96</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-8F587216-E04A-4059-85A5-48CBE828EB41">External Datatypes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>External datatypes specify the formats used to store values in input and output host variables.<a id="d72777e1252" class="indexterm-anchor"></a><a id="d72777e1256" class="indexterm-anchor"></a></p>
                        <p>The DESCRIBE BIND VARIABLES command sets the BNDDVTYP table of datatype codes to zeros. Therefore, you must reset the codes <span class="italic">before</span> issuing the OPEN command. The codes tell Oracle which external datatypes to expect for the various bind variables. For the Jth bind variable, reset BNDDVTYP(J) to the external datatype you want. 
                        </p>
                        <p>The following table shows the external datatypes and their codes, as well as the corresponding COBOL datatypes: </p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__G26226">
                           <p class="titleintable">Table 11-2 Oracle External and Related COBOL Datatypes </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle External and Related COBOL Datatypes " summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d72777e1278">Name</th>
                                    <th align="left" valign="bottom" width="11%" id="d72777e1281">Code</th>
                                    <th align="left" valign="bottom" width="62%" id="d72777e1284">COBOL Datatype</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1289" headers="d72777e1278 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1289 d72777e1281 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1289 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>) when MODE=ANSI
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1302" headers="d72777e1278 ">
                                       <p>NUMBER</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1302 d72777e1281 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1302 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1315" headers="d72777e1278 ">
                                       <p>INTEGER</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1315 d72777e1281 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1315 d72777e1284 ">
                                       <p>PIC S9(<span class="italic">n</span>) COMP
                                       </p>
                                       <p>(Use COMP, not COMP5, on SPARC Solaris 64 bit platforms)</p>
                                       <p>PIC S9(<span class="italic">n</span>) COMP5 
                                       </p>
                                       <p>(COMP5 for byte-swapped platforms)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1337" headers="d72777e1278 ">
                                       <p>FLOAT</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1337 d72777e1281 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1337 d72777e1284 ">
                                       <p>COMP-1</p>
                                       <p>COMP-2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1349" headers="d72777e1278 ">
                                       <p>STRING (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">1</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1349 d72777e1281 ">
                                       <p>5</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1349 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1365" headers="d72777e1278 ">
                                       <p>VARNUM</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1365 d72777e1281 ">
                                       <p>6</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1365 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1378" headers="d72777e1278 ">
                                       <p>DECIMAL</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1378 d72777e1281 ">
                                       <p>7</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1378 d72777e1284 ">
                                       <p>PIC S9(n)V9(n) COMP-3</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1388" headers="d72777e1278 ">
                                       <p>LONG</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1388 d72777e1281 ">
                                       <p>8</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1388 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1401" headers="d72777e1278 ">
                                       <p>VARCHAR (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1401 d72777e1281 ">
                                       <p>9</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1401 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>) VARYING
                                       </p>
                                       <p>PIC N(<span class="italic">n</span>) VARYING
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1422" headers="d72777e1278 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1422 d72777e1281 ">
                                       <p>11</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1422 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1435" headers="d72777e1278 ">
                                       <p>DATE</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1435 d72777e1281 ">
                                       <p>12</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1435 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1449" headers="d72777e1278 ">
                                       <p>VARRAW (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1449 d72777e1281 ">
                                       <p>15</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1449 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1465" headers="d72777e1278 ">
                                       <p>RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1465 d72777e1281 ">
                                       <p>23</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1465 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1478" headers="d72777e1278 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1478 d72777e1281 ">
                                       <p>24</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1478 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1491" headers="d72777e1278 ">
                                       <p>UNSIGNED</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1491 d72777e1281 ">
                                       <p>68</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1491 d72777e1284 ">
                                       <p>(not supported)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1501" headers="d72777e1278 ">
                                       <p>DISPLAY</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1501 d72777e1281 ">
                                       <p>91</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1501 d72777e1284 ">
                                       <p>PIC S9...9V9...9 DISPLAY SIGN LEADING SEPARATE</p>
                                       <p>PIC S9(<span class="italic">n</span>)V9(<span class="italic">n</span>) DISPLAY SIGN LEADING SEPARATE
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1519" headers="d72777e1278 ">
                                       <p>LONG VARCHAR (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1519 d72777e1281 ">
                                       <p>94</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1519 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1535" headers="d72777e1278 ">
                                       <p>LONG VARRAW (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">2</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1535 d72777e1281 ">
                                       <p>95</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1535 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1551" headers="d72777e1278 ">
                                       <p>CHARF</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1551 d72777e1281 ">
                                       <p>96</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1551 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>) when MODE = ANSI
                                       </p>
                                       <p>PIC N(<span class="italic">n</span>) when MODE = ANSI
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1569" headers="d72777e1278 ">
                                       <p>CHARZ (<a href="Oracle-dynamic-SQL-method-4.html#GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">1</a>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1569 d72777e1281 ">
                                       <p>97</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1569 d72777e1284 ">
                                       <p>PIC X(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d72777e1585" headers="d72777e1278 ">
                                       <p>CURSOR</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d72777e1585 d72777e1281 ">
                                       <p>102</p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d72777e1585 d72777e1284 ">
                                       <p>SQL-CURSOR</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><span class="bold">Notes</span>: 
                        </p>
                        <ol>
                           <li id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__CDDHDHEH">
                              <p>For use in an EXEC SQL VAR statement only.</p>
                           </li>
                           <li id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__I10728">
                              <p>Include the <span class="italic">n</span>-byte length field.
                              </p>
                           </li>
                        </ol>
                        <p>For more information about the datatypes and their formats, see “The Oracle Database Datatypes”.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-9AA8E668-882C-4BB4-99C7-AD45848486AF">PL/SQL Datatypes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>PL/SQL provides a variety of predefined scalar and composite datatypes. A <span class="italic">scalar</span> type has no internal components. A <span class="italic">composite</span> type has internal components that can be manipulated individually. “Initialize the Descriptors” shows the predefined PL/SQL scalar datatypes and their internal datatype equivalence
                        </p>
                        <div class="tblformal" id="GUID-55C667BD-07E8-44F1-BCF9-4C80354634AF__GUID-60D6D1A9-FEC6-4488-B8C2-D6E19A014E33">
                           <p class="titleintable">Table 11-3 <span class="italic"><span class="bold">PL/SQL Datatype Equivalences with Internal Datatypes</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PL/SQL Datatype Equivalences with Internal Datatypes" summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d72777e1634">PL/SQL Datatype</th>
                                    <th align="left" valign="bottom" width="69%" id="d72777e1637">Oracle Internal Datatype</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1642" headers="d72777e1634 ">
                                       <p>VARCHAR</p>
                                       <p>VARCHAR2</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1642 d72777e1637 ">
                                       <p>VARCHAR2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1651" headers="d72777e1634 ">
                                       <p>BINARY_INTEGER</p>
                                       <p>DEC</p>
                                       <p>DECIMAL</p>
                                       <p>DOUBLE PRECISION</p>
                                       <p>FLOAT</p>
                                       <p>INT</p>
                                       <p>INTEGER</p>
                                       <p>NATURAL</p>
                                       <p>NUMBER</p>
                                       <p>NUMERIC</p>
                                       <p>POSITIVE</p>
                                       <p>REAL</p>
                                       <p>SMALLINT</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1651 d72777e1637 ">
                                       <p>NUMBER</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1683" headers="d72777e1634 ">
                                       <p>LONG</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1683 d72777e1637 ">
                                       <p>LONG</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1690" headers="d72777e1634 ">
                                       <p>ROWID</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1690 d72777e1637 ">
                                       <p>ROWID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1697" headers="d72777e1634 ">
                                       <p>DATE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1697 d72777e1637 ">
                                       <p>DATE</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1704" headers="d72777e1634 ">
                                       <p>RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1704 d72777e1637 ">
                                       <p>RAW</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1711" headers="d72777e1634 ">
                                       <p>LONG RAW</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1711 d72777e1637 ">
                                       <p>LONG RAW</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d72777e1718" headers="d72777e1634 ">
                                       <p>CHAR</p>
                                       <p>CHARACTER</p>
                                       <p>STRING</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d72777e1718 d72777e1637 ">
                                       <p>CHAR</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="datatypes-and-host-variables.html#GUID-6B4F2049-A1CB-4FDA-9CA5-DBC64865DE60">The Oracle Database Datatypes</a></li>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8">Initialize the Descriptors</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB753"></a><a id="LNPCB754"></a><a id="LNPCB755"></a><a id="LNPCB752"></a><div class="props_rev_3"><a id="GUID-09B53741-283E-420D-988C-2E87D1CB505E" name="GUID-09B53741-283E-420D-988C-2E87D1CB505E"></a><h4 id="LNPCB-GUID-09B53741-283E-420D-988C-2E87D1CB505E" class="sect4"><span class="enumeration_section">11.4.3 </span>Coercing Datatypes
                  </h4>
                  <div>
                     <div class="section">
                        <p>For a select descriptor, DESCRIBE SELECT LIST can return any of the internal datatypes. Often, as in the case of character data, the internal datatype corresponds exactly to the external datatype you want to use. However, a few internal datatypes map to external datatypes that can be difficult to handle. Thus, you might want to reset some elements in the SELDVTYP descriptor table.</p>
                        <p>For example, you might want to reset NUMBER values to FLOAT values, which correspond to PIC S9(<span class="italic">n</span>)V9(<span class="italic">n</span>) COMP-1 values in COBOL. Oracle does any necessary conversion between internal and external datatypes at FETCH time. Be sure to reset the datatypes <span class="italic">after</span> the DESCRIBE SELECT LIST but <span class="italic">before</span> the FETCH.<a id="d72777e1800" class="indexterm-anchor"></a><a id="d72777e1804" class="indexterm-anchor"></a><a id="d72777e1809" class="indexterm-anchor"></a></p>
                        <p>For a bind descriptor, DESCRIBE BIND VARIABLES does <span class="italic">not</span> return the datatypes of bind variables, only their number and names. Therefore, you must explicitly set the BNDDVTYP table of datatype codes to tell Oracle the external datatype of each bind variable. Oracle does any necessary conversion between external and internal datatypes at OPEN time. 
                        </p>
                        <p>When you reset datatype codes in the SELDVTYP or BNDDVTYP descriptor table, you are "coercing datatypes." For example, to coerce the Jth select-list value to VARCHAR2, use the following statement: </p><pre class="oac_no_warn" dir="ltr">*    Coerce select-list value to VARCHAR2. 
     MOVE 1 TO SELDVTYP(J). 
</pre><p>When coercing a NUMBER select-list value to VARCHAR2 for display purposes, you must also extract the precision and scale bytes of the value and use them to compute a maximum display length. Then, before the FETCH, you must reset the appropriate element of the SELDVLN (length) descriptor table to tell Oracle the buffer length to use. To specify the length of the Jth select-list value, set SELDVLN(J) to the length you need.<a id="d72777e1824" class="indexterm-anchor"></a></p>
                        <p>For example, if DESCRIBE SELECT LIST finds that the Jth select-list item is of type NUMBER, and you want to store the returned value in a COBOL variable declared as PIC S9(<span class="italic">n</span>)V9(<span class="italic">n</span>) COMP-1, simply set SELDVTYP(J) to 4 and SELDVLN(J) to the length of COMP-1 numbers on your system.<a id="d72777e1836" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-B6F9F4E7-3B79-46C2-8FD5-578C3ED47C3C">Exceptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In some cases, the internal datatypes that DESCRIBE SELECT LIST returns might not suit your purposes. Two examples of this are DATE and NUMBER. When you DESCRIBE a DATE select-list item, Oracle returns the datatype code 12 to the SELDVTYP table. Unless you reset the code before the FETCH, the date value is returned in its 7-byte internal format. To get the date in its default character format, you must change the datatype code from 12 to 1 (VARCHAR2) and increase the SELDVLN value from 7 to 9. </p>
                        <p>Similarly, when you DESCRIBE a NUMBER select-list item, Oracle returns the datatype code 2 to the SELDVTYP table. Unless you reset the code before the FETCH, the numeric value is returned in its internal format, which is probably not desired. Therefore, change the code from 2 to 1 (VARCHAR2), 3 (INTEGER), 4 (FLOAT), or some other appropriate datatype. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__i9038">
                        <p class="subhead3" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-69DA4C82-AF9D-4944-A22C-E80CDB144710">Extracting Precision and Scale</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The library subroutine SQLPRC extracts precision and scale. Normally, it is used after the DESCRIBE SELECT LIST, and its first parameter is SELDVLN(J). To call SQLPRC, use the following syntax<a id="d72777e1854" class="indexterm-anchor"></a><a id="d72777e1858" class="indexterm-anchor"></a><a id="d72777e1862" class="indexterm-anchor"></a><a id="d72777e1866" class="indexterm-anchor"></a><a id="d72777e1870" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     CALL "SQLPRC" USING LENGTH, PRECISION, SCALE.
</pre><p>where: </p>
                        <div class="tblformal" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-C9258260-DE17-4F1F-8394-19B400F8BD03">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d72777e1886">Syntax</th>
                                    <th align="left" valign="bottom" width="71%" id="d72777e1889">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1894" headers="d72777e1886 ">
                                       <p>LENGTH</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1894 d72777e1889 ">
                                       <p>Is an integer variable that stores the length of a NUMBER value. The scale and precision of the value are stored in the low and next-higher bytes, respectively.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1901" headers="d72777e1886 ">
                                       <p>PRECISION</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1901 d72777e1889 ">
                                       <p>Is an integer variable that returns the <span class="italic">precision</span> of the NUMBER value. Precision is the number of significant digits. It is set to zero if the select-list item refers to a NUMBER of unspecified size. In this case, because the size is unspecified, assume the maximum precision, 38.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e1911" headers="d72777e1886 ">
                                       <p>SCALE</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e1911 d72777e1889 ">
                                       <p>Is an integer variable that returns the <span class="italic">scale </span>of the NUMBER value. Scale specifies where rounding will occur. For example, a scale of 2 means the value is rounded to the nearest hundredth (3.456 becomes 3.46); a scale of -3 means that the number is rounded to the nearest thousand (3.456 becomes 3000).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how SQLPRC is used to compute maximum display lengths for NUMBER values that will be coerced to VARCHAR2:<a id="d72777e1922" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr"> WORKING-STORAGE SECTION. 
 01  PRECISION       PIC S9(9) COMP. 
 01  SCALE           PIC S9(9) COMP. 
 01  DISPLAY-LENGTH  PIC S9(9) COMP. 
 01  MAX-LENGTH      PIC S9(9) COMP VALUE 80. 
     ... 
 PROCEDURE DIVISION. 
     ... 
     PERFORM ADJUST-LENGTH 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN SELDSC. 
 ADJUST-LENGTH. 
*    If datatype is NUMBER, extract precision and scale. 
     IF SELDVTYP(J) = 2 
         CALL "SQLPRC" USING SELDVLN(J), PRECISION, SCALE. 
     MOVE 0 TO DISPLAY-LENGTH. 
*    Precision is set to zero if the select-list item 
*    refers to a NUMBER of unspecified size.  We allow for 
*    a maximum precision of 10. 
     IF SELDVTYP(J) = 2 AND PRECISION = 0 
         MOVE 10 TO DISPLAY-LENGTH. 
*    Allow for possible decimal point and sign. 
     IF SELDVTYP(J) = 2 AND PRECISION &gt; 0 
         ADD 2 TO PRECISION 
         MOVE PRECISION TO DISPLAY-LENGTH. 
     ... 
</pre><p>Notice that the first parameter in the subroutine call is the Jth element in the table of select-list lengths. </p>
                        <p>The SQLPRC procedure, defined in the SQLLIB runtime library, returns zero as the precision and scale values for certain SQL datatypes. The SQLPR2 procedure is similar to SQLPRC in that it has the same syntax and returns the same binary values, except for the datatypes shown in this table:</p>
                        <div class="tblformal" id="GUID-09B53741-283E-420D-988C-2E87D1CB505E__GUID-7825952A-C4BD-4FDC-9389-AA5090FA6DBE">
                           <p class="titleintable">Table 11-4 Datatype Exceptions to the SQLPR2 Procedure</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Datatype Exceptions to the SQLPR2 Procedure" summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d72777e1943">SQL Datatype</th>
                                    <th align="left" valign="bottom" width="29%" id="d72777e1946">Binary Precision</th>
                                    <th align="left" valign="bottom" width="36%" id="d72777e1949">Binary Scale</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1954" headers="d72777e1943 ">
                                       <p>FLOAT</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1954 d72777e1946 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1954 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1964" headers="d72777e1943 ">
                                       <p>FLOAT(<span class="italic">n</span>)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1964 d72777e1946 ">
                                       <p><span class="italic">n</span> (range is 1 .. 126)
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1964 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1979" headers="d72777e1943 ">
                                       <p>REAL</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1979 d72777e1946 ">
                                       <p>63</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1979 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d72777e1989" headers="d72777e1943 ">
                                       <p>DOUBLE PRECISION</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d72777e1989 d72777e1946 ">
                                       <p>126</p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72777e1989 d72777e1949 ">
                                       <p>-127</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB756"></a><div class="props_rev_3"><a id="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64" name="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64"></a><h4 id="LNPCB-GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64" class="sect4"><span class="enumeration_section">11.4.4 </span>Handling NULL/Not NULL Datatypes
                  </h4>
                  <div>
                     <div class="section">
                        <p>For every select-list column (not expression), DESCRIBE SELECT LIST returns a NULL/not NULL indication in the datatype table of the select descriptor. If the Jth select-list column is constrained to be not NULL, the high-order bit of SELDVTYP(J) datatype variable is clear; otherwise, it is set.<a id="d72777e2023" class="indexterm-anchor"></a></p>
                        <p>Before using the datatype in an OPEN or FETCH statement, if the NULL status bit is set, you must clear it. Never set the bit.</p>
                        <p>You can use the library routine SQLNUL to find out if a column allows NULL datatypes and to clear the datatype's NULL status bit. You call SQLNUL using the syntax<a id="d72777e2033" class="indexterm-anchor"></a><a id="d72777e2037" class="indexterm-anchor"></a><a id="d72777e2041" class="indexterm-anchor"></a><a id="d72777e2045" class="indexterm-anchor"></a><a id="d72777e2049" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     CALL "SQLNUL" USING VALUE-TYPE, TYPE-CODE, NULL-STATUS.
</pre><p>where: </p>
                        <div class="tblformal" id="GUID-AEF3AEC0-3D49-45F1-910E-143DDA6E9A64__GUID-66F7E3E6-7ED7-40AF-9814-0F4A0621EADC">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="q" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d72777e2065">Syntax</th>
                                    <th align="left" valign="bottom" width="71%" id="d72777e2068">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2073" headers="d72777e2065 ">
                                       <p>VALUE-TYPE</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2073 d72777e2068 ">
                                       <p>Is a 2-byte integer variable that stores the datatype code of a select-list column.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2080" headers="d72777e2065 ">
                                       <p>TYPE-CODE</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2080 d72777e2068 ">
                                       <p>Is a 2-byte integer variable that returns the datatype code of the select-list column with the high-order bit cleared.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d72777e2087" headers="d72777e2065 ">
                                       <p>NULL-STATUS</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d72777e2087 d72777e2068 ">
                                       <p>Is an integer variable that returns the NULL status of the select-list column. 1 means that the column allows NULLs; 0 means that it does not.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following example shows how to use SQLNUL:<a id="d72777e2095" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr"> WORKING-STORAGE SECTION.
     ... 
*    Declare variable for subroutine call.
     01  NULL-STATUS  PIC S9(9) COMP.
     ... 
 PROCEDURE DIVISION.
 MAIN.
     EXEC SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC.
     ...
     PERFORM HANDLE-NULLS
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN SELDSC.
     ...
 HANDLE-NULLS.
*    Find out if column is NOT NULL, and clear high-order bit.
     CALL "SQLNUL" USING SELDVTYP(J), SELDVTYP(J), NULL-STATUS.
*    If NULL-STATUS = 1, NULLs are allowed.
</pre><p>Notice that the first and second parameters in the subroutine call are the same. Respectively, they are the datatype variable before and after its NULL status bit is cleared.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB757"></a><div class="props_rev_3"><a id="GUID-2235722D-A4D2-453D-99EE-339F48C96F28" name="GUID-2235722D-A4D2-453D-99EE-339F48C96F28"></a><h3 id="LNPCB-GUID-2235722D-A4D2-453D-99EE-339F48C96F28" class="sect3"><span class="enumeration_section">11.5 </span>The Basic Steps
               </h3>
               <div>
                  <div class="section">
                     <p>Method 4 can be used to process <span class="italic">any</span> dynamic SQL statement. In the example in “Using Host Tables with Method 4”, a query is processed so that you can see how both input and output host variables are handled.<a id="d72777e2132" class="indexterm-anchor"></a></p>
                     <p>To process the dynamic query, our example program takes the following steps: </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Declare a host string to hold the query text. </span></li>
                     <li><span>Declare select and bind descriptors. </span></li>
                     <li><span>Set the maximum number of select-list items and place-holders that can be DESCRIBEd. </span></li>
                     <li><span>Initialize the select and bind descriptors. </span></li>
                     <li><span>Store the query text in the host string. </span></li>
                     <li><span>PREPARE the query from the host string. </span></li>
                     <li><span>DECLARE a cursor FOR the query. </span></li>
                     <li><span>DESCRIBE the bind variables INTO the bind descriptor. </span></li>
                     <li><span>Reset the number of place-holders to the number actually found by DESCRIBE. </span></li>
                     <li><span>Get values for the bind variables found by DESCRIBE. </span></li>
                     <li><span>OPEN the cursor USING the bind descriptor. </span></li>
                     <li><span>DESCRIBE the select list INTO the select descriptor. </span></li>
                     <li><span>Reset the number of select-list items to the number actually found by DESCRIBE. </span></li>
                     <li><span>Reset the length and datatype of each select-list item for display purposes. </span></li>
                     <li><span>FETCH a row from the database INTO data buffers using the select descriptor. </span></li>
                     <li><span>Process the select-list values returned by FETCH. </span></li>
                     <li><span>CLOSE the cursor when there are no more rows to FETCH. </span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-2235722D-A4D2-453D-99EE-339F48C96F28__GUID-0298A330-FE6C-4FAB-B79C-1387031B9E06">
                        <p class="notep1">Note:</p>
                        <p> If the dynamic SQL statement is <span class="italic">not</span> a query or contains a known number of select-list items or place-holders, then some of the preceding steps are unnecessary. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36">Using Host Tables with Method 4</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB758"></a><div class="props_rev_3"><a id="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE" name="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE"></a><h3 id="LNPCB-GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE" class="sect3"><span class="enumeration_section">11.6 </span>A Closer Look at Each Step
               </h3>
               <div>
                  <p>This section discusses each step in more detail. A full-length example program illustrating Method 4 is seen at the end of this chapter. With Method 4, you use the following sequence of embedded SQL statements:<a id="d72777e2231" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL
         PREPARE &lt;statement_name&gt;
         FROM {:&lt;host_string&gt; | &lt;string_literal&gt;}
     END-EXEC.
     EXEC SQL 
         DECLARE &lt;cursor_name&gt; CURSOR FOR &lt;statement_name&gt;
     END-EXEC.
     EXEC SQL
         DESCRIBE BIND VARIABLES FOR &lt;statement_name&gt;
         INTO &lt;bind_descriptor_name&gt;
     END-EXEC.
     EXEC SQL
         OPEN &lt;cursor_name&gt; 
         [USING DESCRIPTOR &lt;bind_descriptor_name&gt;]
     END-EXEC.
     EXEC SQL
         DESCRIBE [SELECT LIST FOR] &lt;statement_name&gt;
         INTO &lt;select_descriptor_name&gt;
     END-EXEC.
     EXEC SQL
         FETCH &lt;cursor_name&gt; USING DESCRIPTOR &lt;select_descriptor_name&gt;
     END-EXEC.
     EXEC SQL
         CLOSE &lt;cursor_name&gt;
     END-EXEC.
</pre><p>If the number of select-list items in a dynamic query is known, you can omit DESCRIBE SELECT LIST and use the following Method 3 FETCH statement: </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH &lt;cursor_name&gt; INTO &lt;host_variable_list&gt; END-EXEC.
</pre><p>Alternatively, if the number of place-holders for bind variables in a dynamic SQL statement is known, you can omit DESCRIBE BIND VARIABLES and use the following Method 3 OPEN statement: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL OPEN &lt;cursor_name&gt; [USING &lt;host_variable_list&gt;] END-EXEC.
</pre><p>The next section illustrates how these statements allow your host program to accept and process a dynamic SQL statement using descriptors. </p>
                  <div class="infoboxnote" id="GUID-2BC00CD0-1649-4E6B-B12F-CBBE7ECF0ABE__GUID-F85B379C-EEEE-41AB-A44D-A218E537FD41">
                     <p class="notep1">Note:</p>
                     <p> Several figures accompany the following discussion. To avoid cluttering the figures, it was necessary to confine descriptor tables to 3 elements and to limit the maximum length of names and values to 5 and 10 characters, respectively. </p>
                  </div>
               </div><a id="LNPCB759"></a><div class="props_rev_3"><a id="GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F" name="GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F"></a><h4 id="LNPCB-GUID-53813A15-CF5D-4A42-B04B-9F678FBC261F" class="sect4"><span class="enumeration_section">11.6.1 </span>Declare a Host String
                  </h4>
                  <div>
                     <div class="section">
                        <p>Your program needs a host variable to store the text of the dynamic SQL statement. The host variable (SELECTSTMT in our example) must be declared as a character string:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL BEGIN DECLARE SECTION END-EXEC. 
     ... 
 01  SELECTSTMT  PIC X(120). 
     EXEC SQL END DECLARE SECTION END-EXEC. 
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB760"></a><div class="props_rev_3"><a id="GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3" name="GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3"></a><h4 id="LNPCB-GUID-6F093975-E5AE-4677-BA1C-B35C09E580E3" class="sect4"><span class="enumeration_section">11.6.2 </span>Declare the SQLDAs
                  </h4>
                  <div>
                     <div class="section">
                        <p>Because the query in our example might contain an unknown number of select-list items or place-holders, you must declare select and bind descriptors. Instead of hard-coding the SQLDAs, you use INCLUDE to copy them into your program, as follows: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL INCLUDE SELDSC END-EXEC. 
     EXEC SQL INCLUDE BNDDSC END-EXEC. 
</pre><p>For reference, the INCLUDEd declaration of SELDSC follows: </p><pre class="oac_no_warn" dir="ltr"> WORKING-STORAGE SECTION. 
     ... 
 01  SELDSC. 
         05  SQLDNUM              PIC S9(9) COMP. 
         05  SQLDFND              PIC S9(9) COMP. 
         05  SELDVAR              OCCURS 3 TIMES. 
             10 SELDV             PIC S9(9) COMP. 
             10 SELDFMT           PIC S9(9) COMP. 
             10 SELDVLN           PIC S9(9) COMP. 
             10 SELDFMTL          PIC S9(4) COMP. 
             10 SELDVTYP          PIC S9(4) COMP. 
             10 SELDI             PIC S9(9) COMP. 
             10 SELDH-VNAME       PIC S9(9) COMP. 
             10 SELDH-MAX-VNAMEL  PIC S9(4) COMP. 
             10 SELDH-CUR-VNAMEL  PIC S9(4) COMP. 
             10 SELDI-VNAME       PIC S9(9) COMP. 
             10 SELDI-MAX-VNAMEL  PIC S9(4) COMP. 
             10 SELDI-CUR-VNAMEL  PIC S9(4) COMP. 
             10 SELDFCLP          PIC S9(9) COMP. 
             10 SELDFCRCP         PIC S9(9) COMP. 

 01  XSELDI. 
     05  SEL-DI        OCCURS 3 TIMES PIC S9(9) COMP. 
 01  XSELDIVNAME. 
         05  SEL-DI-VNAME  OCCURS 3 TIMES PIC X(5). 
 01  XSELDV. 
         05  SEL-DV        OCCURS 3 TIMES PIC X(10). 
 01  XSELDHVNAME. 
         05  SEL-DH-VNAME  OCCURS 3 TIMES PIC X(5).  </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB761"></a><div class="props_rev_3"><a id="GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552" name="GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552"></a><h4 id="LNPCB-GUID-5560D184-F3DB-47B0-B2E3-9D2A81670552" class="sect4"><span class="enumeration_section">11.6.3 </span>Set the Maximum Number to DESCRIBE
                  </h4>
                  <div>
                     <div class="section">
                        <p>You next set the maximum number of select-list items or place-holders that can be described, as follows: </p><pre class="oac_no_warn" dir="ltr">     MOVE 3 TO SQLDNUM IN SELDSC. 
     MOVE 3 TO SQLDNUM IN BNDDSC. </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB763"></a><a id="LNPCB764"></a><a id="LNPCB762"></a><div class="props_rev_3"><a id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8" name="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8"></a><h4 id="LNPCB-GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8" class="sect4"><span class="enumeration_section">11.6.4 </span>Initialize the Descriptors
                  </h4>
                  <div>
                     <div class="section">
                        <p>You must initialize several descriptor variables. Some require the library subroutine SQLADR. </p>
                        <p>In our example, you store the maximum lengths of name buffers in the SELDH-MAX-VNAMEL, BNDDH-MAX-VNAMEL, and BNDDI-MAX-VNAMEL tables, and use SQLADR to store the addresses of value and name buffers in the SELDV, SELDI, BNDDV, BNDDI, SELDH-VNAME, BNDDH-VNAME, and BNDDI-VNAME tables.<a id="d72777e2365" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr"> PROCEDURE DIVISION. 
     ... 
     PERFORM INIT-SELDSC 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN SELDSC. 
     PERFORM INIT-BNDDSC 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN BNDDSC. 
     ... 
 INIT-SELDSC. 
     MOVE SPACES TO SEL-DV(J). 
     MOVE SPACES TO SEL-DH-VNAME(J). 
     MOVE 5 TO SELDH-MAX-VNAMEL(J). 
     CALL "SQLADR" USING SEL-DV(J), SELDV(J). 
     CALL "SQLADR" USING SEL-DH-VNAME(J), SELDH-VNAME(J). 
     CALL "SQLADR" USING SEL-DI(J), SELDI(J). 
     ... 
 INIT-BNDDSC. 
     MOVE SPACES TO BND-DV(J). 
     MOVE SPACES TO BND-DH-VNAME(J). 
     MOVE SPACES TO BND-DI-VNAME(J). 
     MOVE 5 TO BNDDH-MAX-VNAMEL(J). 
     MOVE 5 TO BNDDI-MAX-VNAMEL(J). 
     CALL "SQLADR" USING BND-DV(J), BNDDV(J). 
     CALL "SQLADR" USING BND-DH-VNAME(J), BNDDH-VNAME(J). 
     CALL "SQLADR" USING BND-DI(J), BNDDI(J). 
     CALL "SQLADR" USING BND-DI-VNAME(J), BNDDI-VNAME(J).
     ...
</pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10618">Figure 11-3</a> and <a href="Oracle-dynamic-SQL-method-4.html#GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10659">Figure 11-4</a> represent the resulting descriptors.
                        </p>
                        <div class="figure" id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10618">
                           <p class="titleinfigure">Figure 11-3  Initialized Select Descriptor</p><img src="img/pco81007.gif" alt="Description of Figure 11-3 follows" title="Description of Figure 11-3 follows" longdesc="img_text/pco81007.html"><br><a href="img_text/pco81007.html">Description of "Figure 11-3  Initialized Select Descriptor"</a></div>
                        <!-- class="figure" -->
                        <div class="figure" id="GUID-20A4B1C9-9C1C-41C8-818D-1BA0BCB0C4E8__I10659">
                           <p class="titleinfigure">Figure 11-4  Initialized Bind Descriptor</p><img src="img/pco81008.gif" alt="Description of Figure 11-4 follows" title="Description of Figure 11-4 follows" longdesc="img_text/pco81008.html"><br><a href="img_text/pco81008.html">Description of "Figure 11-4  Initialized Bind Descriptor"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB765"></a><div class="props_rev_3"><a id="GUID-E60D5DB8-2307-412A-B983-2B7961F42C19" name="GUID-E60D5DB8-2307-412A-B983-2B7961F42C19"></a><h4 id="LNPCB-GUID-E60D5DB8-2307-412A-B983-2B7961F42C19" class="sect4"><span class="enumeration_section">11.6.5 </span>Store the Query Text in the Host String
                  </h4>
                  <div>
                     <div class="section">
                        <p>Next, you prompt the user for a SQL statement, then store the input string in SELECTSTMT as follows: </p><pre class="oac_no_warn" dir="ltr">     DISPLAY "Enter a SELECT statement: " WITH NO ADVANCING. 
     ACCEPT SELECTSTMT. 
</pre><p>We assume the user entered the following string:</p><pre class="oac_no_warn" dir="ltr">     SELECT ENAME, EMPNO, COMM FROM EMP WHERE COMM &lt; :BONUS</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB766"></a><div class="props_rev_3"><a id="GUID-6988273B-7782-435F-808B-78F7851D4A34" name="GUID-6988273B-7782-435F-808B-78F7851D4A34"></a><h4 id="LNPCB-GUID-6988273B-7782-435F-808B-78F7851D4A34" class="sect4"><span class="enumeration_section">11.6.6 </span>PREPARE the Query from the Host String
                  </h4>
                  <div>
                     <div class="section">
                        <p>PREPARE parses the SQL statement and gives it a name. In our example, PREPARE parses the host string SELECTSTMT and gives it the name SQLSTMT, as follows:<a id="d72777e2444" class="indexterm-anchor"></a><a id="d72777e2448" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL PREPARE SQLSTMT FROM :SELECTSTMT END-EXEC. </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB767"></a><div class="props_rev_3"><a id="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF" name="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF"></a><h4 id="LNPCB-GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF" class="sect4"><span class="enumeration_section">11.6.7 </span>DECLARE a Cursor
                  </h4>
                  <div>
                     <div class="section">
                        <p>DECLARE CURSOR defines a cursor by giving it a name and associating it with a specific SELECT statement. </p>
                        <p>To declare a cursor for static queries, use the following syntax:<a id="d72777e2481" class="indexterm-anchor"></a><a id="d72777e2485" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL DECLARE cursor_name CURSOR FOR SELECT ... 
</pre><p>To declare a cursor for dynamic queries, the statement name given to the dynamic query by PREPARE replaces the static query. In our example, DECLARE CURSOR defines a cursor named EMPCURSOR and associates it with SQLSTMT, as follows: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL DECLARE EMPCURSOR CURSOR FOR SQLSTMT END-EXEC.</pre><div class="infoboxnote" id="GUID-1CE2B4F0-2C17-460A-8EB5-E88551C4ABFF__GUID-8C1C9C72-4588-4F32-AF0D-5C9EC1DE70F1">
                           <p class="notep1">Note:</p>
                           <p> You must declare a cursor for all dynamic SQL statements, not just queries. With non-queries, OPENing the cursor executes the dynamic SQL statement. </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB769"></a><a id="LNPCB768"></a><div class="props_rev_3"><a id="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B" name="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B"></a><h4 id="LNPCB-GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B" class="sect4"><span class="enumeration_section">11.6.8 </span>DESCRIBE the Bind Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>DESCRIBE BIND VARIABLES puts descriptions of bind variables into a bind descriptor. In our example, DESCRIBE readies BNDDSC as follows:<a id="d72777e2524" class="indexterm-anchor"></a><a id="d72777e2528" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         DESCRIBE BIND VARIABLES FOR SQLSTMT 
         INTO BNDDSC 
     END-EXEC. 
</pre><p>Note that BNDDSC must <span class="italic">not</span> be prefixed with a colon. 
                        </p>
                        <p>The DESCRIBE BIND VARIABLES statement must follow the PREPARE statement but precede the OPEN statement. </p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B__I14773">Figure 11-5</a> shows the bind descriptor in our example after the DESCRIBE. Notice that DESCRIBE has set SQLDFND to the actual number of place-holders found in the processed SQL statement. 
                        </p>
                        <div class="figure" id="GUID-712DE012-D9C3-4FDE-AB66-1068EA0F444B__I14773">
                           <p class="titleinfigure">Figure 11-5 Bind Descriptor after the DESCRIBE</p><img src="img/pco81009.gif" alt="Description of Figure 11-5 follows" title="Description of Figure 11-5 follows" longdesc="img_text/pco81009.html"><br><a href="img_text/pco81009.html">Description of "Figure 11-5 Bind Descriptor after the DESCRIBE"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB770"></a><div class="props_rev_3"><a id="GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B" name="GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B"></a><h4 id="LNPCB-GUID-CF0A7FC5-AB98-4CE3-B176-637CA41CA82B" class="sect4"><span class="enumeration_section">11.6.9 </span>Reset Number of Place-Holders
                  </h4>
                  <div>
                     <div class="section">
                        <p>Next, you must reset the maximum number of place-holders to the number actually found by DESCRIBE, as follows: </p><pre class="oac_no_warn" dir="ltr">     IF SQLDFND IN BNDDSC &lt; 0 
         DISPLAY "Too many bind variables" 
         GOTO ROLL-BACK 
     ELSE 
         MOVE SQLDFND IN BNDDSC TO SQLDNUM IN BNDDSC
     END-IF. </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB772"></a><a id="LNPCB771"></a><div class="props_rev_3"><a id="GUID-7620E808-7738-427C-8EE0-66CE2511C45E" name="GUID-7620E808-7738-427C-8EE0-66CE2511C45E"></a><h4 id="LNPCB-GUID-7620E808-7738-427C-8EE0-66CE2511C45E" class="sect4"><span class="enumeration_section">11.6.10 </span>Get Values for Bind Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>Your program must get values for the bind variables in the SQL statement. How the program gets the values is up to you. For example, they can be hard-coded, read from a file, or entered interactively. </p>
                        <p>In our example, a value must be assigned to the bind variable that replaces the place-holder BONUS in the query WHERE clause. Prompt the user for the value, then process it, as follows: </p><pre class="oac_no_warn" dir="ltr"> PROCEDURE DIVISION. 
     ... 
     PERFORM GET-INPUT-VAR 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN BNDDSC. 
     ... 
 GET-INPUT-VAR. 
     ... 
*    Replace the 0 DESCRIBEd into the datatype table 
*    with a 1 to avoid an "invalid datatype" Oracle error. 
     MOVE 1 TO BNDDVTYP(J). 
*    Get value of bind variable. 
     DISPLAY "Enter value of ", BND-DH-VNAME(J). 
     ACCEPT INPUT-STRING. 
     UNSTRING INPUT-STRING DELIMITED BY "  " 
         INTO BND-DV(J) COUNT IN BNDDVLN(J). 
</pre><p>Assuming that the user supplied a value of 625 for BONUS, the next table shows the resulting bind descriptor.</p>
                        <div class="figure" id="GUID-7620E808-7738-427C-8EE0-66CE2511C45E__GUID-5CDBAAC2-A10F-4E17-8BB7-B7433CE2D8B7">
                           <p class="titleinfigure">Figure 11-6 Bind Descriptor after Assigning Values</p><img src="img/pco81010.gif" alt="Description of Figure 11-6 follows" title="Description of Figure 11-6 follows" longdesc="img_text/pco81010.html"><br><a href="img_text/pco81010.html">Description of "Figure 11-6 Bind Descriptor after Assigning Values"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB773"></a><div class="props_rev_3"><a id="GUID-C26DE703-9405-41B1-A224-944EE7F5A130" name="GUID-C26DE703-9405-41B1-A224-944EE7F5A130"></a><h4 id="LNPCB-GUID-C26DE703-9405-41B1-A224-944EE7F5A130" class="sect4"><span class="enumeration_section">11.6.11 </span>OPEN the Cursor
                  </h4>
                  <div>
                     <div class="section">
                        <p>The OPEN statement for dynamic queries is similar to the one for static queries, except the cursor is associated with a bind descriptor. Values determined at run time and stored in buffers addressed by elements of the bind descriptor tables are used to evaluate the SQL statement. With queries, the values are also used to identify the active set.<a id="d72777e2639" class="indexterm-anchor"></a><a id="d72777e2643" class="indexterm-anchor"></a></p>
                        <p>In our example, OPEN associates EMPCURSOR with BNDDSC as follows: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         OPEN EMPCUR USING DESCRIPTOR BNDDSC 
     END-EXEC. 
</pre><p>Remember, BNDDSC must <span class="italic">not</span> be prefixed with a colon. 
                        </p>
                        <p>Then, OPEN executes the SQL statement. With queries, OPEN also identifies the active set and positions the cursor at the first row. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB775"></a><a id="LNPCB774"></a><div class="props_rev_3"><a id="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4" name="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4"></a><h4 id="LNPCB-GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4" class="sect4"><span class="enumeration_section">11.6.12 </span>DESCRIBE the Select List
                  </h4>
                  <div>
                     <div class="section">
                        <p>If the dynamic SQL statement is a query, the DESCRIBE SELECT LIST statement must follow the OPEN statement but precede the FETCH statement.<a id="d72777e2685" class="indexterm-anchor"></a><a id="d72777e2689" class="indexterm-anchor"></a></p>
                        <p>DESCRIBE SELECT LIST puts descriptions of select-list items into a select descriptor. In our example, DESCRIBE readies SELDSC as follows: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         DESCRIBE SELECT LIST FOR SQLSTMT INTO SELDSC 
     END-EXEC. 
</pre><p>Accessing the data dictionary, DESCRIBE sets the length and datatype of each select-list value. </p>
                        <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4__I10665">Figure 11-7</a> shows the select descriptor in our example after the DESCRIBE. Notice that DESCRIBE has set SQLDFND to the actual number of items found in the query select list. If the SQL statement is not a query, SQLDFND is set to zero. Also notice that the NUMBER lengths are not usable yet. For columns defined as NUMBER, you must use the library subroutine SQLPRC to extract precision and scale. See the section “Coercing Datatypes”.
                        </p>
                        <div class="figure" id="GUID-1D08C0CF-1812-41C1-B399-A893E44BE4F4__I10665">
                           <p class="titleinfigure">Figure 11-7  Select Descriptor after the DESCR</p><img src="img/pco81011.gif" alt="Description of Figure 11-7 follows" title="Description of Figure 11-7 follows" longdesc="img_text/pco81011.html"><br><a href="img_text/pco81011.html">Description of "Figure 11-7  Select Descriptor after the DESCR"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL-method-4.html#GUID-09B53741-283E-420D-988C-2E87D1CB505E">Coercing Datatypes</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCB776"></a><div class="props_rev_3"><a id="GUID-0678F117-2BFC-4C65-9943-B507305DA11E" name="GUID-0678F117-2BFC-4C65-9943-B507305DA11E"></a><h4 id="LNPCB-GUID-0678F117-2BFC-4C65-9943-B507305DA11E" class="sect4"><span class="enumeration_section">11.6.13 </span>Reset Number of Select-List Items
                  </h4>
                  <div>
                     <div class="section">
                        <p>Next, you must reset the maximum number of select-list items to the number actually found by DESCRIBE, as follows: </p><pre class="oac_no_warn" dir="ltr">     MOVE SQLDFND IN SELDSC TO SQLDNUM IN SELDSC. </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB778"></a><a id="LNPCB777"></a><div class="props_rev_3"><a id="GUID-390491F0-318D-434C-9470-E462BF369098" name="GUID-390491F0-318D-434C-9470-E462BF369098"></a><h4 id="LNPCB-GUID-390491F0-318D-434C-9470-E462BF369098" class="sect4"><span class="enumeration_section">11.6.14 </span>Reset Length/Datatype of Each Select-List Item
                  </h4>
                  <div>
                     <div class="section">
                        <p>Before fetching the select-list values, the example resets some elements in the length and datatype tables for display purposes. </p><pre class="oac_no_warn" dir="ltr"> PROCEDURE DIVISION. 
     ... 
     PERFORM COERCE-COLUMN-TYPE 
         VARYING J FROM 1 BY 1 UNTIL J &gt; SQLDNUM IN SELDSC. 
     ... 
 COERCE-COLUMN-TYPE. 
*    Clear NULL bit. 
     CALL "SQLNUL" USING SELDVTYP(J), SELDVTYP(J), NULL-STATUS. 

*    If datatype is DATE, lengthen to 9 characters. 
     IF SELDVTYP(J) = 12 
         MOVE 9 TO SELDVLN(J). 

*    If datatype is NUMBER, extract precision and scale. 
     MOVE 0 TO DISPLAY-LENGTH. 
     IF SELDVTYP(J) = 2 AND PRECISION = 0 
         MOVE 10 TO DISPLAY-LENGTH. 
     IF SELDVTYP(J) = 2 AND PRECISION &gt; 0 
         ADD 2 TO PRECISION 
         MOVE PRECISION TO DISPLAY-LENGTH. 
     IF SELDVTYP(J) = 2 
         IF DISPLAY-LENGTH &gt; MAX-LENGTH 
             DISPLAY "Column value too large for data buffer." 
             GO TO END-PROGRAM 
         ELSE 
             MOVE DISPLAY-LENGTH TO SELDVLN(J). 

*    Coerce datatypes to VARCHAR2. 
     MOVE 1 TO SELDVTYP(J). </pre><p><a href="Oracle-dynamic-SQL-method-4.html#GUID-390491F0-318D-434C-9470-E462BF369098__I10667">Figure 11-8</a> shows the resulting select descriptor. Notice that the NUMBER lengths are now usable and that all the datatypes are VARCHAR2. The lengths in SELDVLN(2) and SELDVLN(3) are 6 and 9 because we increased the DESCRIBEd lengths of 4 and 7 by 2 to allow for a possible sign and decimal point. 
                        </p>
                        <div class="figure" id="GUID-390491F0-318D-434C-9470-E462BF369098__I10667">
                           <p class="titleinfigure">Figure 11-8  Select Descriptor before the FETCH</p><img src="img/pco81011.gif" alt="Description of Figure 11-8 follows" title="Description of Figure 11-8 follows" longdesc="img_text/pco81011.html"><br><a href="img_text/pco81011.html">Description of "Figure 11-8  Select Descriptor before the FETCH"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB779"></a><div class="props_rev_3"><a id="GUID-25158397-4D35-4DDE-9C82-332912EB7C7C" name="GUID-25158397-4D35-4DDE-9C82-332912EB7C7C"></a><h4 id="LNPCB-GUID-25158397-4D35-4DDE-9C82-332912EB7C7C" class="sect4"><span class="enumeration_section">11.6.15 </span>FETCH Rows from the Active Set
                  </h4>
                  <div>
                     <div class="section">
                        <p>FETCH returns a row from the active set, stores select-list values in the data buffers, and advances the cursor to the next row in the active set. If there are no more rows, FETCH sets SQLCODE in the SQLCA, the SQLCODE variable, or the SQLSTATE variable to the "no data found" error code. In the following example, FETCH returns the values of columns ENAME, EMPNO, and COMM to SELDSC:<a id="d72777e2805" class="indexterm-anchor"></a><a id="d72777e2809" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         FETCH EMPCURSOR USING DESCRIPTOR SELDSC 
     END-EXEC. 
</pre><p>“Select Descriptor after the FETCH” shows the select descriptor in our example after the FETCH. Notice that Oracle has stored the select-list and indicator values in the data buffers addressed by the elements of SELDV and SELDI. </p>
                        <p>For output buffers of datatype 1, Oracle, using the lengths stored in SELDVLN, left-justifies CHAR or VARCHAR2 data, and right-justifies NUMBER data. </p>
                        <p>The value <code class="codeph">MARTIN</code> was retrieved from a VARCHAR2(10) column in the EMP table. Using the length in SELDVLN(1), Oracle left-justifies the value in a 10-byte field, filling the buffer. 
                        </p>
                        <p>The value 7654 was retrieved from a NUMBER(4) column and coerced to <code class="codeph">7654</code>. However, the length in SELDVLN(2) was increased by two to allow for a possible sign and decimal point, so Oracle right-justifies the value in a 6-byte field. 
                        </p>
                        <p>The value 482.50 was retrieved from a NUMBER(7,2) column and coerced to 482.50. Again, the length in SELDVLN(3) was increased by two, so Oracle right-justifies the value in a 9-byte field. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB780"></a><div class="props_rev_3"><a id="GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6" name="GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6"></a><h4 id="LNPCB-GUID-9C78E036-70BE-4AA0-9FA0-15094CADAED6" class="sect4"><span class="enumeration_section">11.6.16 </span>Get and Process Select-List Values
                  </h4>
                  <div>
                     <div class="section">
                        <p>After the FETCH, your program can process the select-list values returned by FETCH. In our example, values for columns ENAME, EMPNO, and COMM are processed. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCB782"></a><a id="LNPCB781"></a><div class="props_rev_3"><a id="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C" name="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C"></a><h4 id="LNPCB-GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C" class="sect4"><span class="enumeration_section">11.6.17 </span>CLOSE the Cursor
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d72777e2881" class="indexterm-anchor"></a><a id="d72777e2885" class="indexterm-anchor"></a>CLOSE disables the cursor. In our example, CLOSE disables EMPCURSOR as follows:
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL CLOSE EMPCURSOR END-EXEC</pre><div class="figure" id="GUID-FE34D4FA-F5C4-49C9-A6B6-7FA63467300C__CDDDHFIG">
                           <p class="titleinfigure">Figure 11-9 Select Descriptor after the FETCH</p><img src="img/pco81013.gif" alt="Description of Figure 11-9 follows" title="Description of Figure 11-9 follows" longdesc="img_text/pco81013.html"><br><a href="img_text/pco81013.html">Description of "Figure 11-9 Select Descriptor after the FETCH"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCB783"></a><div class="props_rev_3"><a id="GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36" name="GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36"></a><h3 id="LNPCB-GUID-3CE8E1BC-F39A-42A6-A01C-D2277ADABB36" class="sect3"><span class="enumeration_section">11.7 </span>Using Host Tables with Method 4
               </h3>
               <div>
                  <div class="section">
                     <p>To use input or output host tables with Method 4, you must use the optional FOR clause to tell Oracle the size of your host table. For more information about the FOR clause, see “Host Tables”.</p>
                     <p>Set descriptor entries for the Jth select-list item or bind variable, but instead of addressing a single data buffer, SELDVLN(J) or BNDDVLN(J) addresses a table of data buffers. Then use a FOR clause in the EXECUTE or FETCH statement, as appropriate, to tell Oracle the number of table elements you want to process. </p>
                     <p>This procedure is necessary because Oracle has no other way of knowing the size of your host table. </p>
                     <p>In the following example (32 bit only), two input host tables are used to insert 8 pairs of values of EMPNO and DEPTNO into the table EMP. Note that EXECUTE can be used for non-queries with Method 4. </p><pre class="oac_no_warn" dir="ltr"> IDENTIFICATION DIVISION. 
 PROGRAM-ID. DYN4INS. 
 ENVIRONMENT DIVISION. 
 DATA DIVISION. 
 WORKING-STORAGE SECTION. 
 01  BNDDSC. 
     02  SQLDNUM              PIC S9(9) COMP VALUE 2. 
     02  SQLDFND              PIC S9(9) COMP. 
     02  BNDDVAR              OCCURS 2 TIMES. 
         03 BNDDV             PIC S9(9) COMP. 
         03 BNDDFMT           PIC S9(9) COMP. 
         03 BNDDVLN           PIC S9(9) COMP. 
         03 BNDDFMTL          PIC S9(4) COMP. 
         03 BNDDVTYP          PIC S9(4) COMP. 
         03 BNDDI             PIC S9(9) COMP. 
         03 BNDDH-VNAME       PIC S9(9) COMP. 
         03 BNDDH-MAX-VNAMEL  PIC S9(4) COMP. 
         03 BNDDH-CUR-VNAMEL  PIC S9(4) COMP. 
         03 BNDDI-VNAME       PIC S9(9) COMP. 
         03 BNDDI-MAX-VNAMEL  PIC S9(4) COMP. 
         03 BNDDI-CUR-VNAMEL  PIC S9(4) COMP. 
         03 BNDDFCLP          PIC S9(9) COMP. 
         03 BNDDFCRCP         PIC S9(9) COMP. 
 01  XBNDDI. 
     03  BND-DI               OCCURS 2 TIMES PIC S9(4) COMP. 
 01  XBNDDIVNAME. 
     03  BND-DI-VNAME         OCCURS 2 TIMES PIC X(80). 
 01  XBNDDV. 
*    Since you know what the SQL statement will be, you can set 
*    up a two-dimensional table with a maximum of 2 columns and 
*    8 rows.  Each element can be up to 10 characters long.  (You 
*    can alter these values according to your needs.) 
     03  BND-COLUMN           OCCURS 2 TIMES. 
         05  BND-ELEMENT      OCCURS 8 TIMES PIC X(10). 
 01  XBNDDHVNAME. 
     03  BND-DH-VNAME         OCCURS 2 TIMES PIC X(80).  
 01  COLUMN-INDEX             PIC 999. 
 01  ROW-INDEX                PIC 999. 
 01  DUMMY-INTEGER            PIC 9999.
     EXEC SQL BEGIN DECLARE SECTION END-EXEC. 
         01  USERNAME         PIC X(20). 
         01  PASSWD           PIC X(20). 
         01  DYN-STATEMENT    PIC X(80). 
         01  NUMBER-OF-ROWS   PIC S9(4) COMP. 
     EXEC SQL END DECLARE SECTION END-EXEC. 

     EXEC SQL INCLUDE SQLCA END-EXEC. 

 PROCEDURE DIVISION. 
 START-MAIN. 

     EXEC SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC. 

     MOVE "SCOTT" TO USERNAME. 
     MOVE "TIGER" TO PASSWD. 
     EXEC SQL 
         CONNECT :USERNAME IDENTIFIED BY :PASSWD 
     END-EXEC. 
     DISPLAY "Connected to Oracle". 

*    Initialize bind and select descriptors. 
     PERFORM INIT-BNDDSC THRU INIT-BNDDSC-EXIT 
         VARYING COLUMN-INDEX FROM 1 BY 1 
         UNTIL COLUMN-INDEX &gt; 2. 

*    Set up the SQL statement. 
     MOVE SPACES TO DYN-STATEMENT. 
     MOVE "INSERT INTO EMP(EMPNO, DEPTNO) VALUES(:EMPNO,:DEPTNO)" 
         TO DYN-STATEMENT.
     DISPLAY DYN-STATEMENT.

*    Prepare the SQL statement. 
     EXEC SQL 
         PREPARE S1 FROM :DYN-STATEMENT 
     END-EXEC. 

*    Describe the bind variables. 
     EXEC SQL 
         DESCRIBE BIND VARIABLES FOR S1 INTO BNDDSC 
     END-EXEC. 

     PERFORM Z-BIND-TYPE THRU Z-BIND-TYPE-EXIT 
         VARYING COLUMN-INDEX FROM 1 BY 1 
         UNTIL COLUMN-INDEX &gt; 2. 

     IF SQLDFND IN BNDDSC &lt; 0 
         DISPLAY "TOO MANY BIND VARIABLES." 
         GO TO SQL-ERROR 
     ELSE 
         DISPLAY "BIND VARS = " WITH NO ADVANCING 
         MOVE SQLDFND IN BNDDSC TO DUMMY-INTEGER 
         DISPLAY DUMMY-INTEGER 
         MOVE SQLDFND IN BNDDSC TO SQLDNUM IN BNDDSC. 

         MOVE 8 TO NUMBER-OF-ROWS. 
         PERFORM GET-ALL-VALUES THRU GET-ALL-VALUES-EXIT 
             VARYING ROW-INDEX FROM 1 BY 1 
             UNTIL ROW-INDEX &gt; NUMBER-OF-ROWS. 

*    Execute the SQL statement. 
     EXEC SQL FOR :NUMBER-OF-ROWS 
         EXECUTE S1 USING DESCRIPTOR BNDDSC 
     END-EXEC. 

     DISPLAY "INSERTED " WITH NO ADVANCING. 
     MOVE SQLERRD(3) TO DUMMY-INTEGER. 
     DISPLAY DUMMY-INTEGER WITH NO ADVANCING. 
     DISPLAY " ROWS.". 
     GO TO END-SQL. 

 SQL-ERROR. 
*    Display any SQL error message and code. 
     DISPLAY SQLERRMC. 
     EXEC SQL ROLLBACK WORK RELEASE END-EXEC. 
     STOP RUN. 

 END-SQL. 
     EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC. 
     EXEC SQL COMMIT WORK RELEASE END-EXEC. 
     STOP RUN. 

 INIT-BNDDSC. 
*    Start of COBOL PERFORM procedures, initialize the bind 
*    descriptor. 
     MOVE 80 TO BNDDH-MAX-VNAMEL(COLUMN-INDEX). 
     CALL "SQLADR" USING 
         BND-DH-VNAME(COLUMN-INDEX) 
         BNDDH-VNAME(COLUMN-INDEX). 
     MOVE 80 TO BNDDI-MAX-VNAMEL(COLUMN-INDEX). 
     CALL "SQLADR" USING 
         BND-DI-VNAME(COLUMN-INDEX) 
         BNDDI-VNAME (COLUMN-INDEX). 
     MOVE 10 TO BNDDVLN(COLUMN-INDEX). 
     CALL "SQLADR" USING 
         BND-ELEMENT(COLUMN-INDEX,1) 
         BNDDV(COLUMN-INDEX). 
     MOVE ZERO TO BNDDI(COLUMN-INDEX). 
     CALL "SQLADR" USING 
         BND-DI(COLUMN-INDEX) 
         BNDDI(COLUMN-INDEX). 
     MOVE ZERO TO BNDDFMT(COLUMN-INDEX). 
     MOVE ZERO TO BNDDFMTL(COLUMN-INDEX). 
     MOVE ZERO TO BNDDFCLP(COLUMN-INDEX). 
     MOVE ZERO TO BNDDFCRCP(COLUMN-INDEX). 
 INIT-BNDDSC-EXIT. 
     EXIT.

 Z-BIND-TYPE. 
*    Replace the 0s DESCRIBEd into the datatype table with 1s to 
*    avoid an "invalid datatype" Oracle error. 
     MOVE 1 TO BNDDVTYP(COLUMN-INDEX). 

 Z-BIND-TYPE-EXIT. 
     EXIT. 

 GET-ALL-VALUES. 
*    Get the bind variables for each row. 
     DISPLAY "ENTER VALUES FOR ROW NUMBER ",ROW-INDEX. 
     PERFORM GET-BIND-VARS 
         VARYING COLUMN-INDEX FROM 1 BY 1 
         UNTIL COLUMN-INDEX &gt; SQLDFND IN BNDDSC. 
 GET-ALL-VALUES-EXIT. 
     EXIT. 

 GET-BIND-VARS. 
*    Get the value of each bind variable. 
     DISPLAY "    ENTER VALUE FOR ",BND-DH-VNAME(COLUMN-INDEX) 
         WITH NO ADVANCING. 
     ACCEPT BND-ELEMENT(COLUMN-INDEX,ROW-INDEX). 
 GET-BIND-VARS-EXIT. 
     EXIT.  </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="host-tables.html#GUID-11D1B8B5-B5E0-4EB8-8DCB-85D44752F7BB">Host Tables</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCB784"></a><div class="props_rev_3"><a id="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49" name="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49"></a><h3 id="LNPCB-GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49" class="sect3"><span class="enumeration_section">11.8 </span>Sample Program 10: Dynamic SQL Method 4
               </h3>
               <div>
                  <p>This program shows the basic steps required to use dynamic SQL Method 4. </p>
                  <div class="infoboxnote" id="GUID-C057FFDB-75E2-4123-AFD8-49FBF8561B49__GUID-B8C2FA7F-0268-4A1B-B484-5ECBF2CF05DD">
                     <p class="notep1">Note:</p>
                     <p>The following example is 32 bit only. To avoid problems, please use the example from <code class="codeph">$ORACLE_HOME/precomp/demo/procob2/sample10.pco</code> and include the correct version of the variable declaration file.
                     </p>
                     <p><code class="codeph">bndsel.cob</code>  64 bit version in <code class="codeph">precomp/public</code> (64 bit computer)
                     </p>
                     <p><code class="codeph">bndsel.cob_32</code>  32 bit version in <code class="codeph">precomp/public32</code> (64 bit computer) 
                     </p>
                  </div>
                  <p>After logging on, the program prompts the user for a SQL statement, prepares statement, declares a cursor, checks for any bind variables using DESCRIBE BIND, opens the cursor, and describes any select-list variables. If the input SQL statement is a query, the program fetches each row of data, then closes the cursor.<a id="d72777e2992" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">      ***************************************************************
      * Sample Program 10: Dynamic SQL Method 4                     *
      *                                                             *
      * This program shows the basic steps required to use dynamic  *
      * SQL Method 4.  After logging on to ORACLE, the program      *
      * prompts the user for a SQL statement, PREPAREs the          *
      * statement, DECLAREs a cursor, checks for any bind variables *
      * using DESCRIBE BIND, OPENs the cursor, and DESCRIBEs any    *
      * select-list variables.  If the input SQL statement is a     *
      * query, the program FETCHes each row of data, then CLOSEs    *
      * the cursor.                                                 *
      ***************************************************************

       IDENTIFICATION DIVISION.
       PROGRAM-ID.  DYNSQL4.
       ENVIRONMENT DIVISION.
       DATA DIVISION.
       WORKING-STORAGE SECTION.

       01  BNDDSC.

           02  SQLDNUM               PIC S9(9) COMP VALUE 20.
           02  SQLDFND               PIC S9(9) COMP.
           02  BNDDVAR               OCCURS 20 TIMES.
               03  BNDDV             PIC S9(9) COMP.
               03  BNDDFMT           PIC S9(9) COMP.
               03  BNDDVLN           PIC S9(9) COMP.
               03  BNDDFMTL          PIC S9(4) COMP.
               03  BNDDVTYP          PIC S9(4) COMP.
               03  BNDDI             PIC S9(9) COMP.
               03  BNDDH-VNAME       PIC S9(9) COMP.
               03  BNDDH-MAX-VNAMEL  PIC S9(4) COMP.
               03  BNDDH-CUR-VNAMEL  PIC S9(4) COMP.
               03  BNDDI-VNAME       PIC S9(9) COMP.
               03  BNDDI-MAX-VNAMEL  PIC S9(4) COMP.
               03  BNDDI-CUR-VNAMEL  PIC S9(4) COMP.
               03  BNDDFCLP          PIC S9(9) COMP.
               03  BNDDFCRCP         PIC S9(9) COMP.

       01  XBNDDI.

           03  BND-DI                OCCURS 20 TIMES PIC S9(4) COMP.

       01  XBNDDIVNAME.
           03  BND-DI-VNAME          OCCURS 20 TIMES PIC X(80).
       01  XBNDDV.
           03  BND-DV                OCCURS 20 TIMES PIC X(80).
       01  XBNDDHVNAME.
           03  BND-DH-VNAME          OCCURS 20 TIMES PIC X(80).

       01  SELDSC.

           02  SQLDNUM               PIC S9(9) COMP VALUE 20.
           02  SQLDFND               PIC S9(9) COMP.
           02  SELDVAR               OCCURS 20 TIMES.
               03  SELDV             PIC S9(9) COMP.
               03  SELDFMT           PIC S9(9) COMP.
               03  SELDVLN           PIC S9(9) COMP.
               03  SELDFMTL          PIC S9(4) COMP.
               03  SELDVTYP          PIC S9(4) COMP.
               03  SELDI             PIC S9(9) COMP.
               03  SELDH-VNAME       PIC S9(9) COMP.
               03  SELDH-MAX-VNAMEL  PIC S9(4) COMP.
               03  SELDH-CUR-VNAMEL  PIC S9(4) COMP.
               03  SELDI-VNAME       PIC S9(9) COMP.
               03  SELDI-MAX-VNAMEL  PIC S9(4) COMP.
               03  SELDI-CUR-VNAMEL  PIC S9(4) COMP.
               03  SELDFCLP          PIC S9(9) COMP.
               03  SELDFCRCP         PIC S9(9) COMP.

       01  XSELDI.

           03  SEL-DI                OCCURS 20 TIMES PIC S9(4) COMP.

       01  XSELDIVNAME.
           03  SEL-DI-VNAME          OCCURS 20 TIMES PIC X(80).
       01  XSELDV.
           03  SEL-DV                OCCURS 20 TIMES PIC X(80).
       01  XSELDHVNAME.
           03  SEL-DH-VNAME          OCCURS 20 TIMES PIC X(80).

       01  TABLE-INDEX               PIC 9(3).
       01  VAR-COUNT                 PIC 9(2).
       01  ROW-COUNT                 PIC 9(4).
       01  NO-MORE-DATA              PIC X(1) VALUE "N".
       01  NULLS-ALLOWED             PIC S9(9) COMP.

       01  PRECISION                 PIC S9(9) COMP.
       01  SCALE                     PIC S9(9) COMP.

       01  DISPLAY-LENGTH            PIC S9(9) COMP.
       01  MAX-LENGTH                PIC S9(9) COMP VALUE 80.
       01  COLUMN-NAME               PIC X(30).
       01  NULL-VAL                  PIC X(80) VALUE SPACES.
           EXEC SQL BEGIN DECLARE SECTION END-EXEC.
       01  USERNAME       PIC X(20).
       01  PASSWD         PIC X(20).
       01  DYN-STATEMENT  PIC X(80).
           EXEC SQL END DECLARE SECTION   END-EXEC.
           EXEC SQL INCLUDE SQLCA         END-EXEC.

       PROCEDURE DIVISION.
       START-MAIN.

           EXEC SQL WHENEVER SQLERROR GOTO SQL-ERROR END-EXEC.

           DISPLAY "USERNAME: " WITH NO ADVANCING.

           ACCEPT USERNAME.

           DISPLAY "PASSWORD: " WITH NO ADVANCING.

           ACCEPT PASSWD.

           EXEC SQL CONNECT :USERNAME IDENTIFIED BY :PASSWD END-EXEC.
           DISPLAY "CONNECTED TO ORACLE AS USER: ", USERNAME.

      *    INITIALIZE THE BIND AND SELECT DESCRIPTORS.

           PERFORM INIT-BNDDSC
               VARYING TABLE-INDEX FROM 1 BY 1 
               UNTIL TABLE-INDEX &gt; 20.

           PERFORM INIT-SELDSC
               VARYING TABLE-INDEX FROM 1 BY 1 
               UNTIL TABLE-INDEX &gt; 20.

      *    GET A SQL STATEMENT FROM THE OPERATOR.

           DISPLAY "ENTER SQL STATEMENT WITHOUT TERMINATOR:".
           DISPLAY "&gt;" WITH NO ADVANCING.

           ACCEPT DYN-STATEMENT.

           DISPLAY " ".

      *    PREPARE THE SQL STATEMENT AND DECLARE A CURSOR.

           EXEC SQL  PREPARE S1 FROM :DYN-STATEMENT  END-EXEC.
           EXEC SQL  DECLARE C1 CURSOR FOR S1        END-EXEC.

      *    DESCRIBE ANY BIND VARIABLES.

           EXEC SQL  DESCRIBE BIND VARIABLES FOR S1 INTO BNDDSC
           END-EXEC.

           IF SQLDFND IN BNDDSC &lt; 0
               DISPLAY "TOO MANY BIND VARIABLES."
               GO TO END-SQL
           ELSE
               DISPLAY "NUMBER OF BIND VARIABLES: " WITH NO ADVANCING
               MOVE SQLDFND IN BNDDSC TO VAR-COUNT
               DISPLAY VAR-COUNT
               MOVE SQLDFND IN BNDDSC TO SQLDNUM IN BNDDSC
           END-IF.

      *    REPLACE THE 0S DESCRIBED INTO THE DATATYPE FIELDS OF THE
      *    BIND DESCRIPTOR WITH 1S TO AVOID AN "INVALID DATATYPE"
      *    ORACLE ERROR

           MOVE 1 TO TABLE-INDEX.
       FIX-BIND-TYPE.
               MOVE 1 TO BNDDVTYP(TABLE-INDEX)
               ADD 1 TO TABLE-INDEX
               IF TABLE-INDEX &lt;= 20
                   GO TO FIX-BIND-TYPE.

      *    LET THE USER FILL IN THE BIND VARIABLES.

           IF SQLDFND IN BNDDSC = 0
               GO TO DESCRIBE-ITEMS.
           MOVE 1 TO TABLE-INDEX.
       GET-BIND-VAR.
               DISPLAY "ENTER VALUE FOR ", BND-DH-VNAME(TABLE-INDEX).

               ACCEPT BND-DV(TABLE-INDEX).

               ADD 1 TO TABLE-INDEX
               IF TABLE-INDEX &lt;= SQLDFND IN BNDDSC
                   GO TO GET-BIND-VAR.

      *    OPEN THE CURSOR AND DESCRIBE THE SELECT-LIST ITEMS.

       DESCRIBE-ITEMS.

           EXEC SQL  OPEN C1 USING DESCRIPTOR BNDDSC          END-EXEC.
           EXEC SQL  DESCRIBE SELECT LIST FOR S1 INTO SELDSC  END-EXEC.

           IF SQLDFND IN SELDSC &lt; 0
               DISPLAY "TOO MANY SELECT-LIST ITEMS."
               GO TO END-SQL
           ELSE
               DISPLAY "NUMBER OF SELECT-LIST ITEMS: "
                   WITH NO ADVANCING
               MOVE SQLDFND IN SELDSC TO VAR-COUNT
               DISPLAY VAR-COUNT
               DISPLAY " "
               MOVE SQLDFND IN SELDSC TO SQLDNUM IN SELDSC
           END-IF.

      *    COERCE THE DATATYPE OF ALL SELECT-LIST ITEMS TO VARCHAR2.

           IF SQLDNUM IN SELDSC &gt; 0
               PERFORM COERCE-COLUMN-TYPE
                   VARYING TABLE-INDEX FROM 1 BY 1
                   UNTIL TABLE-INDEX &gt; SQLDNUM IN SELDSC
               DISPLAY " ".

      *    FETCH EACH ROW AND PRINT EACH SELECT-LIST VALUE.

           IF SQLDNUM IN SELDSC &gt; 0
               PERFORM FETCH-ROWS UNTIL NO-MORE-DATA = "Y".

           DISPLAY " "
           DISPLAY "NUMBER OF ROWS PROCESSED: " WITH NO ADVANCING.
           MOVE SQLERRD(3) TO ROW-COUNT.
           DISPLAY ROW-COUNT.

      *    CLEAN UP AND TERMINATE.

           EXEC SQL  CLOSE C1             END-EXEC.
           EXEC SQL  COMMIT WORK RELEASE  END-EXEC.
           DISPLAY " ".
           DISPLAY "HAVE A GOOD DAY!".
           DISPLAY " ".
           STOP RUN.

      *    DISPLAY ORACLE ERROR MESSAGE AND CODE.

       SQL-ERROR.
           DISPLAY " ".
           DISPLAY SQLERRMC.
       END-SQL.
           EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC.
           EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
           STOP RUN.

      *    PERFORMED SUBROUTINES BEGIN HERE:

      *    INIT-BNDDSC: INITIALIZE THE BIND DESCRIPTOR.

       INIT-BNDDSC.

           MOVE SPACES TO BND-DH-VNAME(TABLE-INDEX).
           MOVE 80 TO BNDDH-MAX-VNAMEL(TABLE-INDEX).
           CALL "SQLADR" USING 
               BND-DH-VNAME(TABLE-INDEX) 
               BNDDH-VNAME(TABLE-INDEX). 
        
           MOVE SPACES TO BND-DI-VNAME(TABLE-INDEX).
           MOVE 80 TO BNDDI-MAX-VNAMEL(TABLE-INDEX).
           CALL "SQLADR" USING 
               BND-DI-VNAME(TABLE-INDEX) 
               BNDDI-VNAME (TABLE-INDEX).
        
           MOVE SPACES TO BND-DV(TABLE-INDEX).
           MOVE 80 TO BNDDVLN(TABLE-INDEX).
           CALL "SQLADR" USING 
               BND-DV(TABLE-INDEX) 
               BNDDV(TABLE-INDEX).
           MOVE ZERO TO BND-DI(TABLE-INDEX).
           CALL "SQLADR" USING 
               BND-DI(TABLE-INDEX) 
               BNDDI(TABLE-INDEX).

           MOVE ZERO TO BNDDFMT(TABLE-INDEX).
           MOVE ZERO TO BNDDFMTL(TABLE-INDEX).
           MOVE ZERO TO BNDDFCLP(TABLE-INDEX).
           MOVE ZERO TO BNDDFCRCP(TABLE-INDEX).

      *    INIT-SELDSC: INITIALIZE THE SELECT DESCRIPTOR.

       INIT-SELDSC.

           MOVE SPACES TO SEL-DH-VNAME(TABLE-INDEX).
           MOVE 80 TO SELDH-MAX-VNAMEL(TABLE-INDEX).
           CALL "SQLADR" USING 
               SEL-DH-VNAME(TABLE-INDEX) 
               SELDH-VNAME(TABLE-INDEX). 
        
           MOVE SPACES TO SEL-DI-VNAME(TABLE-INDEX).
           MOVE 80 TO SELDI-MAX-VNAMEL(TABLE-INDEX).
           CALL "SQLADR" USING 
               SEL-DI-VNAME(TABLE-INDEX) 
               SELDI-VNAME (TABLE-INDEX).

           MOVE SPACES TO SEL-DV(TABLE-INDEX).
           MOVE 80 TO SELDVLN(TABLE-INDEX).
           CALL "SQLADR" USING 
               SEL-DV(TABLE-INDEX) 
               SELDV(TABLE-INDEX).

           MOVE ZERO TO SEL-DI(TABLE-INDEX).
           CALL "SQLADR" USING 
               SEL-DI(TABLE-INDEX) 
               SELDI(TABLE-INDEX).

           MOVE ZERO TO SELDFMT(TABLE-INDEX).
           MOVE ZERO TO SELDFMTL(TABLE-INDEX).
           MOVE ZERO TO SELDFCLP(TABLE-INDEX).
           MOVE ZERO TO SELDFCRCP(TABLE-INDEX).

      *    COERCE SELECT-LIST DATATYPES TO VARCHAR2.

       COERCE-COLUMN-TYPE.
           CALL "SQLNUL" USING
               SELDVTYP(TABLE-INDEX)
               SELDVTYP(TABLE-INDEX)
               NULLS-ALLOWED.

      *    IF DATATYPE IS DATE, LENGTHEN TO 9 CHARACTERS.
           IF SELDVTYP(TABLE-INDEX) = 12
               MOVE 9 TO SELDVLN(TABLE-INDEX).

      *    IF DATATYPE IS NUMBER, SET LENGTH TO PRECISION.
           IF SELDVTYP(TABLE-INDEX) = 2
               CALL "SQLPRC" USING
                   SELDVLN(TABLE-INDEX)
                   PRECISION
                   SCALE.
           MOVE 0 TO DISPLAY-LENGTH.
           IF SELDVTYP(TABLE-INDEX) = 2 AND PRECISION = 0
               MOVE 40 TO DISPLAY-LENGTH.
           IF SELDVTYP(TABLE-INDEX) = 2 AND PRECISION &gt; 0
               ADD 2 TO PRECISION
               MOVE PRECISION TO DISPLAY-LENGTH.

           IF SELDVTYP(TABLE-INDEX) = 2
               IF DISPLAY-LENGTH &gt; MAX-LENGTH
                   DISPLAY "COLUMN VALUE TOO LARGE FOR DATA BUFFER."
                   GO TO END-SQL
               ELSE
                   MOVE DISPLAY-LENGTH TO SELDVLN(TABLE-INDEX).

      *    COERCE DATATYPES TO VARCHAR2.
           MOVE 1 TO SELDVTYP(TABLE-INDEX).

      *    DISPLAY COLUMN HEADING.
           MOVE SEL-DH-VNAME(TABLE-INDEX) TO COLUMN-NAME.
           DISPLAY COLUMN-NAME(1:SELDVLN(TABLE-INDEX)), " "
               WITH NO ADVANCING.

      *FETCH A ROW AND PRINT THE SELECT-LIST VALUE.

       FETCH-ROWS.
           EXEC SQL  FETCH C1 USING DESCRIPTOR SELDSC  END-EXEC.
           IF SQLCODE NOT = 0
               MOVE "Y" TO NO-MORE-DATA.
           IF SQLCODE = 0
               PERFORM PRINT-COLUMN-VALUES
                   VARYING TABLE-INDEX FROM 1 BY 1
                   UNTIL TABLE-INDEX &gt; SQLDNUM IN SELDSC
               DISPLAY " ".

      *PRINT A SELECT-LIST VALUE.

       PRINT-COLUMN-VALUES.
           IF SEL-DI(TABLE-INDEX) = -1
             DISPLAY NULL-VAL(1:SELDVLN(TABLE-INDEX)), " "
                 WITH NO ADVANCING
           ELSE
             DISPLAY SEL-DV(TABLE-INDEX)(1:SELDVLN(TABLE-INDEX)), " "
                 WITH NO ADVANCING
           END-IF.
</pre></div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04094.Oracle-extensions.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Extensions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="JDBC-standards-support.html" title="Previous" type="text/html">
      <link rel="next" href="JDBC-Thin-features.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-standards-support.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="JDBC-Thin-features.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-Oracle-JDBC.html" property="item" typeof="WebPage"><span property="name"> Oracle JDBC</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Extensions </li>
            </ol>
            <a id="GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652" name="GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652"></a><a id="JJDBC28120"></a>
            
            <h2 id="JJDBC-GUID-2A28CD5C-7696-4EFF-B9AF-8A62E89E3652" class="sect2"><span class="enumeration_chapter">4 </span> Oracle Extensions 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d23567e21" class="indexterm-anchor"></a><a id="d23567e25" class="indexterm-anchor"></a>Oracle provides Java classes and interfaces that extend the Java Database Connectivity (JDBC) standard implementation, enabling you to access and manipulate Oracle data types and use Oracle performance extensions. This chapter provides an overview of the classes and interfaces provided by Oracle that extend the JDBC standard implementation. It also describes some of the key support features of the extensions.
               </p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2">Overview of Oracle Extensions</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-868B15D0-71BF-4501-83F6-11ABCE319803">Features of the Oracle Extensions </a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-D61F7AAC-3708-4437-8070-52F707B68259">Oracle JDBC Packages</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E">Oracle Character Data Types Support</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96">Additional Oracle Type Extensions</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-9EC82134-1206-4325-A17B-9FA7610F0169">DML Returning</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-extensions.html#GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB">Accessing PL/SQL Associative Arrays</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="performance-extensions.html#GUID-FEECA64F-44F4-453F-B8A8-AFBF6D29ABA4">Performance Extensions</a></li>
                  </ul>
               </div>
            </div>
            <a id="JJDBC28121"></a><div class="props_rev_3"><a id="GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2" name="GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2"></a><h3 id="JJDBC-GUID-AC9387F5-5333-4602-9C43-467CCBCD67A2" class="sect3"><span class="enumeration_section">4.1 </span>Overview of Oracle Extensions
               </h3>
               <div>
                  <p>Beyond standard features, Oracle JDBC drivers provide Oracle-specific type extensions and performance extensions. These extensions are provided through the following Java packages:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">oracle.sql</code></p>
                        <p>Provides classes that represent SQL data in Oracle format</p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.jdbc</code></p>
                        <p>Provides interfaces to support database access and updates in Oracle type formats</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="Oracle-extensions.html#GUID-D61F7AAC-3708-4437-8070-52F707B68259">Oracle JDBC Packages</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDBC28122"></a><div class="props_rev_3"><a id="GUID-868B15D0-71BF-4501-83F6-11ABCE319803" name="GUID-868B15D0-71BF-4501-83F6-11ABCE319803"></a><h3 id="JJDBC-GUID-868B15D0-71BF-4501-83F6-11ABCE319803" class="sect3"><span class="enumeration_section">4.2 </span>Features of the Oracle Extensions 
               </h3>
               <div>
                  <div class="section">
                     <p>The Oracle extensions to JDBC include a number of features that enhance your ability to work with Oracle Databases. These include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B">Database Management Using JDBC</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-98B72A83-155A-438A-BC8A-C88F89D24233">Support for Oracle Data Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-2B5B46DD-5608-4407-A5D9-4944567487D1">Support for Oracle Objects</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C">Support for Schema Naming</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235">DML Returning</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A">About Accessing PL/SQL Associative Arrays</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28123"></a><div class="props_rev_3"><a id="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B" name="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B"></a><h4 id="JJDBC-GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B" class="sect4"><span class="enumeration_section">4.2.1 </span>Database Management Using JDBC
                  </h4>
                  <div>
                     <div class="section">
                        <p>Starting from Oracle Database 11<span class="italic">g</span> Release 1, the <code class="codeph">oracle.jdbc.OracleConnection</code> interface has two JDBC methods, <code class="codeph">startup</code> and <code class="codeph">shutdown</code>, which enable you to start up and shut down an Oracle Database instance.
                        </p>
                        <div class="infoboxnote" id="GUID-CC7CA29D-EDD8-42C8-9730-F03C279CC13B__GUID-8738A08A-2248-4076-B7CD-6E9975A4FFC3">
                           <p class="notep1">Note:</p>
                           <p>My Oracle Support Note 335754.1 announces the desupport of the <code class="codeph">oracle.jdbc.driver.*</code> package in Oracle Database 11<span class="italic">g</span> JDBC drivers. In other words, Oracle Database 10<span class="italic">g</span> Release 2 was the last database to support this package and any API depending on the <code class="codeph">oracle.jdbc.driver.*</code> package will fail to compile in the current release of the Database. You must remove such APIs and migrate to the standard APIs. For example, if your code uses the  <code class="codeph">oracle.jdbc.CustomDatum</code> and <code class="codeph">oracle.jdbc.CustomDatumFactory</code> interfaces, then you must replace them with the <code class="codeph">java.sql.Struct</code> or <code class="codeph">java.sql.SQLData</code> interfaces.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-administration.html#GUID-6EC16CE6-5734-473E-A270-EB387A9C0043">Database Administration</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28125"></a><div class="props_rev_3"><a id="GUID-98B72A83-155A-438A-BC8A-C88F89D24233" name="GUID-98B72A83-155A-438A-BC8A-C88F89D24233"></a><h4 id="JJDBC-GUID-98B72A83-155A-438A-BC8A-C88F89D24233" class="sect4"><span class="enumeration_section">4.2.2 </span>Support for Oracle Data Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>One of the features of the Oracle JDBC extensions is the type support in the <a id="d23567e283" class="indexterm-anchor"></a><code class="codeph">oracle.sql</code> package. This package includes classes that are an exact representation of the data in Oracle format. Keep the following important points in mind, when you use <code class="codeph">oracle.sql</code> types in your program:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For numeric type of data, the conversion to standard Java types does not guarantee to retain full precision due to limitations of the data conversion process. Use the <code class="codeph">BigDecimal</code> type to minimize any data loss issues.
                              </p>
                           </li>
                           <li>
                              <p>For certain data types, the conversion to standard Java types can be dependent on the system settings and your program may not run as expected. This is a known limitation while converting data from <code class="codeph">oracle.sql</code> types to standard Java types.
                              </p>
                           </li>
                           <li>
                              <p>If the functionalities of your program is limited to reading data from one table and writing the same to another table, then for numeric and date data, <code class="codeph">oracle.sql</code> types are slightly faster as compared to standard Java types. But, if your program involves even a simple data manipulation operation like compare or print, then standard Java types are faster.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql.CHAR</code> is not an exact representation of the data in Oracle format. <code class="codeph">oracle.sql.CHAR</code> is constructed from <code class="codeph">java.lang.String</code>. There is no advantage of using <code class="codeph">oracle.sql.CHAR</code> because <code class="codeph">java.lang.String</code> is always faster and represents the same character sets, excluding a couple of desupported character sets.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-98B72A83-155A-438A-BC8A-C88F89D24233__GUID-2B89DBAD-D736-4D0F-8676-47D21B701124">
                           <p class="notep1">Note:</p>
                           <p>Oracle strongly recommends you to use standard Java types and convert any existing <code class="codeph">oracle.sql</code> type of data to standard Java types. Internally, the Oracle JDBC drivers strive to maximize the performance of Java standard types. <code class="codeph">oracle.sql</code> types are supported <span class="italic">only</span> for backward compatibility and their use is discouraged.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53">Package oracle.sql</a></li>
                           <li><a href="Oracle-extensions.html#GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E">Oracle Character Data Types Support</a></li>
                           <li><a href="Oracle-extensions.html#GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96">Additional Oracle Type Extensions</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28126"></a><div class="props_rev_3"><a id="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1" name="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1"></a><h4 id="JJDBC-GUID-2B5B46DD-5608-4407-A5D9-4944567487D1" class="sect4"><span class="enumeration_section">4.2.3 </span>Support for Oracle Objects
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC supports the use of structured objects in the database, where an object data type is a user-defined type with nested attributes. For example, a user application could define an <code class="codeph">Employee</code> object type, where each <code class="codeph">Employee</code> object has a <code class="codeph">firstname</code> attribute (character string), a <code class="codeph">lastname</code> attribute (character string), and an <code class="codeph">employeenumber</code> attribute (integer).
                        </p>
                        <p>Oracle JDBC supports Oracle object data types. When you work with Oracle object data types in a Java application, you must consider the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>How to map between Oracle object data types and Java classes</p>
                           </li>
                           <li>
                              <p>How to store Oracle object attributes in corresponding Java objects</p>
                           </li>
                           <li>
                              <p>How to convert attribute data between SQL and Java formats</p>
                           </li>
                           <li>
                              <p>How to access data</p>
                           </li>
                        </ul>
                        <p>Oracle objects can be mapped either to the weak <code class="codeph">java.sql.Struct</code> type or to strongly typed customized classes. These strong types are referred to as <a id="d23567e429" class="indexterm-anchor"></a>custom Java classes, which must implement either the standard <code class="codeph">java.sql.SQLData</code> interface or the Oracle extension <code class="codeph">oracle.jdbc.OracleData</code> interface. Each interface specifies methods to convert data between SQL and Java.
                        </p>
                        <div class="infoboxnote" id="GUID-2B5B46DD-5608-4407-A5D9-4944567487D1__GUID-C4651E43-F902-4F14-878D-E53083867727">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">OracleData</code> interface has replaced the <code class="codeph">ORAData</code> interface.
                           </p>
                        </div>
                        <p>Oracle recommends the use of the Oracle JVM Web Service Call-Out Utility to create custom Java classes to correspond to your Oracle objects.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50">Working with Oracle Object Types</a></li>
                           <li><a href="../jjdev/database-as-web-service-consumer.html#JJDEV-GUID-E66168C4-6043-4A49-9062-A4937B76ABC0" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28127"></a><div class="props_rev_3"><a id="GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C" name="GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C"></a><h4 id="JJDBC-GUID-FA1A98DC-9D88-4038-8C2F-839D659C813C" class="sect4"><span class="enumeration_section">4.2.4 </span>Support for Schema Naming
                  </h4>
                  <div>
                     <p>Oracle object data type classes have the ability to accept and return fully qualified schema names. A fully qualified schema name has this syntax:</p><pre class="oac_no_warn" dir="ltr">{[<span class="italic">schema_name</span>].}[<span class="italic">sql_type_name]</span> 
 </pre><p>Where, <span class="italic"><code class="codeph">schema_name</code></span> is the name of the schema and <span class="italic"><code class="codeph">sql_type_name</code></span> is the SQL type name of the object. <span class="italic"><code class="codeph">schema_name</code></span> and <span class="italic"><code class="codeph">sql_type_name</code></span> are separated by a period (<code class="codeph">.</code>). 
                     </p>
                     <p>To specify an object type in JDBC, use its fully qualified name. It is not necessary to enter a schema name if the type name is in the current naming space, that is, the current schema. Schema naming follows these rules:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Both the schema name and the type name may or may not be within quotation marks. However, if the SQL type name has a period in it, such as <code class="codeph">CORPORATE.EMPLOYEE</code>, the type name must be quoted. 
                           </p>
                        </li>
                        <li>
                           <p>The JDBC driver looks for the first period in the object name that is not within quotation marks and uses the string before the period as the schema name and the string following the period as the type name. If no period is found, then the JDBC driver takes the current schema as default. That is, you can specify only the type name, without indicating a schema, instead of specifying the fully qualified name if the object type name belongs to the current schema. This also explains why you must put the type name within quotation marks if the type name has a dot in it. </p>
                           <p>For example, assume that user <code class="codeph">HR</code> creates a type called <code class="codeph">person.address</code> and then wants to use it in his session. <code class="codeph">HR</code> may want to skip the schema name and pass in <code class="codeph">person.address</code> to the JDBC driver. In this case, if <code class="codeph">person.address</code> is not within quotation marks, then the period is detected and the JDBC driver mistakenly interprets <code class="codeph">person</code> as the schema name and <code class="codeph">address</code> as the type name.
                           </p>
                        </li>
                        <li>
                           <p>JDBC passes the object type name string to the database unchanged. That is, the JDBC driver does not change the character case even if the object type name is within quotation marks. </p>
                           <p>For example, if <code class="codeph">HR.PersonType</code> is passed to the JDBC driver as an object type name, then the JDBC driver passes the string to the database unchanged. As another example, if there is white space between characters in the type name string, then the JDBC driver will not remove the white space. 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JJDBC28128"></a><div class="props_rev_3"><a id="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235" name="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235"></a><h4 id="JJDBC-GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235" class="sect4"><span class="enumeration_section">4.2.5 </span>DML Returning
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database supports the use of the <code class="codeph">RETURNING</code> clause with data manipulation language (DML) statements. This enables you to combine two SQL statements into one. Both the Oracle JDBC Oracle Call Interface (OCI) driver and the Oracle JDBC Thin driver support DML returning.
                        </p>
                        <div class="infoboxnotealso" id="GUID-27FDA3E3-6E75-4970-8274-8AECAA10E235__GUID-4713F5FF-DAFE-4DDF-92D2-98EF0E263B92">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="Oracle-extensions.html#GUID-9EC82134-1206-4325-A17B-9FA7610F0169">DML Returning</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28129"></a><div class="props_rev_3"><a id="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A" name="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A"></a><h4 id="JJDBC-GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A" class="sect4"><span class="enumeration_section">4.2.6 </span>PL/SQL Associative Arrays
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC drivers enable JDBC applications to make PL/SQL calls with Associative Array parameters. Oracle JDBC drivers support PL/SQL Associative Arrays of scalar data types</p>
                        <div class="infoboxnotealso" id="GUID-6FD9F303-8C2F-42A8-AD4E-106FE155891A__GUID-DC8286DE-0320-4779-936C-D430454421EE">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="Oracle-extensions.html#GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB">Accessing PL/SQL Associative Arrays</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28130"></a><div class="props_rev_3"><a id="GUID-D61F7AAC-3708-4437-8070-52F707B68259" name="GUID-D61F7AAC-3708-4437-8070-52F707B68259"></a><h3 id="JJDBC-GUID-D61F7AAC-3708-4437-8070-52F707B68259" class="sect3"><span class="enumeration_section">4.3 </span>Oracle JDBC Packages
               </h3>
               <div>
                  <div class="section">
                     <p>This section describes the following Java packages, which support the Oracle JDBC extensions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53">Package oracle.sql</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66">Package oracle.jdbc</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28132"></a><a id="JJDBC28133"></a><a id="JJDBC28134"></a><a id="JJDBC28136"></a><a id="JJDBC28137"></a><a id="JJDBC28138"></a><a id="JJDBC28139"></a><a id="JJDBC28131"></a><div class="props_rev_3"><a id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" name="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53"></a><h4 id="JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" class="sect4"><span class="enumeration_section">4.3.1 </span>Package oracle.sql
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql</code> package supports direct access to data in SQL format. This package consists primarily of classes that provide Java mappings to SQL data types and their support classes. Essentially, the classes act as Java containers for SQL data.
                        </p>
                        <p>Each of the <code class="codeph">oracle.sql.*</code> data type classes extends <code class="codeph">oracle.sql.Datum</code>, a superclass that encapsulates functionality common to all the data types. Some of the classes are for JDBC 2.0-compliant data types. These classes, implement standard JDBC 2.0 interfaces in the <code class="codeph">java.sql</code> package, as well as extending the <code class="codeph">oracle.sql.Datum</code> class.
                        </p>
                        <p>The <code class="codeph">LONG</code> and <code class="codeph">LONG</code> <code class="codeph">RAW</code> SQL types and <code class="codeph">REF</code> <code class="codeph">CURSOR</code> type category have no <code class="codeph">oracle.sql.*</code> classes. Use standard JDBC functionality for these types. For example, retrieve <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code> data as input streams using the standard JDBC result set and callable statement methods <code class="codeph">getBinaryStream</code> and <code class="codeph">getCharacterStream</code>. Use the <code class="codeph">getCursor</code> method for <code class="codeph">REF</code> <code class="codeph">CURSOR</code> types.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-7FC029E1-8DDA-4D00-8AA2-7E42A285F657">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends the use of standard JDBC types or Java types whenever possible. The types in the package <code class="codeph">oracle.sql.*</code> are provided primarily for backward compatibility or for support of a few Oracle specific features such as <code class="codeph">OPAQUE</code>, <code class="codeph">OracleData</code>, <code class="codeph">TIMESTAMPTZ</code>, and so on.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-71C625B6-4E30-487F-9C52-5CE080BCD26A">General oracle.sql.* Data Type Support</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Each of the <a id="d23567e802" class="indexterm-anchor"></a>Oracle data type classes provides, among other things, the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Data storage as Java byte arrays for SQL data</p>
                           </li>
                           <li>
                              <p>A <code class="codeph">getBytes()</code> method, which returns the SQL data as a byte array
                              </p>
                           </li>
                           <li>
                              <p>A <code class="codeph">toJdbc()</code> method that converts the data into an object of a corresponding Java class as defined in the JDBC specification
                              </p>
                              <p>The JDBC driver does not convert Oracle-specific data types that are not part of the JDBC specification, such as <code class="codeph">BFILE</code>. The driver returns the object in the corresponding <code class="codeph">oracle.sql.*</code> format.
                              </p>
                           </li>
                           <li>
                              <p>Appropriate <span class="italic"><code class="codeph">xxx</code></span><code class="codeph">Value</code> methods to convert SQL data to Java type. For example, <code class="codeph">stringValue</code>, <code class="codeph">intValue</code>, <code class="codeph">booleanValue</code>, <code class="codeph">dateValue</code>, and <code class="codeph">bigDecimalValue</code></p>
                           </li>
                           <li>
                              <p>Additional conversion methods, <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> and <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span>, as appropriate, for the functionality of the data type, such as methods in the large object (LOB) classes that get the data as a stream and methods in the <code class="codeph">REF</code> class that get and set object data through the object reference.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__I1075337">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-274246BF-8C24-4569-9C06-2F7F26A14E15">Overview of Class oracle.sql.STRUCT</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">oracle.sql.STRUCT</code> class is the Oracle implementation of <code class="codeph">java.sql.Struct</code> interface. This class is a value class and you should not change the contents of the class after construction. This class, as with all <code class="codeph">oracle.sql.*</code> data type classes, is a subclass of the <code class="codeph">oracle.sql.Datum</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-42E3AD51-0D59-4EB3-AFB0-C6FB9E69EEE7">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.STRUCT</code> class is deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleStruct</code> interface, which is a part of the <code class="codeph">oracle.jdbc</code> package. Oracle strongly recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleStruct</code> interface.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-EBA55865-F5EA-4C0D-BBA5-7DCBC0BAC8EC">Overview of Class oracle.sql.REF</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql.REF</code> class is the generic class that supports Oracle object references. This class, as with all <code class="codeph">oracle.sql.*</code> data type classes, is a subclass of the <code class="codeph">oracle.sql.Datum</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-70192D47-A0D5-4EFC-B689-A3733F21B37F">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.REF</code> class is deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleRef</code> interface, which is a part of the <code class="codeph">oracle.jdbc</code> package. Oracle strongly recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleRef</code> interface.
                           </p>
                        </div>
                        <p>The <code class="codeph">REF</code> class has methods to retrieve and pass object references. However, selecting an object reference retrieves only a pointer to an object. This does not materialize the object itself. But the <code class="codeph">REF</code> class also includes methods to retrieve and pass the object data. You cannot create <code class="codeph">REF</code> objects in your JDBC application. You can only retrieve existing <code class="codeph">REF</code> objects from the database.
                        </p>
                        <p>You should use the JDBC standard type, <code class="codeph">java.sql.Ref</code>, and the JDBC standard methods in preference to using <code class="codeph">oracle.sql.REF</code>. If you want your code to be more portable, then you must use the standard type because only the Oracle JDBC drivers will use instances of <code class="codeph">oracle.sql.REF</code> type.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-3162BA52-E80E-4EC3-8B0C-573B70FFE05C">Overview of Classes oracle.sql.BLOB, oracle.sql.CLOB, oracle.sql.BFILE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d23567e985" class="indexterm-anchor"></a><a id="d23567e987" class="indexterm-anchor"></a><a id="d23567e989" class="indexterm-anchor"></a><a id="d23567e991" class="indexterm-anchor"></a><a id="d23567e995" class="indexterm-anchor"></a><a id="d23567e999" class="indexterm-anchor"></a>Binary large objects (BLOBs), character large objects (CLOBs), and binary files (BFILEs) are for data items that are too large to store directly in a database table. Instead, the database table stores a locator that points to the location of the actual data.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-00FA74C8-7830-4208-81BF-CCA02015CF00">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.BLOB</code> and <code class="codeph">Oracle.sql.CLOB</code> classes are deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleBlob</code> and <code class="codeph">oracle.jdbc.OracleClob</code> interfaces respectively, which are a part of the <code class="codeph">oracle.jdbc</code> package. Oracle strongly recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleBlob</code> and <code class="codeph">oracle.jdbc.OracleClob</code> interfaces.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">oracle.sql.BFILE</code> is an Oracle proprietary extension and there is no JDBC standard equivalent.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The <code class="codeph">oracle.sql</code> package supports these data types in several ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>BLOBs point to large unstructured binary data items and are supported by the <code class="codeph">oracle.sql.BLOB</code> class. 
                              </p>
                           </li>
                           <li>
                              <p>CLOBs point to large character data items and are supported by the <code class="codeph">oracle.sql.CLOB</code> class. 
                              </p>
                           </li>
                           <li>
                              <p>BFILEs point to the content of external files (operating system files) and are supported by the <code class="codeph">oracle.sql.BFILE</code> class. BFiles are read-only.
                              </p>
                           </li>
                        </ul>
                        <p>You can select a BLOB, <a id="d23567e1071" class="indexterm-anchor"></a><a id="d23567e1075" class="indexterm-anchor"></a>CLOB, or <a id="d23567e1082" class="indexterm-anchor"></a>BFILE locator from the database using a standard <code class="codeph">SELECT</code> statement. However, you receive only the locator, and not the data. Additional steps are necessary to retrieve the data. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-F81B776A-7B4E-44CC-907F-0A8F9D665FB7">Overview of Classes oracle.sql.DATE, oracle.sql.NUMBER, and oracle.sql.RAW</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a id="d23567e1093" class="indexterm-anchor"></a><a id="d23567e1095" class="indexterm-anchor"></a><a id="d23567e1097" class="indexterm-anchor"></a><a id="d23567e1099" class="indexterm-anchor"></a><a id="d23567e1101" class="indexterm-anchor"></a><a id="d23567e1103" class="indexterm-anchor"></a><a id="d23567e1105" class="indexterm-anchor"></a><a id="d23567e1109" class="indexterm-anchor"></a>These classes hold primitive SQL data types in Oracle native representation. In most cases, these types are not used internally by the drivers and you should use the standard JDBC types instead.
                        </p>
                        <p>Java <code class="codeph">Double</code> and <code class="codeph">Float</code> <code class="codeph">NaN</code> values do not have an equivalent Oracle <code class="codeph">NUMBER</code> representation. For example, for Oracle <code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code> data types, negative zero is coerced to positive zero and all NaNs are coerced to the canonical one. So, a <code class="codeph">NullPointerException</code> is thrown whenever a <code class="codeph">Double.NaN</code> value or a <code class="codeph">Float.NaN</code> value is converted into an Oracle <code class="codeph">NUMBER</code> using the <code class="codeph">oracle.sql.NUMBER</code> class. For instance, the following code throws a <code class="codeph">NullPointerException</code>:
                        </p><pre class="oac_no_warn" dir="ltr">oracle.sql.NUMBER n = new oracle.sql.NUMBER(Double.NaN); 
System.out.println(n.doubleValue());  // throws NullPointerException</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-E3A7683E-90A3-481E-BB42-4628106CD2BD">Overview of Classes oracle.sql.TIMESTAMP, oracle.sql.TIMESTAMPTZ, and oracle.sql.TIMESTAMPLTZ</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The JDBC drivers support the following date/time data types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TIMESTAMP</code> (<code class="codeph">TIMESTAMP</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code> (<code class="codeph">TIMESTAMPTZ</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> (<code class="codeph">TIMESTAMPLTZ</code>)
                              </p>
                           </li>
                        </ul>
                        <p>The JDBC drivers allow conversions between <code class="codeph">DATE</code> and date/time data types. For example, you can access a <code class="codeph">TIMESTAMP WITH TIME ZONE</code> column as a <code class="codeph">DATE</code> value.
                        </p>
                        <p>The JDBC drivers support the most popular time zone names used in the industry as well as most of the time zone names defined in the JDK. Time zones are specified by using the <code class="codeph">java.util.TimeZone</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-88138F75-1730-4ED5-9818-0D3029DBAFD3">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Do not use <code class="codeph">TimeZone.getTimeZone</code> to create time zone objects. The Oracle time zone data types support more time zone names than JDK.
                                 </p>
                              </li>
                              <li>
                                 <p>If a result set contains a <code class="codeph">TIMESTAMPLTZ</code> column followed by a <code class="codeph">LONG</code> column, then reading the <code class="codeph">LONG</code> column results in an error.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The following code shows how the <code class="codeph">TimeZone</code> and <code class="codeph">Calendar</code> objects are created for <code class="codeph">US_PACIFIC</code>, which is a time zone name not defined in JDK:
                        </p><pre class="oac_no_warn" dir="ltr">TimeZone tz = TimeZone.getDefault();
tz.setID("US_PACIFIC");
GregorianCalendar gcal = new GregorianCalendar(tz);
</pre><p>The following Java classes represent the SQL date/time types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">oracle.sql.TIMESTAMP</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql.TIMESTAMPTZ</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql.TIMESTAMPLTZ</code></p>
                           </li>
                        </ul>
                        <p>Before accessing <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> data, call the <code class="codeph">OracleConnection.setSessionTimeZone(String regionName)</code> method to set the session time zone. When this method is called, the JDBC driver sets the session time zone of the connection and saves the session time zone so that any <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> data accessed through JDBC can be adjusted using the session time zone.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-C7C1A672-4B20-4EC5-A512-44EDC2BAAAEA">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">TIMESTAMP WITH TIME ZONE</code> and <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> types can be represented as standard <code class="codeph">java.sql.Timestamp</code> type. The byte representation of <code class="codeph">TIMESTAMP WITH TIME ZONE</code> and <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> types to <code class="codeph">java.sql.Timestamp</code> is straight forward. This is because the internal format of <code class="codeph">TIMESTAMP WITH TIME ZONE</code> and <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> data types is GMT, and <code class="codeph">java.sql.Timestamp</code> type objects internally use a milliseconds time value that is the number of milliseconds since EPOCH. However, the <code class="codeph">String</code> representation of these data types requires time zone information that is obtained dynamically from the server and cached on the client side.
                           </p>
                           <p>In earlier versions of JDBC drivers, the cache of time zone was shared across different connections. This used to cause problems sometimes due to incompatibility in various time zones. Starting from Oracle Database 11 Release 2 version of JDBC drivers, the time zone cache is based on the time zone version supplied by the database. This newly designed cache avoids any issues related to version incompatibility of time zones.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-85C16990-1115-4B49-B5D7-E31C27FB388E">Overview of Class oracle.sql.OPAQUE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql.OPAQUE</code> class provides the name and characteristics of the <code class="codeph">OPAQUE</code> type and any attributes. The <code class="codeph">OPAQUE</code> type provides access only to the uninterrupted bytes of the instance.
                        </p>
                        <div class="infoboxnote" id="GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53__GUID-E810526C-912F-4B39-B32F-473276E15648">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.OPAQUE</code> class is deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleOpaque</code> interface, which is a part of the <code class="codeph">oracle.jdbc</code> package. Oracle recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleOpaque</code> interface.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../sqlrf/Data-Types.html#SQLRF-GUID-75209AF6-476D-4C44-A5DC-5FA70D701B78" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                           <li><a href="http://docs.oracle.com/database/122/JAJDB/" target="_blank">JDBC Java API Reference</a></li>
                           <li><a href="LOBs-and-BFiles.html#GUID-401E10DB-16B5-41C9-965E-E5F286F01E4C">Working with LOBs and BFILEs</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28140"></a><div class="props_rev_3"><a id="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66" name="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66"></a><h4 id="JJDBC-GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66" class="sect4"><span class="enumeration_section">4.3.2 </span>Package oracle.jdbc
                  </h4>
                  <div>
                     <div class="section">
                        <p>The interfaces of the <code class="codeph">oracle.jdbc</code> package define the Oracle extensions to the interfaces in <code class="codeph">java.sql</code>. These extensions provide access to Oracle SQL-format data and other Oracle-specific functionality, including Oracle performance enhancements.
                        </p>
                        <div class="infoboxnotealso" id="GUID-7AA5D4CC-57C2-4E85-8486-45B52D447B66__GUID-487760FD-FA2C-4245-AB6D-019381E17145">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6">The oracle.jdbc Package</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28141"></a><div class="props_rev_3"><a id="GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E" name="GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E"></a><h3 id="JJDBC-GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E" class="sect3"><span class="enumeration_section">4.4 </span>Oracle Character Data Types Support
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle character data types include the SQL CHAR and NCHAR data types. The following sections describe how these data types can be accessed using the <code class="codeph">oracle.sql.*</code> classes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8">SQL CHAR Data Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-9EFED893-8352-4E90-90DA-436D3727F02F">SQL NCHAR Data Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88">Class oracle.sql.CHAR</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28142"></a><div class="props_rev_3"><a id="GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8" name="GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8"></a><h4 id="JJDBC-GUID-450C64D2-0A26-4E4C-A51E-7B02E0A9D8A8" class="sect4"><span class="enumeration_section">4.4.1 </span>SQL CHAR Data Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL CHAR data types include <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, and <code class="codeph">CLOB</code>. These data types let you store character data in the database character set encoding scheme. The character set of the database is established when you create the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28143"></a><div class="props_rev_3"><a id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F" name="GUID-9EFED893-8352-4E90-90DA-436D3727F02F"></a><h4 id="JJDBC-GUID-9EFED893-8352-4E90-90DA-436D3727F02F" class="sect4"><span class="enumeration_section">4.4.2 </span>SQL NCHAR Data Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>The SQL <code class="codeph">NCHAR</code> data types were created for Globalization Support. The SQL <code class="codeph">NCHAR</code> data types include <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, and <code class="codeph">NCLOB</code>. These data types enable you to store <a id="d23567e1509" class="indexterm-anchor"></a>Unicode data in the database <code class="codeph">NCHAR</code> character set encoding. The <code class="codeph">NCHAR</code> character set, which never changes, is established when you create the database.
                        </p>
                        <div class="infoboxnote" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-4B4F4832-1342-44D0-B446-760B6936015C">
                           <p class="notep1">Note:</p>
                           <p>Because the <code class="codeph">UnicodeStream</code> class is deprecated in favor of the <code class="codeph">CharacterStream</code> class, the <code class="codeph">setUnicodeStream</code> and <code class="codeph">getUnicodeStream</code> methods are not supported for <code class="codeph">NCHAR</code> data type access. Use the <code class="codeph">setCharacterStream</code> method and the <code class="codeph">getCharacterStream</code> method if you want to use stream access.
                           </p>
                        </div>
                        <p>The usage of SQL <code class="codeph">NCHAR</code> data types is similar to that of the SQL <code class="codeph">CHAR</code> data types. JDBC uses the same classes and methods to access SQL <code class="codeph">NCHAR</code> data types that are used for the corresponding SQL <code class="codeph">CHAR</code> data types. Therefore, there are no separate, corresponding classes defined in the <code class="codeph">oracle.sql</code> package for SQL <code class="codeph">NCHAR</code> data types. Similarly, there is no separate, corresponding constant defined in the <code class="codeph">oracle.jdbc.OracleTypes</code> class for SQL <code class="codeph">NCHAR</code> data types.
                        </p>
                        <div class="infoboxnotealso" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-FC3E0EB4-2ABF-4F1D-B61C-CB538E473CC5">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="globalization-support.html#GUID-C29926B3-8B5B-4B05-9193-29B247B52C66">NCHAR_ NVARCHAR2_ NCLOB and the defaultNChar Property</a>"</span></p>
                        </div>
                        <div class="infoboxnote" id="GUID-9EFED893-8352-4E90-90DA-436D3727F02F__GUID-275435FA-0122-4305-9634-F9E1CFC3B0EE">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">setFormOfUse</code> method must be called before the <code class="codeph">registerOutParameter</code> method is called in order to avoid unpredictable results. 
                           </p>
                        </div>
                        <p>The following code shows how to access SQL <code class="codeph">NCHAR</code> data:
                        </p><pre class="oac_no_warn" dir="ltr">// 
// Table TEST has the following columns: 
// - NUMBER 
// - NVARCHAR2 
// - NCHAR 
// 
oracle.jdbc.OraclePreparedStatement pstmt = 
  (oracle.jdbc.OraclePreparedStatement) 
conn.prepareStatement("insert into TEST values(?, ?, ?)");

// 
// oracle.jdbc.OraclePreparedStatement.FORM_NCHAR should be used for all NCHAR, 
// NVARCHAR2 and NCLOB data types.
//

pstmt.setInt(1, 1);                    // NUMBER column
pstmt.setNString(2, myUnicodeString1);  // NVARCHAR2 column
pstmt.setNString(3, myUnicodeString2);  // NCHAR column
pstmt.execute();
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28145"></a><a id="JJDBC28146"></a><a id="JJDBC28144"></a><div class="props_rev_3"><a id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88" name="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88"></a><h4 id="JJDBC-GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88" class="sect4"><span class="enumeration_section">4.4.3 </span>Class oracle.sql.CHAR
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql.CHAR</code> class is used by Oracle JDBC in handling and converting character data. This class provides the Globalization Support functionality to convert character data. This class has two key attributes: Globalization Support character set and the character data. The Globalization Support character set defines the encoding of the character data. It is a parameter that is always passed when a <code class="codeph">CHAR</code> object is constructed. Without the Globalization Support character set information, the data bytes in the <code class="codeph">CHAR</code> object are meaningless. The <code class="codeph">oracle.sql.CHAR</code> class is used for both SQL <code class="codeph">CHAR</code> and SQL <code class="codeph">NCHAR</code> data types.
                        </p>
                        <div class="infoboxnote" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-D1723C80-0BAB-492E-8B47-5606EEAB6F6D">
                           <p class="notep1">Note:</p>
                           <p>In versions of Oracle JDBC drivers prior to 10<span class="italic">g</span> Release 1, there were performance advantages to using the <code class="codeph">oracle.SQL.CHAR</code>. Starting from Oracle Database 10<span class="italic">g</span>, there are no longer any such advantages. In fact, optimum performance is achieved using the <code class="codeph">java.lang.String</code>. All Oracle JDBC drivers handle all character data in the Java UCS2 character set. Using the <code class="codeph">oracle.sql.CHAR</code> does not prevent conversions between the database character set and UCS2 character set.
                           </p>
                        </div>
                        <p>The only remaining use of the <code class="codeph">oracle.sql.CHAR</code> class is to handle character data in the form of raw bytes encoded in an Oracle Globalization Support character set. All character data retrieved from Oracle Database should be accessed using the <code class="codeph">java.lang.String</code> class. When processing byte data from another source, you can use an <code class="codeph">oracle.sql.CHAR</code> to convert the bytes to <code class="codeph">java.lang.String</code>.
                        </p>
                        <p>To convert an <code class="codeph">oracle.sql.CHAR</code>, you must provide the data bytes and an <code class="codeph">oracle.sql.CharacterSet</code> instance that represents the Globalization Support character set used to encode the data bytes. 
                        </p>
                        <p>The <code class="codeph">CHAR</code> objects that are Oracle object attributes are returned in the database character set.
                        </p>
                        <p>JDBC application code rarely needs to construct <code class="codeph">CHAR</code> objects directly, because the JDBC driver automatically creates <code class="codeph">CHAR</code> objects, when it is needed to create them on those rare occasions.
                        </p>
                        <p>To construct a <code class="codeph">CHAR</code> object, you must provide character set information to the <code class="codeph">CHAR</code> object by way of an instance of the <code class="codeph">CharacterSet</code> class. Each instance of this class represents one of the Globalization Support character sets that Oracle supports. A <code class="codeph">CharacterSet</code> instance encapsulates methods and attributes of the character set, mainly involving functionality to convert to or from other character sets.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-F8E4C87C-D126-4D14-8223-255512B51A53">Constructing an oracle.sql.CHAR Object</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Follow these general steps to construct a <code class="codeph">CHAR</code> object:
                        </p>
                        <ol>
                           <li>
                              <p>Create a <code class="codeph">CharacterSet</code> object by calling the <code class="codeph">static</code> <code class="codeph">CharacterSet.make</code> method.
                              </p>
                              <p>This method is a factory for the character set instance. The <code class="codeph">make</code> method takes an integer as input, which corresponds to a character set ID that Oracle supports. For example:
                              </p><pre class="oac_no_warn" dir="ltr">int oracleId = CharacterSet.JA16SJIS_CHARSET; // this is character set ID,
                                              // 832
...
CharacterSet mycharset = CharacterSet.make(oracleId);
</pre><p>Each character set that Oracle supports has a unique, predefined Oracle ID.</p>
                           </li>
                           <li>
                              <p>Construct a <code class="codeph">CHAR</code> object. 
                              </p>
                              <p>Pass a string, or the bytes that represent the string, to the constructor along with the <code class="codeph">CharacterSet</code> object that indicates how to interpret the bytes based on the character set. For example:
                              </p><pre class="oac_no_warn" dir="ltr">String mystring = "teststring";
...
CHAR mychar = new CHAR(teststring, mycharset);
</pre><p>There are multiple constructors for <code class="codeph">CHAR</code>, which can take a <code class="codeph">String</code>, a <code class="codeph">byte</code> array, or an object as input along with the <code class="codeph">CharacterSet</code> object. In the case of a <code class="codeph">String</code>, the string is converted to the character set indicated by the <code class="codeph">CharacterSet</code> object before being placed into the <code class="codeph">CHAR</code> object.
                              </p>
                              <div class="infoboxnote" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-4036EE0A-DC25-44E4-9C34-7DA4A4941727">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">CharacterSet</code> object cannot be a null value. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">CharacterSet</code> class is an abstract class, therefore it has no constructor. The only way to create instances is to use the <code class="codeph">make</code> method.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The server recognizes the special value <code class="codeph">CharacterSet.DEFAULT_CHARSET</code> as the database character set. For the client, this value is not meaningful. 
                                       </p>
                                    </li>
                                    <li>
                                       <p>Oracle does not intend or recommend that users extend the <code class="codeph">CharacterSet</code> class.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-1D1CB0B8-913F-42F2-86E0-F0B5D433B231">oracle.sql.CHAR Conversion Methods</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">CHAR</code> class provides the following methods for translating character data to strings:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">getString</code></p>
                              <p>This method converts the sequence of characters represented by the <code class="codeph">CHAR</code> object to a string, returning a Java <code class="codeph">String</code> object. If you enter an invalid <code class="codeph">OracleID</code>, then the character set will not be recognized and the <code class="codeph">getString</code> method will throw a <code class="codeph">SQLException</code> exception.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">toString</code></p>
                              <p>This method is identical to the <code class="codeph">getString</code> method. But if you enter an invalid <code class="codeph">OracleID</code>, then the character set will not be recognized and the <code class="codeph">toString</code> method will return a hexadecimal representation of the <code class="codeph">CHAR</code> data and will <span class="italic">not</span> throw a <code class="codeph">SQLException</code> exception.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">getStringWithReplacement</code></p>
                              <p>This method is identical to the <code class="codeph">getString</code> method, except a default replacement character replaces characters that have no unicode representation in the <code class="codeph">CHAR</code> object character set. This default character varies from character set to character set, but is often a question mark (<code class="codeph">?</code>).
                              </p>
                           </li>
                        </ul>
                        <p>The database server and the client, or application running on the client, can use different <a id="d23567e1876" class="indexterm-anchor"></a>character sets. When you use the methods of the <code class="codeph">CHAR</code> class to transfer data between the server and the client, the JDBC drivers must convert the data from the server character set to the client character set or vice versa. To convert the data, the drivers use Globalization Support.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CFA6BCB6-9B8A-49E3-BAEF-F68F26A16A88__GUID-B21327E9-69AC-4A35-9794-3C24C09E738B">
                           <p class="notep1">See Also:</p>
                           <p><a href="globalization-support.html#GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97"> Globalization Support </a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28148"></a><div class="props_rev_3"><a id="GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96" name="GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96"></a><h3 id="JJDBC-GUID-0DA598C9-4C4E-42D7-B581-B971B8D87A96" class="sect3"><span class="enumeration_section">4.5 </span>Additional Oracle Type Extensions
               </h3>
               <div>
                  <div class="section">
                     <p>Oracle JDBC drivers support the Oracle-specific <code class="codeph">BFILE</code> and <code class="codeph">ROWID</code> data types and <code class="codeph">REF</code> <code class="codeph">CURSOR</code> types, which are not part of the standard JDBC specification. This section describes the <code class="codeph">ROWID</code> and <code class="codeph">REF CURSOR</code> type extensions. The <code class="codeph">ROWID</code> is supported as a Java string, and <code class="codeph">REF</code> <code class="codeph">CURSOR</code> types are supported as JDBC result sets.
                     </p>
                     <p>This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-8069D705-A031-469D-855F-53525798F64F">Oracle ROWID Type</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555">Oracle REF CURSOR Type Category</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC">Oracle BINARY_FLOAT and BINARY_DOUBLE Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671">Oracle SYS.ANYTYPE and SYS.ANYDATA Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6">The oracle.jdbc Package</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28150"></a><a id="JJDBC28149"></a><div class="props_rev_3"><a id="GUID-8069D705-A031-469D-855F-53525798F64F" name="GUID-8069D705-A031-469D-855F-53525798F64F"></a><h4 id="JJDBC-GUID-8069D705-A031-469D-855F-53525798F64F" class="sect4"><span class="enumeration_section">4.5.1 </span>Oracle ROWID Type
                  </h4>
                  <div>
                     <div class="section">
                        <p>A <a id="d23567e1995" class="indexterm-anchor"></a>ROWID is an identification tag unique for each row of an Oracle Database table. The ROWID can be thought of as a virtual column, containing the ID for each row.
                        </p>
                        <p>The <code class="codeph">oracle.sql.ROWID</code> class is supplied as a container for <code class="codeph">ROWID</code> SQL data type.
                        </p>
                        <p>ROWIDs provide functionality similar to the <code class="codeph">getCursorName</code> method specified in the <code class="codeph">java.sql.ResultSet</code> interface and the <code class="codeph">setCursorName</code> method specified in the <code class="codeph">java.sql.Statement</code> interface.
                        </p>
                        <p>If you include the ROWID pseudo-column in a query, then you can retrieve the ROWIDs with the result set <code class="codeph">getString</code> method. You can also bind a ROWID to a <code class="codeph">PreparedStatement</code> parameter with the <code class="codeph">setString</code> method. This enables in-place updating, as in the example that follows.
                        </p>
                        <div class="infoboxnote" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-FE4169A6-D108-4287-B606-77B33F356385">
                           <p class="notep1">Note:</p>
                           <p>Use the <code class="codeph">oracle.sql.ROWID</code> class, only when you are using J2SE 5.0. For JSE 6, you should use the standard <code class="codeph">java.sql.RowId</code> interface instead.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-D56D9FA4-DBE7-4C63-8D26-FA8607B8136F">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example shows how to access and manipulate ROWID data:</p>
                        <div class="infoboxnote" id="GUID-8069D705-A031-469D-855F-53525798F64F__GUID-0544D8EC-84DF-43CC-ACFF-866BFE55B009">
                           <p class="notep1">Note:</p>
                           <p>The following example works only with JSE 6.</p>
                        </div><pre class="oac_no_warn" dir="ltr">Statement stmt = conn.createStatement(); 

// Query the employee names with "FOR UPDATE" to lock the rows. 
// Select the ROWID to identify the rows to be updated. 

ResultSet rset =  
   stmt.executeQuery ("SELECT first_name, rowid FROM employees FOR UPDATE"); 

// Prepare a statement to update the first_name column at a given ROWID 

PreparedStatement pstmt = 
   conn.prepareStatement ("UPDATE employees SET first_name = ? WHERE rowid = ?"); 

// Loop through the results of the query 
while (rset.next ()) 
{ 
    String ename = rset.getString (1); 
 RowId rowid = rset.getROWID(2); // Get the ROWID as a String 
    pstmt.setString (1, ename.toLowerCase ()); 
    pstmt.setROWID (2, rowid); // Pass ROWID to the update statement 
    pstmt.executeUpdate ();     // Do the update 
} 
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28152"></a><a id="JJDBC28151"></a><div class="props_rev_3"><a id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555" name="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555"></a><h4 id="JJDBC-GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555" class="sect4"><span class="enumeration_section">4.5.2 </span>Oracle REF CURSOR Type Category
                  </h4>
                  <div>
                     <div class="section">
                        <p>A cursor variable holds the memory location of a query work area, rather than the contents of the area. Declaring a cursor variable creates a pointer. In SQL, a pointer has the data type <code class="codeph">REF</code> <span class="italic"><code class="codeph">x</code></span>, where <code class="codeph">REF</code> is short for <code class="codeph">REFERENCE</code> and <span class="italic"><code class="codeph">x</code></span> represents the entity being referenced. A <code class="codeph">REF CURSOR</code>, then, identifies a reference to a cursor variable. Because many cursor variables might exist to point to many work areas, <code class="codeph">REF</code> <code class="codeph">CURSOR</code> can be thought of as a category or data type specifier that identifies many different types of cursor variables. Starting from Oracle Database Release 18 <span class="italic">c</span>, JDBC drivers support <code class="codeph">REF CURSOR</code> as IN bind variables.
                        </p>
                        <div class="infoboxnote" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-293F1483-0528-42D7-84C5-2926C5A24296">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">REF CURSOR</code> instances are not scrollable.
                           </p>
                        </div>
                        <p>Perform the following steps to create a cursor variable:</p>
                        <ol>
                           <li>
                              <p>Identify a type that belongs to the <code class="codeph">REF</code> <code class="codeph">CURSOR</code> category. For example: 
                              </p><pre class="pre codeblock"><code>DECLARE TYPE DeptCursorTyp IS REF CURSOR
</code></pre></li>
                           <li>
                              <p>Then, create the cursor variable by declaring it to be of the type <code class="codeph">DeptCursorTyp</code>: 
                              </p><pre class="pre codeblock"><code>dept_cv DeptCursorTyp  - - declare cursor variable
...
</code></pre><p><code class="codeph">REF</code> <code class="codeph">CURSOR</code>, then, is a category of data types, rather than a particular data type.
                              </p>
                           </li>
                        </ol>
                        <p>Stored procedures can accept or return cursor variables of the <a id="d23567e2148" class="indexterm-anchor"></a><code class="codeph">REF</code> <code class="codeph">CURSOR</code> category. This output is equivalent to a database cursor or a JDBC result set. A <code class="codeph">REF CURSOR</code> essentially encapsulates the results of a query.
                        </p>
                        <p>In JDBC, a <code class="codeph">REF CURSOR</code> can be accessed as follows: 
                        </p>
                        <ol>
                           <li>
                              <p>Use a JDBC callable statement or a prepared statement to call a stored procedure.</p>
                           </li>
                           <li>
                              <p>The stored procedure accepts or returns a <code class="codeph">REF CURSOR</code>.
                              </p>
                           </li>
                           <li>
                              <p>The Java application casts the callable statement or prepared statement to an Oracle callable statement or Oracle prepared statement.</p>
                           </li>
                           <li>
                              <p>The Java application uses the <code class="codeph">setCursor</code> method of the <code class="codeph">OraclePreparedStatement</code> interface or the <code class="codeph">getCursor</code> method of the <code class="codeph">OracleCallableStatement</code> interface to materialize the <code class="codeph">REF CURSOR</code> as a JDBC <code class="codeph">ResultSet</code> object.
                              </p>
                           </li>
                           <li>
                              <p>The result set is processed as requested.</p>
                              <div class="infoboxnote" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-2FF15DBE-344A-4414-9618-D884FA8B3CD8">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The cursor associated with a <code class="codeph">REF CURSOR</code> is closed whenever the statement object that produced the <code class="codeph">REF CURSOR</code> is closed.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Unlike in past releases, the cursor associated with a <code class="codeph">REF CURSOR</code> is <span class="italic">not</span> closed when the result set object in which the <code class="codeph">REF CURSOR</code> was materialized is closed.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD58E992-5CAA-4F77-93B5-DD75A90E6555__GUID-F8DFA999-3799-4BB6-9086-B08C6D2A3F5F">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example shows how to access <code class="codeph">REF CURSOR</code> data.
                        </p><pre class="pre codeblock"><code>    ...
    // Prepare a PL/SQL call
    CallableStatement cstmt =
      conn.prepareCall ("DECLARE  rc sys_refcursor; curid NUMBER;BEGIN open rc FOR SELECT empno FROM emp order by empno; ? := rc;  END;"); 

    cstmt.registerOutParameter (1, OracleTypes.CURSOR);
    cstmt.execute ();
    ResultSet rset = (ResultSet)cstmt.getObject (1);

    if (rset.next ()) {
      show (rset.getString ("empno"));
    }
    
    CallableStatement cstmt2 =
      conn.prepareCall ("DECLARE  rc sys_refcursor; v1 NUMBER; BEGIN rc := ?; fetch rc INTO v1; ? := v1; END;");  
    ((OracleCallableStatement)call2).setCursor(1, rset);
    cstmt2.registerOutParameter (2, OracleTypes.INTEGER);
    
    cstmt2.execute();
    
    int empno = cstmt2.getInt(2);
    
    show("Fetch in PL/SQL empno=" + empno);
    
    // Dump the cursor
    while (rset.next ())
      show (rset.getString ("empno")); 

    // Close all the resources
    rset.close();
    cstmt.close();
    cstmt2.close();
  ...</code></pre><p>In the preceding example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Two <code class="codeph">CallableStatement</code> objects <code class="codeph">cstmt1</code> and <code class="codeph">cstmt2</code> are created using the <code class="codeph">prepareCall</code> method of the <code class="codeph">Connection</code> class. 
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">cstmt2</code> callable statement uses <code class="codeph">REF CURSOR</code> as input parameter.
                              </p>
                           </li>
                           <li>
                              <p>The callable statements implement PL/SQL procedure that returns a <code class="codeph">REF CURSOR</code>.
                              </p>
                           </li>
                           <li>
                              <p>As always, the output parameter of the callable statement must be registered to define its type. Use the type code <code class="codeph">OracleTypes.CURSOR</code> for a <code class="codeph">REF CURSOR</code>.
                              </p>
                           </li>
                           <li>
                              <p>The callable statements are run, returning the <code class="codeph">REF CURSOR</code> or sending the <code class="codeph">REF CURSOR</code> as input bind.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28153"></a><div class="props_rev_3"><a id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC" name="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC"></a><h4 id="JJDBC-GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC" class="sect4"><span class="enumeration_section">4.5.3 </span>Oracle BINARY_FLOAT and BINARY_DOUBLE Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>The Oracle <code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code> types are used to store IEEE 574 float and double data. These correspond to the Java <code class="codeph">float</code> and <code class="codeph">double</code> scalar types with the exception of negative zero and <code class="codeph">NaN</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-387634EF-70D5-42B1-ACE9-50441978700B">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/Data-Types.html#SQLRF00209" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                        </div>
                        <p>If you include a <code class="codeph">BINARY_DOUBLE</code> column in a query, then the data is retrieved from the database in the binary format. Also, the <code class="codeph">getDouble</code> method will return the data in the binary format. In contrast, for a <code class="codeph">NUMBER</code> data type column, the number bits are returned and converted to the Java <code class="codeph">double</code> data type.
                        </p>
                        <div class="infoboxnote" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-FAE9EFB2-569E-4111-A64C-E350771B8114">
                           <p class="notep1">Note:</p>
                           <p>The Oracle representation for the SQL <code class="codeph">FLOAT</code>, <code class="codeph">DOUBLE PRECISION</code>, and <code class="codeph">REAL</code> data types use the Oracle <code class="codeph">NUMBER</code> representation. The <code class="codeph">BINARY_FLOAT</code> and <code class="codeph">BINARY_DOUBLE</code> data types can be regarded as proprietary types.
                           </p>
                        </div>
                        <p>A call to the JDBC standard <code class="codeph">setDouble(int, double)</code> method of the <code class="codeph">PreparedStatement</code> interface converts the Java <code class="codeph">double</code> argument to Oracle <code class="codeph">NUMBER</code> style bits and send them to the database. In contrast, the <code class="codeph">setBinaryDouble(int, double)</code> method of the <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interface converts the data to the internal binary bits and sends them to the database.
                        </p>
                        <p>You must ensure that the data format used matches the type of the target parameter of the <code class="codeph">PreparedStatement</code> interface. This will result in correct data and least use of CPU. If you use <code class="codeph">setBinaryDouble</code> for a <code class="codeph">NUMBER</code> parameter, then the binary bits are sent to the server and converted to <code class="codeph">NUMBER</code> format. The data will be correct, but server CPU load will be increased. If you use <code class="codeph">setDouble</code> for a <code class="codeph">BINARY_DOUBLE</code> parameter, then the data will first be converted to <code class="codeph">NUMBER</code> bits on the client and sent to the server, where it will be converted back to binary format. This will increase the CPU load on both client and server and can result in data corruption as well.
                        </p>
                        <p>The <code class="codeph">SetFloatAndDoubleUseBinary</code> connection property when set to <code class="codeph">true</code> causes the JDBC standard APIs, <code class="codeph">setFloat(int,</code> <code class="codeph">float)</code>, <code class="codeph">setDouble(int,</code> <code class="codeph">double)</code>, and all the variations, to send internal binary bits instead of <code class="codeph">NUBMER</code> bits.
                        </p>
                        <div class="infoboxnote" id="GUID-FC9510C6-8FF2-41A7-864A-890B85A316BC__GUID-9A59B83C-A3FC-4527-BAB5-F5A0181E3772">
                           <p class="notep1">Note:</p>
                           <p>Although this section largely discusses <code class="codeph">BINARY_DOUBLE</code>, the same is true for <code class="codeph">BINARY_FLOAT</code> as well.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28155"></a><a id="JJDBC28156"></a><a id="JJDBC28157"></a><a id="JJDBC28158"></a><a id="JJDBC28159"></a><a id="JJDBC28160"></a><a id="JJDBC28154"></a><div class="props_rev_3"><a id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671" name="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671"></a><h4 id="JJDBC-GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671" class="sect4"><span class="enumeration_section">4.5.4 </span>Oracle SYS.ANYTYPE and SYS.ANYDATA Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database 12<span class="italic">c </span>Release 1 (12.1) provides a Java interface to access the <a id="d23567e2485" class="indexterm-anchor"></a><a id="d23567e2487" class="indexterm-anchor"></a><code class="codeph">SYS.ANYTYPE</code> and <a id="d23567e2492" class="indexterm-anchor"></a><a id="d23567e2494" class="indexterm-anchor"></a><code class="codeph">SYS.ANYDATA</code> Oracle types.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-866CA3EB-E6E9-4BC2-AA54-D7E55E9FD618">
                           <p class="notep1">See Also:</p>
                           <p>For information about these Oracle types, refer <a href="../arpls/ANYTYPE-TYPE.html#ARPLS-GUID-4E6D7301-47C5-4495-A074-BAE102960751" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                        </div>
                        <p>An instance of the <code class="codeph">SYS.ANYTYPE</code> type contains a type description of any SQL type, persistent or transient, named or unnamed, including object types and collection types. You can use the <code class="codeph">oracle.sql.TypeDescriptor</code> class to access the <code class="codeph">SYS.ANYTYPE</code> type. An <code class="codeph">ANYTYPE</code> instance can be retrieved from a PL/SQL procedure or a SQL <code class="codeph">SELECT</code> statement where <code class="codeph">SYS.ANYTYPE</code> is used as a column type. To retrieve an <code class="codeph">ANYTYPE</code> instance from the database, use the <code class="codeph">getObject</code> method. This method returns an instance of the <code class="codeph">TypeDescriptor</code>.
                        </p>
                        <p>The retrieved <code class="codeph">ANYTYPE</code> instance could be any of the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Transient object type</p>
                           </li>
                           <li>
                              <p>Transient predefined type</p>
                           </li>
                           <li>
                              <p>Persistent object type</p>
                           </li>
                           <li>
                              <p>Persistent predefined type</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-E12B1896-516B-433F-B2FA-E79AE98225D9">
                        <p class="titleinexample">Example 4-1 Accessing SYS.ANYTYPE Type</p>
                        <p>The following code snippet illustrates how to retrieve an instance of <code class="codeph">ANYTYPE</code> from the database:
                        </p><pre class="oac_no_warn" dir="ltr">...
ResultSet rs = stmt.executeQuery("select anytype_column from my_table");
TypeDescriptor td = (TypeDescriptor)rs.getObject(1);
short typeCode = td.getInternalTypeCode();
if(typeCode == TypeDescriptor.TYPECODE_OBJECT)
{
  // check if it's a transient type
  if(td.isTransientType())
  {
    AttributeDescriptor[] attributes = ((StructDescriptor)td).getAttributesDescriptor();
    for(int i=0; i&lt;attributes.length; i++)
      System.out.println(attributes[i].getAttributeName());
  }
  else
  {    System.out.println(td.getTypeName());  }}
...</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-DBF7C48C-03BB-45B6-AE21-E724BAACCB4C">
                        <p class="titleinexample">Example 4-2 Creating a Transient Object Type Through PL/SQL and Retrieving Through JDBC</p>
                        <p>This example provides a code snippet illustrating how to retrieve a transient object type through JDBC.</p><pre class="oac_no_warn" dir="ltr">...
OracleCallableStatement cstmt = (OracleCallableStatement)conn.prepareCall
  ("BEGIN ? := transient_obj_type (); END;");
cstmt.registerOutParameter(1,OracleTypes.OPAQUE,"SYS.ANYTYPE");
cstmt.execute();
TypeDescriptor obj = (TypeDescriptor)cstmt.getObject(1);
if(!obj.isTransient())
  System.out.println("This must be a JDBC bug");
cstmt.close();
return obj;
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-A7BDB53F-4960-4C3D-AD6F-FFFF116EEF2A">
                        <p class="titleinexample">Example 4-3 Calling a PL/SQL Stored Procedure That Takes an ANYTPE as IN Parameter</p>
                        <p>The following code snippet illustrates how to call a PL/SQL stored procedure that takes an <code class="codeph">ANYTYPE</code> as <code class="codeph">IN</code> parameter:
                        </p><pre class="oac_no_warn" dir="ltr">...
CallableStatement cstmt = conn.prepareCall("BEGIN ? := dumpanytype(?); END;");
cstmt.registerOutParameter(1,OracleTypes.VARCHAR);
// obj is the instance of TypeDescriptor that you have retrieved
cstmt.setObject(2,obj);
cstmt.execute();
String str = (String)cstmt.getObject(1);
...
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql.ANYDATA</code> class enables you to access <code class="codeph">SYS.ANYDATA</code> instances from the database. An instance of this class can be obtained from any valid instance of <code class="codeph">oracle.sql.Datum</code> class. The <code class="codeph">convertDatum</code> factory method takes an instance of <code class="codeph">Datum</code> and returns an instance of <code class="codeph">ANYDATA</code>. The syntax for this factory method is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">public static ANYDATA convertDatum(Datum datum) throws SQLException
</pre><p>The following is sample code for creating an instance of <code class="codeph">oracle.sql.ANYDATA</code>:
                        </p><pre class="oac_no_warn" dir="ltr">// struct is a valid instance of oracle.sql.STRUCT that either comes from the 
// database or has been constructed in Java.
ANYDATA myAnyData = ANYDATA.convertDatum(struct);
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-BBEEAF43-08A9-4E93-A405-5B55F412EB88">
                        <p class="titleinexample">Example 4-4 Accessing an Instance of ANYDATA from the Database</p><pre class="oac_no_warn" dir="ltr">...
// anydata_table has been created as:
// CREATE TABLE anydata_tab (data SYS.ANYDATA)
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("select data from my_anydata_tab");
while(rs.next())
{
  ANYDATA anydata = (ANYDATA)rs.getObject(1);
  if(!anydata.isNull())
  {
    TypeDescriptor td = anydata.getTypeDescriptor();
    if(td.getTypeCode() == OracleType.TYPECODE_OBJECT)
      STRUCT struct = (STRUCT)anydata.accessDatum();
  }
}
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-C53803E1-F05D-469D-BB9C-70100C0C08DD">
                        <p class="titleinexample">Example 4-5 Inserting an Object as ANYDATA in a Database Table</p>
                        <p>Consider the following table and object type definition:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE anydata_tab ( id NUMBER, data SYS.ANYDATA)

CREATE OR REPLACE TYPE employee AS OBJECT ( employee_id NUMBER, first_name VARCHAR2(10) )
</pre><p>You can create an instance of the <code class="codeph">EMPLOYEE</code> SQL object type and to insert it into <code class="codeph">anydata_tab</code>le in the following way:
                        </p><pre class="oac_no_warn" dir="ltr">...
PreparedStatement pstmt = conn.prepareStatement("insert into anydata_table values (?,?)");
Struct myEmployeeStr = conn.createStruct("EMPLOYEE", new Object[]{1120, "Papageno"});
ANYDATA anyda = ANYDATA.convertDatum(myEmployeeStr);
pstmt.setInt(1,123);
pstmt.setObject(2,anyda);
pstmt.executeUpdate();
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5105E30-7F12-4069-8A68-F12BF1CF7671__GUID-B599ACA6-FE69-4AFE-AC8B-30D1302F4068">
                        <p class="titleinexample">Example 4-6 Selecting an ANYDATA Column from a Database Table</p><pre class="oac_no_warn" dir="ltr">...
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("select data from anydata_table");
while(rs.next())
{
  ANYDATA obj = (ANYDATA)rs.getObject(1);
  TypeDescriptor td = obj.getTypeDescriptor();
}
rs.close();
stmt.close();
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JJDBC28162"></a><a id="JJDBC28161"></a><div class="props_rev_3"><a id="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6" name="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6"></a><h4 id="JJDBC-GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6" class="sect4"><span class="enumeration_section">4.5.5 </span>The oracle.jdbc Package
                  </h4>
                  <div>
                     <div class="section">
                        <p>The interfaces of the <code class="codeph">oracle.jdbc</code> package define the Oracle extensions to the interfaces in <code class="codeph">java.sql</code>. These extensions provide access to SQL-format data as described in this chapter. They also provide access to other Oracle-specific functionality, including Oracle performance enhancements.
                        </p>
                        <p>For the <code class="codeph">oracle.jdbc</code> package, <a href="Oracle-extensions.html#GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6__g1076271" title="table">Table 4-1</a> lists key interfaces and classes used for connections, statements, and result sets.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E17FE2C3-9384-432C-9040-09EDF98CB8D6__g1076271">
                        <p class="titleintable">Table 4-1 Key Interfaces and Classes of the oracle.jdbc Package </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Key Interfaces and Classes of the oracle.jdbc Package " summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d23567e2696">Name</th>
                                 <th align="left" valign="bottom" width="13%" id="d23567e2699">Interface or Class</th>
                                 <th align="left" valign="bottom" width="47%" id="d23567e2702">Key Functionality</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2707" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleDriver</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2707 d23567e2699 ">
                                    <p>Class</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2707 d23567e2702 ">
                                    <p>Implements <code class="codeph">java.sql.Driver</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2720" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleConnection</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2720 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2720 d23567e2702 ">
                                    <p>Provides methods to start and stop an Oracle Database instance and to return Oracle statement objects and methods to set Oracle performance extensions for any statement run in the current connection.</p>
                                    <p>Implements <code class="codeph">java.sql.Connection.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2735" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2735 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2735 d23567e2702 ">
                                    <p>Provides methods to set Oracle performance extensions for individual statement.</p>
                                    <p>Is a supertype of <code class="codeph">OraclePreparedStatement</code> and <code class="codeph">OracleCallableStatement</code>.
                                    </p>
                                    <p>Implements <code class="codeph">java.sql.Statement.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2758" headers="d23567e2696 ">
                                    <p><code class="codeph">OraclePreparedStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2758 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2758 d23567e2702 ">
                                    <p>Provides <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span> methods to bind <code class="codeph">oracle.sql.*</code> types into a prepared statement.
                                    </p>
                                    <p>Provides <code class="codeph">getMetaData</code> method to get the metadata from the prepared statements without executing the SELECT statements.
                                    </p>
                                    <p>Implements <code class="codeph">java.sql.PreparedStatement.</code></p>
                                    <p>Extends <code class="codeph">OracleStatement.</code></p>
                                    <p>Is a supertype of <code class="codeph">OracleCallableStatement</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2796" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleCallableStatement</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2796 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2796 d23567e2702 ">
                                    <p>Provides <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> methods to retrieve data in <code class="codeph">oracle.sql</code> format and <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span> methods to bind <code class="codeph">oracle.sql.*</code> types into a callable statement.
                                    </p>
                                    <p>Implements <code class="codeph">java.sql.CallableStatement.</code></p>
                                    <p>Extends <code class="codeph">OraclePreparedStatement.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2833" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleResultSet</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2833 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2833 d23567e2702 ">
                                    <p>Provides <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> methods to retrieve data in <code class="codeph">oracle.sql</code> format.
                                    </p>
                                    <p>Implements <code class="codeph">java.sql.ResultSet</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2858" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleResultSetMetaData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2858 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2858 d23567e2702 ">
                                    <p>Provides methods to get metadata information about Oracle result sets, such as column names and data types.</p>
                                    <p>Implements <code class="codeph">java.sql.ResultSetMetaData</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2874" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleDatabaseMetaData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2874 d23567e2699 ">
                                    <p>Class</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2874 d23567e2702 ">
                                    <p>Provides methods to get metadata information about the database, such as database product name and version, table information, and default transaction isolation level.</p>
                                    <p>Implements <code class="codeph">java.sql.DatabaseMetaData</code>).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2890" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleTypes</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2890 d23567e2699 ">
                                    <p>Class</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2890 d23567e2702 ">
                                    <p>Defines integer constants used to identify SQL types.</p>
                                    <p>For standard types, it uses the same values as the standard <code class="codeph">java.sql.Types</code> class. In addition, it adds constants for Oracle extended types.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2906" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleArray</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2906 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2906 d23567e2702 ">
                                    <p>Includes functionality to retrieve the array as a whole, retrieve a subset of the array elements, and retrieve the SQL base type name of the array elements.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2917" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleStruct</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2917 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2917 d23567e2702 ">&nbsp;</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2927" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleClob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2927 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2927 d23567e2702 ">&nbsp;</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2936" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleBlob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2936 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2936 d23567e2702 ">&nbsp;</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2945" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleRef</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2945 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2945 d23567e2702 ">&nbsp;</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d23567e2954" headers="d23567e2696 ">
                                    <p><code class="codeph">OracleOpaque</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d23567e2954 d23567e2699 ">
                                    <p>Interface</p>
                                 </td>
                                 <td align="left" valign="top" width="47%" headers="d23567e2954 d23567e2702 ">&nbsp;</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>This section covers the following topics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59">Interface oracle.jdbc.OracleConnection</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-46404619-5332-4C70-B7BE-7A31372932C3">Interface oracle.jdbc.OracleStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61">Interface oracle.jdbc.OraclePreparedStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7">Interface oracle.jdbc.OracleCallableStatement</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E">Interface oracle.jdbc.OracleResultSet</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-177EF9E3-B054-4D91-90D6-23F986C250DD">Interface oracle.jdbc.OracleResultSetMetaData</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-extensions.html#GUID-A8B450ED-A95B-4B40-B720-922C209D7D88">Class oracle.jdbc.OracleTypes</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28164"></a><a id="JJDBC28163"></a><div class="props_rev_3"><a id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59" name="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59"></a><h5 id="JJDBC-GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59" class="sect5"><span class="enumeration_section">4.5.5.1 </span>Interface oracle.jdbc.OracleConnection
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3026" class="indexterm-anchor"></a><a id="d23567e3028" class="indexterm-anchor"></a>This interface extends standard JDBC connection functionality to create and return Oracle statement objects, set flags and options for Oracle performance extensions, support type maps for Oracle objects, and support client identifiers.
                           </p>
                           <p>In Oracle Database 11<span class="italic">g</span> Release 1, new methods were added to this interface that enable the starting up and shutting down of an Oracle Database instance. Also, for better visibility and clarity, all connection properties are defined as constants in the <code class="codeph">OracleConnection</code> interface.
                           </p>
                           <p>This interface also defines factory methods for constructing <code class="codeph">oracle.sql</code> data values like <code class="codeph">DATE</code> and <code class="codeph">NUMBER</code>. Remember the following points while using factory methods:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>All code that constructs instances of the <code class="codeph">oracle.sql</code> types should use the Oracle extension factory methods. For example, <code class="codeph">ARRAY</code>, <code class="codeph">BFILE</code>, <code class="codeph">DATE</code>, <code class="codeph">INTERVALDS</code>, <code class="codeph">NUMBER</code>, <code class="codeph">STRUCT</code>, <code class="codeph">TIME</code>, <code class="codeph">TIMESTAMP</code>, and so on.
                                 </p>
                              </li>
                              <li>
                                 <p>All code that constructs instances of the standard types should use the JDBC 4.0 standard factory methods. For example, <code class="codeph">CLOB</code>, <code class="codeph">BLOB</code>, <code class="codeph">NCLOB</code>, and so on.
                                 </p>
                              </li>
                              <li>
                                 <p>There are no factory methods for <code class="codeph">CHAR</code>, <code class="codeph">JAVA_STRUCT</code>, <code class="codeph">ArrayDescriptor</code>, and <code class="codeph">StructDescriptor.</code> These types are for internal driver use only.
                                 </p>
                                 <div class="infoboxnote" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-69E3481B-1454-4D36-A812-93E71D750B2D">
                                    <p class="notep1">Note:</p>
                                    <p>Prior to Oracle Database 11<span class="italic">g</span> Release 1, you had to construct <code class="codeph">ArrayDescriptors</code> and <code class="codeph">StructDescriptors</code> for passing as arguments to the <code class="codeph">ARRAY</code> and <code class="codeph">STRUCT</code> class constructors. The new <code class="codeph">ARRAY</code> and <code class="codeph">Struct</code> factory methods do not have any descriptor arguments. The driver still uses descriptors internally, but you do not need to create them.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-BCA973AE-19FD-4CCA-875C-DE8B7409BF7B">Client Identifiers</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>In a connection pooling environment, the client identifier can be used to identify the lightweight user using the database session currently. A client identifier can also be used to share the Globally Accessed Application Context between different database sessions. The client identifier set in a database session is audited when database auditing is turned on.</p>
                           <div class="infoboxnotealso" id="GUID-745C9F2E-C5ED-4959-A315-09DB008DBC59__GUID-B0183873-4948-42C7-8069-523B2AE31585">
                              <p class="notep1">See Also:</p>
                              <p><a href="../jajdb/index.html" target="_blank"><span><cite>Oracle Database JDBC Java API Reference</cite></span></a> for more information
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28165"></a><div class="props_rev_3"><a id="GUID-46404619-5332-4C70-B7BE-7A31372932C3" name="GUID-46404619-5332-4C70-B7BE-7A31372932C3"></a><h5 id="JJDBC-GUID-46404619-5332-4C70-B7BE-7A31372932C3" class="sect5"><span class="enumeration_section">4.5.5.2 </span>Interface oracle.jdbc.OracleStatement
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3172" class="indexterm-anchor"></a><a id="d23567e3174" class="indexterm-anchor"></a>This interface extends standard JDBC statement functionality and is the superinterface of the <code class="codeph">OraclePreparedStatement</code> and <code class="codeph">OracleCallableStatement</code> classes. Extended functionality includes support for setting flags and options for Oracle performance extensions on a statement-by-statement basis, as opposed to the <code class="codeph">OracleConnection</code> interface that sets these on a connectionwide basis.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28166"></a><div class="props_rev_3"><a id="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61" name="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61"></a><h5 id="JJDBC-GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61" class="sect5"><span class="enumeration_section">4.5.5.3 </span>Interface oracle.jdbc.OraclePreparedStatement
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3211" class="indexterm-anchor"></a><a id="d23567e3213" class="indexterm-anchor"></a>This interface extends the <code class="codeph">OracleStatement</code> interface and extends standard JDBC prepared statement functionality. Also, the <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interface is extended by the <code class="codeph">OracleCallableStatement</code> interface. Extended functionality consists of the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span> methods for binding <code class="codeph">oracle.sql.*</code> types and objects to prepared statements
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">getMetaData</code> method to get the metadata from the prepared statements without executing the SELECT statements
                                 </p>
                              </li>
                              <li>
                                 <p>Methods to support Oracle performance extensions on a statement-by-statement basis</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-B5463D4F-6319-4A21-AB35-A5A7F3FDFC61__GUID-26397C18-728B-4F4A-9F0A-21C0666DA6CB">
                              <p class="notep1">Note:</p>
                              <p>Do not use the <code class="codeph">PreparedStatement</code> interface to create a trigger that refers to a<code class="codeph">:NEW</code> or <code class="codeph">:OLD</code> column. Use <code class="codeph">Statement</code> instead. Using <code class="codeph">PreparedStatement</code> will cause execution to fail with the message <code class="codeph">java.sql.SQLException: Missing IN or OUT parameter at index:: 1</code>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28167"></a><div class="props_rev_3"><a id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7" name="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7"></a><h5 id="JJDBC-GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7" class="sect5"><span class="enumeration_section">4.5.5.4 </span>Interface oracle.jdbc.OracleCallableStatement
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3291" class="indexterm-anchor"></a><a id="d23567e3293" class="indexterm-anchor"></a>This interface extends the <code class="codeph">OraclePreparedStatement</code> interface, which extends the <code class="codeph">OracleStatement</code> interface and incorporates standard JDBC callable statement functionality.
                           </p>
                           <div class="infoboxnote" id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7__GUID-18AA8E77-48E2-4274-8C2C-D4AF1BC5CB28">
                              <p class="notep1">Note:</p>
                              <p>Do not use the <code class="codeph">CallableStatement</code> interface to create a trigger that refers to a<code class="codeph">:NEW</code> or <code class="codeph">:OLD</code> column. Use <code class="codeph">Statement</code> instead; using <code class="codeph">CallableStatement</code> will cause execution to fail with the message <code class="codeph">java.sql.SQLException: Missing IN or OUT parameter at index::1</code></p>
                           </div>
                           <div class="infoboxnote" id="GUID-0C1F7E0A-5A10-4E81-B789-F275D81E12F7__GUID-08C68E79-FC43-401D-9909-55A7F023F981">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">(String,...)</code> and <code class="codeph">registerOutParameter(String,...)</code> methods can be used only if all binds are procedure or function parameters only. The statement can contain no other binds and the parameter binds must be indicated with a question mark (<code class="codeph">?)</code> and not <code class="codeph">:</code><span class="italic"><code class="codeph">XX</code></span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you are using <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">(int,...) or</code> <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">AtName(String,...)</code> method, then any output parameter is bound with <code class="codeph">registerOutParameter(int,...)</code> and not <code class="codeph">registerOutParameter(String,...)</code>, which is for named parameter notation.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28168"></a><div class="props_rev_3"><a id="GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E" name="GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E"></a><h5 id="JJDBC-GUID-40FC3C62-E48D-42A8-A9AB-DA45DC8E6B3E" class="sect5"><span class="enumeration_section">4.5.5.5 </span>Interface oracle.jdbc.OracleResultSet
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3398" class="indexterm-anchor"></a><a id="d23567e3400" class="indexterm-anchor"></a>This interface extends standard JDBC result set functionality, implementing <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> methods for retrieving data into <code class="codeph">oracle.sql.*</code> objects.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28169"></a><div class="props_rev_3"><a id="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD" name="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD"></a><h5 id="JJDBC-GUID-177EF9E3-B054-4D91-90D6-23F986C250DD" class="sect5"><span class="enumeration_section">4.5.5.6 </span>Interface oracle.jdbc.OracleResultSetMetaData
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3437" class="indexterm-anchor"></a><a id="d23567e3439" class="indexterm-anchor"></a>This interface extends standard JDBC result set metadata functionality to retrieve information about Oracle <a id="d23567e3442" class="indexterm-anchor"></a>result set objects.
                           </p>
                           <div class="infoboxnotealso" id="GUID-177EF9E3-B054-4D91-90D6-23F986C250DD__GUID-88122DB7-34CF-4A46-A272-6E6197C7356F">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="accessing-and-manipulating-Oracle-data.html#GUID-C9AF8539-12BA-4F19-AAB9-0EE481D78F19">Using Result Set Metadata Extensions</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28171"></a><a id="JJDBC28172"></a><a id="JJDBC28170"></a><div class="props_rev_3"><a id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88" name="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88"></a><h5 id="JJDBC-GUID-A8B450ED-A95B-4B40-B720-922C209D7D88" class="sect5"><span class="enumeration_section">4.5.5.7 </span>Class oracle.jdbc.OracleTypes
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d23567e3479" class="indexterm-anchor"></a><a id="d23567e3481" class="indexterm-anchor"></a>The <code class="codeph">OracleTypes</code> class defines <a id="d23567e3487" class="indexterm-anchor"></a><a id="d23567e3489" class="indexterm-anchor"></a>constants that JDBC uses to identify SQL types. Each variable in this class has a constant integer value. The <code class="codeph">oracle.jdbc.OracleTypes</code> class duplicates the type code definitions of the standard Java <code class="codeph">java.sql.Types</code> class and contains these additional type codes for Oracle extensions:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OracleTypes.BFILE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes.ROWID</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes.CURSOR</code> (for <code class="codeph">REF CURSOR</code> types)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OracleTypes.CHAR_BYTES</code> (for calling <code class="codeph">setNull</code> and <code class="codeph">setCHAR</code> methods on the same column)
                                 </p>
                              </li>
                           </ul>
                           <p>As in <code class="codeph">java.sql.Types</code>, all the variable names are in uppercase text. 
                           </p>
                           <p>JDBC uses the SQL types identified by the elements of the <code class="codeph">OracleTypes</code> class in two main areas: registering output parameters and in the <code class="codeph">setNull</code> method of the <code class="codeph">PreparedStatement</code> class.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88__GUID-E19F38F4-C3D2-4C4D-A35D-B39D08884C96">OracleTypes and Registering Output Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The type codes in <code class="codeph">java.sql.Types</code> or <code class="codeph">oracle.jdbc.OracleTypes</code> identify the SQL types of the output parameters in the <code class="codeph">registerOutParameter</code> method of the <code class="codeph">java.sql.CallableStatement</code> and <code class="codeph">oracle.jdbc.OracleCallableStatement</code> interfaces.
                           </p>
                           <p>These are the forms that the <code class="codeph">registerOutputParameter</code> method can take for the <code class="codeph">CallableStatement</code> and <code class="codeph">OracleCallableStatement</code> interfaces
                           </p><pre class="oac_no_warn" dir="ltr">cs.registerOutParameter(int index, int sqlType);

cs.registerOutParameter(int index, int sqlType, String sql_name);

cs.registerOutParameter(int index, int sqlType, int scale);
</pre><p>In these signatures, <code class="codeph">index</code> represents the parameter index, <code class="codeph">sqlType</code> is the type code for the SQL data type, <code class="codeph">sql_name</code> is the name given to the data type, for user-defined types, when <code class="codeph">sqlType</code> is a <code class="codeph">STRUCT</code>, <code class="codeph">REF</code>, or <code class="codeph">ARRAY</code> type code, and <code class="codeph">scale</code> represents the number of digits to the right of the decimal point, when <code class="codeph">sqlType</code> is a <code class="codeph">NUMERIC</code> or <code class="codeph">DECIMAL</code> type code. 
                           </p>
                           <p>The following example uses a <code class="codeph">CallableStatement</code> interface to call a procedure named <code class="codeph">charout</code>, which returns a <code class="codeph">CHAR</code> data type. Note the use of the <code class="codeph">OracleTypes.CHAR</code> type code in the <code class="codeph">registerOutParameter</code> method. 
                           </p><pre class="oac_no_warn" dir="ltr">CallableStatement cs = conn.prepareCall ("BEGIN charout (?); END;");
cs.registerOutParameter (1, OracleTypes.CHAR);
cs.execute ();
System.out.println ("Out argument is: " + cs.getString (1));
</pre><p>The next example uses a <code class="codeph">CallableStatement</code> interface to call <code class="codeph">structout</code>, which returns a <code class="codeph">STRUCT</code> data type. The form of <code class="codeph">registerOutParameter</code> requires you to specify the type code, <code class="codeph">Types.STRUCT</code> or <code class="codeph">OracleTypes.STRUCT</code>, as well as the SQL name, <code class="codeph">EMPLOYEE</code>.
                           </p>
                           <p>The example assumes that no type mapping has been declared for the <code class="codeph">EMPLOYEE</code> type, so it is retrieved into a <code class="codeph">STRUCT</code> data type. To retrieve the value of <code class="codeph">EMPLOYEE</code> as an <code class="codeph">oracle.sql.STRUCT</code> object, the statement object <code class="codeph">cs</code> is cast to <code class="codeph">OracleCallableStatement</code> and the Oracle extension <code class="codeph">getSTRUCT</code> method is invoked.
                           </p><pre class="oac_no_warn" dir="ltr">CallableStatement cs = conn.prepareCall ("BEGIN structout (?); END;");
cs.registerOutParameter (1, OracleTypes.STRUCT, "EMPLOYEE");
cs.execute ();

// get the value into a STRUCT because it 
// is assumed that no type map has been defined
STRUCT emp = ((OracleCallableStatement)cs).getSTRUCT (1);</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A8B450ED-A95B-4B40-B720-922C209D7D88__GUID-CCFCD935-713B-4F02-83B6-8E52C56A3567">OracleTypes and the setNull Method</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The type codes in <code class="codeph">Types</code> and <code class="codeph">OracleTypes</code> identify the SQL type of the data item, which the <code class="codeph">setNull</code> method sets to <code class="codeph">NULL</code>. The <code class="codeph">setNull</code> method can be found in the <code class="codeph">java.sql.PreparedStatement</code> and <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interfaces.
                           </p>
                           <p>These are the forms that the <code class="codeph">setNull</code> method can take for the <code class="codeph">PreparedStatement</code> and <code class="codeph">OraclePreparedStatement</code> objects:
                           </p><pre class="oac_no_warn" dir="ltr">ps.setNull(int index, int sqlType);

ps.setNull(int index, int sqlType, String sql_name);
</pre><p>In these signatures, <code class="codeph">index</code> represents the parameter index, <code class="codeph">sqlType</code> is the type code for the SQL data type, and <code class="codeph">sql_name</code> is the name given to the data type, for user-defined types, when <code class="codeph">sqlType</code> is a <code class="codeph">STRUCT</code>, <code class="codeph">REF</code>, or <code class="codeph">ARRAY</code> type code. If you enter an invalid <code class="codeph">sqlType</code>, a <code class="codeph">ParameterTypeConflict</code> exception is thrown.
                           </p>
                           <p>The following example uses a prepared statement to insert a null value into the database. Note the use of <code class="codeph">OracleTypes.NUMERIC</code> to identify the numeric object set to <code class="codeph">NULL</code>. Alternatively, <code class="codeph">Types.NUMERIC</code> can be used.
                           </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt =
    conn.prepareStatement ("INSERT INTO num_table VALUES (?)");

pstmt.setNull (1, OracleTypes.NUMERIC);
pstmt.execute ();
</pre><p>In this example, the prepared statement inserts a <code class="codeph">NULL</code> <code class="codeph">STRUCT</code> object of type <code class="codeph">EMPLOYEE</code> into the database. 
                           </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt = conn.prepareStatement 
                               ("INSERT INTO employees VALUES (?)");

pstmt.setNull (1, OracleTypes.STRUCT, "EMPLOYEE");
pstmt.execute ();
</pre><p>You can also use the <code class="codeph">OracleTypes.CHAR_BYTES</code> type with the <code class="codeph">setNull</code> method, if you also want to call the <code class="codeph">setCHAR</code> method on the same column. For example:
                           </p><pre class="oac_no_warn" dir="ltr"> ps.setCHAR(n, aCHAR);
  ps.addBatch();
  ps.setNull(n, OracleTypes.CHAR_BYTES);
  ps.addBatch();
</pre><p>In this preceding example, any other type, apart from the <code class="codeph">OracleTypes.CHAR_BYTES</code> type, will cause extra round trips to the Database. Alternatively, you can also write your code without using the <code class="codeph">setNull</code> method. For example, you can also write your code as shown in the following example:
                           </p><pre class="oac_no_warn" dir="ltr">ps.setCHAR(n, null);
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="JJDBC28174"></a><div class="props_rev_3"><a id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169" name="GUID-9EC82134-1206-4325-A17B-9FA7610F0169"></a><h3 id="JJDBC-GUID-9EC82134-1206-4325-A17B-9FA7610F0169" class="sect3"><span class="enumeration_section">4.6 </span>DML Returning
               </h3>
               <div>
                  <div class="section">
                     <p>The DML returning feature provides more functionality compared to retrieval of auto-generated keys. It can be used to retrieve not only auto-generated keys, but also other columns or values that the application may use.</p>
                     <div class="infoboxnote" id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169__GUID-23348EDA-BFA2-4909-9140-6BE89BFED53D">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The server-side internal driver does not support DML returning and retrieval of auto-generated keys.</p>
                           </li>
                           <li>
                              <p>You cannot use both DML returning and retrieval of auto-generated keys in the same statement.</p>
                           </li>
                        </ul>
                     </div>
                     <p>The following sections explain the support for DML returning:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F">Oracle-Specific APIs</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5">About Running DML Returning Statements</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B">Example of DML Returning</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-extensions.html#GUID-4D193775-764B-4080-9BD1-FC6F7135F086">Limitations of DML Returning</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9EC82134-1206-4325-A17B-9FA7610F0169__GUID-798FAA62-3C05-42CB-B055-AB9DD87270D9">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="JDBC-standards-support.html#GUID-11E3AAF8-009C-418E-8263-E41EE49F2EA8">Retrieval of Auto-Generated Keys</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28175"></a><div class="props_rev_3"><a id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F" name="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F"></a><h4 id="JJDBC-GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F" class="sect4"><span class="enumeration_section">4.6.1 </span>Oracle-Specific APIs
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">OraclePreparedStatement</code> interface is enhanced with Oracle-specific application programming interfaces (APIs) to support DML returning. The <code class="codeph">registerReturnParameter</code> and <code class="codeph">getReturnResultSet</code> methods have been added to the <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interface, to register parameters that are returned and data retrieved by DML returning.
                        </p>
                        <p>The <code class="codeph">registerReturnParameter</code> method is used to register the return parameter for DML returning. The method throws a <code class="codeph">SQLException</code> instance if an error occurs. You must pass a positive integer specifying the index of the return parameter. You also must specify the type of the return parameter. You can also specify the maximum bytes or characters of the return parameter. This method can be used only with <code class="codeph">char</code> or <code class="codeph">RAW</code> types. You can also specify the fully qualified name of a SQL structure type.
                        </p>
                        <div class="infoboxnote" id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F__GUID-1BE0C9BE-D483-4393-9898-D1A5001D5926">
                           <p class="notep1">Note:</p>
                           <p>If you do not know the maximum size of the return parameters, then you should use <code class="codeph">registerReturnParameter(int paramIndex, int externalType)</code>, which picks the default maximum size. If you know the maximum size of return parameters, using <code class="codeph">registerReturnParameter(int paramIndex, int externalType, int maxSize)</code> can reduce memory consumption.
                           </p>
                        </div>
                        <p>The <code class="codeph">getReturnResultSet</code> method fetches the data returned from DML returning and returns it as a <code class="codeph">ResultSet</code> object. The method throws a <code class="codeph">SQLException</code> exception if an error occurs.
                        </p>
                        <div class="infoboxnote" id="GUID-F0E9897E-6F04-479F-9568-07FFCE7FB66F__GUID-203F81E9-92B2-4552-B14B-95CF4D88182F">
                           <p class="notep1">Note:</p>
                           <p>The Oracle-specific APIs for the DML returning feature are in <code class="codeph">ojdbc6.jar</code> for Java Development Kit (JDK) 6.0 and in <code class="codeph">ojdbc7.jar</code> for JDK 7.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28176"></a><div class="props_rev_3"><a id="GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5" name="GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5"></a><h4 id="JJDBC-GUID-E27DE9F3-236A-49F1-98BD-F3513110F3A5" class="sect4"><span class="enumeration_section">4.6.2 </span>About Running DML Returning Statements
                  </h4>
                  <div>
                     <div class="section">
                        <p>Before running a DML returning statement, the JDBC application must call one or more of the <code class="codeph">registerReturnParameter</code> methods. The method provides the JDBC drivers with information, such as type and size, of the return parameters. The DML returning statement is then processed using one of the standard JDBC APIs, <code class="codeph">executeUpdate</code> or <code class="codeph">execute</code>. You can then fetch the returned parameters as a <code class="codeph">ResultSet</code> object using the <code class="codeph">getReturnResultSet</code> method of the <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interface.
                        </p>
                        <p>In order to read the values in the <code class="codeph">ResultSet</code> object, the underlying <code class="codeph">Statement</code> object must be open. When the underlying <code class="codeph">Statement</code> object is closed, the returned <code class="codeph">ResultSet</code> object is also closed. This is consistent with <code class="codeph">ResultSet</code> objects that are retrieved by processing SQL query statements.
                        </p>
                        <p>When a DML returning statement is run, the concurrency of the <code class="codeph">ResultSet</code> object returned by the <code class="codeph">getReturnResultSet</code> method must be <code class="codeph">CONCUR_READ_ONLY</code> and the type of the <code class="codeph">ResultSet</code> object must be <code class="codeph">TYPE_FORWARD_ONLY</code> or <code class="codeph">TYPE_SCROLL_INSENSITIVE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28177"></a><div class="props_rev_3"><a id="GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B" name="GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B"></a><h4 id="JJDBC-GUID-B2935E57-0E0A-4C4E-9515-9C63FCBDB87B" class="sect4"><span class="enumeration_section">4.6.3 </span>Example of DML Returning
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section provides two code examples of DML returning.</p>
                        <p>The following code example illustrates the use of DML returning. In this example, assume that the maximum size of the <code class="codeph">name</code> column is 100 characters. Because the maximum size of the <code class="codeph">name</code> column is known, the <code class="codeph">registerReturnParameter(int paramIndex, int externalType, int maxSize)</code> method is used.
                        </p><pre class="oac_no_warn" dir="ltr">...
OraclePreparedStatement pstmt = (OraclePreparedStatement)conn.prepareStatement(
       "delete from tab1 where age &lt; ? returning name into ?");
pstmt.setInt(1,18);

/** register returned parameter
  * in this case the maximum size of name is 100 chars
  */
pstmt.registerReturnParameter(2, OracleTypes.VARCHAR, 100);

// process the DML returning statement
count = pstmt.executeUpdate();
if (count&gt;0)
{
  ResultSet rset = pstmt.getReturnResultSet(); //rest is not null and not empty
  while(rset.next())
  {
    String name = rset.getString(1);
    ...
  }
}
...
</pre><p>The following code example also illustrates the use of DML returning. However, in this case, the maximum size of the return parameters is not known. Therefore, the <code class="codeph">registerReturnParameter(int paramIndex, int externalType)</code> method is used.
                        </p><pre class="oac_no_warn" dir="ltr">...
OraclePreparedStatement pstmt = (OraclePreparedStatement)conn.prepareStatement(
  "insert into lobtab values (100, empty_clob()) returning col1, col2 into ?, ?");

// register return parameters
pstmt.registerReturnParameter(1, OracleTypes.INTEGER);
pstmt.registerReturnParameter(2, OracleTypes.CLOB);

// process the DML returning SQL statement
pstmt.executeUpdate();
ResultSet rset = pstmt.getReturnResultSet();
int r;
CLOB clob;
if (rset.next())
{
  r = rset.getInt(1);
  System.out.println(r);
  clob = (CLOB)rset.getClob(2);
  ...
}
...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28178"></a><div class="props_rev_3"><a id="GUID-4D193775-764B-4080-9BD1-FC6F7135F086" name="GUID-4D193775-764B-4080-9BD1-FC6F7135F086"></a><h4 id="JJDBC-GUID-4D193775-764B-4080-9BD1-FC6F7135F086" class="sect4"><span class="enumeration_section">4.6.4 </span>Limitations of DML Returning
                  </h4>
                  <div>
                     <div class="section">
                        <p>When using DML returning, be aware of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It is unspecified what the <code class="codeph">getReturnResultSet</code> method returns when it is invoked more than once. You should not rely on any specific action in this regard.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">ResultSet</code> objects returned from the execution of DML returning statements do not support the <code class="codeph">ResultSetMetaData</code> type. Therefore, the applications must know the information of return parameters before running DML returning statements.
                              </p>
                           </li>
                           <li>
                              <p>Streams are not supported with DML returning.</p>
                           </li>
                           <li>
                              <p>DML returning cannot be combined with batch update.</p>
                           </li>
                           <li>
                              <p>You cannot use both the auto-generated key feature and the DML returning feature in a single SQL DML statement. For example, the following is not allowed:</p><pre class="oac_no_warn" dir="ltr">...
PreparedStatement pstmt = conn.prepareStatement('insert into orders (?, ?, ?) returning order_id into ?");
pstmt.setInt(1, seq01.NEXTVAL);
pstmt.setInt(2, 100);
pstmt.setInt(3, 966431502);
pstmt.registerReturnParam(4, OracleTypes.INTEGER);
pstmt.executeUpdate;
ResultSet rset = pstmt.getGeneratedKeys;
...
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28179"></a><div class="props_rev_3"><a id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB" name="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB"></a><h3 id="JJDBC-GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB" class="sect3"><span class="enumeration_section">4.7 </span>Accessing PL/SQL Associative Arrays
               </h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>Oracle JDBC drivers enable JDBC applications to make PL/SQL calls with Associative Arrays parameters. In PL/SQL, an Associative Array is a set of key-value pairs, where the keys may be <code class="codeph">PLS_INTEGER</code>s or Strings. The keys may have any value and need not be dense. From a client application, you can work only with <code class="codeph">PLS_INTEGER</code> or <code class="codeph">BINARY_INTEGER</code> keys.
                     </p>
                     <div class="infoboxnote" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-D8880935-CEFB-4737-9597-25339D1F8750">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">PLS_INTEGER</code> and <code class="codeph">BINARY_INTEGER</code> are identical data types.
                        </p>
                     </div>
                     <p>The previous release of Oracle JDBC drivers provided support only for PL/SQL Associative Arrays of Scalar data types. Also, the support was restricted only to the values of the key-value pairs of the Arrays. Oracle Database Release 18c supports accessing both the keys (indexes) and values of Associative Arrays, and also provides support for Associative Arrays of object types. Use the following methods to achieve the new functionalities:</p>
                     <ul style="list-style-type: disc;">
                        <li><pre class="pre codeblock"><code>Array createOracleArray(String arrayTypeName,

                        Object elements)

                        throws SQLException</code></pre></li>
                        <li><pre class="pre codeblock"><code>ARRAY createARRAY(String typeName,

                  Object elements)

                  throws SQLException</code></pre><p>In both the preceding methods, the second parameter can either be a <code class="codeph">java.util.Map&lt;Integer, ?&gt;</code> that holds the key-value pairs of the Associative Arrays, or it can only be an array of values. If it is an array of values, then the JDBC driver defaults the indexes to 0,1,2 and so on. If it is <code class="codeph">java.util.Map&lt;Integer, ?&gt;</code>,  then the JDBC driver does not default the keys. They remain as specified in the Map, and can be sparse and negative.
                           </p>
                        </li>
                        <li><pre class="pre codeblock"><code>Map&lt;?,?&gt; oracle.jdbc.OracleArray.getJavaMap();</code></pre><p>This method returns a <code class="codeph">Map&lt;?,?&gt;</code> for the data types in the Associative Array and <code class="codeph">null</code> for Nested Tables and VARRAYs.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-7184BC8E-93C6-4C9F-9CC0-1E4B8AE7E0AA">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Associative Arrays were previously known as index-by tables.</p>
                           </li>
                           <li>
                              <p>When you use String data types, the size is limited to the size in PL/SQL that is 32767 characters. For the server-side internal driver, the limits are lower.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2EF2089E-11B3-4395-8464-E6EFC23285AB__GUID-37514249-E899-4DFD-A0FA-D0256B2C54B8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span><cite>Oracle Database JDBC Java API Reference</cite></span></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-collections-and-records.html#LNPLS-GUID-8060F01F-B53B-48D4-9239-7EA8461C2170" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a></p> for more information about Associative Arrays
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04981.ANSI-dynamic-SQL.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ANSI Dynamic SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Oracle-dynamic-SQL.html" title="Previous" type="text/html">
      <link rel="next" href="Oracle-dynamic-SQL-method-4.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Oracle-dynamic-SQL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="Oracle-dynamic-SQL-method-4.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="applications.html" property="item" typeof="WebPage"><span property="name"> Applications </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> 	ANSI Dynamic SQL</li>
            </ol>
            <a id="GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF" name="GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF"></a><a id="LNPCC014"></a>
            
            <h2 id="LNPCC-GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF" class="sect2"><span class="enumeration_chapter">14 </span> 	ANSI Dynamic SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes Oracle's implementation of <a id="d75516e22" class="indexterm-anchor"></a>ANSI dynamic SQL (also known as SQL standard dynamic SQL) which should be used for new Method 4 applications. It has enhancements over the older Oracle dynamic SQL Method 4, described in the previous chapter. 
               </p>
               <p>The ANSI Method 4 supports all Oracle types, while the older Oracle Method 4 does <span class="italic">not</span> support object types, cursor variables, arrays of structs, DML returning clauses, Unicode variables, and LOBs.
               </p>
               <p>In ANSI dynamic SQL, descriptors are internally maintained by Oracle, while in the older Oracle dynamic SQL Method 4, descriptors are defined in the user's Pro*C/C++ program. In both cases, Method 4 means that your Pro*C/C++ program accepts or builds SQL statements that contain a varying number of host variables.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41">Basics of ANSI Dynamic SQL</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5">Overview of ANSI SQL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700">Oracle Extensions</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8">ANSI Dynamic SQL Precompiler Options</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-C0D00130-3193-4038-A730-98471BF8E259">Full Syntax of the Dynamic SQL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="ANSI-dynamic-SQL.html#GUID-F216E6D1-16BA-400A-8C26-75AC9398264A">Example Programs</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC4033"></a><div class="props_rev_3"><a id="GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41" name="GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41"></a><h3 id="LNPCC-GUID-89EBF009-D3AE-4410-9BB6-A55DBE07BC41" class="sect3"><span class="enumeration_section">14.1 </span>Basics of ANSI Dynamic SQL
               </h3>
               <div>
                  <p>Consider the SQL statement:</p><pre class="oac_no_warn" dir="ltr">SELECT ename, empno FROM emp WHERE deptno = :deptno_data 
</pre><p>The steps you follow to use ANSI dynamic SQL are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Declare variables, including a string to hold the statement to be executed.</p>
                     </li>
                     <li>
                        <p>Allocate descriptors for input and output variables.</p>
                     </li>
                     <li>
                        <p>Prepare the statement.</p>
                     </li>
                     <li>
                        <p>Describe input for the input descriptor.</p>
                     </li>
                     <li>
                        <p>Set the input descriptor (in our example the one input host bind variable, <code class="codeph">deptno_data)</code>.
                        </p>
                     </li>
                     <li>
                        <p>Declare and open a dynamic cursor.</p>
                     </li>
                     <li>
                        <p>Set the output descriptors (in our example, the output host variables <code class="codeph">ename </code>and <code class="codeph">empno)</code>.
                        </p>
                     </li>
                     <li>
                        <p>Repeatedly fetch data, using GET DESCRIPTOR to retrieve the <code class="codeph">ename</code> and <code class="codeph">empno</code> data fields from each row.
                        </p>
                     </li>
                     <li>
                        <p>Do something with the data retrieved (output it, for instance).</p>
                     </li>
                     <li>
                        <p>Close the dynamic cursor and deallocate the input and output descriptors.</p>
                     </li>
                  </ul>
               </div><a id="LNPCC4034"></a><a id="LNPCC3574"></a><div class="props_rev_3"><a id="GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E" name="GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E"></a><h4 id="LNPCC-GUID-4C3798E6-854E-438B-85A9-BC34CE2B314E" class="sect4"><span class="enumeration_section">14.1.1 </span>Precompiler Options
                  </h4>
                  <div>
                     <p>Set the micro precompiler option DYNAMIC to ANSI, or set the macro option MODE to ANSI, which causes the default value of DYNAMIC to be ANSI. The other setting of DYNAMIC is ORACLE.</p>
                     <p>In order to use ANSI type codes, set the precompiler micro option TYPE_CODE to ANSI, or set the macro option MODE to ANSI which makes the default setting of TYPE_CODE to ANSI. To set TYPE_CODE to ANSI, DYNAMIC must also be ANSI.</p>
                     <p>Oracle's implementation of the ANSI SQL types in <a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5">Overview of ANSI SQL Statements</a> does not exactly match the ANSI standard. For example, a describe of a column declared as INTEGER will return the code for NUMERIC. As Oracle moves closer to the ANSI standard, small changes in behavior may be required. Use the ANSI types with precompiler option TYPE_CODE set to ANSI if you want your application to be portable across database platforms and as ANSI compliant as possible. Do not use TYPE_CODE set to ANSI if such changes are not acceptable.
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC4036"></a><a id="LNPCC4035"></a><div class="props_rev_3"><a id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5" name="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5"></a><h3 id="LNPCC-GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5" class="sect3"><span class="enumeration_section">14.2 </span>Overview of ANSI SQL Statements
               </h3>
               <div>
                  <p>Allocate a descriptor area first before using it in a dynamic SQL statement. </p>
                  <p>The ALLOCATE DESCRIPTOR statement syntax is:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam</span> | <span class="italic">string_literal</span>} 
  [WITH MAX {<span class="italic">:occurrences</span> | <span class="italic">numeric_literal</span>}];
</pre><p>A global descriptor can be used in any module in the program. A local descriptor can be accessed only in the file in which it is allocated. Local is the default. </p>
                  <p>The descriptor name, <code class="codeph">desc_nam,</code> can be a literal in single quotes or a character value stored in a host variable.
                  </p>
                  <p><code class="codeph">occurrences</code> is the maximum number of bind variables or columns that the descriptor can hold. This must be a numeric literal. The default is 100. 
                  </p>
                  <p>When a descriptor is no longer needed, deallocate it to conserve memory. Otherwise, deallocation is done automatically when there are no more active database connections.</p>
                  <p>The deallocate statement is:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam</span> | <span class="italic">string_literal</span>};
</pre><p>Use the DESCRIBE statement to obtain information on a prepared SQL statement. DESCRIBE INPUT describes bind variables for the dynamic statement that has been prepared. DESCRIBE OUTPUT (the default) can give the number, type, and length of the output columns. The simplified syntax is:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE [INPUT | OUTPUT] <span class="italic">sql_statement</span> 
    USING [SQL] DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam</span> | <span class="italic">string_literal</span>};

</pre><p>If your SQL statement has input and output values, you must allocate two descriptors: one for input and one for output values. If there are no input values, for example:</p><pre class="oac_no_warn" dir="ltr">SELECT ename, empno FROM emp ;
</pre><p>then the input descriptor is not needed.</p>
                  <p>Use the SET DESCRIPTOR statement to specify input values for INSERTS, UPDATES, DELETES and the WHERE clauses of SELECT statements. Use SET DESCRIPTOR to set the number of input bind variables (stored in <code class="codeph">COUNT</code>) when you have not done a DESCRIBE into your input descriptor: 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>}
   COUNT = {:<span class="italic">kount </span>|<span class="italic"> numeric_literal</span>};
</pre><p><code class="codeph">kount</code> can be a host variable or a numeric literal, such as 5. Use a SET DESCRIPTOR statement for each host variable, giving at least the data source of the variable:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} 
   VALUE <span class="italic">item_number</span> DATA = :<span class="italic">hv3</span>;
</pre><p>You can also set the type and length of the input host variable:</p>
                  <div class="infoboxnote" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__GUID-267F11F1-44A3-4474-87A1-D46DEFE4FA56">
                     <p class="notep1">Note:</p>
                     <p>When TYPE_CODE=ORACLE, if you do not set TYPE and LENGTH, either explicitly using the SET statement or implicitly by doing a DESCRIBE OUTPUT, the precompiler will use values for them derived from the host variable itself. When TYPE_CODE=ANSI, you must set TYPE using the values in <a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL Datatypes">Table 14-1</a>. You should also set LENGTH because the ANSI default lengths may not match those of your host variables.
                     </p>
                  </div><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} 
   VALUE <span class="italic">item_number</span> TYPE = :<span class="italic">hv1</span>, LENGTH = :<span class="italic">hv2</span>, DATA = :<span class="italic">hv3</span>;
</pre><p>We use the identifiers<code class="codeph"> hv1</code>, <code class="codeph">hv2</code>, and <code class="codeph">hv3 </code>to remind us that the values must be supplied by host variables. <span class="italic">item_number</span> is the position of the input variable in the SQL statement.
                  </p>
                  <p>TYPE is the Type Code selected from the following table, if TYPE_CODE is set to ANSI:</p>
                  <div class="tblformal" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936">
                     <p class="titleintable">Table 14-1 ANSI SQL Datatypes</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="ANSI SQL Datatypes" summary="ANSI SQL Datatypes" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="71%" id="d75516e370">Datatype</th>
                              <th align="left" valign="bottom" width="29%" id="d75516e373">Type Code</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e378" headers="d75516e370 ">
                                 <p>CHARACTER</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e378 d75516e373 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e385" headers="d75516e370 ">
                                 <p>CHARACTER VARYING</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e385 d75516e373 ">
                                 <p>12</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e392" headers="d75516e370 ">
                                 <p>DATE</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e392 d75516e373 ">
                                 <p>9</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e399" headers="d75516e370 ">
                                 <p>DECIMAL</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e399 d75516e373 ">
                                 <p>3</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e406" headers="d75516e370 ">
                                 <p>DOUBLE PRECISION</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e406 d75516e373 ">
                                 <p>8</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e413" headers="d75516e370 ">
                                 <p>FLOAT</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e413 d75516e373 ">
                                 <p>6</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e420" headers="d75516e370 ">
                                 <p>INTEGER</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e420 d75516e373 ">
                                 <p>4</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e427" headers="d75516e370 ">
                                 <p>NUMERIC</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e427 d75516e373 ">
                                 <p>2</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e434" headers="d75516e370 ">
                                 <p>REAL</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e434 d75516e373 ">
                                 <p>7</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d75516e441" headers="d75516e370 ">
                                 <p>SMALLINT</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d75516e441 d75516e373 ">
                                 <p>5</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>DATA is the value of the host variable that is to be input</p>
                  <p>You can also set other input values such as indicator, precision and scale. </p>
                  <p>The numeric values in the SET DESCRIPTOR statement must be declared as either <code class="codeph">int</code> or <code class="codeph">short int</code>, except for indicator and returned length values which you must declare as <code class="codeph">short int</code>. 
                  </p>
                  <p>For example, in the following example, when you want to retrieve an <code class="codeph">empno</code>, set these values: VALUE = 2, because <code class="codeph">empno</code> is the second output host variable in the dynamic SQL statement. The host variable <code class="codeph">empno_typ</code> is set to 3 (Oracle Type for integer). The length of a host integer, <code class="codeph">empno_len</code>, is set to 4, which is the size of the host variable. The DATA is equated to the host variable <code class="codeph">empno_data</code> which will receive the value from the database table. The code fragment is as follows:
                  </p><pre class="oac_no_warn" dir="ltr">...
char *dyn_statement = "SELECT ename, empno FROM emp 
   WHERE deptno = :deptno_number" ;
int empno_data ;
int empno_typ = 3 ;
int empno_len = 4 ;
...
EXEC SQL SET DESCRIPTOR 'out' VALUE 2  TYPE = :empno_typ, LENGTH = :empno_len,
   DATA = :empno_data ;
</pre><p>After setting the input values, execute or open your statement using the input descriptor. If there are output values in your statement, set them before doing a FETCH. If you have performed a DESCRIBE OUTPUT, you may have to test the actual type and length of your host variables. The DESCRIBE execution produces internal types and lengths that differ from your host variable external types and length.</p>
                  <p>After the FETCH of the output descriptor, use GET DESCRIPTOR to access the returned data. Again we show a simplified syntax with details later in this chapter:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL GET DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>}
   VALUE <span class="italic">item_number </span>:<span class="italic">hv1</span> = DATA, :<span class="italic">hv2</span> = INDICATOR, :<span class="italic">hv3</span> = RETURNED_LENGTH ;
</pre><p><code class="codeph">desc_nam</code> and <code class="codeph">item_number</code> can be literals or host variables. A descriptor name can be a literal such as 'out'. An item number can be a numeric literal such as 2.
                  </p>
                  <p><code class="codeph">hv1, hv2, and hv3</code> are host variables. They must be host variables, not literals. Only three are shown in the example. 
                  </p>
                  <p>Use either <span class="bold">long</span><span class="bold">, </span><span class="bold">int</span> or <span class="bold">short</span> for all numeric values, except for indicator and returned length variables, which must be <code class="codeph">short</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__GUID-825F7CC6-EEFA-41F4-8BB1-F4AD19E3ADBB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle External Datatypes and Datatype Codes">Table 15-2</a> for the Oracle type codes
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="ANSI-dynamic-SQL.html#GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D">SET DESCRIPTOR</a>"</span> for a complete discussion of all the possible descriptor item names
                           </p>
                        </li>
                        <li>
                           <p><a href="ANSI-dynamic-SQL.html#GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022893" title="Definitions of Descriptor Item Names for GET DESC">Table 14-4</a> for a list of all possible items of returned data that you can get.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC4037"></a><div class="props_rev_3"><a id="GUID-AA394CB8-AED3-4941-9E13-1B94C0128724" name="GUID-AA394CB8-AED3-4941-9E13-1B94C0128724"></a><h4 id="LNPCC-GUID-AA394CB8-AED3-4941-9E13-1B94C0128724" class="sect4"><span class="enumeration_section">14.2.1 </span>Example Code
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following example demonstrates the use of ANSI Dynamic SQL. It allocates an input descriptor ('in') and an output descriptor ('out') to execute a SELECT statement. Input values are set using the SET DESCRIPTOR statement. The cursor is opened and fetched from and the resulting output values are retrieved using a GET DESCRIPTOR statement.</p><pre class="oac_no_warn" dir="ltr">...
char* dyn_statement = "SELECT ename, empno FROM emp WHERE deptno = :deptno_data" ;
int deptno_type = 3, deptno_len = 2, deptno_data = 10 ;
int ename_type = 97, ename_len = 30 ;
char ename_data[31] ;
int empno_type = 3, empno_len = 4 ;
int empno_data ;
long SQLCODE = 0 ;
...
main ()
{
/* Place preliminary code, including connection, here. */
...
EXEC SQL ALLOCATE DESCRIPTOR 'in' ;
EXEC SQL ALLOCATE DESCRIPTOR 'out' ;
EXEC SQL PREPARE s FROM :dyn_statement ;
EXEC SQL DESCRIBE INPUT s USING DESCRIPTOR 'in' ;
EXEC SQL SET DESCRIPTOR 'in' VALUE 1 TYPE = :deptno_type,
   LENGTH = :deptno_len, DATA = :deptno_data ;
EXEC SQL DECLARE c CURSOR FOR s ;
EXEC SQL OPEN c USING DESCRIPTOR 'in' ;
EXEC SQL DESCRIBE OUTPUT s USING DESCRIPTOR 'out' ;
EXEC SQL SET DESCRIPTOR 'out' VALUE 1 TYPE = :ename_type, 
    LENGTH = :ename_len, DATA = :ename_data ;
EXEC SQL SET DESCRIPTOR 'out' VALUE 2 TYPE = :empno_type, 
    LENGTH = :empno_len, DATA = :empno_data ;

EXEC SQL WHENEVER NOT FOUND DO BREAK ;
while (SQLCODE == 0) 
{
   EXEC SQL FETCH c INTO DESCRIPTOR 'out' ;
   EXEC SQL GET DESCRIPTOR 'out' VALUE 1 :ename_data = DATA ;
   EXEC SQL GET DESCRIPTOR 'out' VALUE 2 :empno_data = DATA ;
   printf("\nEname = %s Empno = %s", ename_data, empno_data) ;
}
EXEC SQL CLOSE c ;
EXEC SQL DEALLOCATE DESCRIPTOR 'in' ;
EXEC SQL DEALLOCATE DESCRIPTOR 'out' ;
...
}
</pre><p>Scrollable cursors can also be used with ANSI Dynamic SQL. In order to use ANSI dynamic SQL with scrollable cursors, we DECLARE the cursor in SCROLL mode. Use the various fetch orientation modes with the FETCH statement to access the result set.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC4038"></a><div class="props_rev_3"><a id="GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700" name="GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700"></a><h3 id="LNPCC-GUID-D40DCC4E-4B07-4C21-92CA-D060FF716700" class="sect3"><span class="enumeration_section">14.3 </span>Oracle Extensions
               </h3>
               <div>
                  <p>These extensions are described next:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Reference semantics for data items in SET statements.</p>
                     </li>
                     <li>
                        <p>Arrays for bulk operations.</p>
                     </li>
                     <li>
                        <p>Support for object types, NCHAR columns, and LOBs.</p>
                     </li>
                  </ul>
               </div><a id="LNPCC4039"></a><div class="props_rev_3"><a id="GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4" name="GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4"></a><h4 id="LNPCC-GUID-1F46FC36-3190-4613-A4BF-6B31B2F276F4" class="sect4"><span class="enumeration_section">14.3.1 </span>Reference Semantics
                  </h4>
                  <div>
                     <p>The ANSI standard specifies <span class="italic">value</span> semantics. To improve performance, Oracle has extended this standard to include <span class="italic">reference</span> semantics. 
                     </p>
                     <p>Value semantics makes a copy of your host variables data. Reference semantics uses the addresses of your host variables, avoiding a copy. Thus, reference semantics can provide performance improvements for large amounts of data.</p>
                     <p>To help speed up fetches, use the REF keyword before the data clauses:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL SET DESCRIPTOR 'out' VALUE 1 TYPE = :ename_type,
   LENGTH = :ename_len, REF DATA = :ename_data ;
EXEC SQL DESCRIPTOR 'out' VALUE 2 TYPE = :empno_type,
   LENGTH = :empno_len, REF DATA = :empno_data ;
</pre><p>Then the host variables receive the results of the retrieves. The GET statement is not needed. The retrieved data is written directly into <code class="codeph">ename_data</code> and <code class="codeph">empno_data</code> after each FETCH.
                     </p>
                     <p>Use of the REF keyword is allowed <span class="italic">only</span> before DATA, INDICATOR and RETURNED_LENGTH items (which can vary with each row fetched) as in this fragment of code:
                     </p><pre class="oac_no_warn" dir="ltr">int indi, returnLen ;
...
EXEC SQL SET DESCRIPTOR 'out' VALUE 1 TYPE = :ename_type,
   LENGTH = :ename_len, REF DATA = :ename_data,
      REF INDICATOR = :indi, REF RETURNED_LENGTH = :returnLen ;
</pre><p>After each fetch, <code class="codeph">returnLen </code>holds the actual retrieved length of the <code class="codeph">ename</code> field, which is useful for <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR2 </code>data.
                     </p>
                     <p><code class="codeph">ename_len</code> will not receive the returned length. It will not be changed by the FETCH statement. Use a DESCRIBE statement, followed by a GET statement to find out the maximum column width before fetching rows of data.
                     </p>
                     <p>REF keyword is also used for other types of SQL statements than SELECT, to speed them up. With reference semantics, the host variable is used rather than a value copied into the descriptor area. The host variable data at the time of execution of the SQL statement is used, not its data at the time of the SET. Here is an example:</p><pre class="oac_no_warn" dir="ltr">int x = 1 ;
EXEC SQL SET DESCRIPTOR 'value' VALUE 1 DATA = :x ;
EXEC SQL SET DESCRIPTOR 'reference' VALUE 1 REF DATA = :x ;
x = 2 ;
EXEC SQL EXECUTE s USING  DESCRIPTOR 'value' ;    /* Will use  x = 1 */
EXEC SQL EXECUTE s USING DESCRIPTOR 'reference' ; /* Will use x = 2 */
</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D">SET DESCRIPTOR</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4040"></a><div class="props_rev_3"><a id="GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296" name="GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296"></a><h4 id="LNPCC-GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296" class="sect4"><span class="enumeration_section">14.3.2 </span>About Using Arrays for Bulk Operations
                  </h4>
                  <div>
                     <p>Oracle extends ANSI dynamic SQL by providing bulk operations. To use bulk operations, use the <code class="codeph">FOR</code> clause with an array size to specify the amount of input data or the number of rows you want to process.
                     </p>
                     <p>The <code class="codeph">FOR</code> clause is used in the ALLOCATE statement to give the maximum amount of data or number of rows. For example, to use a maximum array size of 100:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FOR 100 ALLOCATE DESCRIPTOR 'out' ;
</pre><p>or:</p><pre class="oac_no_warn" dir="ltr">int array_size = 100 ;
...
EXEC SQL FOR :array_size ALLOCATE DESCRIPTOR 'out' ;
</pre><p>The <code class="codeph">FOR </code>clause is then used in subsequent statements that access the descriptor. In an output descriptor the FETCH statement must have an array size equal to or less than the array size already used in the ALLOCATE statement:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FOR 20 FETCH c1 USING DESCRIPTOR 'out' ;
</pre><p>Subsequent GET statements for the same descriptor, that get DATA, INDICATOR, or RETURNED_LENGTH values, must use the same array size as the FETCH statement.</p><pre class="oac_no_warn" dir="ltr">int val_data[20] ;
short val_indi[20] ;
...
EXEC SQL FOR 20 GET DESCRIPTOR 'out' VALUE 1 :val_data = DATA,
  :val_indi = INDICATOR ;
</pre><p>However, GET statements that reference other items which do not vary from row to row, such as LENGTH, TYPE and COUNT, must <span class="italic">not</span> use the <code class="codeph">FOR</code> clause:
                     </p><pre class="oac_no_warn" dir="ltr">int cnt, len ;
...
EXEC SQL GET DESCRIPTOR 'out' :cnt = COUNT ;
EXEC SQL GET DESCRIPTOR 'out' VALUE 1 :len = LENGTH ;
</pre><p>The same holds true for SET statements with reference semantics. SET statements which precede the FETCH and employ reference semantics for DATA, INDICATOR, or RETURNED_LENGTH must have the same array size as the FETCH:</p><pre class="oac_no_warn" dir="ltr">int ref_data[20] ;
short ref_indi[20] ;
...
EXEC SQL FOR 20 SET DESCRIPTOR 'out' VALUE 1 REF DATA = :ref_data,
   REF INDICATOR = :ref_indi ;
</pre><p>Similarly, for a descriptor that is used for input, to insert a batch of rows, for instance, the EXECUTE or OPEN statement must use an array size equal to or less than the size used in the ALLOCATE statement. The SET statement, for both value and reference semantics, that accesses DATA, INDICATOR, or RETURNED_LENGTH must use the same array size as in the EXECUTE statement.</p>
                     <p>The FOR clause is never used on the DEALLOCATE or PREPARE statements.</p>
                     <p>The following code example illustrates a bulk operation with no output descriptor (there is no output, only input to be inserted into the table <code class="codeph">emp</code>). The value of <code class="codeph">COUNT</code> is 2 (there are two host variables, <code class="codeph">ename_arr</code> and <code class="codeph">empno_arr</code>, in the INSERT statement). The data array <code class="codeph">ename_arr</code> holds three character strings: "Tom", "Dick" and "Harry", in that order. The indicator array <code class="codeph">ename_ind</code> has a value of -1 for the second element; so a NULL will be inserted instead of "Dick". The data array <code class="codeph">empno_arr</code> contains three employee numbers. A DML returning clause could be used to confirm the actual names inserted.
                     </p><pre class="oac_no_warn" dir="ltr">...
char* dyn_statement = "INSERT INTO emp (ename) VALUES (:ename_arr)" ;
char ename_arr[3][6] = {Tom","Dick","Harry"} ;
short ename_ind[3] = {0,-1,0} ;
int ename_len = 6, ename_type = 97, cnt = 2 ;
int empno_arr[3] = {8001, 8002, 8003} ;
int empno_len = 4 ;
int empno_type = 3 ;
int array_size = 3 ;
EXEC SQL FOR :array_size ALLOCATE DESCRIPTOR 'in' ;
EXEC SQL SET DESCRIPTOR 'in' COUNT = :cnt ;
EXEC SQL SET DESCRIPTOR 'in' VALUE 1 TYPE = :ename_type, LENGTH = :ename_len ;
EXEC SQL SET DESCRIPTOR 'in' VALUE 2 TYPE = :empno_type, LENGTH = :empno_len ;
EXEC SQL FOR :array_size SET DESCRIPTOR 'in' VALUE 1
   DATA = :ename_arr, INDICATOR = :ename_ind ;
EXEC SQL FOR :array_size SET DESCRIPTOR 'in' VALUE 2
   DATA = :empno_arr ;
EXEC SQL PREPARE s FROM :dyn_statement ;
EXEC SQL FOR :array_size EXECUTE s USING DESCRIPTOR 'in' ;
...
</pre><p>The preceding code will insert these values:</p><pre class="oac_no_warn" dir="ltr">EMPNO   ENAME
 8001   Tom
 8002   
 8003   Harry</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">The DML Returning Clause</a></li>
                           <li><a href="host-arrays.html#GUID-A5ABD676-CF67-4EFF-82A4-82D94A653DD0">About Using the FOR Clause</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4041"></a><div class="props_rev_3"><a id="GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90" name="GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90"></a><h4 id="LNPCC-GUID-E2986ED3-1776-4DE7-AD3A-DED02C10CC90" class="sect4"><span class="enumeration_section">14.3.3 </span>Support for Arrays of Structs
                  </h4>
                  <div>
                     <p>You must set the HOST_STRIDE_LENGTH to the size of the struct, and the INDICATOR_STRIDE_LENGTH to the size of the indicator struct, and the RETURNED_LENGTH_STRIDE to the size of your returned length struct.</p>
                     <p>Arrays of structs are supported by ANSI dynamic SQL, but are <span class="italic">not</span> supported by the older Oracle dynamic SQL. 
                     </p>
                  </div>
               </div><a id="LNPCC4042"></a><div class="props_rev_3"><a id="GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB" name="GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB"></a><h4 id="LNPCC-GUID-F7D9D346-586F-4743-A4A7-F69F2366D5BB" class="sect4"><span class="enumeration_section">14.3.4 </span>Support for Object Types
                  </h4>
                  <div>
                     <p>For the object types that you have defined yourself, use Oracle TYPE equal to 108. For an object type column, use a DESCRIBE statement to obtain USER_DEFINED_TYPE_VERSION, USER_DEFINED_TYPE_NAME, USER_DEFINED_TYPE_NAME_LENGTH, USER_DEFINED_TYPE_SCHEMA, and USER_DEFINED_TYPE_SCHEMA_LENGTH.</p>
                     <p>If you do not employ the DESCRIBE statement to retrieve these values, you have to set them yourself through the SET DESCRIPTOR statement.</p>
                  </div>
               </div>
            </div><a id="LNPCC4044"></a><a id="LNPCC4045"></a><a id="LNPCC4043"></a><div class="props_rev_3"><a id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8" name="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8"></a><h3 id="LNPCC-GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8" class="sect3"><span class="enumeration_section">14.4 </span>ANSI Dynamic SQL Precompiler Options
               </h3>
               <div>
                  <div class="section">
                     <p>The macro option <a id="d75516e932" class="indexterm-anchor"></a>MODE sets ANSI compatibility characteristics and controls a number of functions. It can have the values ANSI or ORACLE. For individual functions there are micro options that override the MODE setting. 
                     </p>
                     <p>The precompiler micro option <a id="d75516e939" class="indexterm-anchor"></a><span class="italic">DYNAMIC</span> specifies the descriptor behavior in dynamic SQL. The precompiler micro option <a id="d75516e946" class="indexterm-anchor"></a><span class="italic">TYPE_CODE</span> specifies whether ANSI or Oracle datatype codes are to be used. 
                     </p>
                     <p>When the macro option MODE is set to ANSI, the micro option DYNAMIC becomes ANSI automatically. When MODE is set to ORACLE, DYNAMIC becomes ORACLE. </p>
                     <p>DYNAMIC and TYPE_CODE cannot be used inline.</p>
                     <p>This table describes functionality and how the DYNAMIC setting affects them.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8__G1022849">
                     <p class="titleintable">Table 14-2 DYNAMIC Option Settings</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DYNAMIC Option Settings" summary="DYNAMIC Option Settings" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d75516e970">Function</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e973">DYNAMIC = ANSI</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e976">DYNAMIC = ORACLE</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e981" headers="d75516e970 ">
                                 <p>Descriptor creation.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e981 d75516e973 ">
                                 <p>Must use ALLOCATE statement.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e981 d75516e976 ">
                                 <p>Must use function SQLSQLDAAlloc().</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e991" headers="d75516e970 ">
                                 <p>Descriptor destruction.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e991 d75516e973 ">
                                 <p>May use DEALLOCATE statement.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e991 d75516e976 ">
                                 <p>May use function SQLLDAFree(). </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1001" headers="d75516e970 ">
                                 <p>Retrieving data.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1001 d75516e973 ">
                                 <p>May use both FETCH and GET statements.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1001 d75516e976 ">
                                 <p>Must use only FETCH statement.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1011" headers="d75516e970 ">
                                 <p>Setting input data.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1011 d75516e973 ">
                                 <p>May use DESCRIBE INPUT statement. Must use SET statement.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1011 d75516e976 ">
                                 <p>Must set descriptor values in code. Must use DESCRIBE BIND VARIABLES statement.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1021" headers="d75516e970 ">
                                 <p>Descriptor representation.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1021 d75516e973 ">
                                 <p>Single quoted literal or host identifier which contains the descriptor name. </p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1021 d75516e976 ">
                                 <p>Host variable, a pointer to SQLDA.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1031" headers="d75516e970 ">
                                 <p>Data types available.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1031 d75516e973 ">
                                 <p>All ANSI types except BIT and all Oracle types.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1031 d75516e976 ">
                                 <p>Oracle types except objects, LOBs, arrays of structs and cursor variables.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The micro option TYPE_CODE is set by the precompiler to the same setting as the macro option MODE. TYPE_CODE can only equal ANSI if DYNAMIC equals ANSI.</p>
                     <p>Here is the functionality corresponding to the TYPE_CODE settings:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5473577F-3537-4DD6-B879-7DB1411EB7E8__G1022881">
                     <p class="titleintable">Table 14-3 TYPE_CODE Option Settings</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="TYPE_CODE Option Settings" summary="TYPE_CODE Option Settings" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d75516e1056">Function</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e1059">TYPE_CODE = ANSI</th>
                              <th align="left" valign="bottom" width="37%" id="d75516e1062">TYPE_CODE = ORACLE</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d75516e1067" headers="d75516e1056 ">
                                 <p>Data type code numbers input and returned in dynamic SQL. </p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1067 d75516e1059 ">
                                 <p>Use ANSI code numbers when ANSI type exists. Otherwise, use the negative of the Oracle code number.</p>
                                 <p>Only valid when DYNAMIC = ANSI.</p>
                              </td>
                              <td align="left" valign="top" width="37%" headers="d75516e1067 d75516e1062 ">
                                 <p>Use Oracle code numbers.</p>
                                 <p>May be used regardless of the setting of DYNAMIC.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="precompiler-options.html#GUID-639D5AF6-3CC0-4F9A-A501-DF9C791388B5">MODE</a></li>
                        <li><a href="advanced-topics.html#GUID-3B79020D-735A-47A9-84DA-401D86E8F712">New Names for SQLLIB Public Functions</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4046"></a><div class="props_rev_3"><a id="GUID-C0D00130-3193-4038-A730-98471BF8E259" name="GUID-C0D00130-3193-4038-A730-98471BF8E259"></a><h3 id="LNPCC-GUID-C0D00130-3193-4038-A730-98471BF8E259" class="sect3"><span class="enumeration_section">14.5 </span>Full Syntax of the Dynamic SQL Statements
               </h3>
               <div>
                  <p>See <a href="embedded-SQL-statements-and-directives.html#GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5">Embedded SQL Statements and Directives </a> for more details on all these statements. 
                  </p>
               </div><a id="LNPCC4048"></a><a id="LNPCC4049"></a><a id="LNPCC4050"></a><a id="LNPCC4051"></a><a id="LNPCC4047"></a><div class="props_rev_3"><a id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334" name="GUID-1D870984-33FA-4F37-B8B6-DB8026205334"></a><h4 id="LNPCC-GUID-1D870984-33FA-4F37-B8B6-DB8026205334" class="sect4"><span class="enumeration_section">14.5.1 </span>ALLOCATE DESCRIPTOR
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-B39644BB-378D-461A-A16A-40C60A601A4A">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this statement to allocate a SQL descriptor area. Supply a descriptor and the maximum number of occurrences of host bind items, and an array size. This statement is only for the ANSI dynamic SQL.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-CE1793C0-45CF-4103-98EB-AAE8D0400792">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR [:]<span class="italic">array_size</span>] ALLOCATE DESCRIPTOR [GLOBAL | LOCAL]
   {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} [WITH MAX <span class="italic">occurrences</span>] ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-EA40B444-4862-468A-8764-99E132096121">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>This is in an optional clause (it is an Oracle extension) that supports array processing. It tells the precompiler that the descriptor is usable for array processing.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>Descriptor name. Local descriptors must be unique in the module. A runtime error is generated if the descriptor has been allocated, but not deallocated, previously. A global descriptor must be unique for the application, or a runtime error results.</p>
                        <p>occurrences</p>
                        <p>The maximum number of host variables possible in the descriptor. It must be an integer constant between 0 and 64K, or an error is returned. Default is 100. The clause is optional. A precompiler error results if it does not conform to these rules.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1D870984-33FA-4F37-B8B6-DB8026205334__GUID-A39245B0-8031-436A-BA14-3EA4F264D6B6"> Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL ALLOCATE DESCRIPTOR 'SELDES' WITH MAX 50 ;

EXEC SQL FOR :batch ALLOCATE DESCRIPTOR GLOBAL :binddes WITH MAX 25 ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4053"></a><a id="LNPCC4054"></a><a id="LNPCC4055"></a><a id="LNPCC4056"></a><a id="LNPCC4052"></a><div class="props_rev_3"><a id="GUID-39530428-24E2-4576-941B-C9859616DEBB" name="GUID-39530428-24E2-4576-941B-C9859616DEBB"></a><h4 id="LNPCC-GUID-39530428-24E2-4576-941B-C9859616DEBB" class="sect4"><span class="enumeration_section">14.5.2 </span>DEALLOCATE DESCRIPTOR
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-D43D4476-2898-4601-A9B9-EBA1998827BF">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this statement to deallocate a SQL descriptor area that has been previously allocated, to free memory. This statement is only used for the ANSI dynamic SQL.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-9721A988-93B6-4889-801C-6D357A64B96E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-D195059A-B377-498C-9503-77E3E748EC48">Variable</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>A runtime error results when a descriptor with the same name and scope has not been allocated, or has been allocated and deallocated already. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-39530428-24E2-4576-941B-C9859616DEBB__GUID-E26FEDE9-1710-4D36-8CD6-99DF36F7F64B">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL 'SELDES' ;

EXEC SQL DEALLOCATE DESCRIPTOR :binddes ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4058"></a><a id="LNPCC4059"></a><a id="LNPCC4060"></a><a id="LNPCC4061"></a><a id="LNPCC4062"></a><a id="LNPCC4063"></a><a id="LNPCC4064"></a><a id="LNPCC4065"></a><a id="LNPCC4057"></a><div class="props_rev_3"><a id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D" name="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D"></a><h4 id="LNPCC-GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D" class="sect4"><span class="enumeration_section">14.5.3 </span>GET DESCRIPTOR
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-7E30C062-D5B8-4B4F-91A7-31E224BCE03D">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use to obtain information from a SQL descriptor area.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-9E765B7D-8CDA-4895-BD87-EEB9EFBB074C">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR [:]<span class="italic">array_size</span>] GET DESCRIPTOR [GLOBAL | LOCAL] 
   {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} 
   { :<span class="italic">hv0</span>  = COUNT | VALUE <span class="italic">item_number </span>
      :<span class="italic">hv1</span> = <span class="italic">item_name1</span> [ {, :<span class="italic">hvN</span> = <span class="italic">item_nameN</span>}] } ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-6F1F078A-94A5-49E5-9925-F2172DA3181F">Variables </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>The <code class="codeph">FOR array_size</code> is an optional Oracle extension. <code class="codeph">array_size</code> has to be equal to the field <code class="codeph">array_size</code> in the FETCH statement.
                        </p>
                        <p>COUNT </p>
                        <p>The total number of bind variables. </p>
                        <p>desc_nam</p>
                        <p>Descriptor name.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>VALUE item_number</p>
                        <p>The position of the item in the SQL statement. <code class="codeph">item_number</code> can be a variable or a constant. If<code class="codeph"> item_number</code> is greater than <code class="codeph">COUNT</code>, the "no data found" condition is returned. <code class="codeph">item_number</code> must be greater than 0.
                        </p>
                        <p>hv1 .. hvN</p>
                        <p>These are host variables to which values are transferred.</p>
                        <p>item_name1 .. item_nameN</p>
                        <p>The descriptor item names corresponding to the host variables. The possible ANSI descriptor item names are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022893">
                        <p class="titleintable">Table 14-4 Definitions of Descriptor Item Names for GET DESCRIPTOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Definitions of Descriptor Item Names for GET DESCRIPTOR" summary="Definitions of Descriptor Item Names for GET DESC" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1409">Descriptor Item Name</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1413">Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1419" headers="d75516e1409 ">
                                    <p><code class="codeph">TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1419 d75516e1413 ">
                                    <p>Use the negative value of Oracle type code if the ANSI datatype is not in the table and TYPE_CODE=ANSI.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1427" headers="d75516e1409 ">
                                    <p><code class="codeph">LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1427 d75516e1413 ">
                                    <p>Length of data in the column:  in characters for NCHAR;  in bytes otherwise. Set by the DESCRIBE OUTPUT.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1435" headers="d75516e1409 ">
                                    <p><code class="codeph">OCTET_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1435 d75516e1413 ">
                                    <p>Length of data in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1443" headers="d75516e1409 ">
                                    <p><code class="codeph">RETURNED_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1443 d75516e1413 ">
                                    <p>The actual data length after a FETCH.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1451" headers="d75516e1409 ">
                                    <p><code class="codeph">RETURNED_OCTET_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1451 d75516e1413 ">
                                    <p>Length of the returned data in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1459" headers="d75516e1409 ">
                                    <p><code class="codeph">PRECISION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1459 d75516e1413 ">
                                    <p>The number of digits.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1467" headers="d75516e1409 ">
                                    <p><code class="codeph">SCALE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1467 d75516e1413 ">
                                    <p>For exact numeric types, the number of digits to the right of the decimal point.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1475" headers="d75516e1409 ">
                                    <p><code class="codeph">NULLABLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1475 d75516e1413 ">
                                    <p>If 1, the column can have NULL values. If 0,the column cannot have NULL values.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1483" headers="d75516e1409 ">
                                    <p><code class="codeph">INDICATOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1483 d75516e1413 ">
                                    <p>The associated indicator value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1491" headers="d75516e1409 ">
                                    <p><code class="codeph">DATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1491 d75516e1413 ">
                                    <p>The data value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1499" headers="d75516e1409 ">
                                    <p><code class="codeph">NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1499 d75516e1413 ">
                                    <p>Column name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1508" headers="d75516e1409 ">
                                    <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1508 d75516e1413 ">
                                    <p>Column's character set.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>The Oracle additional descriptor item names are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__G1022973">
                        <p class="titleintable">Table 14-5 Oracle Extensions to Definitions of Descriptor Item Names for GET DESCRIPTOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Extensions to Definitions of Descriptor Item Names for GET DESCRIPTOR" summary="Oracle Extensions to Definitions of Descriptor Item Names for GET DESCRIPTOR" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1528">Descriptor Item Name</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1532">Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1538" headers="d75516e1528 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1538 d75516e1532 ">
                                    <p>If 2, NCHAR or NVARCHAR2. If 1, character. If 0, non-character.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1546" headers="d75516e1528 ">
                                    <p><code class="codeph">INTERNAL_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1546 d75516e1532 ">
                                    <p>The internal length, in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1554" headers="d75516e1528 ">
                                    <p><code class="codeph">HOST_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1554 d75516e1532 ">
                                    <p>The size of the host struct in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1562" headers="d75516e1528 ">
                                    <p><code class="codeph">INDICATOR_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1562 d75516e1532 ">
                                    <p>The size of the indicator struct in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1570" headers="d75516e1528 ">
                                    <p><code class="codeph">RETURNED_LENGTH_STRIDE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1570 d75516e1532 ">
                                    <p>The size of the returned-length struct in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1578" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_VERSION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1578 d75516e1532 ">
                                    <p>Used for character representation of object type version.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1586" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1586 d75516e1532 ">
                                    <p>Name of object type.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1594" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1594 d75516e1532 ">
                                    <p>Length of name of object type.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1602" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1602 d75516e1532 ">
                                    <p>Used for character representation of the object's schema.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1610" headers="d75516e1528 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1610 d75516e1532 ">
                                    <p>Length of <code class="codeph">USER_DEFINED_TYPE_SCHEMA</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1621" headers="d75516e1528 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1621 d75516e1532 ">
                                    <p>If 2, NCHAR or NVARCHAR2. If 1, character. If 0, non-character.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-3BF2EC36-3B25-4100-B4B9-FEA837ECF312">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use the FOR clause in GET DESCRIPTOR statements which contain DATA, INDICATOR, and RETURNED_LENGTH items only. </p>
                        <p>The internal type is provided by the DESCRIBE OUTPUT statement. For both input and output, you must set the type to be the external type of your host variable. </p>
                        <p>TYPE is the ANSI SQL Datatype code. Use the negative value of the Oracle type code if the ANSI type is not in the table. </p>
                        <p>LENGTH contains the column length in characters for fields that have fixed-width National Character Sets. It is in bytes for other character columns. It is set in DESCRIBE OUTPUT.</p>
                        <p>RETURNED_LENGTH is the actual data length set by the FETCH statement. It is in bytes or characters as described for LENGTH. The fields OCTET_LENGTH and RETURNED_OCTET_LENGTH are the lengths in bytes.</p>
                        <p>NULLABLE = 1 means that the column can have NULLS; NULLABLE = 0 means it cannot.</p>
                        <p>CHARACTER_SET_NAME only has meaning for character columns. For other types, it is undefined. The DESCRIBE OUTPUT statement obtains the value.</p>
                        <p>DATA and INDICATOR are the data value and the indicator status for that column. If data = NULL, but the indicator was not requested, an error is generated at runtime ("DATA EXCEPTION, NULL VALUE, NO INDICATOR PARAMETER").</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-2776F1B0-362A-4DF0-BE2E-3C8EE26934C0">Oracle-Specific Descriptor Item Names</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p></p>
                        <p>NATIONAL_CHARACTER = 2 if the column is an NCHAR or NVARCHAR2 column. If the column is a character (but not National Character) column, this item is set to 1. If a non-character column, this item becomes 0 after DESCRIBE OUTPUT is executed.</p>
                        <p>INTERNAL_LENGTH is for compatibility with Oracle dynamic Method 4. It has the same value as the length member of the Oracle SQL descriptor area.</p>
                        <p>The following three items are not returned by a DESCRIBE OUTPUT statement.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>HOST_STRIDE_LENGTH is the size of the struct of host variables.</p>
                           </li>
                           <li>
                              <p>INDICATOR_STRIDE_LENGTH is the size of the struct of indicator variables.</p>
                           </li>
                           <li>
                              <p>RETURNED_LENGTH_STRIDE is the size of the struct of returned-length variables </p>
                           </li>
                        </ul>
                        <p>The following items apply only to object types when the precompiler option OBJECTS has been set to YES.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>USER_DEFINED_TYPE_VERSION contains the character representation of the type version.</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_NAME is the character representation of the name of the type.</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_NAME_LENGTH is the length of the type name in bytes.</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_SCHEMA is the character representation of the schema name of the type.</p>
                           </li>
                           <li>
                              <p>USER_DEFINED_TYPE_SCHEMA_LENGTH is the length in characters of the type's schema name.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-C6C2F695-D65E-4D85-8A6F-878BAD701C19">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL GET DESCRIPTOR :binddes :n = COUNT ;

EXEC SQL GET DESCRIPTOR 'SELDES' VALUE 1 :t = TYPE, :l = LENGTH ;

EXEC SQL FOR :batch GET DESCRIPTOR LOCAL 'SELDES'
   VALUE :sel_item_no :i = INDICATOR, :v = DATA ; </pre><div class="infoboxnotealso" id="GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D__GUID-7FE90F60-8143-4C88-B60E-1839CFF0B11A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL Datatypes">Table 14-1</a> for the ANSI type codes
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle External Datatypes and Datatype Codes">Table 15-2</a>"</span> for the Oracle type codes
                                 </p>
                              </li>
                              <li>
                                 <p><a href="Oracle-dynamic-SQL-method-4.html#GUID-B516B7C8-1859-4A54-B15D-DF0C3D3C474D">  Oracle Dynamic SQL:  Method 4</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4067"></a><a id="LNPCC4068"></a><a id="LNPCC4069"></a><a id="LNPCC4070"></a><a id="LNPCC4071"></a><a id="LNPCC4072"></a><a id="LNPCC4073"></a><a id="LNPCC4066"></a><div class="props_rev_3"><a id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D" name="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D"></a><h4 id="LNPCC-GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D" class="sect4"><span class="enumeration_section">14.5.4 </span>SET DESCRIPTOR
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-3A20788F-A0E6-4ABA-A736-F69E0817406E">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this statement to set information in the descriptor area from host variables. The SET DESCRIPTOR statement supports <span class="italic">only</span> host variables for the item names.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-17F40BD0-7176-4052-8818-557598EECEB3">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR <span class="italic">array_size</span>] SET DESCRIPTOR [GLOBAL | LOCAL] 
   {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} {COUNT = :<span class="italic">hv0</span> | 
   VALUE <span class="italic">item_number</span>
   [REF] <span class="italic">item_name1</span> = :<span class="italic">hv1</span> 
   [{, [REF] <span class="italic">item_nameN</span> = :<span class="italic">hvN</span>}]} ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-891F8D42-FDE1-4165-B14A-9912FC7CFDE7">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>This optional Oracle clause permits using arrays when setting the descriptor items DATA, INDICATOR, and RETURNED_LENGTH only. You cannot use other items in a SET DESCRIPTOR that contains the FOR clause. All host variable array sizes must match. Use the same array size for the SET statement that you use for the FETCH statement. </p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>The descriptor name. It follows the rules in ALLOCATE DESCRIPTOR.</p>
                        <p>COUNT </p>
                        <p>The number of bind (input) or define (output) variables.</p>
                        <p>VALUE item_number</p>
                        <p>Position in the dynamic SQL statement of a host variable.</p>
                        <p>hv1 .. hvN</p>
                        <p>The host variables (not constants) that you set.</p>
                        <p>item_nameI</p>
                        <p>In a similar way to the GET DESCRIPTOR syntax <code class="codeph">desc_item_name</code> can take on these values.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__G1045758">
                        <p class="titleintable">Table 14-6 Descriptor Item Names for SET DESCRIPTOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Descriptor Item Names for SET DESCRIPTOR" summary="Descriptor Item Names for SET DESCRIPTOR" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1839">Descriptor Item Name</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1843">Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1849" headers="d75516e1839 ">
                                    <p><code class="codeph">TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1849 d75516e1843 ">
                                    <p>Use negative value of the Oracle type if there is no corresponding ANSI type.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1857" headers="d75516e1839 ">
                                    <p><code class="codeph">LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1857 d75516e1843 ">
                                    <p>Maximum length of data in the column.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1865" headers="d75516e1839 ">
                                    <p><code class="codeph">INDICATOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1865 d75516e1843 ">
                                    <p>The associated indicator value. Set for reference semantics.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1873" headers="d75516e1839 ">
                                    <p><code class="codeph">DATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1873 d75516e1843 ">
                                    <p>Value of the data to be set. Set for reference semantics.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1881" headers="d75516e1839 ">
                                    <p><code class="codeph">CHARACTER_SET_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1881 d75516e1843 ">
                                    <p>Column's character set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1889" headers="d75516e1839 ">
                                    <p><code class="codeph">TYPE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1889 d75516e1843 ">
                                    <p>Use negative value of the Oracle type if there is no corresponding ANSI type.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>See <a href="ANSI-dynamic-SQL.html#GUID-B4F31F00-0589-4E65-B245-6CA28F6A85D5__G1022936" title="ANSI SQL Datatypes">Table 14-1</a> for the ANSI type codes and see <span class="q">"<a href="Oracle-dynamic-SQL-method-4.html#GUID-72068D5F-21E9-4C42-92FC-536437D246FB__G34096" title="Oracle External Datatypes and Datatype Codes">Table 15-2</a>"</span> for the Oracle type codes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Oracle extensions to the descriptor item names are:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__G1045970">
                        <p class="titleintable">Table 14-7 Oracle Extensions to Descriptor Item Names for SET DESCRIPTOR</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Extensions to Descriptor Item Names for SET DESCRIPTOR" summary="Oracle Extensions to Descriptor Item Names for SET DESCRIPTOR" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d75516e1923">Descriptor Item Name</th>
                                 <th align="left" valign="bottom" width="69%" id="d75516e1927">Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1933" headers="d75516e1923 ">
                                    <p><code class="codeph">RETURNED_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1933 d75516e1927 ">
                                    <p>Length returned after a FETCH. Set if reference semantics is being used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1941" headers="d75516e1923 ">
                                    <p><code class="codeph">NATIONAL_CHARACTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1941 d75516e1927 ">
                                    <p>Set to 2 when the input host variable is an NCHAR or NVARCHAR2 type.</p>
                                    <p>Set to 0 when the National Character setting is clear.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1951" headers="d75516e1923 ">
                                    <p><code class="codeph">HOST_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1951 d75516e1927 ">
                                    <p>Size of the host variable struct in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1959" headers="d75516e1923 ">
                                    <p><code class="codeph">INDICATOR_STRIDE_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1959 d75516e1927 ">
                                    <p>Size of the indicator variable in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1967" headers="d75516e1923 ">
                                    <p><code class="codeph">RETURNED_LENGTH_STRIDE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1967 d75516e1927 ">
                                    <p>Size of the returned-length struct in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1975" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1975 d75516e1927 ">
                                    <p>Name of object type.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1983" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_NAME_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1983 d75516e1927 ">
                                    <p>Length of name of object type.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1991" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1991 d75516e1927 ">
                                    <p>Used for character representation of the object's schema.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d75516e1999" headers="d75516e1923 ">
                                    <p><code class="codeph">USER_DEFINED_TYPE_SCHEMA_LENGTH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d75516e1999 d75516e1927 ">
                                    <p>Length of <code class="codeph">USER_DEFINED_TYPE_SCHEMA</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-12D30B30-7BDE-4334-A58D-4E1433C0545E">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Reference semantics is another optional Oracle extension that speeds performance. Use the keyword REF before these descriptor items names only: DATA, INDICATOR, RETURNED_LENGTH. When you use the REF keyword you do not need to use a GET statement. Complex data types (object and collection types, arrays of structs, and the DML returning clause) all require the REF form of SET DESCRIPTOR. </p>
                        <p>If the program reuses DESCRIPTOR for another SQL, the old values of DESCRIPTOR remain.</p>
                        <p>When REF is used the associated host variable itself is used in the SET. The GET is not needed in this case. The RETURNED_LENGTH can only be set when you use the REF semantics, not the value semantics.</p>
                        <p>Use the same array size for the SET or GET statements that you use in the FETCH.</p>
                        <p>Set the NATIONAL_CHAR field to 2 for NCHAR host input values.</p>
                        <p>Set the NATIONAL_CHARACTER field to 0 when DESCRIPTOR is used for NCHAR host input values in the old SQL.</p>
                        <p>When setting an object type's characteristics, you must set USER_DEFINED_TYPE_NAME and USER_DEFINED_TYPE_NAME_LENGTH.</p>
                        <p>If omitted, USER_DEFINED_TYPE_SCHEMA and USER_DEFINED_TYPE_SCHEMA_LENGTH default to the current connection.</p>
                        <p>Set CHARACTER_SET_NAME to UTF16 for client-side Unicode support. The data will be in UCS2 encoding and the RETURNED_LENGTH is in CHARS.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-BF426287-1491-4159-8072-A5BBAA6B74A7">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">int bindno = 2 ;
short indi = -1 ;
char data = "ignore" ;
int batch = 1 ;

EXEC SQL FOR :batch ALLOCATE DESCRIPTOR 'binddes' ;
EXEC SQL SET DESCRIPTOR GLOBAL :binddes COUNT = 3 ;
EXEC SQL FOR :batch SET DESCRIPTOR :bindes
   VALUE :bindno INDICATOR = :indi, DATA = :data ;
...</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-78FA7AFE-CB9B-487E-9A91-06003FDC219D">GET DESCRIPTOR</a></li>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">The DML Returning Clause</a></li>
                           <li><a href="ANSI-dynamic-SQL.html#GUID-E56A766C-79F9-4AA7-8DF1-833DF8191296">About Using Arrays for Bulk Operations</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C1251DD8-6299-4A82-BE01-4D7235E76E9D__GUID-C2F86E0D-82B0-47A9-BCA8-F2B66285D615">
                        <p class="notep1">See Also:</p>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4075"></a><a id="LNPCC4076"></a><a id="LNPCC4077"></a><a id="LNPCC4078"></a><a id="LNPCC4074"></a><div class="props_rev_3"><a id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01" name="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01"></a><h4 id="LNPCC-GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01" class="sect4"><span class="enumeration_section">14.5.5 </span>Use of PREPARE
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-20B0CEC0-82A1-44B3-8A7C-E54716C8B4F8">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The PREPARE statement used in this method is the same as the PREPARE statement used in the other dynamic SQL methods. An Oracle extension allows a quoted string for the SQL statement, as well as a variable. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-5AB525B0-98F4-44C6-9A0A-FFC69EBBF92E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE <span class="italic">statement_id</span> FROM :<span class="italic">sql_statement </span>;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-918F1F74-EEE2-4D45-9E42-52393B76D2EC">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>This must not be declared; it is a undeclared SQL identifier.</p>
                        <p>sql_statement</p>
                        <p>A character string (a constant or a variable) holding the embedded SQL statement.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC47FC84-157A-4E2A-AD7C-E1DA65958E01__GUID-F1DC47CE-DEFE-420D-AE40-7F23A6EEEA52">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">char* statement = "SELECT ENAME FROM emp WHERE deptno = :d" ;
EXEC SQL PREPARE S1 FROM :statement ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4080"></a><a id="LNPCC4081"></a><a id="LNPCC4082"></a><a id="LNPCC4083"></a><a id="LNPCC4084"></a><a id="LNPCC4079"></a><div class="props_rev_3"><a id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A" name="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A"></a><h4 id="LNPCC-GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A" class="sect4"><span class="enumeration_section">14.5.6 </span>DESCRIBE INPUT
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-1FC9AFB4-F943-4B23-B924-9422B76158D1">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This statement returns information about the bind variables.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-14F4FB96-B076-45BD-B723-C847132A7DA8">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE INPUT <span class="italic">statement_id</span> USING [SQL] DESCRIPTOR 
   [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>} ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-F42E02DB-E4D9-43F6-B7B9-2159A4576815">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>The same as used in PREPARE and DESCRIBE OUTPUT. This must not be declared; it is an undeclared SQL identifier.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p></p>
                        <p>desc_nam</p>
                        <p>The descriptor name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-BE30D3B9-5144-4D56-BE1F-9C1F89995512">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>DESCRIBE INPUT only sets COUNT and NAME items. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82AB7A8F-4CD5-4A2A-BE12-91CCEB4F3A4A__GUID-7E6A8EB8-C0FC-4746-A4D3-21CB50741A18">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE INPUT S1 USING SQL DESCRIPTOR GLOBAL :binddes ;
EXEC SQL DESCRIBE INPUT S2 USING DESCRIPTOR 'input' ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4086"></a><a id="LNPCC4087"></a><a id="LNPCC4088"></a><a id="LNPCC4089"></a><a id="LNPCC4085"></a><div class="props_rev_3"><a id="GUID-92918804-0091-413F-BD86-5F5274891445" name="GUID-92918804-0091-413F-BD86-5F5274891445"></a><h4 id="LNPCC-GUID-92918804-0091-413F-BD86-5F5274891445" class="sect4"><span class="enumeration_section">14.5.7 </span>DESCRIBE OUTPUT
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-58074930-3FAA-4D51-97E7-DD8A55FF5017">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this statement to obtain information about the output columns in a PREPAREd statement. The ANSI syntax differs from the older Oracle syntax. The information which is stored in the SQL descriptor area is the number of values returned and associated information such as type, length, and name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-7B8F560E-55DA-4E10-B02C-260B5E89C3BD">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DESCRIBE [OUTPUT] <span class="italic">statement_id</span> USING [SQL] DESCRIPTOR
   [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>}<span class="italic"> ;</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-F3F8D6C8-ABE0-4E4E-A51B-26FE87966BEB">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>statement_id</p>
                        <p>The same as used in PREPARE. This must not be declared; it is an undeclared SQL identifier.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>The descriptor name. </p>
                        <p>OUTPUT is the default and can be omitted.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92918804-0091-413F-BD86-5F5274891445__GUID-B610E242-E325-461E-9EEB-EA70F2449C1E">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">char* desname = "SELDES" ;
EXEC SQL DESCRIBE S1 USING SQL DESCRIPTOR 'SELDES' ; /* Or, */
EXEC SQL DESCRIBE OUTPUT S1 USING DESCRIPTOR :desname ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4091"></a><a id="LNPCC4092"></a><a id="LNPCC4093"></a><a id="LNPCC4094"></a><a id="LNPCC4095"></a><a id="LNPCC4090"></a><div class="props_rev_3"><a id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28" name="GUID-00B73490-5667-4D86-A0D8-1792BF794A28"></a><h4 id="LNPCC-GUID-00B73490-5667-4D86-A0D8-1792BF794A28" class="sect4"><span class="enumeration_section">14.5.8 </span>EXECUTE
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-7161DF1F-E247-433A-9E18-3C2CB3AA3D29">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>EXECUTE matches input and output variables in a prepared SQL statement and then executes the statement. This ANSI version of EXECUTE differs from the older EXECUTE statement by allowing two descriptors in one statement to support DML returning clause.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-8A3A32F3-9E8D-4E25-B16B-5BEA077DF2E2">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR :<span class="italic">array_size</span>] EXECUTE <span class="italic">statement_id</span> 
    [USING [SQL] DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>}] 
        [INTO [SQL] DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam </span>|<span class="italic"> string_literal</span>}] ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-CFB5BD5D-3ED1-4D39-AA11-4A3873DFD705">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>The number of rows the statement will process.</p>
                        <p>statement_id</p>
                        <p>The same as used in PREPARE. This must not be declared; it is an undeclared SQL identifier. It can be a literal.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>The descriptor name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-8E6162A4-5D34-4A4B-AEB2-46FDAC7B64CC">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The INTO clause implements the DML returning clause for INSERT, UPDATE and DELETE. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-00B73490-5667-4D86-A0D8-1792BF794A28__GUID-7CB58661-D7B6-40DA-9AF4-824A81C4BBED">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE S1 USING SQL DESCRIPTOR GLOBAL :binddes ;

EXEC SQL EXECUTE S2 USING DESCRIPTOR :bv1 INTO DESCRIPTOR 'SELDES' ;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">The DML Returning Clause</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4097"></a><a id="LNPCC4098"></a><a id="LNPCC4099"></a><a id="LNPCC4100"></a><a id="LNPCC4096"></a><div class="props_rev_3"><a id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D" name="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D"></a><h4 id="LNPCC-GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D" class="sect4"><span class="enumeration_section">14.5.9 </span>Use of EXECUTE IMMEDIATE
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-2310C1A0-ADF0-4917-9DA6-330E230D41C8">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Executes a literal or host variable character string containing the SQL statement.The ANSI SQL form of this statement is the same as in the older Oracle dynamic SQL:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-91DCB6F5-5CC3-46EF-AF6E-96017E842390">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE {:<span class="italic">sql_statement </span>| <span class="italic">string_literal</span>}</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-E22DE205-28F3-49D2-929D-F45CEB33E44B">Variable</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>sql_statement</p>
                        <p>The SQL statement or PL/SQL block in a character string.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC11EA53-B423-478F-A62F-F5639AC8F17D__GUID-77B2A51B-0579-4826-97F0-6E4D950414F0">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE :statement ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4102"></a><a id="LNPCC4103"></a><a id="LNPCC4104"></a><a id="LNPCC4105"></a><a id="LNPCC4101"></a><div class="props_rev_3"><a id="GUID-6B921727-7A70-4280-892B-64444691D28A" name="GUID-6B921727-7A70-4280-892B-64444691D28A"></a><h4 id="LNPCC-GUID-6B921727-7A70-4280-892B-64444691D28A" class="sect4"><span class="enumeration_section">14.5.10 </span>Use of DYNAMIC DECLARE CURSOR
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-88BDCAF9-45B6-486A-BC0E-5C01053D0527">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Declares a cursor that is associated with a statement which is a query. This is a form of the generic Declare Cursor statement.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-9A55CED1-8E8F-4580-B4E4-16CBF36C79EF">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE <span class="italic">cursor_name</span> CURSOR FOR <span class="italic">statement_id;</span></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-30F69975-AF0F-4EE5-9138-0BF551F8EEF2">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>cursor_name</p>
                        <p>A cursor variable (a SQL identifier, not a host variable).</p>
                        <p>statement_id</p>
                        <p>An undeclared SQL identifier.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6B921727-7A70-4280-892B-64444691D28A__GUID-749F6525-580A-4DC8-A576-93E61E8A7768">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE C1 CURSOR FOR S1 ; </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4107"></a><a id="LNPCC4108"></a><a id="LNPCC4109"></a><a id="LNPCC4110"></a><a id="LNPCC4111"></a><a id="LNPCC4106"></a><div class="props_rev_3"><a id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1" name="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1"></a><h4 id="LNPCC-GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1" class="sect4"><span class="enumeration_section">14.5.11 </span>OPEN Cursor
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-000A43F0-8148-427F-BF73-A4088D293BA3">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The OPEN statement associates input parameters with a cursor and then opens the cursor. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-20176522-F128-4564-AFDE-AF430CE9F3EA">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR :<span class="italic">array_size</span>] OPEN <span class="italic">dyn_cursor</span> 
    [[USING [SQL] DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam1 </span>|<span class="italic"> string_literal</span>}]
    [INTO [SQL] DESCRIPTOR [GLOBAL | LOCAL] {<span class="italic">:desc_nam2 </span>|<span class="italic"> string_literal</span>}]] ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-FDD9127E-A2A8-430E-9E81-52B1B01ED3BF">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>This limit is less than or equal to number specified when the descriptor was allocated.</p>
                        <p>dyn_cursor</p>
                        <p>The cursor variable.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>The descriptor name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-FA348FC3-04B0-4254-B510-D0B2C65D78E8">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If the prepared statement associated with the cursor contains colons or question marks, a USING clause must be specified, or an error results at runtime. The DML returning clause is supported. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B721BCBF-F624-419D-B9F6-84B9244A39A1__GUID-C1379A4F-BEF3-4CA3-BCE0-F7DB7E06DF29">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN C1 USING SQL DESCRIPTOR :binddes ;

EXEC SQL FOR :limit OPEN C2 USING DESCRIPTOR :b1, :b2 
   INTO SQL DESCRIPTOR :seldes ;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">The DML Returning Clause</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC4113"></a><a id="LNPCC4114"></a><a id="LNPCC4115"></a><a id="LNPCC4116"></a><a id="LNPCC4117"></a><a id="LNPCC4112"></a><div class="props_rev_3"><a id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC" name="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC"></a><h4 id="LNPCC-GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC" class="sect4"><span class="enumeration_section">14.5.12 </span>FETCH
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-3AC46534-0911-44D4-8C3D-F0A0B8871C49">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Fetches a row for a cursor declared with a dynamic DECLARE statement.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-7F4864AE-A907-47A7-BEAC-7DE0EA58F21D">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL [FOR :<span class="italic">array_size</span>] FETCH <span class="italic">cursor</span> INTO [SQL] DESCRIPTOR 
   [GLOBAL | LOCAL] {<span class="italic">:desc_nam | string_literal</span>} ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-F38CCA1C-C0DB-4F76-B8F8-4BA516AAEE8F">Variables</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>array_size</p>
                        <p>The number of rows the statement will process.</p>
                        <p>cursor</p>
                        <p>The dynamic cursor that was previously declared.</p>
                        <p>GLOBAL | LOCAL</p>
                        <p>The optional scope clause defaults to LOCAL if not entered. A local descriptor can be accessed only in the file in which it is allocated. A global descriptor can be used in any module in the compilation unit.</p>
                        <p>desc_nam</p>
                        <p>Descriptor name.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-64E74F7A-43F6-4847-8547-FD313C44C1A9">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The optional <code class="codeph">array_size </code>in the FOR clause must be less than or equal to the number specified in the ALLOCATE DESCRIPTOR statement.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2B6A37AD-8114-4D1A-BF82-83A3D43EB3FC__GUID-83BB09CC-564B-4522-AE33-E1D8A983F07D">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH FROM C1 INTO DESCRIPTOR 'SELDES' ;

EXEC SQL FOR :arsz FETCH C2 INTO DESCRIPTOR :desc ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4119"></a><a id="LNPCC4120"></a><a id="LNPCC4121"></a><a id="LNPCC4122"></a><a id="LNPCC4118"></a><div class="props_rev_3"><a id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F" name="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F"></a><h4 id="LNPCC-GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F" class="sect4"><span class="enumeration_section">14.5.13 </span>CLOSE a Dynamic Cursor
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-22F5F2FD-0821-449B-B614-1463E7E0CCE8">Purpose</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Closes a dynamic cursor. Syntax has not changed from the older Oracle Method 4:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-3F20F508-E5BA-4787-AFBB-0BBE1767985E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE <span class="italic">cursor</span> ;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-DC8AAF89-F203-4992-AC0E-66292A4A27C7">Variable</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>cursor</p>
                        <p>The dynamic cursor that was previously declared.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-09ABA189-63C4-4A7C-8179-8B4A5698BC5F__GUID-1F1916A2-709F-4AD4-8DC7-DF164296BE8B">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE C1 ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4123"></a><div class="props_rev_3"><a id="GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A" name="GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A"></a><h4 id="LNPCC-GUID-71C2F06E-CAFD-4E7B-AFF3-CBC6451D882A" class="sect4"><span class="enumeration_section">14.5.14 </span>Differences From Oracle Dynamic Method 4
                  </h4>
                  <div>
                     <p>The ANSI dynamic SQL interface supports all the datatypes supported by the Oracle dynamic Method 4, with these additions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All datatypes, including object types, result sets, and LOB types are supported by ANSI Dynamic SQL.</p>
                        </li>
                        <li>
                           <p>The ANSI mode uses an internal <span class="italic">SQL descriptor area</span> which is an expansion of the external SQLDA used in Oracle older dynamic Method 4 to store its input and output information.
                           </p>
                        </li>
                        <li>
                           <p>New embedded SQL statements are introduced: ALLOCATE DESCRIPTOR, DEALLOCATE DESCRIPTOR, DESCRIBE, GET DESCRIPTOR, and SET DESCRIPTOR.</p>
                        </li>
                        <li>
                           <p>The DESCRIBE statement does not return the names of indicator variables in ANSI Dynamic SQL.</p>
                        </li>
                        <li>
                           <p>ANSI Dynamic SQL does not allow you to specify the maximum size of the returned column name or expression. The default size is set at 128.</p>
                        </li>
                        <li>
                           <p>The descriptor name must be either an identifier in single-quotes or a host variable preceded by a colon.</p>
                        </li>
                        <li>
                           <p>For output, the optional SELECT LIST FOR clause in the DESCRIBE is replaced by the optional keyword OUTPUT. The INTO clause is replaced by the USING DESCRIPTOR clause, which can contain the optional keyword SQL.</p>
                        </li>
                        <li>
                           <p>For input, the optional BIND VARIABLES FOR clause of the DESCRIBE can be replaced by the keyword INPUT. The INTO clause is replaced by the USING DESCRIPTOR clause, which can contain the optional keyword SQL.</p>
                        </li>
                        <li>
                           <p>The optional keyword SQL can come before the keyword DESCRIPTOR in the USING clause of the EXECUTE, FETCH and OPEN statements.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC4124"></a><div class="props_rev_3"><a id="GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747" name="GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747"></a><h4 id="LNPCC-GUID-2B1BBBD2-4E13-422C-ACF1-625727D1E747" class="sect4"><span class="enumeration_section">14.5.15 </span>Restrictions (ANSI Dynamic SQL)
                  </h4>
                  <div>
                     <p>Restrictions in effect on ANSI dynamic SQL are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You cannot mix ANSI and Oracle dynamic SQL methods in the same module.</p>
                        </li>
                        <li>
                           <p>The precompiler option DYNAMIC must be set to ANSI. The precompiler option TYPE_CODE can be set to ANSI only if DYNAMIC is set to ANSI.</p>
                        </li>
                        <li>
                           <p>The SET statement supports only host variables as item names.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC4125"></a><div class="props_rev_3"><a id="GUID-F216E6D1-16BA-400A-8C26-75AC9398264A" name="GUID-F216E6D1-16BA-400A-8C26-75AC9398264A"></a><h3 id="LNPCC-GUID-F216E6D1-16BA-400A-8C26-75AC9398264A" class="sect3"><span class="enumeration_section">14.6 </span>Example Programs
               </h3>
               <div>
                  <p>The following two programs are in the demo directory.</p>
               </div><a id="LNPCC4126"></a><div class="props_rev_3"><a id="GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF" name="GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF"></a><h4 id="LNPCC-GUID-9E71C9FC-CBE5-4D50-8977-4B73C12521FF" class="sect4"><span class="enumeration_section">14.6.1 </span>ansidyn1.pc
                  </h4>
                  <div>
                     <div class="section">
                        <p>This program demonstrates using ANSI Dynamic SQL to process SQL statements which are not known until runtime. It is intended to demonstrate the simplest (though not the most efficient) approach to using ANSI Dynamic SQL. It uses ANSI compatible value semantics and ANSI type codes. ANSI SQLSTATE is used for error numbers. Descriptor names are literals. All input and output is through ANSI varying character type.</p>
                        <p>The program connects you to ORACLE using your username and password, then prompts you for a SQL statement. Enter legal SQL or PL/SQL statements using regular, not embedded, SQL syntax and terminate each statement with a semicolon. Your statement will be processed. If it is a query, the fetched rows are displayed.   </p>
                        <p>You can enter multiline statements. The limit is 1023 characters. There is a limit on the size of the variables, MAX_VAR_LEN, defined as 255. This program processes up to 40 bind variables and 40 select-list items. DML returning clauses and user defined types are not supported with value semantics.</p>
                        <p>Precompile the program with mode = ansi, for example:</p><pre class="oac_no_warn" dir="ltr">proc mode=ansi ansidyn1
</pre><p>Using <code class="codeph">mode=ansi</code> will set dynamic and <code class="codeph">type_code</code> to ansi.
                        </p><pre class="oac_no_warn" dir="ltr">/*******************************************************************
ANSI Dynamic Demo 1:  ANSI Dynamic SQL with value semantics,
                                   literal descriptor names
                                   and ANSI type codes

This program demonstates using ANSI Dynamic SQL to process SQL
statements which are not known until runtime.  It is intended to
demonstrate the simplest (though not the most efficient) approach
to using ANSI Dynamic SQL.  It uses ANSI compatible value semantics
and ANSI type codes. ANSI Sqlstate is used for error numbers. 
Descriptor names are literals. All input and output is through ANSI the
varying character type.

The program connects you to ORACLE using your username and password,
then prompts you for a SQL statement.  Enter legal SQL or PL/SQL 
statements using regular, not embedded, SQL syntax and terminate each 
statement with a seimcolon.  Your statement will be processed.  If it
is a query, the fetched rows are displayed.  

You can enter multiline statements.  The limit is 1023 characters.
There is a limit on the size of the variables, MAX_VAR_LEN, defined as 255.
This program processes up to 40 bind variables and 40 select-list items.
DML returning statments and user defined types are not supported with 
value semantics.

Precompile the program with mode=ansi, for example:
 
proc mode=ansi ansidyn1

Using mode=ansi will set dynamic and type_code to ansi.

*******************************************************************/

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;setjmp.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sqlcpr.h&gt;

#define MAX_OCCURENCES 40
#define MAX_VAR_LEN    255
#define MAX_NAME_LEN   31

#ifndef NULL
#define NULL  0
#endif


/* Prototypes */
#if defined(__STDC__)
  void sql_error(void);
  int oracle_connect(void);
  int get_dyn_statement(void);
  int process_input(void);
  int process_output(void);
  void help(void);
#else
  void sql_error(/*_ void _*/);
  int oracle_connect(/*_ void _*/);
  int get_dyn_statement(/* void _*/);
  int process_input(/*_ void _*/);
  int process_output(/*_ void _*/);
  void help(/*_ void _*/);
#endif

EXEC SQL INCLUDE sqlca;

char SQLSTATE[6];

/* global variables */
EXEC SQL BEGIN DECLARE SECTION;
 char    dyn_statement[1024];
 char SQLSTATE[6];
EXEC SQL END DECLARE SECTION;




/* Define a buffer to hold longjmp state info. */
jmp_buf jmp_continue;

/* A global flag for the error routine. */
int parse_flag = 0;
/* A global flag to indicate statement is a select */
int select_found;   

void main()
{

    /* Connect to the database. */
    if (oracle_connect() != 0)
        exit(1);

    EXEC SQL WHENEVER SQLERROR DO sql_error();

    /* Allocate the input and output descriptors. */
    EXEC SQL ALLOCATE DESCRIPTOR 'input_descriptor';
    EXEC SQL ALLOCATE DESCRIPTOR 'output_descriptor';

    /* Process SQL statements. */
    for (;;) 
    {
        (void) setjmp(jmp_continue);

        /* Get the statement.  Break on "exit". */
        if (get_dyn_statement() != 0)
            break;

        /* Prepare the statement and declare a cursor. */
        parse_flag = 1;     /* Set a flag for sql_error(). */
        EXEC SQL PREPARE S FROM :dyn_statement;
        parse_flag = 0;     /* Unset the flag. */

        EXEC SQL DECLARE C CURSOR FOR S;

        /* Call the function that processes the input. */
        if (process_input())
            exit(1);
 
        /* Open the cursor and execute the statement. */
        EXEC SQL OPEN C USING DESCRIPTOR 'input_descriptor';

        /* Call the function that processes the output. */
        if (process_output())
            exit(1);

        /* Close the cursor. */
        EXEC SQL CLOSE C;

    }   /* end of for(;;) statement-processing loop */


    /* Deallocate the descriptors */
    EXEC SQL DEALLOCATE DESCRIPTOR 'input_descriptor';
    EXEC SQL DEALLOCATE DESCRIPTOR 'output_descriptor';

    EXEC SQL WHENEVER SQLERROR CONTINUE;
    EXEC SQL COMMIT WORK;
    puts("\nHave a good day!\n");

    EXEC SQL WHENEVER SQLERROR DO sql_error();
    return;
}



int get_dyn_statement()
{
    char *cp, linebuf[256];
    int iter, plsql;

    for (plsql = 0, iter = 1; ;)
    {
        if (iter == 1)
        {
            printf("\nSQL&gt; ");
            dyn_statement[0] = '\0';
            select_found = 0;
        }
        
        fgets(linebuf, sizeof linebuf, stdin);

        cp = strrchr(linebuf, '\n');
        if (cp &amp;&amp; cp != linebuf)
            *cp = ' ';
        else if (cp == linebuf)
            continue;

        if ((strncmp(linebuf, "SELECT", 6) == 0) ||
            (strncmp(linebuf, "select", 6) == 0))
        {
            select_found=1;;
        }

        if ((strncmp(linebuf, "EXIT", 4) == 0) ||
            (strncmp(linebuf, "exit", 4) == 0))
        {
            return -1;
        }

        else if (linebuf[0] == '?' ||
            (strncmp(linebuf, "HELP", 4) == 0) ||
            (strncmp(linebuf, "help", 4) == 0))
        {
            help();
            iter = 1;
            continue;
        }

        if (strstr(linebuf, "BEGIN") ||
            (strstr(linebuf, "begin")))
        {
            plsql = 1;
        }

        strcat(dyn_statement, linebuf);

        if ((plsql &amp;&amp; (cp = strrchr(dyn_statement, '/'))) ||
            (!plsql &amp;&amp; (cp = strrchr(dyn_statement, ';'))))
        {
            *cp = '\0';
            break;
        }
        else
        {
            iter++;
            printf("%3d  ", iter);
        }
    }
    return 0;
}


int process_input()
{
    int i;
    EXEC SQL BEGIN DECLARE SECTION;
      char name[31];
      int  input_count, input_len, occurs, ANSI_varchar_type;
      char input_buf[MAX_VAR_LEN];
    EXEC SQL END DECLARE SECTION;

    EXEC SQL DESCRIBE INPUT S USING DESCRIPTOR 'input_descriptor';
    EXEC SQL GET DESCRIPTOR 'input_descriptor' :input_count = COUNT; 
       
    ANSI_varchar_type=12;
    for (i=0; i &lt; input_count; i++)
    {
        occurs = i +1;                       /* occurence is 1 based */
        EXEC SQL GET DESCRIPTOR 'input_descriptor' 
                 VALUE :occurs :name = NAME;
        printf ("\nEnter value for input variable %*.*s:  ", 10,31, name);
        fgets(input_buf, sizeof(input_buf), stdin);
        input_len = strlen(input_buf) - 1;  /* get rid of new line */
        input_buf[input_len] = '\0';        /* null terminate */
        EXEC SQL SET DESCRIPTOR 'input_descriptor'
                 VALUE :occurs TYPE = :ANSI_varchar_type, 
                               LENGTH = :input_len,
                               DATA = :input_buf;
    }
    return(sqlca.sqlcode);
}


int process_output()
{
   int i, j;
   EXEC SQL BEGIN DECLARE SECTION;
     int output_count, occurs, type, len, col_len;
     short indi;
     char data[MAX_VAR_LEN], name[MAX_NAME_LEN];
   EXEC SQL END DECLARE SECTION;
   if (!select_found)
       return(0);   

   EXEC SQL DESCRIBE OUTPUT S USING DESCRIPTOR 'output_descriptor';
   
   EXEC SQL GET DESCRIPTOR 'output_descriptor' :output_count = COUNT;


   printf ("\n");
   type = 12;            /* ANSI VARYING character type */
   len = MAX_VAR_LEN;    /* use the max allocated length */
   for (i = 0; i &lt; output_count; i++)
    {
        occurs = i + 1;
        EXEC SQL GET DESCRIPTOR 'output_descriptor' VALUE :occurs
                 :name = NAME;
        printf("%-*.*s ", 9,9, name);
        EXEC SQL SET DESCRIPTOR 'output_descriptor' VALUE :occurs 
                 TYPE = :type, LENGTH = :len;
    }   
    printf("\n");

    /* FETCH each row selected and print the column values. */
    EXEC SQL WHENEVER NOT FOUND GOTO end_select_loop;

    for (;;)
    {
        EXEC SQL FETCH C INTO DESCRIPTOR 'output_descriptor';
        for (i=0; i &lt; output_count; i++)
          {
            occurs = i + 1;
            EXEC SQL GET DESCRIPTOR 'output_descriptor' VALUE :occurs
                 :data = DATA, :indi = INDICATOR;
            if (indi == -1)       
              printf("%-*.*s ", 9,9, "NULL");
            else
              printf("%-*.*s ", 9,9, data);  /* simplified output formatting */ 
                          /* truncation will occur, but columns will line up */
          }                             
         printf ("\n");
    }
end_select_loop:
    return(0);
}



void help()
{
    puts("\n\nEnter a SQL statement or a PL/SQL block at the SQL&gt; prompt.");
    puts("Statements can be continued over several lines, except");
    puts("within string literals.");
    puts("Terminate a SQL statement with a semicolon.");
    puts("Terminate a PL/SQL block (which can contain embedded semicolons)");
    puts("with a slash (/).");
    puts("Typing \"exit\" (no semicolon needed) exits the program.");
    puts("You typed \"?\" or \"help\" to get this message.\n\n");
}


void sql_error()
{
    /* ORACLE error handler */
    printf("\n\nANSI sqlstate: %s: ", SQLSTATE);
    printf ("\n\n%.70s\n",sqlca.sqlerrm.sqlerrmc);
    if (parse_flag)
        printf
        ("Parse error at character offset %d in SQL statement.\n",
           sqlca.sqlerrd[4]);

    EXEC SQL WHENEVER SQLERROR CONTINUE;
    EXEC SQL ROLLBACK WORK;
    longjmp(jmp_continue, 1);
}


int oracle_connect()
{
    EXEC SQL BEGIN DECLARE SECTION;
        VARCHAR  username[128];
        VARCHAR  password[32];
    EXEC SQL END DECLARE SECTION;

    printf("\nusername: ");
    fgets((char *) username.arr, sizeof username.arr, stdin);
    username.arr[strlen((char *) username.arr)-1] = '\0';
    username.len = (unsigned short)strlen((char *) username.arr);

    printf("password: ");
    fgets((char *) password.arr, sizeof password.arr, stdin);
    password.arr[strlen((char *) password.arr) - 1] = '\0';
    password.len = (unsigned short)strlen((char *) password.arr);


    EXEC SQL WHENEVER SQLERROR GOTO connect_error;

    EXEC SQL CONNECT :username IDENTIFIED BY :password;

    printf("\nConnected to ORACLE as user %s.\n", username.arr);

    return 0;

connect_error:
    fprintf(stderr, "Cannot connect to ORACLE as user %s\n", username.arr);
    return -1;
}
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNPCC4127"></a><div class="props_rev_3"><a id="GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40" name="GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40"></a><h4 id="LNPCC-GUID-60184CBB-D503-4E9C-8ECF-A5FBEE320D40" class="sect4"><span class="enumeration_section">14.6.2 </span>ansidyn2.pc
                  </h4>
                  <div>
                     <div class="section">
                        <p>This program demonstrates using ANSI Dynamic SQL to process SQL statements which are not known until runtime. It uses the Oracle extensions for batch processing and reference semantics.</p>
                        <p>The program connects you to ORACLE using your username and password, then prompts you for a SQL statement. Enter legal SQL or PL/SQL statement using interactive, not embedded, SQL syntax, terminating the statement with a semicolon. Your statement will be processed. If it is a query, the fetched rows are displayed. </p>
                        <p>You can enter multiline statements. The limit is 1023 characters. There is a limit on the size of the variables, MAX_VAR_LEN, defined as 255. This program processes up to 40 bind variables and 40 select-list items.</p>
                        <p>Precompile the program with <code class="codeph">dynamic = ansi</code>, for example:
                        </p><pre class="oac_no_warn" dir="ltr">proc dynamic=ansi ansidyn2

/*******************************************************************
ANSI Dynamic Demo 2:  ANSI Dynamic SQL with reference semantics,
                           batch processing and global descriptor
                           names in host variables
                           
This program demonstates using ANSI Dynamic SQL to process SQL
statements which are not known until runtime.  It uses the Oracle
extensions for batch processing and reference semantics.

The program connects you to ORACLE using your username and password,
then prompts you for a SQL statement.  Enter legal SQL or PL/SQL 
statement using interactive, not embedded, SQL syntax, terminating the 
statement with a seimcolon.  Your statement will be processed.  If it
is a query, the fetched rows are displayed. 

If your statement has input bind variables (other than in a where clause),
the program will ask for an input array size and then allow you to enter 
that number of input values. If your statment has output, the program will
ask you for an output array size and will do array fetchng using that value.
It will also output the rows fetched in one batch together, so using a small
value for the output array size will improve the look of the output.  
For example, connected as scott/tiger, try select empno, ename from emp
with an output array size of 4;

You can enter multiline statements.  The limit is 1023 characters.
There is a limit on the size of the variables, MAX_VAR_LEN, defined as 255.
This program processes up to 40 bind variables and 40 select-list items.

Precompile with program with dynamic=ansi, for example:
 
proc dynamic=ansi ansidyn2

*******************************************************************/

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;setjmp.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sqlcpr.h&gt;


#define MAX_OCCURENCES  40
#define MAX_ARRSZ      100
#define MAX_VAR_LEN    255
#define MAX_NAME_LEN    31

#ifndef NULL
#define NULL  0
#endif


/* Prototypes */
#if defined(__STDC__)
  void sql_error(void);
  int oracle_connect(void);
  int get_dyn_statement(void);
  int process_input(void);
  int process_output(void);
  void rows_processed(void);
  void help(void);
#else
  void sql_error(/*_ void _*/);
  int oracle_connect(/*_ void _*/);
  int get_dyn_statement(/* void _*/);
  int process_input(/*_ void _*/);
  int process_output(/*_ void _*/);
  void rows_processed(/*_ void _*/);
  void help(/*_ void _*/);
#endif

EXEC SQL INCLUDE sqlca;

/* global variables */
char    dyn_statement[1024];                      /* statement variable     */
EXEC SQL VAR dyn_statement IS STRING(1024);

char  indesc[]="input_descriptor";                /* descriptor names       */
char outdesc[]="output_descriptor";
char   input[MAX_OCCURENCES][MAX_ARRSZ][MAX_VAR_LEN +1 ],    /* data areas */
      output[MAX_OCCURENCES][MAX_ARRSZ][MAX_VAR_LEN + 1];

short outindi[MAX_OCCURENCES][MAX_ARRSZ];        /* output indicators      */
short *iptr;

int   in_array_size;     /* size of input batch, that is, number of rows */
int   out_array_size;    /* size of input batch, that is, number of rows */
int   max_array_size=MAX_ARRSZ;   /* maximum arrays size used for allocates */

char *dml_commands[] = {"SELECT", "select", "INSERT", "insert",
                        "UPDATE", "update", "DELETE", "delete"};

int select_found, cursor_open = 0;

/* Define a buffer to hold longjmp state info. */
jmp_buf jmp_continue;

/* A global flag for the error routine. */
int parse_flag = 0;

void main()
{

    /* Connect to the database. */
    if (oracle_connect() != 0)
        exit(1);

    EXEC SQL WHENEVER SQLERROR DO sql_error();

    /* Allocate the input and output descriptors. */
    EXEC SQL FOR :max_array_size
             ALLOCATE DESCRIPTOR GLOBAL :indesc;
    EXEC SQL FOR :max_array_size
             ALLOCATE DESCRIPTOR GLOBAL :outdesc;

    /* Process SQL statements. */
    for (;;) 
    {
        (void) setjmp(jmp_continue);

        /* Get the statement.  Break on "exit". */
        if (get_dyn_statement() != 0)
            break;

        /* Prepare the statement and declare a cursor. */
        parse_flag = 1;     /* Set a flag for sql_error(). */
        EXEC SQL PREPARE S FROM :dyn_statement;
        parse_flag = 0;     /* Unset the flag. */

        EXEC SQL DECLARE C CURSOR FOR S;

        /* Call the function that processes the input. */
        if (process_input())
            exit(1);

        /* Open the cursor and execute the statement. */
        EXEC SQL FOR :in_array_size
            OPEN C USING DESCRIPTOR GLOBAL :indesc;
        cursor_open = 1;
 
        /* Call the function that processes the output. */
        if (process_output())
            exit(1);

        /* Tell user how many rows were processed. */
        rows_processed();

    }   /* end of for(;;) statement-processing loop */

 
    /* Close the cursor. */
    if (cursor_open)
      EXEC SQL CLOSE C;

    /* Deallocate the descriptors */
    EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL :indesc;
    EXEC SQL DEALLOCATE DESCRIPTOR GLOBAL :outdesc;

    EXEC SQL WHENEVER SQLERROR CONTINUE;
    EXEC SQL COMMIT WORK RELEASE;
    puts("\nHave a good day!\n");

    EXEC SQL WHENEVER SQLERROR DO sql_error();
    return;
}



int get_dyn_statement()
{
    char *cp, linebuf[256];
    int iter, plsql;

    for (plsql = 0, iter = 1; ;)
    {
        if (iter == 1)
        {
            printf("\nSQL&gt; ");
            dyn_statement[0] = '\0';
            select_found = 0;
        }
        
        fgets(linebuf, sizeof linebuf, stdin);

        cp = strrchr(linebuf, '\n');
        if (cp &amp;&amp; cp != linebuf)
            *cp = ' ';
        else if (cp == linebuf)
            continue;

        if ((strncmp(linebuf, "SELECT", 6) == 0) ||
            (strncmp(linebuf, "select", 6) == 0))
        {
            select_found=1;;
        }

        if ((strncmp(linebuf, "EXIT", 4) == 0) ||
            (strncmp(linebuf, "exit", 4) == 0))
        {
            return -1;
        }

        else if (linebuf[0] == '?' ||
            (strncmp(linebuf, "HELP", 4) == 0) ||
            (strncmp(linebuf, "help", 4) == 0))
        {
            help();
            iter = 1;
            continue;
        }

        if (strstr(linebuf, "BEGIN") ||
            (strstr(linebuf, "begin")))
        {
            plsql = 1;
        }

        strcat(dyn_statement, linebuf);

        if ((plsql &amp;&amp; (cp = strrchr(dyn_statement, '/'))) ||
            (!plsql &amp;&amp; (cp = strrchr(dyn_statement, ';'))))
        {
            *cp = '\0';
            break;
        }
        else
        {
            iter++;
            printf("%3d  ", iter);
        }
    }
    return 0;
}


int process_input()
{
    int i, j;
    char name[31];
    int  input_count, input_len= MAX_VAR_LEN;
    int  occurs, string_type = 5;
    int  string_len;
    char arr_size[3];

    EXEC SQL DESCRIBE INPUT S USING DESCRIPTOR GLOBAL :indesc;
    EXEC SQL GET DESCRIPTOR GLOBAL :indesc :input_count = COUNT; 

    if (input_count &gt; 0 &amp;&amp; !select_found )
       {     /* get input array size */
          printf ("\nEnter value for input array size (max is %d) :  ", 
                           max_array_size);
        fgets(arr_size, 4, stdin);
        in_array_size = atoi(arr_size); 
       }
    else
       { 
         in_array_size = 1;
       }
    for (i=0; i &lt; input_count; i++)
    {
        occurs = i +1;                       /* occurence is 1 based */
        EXEC SQL GET DESCRIPTOR GLOBAL :indesc 
                 VALUE :occurs :name = NAME;

        for (j=0; j &lt; in_array_size; j++)
        {
          if (in_array_size == 1)
            printf ("\nEnter value for input variable %*.*s:  ",10,31, name);
          else 
            printf ("\nEnter %d%s value for input variable %*.*s:  ",
               j +1, ((j==0) ?  "st" :  (j==1) ? "nd" : (j==2) ? "rd" :"th"),
                      10,31, name);
          fgets(input[i][j], sizeof(input[i][j]), stdin);
          string_len = strlen(input[i][j]);
          input[i][j][string_len - 1 ] = '\0';   /* change \n to \0 */
        }
        EXEC SQL SET DESCRIPTOR GLOBAL :indesc
                 VALUE :occurs TYPE = :string_type, LENGTH = :input_len;
        EXEC SQL FOR :in_array_size
                 SET DESCRIPTOR GLOBAL :indesc
                     VALUE :occurs  REF DATA = :input[i];
    }

    return(sqlca.sqlcode);
}


int process_output()
{
   int i, j;
   int output_count, occurs;
   int type, output_len= MAX_VAR_LEN;
   char name[MAX_OCCURENCES][MAX_NAME_LEN];
   int rows_this_fetch=0, cumulative_rows=0;
   char arr_size[3];
   if (!select_found)
      return(0);   
   EXEC SQL DESCRIBE OUTPUT S USING DESCRIPTOR GLOBAL :outdesc;
   
   EXEC SQL GET DESCRIPTOR GLOBAL :outdesc :output_count = COUNT;
  
   if (output_count &gt; 0 )
      {
        printf ("\nEnter value for output array size (max is %d) :  ", 
                       max_array_size);
        fgets(arr_size, 4, stdin);
        out_array_size = atoi(arr_size); 
      }
   if (out_array_size &lt; 1)    /* must have at least one */
       out_array_size = 1;

   printf ("\n");
   
   for (i = 0; i &lt; output_count; i++)
   {
      occurs = i + 1;
      EXEC SQL GET DESCRIPTOR GLOBAL :outdesc VALUE :occurs
               :type = TYPE, :name[i] = NAME;
      occurs = i + 1;                         /* occurence is one based */
      type = 5;  /* force all data to be null terminated character */
      EXEC SQL SET DESCRIPTOR GLOBAL :outdesc VALUE :occurs 
               TYPE = :type, LENGTH = :output_len;
   
      iptr = (short *)&amp;outindi[i]; /* no mult-dimension non-char host vars */
      EXEC SQL FOR :out_array_size
               SET DESCRIPTOR GLOBAL :outdesc VALUE :occurs 
               REF DATA = :output[i], REF INDICATOR = :iptr;
   }   
   
   
   
   EXEC SQL WHENEVER NOT FOUND GOTO end_select_loop;
   
   /* print the column headings */
   for (j=0; j &lt; out_array_size; j++)
      for (i=0; i &lt; output_count; i++)
         printf("%-*.*s ", 9,9, name[i]);
   printf("\n");
   
   /* FETCH each row selected and print the column values. */
   for (;;)
   {
      EXEC SQL FOR :out_array_size 
              FETCH C INTO DESCRIPTOR GLOBAL :outdesc;
      rows_this_fetch = sqlca.sqlerrd[2] - cumulative_rows;
      cumulative_rows = sqlca.sqlerrd[2];
      if (rows_this_fetch)
      for (j=0; j &lt; out_array_size &amp;&amp; j &lt; rows_this_fetch; j++)
      {           /* output by columns using simplified formatting */
         for (i=0; i &lt; output_count; i++)
           {                              
                if (outindi[i][j] == -1)       
                   printf("%-*.*s ", 9, 9, "NULL");
               else
                  printf("%-*.*s ", 9, 9, output[i][j]);  /* simplified */
                              /* output formatting may cause truncation */
                              /* but columns will line up */
           } 
      }
       printf ("\n");
   }

end_select_loop:
   /* print any unprinted rows */
   rows_this_fetch = sqlca.sqlerrd[2] - cumulative_rows;
   cumulative_rows = sqlca.sqlerrd[2];
   if (rows_this_fetch)
     for (j=0; j &lt; out_array_size &amp;&amp; j &lt; rows_this_fetch; j++)
       {           /* output by columns using simplified formatting */
         for (i=0; i &lt; output_count; i++)
           {                              
              if (outindi[i][j] == -1)       
                   printf("%-*.*s ",9, 9, "NULL");
               else
                  printf("%-*.*s ", 9, 9, output[i][j]); 
            } 
        }
   return(0);
}

void rows_processed()
{  
   int i;
   for (i = 0; i &lt; 8; i++)
     {
       if (strncmp(dyn_statement, dml_commands[i], 6) == 0)
         {
            printf("\n\n%d row%c processed.\n", sqlca.sqlerrd[2],
                       sqlca.sqlerrd[2] == 1 ? ' ' : 's');
            break;
         }
     }
   return;
}


void help()
{
    puts("\n\nEnter a SQL statement or a PL/SQL block at the SQL&gt; prompt.");
    puts("Statements can be continued over several lines, except");
    puts("within string literals.");
    puts("Terminate a SQL statement with a semicolon.");
    puts("Terminate a PL/SQL block (which can contain embedded semicolons)");
    puts("with a slash (/).");
    puts("Typing \"exit\" (no semicolon needed) exits the program.");
    puts("You typed \"?\" or \"help\" to get this message.\n\n");
}


void sql_error()
{
    /* ORACLE error handler */
    printf ("\n\n%.70s\n",sqlca.sqlerrm.sqlerrmc);
    if (parse_flag)
        printf
        ("Parse error at character offset %d in SQL statement.\n",
           sqlca.sqlerrd[4]);

    EXEC SQL WHENEVER SQLERROR CONTINUE;
    EXEC SQL ROLLBACK WORK;
    longjmp(jmp_continue, 1);
}


int oracle_connect()
{
    EXEC SQL BEGIN DECLARE SECTION;
        VARCHAR  username[128];
        VARCHAR  password[32];
    EXEC SQL END DECLARE SECTION;

    printf("\nusername: ");
    fgets((char *) username.arr, sizeof username.arr, stdin);
    username.arr[strlen((char *) username.arr)-1] = '\0';
    username.len = (unsigned short)strlen((char *) username.arr);

    printf("password: ");
    fgets((char *) password.arr, sizeof password.arr, stdin);
    password.arr[strlen((char *) password.arr) - 1] = '\0';
    password.len = (unsigned short)strlen((char *) password.arr);


    EXEC SQL WHENEVER SQLERROR GOTO connect_error;

    EXEC SQL CONNECT :username IDENTIFIED BY :password;

    printf("\nConnected to ORACLE as user %s.\n", username.arr);

    return 0;

connect_error:
    fprintf(stderr, "Cannot connect to ORACLE as user %s\n", username.arr);
    return -1;
}

</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04781.object-advanced-topics-in-oci.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter introduces the OCI facility for working with objects in an Oracle Database.">
      <meta name="description" content="This chapter introduces the OCI facility for working with objects in an Oracle Database.">
      <title>Object Advanced Topics in OCI</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter introduces the OCI facility for working with objects in an Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="direct-path-load-interface.html" title="Previous" type="text/html">
      <link rel="next" href="oci-support-for-xml.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="direct-path-load-interface.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-support-for-xml.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">   Object Advanced Topics in OCI</li>
            </ol>
            <a id="GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" name="GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C"></a><a id="LNOCI130"></a>
            
            <h2 id="LNOCI-GUID-B2FBDC75-64BD-4E7E-A713-5095A827EA9C" class="sect2"><span class="enumeration_chapter">22 </span>   Object Advanced Topics in OCI
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter introduces the OCI facility for working with objects in an Oracle Database.</p>
               <p>It also discusses the object navigational function calls, type evolution, and support for XML produced by OCI.</p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" title="The object cache is a client-side memory buffer that provides lookup and memory management support for objects.">Object Cache and Memory Management</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" title="This section discusses how OCI applications can navigate through graphs of objects in the object cache.">Object Navigation</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" title="This section provides a brief summary of the available OCI navigational functions.">OCI Navigational Functions</a></p>
                  </li>
                  <li>
                     <p><a href="object-advanced-topics-in-oci.html#GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" title="When type information is requested based on the type name, OCI returns the type descriptor object (TDO) corresponding to the latest version of the type.">Type Evolution and the Object Cache</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16984"></a><a id="LNOCI16983"></a><div class="props_rev_3"><a id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" name="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1"></a><h3 id="LNOCI-GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1" class="sect3"><span class="enumeration_section">22.1 </span>Object Cache and Memory Management
               </h3>
               <div>
                  <p>The object cache is a client-side memory buffer that provides lookup and memory management support for objects. </p>
                  <p>It stores and tracks object instances that have been fetched by an OCI application. The object cache provides memory management.</p>
                  <p>When objects are fetched by the application through a SQL <code class="codeph">SELECT</code> statement, or through an OCI pin operation, a copy of the object is stored in the object cache. Objects that are fetched directly through a <code class="codeph">SELECT</code> statement are fetched <span class="italic">by value</span>, and they are nonreferenceable objects that cannot be pinned. Only referenceable objects can be pinned.
                  </p>
                  <p>If an object is being pinned, and an appropriate version exists in the cache, it does not need to be fetched from the server.</p>
                  <p>Every client program that uses OCI to dereference <code class="codeph">REF</code>s to retrieve objects utilizes the object cache. A client-side object cache is allocated for every OCI environment handle initialized in object mode. Multiple threads of a process can share the same client-side cache by sharing the same OCI environment handle.
                  </p>
                  <p>Exactly one copy of each referenceable object exists in the cache for each connection. The object cache is logically partitioned by the connection.</p>
                  <p>Dereferencing a <code class="codeph">REF</code> many times or dereferencing several equivalent <code class="codeph">REF</code>s in the same connection returns the same copy of the object.
                  </p>
                  <p>If you modify a copy of an object in the cache, you must flush the changes to the server before they are visible to other processes. Objects that are no longer needed can be unpinned or freed; they can then be swapped out of the cache, freeing the memory space they occupied.</p>
                  <p>When database objects are loaded into the cache, they are transparently mapped into the C language structures. The object cache maintains the association between all object copies in the cache and their corresponding objects in the database. When the transaction is committed, changes made to the object copy in the cache are automatically propagated to the database.</p>
                  <p>The cache does not manage the contents of object copies; it does not automatically refresh object copies. The application must ensure the correctness and consistency of the contents of object copies. For example, if the application marks an object copy for insert, update, or delete, and then terminates the transaction, the cache simply unmarks the object copy but does not purge or invalidate the copy. The application must pin <span class="italic">recent</span> or <span class="italic">latest</span>, or refresh the object copy in the next transaction. If it pins <span class="italic">any</span>, it may get the same object copy with its uncommitted changes from the previous terminated transaction.
                  </p>
                  <p>The object cache is created when the OCI environment is initialized using <code class="codeph">OCIEnvCreate()</code> with <code class="codeph">mode</code> set to <code class="codeph">OCI_OBJECT</code>.
                  </p>
                  <p>The object cache maintains a fast lookup table for mapping <code class="codeph">REF</code>s to objects. When an application dereferences a <code class="codeph">REF</code> and the corresponding object is not yet cached in the object cache, the object cache automatically sends a request to the server to fetch the object from the database and load it into the object cache. 
                  </p>
                  <p>Subsequent dereferences of the same <code class="codeph">REF</code> are faster because they use local cache access and do not incur network round-trips. To notify the object cache that an application is accessing an object in the cache, the application pins the object; when it is done with the object, it should unpin it. The object cache maintains a pin count for each object in the cache; the count is incremented upon a pin call, and an unpin call decrements it. The pin count goes to zero when the object is no longer needed by the application. 
                  </p>
                  <p>The object cache uses a least recently used (LRU) algorithm to manage the size of the cache. The LRU algorithm frees candidate objects when the cache reaches the maximum size. The candidate objects are objects with a pin count of zero.</p>
                  <p>Each application process running against the same server has its own object cache, as shown in <a href="object-advanced-topics-in-oci.html#GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__I444407">Figure 22-1</a>.
                  </p>
                  <div class="figure" id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__I444407">
                     <p class="titleinfigure">Figure 22-1 Object Cache</p><img src="img/lnoci028.gif" alt="Description of Figure 22-1 follows" title="Description of Figure 22-1 follows" longdesc="img_text/lnoci028.html"><br><a href="img_text/lnoci028.html">Description of "Figure 22-1 Object Cache"</a></div>
                  <!-- class="figure" -->
                  <p>The object cache tracks the objects that are currently in memory, maintains references to the objects, manages automatic object swapping, and tracks object meta-attributes.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" title="The object cache does not automatically maintain value coherency or consistency between object copies and their corresponding objects in the database.">Cache Consistency and Coherency</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" title="The object cache has two important parameters associated with it, which are attributes of the environment handle.">Object Cache Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" title="This section describes the most important functions that the object cache provides to operate on object copies.">Object Cache Operations</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" title="Pin, unpin, and free functions are discussed in this section.">About Loading and Removing Object Copies</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" title="Functions for marking and unmarking object copies are discussed in this section.">About Making Changes to Object Copies</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-55D30393-27ED-430B-BFCC-A25100D109F2" title="Cache and server synchronization operations (flushing, refreshing) are discussed in this section.">About Synchronizing Object Copies with the Server</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" title="OCI functions related to object locking are discussed in this section.">Object Locking</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-B0236408-75F1-47C4-880B-FCA003A1C697" title="When a transaction is committed (OCITransCommit()), all marked objects are flushed to the server.">Commit and Rollback in Object Applications</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" title="To maintain free space in memory, the object cache attempts to reuse objects' memory whenever possible. The object cache reuses an object's memory when the object's lifetime (allocation duration) expires or when the object's pin duration expires.">Object Duration</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" title="An instance in memory is composed of a top-level memory chunk of the instance, a top-level memory of the null indicator structure and optionally, some secondary memory chunks.">Memory Layout of an Instance</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-702B4236-3993-46E0-BCB6-1A2FC7E056C1__GUID-82C8CA51-9DEC-4DD4-BE66-731FB247F1D8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2">About Pinning an Object Copy</a></p>
                        </li>
                        <li>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16985"></a><div class="props_rev_3"><a id="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" name="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2"></a><h4 id="LNOCI-GUID-2B545D37-821F-4410-B087-F00C5A8F35B2" class="sect4"><span class="enumeration_section">22.1.1 </span>Cache Consistency and Coherency
                  </h4>
                  <div>
                     <p>The object cache does not automatically maintain value coherency or consistency between object copies and their corresponding objects in the database. </p>
                     <p>In other words, if an application makes changes to an object copy, the changes are not automatically applied to the corresponding object in the database, and vice versa. The cache provides operations such as flushing a modified object copy to the database and refreshing a stale object copy with the latest value from the database to enable the program to maintain some coherency.</p>
                     <div class="infoboxnote" id="GUID-2B545D37-821F-4410-B087-F00C5A8F35B2__GUID-9739AE10-1FF2-455F-8825-2BF9A40D238B">
                        <p class="notep1">Note:</p>
                        <p>Oracle Database does not support automatic cache coherency with the server's buffer cache or database. Automatic cache coherency refers to the mechanism by which the object cache refreshes local object copies when the corresponding objects have been modified in the server's buffer cache. This mechanism occurs when the object cache flushes the changes made to local object copies to the buffer cache before any direct access of corresponding objects in the server. Direct access includes using SQL, triggers, or stored procedures to read or modify objects in the server.</p>
                     </div>
                  </div>
               </div><a id="LNOCI16986"></a><div class="props_rev_3"><a id="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" name="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897"></a><h4 id="LNOCI-GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" class="sect4"><span class="enumeration_section">22.1.2 </span>Object Cache Parameters
                  </h4>
                  <div>
                     <p>The object cache has two important parameters associated with it, which are attributes of the environment handle.</p>
                     <p>They include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code> &#x2013; The maximum cache size
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code> &#x2013; The optimal cache size
                           </p>
                        </li>
                     </ul>
                     <p>These parameters refer to levels of cache memory usage, and they help determine when the cache automatically ages out eligible objects to free up memory.</p>
                     <p>If the memory occupied by the objects currently in the cache reaches or exceeds the maximum cache size, the cache automatically begins to free (or ages out) unmarked objects that have a pin count of zero. The cache continues freeing such objects until memory usage in the cache reaches the optimal size, or until it runs out of objects eligible for freeing. Note that the cache can grow beyond the specified maximum cache size.</p>
                     <p><code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code> is specified as a percentage of <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code>. The maximum object cache size (in bytes) is computed by incrementing <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code> by the <code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code> percentage, using the following algorithm:
                     </p><pre class="oac_no_warn" dir="ltr">maximum_cache_size = optimal_size + optimal_size * max_size_percentage / 100
</pre><p>Next, represent the algorithm in terms of environment handle attributes.</p><pre class="oac_no_warn" dir="ltr">maximum_cache_size = OCI_ATTR_CACHE_OPT_SIZE + OCI_ATTR_CACHE_OPT_SIZE * 
                                            OCI_ATTR_CACHE_MAX_SIZE / 100
</pre><p>You can set the value of <code class="codeph">OCI_ATTR_CACHE_MAX_SIZE</code> at 10% (the default) of the <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code>. The default value for <code class="codeph">OCI_ATTR_CACHE_OPT_SIZE</code> is 8 MB.
                     </p>
                     <p>The cache size attributes of the environment handle can be set with the <code class="codeph">OCIAttrSet()</code> call and retrieved with the <code class="codeph">OCIAttrGet()</code> function.
                     </p>
                     <div class="infoboxnotealso" id="GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897__GUID-386F1089-E5A8-424C-89D5-8F4CB069B187">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8" title="Lists and describes environment handle attributes.">Environment Handle Attributes</a> for more information
                              </p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16987"></a><div class="props_rev_3"><a id="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" name="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1"></a><h4 id="LNOCI-GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1" class="sect4"><span class="enumeration_section">22.1.3 </span>Object Cache Operations
                  </h4>
                  <div>
                     <p>This section describes the most important functions that the object cache provides to operate on object copies.</p>
                     <p></p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" title="Pinning an object copy enables the application to access it in the cache by dereferencing the REF to it.">About Pinning and Unpinning</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" title="What about freeing an object. What does it do.">About Freeing</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" title="Marking an object notifies the cache that an object copy has been updated in the cache and the corresponding object must be updated in the server when the object copy is flushed.">About Marking and Unmarking</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" title="Flushing an object writes local changes made to marked object copies in the cache to the corresponding objects in the server.">About Flushing</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" title="Refreshing an object copy in the cache replaces it with the latest value of the corresponding object in the server.">About Refreshing</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-ACA41D5E-CA18-4526-8723-66E4B7BAAEA1__GUID-7107D3FA-2288-4EA5-8DC8-50C1DE0E1548">
                        <p class="notep1">See Also:</p>
                        <p><a href="object-advanced-topics-in-oci.html#GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" title="This section provides a brief summary of the available OCI navigational functions.">OCI Navigational Functions</a> for a list of all the OCI navigational, cache, and object management functions
                        </p>
                     </div>
                  </div><a id="LNOCI16988"></a><div class="props_rev_3"><a id="GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" name="GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897"></a><h5 id="LNOCI-GUID-1EDB789E-97FE-42CB-AC08-71C2AB185897" class="sect5"><span class="enumeration_section">22.1.3.1 </span>About Pinning and Unpinning
                     </h5>
                     <div>
                        <p>Pinning an object copy enables the application to access it in the cache by dereferencing the <code class="codeph">REF</code> to it.
                        </p>
                        <p></p>
                        <p>Unpinning an object indicates to the cache that the object currently is not being used. Objects should be unpinned when they are no longer needed to make them eligible for implicit freeing by the cache, thus freeing up memory.</p>
                     </div>
                  </div><a id="LNOCI16989"></a><div class="props_rev_3"><a id="GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" name="GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2"></a><h5 id="LNOCI-GUID-75659086-ECEE-4CD3-A419-E44EF30D09A2" class="sect5"><span class="enumeration_section">22.1.3.2 </span>About Freeing
                     </h5>
                     <div>
                        <p>What about freeing an object. What does it do.</p>
                        <p>Freeing an object copy removes it from the cache and frees its memory.</p>
                     </div>
                  </div><a id="LNOCI16990"></a><div class="props_rev_3"><a id="GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" name="GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9"></a><h5 id="LNOCI-GUID-C31A0A90-B272-4751-ADD1-C1125FAFF7B9" class="sect5"><span class="enumeration_section">22.1.3.3 </span>About Marking and Unmarking
                     </h5>
                     <div>
                        <p>Marking an object notifies the cache that an object copy has been updated in the cache and the corresponding object must be updated in the server when the object copy is flushed.</p>
                        <p></p>
                        <p>Unmarking an object removes the indication that the object has been updated.</p>
                     </div>
                  </div><a id="LNOCI16991"></a><div class="props_rev_3"><a id="GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" name="GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A"></a><h5 id="LNOCI-GUID-198AE896-EE97-4DCD-AB12-E8B40C4F9E6A" class="sect5"><span class="enumeration_section">22.1.3.4 </span>About Flushing
                     </h5>
                     <div>
                        <p>Flushing an object writes local changes made to marked object copies in the cache to the corresponding objects in the server.</p>
                        <p>When this happens, the copies in the object cache are unmarked.</p>
                     </div>
                  </div><a id="LNOCI16992"></a><div class="props_rev_3"><a id="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" name="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0"></a><h5 id="LNOCI-GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0" class="sect5"><span class="enumeration_section">22.1.3.5 </span>About Refreshing
                     </h5>
                     <div>
                        <p>Refreshing an object copy in the cache replaces it with the latest value of the corresponding object in the server.</p>
                        <p>Note that pointers to top-level object memory are valid after a refresh. However, pointers to secondary-level memory (for example, string text pointers, collections, and so on) may become invalid after a refresh.</p>
                        <p>For example, if the object is of type <code class="codeph">person</code> with two attributes: <code class="codeph">salary (number)</code>, and <code class="codeph">name (varchar2(20)</code>). The type is: 
                        </p><pre class="oac_no_warn" dir="ltr">struct Person {
OCINumber salary;
OCIString *name;
}
</pre><p>If the client has a pointer <code class="codeph">scott_p</code> to <code class="codeph">Person</code> instance, and calls <code class="codeph">OCIObjectRefresh()</code> on that instance, the pointer <code class="codeph">scott_p</code> is still the same after the refresh, but the pointers to second-level memory, such as <code class="codeph">scott_p-&gt;name</code>, can be different.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3276320C-BBEF-45D0-8608-AB8A744AFDE0__GUID-29975189-3D2C-4BBB-9E8C-037B7A4891D4">
                           <p class="notep1">See Also:</p>
                           <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="Refreshes a persistent object from the most current database snapshot.">OCIObjectRefresh()</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16993"></a><div class="props_rev_3"><a id="GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" name="GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B"></a><h4 id="LNOCI-GUID-C313BAF2-F0C5-4049-B23A-FE680803DB4B" class="sect4"><span class="enumeration_section">22.1.4 </span>About Loading and Removing Object Copies
                  </h4>
                  <div>
                     <p>Pin, unpin, and free functions are discussed in this section.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2">About Pinning an Object Copy</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" title="An object copy can be unpinned when it is no longer used by the program.">About Unpinning an Object Copy</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" title="Freeing an object copy removes it from the object cache and frees up its memory.">About Freeing an Object Copy</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16994"></a><div class="props_rev_3"><a id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2" name="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2"></a><h5 id="LNOCI-GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2" class="sect5"><span class="enumeration_section">22.1.4.1 </span>About Pinning an Object Copy
                     </h5>
                     <div>
                        <p></p>
                        <p>When an application must dereference a <code class="codeph">REF</code> in the object cache, it calls <code class="codeph">OCIObjectPin()</code>. This call dereferences the <code class="codeph">REF</code> and pins the object copy in the cache. As long as the object copy is pinned, it is guaranteed to be accessible by the application. <code class="codeph">OCIObjectPin()</code> takes a pin option, <span class="italic">any</span>, <span class="italic">recent</span>, or <span class="italic">latest</span>. The data type of the pin option is <code class="codeph">OCIPinOpt</code>.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the <span class="italic">any</span> (<code class="codeph">OCI_PIN_ANY</code>) option is specified, the object cache immediately returns the object copy that is in the cache, if one exists. If no copy is in the cache, the object cache loads the latest object copy from the database and then returns the object copy. The <span class="italic">any</span> option is appropriate for read-only, informational, fact, or meta objects, such as products, sales representatives, vendors, regions, parts, or offices. These objects usually do not change often, and even if they change, the change does not affect the application.
                              </p>
                              <p>Note that the object cache looks for the object copy only within the logical partition of the cache for the specified connection. If there is no copy in the partition, the latest copy of the object is loaded from the server.</p>
                           </li>
                           <li>
                              <p>If the <span class="italic">latest</span> (<code class="codeph">OCI_PIN_LATEST</code>) option is specified, the object cache loads into the cache the latest object copy from the database. It returns that copy unless the object copy is locked in the cache, in which case the marked object copy is returned immediately. If the object is in the cache and not locked, the latest object copy is loaded and overwrites the existing one. The <span class="italic">latest</span> option is appropriate for operational objects, such as purchase orders, bugs, line items, bank accounts, or stock quotes. These objects usually change often, and it is important that the program access these objects at their latest possible state.
                              </p>
                           </li>
                           <li>
                              <p>If the <span class="italic">recent</span> (<code class="codeph">OCI_PIN_RECENT</code>) option is specified, there are two possibilities:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If in the same transaction the object copy has been previously pinned using the <span class="italic">latest</span> or <span class="italic">recent</span> option, the <span class="italic">recent</span> option becomes equivalent to the <span class="italic">any</span> option. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the previous condition does not apply, the <span class="italic">recent</span> option becomes equivalent to the <span class="italic">latest</span> option.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>When the program pins an object, the program also specifies one of two possible values for the pin duration: <span class="italic">session</span> or <span class="italic">transaction</span>. The data type of the duration is <code class="codeph">OCIDuration</code>.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the pin duration is <span class="italic">session</span> (<code class="codeph">OCI_DURATION_SESSION</code>), the object copy remains pinned until the end of session (that is, end of connection) or until it is unpinned explicitly by the program (by calling <code class="codeph">OCIObjectUnpin()</code>).
                              </p>
                           </li>
                           <li>
                              <p>If the pin duration is <span class="italic">transaction</span> (<code class="codeph">OCI_DURATION_TRANS</code>), the object copy remains pinned until the end of transaction or until it is unpinned explicitly.
                              </p>
                           </li>
                        </ul>
                        <p>When loading an object copy into the cache from the database, the cache effectively executes the following statement:</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE(t) FROM t WHERE REF(t) = :r
</pre><p>In this statement, <code class="codeph">t</code> is the object table storing the object, <code class="codeph">r</code> is the <code class="codeph">REF</code>, and the fetched value becomes the value of the object copy in the cache.
                        </p>
                        <p>Because the object cache effectively executes a separate <code class="codeph">SELECT</code> statement to load each object copy into the cache, in a read-committed transaction, object copies are not guaranteed to be read-consistent with each other.
                        </p>
                        <p>In a serializable transaction, object copies pinned as <span class="italic">recent</span> or <span class="italic">latest</span> are read-consistent with each other because the <code class="codeph">SELECT</code> statements to load these object copies are executed based on the same database snapshot.
                        </p>
                        <p>Read-committed and serialized transactions refer to different isolation levels that a database can support. There are other isolation levels also, such as read-uncommitted, repeatable read, and so on.   Each isolation level permits more or less interference among concurrent transactions. Typically, when an isolation level permits more interference, simultaneous transactions have higher concurrency. In a read-committed transaction, when a query is executed multiple times, this type of transaction can produce inconsistent sets of data because it allows changes made by other committed transactions to be seen. This does not happen in serializable transactions.</p>
                        <p>The object cache model is orthogonal to or independent of the Oracle Database transaction model. The behavior of the object cache does not change based on the transaction model, even though the objects that are retrieved from the server through the object cache can be different when running the same program under different transaction models (for example, read-committed versus serializable).</p>
                        <div class="infoboxnote" id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2__GUID-8B93AF7C-2618-4BB2-9C48-90809AE09A93">
                           <p class="notep1">Note:</p>
                           <p>For <code class="codeph">OCIObjectArrayPin()</code> the pin option has no effect, because objects are always retrieved from the database. If a <code class="codeph">REF</code> is to an object in the cache, <code class="codeph">OCIObjectArrayPin()</code> fails with:
                           </p><pre class="oac_no_warn" dir="ltr">ORA-22881: dangling REF</pre></div>
                        <div class="infoboxnotealso" id="GUID-99819CA5-F2A7-4BFE-A9E4-5BD76C573CB2__GUID-D66D6885-7462-4777-A4A6-8A6A51837980">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="Pins an array of references.">OCIObjectArrayPin()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16995"></a><div class="props_rev_3"><a id="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" name="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E"></a><h5 id="LNOCI-GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E" class="sect5"><span class="enumeration_section">22.1.4.2 </span>About Unpinning an Object Copy
                     </h5>
                     <div>
                        <p>An object copy can be unpinned when it is no longer used by the program. </p>
                        <p>It then becomes available to be freed. An object copy must be both completely unpinned and unmarked to become eligible to be implicitly freed by the cache when the cache begins to run out of memory. To be completely unpinned, an object copy that has been pinned <span class="italic">n</span> times must be unpinned <span class="italic">n</span> times. 
                        </p>
                        <p>An unpinned but marked object copy is not eligible for implicit freeing until the object copy is flushed or explicitly unmarked by the user. However, the object cache implicitly frees object copies only when it begins to run out of memory, so an unpinned object copy need not necessarily be freed. If it has not been implicitly freed and is pinned again (with the any or recent options), the program gets the same object copy.</p>
                        <p>An application calls <code class="codeph">OCIObjectUnpin()</code> or <code class="codeph">OCIObjectPinCountReset()</code> to unpin an object copy. In addition, a program can call <code class="codeph">OCICacheUnpin()</code> to completely unpin all object copies in the cache for a specific connection.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FFB44FF2-FB28-4473-9DEC-1BCEFA80D60E__GUID-E50C1863-12D8-481A-B6B3-AE3ECD673366">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="Unpins an object.">OCIObjectUnpin()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="Completely unpins an object, setting its pin count to zero.">OCIObjectPinCountReset()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="Unpins persistent objects.">OCICacheUnpin()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16996"></a><div class="props_rev_3"><a id="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" name="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22"></a><h5 id="LNOCI-GUID-51E18790-5949-4D5B-9708-7749CA7B8E22" class="sect5"><span class="enumeration_section">22.1.4.3 </span>About Freeing an Object Copy
                     </h5>
                     <div>
                        <p>Freeing an object copy removes it from the object cache and frees up its memory. </p>
                        <p>The cache supports two methods for freeing up memory:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Explicit freeing &#x2013; A program explicitly frees or removes an object copy from the cache by calling <code class="codeph">OCIObjectFree()</code>, which takes an option to (forcefully) free either a marked or pinned object copy. The program can also call <code class="codeph">OCIObjectFree()</code> to free all object copies in the cache.
                              </p>
                           </li>
                           <li>
                              <p>Implicit freeing &#x2013; if the cache begins to run out of memory, it implicitly frees object copies that are both unpinned and unmarked. Unpinned objects that are marked are eligible for implicitly freeing only when the object copy is flushed or unmarked. </p>
                           </li>
                        </ul>
                        <p>For memory management reasons, it is important that applications unpin objects when they are no longer needed. This makes these objects available for aging out of the cache, and makes it easier for the cache to free memory when necessary.</p>
                        <p>OCI does not provide a function to free unreferenced objects in the client-side cache.</p>
                        <div class="infoboxnotealso" id="GUID-51E18790-5949-4D5B-9708-7749CA7B8E22__GUID-CA58646B-FD12-42B5-976F-42615CAA02A3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="object-advanced-topics-in-oci.html#GUID-FE7E03F3-EE0D-438C-B92B-BF125DFAB897" title="The object cache has two important parameters associated with it, which are attributes of the environment handle.">Object Cache Parameters</a> for more information
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="Frees and unpins an object instance.">OCIObjectFree()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16997"></a><div class="props_rev_3"><a id="GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" name="GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837"></a><h4 id="LNOCI-GUID-2AFFDE26-7ED6-4A4E-9B81-0CC5A1D5D837" class="sect4"><span class="enumeration_section">22.1.5 </span>About Making Changes to Object Copies
                  </h4>
                  <div>
                     <p>Functions for marking and unmarking object copies are discussed in this section.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" title="An object copy can be created, updated, and deleted locally in the cache.">About Marking an Object Copy</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-3D034011-F414-4E0F-88E9-8CB457696179" title="A marked object copy can be unmarked in the object cache.">About Unmarking an Object Copy</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16998"></a><div class="props_rev_3"><a id="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" name="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0"></a><h5 id="LNOCI-GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0" class="sect5"><span class="enumeration_section">22.1.5.1 </span>About Marking an Object Copy
                     </h5>
                     <div>
                        <p>An object copy can be created, updated, and deleted locally in the cache. </p>
                        <p>If the object copy is created in the cache (by calling <code class="codeph">OCIObjectNew()</code>), the object copy is marked for insert by the object cache, so that the object is inserted in the server when the object copy is flushed.
                        </p>
                        <p>If the object copy is updated in the cache, the user must notify the object cache by marking the object copy for update (by calling <code class="codeph">OCIObjectMarkUpdate()</code>). When the object copy is flushed, the corresponding object in the server is updated with the value in the object copy.
                        </p>
                        <p>If the object copy is deleted, the object copy is marked for delete in the object cache (by calling <code class="codeph">OCIObjectMarkDelete()</code>). When the object copy is flushed, the corresponding object in the server is deleted. The memory of the marked object copy is not freed until it is flushed and unpinned. When pinning an object marked for delete, the program receives an error, as if the program is dereferencing a dangling reference.
                        </p>
                        <p>When a user makes multiple changes to an object copy, it is the final results of these changes that are applied to the object in the server when the copy is flushed. For example, if the user updates and deletes an object copy, the object in the server is deleted when the object copy is flushed. Similarly, if an attribute of an object copy is updated multiple times, it is the final value of this attribute that is updated in the server when the object copy is flushed.</p>
                        <p>The program can mark an object copy as updated or deleted only if the object copy has been loaded into the object cache.</p>
                        <div class="infoboxnotealso" id="GUID-B946568A-E52D-424C-87EC-BCD7A177EFB0__GUID-54F9078F-33A9-4241-A4E8-3592628CF54A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="Marks a persistent object as updated (dirty).">OCIObjectMarkUpdate()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-46497858-8E6C-4920-857C-83FFC8B0F7C1" title="Marks a standalone instance as deleted, when given a pointer to the instance.">OCIObjectMarkDelete()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16999"></a><div class="props_rev_3"><a id="GUID-3D034011-F414-4E0F-88E9-8CB457696179" name="GUID-3D034011-F414-4E0F-88E9-8CB457696179"></a><h5 id="LNOCI-GUID-3D034011-F414-4E0F-88E9-8CB457696179" class="sect5"><span class="enumeration_section">22.1.5.2 </span>About Unmarking an Object Copy
                     </h5>
                     <div>
                        <p>A marked object copy can be unmarked in the object cache. </p>
                        <p>By unmarking a marked object copy, the program ensures that the changes that are made to the object copy are not flushed to the server. The object cache does not undo the local changes that are made to the object copy.</p>
                        <p>A program calls <code class="codeph">OCIObjectUnmark()</code> to unmark an object. In addition, a program can call <code class="codeph">OCICacheUnmark()</code> to unmark all object copies in the cache for a specific connection.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3D034011-F414-4E0F-88E9-8CB457696179__GUID-ABCBCA97-B85E-4C90-96BF-912032841250">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-41C686AE-4C80-4539-80AF-4150680A02A5" title="Unmarks an object as dirty.">OCIObjectUnmark()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-BADD75E5-0C72-4364-911D-2DF59BF642C8" title="Unmarks all dirty objects in the object cache.">OCICacheUnmark()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17000"></a><div class="props_rev_3"><a id="GUID-55D30393-27ED-430B-BFCC-A25100D109F2" name="GUID-55D30393-27ED-430B-BFCC-A25100D109F2"></a><h4 id="LNOCI-GUID-55D30393-27ED-430B-BFCC-A25100D109F2" class="sect4"><span class="enumeration_section">22.1.6 </span>About Synchronizing Object Copies with the Server
                  </h4>
                  <div>
                     <p>Cache and server synchronization operations (flushing, refreshing) are discussed in this section.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" title="When the program flushes the object copy, it writes the local changes made to a marked object copy in the cache to the server.">About Flushing Changes to the Server</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" title="When refreshed, an object copy is reloaded with the latest value of the corresponding object in the server.">About Refreshing an Object Copy</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17001"></a><div class="props_rev_3"><a id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" name="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9"></a><h5 id="LNOCI-GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9" class="sect5"><span class="enumeration_section">22.1.6.1 </span>About Flushing Changes to the Server
                     </h5>
                     <div>
                        <p>When the program flushes the object copy, it writes the local changes made to a marked object copy in the cache to the server.</p>
                        <p>The program can call <code class="codeph">OCIObjectFlush()</code> to flush a single object copy. The program can call <code class="codeph">OCICacheFlush()</code> to flush all marked object copies in the cache or a list of selected marked object copies. <code class="codeph">OCICacheFlush()</code> flushes objects associated with a specific service context. See <code class="codeph">OCICacheFlush()</code>.
                        </p>
                        <p>After the object copy is flushed, it is unmarked. (Note that the object is locked in the server after it is flushed; the object copy is therefore marked as locked in the cache.)</p>
                        <div class="infoboxnote" id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9__GUID-46737B5D-8E39-409E-AFBD-8D72CA2A7CE6">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">OCIObjectFlush()</code> operation incurs only a single server round-trip even if multiple objects are being flushed.
                           </p>
                        </div>
                        <p>The callback function (an optional argument to the <code class="codeph">OCIObjectFlush()</code> call) enables an application to flush only dirty objects of a certain type. The application can define a callback that returns only the desired objects. In this case, the operation still incurs only a single server round-trip for the flush.
                        </p>
                        <p>In the default mode during <code class="codeph">OCIObjectFlush()</code>, the objects are flushed in the order that they are marked dirty. The performance of this flush operation can be considerably improved by setting the <code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code> attribute in the environment handle. 
                        </p>
                        <p>However, the <code class="codeph">OCI_ATTR_CACHE_ARRAYFLUSH</code> attribute should be used only if the order in which the objects are flushed is not important. While this attribute is in effect, the dirty objects are grouped together and sent to the server in a manner that enables the server to efficiently update its tables. When this attribute is enabled, it is not guaranteed that the order in which the objects are marked dirty is preserved.
                        </p>
                        <div class="infoboxnotealso" id="GUID-8E4590BA-6338-4FF6-A269-C2E4CF632EE9__GUID-D1A9B75A-791C-4059-A0BD-3057F2AE93FE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8" title="Lists and describes environment handle attributes.">Environment Handle Attributes</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="Flushes modified persistent objects to the server.">OCICacheFlush()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17003"></a><a id="LNOCI17002"></a><div class="props_rev_3"><a id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" name="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42"></a><h5 id="LNOCI-GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42" class="sect5"><span class="enumeration_section">22.1.6.2 </span>About Refreshing an Object Copy
                     </h5>
                     <div>
                        <p>When refreshed, an object copy is reloaded with the latest value of the corresponding object in the server.</p>
                        <p>The latest value may contain changes made by other committed transactions and changes made directly (not through the object cache) in the server by the transaction. The program can change objects directly in the server using SQL DML, triggers, or stored procedures.</p>
                        <p>To refresh a marked object copy, the program must first unmark the object copy. An unpinned object copy is freed when it is refreshed (that is, when the whole cache is refreshed).</p>
                        <p>The program can call <code class="codeph">OCIObjectRefresh()</code> to refresh a single object copy or <code class="codeph">OCICacheRefresh()</code> to refresh all object copies in the cache, all object copies that are loaded in a transaction (that is, object copies that are pinned recent or pinned latest), or a list of selected object copies.
                        </p>
                        <p>When an object is flushed to the server, triggers can be fired to modify more objects in the server. The same objects (modified by the triggers) in the object cache become out-of-date, and must be refreshed before they can be locked or flushed.</p>
                        <p>The various meta-attribute flags and durations of an object are modified as described in <a href="object-advanced-topics-in-oci.html#GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__BGBEEIIA" title="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after a refresh operation.">Table 22-1</a> after being refreshed.
                        </p>
                        <div class="tblformal" id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__BGBEEIIA">
                           <p class="titleintable">Table 22-1 Object Attributes After a Refresh Operation</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Object Attributes After a Refresh Operation" summary="This table has 2 columns. Column 1 is the object attribute and column 2 describes its status after a refresh operation." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="47%" id="d164838e4754">Object Attribute</th>
                                    <th align="left" valign="bottom" width="53%" id="d164838e4757">Status After Refresh</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4762" headers="d164838e4754 ">
                                       <p>Existent</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4762 d164838e4757 ">
                                       <p>Set to appropriate value</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4769" headers="d164838e4754 ">
                                       <p>Pinned</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4769 d164838e4757 ">
                                       <p>Unchanged</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4776" headers="d164838e4754 ">
                                       <p>Flushed</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4776 d164838e4757 ">
                                       <p>Reset</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4783" headers="d164838e4754 ">
                                       <p>Allocation duration</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4783 d164838e4757 ">
                                       <p>Unchanged</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d164838e4790" headers="d164838e4754 ">
                                       <p>Pin duration</p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d164838e4790 d164838e4757 ">
                                       <p>Unchanged</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>During the refresh operation, the object cache loads the new data into the top-level memory of an object copy, thus reusing the top-level memory. The top-level memory of an object copy contains the inline attributes of the object. However, the memory for the out-of-line attributes of an object copy can be freed and relocated, because the out-of-line attributes can vary in size.</p>
                        <div class="infoboxnotealso" id="GUID-4FC980A1-942B-4CE8-B3B7-BFD72C44FB42__GUID-FDAED564-8440-42FD-ABD3-A10447251839">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" title="An instance in memory is composed of a top-level memory chunk of the instance, a top-level memory of the null indicator structure and optionally, some secondary memory chunks.">Memory Layout of an Instance</a> for more information about object memory
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="Refreshes a persistent object from the most current database snapshot.">OCIObjectRefresh()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="Refreshes all pinned persistent objects in the cache.">OCICacheRefresh()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17004"></a><div class="props_rev_3"><a id="GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" name="GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F"></a><h4 id="LNOCI-GUID-EC3D1AE5-4D53-4C43-AA9C-E90F1D1AB33F" class="sect4"><span class="enumeration_section">22.1.7 </span>Object Locking
                  </h4>
                  <div>
                     <p>OCI functions related to object locking are discussed in this section.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" title="When pinning an object, you can specify whether the object should be locked or not through lock options.">Lock Options</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" title="The program can optionally call OCIObjectLock() to lock an object for update.">About Locking Objects for Update</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-05B2D3AC-0677-4C38-9350-875820048948" title="Occasionally, an application attempts to lock an object that is currently locked by another user. In this case, the application is blocked.">About Locking with the NOWAIT Option</a></p>
                           </li>
                           <li>
                              <p><a href="object-advanced-topics-in-oci.html#GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" title="There are two options available for implementing optimistic locking in an OCI application.">About Implementing Optimistic Locking</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17005"></a><div class="props_rev_3"><a id="GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" name="GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE"></a><h5 id="LNOCI-GUID-B12EE428-6EB9-4D79-BDC5-C24EE03293DE" class="sect5"><span class="enumeration_section">22.1.7.1 </span>Lock Options
                     </h5>
                     <div>
                        <p>When pinning an object, you can specify whether the object should be locked or not through lock options. </p>
                        <p>When an object is locked, a server-side lock is acquired, which prevents any other user from modifying the object. The lock is released when the transaction commits or rolls back. The different lock options are as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The lock option <code class="codeph">OCI_LOCK_NONE</code> instructs the cache to pin the object without locking.
                              </p>
                           </li>
                           <li>
                              <p>The lock option <code class="codeph">OCI_LOCK_X</code> instructs the cache to pin the object only after acquiring a lock. If the object is currently locked by another user, the pin call with this option waits until it can acquire the lock before returning to the caller. This is equivalent to executing a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement.
                              </p>
                           </li>
                           <li>
                              <p>The lock option <code class="codeph">OCI_LOCK_X_NOWAIT</code> instructs the cache to pin the object only after acquiring a lock. Unlike the <code class="codeph">OCI_LOCK_X</code> option, the pin call with the <code class="codeph">OCI_LOCK_X_NOWAIT</code> option does not wait if the object is currently locked by another user. This is equivalent to executing a <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> <code class="codeph">WITH</code> <code class="codeph">NOWAIT</code> statement.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17006"></a><div class="props_rev_3"><a id="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" name="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A"></a><h5 id="LNOCI-GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A" class="sect5"><span class="enumeration_section">22.1.7.2 </span>About Locking Objects for Update
                     </h5>
                     <div>
                        <p>The program can optionally call <code class="codeph">OCIObjectLock()</code> to lock an object for update.
                        </p>
                        <p> This call instructs the object cache to get a row lock on the object in the database. This is similar to executing the following statement:</p><pre class="oac_no_warn" dir="ltr">SELECT NULL FROM t WHERE REF(t) = :r FOR UPDATE
</pre><p>In this statement, <code class="codeph">t</code> is the object table storing the object to be locked, and <code class="codeph">r</code> is the <code class="codeph">REF</code> identifying the object. The object copy is marked locked in the object cache after <code class="codeph">OCIObjectLock()</code> is called.
                        </p>
                        <p>To lock a graph or set of objects, several <code class="codeph">OCIObjectLock()</code> calls are required (one for each object) or the array pin <code class="codeph">OCIObjectArrayPin()</code> call can be used for better performance.
                        </p>
                        <p>By locking an object, the application is guaranteed that the object in the cache is up-to-date. No other transaction can modify the object while the application has it locked.</p>
                        <p>At the end of a transaction, all locks are released automatically by the server. The locked indicator in the object copy is reset.</p>
                        <div class="infoboxnotealso" id="GUID-16790CA7-71A9-4D8F-86DE-49E122AC156A__GUID-19B09C55-FD57-4FC2-B29F-71CDD80F7965">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="Locks a persistent object at the server.">OCIObjectLock()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="Pins an array of references.">OCIObjectArrayPin()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17007"></a><div class="props_rev_3"><a id="GUID-05B2D3AC-0677-4C38-9350-875820048948" name="GUID-05B2D3AC-0677-4C38-9350-875820048948"></a><h5 id="LNOCI-GUID-05B2D3AC-0677-4C38-9350-875820048948" class="sect5"><span class="enumeration_section">22.1.7.3 </span>About Locking with the NOWAIT Option
                     </h5>
                     <div>
                        <p>Occasionally, an application attempts to lock an object that is currently locked by another user. In this case, the application is blocked.</p>
                        <p></p>
                        <p>To avoid blocking when trying to lock an object, an application can use the <code class="codeph">OCIObjectLockNoWait()</code> call instead of <code class="codeph">OCIObjectLock()</code>. This function returns an error if it cannot lock an object immediately because it is locked by another user.
                        </p>
                        <p>The <code class="codeph">NOWAIT</code> option is also available to pin calls by passing a value of <code class="codeph">OCI_LOCK_X_NOWAIT</code> as the lock option parameter.
                        </p>
                        <div class="infoboxnotealso" id="GUID-05B2D3AC-0677-4C38-9350-875820048948__GUID-3E3910B4-1EFA-451D-815A-769EE283AFDC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-F8C389C2-A5F0-4603-B260-BD932D4AC9C8" title="Locks a persistent object at the server but does not wait for the lock.">OCIObjectLockNoWait()</a></p>
                              </li>
                              <li>
                                 <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="Locks a persistent object at the server.">OCIObjectLock()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI17008"></a><div class="props_rev_3"><a id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02"></a><h5 id="LNOCI-GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02" class="sect5"><span class="enumeration_section">22.1.7.4 </span>About Implementing Optimistic Locking
                     </h5>
                     <div>
                        <p>There are two options available for implementing optimistic locking in an OCI application.</p>
                        <p>Optimistic locking makes the assumption that a transaction will modify objects in the cache, flush them, and commit the changes successfully. </p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-04BB5474-9E3E-4A61-A763-3D53BA5E3D9C">
                                 <!-- --></a>Optimistic Locking Option 1
                           </dt>
                           <dd>
                              <p>The first optimistic locking option is for OCI applications that run transactions at the serializable level.</p>
                              <p>OCI supports calls that allow you to dereference and pin objects in the object cache without locking them, modify them in the cache (again without locking them), and then flush them (the dirtied objects) to the database.</p>
                              <p>During the flush operation, if a dirty object has been modified by another committed transaction since the beginning of your transaction, a nonserializable transaction error is returned. If none of the dirty objects has been modified by any other transaction since the beginning of your transaction, then your transaction writes the changes to the database successfully.</p>
                              <div class="infoboxnote" id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-9D54809B-DB76-4489-9554-53210B61E8F8">
                                 <p class="notep1">Note:</p>
                                 <p><code class="codeph">OCITransCommit()</code> flushes dirty objects into the database before committing a transaction.
                                 </p>
                              </div>
                              <p>The preceding mechanism effectively implements an optimistic locking model.</p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-6E7F8773-97B7-4879-9845-7320FDFF65A8">
                                 <!-- --></a>Optimistic Locking Option 2
                           </dt>
                           <dd>
                              <p>Alternately, an application can enable object change detection mode. To do this operation, set the <code class="codeph">OCI_ATTR_OBJECT_DETECTCHANGE</code> attribute of the environment handle to a value of <code class="codeph">TRUE</code>.
                              </p>
                              <p>When this mode has been activated, the application receives an <code class="codeph">ORA-08179</code> error ("concurrency check failed") when it attempts to flush an object that has been changed in the server by another committed transaction. The application can then handle this error in an appropriate manner.
                              </p>
                           </dd>
                        </dl>
                        <div class="infoboxnotealso" id="GUID-EA3FC04C-FCF6-493F-9605-F532C547AD02__GUID-929B59DB-A3F1-40F0-9368-30B0EA71CFA5">
                           <p class="notep1">See Also:</p>
                           <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI17009"></a><div class="props_rev_3"><a id="GUID-B0236408-75F1-47C4-880B-FCA003A1C697" name="GUID-B0236408-75F1-47C4-880B-FCA003A1C697"></a><h4 id="LNOCI-GUID-B0236408-75F1-47C4-880B-FCA003A1C697" class="sect4"><span class="enumeration_section">22.1.8 </span>Commit and Rollback in Object Applications
                  </h4>
                  <div>
                     <p>When a transaction is committed (<code class="codeph">OCITransCommit()</code>), all marked objects are flushed to the server.
                     </p>
                     <p>If an object copy is pinned with a transaction duration, the object copy is unpinned.</p>
                     <p>When a transaction is rolled back, all marked objects are unmarked. If an object copy is pinned with a transaction duration, the object copy is unpinned.</p>
                     <div class="infoboxnotealso" id="GUID-B0236408-75F1-47C4-880B-FCA003A1C697__GUID-4EA7840B-4BE4-46AE-BAAF-FFB1BC00EB61">
                        <p class="notep1">See Also:</p>
                        <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI17010"></a><div class="props_rev_3"><a id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" name="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1"></a><h4 id="LNOCI-GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1" class="sect4"><span class="enumeration_section">22.1.9 </span>Object Duration
                  </h4>
                  <div>
                     <p>To maintain free space in memory, the object cache attempts to reuse objects' memory whenever possible. The object cache reuses an object's memory when the object's lifetime (<span class="italic">allocation duration) </span>expires or when the object's <span class="italic">pin duration</span> expires.
                     </p>
                     <p>The allocation duration is set when an object is created with <code class="codeph">OCIObjectNew()</code>, and the pin duration is set when an object is pinned with <code class="codeph">OCIObjectPin()</code>. The data type of the duration value is <code class="codeph">OCIDuration</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1__GUID-9BAAA62E-AA03-4CE9-A9BA-08E68359CB83">
                        <p class="notep1">Note:</p>
                        <p>The pin duration for an object cannot be longer than the object's allocation duration.</p>
                     </div>
                     <p>When an object reaches the end of its allocation duration, it is automatically deleted and its memory can be reused. The pin duration indicates when an object's memory can be reused; memory is reused when the cache is full.</p>
                     <p>OCI supports two predefined durations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Transaction (<code class="codeph">OCI_DURATION_TRANS</code>) 
                           </p>
                        </li>
                        <li>
                           <p>Session (<code class="codeph">OCI_DURATION_SESSION</code>)
                           </p>
                        </li>
                     </ul>
                     <p>The <span class="italic">transaction duration</span> expires when the containing transaction ends (commits or terminates). The <span class="italic">session duration</span> expires when the containing session or connection ends.
                     </p>
                     <p>The application can explicitly unpin an object using <code class="codeph">OCIObjectUnpin()</code>. To minimize explicit unpinning of individual objects, the application can unpin all objects currently pinned in the object cache using the function <code class="codeph">OCICacheUnpin()</code>. By default, all objects are unpinned at the end of the pin duration.
                     </p>
                     <p>This section includes the following topic: <a href="object-advanced-topics-in-oci.html#GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" title="Illustrates the use of the different durations in an application.">Durations Example</a>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-639E852E-0AA3-414F-A5A3-598C8F2047E1__GUID-F6722628-2CFB-4522-8E8D-8B5E198F463F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="Unpins an object.">OCIObjectUnpin()</a></p>
                           </li>
                           <li>
                              <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="Unpins persistent objects.">OCICacheUnpin()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI17012"></a><a id="LNOCI17011"></a><div class="props_rev_3"><a id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" name="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832"></a><h5 id="LNOCI-GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832" class="sect5"><span class="enumeration_section">22.1.9.1 </span>Durations Example
                     </h5>
                     <div>
                        <p>Illustrates the use of the different durations in an application.</p>
                        <p><a href="object-advanced-topics-in-oci.html#GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__G453011" title="This table has 7 columns. Column 1 is the time value T1 to T19, column 2 is the application action, column 3 is the OCI function name, columns 4 through 7 are columns named object 1, object 2, object 3, and object 4.">Table 22-2</a> illustrates the use of the different durations in an application. Four objects are created or pinned in this application over the course of one connection and three transactions. The first column is the relative time indicator. The second column indicates the action performed by the database, and the third column indicates the function that performs the action. The remaining columns indicate the states of the various objects at each point in the application.
                        </p>
                        <p>For example, Object 1 comes into existence at T2 when it is created with a connection duration, and it exists until T19 when the connection is terminated. Object 2 is pinned at T7 with a transaction duration, after being fetched at T6, and it remains pinned until T9 when the transaction is committed.</p>
                        <div class="tblformalwide" id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__G453011">
                           <p class="titleintable">Table 22-2 Example of Allocation and Pin Durations </p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Example of Allocation and Pin Durations " summary="This table has 7 columns. Column 1 is the time value T1 to T19, column 2 is the application action, column 3 is the OCI function name, columns 4 through 7 are columns named object 1, object 2, object 3, and object 4." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="8%" id="d164838e6755">Time</th>
                                    <th align="left" valign="bottom" width="28%" id="d164838e6758">Application Action</th>
                                    <th align="left" valign="bottom" width="21%" id="d164838e6761">Function</th>
                                    <th align="left" valign="bottom" width="10%" id="d164838e6764">Object 1</th>
                                    <th align="left" valign="bottom" width="11%" id="d164838e6767">Object 2</th>
                                    <th align="left" valign="bottom" width="10%" id="d164838e6770">Object 3</th>
                                    <th align="left" valign="bottom" width="11%" id="d164838e6773">Object 4</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6778" headers="d164838e6755 ">
                                       <p>T<sub>1</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6778 d164838e6758 ">
                                       <p>Establish connection</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6778 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6778 d164838e6764 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6778 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6778 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6778 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6802" headers="d164838e6755 ">
                                       <p>T<sub>2</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6802 d164838e6758 ">
                                       <p>Create object 1 - allocation duration = connection</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6802 d164838e6761 ">
                                       <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6802 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6802 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6802 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6802 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6831" headers="d164838e6755 ">
                                       <p>T<sub>5</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6831 d164838e6758 ">
                                       <p>Start Transaction1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6831 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6831 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6831 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6831 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6831 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6860" headers="d164838e6755 ">
                                       <p>T<sub>6</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6860 d164838e6758 ">
                                       <p>SQL - fetch <code class="codeph">REF</code> to object 2
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6860 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6860 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6860 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6860 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6860 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6887" headers="d164838e6755 ">
                                       <p>T<sub>7</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6887 d164838e6758 ">
                                       <p>Pin object 2 - pin duration = transaction</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6887 d164838e6761 ">
                                       <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6887 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6887 d164838e6767 ">
                                       <p>Pinned</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6887 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6887 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6916" headers="d164838e6755 ">
                                       <p>T<sub>8</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6916 d164838e6758 ">
                                       <p>Process application data</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6916 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6916 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6916 d164838e6767 ">
                                       <p>Pinned</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6916 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6916 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6940" headers="d164838e6755 ">
                                       <p>T<sub>9</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6940 d164838e6758 ">
                                       <p>Commit Transaction1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6940 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6940 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6940 d164838e6767 ">
                                       <p>Unpinned</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6940 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6940 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6969" headers="d164838e6755 ">
                                       <p>T<sub>10</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6969 d164838e6758 ">
                                       <p>Start Transaction2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6969 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6969 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6969 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6969 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6969 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e6998" headers="d164838e6755 ">
                                       <p>T<sub>11</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e6998 d164838e6758 ">
                                       <p>Create object 3 - allocation duration = transaction</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e6998 d164838e6761 ">
                                       <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6998 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6998 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e6998 d164838e6770 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e6998 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7027" headers="d164838e6755 ">
                                       <p>T<sub>12</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7027 d164838e6758 ">
                                       <p>SQL - fetch <code class="codeph">REF</code> to object 4
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7027 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7027 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7027 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7027 d164838e6770 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7027 d164838e6773 ">
                                       <p>-</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7054" headers="d164838e6755 ">
                                       <p>T<sub>13</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7054 d164838e6758 ">
                                       <p>Pin object 4 - pin duration = connection</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7054 d164838e6761 ">
                                       <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7054 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7054 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7054 d164838e6770 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7054 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7084" headers="d164838e6755 ">
                                       <p>T<sub>14</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7084 d164838e6758 ">
                                       <p>Commit Transaction2</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7084 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7084 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7084 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7084 d164838e6770 ">
                                       <p>Deleted</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7084 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7113" headers="d164838e6755 ">
                                       <p>T<sub>15</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7113 d164838e6758 ">
                                       <p>Terminate session1</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7113 d164838e6761 ">
                                       <p><a href="lob-functions.html#GUID-AABC3F29-C91B-45A7-AF1E-D486C12E4962" title="Terminates a user duration for a temporary LOB.">OCIDurationEnd()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7113 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7113 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7113 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7113 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7142" headers="d164838e6755 ">
                                       <p>T<sub>16</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7142 d164838e6758 ">
                                       <p>Start Transaction3</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7142 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7142 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7142 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7142 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7142 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7171" headers="d164838e6755 ">
                                       <p>T<sub>17</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7171 d164838e6758 ">
                                       <p>Process application data</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7171 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7171 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7171 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7171 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7171 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7195" headers="d164838e6755 ">
                                       <p>T<sub>18</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7195 d164838e6758 ">
                                       <p>Commit Transaction3</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7195 d164838e6761 ">
                                       <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7195 d164838e6764 ">
                                       <p>Exists</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7195 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7195 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7195 d164838e6773 ">
                                       <p>Pinned</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="8%" id="d164838e7224" headers="d164838e6755 ">
                                       <p>T<sub>19</sub></p>
                                    </td>
                                    <td align="left" valign="top" width="28%" headers="d164838e7224 d164838e6758 ">
                                       <p>Terminate connection</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d164838e7224 d164838e6761 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7224 d164838e6764 ">
                                       <p>Deleted</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7224 d164838e6767 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="10%" headers="d164838e7224 d164838e6770 ">
                                       <p>-</p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d164838e7224 d164838e6773 ">
                                       <p>Unpinned</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-95AF1F97-1B4A-4A78-A059-2905BB1DD832__GUID-F4EDC1FA-CB8D-4B12-806F-44097071F832">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The descriptions of <a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a> and <a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a> in <a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="This chapter describes the OCI navigational functions that are used to navigate through objects retrieved from an Oracle database."> OCI Navigational and Type Functions</a> for specific information about parameter values that can be passed to these functions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="oci-object-relational-programming.html#GUID-86418D8C-FA67-4B14-A5BC-7A075C6B4206" title="An OCI application can create any object using OCIObjectNew().">About Creating Objects</a> for information about freeing up an object's memory before its allocation duration has expired
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI72770"></a><a id="LNOCI72771"></a><a id="LNOCI17013"></a><div class="props_rev_3"><a id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" name="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5"></a><h4 id="LNOCI-GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5" class="sect4"><span class="enumeration_section">22.1.10 </span>Memory Layout of an Instance
                  </h4>
                  <div>
                     <p>An instance in memory is composed of a top-level memory chunk of the instance, a top-level memory of the null indicator structure and optionally, some secondary memory chunks. </p>
                     <p>Consider the <code class="codeph">DEPARTMENT</code> row type defined in <a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">Example 22-1</a>.
                     </p>
                     <p>The C representation of the <code class="codeph">DEPARTMENT</code> is shown in <a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">Example 22-2</a>.
                     </p>
                     <p>Each instance of <code class="codeph">DEPARTMENT</code> has a top-level memory chunk that contains the top-level attributes such as <code class="codeph">dep_name</code>, <code class="codeph">budget</code>, <code class="codeph">manager</code>, and <code class="codeph">employees</code>. The attributes <code class="codeph">dep_name</code> and <code class="codeph">employees</code> are pointers to the additional memory (the secondary memory chunks). The secondary memory is used to contain the data for the embedded instances (for example, <code class="codeph">employees</code> varray and <code class="codeph">dep_name</code> string).
                     </p>
                     <p>The top-level memory of the null indicator structure contains the null statuses of the attributes in the top-level memory chunk of the instance. In <a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">Example 22-2</a>, the top-level memory of the null structure contains the null statuses of the attributes <code class="codeph">dep_name</code>, <code class="codeph">budget</code>, and <code class="codeph">manager</code>, and the atomic nullity of <code class="codeph">employees</code>.
                     </p>
                     <div class="example" id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">
                        <p class="titleinexample">Example 22-1 Object Type Representation of a Department Row </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE department AS OBJECT
( dep_name      varchar2(20),
  budget        number,
  manager       person,            /* person is an object type */
  employees     person_array );   /* varray of person objects */
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">
                        <p class="titleinexample">Example 22-2 C Representation of a Department Row</p><pre class="oac_no_warn" dir="ltr">struct department
{
OCIString * dep_name;
OCINumber budget;
struct person manager;
OCIArray * employees;
);
typedef struct department department;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNOCI17014"></a><div class="props_rev_3"><a id="GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" name="GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC"></a><h3 id="LNOCI-GUID-4BFF0155-C6FE-4592-89CF-F8FD99E1E2BC" class="sect3"><span class="enumeration_section">22.2 </span>Object Navigation
               </h3>
               <div>
                  <p>This section discusses how OCI applications can navigate through graphs of objects in the object cache.</p>
                  <p>This section includes the following topic: <a href="object-advanced-topics-in-oci.html#GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" title="If an application retrieves an object with an attribute that is a REF to another object, the application can use OCI calls to traverse the object graph and access the referenced instance.">Simple Object Navigation</a>.
                  </p>
               </div><a id="LNOCI17016"></a><a id="LNOCI17015"></a><div class="props_rev_3"><a id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" name="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D"></a><h4 id="LNOCI-GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D" class="sect4"><span class="enumeration_section">22.2.1 </span>Simple Object Navigation
                  </h4>
                  <div>
                     <p>If an application retrieves an object with an attribute that is a <code class="codeph">REF</code> to another object, the application can use OCI calls to traverse the <span class="italic">object graph</span> and access the referenced instance.
                     </p>
                     <p>In <a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBCACDA">Example 22-1</a> and <a href="object-advanced-topics-in-oci.html#GUID-C4F12ECA-651F-4620-8761-C8EAA9F09BF5__BGBEIHFD">Example 22-2</a>, the object retrieved by the application was a simple object, whose attributes were all scalar values. 
                     </p>
                     <p>As an example, consider the following declaration for a new type in the database:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE person_t AS OBJECT
(  name          VARCHAR2(30),
  mother          REF person_t,
  father          REF person_t);
</pre><p>An object table of <code class="codeph">person_t</code> objects is created with the following statement:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE person_table OF person_t;
</pre><p>Instances of the <code class="codeph">person_t</code> type can now be stored in the typed table. Each instance of <code class="codeph">person_t</code> includes references to two other objects, which would also be stored in the table. A <code class="codeph">NULL</code> reference could represent a parent about whom information is not available.
                     </p>
                     <p>An object graph is a graphical representation of the <code class="codeph">REF</code> links between object instances. For example, <a href="object-advanced-topics-in-oci.html#GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__I440204">Figure 22-2</a> depicts an object graph of <code class="codeph">person_t</code> instances, showing the links from one object to another. The circles represent objects, and the arrows represent references to other objects. The M and F adjacent to the arrows indicate mother and father, respectively.
                     </p>
                     <div class="figure" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__I440204">
                        <p class="titleinfigure">Figure 22-2 Object Graph of person_t Instances</p><img src="img/lnoci027.gif" alt="Description of Figure 22-2 follows" title="Description of Figure 22-2 follows" longdesc="img_text/lnoci027.html"><br><a href="img_text/lnoci027.html">Description of "Figure 22-2 Object Graph of person_t Instances"</a></div>
                     <!-- class="figure" -->
                     <p>In this case, each object has links to two other instances (M and F) of the same object. This need not always be the case. Objects may have links to other object types. Other types of graphs are also possible. For example, if a set of objects is implemented as a linked list, the object graph could be viewed as a simple chain, where each object references either the previous or next objects or both in the linked list.</p>
                     <p>You can use the methods described earlier in this chapter to retrieve a reference to a <code class="codeph">person_t</code> instance and then pin that instance. OCI provides functionality that enables you to traverse the object graph by following a reference from one object to another.
                     </p>
                     <p>As an example, assume that an application fetches the <code class="codeph">person1</code> instance in the preceding graph and pins it as <code class="codeph">pers_1</code>. Once that has been done, the application can access the mother instance of <code class="codeph">person1</code> and pin it into <code class="codeph">pers_2</code> through a second pin operation:
                     </p><pre class="oac_no_warn" dir="ltr">OCIObjectPin(env, err, pers_1-&gt;mother, OCI_PIN_ANY, OCI_DURATION_TRANS,
             OCI_LOCK_X, (OCIComplexObject *) 0, &amp;pers_2);
</pre><p>In this case, an OCI fetch operation is not required to retrieve the second instance.</p>
                     <p>The application could then pin the father instance of <code class="codeph">person1</code>, or it could operate on the reference links of <code class="codeph">person2</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__GUID-8251D80D-ACCD-4BF1-AA20-4CF20949FE8D">
                        <p class="notep1">Note:</p>
                        <p>Attempting to pin a <code class="codeph">NULL</code> or dangling <code class="codeph">REF</code> results in an error on the <code class="codeph">OCIObjectPin()</code> call.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-2BF8105C-419E-4560-B241-BFCC1CCB719D__GUID-0D96BDC0-431D-44BB-B0F8-91774FE08579">
                        <p class="notep1">See Also:</p>
                        <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI17017"></a><div class="props_rev_3"><a id="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" name="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0"></a><h3 id="LNOCI-GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0" class="sect3"><span class="enumeration_section">22.3 </span>OCI Navigational Functions
               </h3>
               <div>
                  <p>This section provides a brief summary of the available OCI navigational functions. </p>
                  <p>The functions are grouped according to their general functionality. </p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" title="Lists and describes the pin, unpin, and free functions.">About Pin/Unpin/Free Functions</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" title="Lists and describes the flush and refresh functions.">About Flush and Refresh Functions</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" title="Lists and describes the mark and unmark functions.">About Mark and Unmark Functions</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" title="Lists and describes the meta-attribute accessor functions.">About Object Meta-Attribute Accessor Functions</a></p>
                        </li>
                        <li>
                           <p><a href="object-advanced-topics-in-oci.html#GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" title="Lists and describes the miscellaneous functions.">About Other Functions</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>Earlier sections of this chapter describe the use of these functions.</p>
                  <p>The navigational functions follow a naming scheme that uses different prefixes for different types of functionality:</p>
                  <p><code class="codeph">OCICache*()</code> &#x2013; These functions are cache operations.
                  </p>
                  <p><code class="codeph">OCIObject*()</code> &#x2013; These functions are individual object operations.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AC858892-54CA-403F-AB4C-5DD14B2FCAD0__GUID-2D2A688E-234E-475D-9B96-8EDC4F1B1BAD">
                     <p class="notep1">See Also:</p>
                     <p><a href="oci-navigational-and-type-functions.html#GUID-9F30DB5F-33CB-4CE6-8EFE-732B29E26727" title="This chapter describes the OCI navigational functions that are used to navigate through objects retrieved from an Oracle database.">OCI Navigational and Type Functions</a> for more detailed descriptions of each of these functions 
                     </p>
                  </div>
               </div><a id="LNOCI17019"></a><a id="LNOCI17018"></a><div class="props_rev_3"><a id="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" name="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478"></a><h4 id="LNOCI-GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478" class="sect4"><span class="enumeration_section">22.3.1 </span>About Pin/Unpin/Free Functions
                  </h4>
                  <div>
                     <p>Lists and describes the  pin, unpin, and free functions.</p>
                     <p>The functions in <a href="object-advanced-topics-in-oci.html#GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478__BGBDIFGI" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-3</a> are available to pin, unpin, or free objects.
                     </p>
                     <div class="tblformal" id="GUID-47D39623-BCE7-4A2F-8E9A-EC946B69B478__BGBDIFGI">
                        <p class="titleintable">Table 22-3 Pin, Free, and Unpin Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Pin, Free, and Unpin Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d164838e8531">Function</th>
                                 <th align="left" valign="bottom" width="58%" id="d164838e8534">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8539" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" title="Frees all objects and values in the cache for the specified connection.">OCICacheFree()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8539 d164838e8534 ">
                                    <p>Free all instances in the cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8551" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="Unpins persistent objects.">OCICacheUnpin()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8551 d164838e8534 ">
                                    <p>Unpin persistent objects in cache or connection</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8563" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" title="Pins an array of references.">OCIObjectArrayPin()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8563 d164838e8534 ">
                                    <p>Pin an array of references</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8575" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="Frees and unpins an object instance.">OCIObjectFree()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8575 d164838e8534 ">
                                    <p>Free and unpin a standalone instance</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8587" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8587 d164838e8534 ">
                                    <p>Pin an object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8599" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="Completely unpins an object, setting its pin count to zero.">OCIObjectPinCountReset()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8599 d164838e8534 ">
                                    <p>Unpin an object to zero pin count</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8611" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" title="Pins a table object for a specified duration.">OCIObjectPinTable()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8611 d164838e8534 ">
                                    <p>Pin a table object with a given duration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e8623" headers="d164838e8531 ">
                                    <p><a href="oci-pin-unpin-and-free-functions.html#GUID-109DD260-8094-489C-A85C-AB27277E6D9B" title="Unpins an object.">OCIObjectUnpin()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e8623 d164838e8534 ">
                                    <p>Unpin an object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17021"></a><a id="LNOCI17020"></a><div class="props_rev_3"><a id="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" name="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749"></a><h4 id="LNOCI-GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749" class="sect4"><span class="enumeration_section">22.3.2 </span>About Flush and Refresh Functions
                  </h4>
                  <div>
                     <p>Lists and describes the flush and refresh functions.</p>
                     <p>The functions in <a href="object-advanced-topics-in-oci.html#GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749__BGBDFADA" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-4</a> are available to flush modified objects to the server.
                     </p>
                     <div class="tblformal" id="GUID-E8065CEE-6586-4991-BB0E-FE21A20A2749__BGBDFADA">
                        <p class="titleintable">Table 22-4 Flush and Refresh Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Flush and Refresh Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d164838e8844">Function</th>
                                 <th align="left" valign="bottom" width="66%" id="d164838e8847">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8852" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-782180CB-D33E-42E0-AB4C-96ECDF651C1E" title="Flushes modified persistent objects to the server.">OCICacheFlush()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8852 d164838e8847 ">
                                    <p>Flush modified persistent objects in cache to server</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8864" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8864 d164838e8847 ">
                                    <p>Flush a modified persistent object to the server</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8876" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-2A901AE1-3211-4474-B673-8BB5C3B69D5F" title="Refreshes all pinned persistent objects in the cache.">OCICacheRefresh()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8876 d164838e8847 ">
                                    <p>Refresh pinned persistent objects in the cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d164838e8888" headers="d164838e8844 ">
                                    <p><a href="oci-flush-or-refresh-functions.html#GUID-EFE5604B-AAEC-4C60-BB59-3D01E50DAB8C" title="Refreshes a persistent object from the most current database snapshot.">OCIObjectRefresh()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d164838e8888 d164838e8847 ">
                                    <p>Refresh a single persistent object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17023"></a><a id="LNOCI17022"></a><div class="props_rev_3"><a id="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" name="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE"></a><h4 id="LNOCI-GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE" class="sect4"><span class="enumeration_section">22.3.3 </span>About Mark and Unmark Functions
                  </h4>
                  <div>
                     <p>Lists and describes the mark and unmark functions.</p>
                     <p>The functions in <a href="object-advanced-topics-in-oci.html#GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE__BGBCDJDH" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-5</a> allow an application to mark or unmark an object by modifying one of its meta-attributes.
                     </p>
                     <div class="tblformal" id="GUID-43512F5B-2C6E-4712-9B6E-170DF1FAA7BE__BGBCDJDH">
                        <p class="titleintable">Table 22-5 Mark and Unmark Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Mark and Unmark Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d164838e9108">Function</th>
                                 <th align="left" valign="bottom" width="58%" id="d164838e9111">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9116" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-307366DB-B9B1-44E7-A52E-03216F2FF73E" title="Marks an object as deleted, when given a reference to the object.">OCIObjectMarkDeleteByRef()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9116 d164838e9111 ">
                                    <p>Mark an object deleted when given a <code class="codeph">REF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9130" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-6EEEC8CC-3041-4718-ADE7-20C6D8C661ED" title="Marks a persistent object as updated (dirty).">OCIObjectMarkUpdate()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9130 d164838e9111 ">
                                    <p>Mark an object as updated (dirty)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9142" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-46497858-8E6C-4920-857C-83FFC8B0F7C1" title="Marks a standalone instance as deleted, when given a pointer to the instance.">OCIObjectMarkDelete()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9142 d164838e9111 ">
                                    <p>Mark an object deleted or delete a value instance</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9154" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-BADD75E5-0C72-4364-911D-2DF59BF642C8" title="Unmarks all dirty objects in the object cache.">OCICacheUnmark()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9154 d164838e9111 ">
                                    <p>Unmark all objects in the cache</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9166" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-41C686AE-4C80-4539-80AF-4150680A02A5" title="Unmarks an object as dirty.">OCIObjectUnmark()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9166 d164838e9111 ">
                                    <p>Mark a given object as updated</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d164838e9178" headers="d164838e9108 ">
                                    <p><a href="oci-mark-or-unmark-object-cache-functions.html#GUID-3FA9AEC7-AECE-4FD0-8C97-7C47E14231E8" title="Unmarks an object as dirty, when given a ref to the object.">OCIObjectUnmarkByRef()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d164838e9178 d164838e9111 ">
                                    <p>Mark an object as updated, when given a <code class="codeph">REF</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17025"></a><a id="LNOCI17024"></a><div class="props_rev_3"><a id="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" name="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3"></a><h4 id="LNOCI-GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3" class="sect4"><span class="enumeration_section">22.3.4 </span>About Object Meta-Attribute Accessor Functions
                  </h4>
                  <div>
                     <p>Lists and describes the meta-attribute accessor functions.</p>
                     <p>The functions in <a href="object-advanced-topics-in-oci.html#GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3__BGBDBGJH" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-6</a> allow an application to access the meta-attributes of an object.
                     </p>
                     <div class="tblformal" id="GUID-9CC6E7F6-EA63-4A62-876F-89D115DB55D3__BGBDBGJH">
                        <p class="titleintable">Table 22-6 Object Meta-Attributes Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Object Meta-Attributes Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d164838e9403">Function</th>
                                 <th align="left" valign="bottom" width="61%" id="d164838e9406">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9411" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-AF9CFD0F-14C4-4D24-94BF-5D68E9C41E01" title="Returns the existence meta-attribute of a standalone instance.">OCIObjectExists()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9411 d164838e9406 ">
                                    <p>Get existence status of an instance</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9423" headers="d164838e9403 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-22B229C0-369E-453E-A8D6-C7F7DBB1E80C" title="Retrieves the NULL indicator structure of a standalone instance.">OCIObjectGetInd()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9423 d164838e9406 ">
                                    <p>Get null structure of an instance</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9438" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-9B96A7DF-BE19-4131-8B95-11063C060012" title="Checks to see if an object is marked as dirty.">OCIObjectIsDirty()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9438 d164838e9406 ">
                                    <p>Has an object been marked as updated?</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9450" headers="d164838e9403 ">
                                    <p><a href="oci-get-object-status-functions.html#GUID-AC738B41-AA00-40D4-9824-F63BADA321FB" title="Gets lock status of an object.">OCIObjectIsLocked()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9450 d164838e9406 ">
                                    <p>Is an object locked?</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="LNOCI17027"></a><a id="LNOCI17026"></a><div class="props_rev_3"><a id="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" name="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969"></a><h4 id="LNOCI-GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969" class="sect4"><span class="enumeration_section">22.3.5 </span>About Other Functions
                  </h4>
                  <div>
                     <p>Lists and describes the miscellaneous functions.</p>
                     <p>The functions in <a href="object-advanced-topics-in-oci.html#GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969__BGBDHJHB" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-7</a> provide additional object functionality for OCI applications.
                     </p>
                     <div class="tblformal" id="GUID-D75B1421-C93D-44D5-8192-C23F1B7EB969__BGBDHJHB">
                        <p class="titleintable">Table 22-7 Other Object Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Other Object Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d164838e9671">Function</th>
                                 <th align="left" valign="bottom" width="61%" id="d164838e9674">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9679" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-73C98F89-47E5-4B82-B869-731F30F011B0" title="Copies a source instance to a destination.">OCIObjectCopy()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9679 d164838e9674 ">
                                    <p>Copy one instance to another</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9691" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-487BE97C-C3CE-49C6-9E8D-62BFCE7980F5" title="Returns a reference to a given persistent object.">OCIObjectGetObjectRef()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9691 d164838e9674 ">
                                    <p>Return a reference to a given object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9703" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-9C83F766-C8A3-48A0-A7D5-2BF4037C2B32" title="Returns a reference to the type descriptor object (TDO) of a standalone instance.">OCIObjectGetTypeRef()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9703 d164838e9674 ">
                                    <p>Get a reference to a TDO of an instance</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9715" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-FF85B1EA-695C-49A6-99AC-6E1A7F616FC0" title="Locks a persistent object at the server.">OCIObjectLock()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9715 d164838e9674 ">
                                    <p>Lock a persistent object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9727" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-F8C389C2-A5F0-4603-B260-BD932D4AC9C8" title="Locks a persistent object at the server but does not wait for the lock.">OCIObjectLockNoWait()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9727 d164838e9674 ">
                                    <p>Lock an object in NOWAIT mode</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d164838e9739" headers="d164838e9671 ">
                                    <p><a href="oci-miscellaneous-object-functions.html#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d164838e9739 d164838e9674 ">
                                    <p>Create a new instance</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="LNOCI17028"></a><div class="props_rev_3"><a id="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" name="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661"></a><h3 id="LNOCI-GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661" class="sect3"><span class="enumeration_section">22.4 </span>Type Evolution and the Object Cache
               </h3>
               <div>
                  <p>When type information is requested based on the type name, OCI returns the type descriptor object (TDO) corresponding to the latest version of the type.</p>
                  <p>Because there is no synchronization between the server and the object cache, the TDO in the object cache may not be current. </p>
                  <p>It is possible that the version of the image might differ from the TDO version during the pinning of an object. Then, an error is issued. It is up to you to stop the application or refresh the TDO and repin the object. Continuing with the application may cause the application to fail because even if the image and the TDO are at the same version, there is no guarantee that the object structure (that is, C struct) defined in the application is compatible with the new type version, especially when an attribute has been dropped from the type in the server.</p>
                  <p>Thus, when the structure of a type is altered, you must regenerate the header files of the changed type, modify their application, recompile, and relink before executing the program again.</p>
                  <div class="infoboxnotealso" id="GUID-35CBBA0E-CAC9-4BA3-99F7-77D613141661__GUID-5D0E2426-EC0B-4EEE-8FD2-830D96D0372D">
                     <p class="notep1">See Also:</p>
                     <p><a href="oci-object-relational-programming.html#GUID-34071CB4-805F-4DFE-B2F3-2E51A5B312F9" title="Adding, dropping, and modifying type attributes are supported. This concept is known as type evolution.">About Type Evolution</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>