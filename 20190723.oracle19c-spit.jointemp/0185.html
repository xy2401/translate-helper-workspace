<html id='04110.distributed-transactions.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Distributed Transactions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="transaction-management.html" title="Previous" type="text/html">
      <link rel="next" href="manageability.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="transaction-management.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="manageability.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="transaction-management.html" property="item" typeof="WebPage"><span property="name"> Transaction Management </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Distributed Transactions </li>
            </ol>
            <a id="GUID-FD21627C-0183-4AF3-8719-8490F069A41E" name="GUID-FD21627C-0183-4AF3-8719-8490F069A41E"></a><a id="JJDBC28000"></a>
            
            <h2 id="JJDBC-GUID-FD21627C-0183-4AF3-8719-8490F069A41E" class="sect2"><span class="enumeration_chapter">33 </span> Distributed Transactions 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses the Oracle Java Database Connectivity (JDBC) implementation of distributed transactions. These are multiphased transactions, often using multiple databases, which must be committed in a coordinated way. There is also related discussion of XA, which is a general standard, and not specific to Java, for distributed transactions.</p>
               <p>The following topics are discussed:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="distributed-transactions.html#GUID-78C5DAB6-46E5-44A4-9EC8-1149FDA176AB">AboutDistributed Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="distributed-transactions.html#GUID-178456B8-4C4E-43BB-9097-DF2F269513CB">XA Components</a></p>
                  </li>
                  <li>
                     <p><a href="distributed-transactions.html#GUID-EAB7ACFA-5708-4608-B94D-0D9ECE391D67">Error Handling and Optimizations</a></p>
                  </li>
                  <li>
                     <p><a href="distributed-transactions.html#GUID-A1736524-8CB5-4965-89E3-C65C3861E784">About Implementing a Distributed Transaction</a></p>
                  </li>
                  <li>
                     <p><a href="distributed-transactions.html#GUID-1EF2D070-305D-49D9-9124-16FFDF7CCF74">Native-XA in Oracle JDBC Drivers</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-FD21627C-0183-4AF3-8719-8490F069A41E__GUID-91D5AE93-7677-4312-838E-BF70C3A367DE">
                  <p class="notep1">Note:</p>
                  <p>This chapter discusses features of the JDBC 2.0 Optional Package, formerly known as the JDBC 2.0 Standard Extension application programming interface (API) that is available through the <code class="codeph">javax</code> packages.
                  </p>
               </div>
               <p>For further introductory and general information about distributed transactions, refer to the specifications for the JDBC 2.0 Optional Package and the Java Transaction API (JTA).</p>
            </div><a id="JJDBC28843"></a><div class="props_rev_3"><a id="GUID-78C5DAB6-46E5-44A4-9EC8-1149FDA176AB" name="GUID-78C5DAB6-46E5-44A4-9EC8-1149FDA176AB"></a><h3 id="JJDBC-GUID-78C5DAB6-46E5-44A4-9EC8-1149FDA176AB" class="sect3"><span class="enumeration_section">33.1 </span>About Distributed Transactions
               </h3>
               <div>
                  <p>The section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="distributed-transactions.html#GUID-ECD0D367-582D-40F1-99E9-D76ABA451B23">Overview of Distributed Transaction</a></p>
                     </li>
                     <li>
                        <p><a href="distributed-transactions.html#GUID-1E5899A5-1977-4B25-A98A-B9AC0837EADF">Distributed Transaction Components and Scenarios</a></p>
                     </li>
                     <li>
                        <p><a href="distributed-transactions.html#GUID-D80FEF14-8360-4E0A-B950-AA5B56E98DE8">Distributed Transaction Concepts</a></p>
                     </li>
                     <li>
                        <p><a href="distributed-transactions.html#GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17">About Switching Between Global and Local Transactions</a></p>
                     </li>
                     <li>
                        <p><a href="distributed-transactions.html#GUID-B5EBFDDD-5A19-43C8-A2B7-6838F752800E">Oracle XA Packages</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-ECD0D367-582D-40F1-99E9-D76ABA451B23" name="GUID-ECD0D367-582D-40F1-99E9-D76ABA451B23"></a><h4 id="JJDBC-GUID-ECD0D367-582D-40F1-99E9-D76ABA451B23" class="sect4"><span class="enumeration_section">33.1.1 </span>Overview of Distributed Transaction
                  </h4>
                  <div>
                     <p>A <span class="bold">distributed transaction</span>, sometimes referred to as a <span class="bold">global transaction</span>, is a set of two or more related transactions that must be managed in a coordinated way. The transactions that constitute a distributed transaction might be in the same database, but more typically are in different databases and often in different locations. Each individual transaction of a distributed transaction is referred to as a <span class="bold">transaction branch</span>.
                     </p>
                     <p>For example, a distributed transaction might consist of money being transferred from an account in one bank to an account in another bank. You would not want either transaction committed without assurance that both will complete successfully.</p>
                     <p>In JDBC, distributed transaction functionality is built on top of connection pooling functionality. This distributed transaction functionality is also built upon the open XA standard for distributed transactions. X<a id="d80952e156" class="indexterm-anchor"></a>A is part of the X/Open standard and is not specific to Java.
                     </p>
                     <p>JDBC is used to connect to database resources. However, to include all changes to multiple databases within a transaction, you must use the JDBC connections within a JTA global transaction. The process of including database SQL updates within a transaction is referred to as enlisting a database resource.</p>
                  </div>
               </div><a id="JJDBC28844"></a><div class="props_rev_3"><a id="GUID-1E5899A5-1977-4B25-A98A-B9AC0837EADF" name="GUID-1E5899A5-1977-4B25-A98A-B9AC0837EADF"></a><h4 id="JJDBC-GUID-1E5899A5-1977-4B25-A98A-B9AC0837EADF" class="sect4"><span class="enumeration_section">33.1.2 </span>Distributed Transaction Components and Scenarios
                  </h4>
                  <div>
                     <div class="section">
                        <p>In reading the remainder of the distributed transactions section, it will be helpful to keep the following points in mind:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A distributed transaction system typically relies on an external trans<a id="d80952e198" class="indexterm-anchor"></a>action manager, such as a software component that implements standard JTA functionality, to coordinate the individual transactions.
                              </p>
                              <p>Many vendors offer XA-compliant JTA modules, including Oracle, which includes JTA in Oracle9<span class="italic">i</span> Application Server and Oracle Application Server 10<span class="italic">g</span>.
                              </p>
                           </li>
                           <li>
                              <p>XA functionality is usually isolated from a client application, being implemented instead in a middle-tier environment, such as an application server. </p>
                              <p>In many scenarios, the application server and transaction manager will be together on the middle tier, possibly together with some of the application code as well.</p>
                           </li>
                           <li>
                              <p>Discussion throughout this section is intended mostly for middle-tier developers.</p>
                           </li>
                           <li>
                              <p>The term resour<a id="d80952e220" class="indexterm-anchor"></a>ce manager is often used in discussing distributed transactions. A resource manager is simply an entity that manages data or some other kind of resource. Wherever the term is used in this chapter, it refers to a database.
                              </p>
                              <div class="infoboxnote" id="GUID-1E5899A5-1977-4B25-A98A-B9AC0837EADF__GUID-7B743D14-3A5F-4F39-9B41-EBBC30EBB2E5">
                                 <p class="notep1">Note:</p>
                                 <p>Using JTA functionality requires <code class="codeph">jta.jar</code> to be in the <code class="codeph">CLASSPATH</code> environment variable. This file is located at <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jlib</code>. Oracle includes this file with the JDBC product.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28845"></a><div class="props_rev_3"><a id="GUID-D80FEF14-8360-4E0A-B950-AA5B56E98DE8" name="GUID-D80FEF14-8360-4E0A-B950-AA5B56E98DE8"></a><h4 id="JJDBC-GUID-D80FEF14-8360-4E0A-B950-AA5B56E98DE8" class="sect4"><span class="enumeration_section">33.1.3 </span>Distributed Transaction Concepts
                  </h4>
                  <div>
                     <div class="section">
                        <p>When you use XA functionality, the transaction manager uses XA resource instances to prepare and coordinate each transaction branch and then to commit or roll back all transaction branches appropriately.</p>
                        <p>XA functionality includes the following key components:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>XA <a id="d80952e276" class="indexterm-anchor"></a>data sources
                              </p>
                              <p>These are extensions of connection pool data sources and other data sources, and similar in concept and functionality. </p>
                              <p>There will be one XA data source instance for each resource manager that will be used in the distributed transaction. You will typically create XA data source instances in your middle-tier software.</p>
                              <p>XA data sources produce XA connections.</p>
                           </li>
                           <li>
                              <p>XA con<a id="d80952e290" class="indexterm-anchor"></a>nections
                              </p>
                              <p>These are extensions of pooled connections and similar in concept and functionality. An XA connection encapsulates a physical database connection. Individual connection instances are temporary handles to these physical connections. </p>
                              <p>An XA connection instance corresponds to a single Oracle session, although the session can be used in sequence by multiple logical connection instances, as with pooled connection instances.</p>
                              <p>You will typically get an XA connection instance from an XA data source instance in your middle-tier software. You can get multiple XA connection instances from a single XA data source instance if the distributed transaction will involve multiple sessions in the same database.</p>
                              <p>XA connections produce <code class="codeph">OracleXAResource</code> instances and JDBC connection instances. 
                              </p>
                           </li>
                           <li>
                              <p>XA res<a id="d80952e309" class="indexterm-anchor"></a>ources
                              </p>
                              <p>These are used by a transaction manager in coordinating the transaction branches of a distributed transaction.</p>
                              <p>You will get one <code class="codeph">OracleXAResource</code> instance from each XA connection instance, typically in your middle-tier software. There is a one-to-one correlation between <code class="codeph">OracleXAResource</code> instances and XA connection instances. Equivalently, there is a one-to-one correlation between <code class="codeph">OracleXAResource</code> instances and Oracle sessions.
                              </p>
                              <p>In a typical scenario, the middle-tier component will hand off <code class="codeph">OracleXAResource</code> instances to the transaction manager, for use in coordinating distributed transactions. 
                              </p>
                              <p>Each <code class="codeph">OracleXAResource</code> instance corresponds to a single Oracle session. So, there can be only a single active transaction branch associated with an <code class="codeph">OracleXAResource</code> instance at any given time. However, there can be additional suspended transaction branches.
                              </p>
                              <p>Each <code class="codeph">OracleXAResource</code> instance has the functionality to start, end, prepare, commit, or roll back the operations of the transaction branch running in the session with which the <code class="codeph">OracleXAResource</code> instance is associated. 
                              </p>
                              <p>The prepare step is the first step of a two-phase commit operation. The transaction manager will issue a <code class="codeph">PREPARE</code> to each <code class="codeph">OracleXAResource</code> instance. Once the transaction manager sees that the operations of each transaction branch have prepared successfully, it will issue a <code class="codeph">COMMIT</code> to each <code class="codeph">OracleXAResource</code> instance to commit all the changes.
                              </p>
                           </li>
                           <li>
                              <p>Transactio<a id="d80952e365" class="indexterm-anchor"></a>n IDs
                              </p>
                              <p>These are used to identify transaction branches. Each ID includes a transaction branch ID component and a distributed transaction ID component. This is how a branch is associated with a distributed transaction. All <code class="codeph">OracleXAResource</code> instances associated with a given distributed transaction would have a transaction ID that includes the same distributed transaction ID component.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.ORATRANSLOOSE</code></p>
                              <p>Start a loosely coupled transaction with transaction ID <code class="codeph">xid</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28847"></a><a id="JJDBC28848"></a><a id="JJDBC28846"></a><div class="props_rev_3"><a id="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17" name="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17"></a><h4 id="JJDBC-GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17" class="sect4"><span class="enumeration_section">33.1.4 </span>About Switching Between Global and Local Transactions
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d80952e408" class="indexterm-anchor"></a>Applications can share connections between local and global transactions. Applications can also switch connections between local transactions and global transactions.
                        </p>
                        <p>A connection is always in one of the following modes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">NO_TXN</code></p>
                              <p>No transaction is actively using this connection.</p>
                           </li>
                           <li>
                              <p><code class="codeph">LOCAL_TXN</code></p>
                              <p>A local transaction with auto-commit turned off or disabled is actively using this connection.</p>
                           </li>
                           <li>
                              <p><code class="codeph">GLOBAL_TXN</code></p>
                              <p>A global transaction is actively using this connection.</p>
                           </li>
                        </ul>
                        <p>Each connection switches automatically between these modes depending on the operations carried out on the connection. A connection is always in <code class="codeph">NO_TXN</code> mode when it is instantiated.
                        </p>
                        <div class="infoboxnote" id="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17__GUID-51AEDDA8-8DFC-4A24-8C5C-79DE922987B7">
                           <p class="notep1">Note:</p>
                           <p>The modes are maintained internally by the JDBC drivers in association with Oracle Database.</p>
                        </div>
                        <p><a href="distributed-transactions.html#GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17__CHDGEBDI" title="table">Table 33-1</a> describes the connection mode transition rules.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17__CHDGEBDI">
                        <p class="titleintable">Table 33-1 Connection Mode Transitions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Connection Mode Transitions" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d80952e460">Current Mode</th>
                                 <th align="left" valign="bottom" width="27%" id="d80952e463">Switches to  NO_TXN When</th>
                                 <th align="left" valign="bottom" width="25%" id="d80952e468">Switches to LOCAL_TXN When</th>
                                 <th align="left" valign="bottom" width="28%" id="d80952e471">Switches to GLOBAL_TXN When</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d80952e476" headers="d80952e460 ">
                                    <p><code class="codeph">NO_TXN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d80952e476 d80952e463 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d80952e476 d80952e468 ">
                                    <p>Auto-commit mode is false and an Oracle data manipulation language (DML) statement is run.</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d80952e476 d80952e471 ">
                                    <p>The <code class="codeph">start</code> method is called on an <code class="codeph">XAResource</code> obtained from the <code class="codeph">XAconnection</code> that provided the current connection.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d80952e499" headers="d80952e460 ">
                                    <p><code class="codeph">LOCAL_TXN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d80952e499 d80952e463 ">
                                    <p>Any of the following happens:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>An Oracle data definition language (DDL) statement is run.</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">commit</code> is called.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">rollback</code> is called, but without parameters.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d80952e499 d80952e468 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d80952e499 d80952e471 ">
                                    <p>The <code class="codeph">start</code> method is called on an <code class="codeph">XAResource</code> obtained from the <code class="codeph">XAconnection</code> that provided the current connection. This feature is available starting from Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d80952e539" headers="d80952e460 ">
                                    <p><code class="codeph">GLOBAL_TXN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d80952e539 d80952e463 ">
                                    <p>Within a global transaction open on this connection, <code class="codeph">end</code> is called on an <code class="codeph">XAResource</code> obtained from the <code class="codeph">XAconnection</code> that provided this connection.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d80952e539 d80952e468 ">
                                    <p>NEVER</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d80952e539 d80952e471 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>If none of these rules is applicable, then the mode does not change.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17__GUID-0BE039EC-D760-467A-9AAC-E900145458EA">Mode Restrictions on Operations</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The current connection mode restricts which operations are valid within a transaction.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In the <code class="codeph">LOCAL_TXN</code> mode, applications must not call <code class="codeph">prepare</code>, <code class="codeph">commit</code>, <code class="codeph">rollback</code>, <code class="codeph">forget</code>, or <code class="codeph">end</code> on an <code class="codeph">XAResource</code>. Doing so causes an <code class="codeph">XAException</code> to be thrown.
                              </p>
                           </li>
                           <li>
                              <p>In the <code class="codeph">GLOBAL_TXN</code> mode, applications must not call <code class="codeph">commit</code>, <code class="codeph">rollback</code>, <code class="codeph">rollback(Savepoint)</code>, <code class="codeph">setAutoCommit(true)</code>, or <code class="codeph">setSavepoint</code> on a <code class="codeph">java.sql.Connection</code>, and must not call <code class="codeph">OracleSetSavepoint</code> or <code class="codeph">oracleRollback</code> on an <code class="codeph">oracle.jdbc.OracleConnection</code>. Doing so causes a <code class="codeph">SQLException</code> to be thrown.
                              </p>
                              <div class="infoboxnote" id="GUID-C6290011-D20A-41BD-9FA5-FEDBCD9B4F17__GUID-B0E41C1E-FDAF-45F2-9BCE-0E5DB459BB89">
                                 <p class="notep1">Note:</p>
                                 <p>This mode-restriction error checking is in addition to the standard error checking on the transaction and savepoint APIs.</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28849"></a><div class="props_rev_3"><a id="GUID-B5EBFDDD-5A19-43C8-A2B7-6838F752800E" name="GUID-B5EBFDDD-5A19-43C8-A2B7-6838F752800E"></a><h4 id="JJDBC-GUID-B5EBFDDD-5A19-43C8-A2B7-6838F752800E" class="sect4"><span class="enumeration_section">33.1.5 </span>Oracle XA Packages
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle supplies the following three packages that have classes to implement distributed transaction functionality according to the XA standard:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">oracle.jdbc.xa</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.jdbc.xa.client</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.jdbc.xa.server</code></p>
                           </li>
                        </ul>
                        <p>Classes for XA data sources, XA connections, and XA resources are in both the <code class="codeph">client</code> package and the <code class="codeph">server</code> package. An abstract class for each is in the top-level package. The <code class="codeph">OracleXid</code> and <code class="codeph">OracleXAException</code> classes are in the top-level <code class="codeph">oracle.jdbc.xa</code> package, because their functionality does not depend on where the code is running. 
                        </p>
                        <p>In middle-tier scenarios, you will import <code class="codeph">OracleXid</code>, <code class="codeph">OracleXAException</code>, and the <code class="codeph">oracle.jdbc.xa.client</code> package.
                        </p>
                        <p>If you intend your XA code to run in the target Oracle Database, however, you will import the <code class="codeph">oracle.jdbc.xa.server</code> package instead of the <code class="codeph">client</code> package.
                        </p>
                        <p>If code that will run inside a target database must also access remote databases, then do not import either package. Instead, you must fully qualify the names of any classes that you use from the <code class="codeph">client</code> package to access a remote database or from the <code class="codeph">server</code> package to access the local database. Class names are duplicated between these packages.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28850"></a><div class="props_rev_3"><a id="GUID-178456B8-4C4E-43BB-9097-DF2F269513CB" name="GUID-178456B8-4C4E-43BB-9097-DF2F269513CB"></a><h3 id="JJDBC-GUID-178456B8-4C4E-43BB-9097-DF2F269513CB" class="sect3"><span class="enumeration_section">33.2 </span>XA Components
               </h3>
               <div>
                  <div class="section">
                     <p>This section discusses the XA components, that is, the standard XA interfaces specified in the JDBC standard, and the Oracle classes that implement them. The following topics are covered:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="distributed-transactions.html#GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB">XADatasource Interface and Oracle Implementation</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-03941C0D-32EF-49E6-934B-6EB080C5A64D">XAConnection Interface and Oracle Implementation</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-F7013AB7-8F57-4260-A0F6-E7EAEDFBC063">XAResource Interface and Oracle Implementation</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-CD752E5A-309E-440A-A711-71083DD5B6A6">OracleXAResource Method Functionality and Input Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-4FE2BFF4-9F22-4752-B571-B44D6F220BDC">Xid Interface and Oracle Implementation</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28851"></a><div class="props_rev_3"><a id="GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB" name="GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB"></a><h4 id="JJDBC-GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB" class="sect4"><span class="enumeration_section">33.2.1 </span>XADatasource Interface and Oracle Implementation
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">javax.sql.XADataSource</code> interface outlines standard functionality of XA data sources, which are factories for XA connections. The overloaded <code class="codeph">getXAConnection</code> method returns an XA connection instance and optionally takes a user name and password as input:
                        </p><pre class="oac_no_warn" dir="ltr">public interface XADataSource
{
   XAConnection getXAConnection() throws SQLException;
   XAConnection getXAConnection(String user, String password)
      throws SQLException;
   ...
}
</pre><p>Oracle JDBC implements the <code class="codeph">XADataSource</code> interface with the <code class="codeph">OracleXADataSource</code> class, located both in the <code class="codeph">oracle.jdbc.xa.client package</code> and the <code class="codeph">oracle.jdbc.xa.server</code> package. 
                        </p>
                        <p>The <code class="codeph">OracleXADataSource</code> classes also extend the <code class="codeph">OracleConnectionPoolDataSource</code> class, which extends the <code class="codeph">OracleDataSource</code> class, and therefore, include all the connection properties.
                        </p>
                        <p>The <code class="codeph">getXAConnection</code> methods of the <code class="codeph">OracleXADataSource</code> class returns the Oracle implementation of XA connection instances, which are <code class="codeph">OracleXAConnection</code> instances.
                        </p>
                        <div class="infoboxnote" id="GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB__GUID-2771AC67-E5A5-40E5-ACE1-A9EB2F90FFED">
                           <p class="notep1">Note:</p>
                           <p>You can register XA data sources in Java Naming Directory and Interface (JNDI) using the same naming conventions as discussed previously for nonpooling data sources.</p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-0600DB23-5DBF-4729-AB20-EDBE71EC6CCB__GUID-D7E220D5-B021-4FB3-958D-B83FC8FB2B97">
                           <p class="notep1">See Also:</p>
                           <p>For information about Fast Connection Failover, refer to <a href="../jjucp/fast-connection-failover.html#JJUCP08100" target="_blank"><span class="italic">Oracle Universal Connection Pool for JDBC Developer's Guide</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28852"></a><div class="props_rev_3"><a id="GUID-03941C0D-32EF-49E6-934B-6EB080C5A64D" name="GUID-03941C0D-32EF-49E6-934B-6EB080C5A64D"></a><h4 id="JJDBC-GUID-03941C0D-32EF-49E6-934B-6EB080C5A64D" class="sect4"><span class="enumeration_section">33.2.2 </span>XAConnection Interface and Oracle Implementation
                  </h4>
                  <div>
                     <div class="section">
                        <p>An XA connection instance, as with a pooled connection instance, encapsulates a physical connection to a database. This would be the database specified in the connection properties of the XA data source instance that produced the XA connection instance.</p>
                        <p>Each XA connection instance also has the facility to produce the <code class="codeph">OracleXAResource</code> instance that will correspond to it for use in coordinating the distributed transaction.
                        </p>
                        <p>An XA connection instance is an instance of a class that implements the standard <code class="codeph">javax.sql.XAConnection</code> interface:
                        </p><pre class="oac_no_warn" dir="ltr">public interface XAConnection extends PooledConnection
{
   javax.jta.xa.XAResource getXAResource() throws SQLException;
}
</pre><p>As you see, the <code class="codeph">XAConnection</code> interface extends the <code class="codeph">javax.sql.PooledConnection</code> interface, so it also includes the <code class="codeph">getConnection</code>, <code class="codeph">close</code>, <code class="codeph">addConnectionEventListener</code>, and <code class="codeph">removeConnectionEventListener</code> methods.
                        </p>
                        <p>Oracle JDBC implements the <code class="codeph">XAConnection</code> interface with the <code class="codeph">OracleXAConnection</code> class, located both in the <code class="codeph">oracle.jdbc.xa.client package</code> and the <code class="codeph">oracle.jdbc.xa.server</code> package. 
                        </p>
                        <p>The <code class="codeph">OracleXAConnection</code> classes also extend the <code class="codeph">OraclePooledConnection</code> class.
                        </p>
                        <p>The <code class="codeph">OracleXAConnection</code> class <code class="codeph">getXAResource</code> method returns the Oracle implementation of an <code class="codeph">OracleXAResource</code> instance, which is an <code class="codeph">OracleXAResource</code> instance. The <code class="codeph">getConnection</code> method returns an <code class="codeph">OracleConnection</code> instance.
                        </p>
                        <p>A JDBC connection instance returned by an XA connection instance acts as a temporary handle to the physical connection, as opposed to encapsulating the physical connection. The physical connection is encapsulated by the XA connection instance. The connection obtained from an <code class="codeph">XAConnection</code> object behaves exactly like a regular connection, until it participates in a global transaction. At that time, auto-commit status is set to <code class="codeph">false</code>. After the global transaction ends, auto-commit status is returned to the value it had before the global transaction. The default auto-commit status on a connection obtained from <code class="codeph">XAConnection</code> is <code class="codeph">false</code> in all releases prior to Oracle Database 10<span class="italic">g</span>. Starting from Oracle Database 10<span class="italic">g</span>, the default status is <code class="codeph">true</code>.
                        </p>
                        <p>Each time an XA connection instance <code class="codeph">getConnection</code> method is called, it returns a new connection instance that exhibits the default behavior, and closes any previous connection instance that still exists and had been returned by the same XA connection instance. However, it is advisable to explicitly close any previous connection instance before opening a new one.
                        </p>
                        <p>Calling the <code class="codeph">close</code> method of an XA connection instance closes the physical connection to the database. This is typically performed in the middle tier.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28853"></a><div class="props_rev_3"><a id="GUID-F7013AB7-8F57-4260-A0F6-E7EAEDFBC063" name="GUID-F7013AB7-8F57-4260-A0F6-E7EAEDFBC063"></a><h4 id="JJDBC-GUID-F7013AB7-8F57-4260-A0F6-E7EAEDFBC063" class="sect4"><span class="enumeration_section">33.2.3 </span>XAResource Interface and Oracle Implementation
                  </h4>
                  <div>
                     <div class="section">
                        <p>The transaction manager uses <code class="codeph">OracleXAResource</code> instances to coordinate all the transaction branches that constitute a distributed transaction.
                        </p>
                        <p>Each <code class="codeph">OracleXAResource</code> instance provides the following key functionality, typically invoked by the transaction manager:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It associates and disassociates distributed transactions with the transaction branch operating in the XA connection instance that produced this <code class="codeph">OracleXAResource</code> instance. Essentially, it associates distributed transactions with the physical connection or session encapsulated by the XA connection instance. This is done through use of transaction IDs.
                              </p>
                           </li>
                           <li>
                              <p>It performs the two-phase commit functionality of a distributed transaction to ensure that changes are not committed in one transaction branch before there is assurance that the changes will succeed in all transaction branches. </p>
                              <div class="infoboxnote" id="GUID-F7013AB7-8F57-4260-A0F6-E7EAEDFBC063__GUID-DCCFBACE-2494-477B-9E5E-E0B6486C0B6C">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Because there must always be a one-to-one correlation between XA connection instances and <code class="codeph">OracleXAResource</code> instances, an <code class="codeph">OracleXAResource</code> instance is implicitly closed when the associated XA connection instance is closed.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If a transaction is opened by a given <code class="codeph">OracleXAResource</code> instance, then it must also be closed by the same <code class="codeph">OracleXAResource</code> instance.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                        <p>An <code class="codeph">OracleXAResource</code> instance is an instance of a class that implements the standard <code class="codeph">javax.transaction.xa.XAResource</code> interface. Oracle JDBC implements the <code class="codeph">XAResource</code> interface with the <code class="codeph">OracleXAResource</code> class, located both in the <code class="codeph">oracle.jdbc.xa.client</code> package and the <code class="codeph">oracle.jdbc.xa.server</code> package. 
                        </p>
                        <p>Oracle JDBC driver creates and returns an <code class="codeph">OracleXAResource</code> instance whenever the <code class="codeph">getXAResource</code> method of the <code class="codeph">OracleXAConnection</code> class is called, and it is Oracle JDBC driver that associates an <code class="codeph">OracleXAResource</code> instance with a connection instance and the transaction branch being run through that connection.
                        </p>
                        <p>This method is how an <code class="codeph">OracleXAResource</code> instance is associated with a particular connection and with the transaction branch being run in that connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28855"></a><a id="JJDBC28856"></a><a id="JJDBC28857"></a><a id="JJDBC28858"></a><a id="JJDBC28859"></a><a id="JJDBC28860"></a><a id="JJDBC28861"></a><a id="JJDBC28862"></a><a id="JJDBC28854"></a><div class="props_rev_3"><a id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6" name="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6"></a><h4 id="JJDBC-GUID-CD752E5A-309E-440A-A711-71083DD5B6A6" class="sect4"><span class="enumeration_section">33.2.4 </span>OracleXAResource Method Functionality and Input Parameters
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">OracleXAResource</code> class has several methods to coordinate a transaction branch with the distributed transaction with which it is associated. This functionality usually involves two-phase commit operations. 
                        </p>
                        <p>A transaction manager, receiving <code class="codeph">OracleXAResource</code> instances from a middle-tier component, such as an application server, typically invokes this functionality.
                        </p>
                        <p>Each of these methods takes a transaction ID as input, in the form of an <code class="codeph">Xid</code> instance, which includes a transaction branch ID component and a distributed transaction ID component. Every transaction branch has a unique transaction ID, but transaction branches belonging to the same global transaction have the same global transaction component as part of their transaction IDs.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-F66E0F1D-762E-4E76-BEF6-84C455709BB3">start</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Starts work on behalf of a transaction branch, associating the transaction branch with a distributed transaction.</p><pre class="oac_no_warn" dir="ltr">void start(Xid xid, int flags)
</pre><p>The <code class="codeph">flags</code> parameter must be one or more of the following values:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XAResource.TMNOFLAGS</code></p>
                              <p>Flags the start of a new transaction branch for subsequent operations in the session associated with this XA resource instance. This branch will have the transaction ID <code class="codeph">xid</code>, which is an <code class="codeph">OracleXid</code> instance created by the transaction manager. This will map the transaction branch to the appropriate distributed transaction.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XAResource.TMJOIN</code></p>
                              <p>Joins subsequent operations in the session associated with this XA resource instance to the existing transaction branch specified by <code class="codeph">xid</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XAResource.TMRESUME</code></p>
                              <p>Resumes the transaction branch specified by <code class="codeph">xid</code>.
                              </p>
                              <div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-84C6551D-D36F-43CE-91F5-21444E0410AB">
                                 <p class="notep1">Note:</p>
                                 <p>A transaction branch can be resumed only if it had been suspended earlier.</p>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.TMPROMOTE</code></p>
                              <p>Promotes a local transaction to a global transaction</p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.ORATMSERIALIZABLE</code></p>
                              <p>Starts a serializable transaction with transaction ID <code class="codeph">xid</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.ORATMREADONLY</code></p>
                              <p>Starts a read-only transaction with transaction ID <code class="codeph">xid</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.ORATMREADWRITE</code></p>
                              <p>Starts a read/write transaction with transaction ID <code class="codeph">xid</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OracleXAResource.ORATRANSLOOSE</code></p>
                              <p>Starts a loosely coupled transaction with transaction ID <code class="codeph">xid</code>.
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">TMNOFLAGS</code>, <code class="codeph">TMJOIN</code>, <code class="codeph">TMRESUME</code>, <code class="codeph">TMPROMOTE</code>, <code class="codeph">ORATMSERIALIZABLE</code>, <code class="codeph">ORATMREADONLY</code>, and <code class="codeph">ORATMREADWRITE </code>are defined as <code class="codeph">static</code> members of the <code class="codeph">XAResource</code> interface and <code class="codeph">OracleXAResource</code> class. <code class="codeph">ORATMSERIALIZABLE</code>, <code class="codeph">ORATMREADONLY</code>, and <code class="codeph">ORATMREADWRITE</code> are the isolation-mode flags. The default isolation behavior is <code class="codeph">READ COMMITTED</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-A277F597-3D7F-4F04-B5B9-BB67F8AB14F6">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Instead of using the <code class="codeph">start</code> method with <code class="codeph">TMRESUME</code>, the transaction manager can cast to <code class="codeph">OracleXAResource</code> and use the <code class="codeph">resume(Xid xid)</code> method, an Oracle extension.
                                 </p>
                              </li>
                              <li>
                                 <p>If you use <code class="codeph">TMRESUME</code>, then you must also use <code class="codeph">TMNOMIGRATE</code>, as in <code class="codeph">start(xid, XAResource.TMRESUME | OracleXAResource.TMNOMIGRATE)</code>. This prevents the application from receiving the error <code class="codeph">ORA 1002: fetch out of sequence</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>If you use the isolation-mode flags incorrectly, then an exception with code <code class="codeph">XAER_INVAL</code> is raised. Furthermore, you cannot use isolation-mode flags when resuming a global transaction, because you cannot set the isolation level of an existing transaction. If you try to use the isolation-mode flags when resuming a transaction, then an external Oracle exception with code ORA-24790 is raised.
                                 </p>
                              </li>
                              <li>
                                 <p>In order to avoid <code class="codeph">Error ORA 1002: fetch out of sequence</code>, include the   <code class="codeph">TMNOMIGRATE</code> flag as part of the <code class="codeph">start</code> method. For example: 
                                 </p><pre class="oac_no_warn" dir="ltr">start(xid, XAResource.TMSUSPEND | OracleXAResource.TMNOMIGRATE);
</pre></li>
                              <li>
                                 <p>All the flags defined in <code class="codeph">OracleXAResource</code> are Oracle extensions. When writing a transaction manager that uses these flags, you should be mindful of this.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>Note that to create an appropriate transaction ID in starting a transaction branch, the transaction manager must know to which distributed transaction the transaction branch belongs. The mechanics of this are handled between the middle tier and transaction manager.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-89F6688F-529A-4418-8FE7-A4B4772D7278">end</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Ends work on behalf of the transaction branch specified by <code class="codeph">xid</code>, disassociating the transaction branch from its distributed transaction.
                        </p><pre class="oac_no_warn" dir="ltr">void end(Xid xid, int flags)
</pre><p>The <code class="codeph">flags</code> parameter can have one of the following values:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XAResource.TMSUCCESS</code></p>
                              <p>This is to indicate that this transaction branch is known to have succeeded.</p>
                           </li>
                           <li>
                              <p><code class="codeph">XAResource.TMFAIL</code></p>
                              <p>This is to indicate that this transaction branch is known to have failed.</p>
                           </li>
                           <li>
                              <p><code class="codeph">XAResource.TMSUSPEND</code></p>
                              <p>This is to suspend the transaction branch specified by <code class="codeph">xid</code>. By suspending transaction branches, you can have multiple transaction branches in a single session. Only one can be active at any given time, however. Also, this tends to be more expensive in terms of resources than having two sessions.
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">TMSUCCESS</code>, <code class="codeph">TMFAIL</code>, and <code class="codeph">TMSUSPEND</code> are defined as static members of the <code class="codeph">XAResource</code> interface and <code class="codeph">OracleXAResource</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-07664836-6AA1-42DB-BDF1-6966841F53A5">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Instead of using the <code class="codeph">end</code> method with <code class="codeph">TMSUSPEND</code>, the transaction manager can cast to <code class="codeph">OracleXAResource</code> and use the <code class="codeph">suspend(Xid xid)</code> method, an Oracle extension.
                                 </p>
                              </li>
                              <li>
                                 <p>This XA functionality to suspend a transaction provides a way to switch between various transactions within a single JDBC connection. You can use the XA classes to accomplish this, even if you are not in a distributed transaction environment and would otherwise have no need for the XA classes.</p>
                              </li>
                              <li>
                                 <p>If you use <code class="codeph">TMSUSPEND</code>, then you must also use <code class="codeph">TMNOMIGRATE</code>, as in <code class="codeph">end(xid, XAResource.TMSUSPEND | OracleXAResource.TMNOMIGRATE)</code>. This prevents the application from receiving the error <code class="codeph">ORA 1002: fetch out of sequence</code>. 
                                 </p>
                              </li>
                              <li>
                                 <p>In order to avoid <code class="codeph">Error ORA 1002: fetch out of sequence</code>, include the   <code class="codeph">TMNOMIGRATE</code> flag as part of the end method. For example: 
                                 </p><pre class="oac_no_warn" dir="ltr">end(xid, XAResource.TMSUSPEND | OracleXAResource.TMNOMIGRATE);</pre></li>
                              <li>
                                 <p>All the flags defined in <code class="codeph">OracleXAResource</code> are Oracle         extensions. Any transaction manager that uses these flags should take heed of this.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-3C5E0195-77F6-4768-9B6C-1BECFA80B9C4">prepare</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Prepares the changes performed in the transaction branch specified by <code class="codeph">xid</code>. This is the first phase of a two-phase commit operation, to ensure that the database is accessible and that the changes can be committed successfully.
                        </p><pre class="oac_no_warn" dir="ltr">int prepare(Xid xid)
</pre><p>This method returns an integer value as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XAResource.XA_RDONLY</code></p>
                              <p>This is returned if the transaction branch runs only read-only operations such as <code class="codeph">SELECT</code> statements.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XAResource.XA_OK</code></p>
                              <p>This is returned if the transaction branch runs updates that are all prepared without error.</p>
                           </li>
                        </ul>
                        <p><code class="codeph">XA_RDONLY</code> and <code class="codeph">XA_OK</code> are defined as <code class="codeph">static</code> members of the <code class="codeph">XAResource</code> interface and <code class="codeph">OracleXAResource</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-B871A921-D468-484E-9DA2-2392B7E1B6E4">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">prepare</code> method sometimes does not return any value if the transaction branch runs updates and any of them encounters errors during preparation. In this case, an XA exception is thrown.
                                 </p>
                              </li>
                              <li>
                                 <p>Always call the <code class="codeph">end</code> method on a branch before calling the <code class="codeph">prepare</code> method.
                                 </p>
                              </li>
                              <li>
                                 <p>If there is only one transaction branch in a distributed transaction, then there is no need to call the <code class="codeph">prepare</code> method. You can call the <code class="codeph">OracleXAResource</code> <code class="codeph">commit</code> method without preparing first.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-C52864D1-B662-4AD8-92C4-DA75B4A73D1C">commit</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Commits prepared changes in the transaction branch specified by <code class="codeph">xid</code>. This is the second phase of a two-phase commit and is performed only after all transaction branches have been successfully prepared.
                        </p><pre class="oac_no_warn" dir="ltr">void commit(Xid xid, boolean onePhase)
</pre><p>Set the <code class="codeph">onePhase</code> parameter as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">true</code></p>
                              <p>This is to use one-phase instead of two-phase protocol in committing the transaction branch. This is appropriate if there is only one transaction branch in the distributed transaction; the <code class="codeph">prepare</code> step would be skipped.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">false</code></p>
                              <p>This is to use two-phase protocol in committing the transaction branch.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-22B85181-296C-4CDF-82F0-D796CCCCBC10">rollback</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Rolls back prepared changes in the transaction branch specified by <code class="codeph">xid</code>.
                        </p><pre class="oac_no_warn" dir="ltr">void rollback(Xid xid)</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-84832424-E7A8-4BF3-B00D-A0758ADC8923">forget</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Tells the resource manager to forget about a heuristically completed transaction branch.</p><pre class="oac_no_warn" dir="ltr">public void forget(Xid xid)</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-77BD844A-6E3F-4F07-A344-DDE7ECEB5D3C">recover</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The transaction manager calls this method during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states.</p><pre class="oac_no_warn" dir="ltr">public Xid[] recover(int flag)</pre><div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-4539DB7A-5DD5-4D48-BEC8-0BFC1B6DFB04">
                           <p class="notep1">Note:</p>
                           <p>Values for <code class="codeph">flag</code> other than <code class="codeph">TMSTARTRSCAN</code>, <code class="codeph">TMENDRSCAN</code>, or <code class="codeph">TMNOFLAGS</code>, cause an exception to be thrown, otherwise <code class="codeph">flag</code> is ignored.
                           </p>
                        </div>
                        <p>The resource manager returns zero or more <code class="codeph">Xid</code>s for the transaction branches that are currently in a prepared or heuristically completed state. If an error occurs during the operation, then the resource manager throws the appropriate <code class="codeph">XAException</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-50CF2CD2-8A13-4C3B-BE63-4A069A6709D8">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">recover</code> method requires SELECT privilege on <code class="codeph">DBA_PENDING_TRANSACTIONS</code> and EXECUTE privilege on <code class="codeph">SYS.DBMS_XA</code> in Oracle database server. For database versions prior to Oracle Database 11<span class="italic">g</span> Release 1, where an Oracle patch including a fix for bug 5945463 is not available, or it is infeasible to apply the patch for the particular application scenario, the <code class="codeph">recover</code> method requires <code class="codeph">SYSBDBA</code> privilege. Regular use of <code class="codeph">SYSDBA</code> privilege is a security risk. So, Oracle strongly recommends that you upgrade your Database or apply the fix for bug 5945463, if you need to use the <code class="codeph">recover</code> method.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD752E5A-309E-440A-A711-71083DD5B6A6__GUID-CA19D762-2DEA-4B57-BD1B-83FD47477D66">isSameRM</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To determine if two <code class="codeph">OracleXAResource</code> instances correspond to the same resource manager, call the <code class="codeph">isSameRM</code> method from one <code class="codeph">OracleXAResource</code> instance, specifying the other <code class="codeph">OracleXAResource</code> instance as input. In the following example, presume <code class="codeph">xares1</code> and <code class="codeph">xares2</code> are <code class="codeph">OracleXAResource</code> instances:
                        </p><pre class="oac_no_warn" dir="ltr">boolean sameRM = xares1.isSameRM(xares2);
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28863"></a><div class="props_rev_3"><a id="GUID-4FE2BFF4-9F22-4752-B571-B44D6F220BDC" name="GUID-4FE2BFF4-9F22-4752-B571-B44D6F220BDC"></a><h4 id="JJDBC-GUID-4FE2BFF4-9F22-4752-B571-B44D6F220BDC" class="sect4"><span class="enumeration_section">33.2.5 </span>Xid Interface and Oracle Implementation
                  </h4>
                  <div>
                     <div class="section">
                        <p>The transaction manager creates transaction ID instances and uses them in coordinating the branches of a distributed transaction. Each transaction branch is assigned a unique transaction ID, which includes the following information:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For<a id="d80952e1810" class="indexterm-anchor"></a><a id="d80952e1814" class="indexterm-anchor"></a>mat identifier
                              </p>
                              <p>A format identifier specifies a Java transaction manager. For example, there could be a format identifier <code class="codeph">orcl</code>. This field <span class="italic">cannot</span> be null. The size of a format identifier is 4 bytes.
                              </p>
                           </li>
                           <li>
                              <p>Glo<a id="d80952e1828" class="indexterm-anchor"></a><a id="d80952e1832" class="indexterm-anchor"></a><a id="d80952e1836" class="indexterm-anchor"></a><a id="d80952e1838" class="indexterm-anchor"></a>bal transaction identifier
                              </p>
                              <p>It is also known as a distributed transaction ID component. The size of a global transaction identifier is 64 bytes.</p>
                           </li>
                           <li>
                              <p>Bra<a id="d80952e1846" class="indexterm-anchor"></a><a id="d80952e1850" class="indexterm-anchor"></a><a id="d80952e1854" class="indexterm-anchor"></a><a id="d80952e1856" class="indexterm-anchor"></a>nch qualifier
                              </p>
                              <p>It is also known as transaction branch ID component. The size of a branch qualifier is 64 bytes.</p>
                           </li>
                        </ul>
                        <p>The 64-byte global transaction identifier value will be identical in the transaction IDs of all transaction branches belonging to the same distributed transaction. However, the overall transaction ID is unique for every transaction branch.</p>
                        <p>An XA transaction ID instance is an instance of a class that implements the standard <code class="codeph">javax.transaction.xa.Xid</code> interface, which is a Java mapping of the X/Open transaction identifier XID structure. 
                        </p>
                        <p>Oracle implements this interface with the <code class="codeph">OracleXid</code> class in the <code class="codeph">oracle.jdbc.xa</code> package. <code class="codeph">OracleXid</code> instances are employed only in a transaction manager, transparent to application programs or an application server.
                        </p>
                        <div class="infoboxnote" id="GUID-4FE2BFF4-9F22-4752-B571-B44D6F220BDC__GUID-2AE19F6E-33F3-45F2-8F85-FF9631CC940B">
                           <p class="notep1">Note:</p>
                           <p>Oracle does not require the use of <code class="codeph">OracleXid</code> for <code class="codeph">OracleXAResource</code> calls. Instead, use any class that implements the <code class="codeph">javax.transaction.xa.Xid</code> interface. 
                           </p>
                        </div>
                        <p>A transaction manager may use the following in creating an <code class="codeph">OracleXid</code> instance:
                        </p><pre class="oac_no_warn" dir="ltr">public OracleXid(int fId, byte gId[], byte bId[]) throws XAException
</pre><p><code class="codeph">fId</code> is an integer value for the format identifier, <code class="codeph">gId[]</code> is a byte array for the global transaction identifier, and <code class="codeph">bId[]</code> is a byte array for the branch qualifier.
                        </p>
                        <p>The <code class="codeph">Xid</code> interface specifies the following getter methods:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">public int getFormatId()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">public byte[] getGlobalTransactionId()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">public type[] getBranchQualifier()</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28864"></a><div class="props_rev_3"><a id="GUID-EAB7ACFA-5708-4608-B94D-0D9ECE391D67" name="GUID-EAB7ACFA-5708-4608-B94D-0D9ECE391D67"></a><h3 id="JJDBC-GUID-EAB7ACFA-5708-4608-B94D-0D9ECE391D67" class="sect3"><span class="enumeration_section">33.3 </span>Error Handling and Optimizations
               </h3>
               <div>
                  <div class="section">
                     <p>This section focuses on the functionality of XA exceptions and error handling and the Oracle optimizations in its XA implementation. It covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="distributed-transactions.html#GUID-31804AB5-6CA2-45A4-AE4C-F58FCF86EB5D">XAException Classes and Methods</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-57581BCF-85CE-4671-8323-CCAC62BA980A">Mapping Between Oracle Errors and XA Errors</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-2C258328-7DFD-42ED-AA03-01959FFE924A">XA Error Handling</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-FDF1F19F-7B5D-4BD8-AB6C-B26F47340C71">Oracle XA Optimizations</a></p>
                        </li>
                     </ul>
                     <p>The exception and error-handling discussion includes the standard XA exception class and the Oracle-specific XA exception class, as well as particular XA error codes and error-handling techniques.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28865"></a><div class="props_rev_3"><a id="GUID-31804AB5-6CA2-45A4-AE4C-F58FCF86EB5D" name="GUID-31804AB5-6CA2-45A4-AE4C-F58FCF86EB5D"></a><h4 id="JJDBC-GUID-31804AB5-6CA2-45A4-AE4C-F58FCF86EB5D" class="sect4"><span class="enumeration_section">33.3.1 </span>XAException Classes and Methods
                  </h4>
                  <div>
                     <div class="section">
                        <p>XA methods throw XA exceptions, as opposed to general exceptions or <code class="codeph">SQLExceptions</code>. An XA exception is an instance of the standard class <code class="codeph">javax.transaction.xa.XAException</code> or a subclass.
                        </p>
                        <p>An Oracle XAException is an instance that consists of an Oracle error portion and an XA error portion. Oracle provides the <code class="codeph">oracle.jdbc.xa.OracleXAException</code> subclasses of the standard <code class="codeph">javax.transaction.xa.XAException</code> class. An <code class="codeph">OracleXAException</code> instance is constructed using one of the following constructors:
                        </p><pre class="oac_no_warn" dir="ltr">public OracleXAException()

public OracleXAException(int error)
</pre><p>The error value is an error code that combines an Oracle SQL error value and an XA error value. The JDBC driver determines exactly how to combine the Oracle and XA error values.</p>
                        <p>The <code class="codeph">OracleXAException</code> class has the following methods:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">public int getOracleError()</code></p>
                              <p>This method returns the Oracle SQL error code pertaining to the exception, a standard ORA error number or 0 if there is no Oracle SQL error.</p>
                           </li>
                           <li>
                              <p><code class="codeph">public int getXAError()</code></p>
                              <p>This method returns the XA error code pertaining to the exception. XA error values are defined in the <code class="codeph">javax.transaction.xa.XAException</code> class.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28867"></a><a id="JJDBC28866"></a><div class="props_rev_3"><a id="GUID-57581BCF-85CE-4671-8323-CCAC62BA980A" name="GUID-57581BCF-85CE-4671-8323-CCAC62BA980A"></a><h4 id="JJDBC-GUID-57581BCF-85CE-4671-8323-CCAC62BA980A" class="sect4"><span class="enumeration_section">33.3.2 </span>Mapping Between Oracle Errors and XA Errors
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle errors correspond to XA errors in <code class="codeph">OracleXAException</code> instances as documented in <a href="distributed-transactions.html#GUID-57581BCF-85CE-4671-8323-CCAC62BA980A__CFHEEBFF" title="table">Table 33-2</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-57581BCF-85CE-4671-8323-CCAC62BA980A__CFHEEBFF">
                        <p class="titleintable">Table 33-2 Oracle-XA Error Mapping</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle-XA Error Mapping" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="41%" id="d80952e2096">Oracle Error Code</th>
                                 <th align="left" valign="bottom" width="59%" id="d80952e2099">XA Error Code</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2104" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24756</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2104 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_NOTA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2113" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24764</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2113 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_HEURCOM</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2122" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24765</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2122 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_HEURRB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2131" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24766</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2131 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_HEURMIX</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2140" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24767</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2140 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RDONLY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2149" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 25351</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2149 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RETRY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2158" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 30006</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2158 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RETRY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2167" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24763</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2167 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2176" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24769</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2176 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2185" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24770</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2185 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2194" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24776</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2194 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2204" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 2056</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2204 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2213" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 17448</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2213 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2222" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24768</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2222 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2231" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24775</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2231 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_PROTO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2240" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24761</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2240 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RBROLLBACK</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2249" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 2091</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2249 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RBROLLBACK</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2258" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 2092</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2258 d80952e2099 ">
                                    <p><code class="codeph">XAException.XA_RBROLLBACK</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2267" headers="d80952e2096 ">
                                    <p><code class="codeph">ORA 24780</code></p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2267 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_RMERR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d80952e2276" headers="d80952e2096 ">
                                    <p>All other <code class="codeph">ORA</code> errors
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="59%" headers="d80952e2276 d80952e2099 ">
                                    <p><code class="codeph">XAException.XAER_RMFAIL</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JJDBC28868"></a><div class="props_rev_3"><a id="GUID-2C258328-7DFD-42ED-AA03-01959FFE924A" name="GUID-2C258328-7DFD-42ED-AA03-01959FFE924A"></a><h4 id="JJDBC-GUID-2C258328-7DFD-42ED-AA03-01959FFE924A" class="sect4"><span class="enumeration_section">33.3.3 </span>XA Error Handling
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following code snippet uses the <code class="codeph">OracleXAException</code> class to process an XA exception:
                        </p><pre class="oac_no_warn" dir="ltr">try {
   ...
   ...<span class="italic">Perform XA operations</span>...
   ...
} catch(OracleXAException oxae) { 
  int oraerr = oxae.getOracleError();
  System.out.println("Error " + oraerr);
} 
  catch(XAException xae)
{...<span class="italic">Process generic XA exception</span>...}
</pre><p>In case the XA operations did not throw an Oracle-specific XA exception, the code drops through to process a generic XA exception.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28869"></a><div class="props_rev_3"><a id="GUID-FDF1F19F-7B5D-4BD8-AB6C-B26F47340C71" name="GUID-FDF1F19F-7B5D-4BD8-AB6C-B26F47340C71"></a><h4 id="JJDBC-GUID-FDF1F19F-7B5D-4BD8-AB6C-B26F47340C71" class="sect4"><span class="enumeration_section">33.3.4 </span>Oracle XA Optimizations
                  </h4>
                  <div>
                     <div class="section">
                        <p>Oracle JDBC has functionality to improve performance if two or more branches of a distributed transaction use the same database instance, meaning that the <code class="codeph">OracleXAResource</code> instances associated with these branches are associated with the same resource manager.
                        </p>
                        <p>In such a circumstance, the <code class="codeph">prepare</code> method of only one of these <code class="codeph">OracleXAResource</code> instances will return <code class="codeph">XA_OK</code> or will fail. The rest will return <code class="codeph">XA_RDONLY</code>, even if updates are made. This allows the transaction manager to implicitly join all the transaction branches and commit or roll back, in case of failure, the joined transaction through the <code class="codeph">OracleXAResource</code> instance that returned <code class="codeph">XA_OK</code> or failed.
                        </p>
                        <p>The transaction manager can use the <code class="codeph">OracleXAResource</code> class <code class="codeph">isSameRM</code> method to determine if two <code class="codeph">OracleXAResource</code> instances are using the same resource manager. This way it can interpret the meaning of <code class="codeph">XA_RDONLY</code> return values.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28870"></a><div class="props_rev_3"><a id="GUID-A1736524-8CB5-4965-89E3-C65C3861E784" name="GUID-A1736524-8CB5-4965-89E3-C65C3861E784"></a><h3 id="JJDBC-GUID-A1736524-8CB5-4965-89E3-C65C3861E784" class="sect3"><span class="enumeration_section">33.4 </span>About Implementing a Distributed Transaction
               </h3>
               <div>
                  <div class="section">
                     <p>This section provides an example of how to implement a distributed transaction using Oracle XA functionality. This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="distributed-transactions.html#GUID-DE4E55A0-9798-4FB1-BF11-1B011607612B">Summary of Imports for Oracle XA</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-1964042C-AA18-4E8B-8B43-5DE58BFE2610">Oracle XA Code Sample</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28871"></a><div class="props_rev_3"><a id="GUID-DE4E55A0-9798-4FB1-BF11-1B011607612B" name="GUID-DE4E55A0-9798-4FB1-BF11-1B011607612B"></a><h4 id="JJDBC-GUID-DE4E55A0-9798-4FB1-BF11-1B011607612B" class="sect4"><span class="enumeration_section">33.4.1 </span>Summary of Imports for Oracle XA
                  </h4>
                  <div>
                     <div class="section">
                        <p>You must import the following for Oracle XA functionality:</p><pre class="oac_no_warn" dir="ltr">import oracle.jdbc.xa.OracleXid;
import oracle.jdbc.xa.OracleXAException;
import oracle.jdbc.pool.*;
import oracle.jdbc.xa.client.*;
import javax.transaction.xa.*;
</pre><p>The <code class="codeph">oracle.jdbc.pool</code> package has classes for connection pooling functionality, some of which have XA-related classes as subclasses.
                        </p>
                        <p>Alternatively, if the code will run inside Oracle Database and access that database for SQL operations, you must import <code class="codeph">oracle.jdbc.xa.server</code> instead of <code class="codeph">oracle.jdbc.xa.client</code>.
                        </p><pre class="oac_no_warn" dir="ltr">import oracle.jdbc.xa.server.*;
</pre><p>If your application must access another Oracle Database as part of an XA transaction using the server-side Thin driver, then your code can use the fully qualified names of the <code class="codeph">oracle.xa.client</code> classes.
                        </p>
                        <p>The <code class="codeph">client</code> and <code class="codeph">server</code> packages each have versions of the <code class="codeph">OracleXADataSource</code>, <code class="codeph">OracleXAConnection</code>, and <code class="codeph">OracleXAResource</code> classes. Abstract versions of these three classes are in the top-level <code class="codeph">oracle.jdbc.xa</code> package.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28872"></a><div class="props_rev_3"><a id="GUID-1964042C-AA18-4E8B-8B43-5DE58BFE2610" name="GUID-1964042C-AA18-4E8B-8B43-5DE58BFE2610"></a><h4 id="JJDBC-GUID-1964042C-AA18-4E8B-8B43-5DE58BFE2610" class="sect4"><span class="enumeration_section">33.4.2 </span>Oracle XA Code Sample
                  </h4>
                  <div>
                     <div class="section">
                        <p>This example uses a two-phase distributed transaction with two transaction branches, each to a separate database. </p>
                        <p>Note that for simplicity, this example combines code that would typically be in a middle tier with code that would typically be in a transaction manager, such as the <code class="codeph">OracleXAResource</code> method invocations and the creation of transaction IDs.
                        </p>
                        <p>For brevity, the specifics of creating transaction IDs and performing SQL operations are not shown here. The complete example is shipped with the product.</p>
                        <p>This example performs the following sequence:</p>
                        <ol>
                           <li>
                              <p>Start transaction branch #1.</p>
                           </li>
                           <li>
                              <p>Start transaction branch #2.</p>
                           </li>
                           <li>
                              <p>Execute DML operations on branch #1.</p>
                           </li>
                           <li>
                              <p>Execute DML operations on branch #2.</p>
                           </li>
                           <li>
                              <p>End transaction branch #1.</p>
                           </li>
                           <li>
                              <p>End transaction branch #2.</p>
                           </li>
                           <li>
                              <p>Prepare branch #1.</p>
                           </li>
                           <li>
                              <p>Prepare branch #2.</p>
                           </li>
                           <li>
                              <p>Commit branch #1.</p>
                           </li>
                           <li>
                              <p>Commit branch #2.</p>
                           </li>
                        </ol><pre class="oac_no_warn" dir="ltr">// You need to import the java.sql package to use JDBC
import java.sql.*;
import javax.sql.*;
import oracle.jdbc.*;
import oracle.jdbc.pool.*;
import oracle.jdbc.xa.OracleXid;
import oracle.jdbc.xa.OracleXAException;
import oracle.jdbc.xa.client.*;
import javax.transaction.xa.*;

class XA4
{
  public static void main (String args [])
       throws SQLException 
  {

    try
    {
        String URL1 = "jdbc:oracle:oci:@";
        // You can put a database name after the @ sign in the connection URL.
        String URL2 ="jdbc:oracle:thin:@(description=(address=(host=localhost)
                     (protocol=tcp)(port=5521))(connect_data=(service_name=orcl)))";
        // Create first DataSource and get connection
        OracleDataSource ods1 = new OracleDataSource();
        ods1.setURL(URL1);
        ods1.setUser("HR");
        ods1.setPassword("hr");
        Connection conna = ods1.getConnection();

        // Create second DataSource and get connection
        OracleDataSource ods2 = new OracleDataSource();
        ods2.setURL(URL2);
        ods2.setUser("HR");
        ods2.setPassword("hr");
        Connection connb = ods2.getConnection();

        // Prepare a statement to create the table
        Statement stmta = conna.createStatement ();

        // Prepare a statement to create the table
        Statement stmtb = connb.createStatement ();

        try
        {
          // Drop the test table
          stmta.execute ("drop table my_table");
        }
        catch (SQLException e)
        {
          // Ignore an error here
        }

        try
        {   
          // Create a test table
          stmta.execute ("create table my_table (col1 int)");
        }
        catch (SQLException e)
        {
          // Ignore an error here too
        }

        try
        {
          // Drop the test table
          stmtb.execute ("drop table my_tab");
        }
        catch (SQLException e)
        {
          // Ignore an error here
        }

        try
        {   
          // Create a test table
          stmtb.execute ("create table my_tab (col1 char(30))");
        }
        catch (SQLException e)
        {
          // Ignore an error here too
        }

        // Create XADataSource instances and set properties.
        OracleXADataSource oxds1 = new OracleXADataSource();
        oxds1.setURL("jdbc:oracle:oci:@");
        oxds1.setUser("HR");
        oxds1.setPassword("hr");

        OracleXADataSource oxds2 = new OracleXADataSource();

        oxds2.setURL("jdbc:oracle:thin:@(description=(address=(host=localhost)
                   (protocol=tcp)(port=5521))(connect_data=(service_name=orcl)))");
        oxds2.setUser("HR");
        oxds2.setPassword("hr");
    
        // Get XA connections to the underlying data sources
        XAConnection pc1  = oxds1.getXAConnection();
        XAConnection pc2  = oxds2.getXAConnection();

        // Get the physical connections
        Connection conn1 = pc1.getConnection();
        Connection conn2 = pc2.getConnection();

        // Get the XA resources
        XAResource oxar1 = pc1.getXAResource();
        XAResource oxar2 = pc2.getXAResource();

        // Create the Xids With the Same Global Ids
        Xid xid1 = createXid(1);
        Xid xid2 = createXid(2);

        // Start the Resources
        oxar1.start (xid1, XAResource.TMNOFLAGS);
        oxar2.start (xid2, XAResource.TMNOFLAGS);

        // Execute SQL operations with conn1 and conn2
        doSomeWork1 (conn1);
        doSomeWork2 (conn2);

        // END both the branches -- IMPORTANT
        oxar1.end(xid1, XAResource.TMSUCCESS);
        oxar2.end(xid2, XAResource.TMSUCCESS);

        // Prepare the RMs
        int prp1 =  oxar1.prepare (xid1);
        int prp2 =  oxar2.prepare (xid2);

        System.out.println("Return value of prepare 1 is " + prp1);
        System.out.println("Return value of prepare 2 is " + prp2);

        boolean do_commit = true;

        if (!((prp1 == XAResource.XA_OK) || (prp1 == XAResource.XA_RDONLY)))
           do_commit = false;

        if (!((prp2 == XAResource.XA_OK) || (prp2 == XAResource.XA_RDONLY)))
           do_commit = false;

       System.out.println("do_commit is " + do_commit);
        System.out.println("Is oxar1 same as oxar2 ? " + oxar1.isSameRM(oxar2));

        if (prp1 == XAResource.XA_OK)
          if (do_commit)
             oxar1.commit (xid1, false);
          else
             oxar1.rollback (xid1);

        if (prp2 == XAResource.XA_OK)
          if (do_commit)
             oxar2.commit (xid2, false);
          else
             oxar2.rollback (xid2);

         // Close connections
        conn1.close();
        conn1 = null;
        conn2.close();
        conn2 = null;

        pc1.close();
        pc1 = null;
        pc2.close();
        pc2 = null;

        ResultSet rset = stmta.executeQuery ("select col1 from my_table");
        while (rset.next())
          System.out.println("Col1 is " + rset.getInt(1));
  
        rset.close();
        rset = null;

        rset = stmtb.executeQuery ("select col1 from my_tab");
        while (rset.next())
          System.out.println("Col1 is " + rset.getString(1));
  
        rset.close();
        rset = null;

        stmta.close();
        stmta = null;
        stmtb.close();
        stmtb = null;

        conna.close();
        conna = null;
        connb.close();
        connb = null;

    } catch (SQLException sqe)
    {
      sqe.printStackTrace();
    } catch (XAException xae)
    {
      if (xae instanceof OracleXAException) {
        System.out.println("XA Error is " +
                      ((OracleXAException)xae).getXAError());
        System.out.println("SQL Error is " +
                      ((OracleXAException)xae).getOracleError());
      }
    }
  }

  static Xid createXid(int bids)
    throws XAException
  {...<span class="italic">Create transaction IDs</span>...}

  private static void doSomeWork1 (Connection conn)
   throws SQLException
  {...<span class="italic">Execute SQL operations</span>...}

  private static void doSomeWork2 (Connection conn)
   throws SQLException
  {...<span class="italic">Execute SQL operations</span>...}
}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28873"></a><div class="props_rev_3"><a id="GUID-1EF2D070-305D-49D9-9124-16FFDF7CCF74" name="GUID-1EF2D070-305D-49D9-9124-16FFDF7CCF74"></a><h3 id="JJDBC-GUID-1EF2D070-305D-49D9-9124-16FFDF7CCF74" class="sect3"><span class="enumeration_section">33.5 </span>Native-XA in Oracle JDBC Drivers
               </h3>
               <div>
                  <div class="section">
                     <p>In general, XA commands can be sent to the server in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Through non-native APIs</p>
                        </li>
                        <li>
                           <p>Through native APIs</p>
                        </li>
                     </ul>
                     <p>There is a huge performance difference between the two methods of sending XA commands to the server. The use of native APIs provide high performance gains as compared to the use of non-native APIs.</p>
                     <p>Prior to Oracle Database 10<span class="italic">g</span>, the Thin driver used non-native APIs to send XA commands to the server because Thin native APIs were not available. The non-native APIs use PL/SQL procedures, so they have the following disadvantages:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>They require different messages on the wire.</p>
                        </li>
                        <li>
                           <p>They cause more round-trips to the database.</p>
                        </li>
                        <li>
                           <p>They cause more cursors to remain open.</p>
                        </li>
                        <li>
                           <p>They damage statement caching by occupying space in the Statement Cache.</p>
                        </li>
                     </ul>
                     <p>Moreover, the implementation of non-native APIs is in the server. So, in order to solve any problem in sending XA commands, it requires a server patch. This creates a major issue because sometimes the patch requires restarting the server.</p>
                     <p>Starting from Oracle Database 10<span class="italic">g</span>, the Thin native APIs are available and are used to send XA commands, by default. Native APIs are more than 10 times faster than the non-native ones.
                     </p>
                     <p>This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="distributed-transactions.html#GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55">OCI Native XA</a></p>
                        </li>
                        <li>
                           <p><a href="distributed-transactions.html#GUID-1F63D0AC-A68E-48D8-B07C-E4E04CC42609">Thin Native XA</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28875"></a><a id="JJDBC28876"></a><a id="JJDBC28877"></a><a id="JJDBC28874"></a><div class="props_rev_3"><a id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55" name="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55"></a><h4 id="JJDBC-GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55" class="sect4"><span class="enumeration_section">33.5.1 </span>OCI Native XA
                  </h4>
                  <div>
                     <div class="section">
                        <p>Native XA is enabled through the use of the <code class="codeph">tnsEntry</code> and <code class="codeph">nativeXA</code> properties of the <code class="codeph">OracleXADataSource</code> class.
                        </p>
                        <div class="infoboxnote" id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55__GUID-23D64F4D-3959-4C2F-A0DE-04D49CDC7860">
                           <p class="notep1">Note:</p>
                           <p>Currently, OCI Native XA does not work in a multithreaded environment. The OCI driver uses the C/XA library of Oracle to support distributed transactions, which requires that an XAConnection be obtained for each thread before resuming a global transaction.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55__GUID-8C43188C-0089-4528-B4E3-10915B30C471">Configuration and Installation</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>On a  <a id="d80952e2716" class="indexterm-anchor"></a>Solaris or Linux system, you need the <code class="codeph">libheteroxa11.so</code> shared library to enable the Native XA feature. This library must be installed and available in the search path for the Native XA feature to work properly.
                        </p>
                        <p>On a Microsoft Windows system, you need the <code class="codeph">heteroxa11.dll</code> file to enable the Native XA feature. This file must be installed and available in the Windows DLL path for the Native XA feature to work properly.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55__GUID-728D08D0-2CD2-43CC-896C-0BB6ED8AE5B6">Exception Handling</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When using the Native XA feature in distributed transactions, it is recommended that the application simply check for <code class="codeph">XAException</code> or <code class="codeph">SQLException</code>, rather than <code class="codeph">OracleXAException</code> or <code class="codeph">OracleSQLException</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55__GUID-7EF7EE79-9165-4C84-A027-5970763BBBC6">
                           <p class="notep1">Note:</p>
                           <p>The mapping from SQL error codes to standard XA error codes does not apply to the Native XA feature.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C569E55B-4E1C-4DCF-88F4-05D831B69A55__GUID-F625D2D5-ECD4-49F0-9724-AEBC8686CF50">Native XA Code Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following portion of code shows how to enable the Native XA feature:</p><pre class="oac_no_warn" dir="ltr">...
// Create a XADataSource instance
OracleXADataSource oxds = new OracleXADataSource();
oxds.setURL(url);

// Set the nativeXA property to use Native XA feature
oxds.setNativeXA(true);

// Set the tnsEntry property to an older DB as required
oxds.setTNSEntryName("ora805");
...
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="data-sources-and-URLs.html#GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3">Features and Properties of Data Sources</a></li>
                           <li><a href="JDBC-error-messages.html#GUID-1F040951-2DB5-4A65-8027-8A737E34F6B3">Native XA Messages</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC28878"></a><div class="props_rev_3"><a id="GUID-1F63D0AC-A68E-48D8-B07C-E4E04CC42609" name="GUID-1F63D0AC-A68E-48D8-B07C-E4E04CC42609"></a><h4 id="JJDBC-GUID-1F63D0AC-A68E-48D8-B07C-E4E04CC42609" class="sect4"><span class="enumeration_section">33.5.2 </span>Thin Native XA
                  </h4>
                  <div>
                     <div class="section">
                        <p>Like the JDBC OCI driver, the JDBC Thin driver also provides support for Native XA. However, the JDBC Thin driver provides support for Native XA by default. This is unlike the case of the JDBC OCI driver in which the support for Native XA is not enabled by default.</p>
                        <p>You can disable Native XA by calling <code class="codeph">setNativeXA(false)</code> on the XA data source as follows:
                        </p><pre class="oac_no_warn" dir="ltr">...
// Create a XADataSource instance
OracleXADataSource oxds = new OracleXADataSource();
...
// Disabling Native XA
oxds.setNativeXA(false);
...
</pre><p>For example, you may need to disable Native XA as a workaround for a bug in the Native XA code.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01556.starting-interacting-with-rman-client.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Starting and Interacting with the RMAN&nbsp;Client</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="rman-architecture.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-rman-client-basic.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rman-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-rman-client-basic.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-starting-configuring-rman.html" property="item" typeof="WebPage"><span property="name"> Starting and Configuring RMAN and Flashback Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Starting and Interacting with the RMAN&nbsp;Client</li>
            </ol>
            <a id="GUID-E4E287F5-5F36-431A-B069-F360A5B4BC7C" name="GUID-E4E287F5-5F36-431A-B069-F360A5B4BC7C"></a><a id="BRADV005"></a>
            
            <h2 id="BRADV-GUID-E4E287F5-5F36-431A-B069-F360A5B4BC7C" class="sect2"><span class="enumeration_chapter">4 </span>Starting and Interacting with the RMAN&nbsp;Client
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how to start the RMAN command-line interface and make database connections. This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0" title="The RMAN executable is automatically installed with the database and is typically located in the same directory as the other database executables. For example, the RMAN client on Linux is located in $ORACLE_HOME/bin.">Starting and Exiting RMAN</a></p>
                  </li>
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a></p>
                  </li>
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-507D61EC-3D28-4C67-8013-BE724AD89FFD" title="By default, RMAN writes command output to standard output. To redirect output to a log file, enter the LOG parameter on the command line when you start RMAN.">Specifying the Location of RMAN Output</a></p>
                  </li>
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-F600535A-D46A-4BB1-88FD-266396ECE795" title="Before invoking RMAN, it may be useful to set the NLS_DATE_FORMAT and NLS_LANG environment variables. These variables determine the format used for the time parameters in RMAN commands such as RESTORE, RECOVER, and REPORT.">Setting Globalization Support Environment Variables for RMAN</a></p>
                  </li>
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-D7BEDDA1-26CF-47E0-B55F-85E3CA238ECA" title="When the RMAN client is ready for your commands, it displays the command promptFor repetitive tasks, you can create a text file containing RMAN commands, and start the RMAN client with the @ argument, followed by a file name.The comment character in RMAN is a pound sign (#). All text from the pound sign to the end of the line is ignored. When running a command file, you can specify one or more values in a USING clause for use in substitution variables in a command file. In this way, you can make your command files dynamic.You can test RMAN commands for syntactic correctness without executing them. Use the command-line argument CHECKSYNTAX to start the RMAN client in a mode in which it only parses the commands that you enter and returns an RMAN-00558 error for commands that are not legal RMAN syntax.You can check the syntax of RMAN commands interactively without actually executing the commands.To test commands in a command file, start RMAN with the CHECKSYNTAX parameter and use the @ command to name the command file to be passed.">Entering RMAN Commands</a></p>
                  </li>
                  <li>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-2273E896-C08B-498F-B96C-55400CCD1A17" title="The RMAN pipe interface is an alternative method for issuing commands to RMAN and receiving the output from those commands. Using this interface, it is possible to write a portable programmatic interface to RMAN.">Using the RMAN Pipe Interface</a></p>
                  </li>
               </ul>
            </div><a id="BRADV8121"></a><div class="props_rev_3"><a id="GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0" name="GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0"></a><h3 id="BRADV-GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0" class="sect3"><span class="enumeration_section">4.1 </span>Starting and Exiting RMAN
               </h3>
               <div>
                  <p>The RMAN executable is automatically installed with the database and is typically located in the same directory as the other database executables. For example, the RMAN client on Linux is located in <code class="codeph">$ORACLE_HOME/bin</code>.
                  </p>
                  <div class="section">
                     <p>You have the following basic options for starting RMAN:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Start the RMAN executable at the operating system command line without specifying any connection options, as in the following example:</p><pre class="oac_no_warn" dir="ltr">% rman
</pre><p>See <span class="q">"<span><a href="starting-interacting-with-rman-client.html#GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305" title="If you start RMAN without a connect string on the operating system command line, then you must issue a CONNECT TARGET command at the RMAN prompt to connect to a target database.">Making Database Connections from the RMAN Prompt</a></span>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Start the RMAN executable at the operating system command line, as in the following examples:</p><pre class="oac_no_warn" dir="ltr">% rman TARGET /
% rman TARGET sbu@prod NOCATALOG
</pre><p>See <span class="q">"<span><a href="starting-interacting-with-rman-client.html#GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B" title="To connect to a target database from the operating system command line, enter the rman command followed by the connection information. You can begin executing commands after the RMAN prompt is displayed.">Making RMAN Database Connections from the Operating System Command Line</a></span>"</span>.
                           </p>
                        </li>
                     </ul>
                     <p>To quit RMAN and terminate the program, enter <code class="codeph">EXIT</code> or <code class="codeph">QUIT</code> at the RMAN prompt:
                     </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; EXIT</pre><div class="infoboxnotealso" id="GUID-92CF0473-8B35-48A8-BA49-4DC52A7ECBC0__GUID-9283C17C-0D6E-407B-B7B7-55E7776BE872">
                        <p class="notep1">See Also:</p>
                        <p><span class="italic"><span><a href="../rcmrf/RMAN.html#RCMRF111" target="_blank">Oracle Database Backup and Recovery Reference</a></span></span> for RMAN command-line syntax
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV8123"></a><div class="props_rev_3"><a id="GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" name="GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C"></a><h3 id="BRADV-GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" class="sect3"><span class="enumeration_section">4.2 </span>Making Database Connections with RMAN
               </h3>
               <div>
                  <p>You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C" title="To perform useful work, the RMAN client must connect to a database.">About RMAN Database Connection Types</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-BF676275-B5A4-46BE-8CDC-544906C416D2" title="Users connecting with RMAN to a target or auxiliary database require either the SYSDBA or SYSBACKUP system privilege.">About Authentication for RMAN Database Connections</a></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305" title="If you start RMAN without a connect string on the operating system command line, then you must issue a CONNECT TARGET command at the RMAN prompt to connect to a target database.">Making Database Connections from the RMAN Prompt</a></span></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B" title="To connect to a target database from the operating system command line, enter the rman command followed by the connection information. You can begin executing commands after the RMAN prompt is displayed.">Making RMAN Database Connections from the Operating System Command Line</a></span></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75" title="To use the DUPLICATE command, you must connect to an auxiliary instance. Performing tablespace point-in-time recovery (TSPITR) may also require a connection to an auxiliary instance.">Connecting RMAN to an Auxiliary Database</a></span></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" title="You can connect the RMAN client to multitenant container databases (CDBs) and pluggable databases (PDBs).">Making RMAN Connections to a CDB</a></span></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-243F06D7-4CEC-4472-BA6B-79D8C9EEF07F" title="You can make a database connection by creating an RMAN command file containing a CONNECT command..">Making RMAN Database Connections Within Command Files</a></span></p>
                     </li>
                     <li>
                        <p><span><a href="starting-interacting-with-rman-client.html#GUID-B7F7CDF4-3F34-4D20-AD36-10E2067DD7C6" title="When you are diagnosing errors that RMAN encounters in connecting to the target, catalog and auxiliary databases, consider using SQL*Plus to connect to the databases directly. This action can reveal underlying problems with the connection information or the databases.">Diagnosing RMAN Connection Problems</a></span></p>
                     </li>
                  </ul>
               </div><a id="BRADV151"></a><a id="BRADV89390"></a><div class="props_rev_3"><a id="GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C" name="GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C"></a><h4 id="BRADV-GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C" class="sect4"><span class="enumeration_section">4.2.1 </span>About RMAN Database Connection Types
                  </h4>
                  <div>
                     <p>To perform useful work, the RMAN client must connect to a database.</p>
                     <p><a href="starting-interacting-with-rman-client.html#GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C__CEGHGAFD" title="Types of RMAN database connections">Table 4-1</a> describes the types of database connections that you can make with RMAN.
                     </p>
                     <div class="tblformal" id="GUID-10B522E4-BA12-4B74-A77A-E189BFF6E59C__CEGHGAFD">
                        <p class="titleintable">Table 4-1 Overview of RMAN Database Connections</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Overview of RMAN Database Connections" summary="Types of RMAN database connections" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d19045e569">Type of Database Connection</th>
                                 <th align="left" valign="bottom" width="14%" id="d19045e572">Keyword</th>
                                 <th align="left" valign="bottom" width="57%" id="d19045e575">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19045e580" headers="d19045e569 ">
                                    <p><a href="glossary.html#GUID-272C4366-303F-4629-9679-1379AAC3FBC1"><span class="xrefglossterm">target database</span></a></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d19045e580 d19045e572 ">
                                    <p><code class="codeph">TARGET</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d19045e580 d19045e575 ">
                                    <p>A database to be backed up or recovered by RMAN</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19045e593" headers="d19045e569 ">
                                    <p><a href="glossary.html#GUID-C54D9858-2461-412B-95FF-80FBACD58AB0"><span class="xrefglossterm">recovery catalog database</span></a></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d19045e593 d19045e572 ">
                                    <p><code class="codeph">CATALOG</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d19045e593 d19045e575 ">
                                    <p>A database that provides an optional backup store for the RMAN repository in addition to the control file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19045e606" headers="d19045e569 ">
                                    <p><a href="glossary.html#GUID-4B8BBEA0-2F0F-4C5E-AE69-F1EE4DBA1B46"><span class="xrefglossterm">auxiliary instance</span></a> or <a href="glossary.html#GUID-C179BB7F-F134-4D10-AADB-335526DB2BBA"><span class="xrefglossterm">auxiliary database</span></a></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d19045e606 d19045e572 ">
                                    <p><code class="codeph">AUXILIARY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d19045e606 d19045e575 ">
                                    <p>A <a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a>, or a database instance created for performing a specific task such as creating a <a href="glossary.html#GUID-FFB6CFD5-300C-4290-B3C0-BFD930ACA30C"><span class="xrefglossterm">duplicate database</span></a>, transporting tablespaces, or performing <a href="glossary.html#GUID-8A257409-B3DC-41FD-A2AF-D47560FF9F18"><span class="xrefglossterm">tablespace point-in-time recovery (TSPITR)</span></a>.
                                    </p>
                                    <p>For many tasks that use an auxiliary database, RMAN creates an automatic auxiliary instance for use during the task, connects to it, performs the task, and then destroys it when the task is completed. You do not give any explicit command to connect to automatic auxiliary instances. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="BRADV89391"></a><div class="props_rev_3"><a id="GUID-BF676275-B5A4-46BE-8CDC-544906C416D2" name="GUID-BF676275-B5A4-46BE-8CDC-544906C416D2"></a><h4 id="BRADV-GUID-BF676275-B5A4-46BE-8CDC-544906C416D2" class="sect4"><span class="enumeration_section">4.2.2 </span>About Authentication for RMAN Database Connections
                  </h4>
                  <div>
                     <p>Users connecting with RMAN to a target or auxiliary database require either the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> system privilege. 
                     </p>
                     <p>These privileges are not required when connecting to the recovery catalog. You must grant the <code class="codeph">RECOVERY_CATALOG_OWNER</code> role to the catalog schema owner. Users can also connect to the recovery catalog using the VPC credentials that have been created by the recovery catalog owner.
                     </p>
                     <p>The same authentication options that are available with SQL*Plus are available with RMAN. The most common ways to authenticate with the target and auxiliary databases are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Operating system authentication</p>
                           <p>The prerequisites for connecting using operating system authentication are described in <span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-703C639F-D05F-4130-8489-02E2BA6F1D26" title="RMAN connections to a target or auxiliary database can be made using operating system authentication.">Authentication Using the Operating System</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Password file authentication</p>
                           <p>The prerequisites for connecting using password file authentication are described in <span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D" title="Use a password file for either local or remote access. If a database uses a password file to authenticate administrative users, then RMAN can connect using a password.">Authentication Using a Password File</a>"</span>.
                           </p>
                        </li>
                     </ul>
                     <p>Neither of these methods requires the database to be open. Operating system authentication is used only to connect locally. Password file authentication can be used to connect locally or remotely.</p>
                     <div class="infoboxnotealso" id="GUID-BF676275-B5A4-46BE-8CDC-544906C416D2__GUID-EA573EA5-7154-4ED5-8AFC-0CC60546C206">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about database connection options when using SQL*Plus
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG785" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for details about the <code class="codeph">SYSDBA</code> and <code class="codeph">SYSBACKUP</code> system privileges
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV638"></a><a id="BRADV639"></a><a id="BRADV661"></a><a id="BRADV90309"></a><div class="props_rev_3"><a id="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26" name="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26"></a><h5 id="BRADV-GUID-703C639F-D05F-4130-8489-02E2BA6F1D26" class="sect5"><span class="enumeration_section">4.2.2.1 </span>Authentication Using the Operating System
                     </h5>
                     <div>
                        <p>RMAN connections to a target or auxiliary database can be made using operating system authentication.</p>
                        <div class="section">
                           <p>The following are the prerequisites for connecting to a database using operating system authentication (OS authentication):</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You must set the <code class="codeph">ORACLE_SID</code> environment variable, specifying the system identifier (SID) for the database.
                                 </p>
                                 <p>For example, to set the SID to <code class="codeph">prod</code> in some UNIX shells, you enter:
                                 </p><pre class="oac_no_warn" dir="ltr">% ORACLE_SID=prod; export ORACLE_SID
</pre></li>
                              <li>
                                 <p>You must be a member of the OSDBA operating system group to connect with the <code class="codeph">SYSDBA</code> privilege or the OSBACKUPDBA operating system group to connect with the <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                                 <p>On UNIX and Linux, the OSDBA group is typically named <code class="codeph">dba</code>, and the OSBACKUPDBA group is typically named <code class="codeph">backupdba</code>. These names are assigned during database installation.
                                 </p>
                              </li>
                           </ul>
                           <p>The following examples illustrate how to connect to a target database with operating system authentication.</p>
                           <div class="infoboxnotealso" id="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26__GUID-AF5076A7-EA39-4DD7-9B20-B49C2F43A924">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=ADMIN11053" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for a discussion of operating system groups
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26__GUID-51A530F9-E2B6-423C-B27A-35909FFB5502">
                           <p class="titleinexample">Example 4-1 OS Authentication with the SYSDBA Privilege - Explicit</p><pre class="oac_no_warn" dir="ltr">% rman target '"/ as sysdba"'</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26__GUID-E6DF9A7D-9BA1-4DD0-8A9B-7C6D27602294">
                           <p class="titleinexample">Example 4-2 OS Authentication with the SYSBACKUP Privilege - Explicit</p><pre class="oac_no_warn" dir="ltr">% rman target '"/ as sysbackup"'</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-703C639F-D05F-4130-8489-02E2BA6F1D26__GUID-40F466F4-7510-4A7B-BDFF-545ADAD1B315">
                           <p class="titleinexample">Example 4-3 OS Authentication with the SYSDBA Privilege - Implicit</p><pre class="oac_no_warn" dir="ltr">rman target /
</pre><p>If neither <code class="codeph">AS SYSBACKUP</code> nor <code class="codeph">AS SYSDBA</code> is specified in the connection string, then the default used is <code class="codeph">AS SYSDBA</code>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="BRADV662"></a><a id="BRADV663"></a><a id="BRADV664"></a><a id="BRADV90306"></a><div class="props_rev_3"><a id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D" name="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D"></a><h5 id="BRADV-GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D" class="sect5"><span class="enumeration_section">4.2.2.2 </span>Authentication Using a Password File
                     </h5>
                     <div>
                        <p>Use a password file for either local or remote access. If a database uses a password file to authenticate administrative users, then RMAN can connect using a password.</p>
                        <div class="section">
                           <p>The database must use a <a href="glossary.html#GUID-AFB3C6E2-4C77-460F-A64D-A980EBF628EB"><span class="xrefglossterm">password file</span></a> for you to connect remotely using a net service name.
                           </p>
                           <div class="infoboxnote" id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D__GUID-DF96C77B-2DE4-4A80-A3D8-8DFF1AD61763">
                              <p class="notep1">Caution:</p>
                              <p>Good security practice requires that passwords not be entered in plain text on the command line. Enter passwords in RMAN only when requested by an RMAN prompt. See <a href="../dbseg/configuring-authentication.html#DBSEG0032" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> to learn about password protection.
                              </p>
                           </div>
                           <p>The database creates an entry in the password file when you grant the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege to a user. You can then connect to the target or auxiliary database as this user even if the database is not open.
                           </p>
                           <p>To support connecting through the password file with the <code class="codeph">SYSBACKUP</code> privilege, the password file must be created in or upgraded to the format for Oracle Database 12<span class="italic">c</span> Release 1 (12.1) or later.
                           </p>
                           <p>If neither <code class="codeph">AS SYSBACKUP</code> nor <code class="codeph">AS SYSDBA</code> is specified in the connection string, then the default used is <code class="codeph">AS SYSDBA</code>. In this case, no enclosing quotes are required.
                           </p>
                           <div class="infoboxnotealso" id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D__GUID-34DE1A91-6906-4DDE-899F-EB7675F14886">
                              <p class="notep1">See Also:</p>
                              <p><a href="../admin/getting-started-with-database-administration.html#ADMIN11056" target="_blank"><span class="italic">Oracle Database Administrator's Guide </span></a>to learn about password files
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D__GUID-DE1E5ADD-DDC7-43FD-B624-7DC03E5CDFAE">
                           <p class="titleinexample">Example 4-4 Password File Authentication as SYSDBA	 - Explicit</p>
                           <p>In this example, the <code class="codeph">sdba</code> user has been granted the <code class="codeph">SYSDBA</code> privilege:
                           </p><pre class="oac_no_warn" dir="ltr">% rman target '"sdba@prod1 as sysdba"' 

target database Password: <span class="italic">password</span>
connected to target database: PROD1 (DBID=39525561)</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D__GUID-AC37F03B-9694-4441-A07C-DBFD69CE0C46">
                           <p class="titleinexample">Example 4-5 Password File Authentication as SYSBACKUP - Explicit</p>
                           <p>In this example, the <code class="codeph">sbu</code> user is granted the <code class="codeph">SYSBACKUP</code> privilege in the target database:
                           </p><pre class="oac_no_warn" dir="ltr">% rman target '"sbu@prod1 as sysbackup"' 

target database Password: <span class="italic">password</span>
connected to target database: PROD1 (DBID=39525561)</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-45C00A07-B22E-4199-BCCA-91D02FCABF8D__GUID-30F46410-1428-470B-8E2D-F3311430D42F">
                           <p class="titleinexample">Example 4-6 Password File Authentication as SYSDBA - Implicit</p><pre class="oac_no_warn" dir="ltr">% rman target sbu@prod1

target database Password: <span class="italic">password</span>
connected to target database: PROD1 (DBID=39525561)
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="BRADV564"></a><a id="BRADV666"></a><a id="BRADV667"></a><a id="BRADV668"></a><a id="BRADV669"></a><a id="BRADV89393"></a><div class="props_rev_3"><a id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305" name="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305"></a><h4 id="BRADV-GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305" class="sect4"><span class="enumeration_section">4.2.3 </span>Making Database Connections from the RMAN Prompt
                  </h4>
                  <div>
                     <p>If you start RMAN without a connect string on the operating system command line, then you must issue a <code class="codeph">CONNECT TARGET</code> command at the RMAN prompt to connect to a target database.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-6E4997EF-B511-4B95-A710-5AD4E28CA842">To make a database connection from the RMAN prompt:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>On the operating system command line, start the RMAN client without making a database connection.</span><div><pre class="oac_no_warn" dir="ltr">% rman
RMAN&gt;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>At the RMAN prompt, enter one or more <span><code class="codeph">CONNECT</code></span> commands.</span></li>
                     </ol>
                     <div class="example" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-9A4A3808-0461-4DC2-B2D0-D6E15E2D7FB8">
                        <p class="titleinexample">Example 4-7 Connecting With OS Authentication - Implicit</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; connect target /
</pre><p>Because no system privilege is specified, <span><code class="codeph">AS</code></span><span><code class="codeph">SYSDBA</code></span> is assumed.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-897C3FAD-3098-41AC-98DF-2F460553C3FC">
                        <p class="titleinexample">Example 4-8 Connecting with OS Authentication - Explicit</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; connect target "/ as sysdba"
</pre><p>When including a system privilege, the enclosing quotation marks (single or double) are required.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-C868A577-6A88-42E3-A4E1-DEA3416EC1CC">
                        <p class="titleinexample">Example 4-9 Connecting with Password File Authentication</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; connect target "sbu@prod AS SYSBACKUP"

target database Password: password
connected to target database: PROD (DBID=39525561)</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-6BDE5844-E75F-465C-B068-3645DBAA2F40">
                        <p class="titleinexample">Example 4-10 Connecting to Target and a Recovery Catalog</p>
                        <p>In this example, the target connection uses operating system authentication, and the recovery catalog database connection uses a net service name and password file authentication. The recovery catalog owner is user <span><code class="codeph">rco</code></span>. RMAN prompts for the password of the recovery catalog user.
                        </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; connect target /
RMAN&gt; connect catalog rco@catdb

recovery catalog database Password: password
connected to recovery catalog database</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E40A23BB-BE65-4665-B57D-F0D11FFDD305__GUID-64D3E2BC-1157-4B18-A852-4F36D6C6C4EF">
                           <p class="notep1">See Also:</p>
                           <p><span class="italic"><span><a href="../rcmrf/CONNECT.html#RCMRF114" target="_blank">Oracle Database Backup and Recovery Reference</a></span></span> to learn about the <span><code class="codeph">CONNECT</code></span> command
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV153"></a><a id="BRADV563"></a><a id="BRADV155"></a><a id="BRADV89392"></a><div class="props_rev_3"><a id="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B" name="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B"></a><h4 id="BRADV-GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B" class="sect4"><span class="enumeration_section">4.2.4 </span>Making RMAN Database Connections from the Operating System Command Line
                  </h4>
                  <div>
                     <p>To connect to a target database from the operating system command line, enter the <code class="codeph">rman</code> command followed by the connection information. You can begin executing commands after the RMAN prompt is displayed.
                     </p>
                     <div class="section">
                        <p>Use the <code class="codeph">CATALOG</code> keyword to connect to a recovery catalog. You can also start RMAN without specifying <code class="codeph">NOCATALOG</code> or <code class="codeph">CATALOG</code>. If you do not specify <code class="codeph">NOCATALOG</code> on the command line, and if you do not specify <a href="../rcmrf/CONNECT.html#RCMRF114" target="_blank"><code class="codeph">CONNECT CATALOG</code></a> after RMAN has started, then RMAN defaults to <code class="codeph">NOCATALOG</code> mode the first time that you run a command that requires the use of the RMAN repository. 
                        </p>
                        <div class="infoboxnote" id="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B__GUID-74F8AC49-CE11-4835-89D5-EB5B6B9692A8">
                           <p class="notep1">Note:</p>
                           <p>After you have executed a command that uses the RMAN repository in <code class="codeph">NOCATALOG</code> mode, you must exit and restart RMAN to be able to connect to a recovery catalog.
                           </p>
                        </div>
                        <p>If you connect to the target database on the operating system command line, then you can begin executing commands after the RMAN prompt is displayed.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B__CHDHAFFI">
                        <p class="titleinexample">Example 4-11 Connecting to a Target Database from the System Prompt</p>
                        <p>This example illustrates a connection to a target database that uses operating system authentication. The <code class="codeph">NOCATALOG</code> option indicates that a recovery catalog is not used in the session.
                        </p><pre class="oac_no_warn" dir="ltr">% rman TARGET / NOCATALOG

connected to target database: PROD (DBID=39525561)
using target database control file instead of recovery catalog
 
RMAN&gt;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B__CHDIGBFC">
                        <p class="titleinexample">Example 4-12 Connecting to a Target Database from the System Prompt by Using Net Service Names</p>
                        <p>This example illustrates a connection to a target database that uses a net service name and password file authentication. RMAN prompts for the password.</p><pre class="oac_no_warn" dir="ltr">% rman TARGET sbu@prod NOCATALOG

target database Password: <span class="italic">password</span>
connected to target database: PROD (DBID=39525561)

RMAN&gt;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-241D7D37-D905-4E52-99B6-3FD57AE1717B__BABJAFDA">
                        <p class="titleinexample">Example 4-13 Connecting to Target and a Recovery Catalog from the System Prompt</p>
                        <p>This example illustrates a connection that uses Oracle Net authentication for the target and recovery catalog databases. In both cases RMAN prompts for a password.</p><pre class="oac_no_warn" dir="ltr">% rman TARGET sbu@prod CATALOG rco@catdb

target database Password: <span class="italic">password</span>
connected to target database: PROD (DBID=39525561)
recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database

RMAN&gt;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="BRADV671"></a><div class="props_rev_3"><a id="GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" name="GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD"></a><h4 id="BRADV-GUID-B397ADD8-D9CF-4DDA-B6AC-8C5FF04447AD" class="sect4"><span class="enumeration_section">4.2.5 </span>Making RMAN Connections to a CDB
                  </h4>
                  <div>
                     <p>You can connect the RMAN client to multitenant container databases (CDBs) and pluggable databases (PDBs).</p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-01DF892F-FED5-4ADE-9152-9C3CF0921DBA" title="You can perform RMAN operations on a whole CDB, the root only, or one or more PDBs.">About Performing Operations on CDBs and PDBs</a></p>
                        </li>
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-7CB295E4-C934-4C87-A08E-7E502C8AD9AA" title="Certain restrictions apply when you connect directly to a pluggable database (PDB):">Restrictions When Connected to a PDB</a></p>
                        </li>
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D" title="There are several ways to connect as target to the root.">Connecting as Target to the Root</a></p>
                        </li>
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-E95C5C27-C036-4773-B77C-E4120526F422" title="You can connect to a PDB either from the RMAN prompt or the operating system command line.">Connecting as Target to a PDB</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV672"></a><div class="props_rev_3"><a id="GUID-01DF892F-FED5-4ADE-9152-9C3CF0921DBA" name="GUID-01DF892F-FED5-4ADE-9152-9C3CF0921DBA"></a><h5 id="BRADV-GUID-01DF892F-FED5-4ADE-9152-9C3CF0921DBA" class="sect5"><span class="enumeration_section">4.2.5.1 </span>About Performing Operations on CDBs and PDBs
                     </h5>
                     <div>
                        <p>You can perform RMAN operations on a whole CDB, the root only, or one or more PDBs. </p>
                        <p>Make RMAN connections to CDBs according to the following rules:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To perform operations on the whole CDB (for example, to back up the whole CDB) you connect as target to the root.</p>
                           </li>
                           <li>
                              <p>To perform operations on the root only (for example, to back up the root) you connect as target to the root.</p>
                           </li>
                           <li>
                              <p>To perform operations on a single PDB, you can connect as target either to the root or directly to the PDB.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you connect to the root, you must use the <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> syntax in your RMAN commands. For example, to back up a PDB, you use the <code class="codeph">BACKUP</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> command.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If instead you connect directly to a PDB, you can use the same commands that you would use when connecting to a <a href="glossary.html#GUID-62A96A52-3B97-455A-A443-75B999DCAC94"><span class="xrefglossterm">non-CDB</span></a>. For example, to back up a PDB, you would use the <code class="codeph">BACKUP</code> <code class="codeph">DATABASE</code> command.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>To perform operations on two or more PDBs with a single command, you connect as target to the root.</p>
                              <p>For example, to back up both the <code class="codeph">sales</code> and <code class="codeph">hr</code> PDBs, you connect to the root and submit the following command:
                              </p><pre class="oac_no_warn" dir="ltr">BACKUP PLUGGABLE DATABASE sales, hr;</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-01DF892F-FED5-4ADE-9152-9C3CF0921DBA__GUID-E1777870-69B4-4B2B-AE2C-FA5A1FC95E35">
                           <p class="notep1">Note:</p>
                           <p>If you connect as target to a CDB with operating system authentication, you are connected to the root.</p>
                        </div>
                     </div>
                  </div><a id="BRADV673"></a><div class="props_rev_3"><a id="GUID-7CB295E4-C934-4C87-A08E-7E502C8AD9AA" name="GUID-7CB295E4-C934-4C87-A08E-7E502C8AD9AA"></a><h5 id="BRADV-GUID-7CB295E4-C934-4C87-A08E-7E502C8AD9AA" class="sect5"><span class="enumeration_section">4.2.5.2 </span>Restrictions When Connected to a PDB
                     </h5>
                     <div>
                        <p>Certain restrictions apply when you connect directly to a pluggable database (PDB):</p>
                        <p>The following operations are not available when you connect as target directly to a PDB:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Back up archived logs</p>
                           </li>
                           <li>
                              <p>Delete archived logs</p>
                           </li>
                           <li>
                              <p>Delete archived log backups</p>
                           </li>
                           <li>
                              <p>Restore archived logs (RMAN does restore archived logs when required during media recovery.)</p>
                           </li>
                           <li>
                              <p>Point-in-time recovery (PITR) when using shared undo mode</p>
                           </li>
                           <li>
                              <p>TSPITR when using shared undo mode</p>
                           </li>
                           <li>
                              <p>Table recovery when using shared undo mode</p>
                           </li>
                           <li>
                              <p>Duplicate database when using shared undo mode</p>
                           </li>
                           <li>
                              <p>Flashback operations when using shared undo mode</p>
                           </li>
                           <li>
                              <p>Running Data Recovery Advisor</p>
                           </li>
                           <li>
                              <p>Report/delete obsolete</p>
                           </li>
                           <li>
                              <p>Register database</p>
                           </li>
                           <li>
                              <p>Import catalog</p>
                           </li>
                           <li>
                              <p>Reset database</p>
                           </li>
                           <li>
                              <p>Configuring the RMAN environment (using the <code class="codeph">CONFIGURE</code> command)
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV675"></a><a id="BRADV676"></a><a id="BRADV677"></a><a id="BRADV674"></a><div class="props_rev_3"><a id="GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D" name="GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D"></a><h5 id="BRADV-GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D" class="sect5"><span class="enumeration_section">4.2.5.3 </span>Connecting as Target to the Root
                     </h5>
                     <div>
                        <p>There are several ways to connect as target to the root. </p>
                        <div class="section">
                           <p>The three most common ways are as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Connecting locally as a common user, as shown in <a href="starting-interacting-with-rman-client.html#GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGDEDBA">Example 4-14</a></p>
                              </li>
                              <li>
                                 <p>Connecting with operating system authentication, as shown in <a href="starting-interacting-with-rman-client.html#GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGEEBBD">Example 4-15</a></p>
                              </li>
                              <li>
                                 <p>Connecting as a common user through Oracle Net Services, using a net service name, as shown in <a href="starting-interacting-with-rman-client.html#GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGGHBDB">Example 4-16</a></p>
                              </li>
                           </ul>
                           <p>In all cases, you must connect as a user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGDEDBA">
                           <p class="titleinexample">Example 4-14 Connecting Locally to the Root</p>
                           <p>This example connects locally to the root using the <code class="codeph">SYS</code> user, which is a common user. The connection is established using the <code class="codeph">SYSDBA</code> privilege.
                           </p><pre class="oac_no_warn" dir="ltr">rman target sys

target database Password: <span class="italic">password</span>
connected to target database: CDB (DBID=659628168)
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGEEBBD">
                           <p class="titleinexample">Example 4-15 Connecting to the Root with Operating System Authentication</p>
                           <p>This example connects locally to the root using operating system authentication. The connection is established as the <code class="codeph">SYS</code> user with <code class="codeph">SYSDBA</code> privilege.
                           </p><pre class="oac_no_warn" dir="ltr">rman target /
 
connected to target database: CDB (DBID=659628168)
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-43239E2D-0AFD-455D-89AB-87EDBC0E497D__CEGGHBDB">
                           <p class="titleinexample">Example 4-16 Connecting to the Root with a Net Service Name</p>
                           <p>This example assumes that there is a <code class="codeph">sales</code> net service name that resolves to a database service for the root, and that there is a common user named <code class="codeph">c##bkuser</code> that has the <code class="codeph">SYSBACKUP</code> privilege.
                           </p><pre class="oac_no_warn" dir="ltr">rman target c##bkuser@sales
 
target database Password: <span class="italic">password</span>
connected to target database: CDB (DBID=659628168)
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="BRADV701"></a><a id="BRADV678"></a><div class="props_rev_3"><a id="GUID-E95C5C27-C036-4773-B77C-E4120526F422" name="GUID-E95C5C27-C036-4773-B77C-E4120526F422"></a><h5 id="BRADV-GUID-E95C5C27-C036-4773-B77C-E4120526F422" class="sect5"><span class="enumeration_section">4.2.5.4 </span>Connecting as Target to a PDB
                     </h5>
                     <div>
                        <p>You can connect to a PDB either from the RMAN prompt or the operating system command line.</p>
                        <div class="p">
                           <p>To connect as target to a PDB, you must:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Connect with a net service name that resolves to a database service for that PDB.</p>
                              </li>
                              <li>
                                 <p>Connect as a <a href="glossary.html#GUID-43EA1A4C-E5EB-4926-99EC-1DDA0E74A07C"><span class="xrefglossterm">local user</span></a> or <a href="glossary.html#GUID-2B102186-15BD-443C-B375-8CB0D442CF5F"><span class="xrefglossterm">common user</span></a> with the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-E95C5C27-C036-4773-B77C-E4120526F422__CEGDIEHF">
                           <p class="titleinexample">Example 4-17 Connecting As Target to a PDB</p>
                           <p>This example illustrates a connection to a PDB. It assumes the following</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You want to perform RMAN operations on a PDB named <code class="codeph">hrpdb</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The net service name <code class="codeph">hrpdb</code> resolves to a database service for the <code class="codeph">hrpdb</code> PDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The local user <code class="codeph">hrbkup</code> was created in the <code class="codeph">hrpdb</code> PDB and granted the <code class="codeph">SYSDBA</code> privilege.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">rman target hrbkup@hrpdb
 
target database Password: <span class="italic">password</span>
connected to target database: CDB (DBID=659628168)
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-E95C5C27-C036-4773-B77C-E4120526F422__GUID-A1D3D7A6-ADEB-4CF8-B011-D106678EEA38">
                           <p class="titleinexample">Example 4-18 Connecting to a PDB and Recovery Catalog</p>
                           <p></p>
                           <p>This example illustrates a connection to a PDB and recovery catalog. It assumes the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You want to perform operations on a PDB named <code class="codeph">salespdb</code>. The <code class="codeph">SYSBACKUP</code> user is used to connect to the PDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The net service name <code class="codeph">salespdb</code> resolves to a database service for the <code class="codeph">salespdb</code> PDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The connection to the recovery catalog is created using the recovery catalog owner, <code class="codeph">rco</code>. The net service name for the recovery catalog database is <code class="codeph">catdb</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>Enter the passwords for the <code class="codeph">sysbackup</code> and <code class="codeph">rco</code> users when prompted.
                           </p><pre class="pre codeblock"><code>RMAN&gt; connect target "sys@salespdb as sysdba"
target database Password: 
connected to target database: DBMAIN:SALESPDB (DBID=1661283172)

RMAN&gt; connect catalog rco@catdb 
recovery catalog database Password: 
connected to recovery catalog database
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="BRADV129"></a><div class="props_rev_3"><a id="GUID-243F06D7-4CEC-4472-BA6B-79D8C9EEF07F" name="GUID-243F06D7-4CEC-4472-BA6B-79D8C9EEF07F"></a><h4 id="BRADV-GUID-243F06D7-4CEC-4472-BA6B-79D8C9EEF07F" class="sect4"><span class="enumeration_section">4.2.6 </span>Making RMAN Database Connections Within Command Files
                  </h4>
                  <div>
                     <p>You can make a database connection by creating an RMAN command file containing a <code class="codeph">CONNECT</code> command..
                     </p>
                     <div class="section">
                        <p>If you create an RMAN command file that uses a <a href="../rcmrf/CONNECT.html#RCMRF114" target="_blank"><code class="codeph">CONNECT</code></a> command with database level credentials (user name and password), then anyone with read access to this file can learn the password. There is no secure way to incorporate a <code class="codeph">CONNECT</code> string with a password into a command file.
                        </p>
                        <p>If you create an RMAN command file that uses a <code class="codeph">CONNECT</code> command, then RMAN does not echo the connect string when you run the command file with the <a href="../rcmrf/at-sign.html#RCMRF100" target="_blank"><code class="codeph">@</code></a> command. This behavior prevents connect strings from appearing in any log files that contain RMAN output. For example, suppose that you create a command file <code class="codeph">listbkup.rman</code> as follows:
                        </p><pre class="oac_no_warn" dir="ltr">cat &gt; listbkup.rman &lt;&lt; EOF
CONNECT TARGET /
LIST BACKUP;
EOF
</pre><p>You execute this script by running RMAN with the <code class="codeph">@</code> command line option as follows:
                        </p><pre class="oac_no_warn" dir="ltr">% rman @listbkup.rman
</pre><p>When the command file executes, RMAN replaces the connection string with an asterisk, as shown in the following output:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET *
2&gt; LIST BACKUP;
3&gt;
connected to target database: RDBMS (DBID=771530996)

using target database control file instead of recovery catalog

List of Backup Sets
===================
. . .</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV565"></a><a id="BRADV670"></a><a id="BRADV128"></a><div class="props_rev_3"><a id="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75" name="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75"></a><h4 id="BRADV-GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75" class="sect4"><span class="enumeration_section">4.2.7 </span>Connecting RMAN to an Auxiliary Database
                  </h4>
                  <div>
                     <p>To use the <code class="codeph">DUPLICATE</code> command, you must connect to an auxiliary instance. Performing tablespace point-in-time recovery (TSPITR) may also require a connection to an auxiliary instance.
                     </p>
                     <div class="section">
                        <p>The form of an auxiliary connection is identical to a target database connection, except that you use the <code class="codeph">AUXILIARY</code> keyword instead of the <code class="codeph">TARGET</code> keyword.
                        </p>
                        <div class="infoboxnote" id="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75__GUID-B547AB32-C47E-4F95-A2D2-52C0371A79FA">
                           <p class="notep1">Note:</p>
                           <p>When you use the <code class="codeph">DUPLICATE ... FROM ACTIVE DATABASE</code> command, a net service name is required. See <span class="q">"<span><a href="rman-duplicating-databases.html#GUID-57888C11-63C3-4A7A-8488-2E623033A359" title="Multiple methods are available to create the initialization parameter file that is required to start the auxiliary instance.">Creating an Initialization Parameter File for the Auxiliary Instance</a></span>"</span> for more details.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75__GUID-3DFB19B7-3BD7-4AA5-B1B9-0953800D5575">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span><a href="rman-duplicating-databases.html#GUID-F31F9FCE-B610-49EB-B9DB-44B9AA4E838F" title="This chapter describes how to use the DUPLICATE command to create an independently functioning database copy.">Duplicating a Database</a></span> for more details on using the <span><a href="../rcmrf/DUPLICATE.html#RCMRF126" target="_blank"><code class="codeph">DUPLICATE</code></a></span> command
                                 </p>
                              </li>
                              <li>
                                 <p><span><a href="performing-rman-tspitr.html#GUID-CAACDB53-7C3A-45B4-8249-C5D855D47571" title="To use RMAN tablespace point-in-time recovery (TSPITR) effectively, it is helpful to understand what types of problems it can resolve, its components, what RMAN does during TSPITR, and the various limitations and restrictions on when and how it can be run. This section explains the basic concepts, preparatory tasks, and modes of running RMAN TSPITR.Recovery Manager (RMAN) TSPITR enables quick recovery of one or more tablespaces in a database to an earlier time without affecting the rest of the tablespaces and objects in the database.Understand the concepts of RMAN TSPITR such as the terminology and modes used.This section defines some common entities that are used by RMAN TSPITR.There are several modes of running RMAN TSPITR. The difference between the various modes of operation corresponds to how much automation versus customization you require in your environment. Select tablespaces from the recovery set, an auxiliary destination, and a target time before you perform fully automated RMAN TSPITR (default).Some database problems cannot be resolved with TSPITR because of certain restrictions and limitations.There are some limitations to consider when performing TSPITR.Be aware of certain precautions when not using a recovery catalog during TSPITR.Certain steps must be completed when preparing to perform TSPITR.It is extremely important that you choose the right target time or SCN for your TSPITR. Note that after you bring a tablespace online after TSPITR, you cannot use any backup from a time earlier than the moment you brought the tablespace online. Initially, your recovery set includes the data files for the tablespaces that you intend to recover. However, if objects in the tablespaces that you need have relationships (such as constraints) to objects in other tablespaces, then you must account for these relationships before you can perform TSPITRRMAN TSPITR requires that the tablespace that is being recovered be self-contained and that no SYS-owned objects reside in the tablespace. When you perform RMAN TSPITR on a tablespace, objects created after the target recovery time are lost. You can preserve such objects after they are identified by exporting them before TSPITR with the Data Pump Export utility and reimporting them afterward with Data Pump Import.In the default mode, RMAN bases as much of the configuration for TSPITR as possible on the target database. You can customize some aspects of RMAN TSPITR while still mostly following the procedure for performing fully automated RMAN TSPITR.You may not want the recovery set data files restored and recovered in their original locations. The SET NEWNAME command enables you to specify a new destination. When you specify a new destination for the recovery set, RMAN does not remove the original data files of the tablespaces.Unlike recovery set data files, which are usually stored in their original locations, auxiliary set data files must not overwrite the corresponding original files in the target database. If you do not specify an auxiliary set file location that is different from its original location, then TSPITR fails. The failure occurs when RMAN attempts to overwrite the corresponding file in the original database and discovers the file in use.Auxiliary set data files can have Oracle Managed Files (OMF) in the target and can use Automatic Storage Management (ASM) or non-ASM storage. TSPITR performs name conversion differently when the DB_FILE_NAME_CONVERT initialization parameter is set and the OMF files are in ASM or non-ASM storage. You can use DB_FILE_NAME_CONVERT and LOG_FILE_NAME_CONVERT initialization parameters for the auxiliary database to specify the conversion of the disk group. RMAN uses the pattern to convert the ASM disk group name and generates a valid OMF file name in the converted disk group. Multiple methods are available to rename OMF (non-ASM) file names for the auxiliary database.To specify a new name for an auxiliary set data file, you can enclose RECOVER TABLESPACE in a RUN command and use a SET NEWNAME command within the RUN block to rename the file. When you do not want to use an auxiliary destination for all of your auxiliary set data files, but you also do not want to name every file individually, you can include a DB_FILE_NAME_CONVERT initialization parameter in the initialization parameter file used by the auxiliary database.Temp files are considered part of the auxiliary set for your database. When the auxiliary database is instantiated, RMAN recreates the temporary tablespaces of the target database and generates their names with the regular rules for the auxiliary data file names. TSPITR performance can be enhanced by redirecting RMAN to use existing image copies of the recovery set and auxiliary set data files. In this case, RMAN does not need to restore the data files from backup.The SET NEWNAME command enables you to specify the location of the image copies when performing TSPITR using image copies.The CONFIGURE AUXNAME command sets a persistent alternative location for an auxiliary set data file image copy, whereas the SET NEWNAME command sets an alternative location for the duration of a RUN command.This procedure uses CONFIGURE AUXNAME when performing TSPITR using image copies.The automatic auxiliary database uses a set of default initialization parameters. You can add other parameters, if required.If you use an initialization parameter file, then you can use the CONTROL_FILES initialization parameter to specify your own location for the control file of your auxiliary databaseTo perform recovery on the auxiliary and recovery sets after restoring them at the auxiliary database, RMAN may need to restore archived logs. When an auxiliary destination is being used, the archived logs are restored to that location.If you specify the LOG_FILE_NAME_CONVERT initialization parameter in your auxiliary database parameter file and the parameter successfully converts the names of the online redo logs of the target, then this parameter determines the online redo log location. Although Oracle recommends that you let RMAN manage all aspects of the auxiliary database, there may be times when you must create and manage your own auxiliary database. If you select this mode, you are responsible for setting up, starting, stopping and cleaning up the auxiliary database used in TSPITR.Creating an Oracle instance suitable for use as an auxiliary database requires you to perform a set of steps.There are multiple ways to create a password file for the auxiliary database.Use a text editor to create an initialization parameter file for the auxiliary database on the target database host. The auxiliary database must have a valid net service name. Before proceeding, use SQL*Plus to ensure that you can establish a SYSBACKUP or SYSDBA connection to the auxiliary database.Keep in mind certain guidelines when performing TSPITR with your own auxiliary instance.The default behavior for channels when you use your own auxiliary database for TSPITR can be overridden.You may want to use SET NEWNAME commands to refer to existing image copies of auxiliary set files to improve TSPITR performance, or to assign new names to the recovery set files for after TSPITR. Plan these commands, if necessary, and add them to the sequence of commands that you run for TSPITR.Complete the prerequisites and then follow the steps in this section to perform TSPITR with your own auxiliary database.Before beginning RMAN TSPITR, you must start the auxiliary database. Because the auxiliary database does not yet have a control file, you can only start the instance in NOMOUNT mode. Start RMAN and connect to the target database and the manually created auxiliary database.Use the RECOVER TABLESPACE command to perform TSPITR with your own auxiliary instance.This procedure uses the RECOVER TABLESPACE... UNTIL command to perform TSPITR.A variety of problems can cause RMAN TSPITR to fail. The problem must be identified and fixed.Name conflicts can occur between files in the target database, file names assigned by the SET NEWNAME or CONFIGURE AUXNAME commands, and file names generated by the effect of the DB_FILE_NAME_CONVERT parameter.During TSPITR, RMAN needs information about which tablespaces had undo segments at the TSPITR target time. This information is usually available in the recovery catalog, if one is used. If you are managing your own auxiliary database and TSPITR fails, do not attempt to rerun TSPITR without resolving the errors.">Performing RMAN Tablespace Point-in-Time Recovery (TSPITR) </a></span> for more details on performing TSPITR
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75__BABIABJA">
                        <p class="titleinexample">Example 4-19 Connecting to Target and Auxiliary Databases from the RMAN Prompt</p>
                        <p>This example illustrates a connection to a target database using operating system authentication, and the auxiliary database connection uses a net service name and password file authentication.</p><pre class="oac_no_warn" dir="ltr">% rman
RMAN&gt; CONNECT TARGET /
RMAN&gt; CONNECT AUXILIARY sbu@aux

auxiliary database Password: <span class="italic">password</span>
connected to auxiliary database: AUX (DBID=30472568)
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-067E6833-4A5B-46E4-89F0-D3C3B4FD1D75__CEGHDGEE">
                        <p class="titleinexample">Example 4-20 Connecting to Target and Auxiliary Databases from the System Prompt</p>
                        <p>This example illustrates a connection to a target database and an auxiliary database from the system prompt. The target connection uses operating system authentication and the auxiliary connection uses a net service name and password file authentication.</p><pre class="oac_no_warn" dir="ltr">% rman target / auxiliary sbu@aux

auxiliary database Password: <span class="italic">password</span>
connected to auxiliary database: AUX (DBID=30472568)</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="BRADV89394"></a><div class="props_rev_3"><a id="GUID-B7F7CDF4-3F34-4D20-AD36-10E2067DD7C6" name="GUID-B7F7CDF4-3F34-4D20-AD36-10E2067DD7C6"></a><h4 id="BRADV-GUID-B7F7CDF4-3F34-4D20-AD36-10E2067DD7C6" class="sect4"><span class="enumeration_section">4.2.8 </span>Diagnosing RMAN Connection Problems
                  </h4>
                  <div>
                     <p>When you are diagnosing errors that RMAN encounters in connecting to the target, catalog and auxiliary databases, consider using SQL*Plus to connect to the databases directly. This action can reveal underlying problems with the connection information or the databases.</p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-E7230A40-996A-4D20-86E8-C636F85DA98E" title="RMAN connects to target and auxiliary databases using the SYSDBA or SYSBACKUP privilege. Thus, when you use SQL*Plus to diagnose connection problems to the target or auxiliary databases, request a SYSDBA or SYSBACKUP connection to reproduce RMAN behavior.">Diagnosing Target and Auxiliary Database Connection Problems</a></p>
                        </li>
                        <li>
                           <p><a href="starting-interacting-with-rman-client.html#GUID-88350C4F-36B9-4B8C-8F53-6320A6E7036B" title="Use SQL*Plus to diagnose recovery catalog connection problems.">Diagnosing Recovery Catalog Connection Problems</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV89395"></a><div class="props_rev_3"><a id="GUID-E7230A40-996A-4D20-86E8-C636F85DA98E" name="GUID-E7230A40-996A-4D20-86E8-C636F85DA98E"></a><h5 id="BRADV-GUID-E7230A40-996A-4D20-86E8-C636F85DA98E" class="sect5"><span class="enumeration_section">4.2.8.1 </span>Diagnosing Target and Auxiliary Database Connection Problems
                     </h5>
                     <div>
                        <p>RMAN connects to target and auxiliary databases using the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. Thus, when you use SQL*Plus to diagnose connection problems to the target or auxiliary databases, request a <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> connection to reproduce RMAN behavior.
                        </p>
                        <div class="section">
                           <p>For example, suppose that the following RMAN command encountered connection errors:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET /
</pre><p>You reproduce the preceding connection attempt with the SQL*Plus command as follows:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CONNECT / AS SYSBACKUP</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89396"></a><div class="props_rev_3"><a id="GUID-88350C4F-36B9-4B8C-8F53-6320A6E7036B" name="GUID-88350C4F-36B9-4B8C-8F53-6320A6E7036B"></a><h5 id="BRADV-GUID-88350C4F-36B9-4B8C-8F53-6320A6E7036B" class="sect5"><span class="enumeration_section">4.2.8.2 </span>Diagnosing Recovery Catalog Connection Problems
                     </h5>
                     <div>
                        <p>Use SQL*Plus to diagnose recovery catalog connection problems.</p>
                        <div class="section">
                           <p>When RMAN connects to the recovery catalog database, it does not use the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. When you use SQL*Plus to diagnose connection problems to the recovery catalog database, you must enter the database connect string exactly as it was entered into RMAN. Do not specify <code class="codeph">AS SYSBACKUP</code> or <code class="codeph">AS SYSDBA</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="BRADV89382"></a><div class="props_rev_3"><a id="GUID-507D61EC-3D28-4C67-8013-BE724AD89FFD" name="GUID-507D61EC-3D28-4C67-8013-BE724AD89FFD"></a><h3 id="BRADV-GUID-507D61EC-3D28-4C67-8013-BE724AD89FFD" class="sect3"><span class="enumeration_section">4.3 </span>Specifying the Location of RMAN Output
               </h3>
               <div>
                  <p>By default, RMAN writes command output to standard output. To redirect output to a log file, enter the <code class="codeph">LOG</code> parameter on the command line when you start RMAN.
                  </p>
                  <div class="section">
                     <p>The following example writes RMAN command output to the file <code class="codeph">rman.log:</code></p><pre class="oac_no_warn" dir="ltr">% rman LOG /tmp/rman.log
</pre><p>In this case, RMAN displays command input but does not display the RMAN output. The easiest way to send RMAN output both to a log file and to standard output is to use the Linux <code class="codeph">tee</code> command or its equivalent. For example, the following technique enables both input and output to be visible in the RMAN command-line interface:
                     </p><pre class="oac_no_warn" dir="ltr">% rman | tee rman.log
RMAN&gt;</pre><div class="infoboxnotealso" id="GUID-507D61EC-3D28-4C67-8013-BE724AD89FFD__GUID-06B4D6E7-E0B0-4B1F-803E-D8E42DFEA7B3">
                        <p class="notep1">See Also:</p>
                        <p><a href="../rcmrf/RMAN.html#RCMRF111" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> to learn about RMAN command-line options
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV8122"></a><div class="props_rev_3"><a id="GUID-F600535A-D46A-4BB1-88FD-266396ECE795" name="GUID-F600535A-D46A-4BB1-88FD-266396ECE795"></a><h3 id="BRADV-GUID-F600535A-D46A-4BB1-88FD-266396ECE795" class="sect3"><span class="enumeration_section">4.4 </span>Setting Globalization Support Environment Variables for RMAN
               </h3>
               <div>
                  <p>Before invoking RMAN, it may be useful to set the <code class="codeph">NLS_DATE_FORMAT</code> and <code class="codeph">NLS_LANG</code> environment variables. These variables determine the format used for the time parameters in RMAN commands such as <code class="codeph">RESTORE</code>, <code class="codeph">RECOVER</code>, and <code class="codeph">REPORT</code>.
                  </p>
                  <div class="section">
                     <p>The following example shows typical language and date format settings:</p><pre class="oac_no_warn" dir="ltr">NLS_LANG=american
NLS_DATE_FORMAT='Mon DD YYYY HH24:MI:SS'
</pre><p>If you are going to use RMAN to connect to an unmounted database and mount the database later while RMAN is still connected, then set the <code class="codeph">NLS_LANG</code> environment variable so that it also specifies the character set used by the database. 
                     </p>
                     <p>A database that is not mounted assumes the default character set, which is <code class="codeph">US7ASCII</code>. If your character set is different from the default, then RMAN returns errors after the database is mounted. For example, if the character set is <code class="codeph">WE8DEC</code>, then to avoid errors, you can set the <code class="codeph">NLS_LANG</code> variable as follows:
                     </p><pre class="oac_no_warn" dir="ltr">NLS_LANG=american_america.we8dec
</pre><p>For the environment variable <a href="../refrn/NLS_DATE_FORMAT.html#REFRN10119" target="_blank"><code class="codeph">NLS_DATE_FORMAT</code></a> to be applied and override the defaults set for the server in the server initialization file, the environment variable <code class="codeph">NLS_LANG</code> must also be set.
                     </p>
                     <div class="infoboxnotealso" id="GUID-F600535A-D46A-4BB1-88FD-266396ECE795__GUID-DBEF3432-12AB-4B27-93DF-BE054C10D710">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">NLS_LANG</code> and <code class="codeph">NLS_DATE_FORMAT</code> parameters
                              </p>
                           </li>
                           <li>
                              <p><a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG003" target="_blank"><span class="italic"> Oracle Database Globalization Support Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV89383"></a><div class="props_rev_3"><a id="GUID-D7BEDDA1-26CF-47E0-B55F-85E3CA238ECA" name="GUID-D7BEDDA1-26CF-47E0-B55F-85E3CA238ECA"></a><h3 id="BRADV-GUID-D7BEDDA1-26CF-47E0-B55F-85E3CA238ECA" class="sect3"><span class="enumeration_section">4.5 </span>Entering RMAN Commands
               </h3>
               <div>
                  <p>You can enter RMAN commands either directly from the RMAN prompt or read them in from a text file.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-924C370B-C300-4FCF-A164-45EF1AAC4AE4" title="When the RMAN client is ready for your commands, it displays the command prompt">Entering RMAN Commands at the RMAN Prompt</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535" title="For repetitive tasks, you can create a text file containing RMAN commands, and start the RMAN client with the @ argument, followed by a file name.">Using Command Files with RMAN</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-95DBA7A2-8D4F-428D-8ABC-A104FC064ABC" title="The comment character in RMAN is a pound sign (#). All text from the pound sign to the end of the line is ignored.">Entering Comments in RMAN Command Files</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD" title="When running a command file, you can specify one or more values in a USING clause for use in substitution variables in a command file. In this way, you can make your command files dynamic.">Using Substitution Variables in Command Files</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-86BB8661-9779-4057-93A5-1ADC09C896CE" title="You can test RMAN commands for syntactic correctness without executing them. Use the command-line argument CHECKSYNTAX to start the RMAN client in a mode in which it only parses the commands that you enter and returns an RMAN-00558 error for commands that are not legal RMAN syntax.">Checking RMAN Syntax</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89384"></a><div class="props_rev_3"><a id="GUID-924C370B-C300-4FCF-A164-45EF1AAC4AE4" name="GUID-924C370B-C300-4FCF-A164-45EF1AAC4AE4"></a><h4 id="BRADV-GUID-924C370B-C300-4FCF-A164-45EF1AAC4AE4" class="sect4"><span class="enumeration_section">4.5.1 </span>Entering RMAN Commands at the RMAN Prompt
                  </h4>
                  <div>
                     <p>When the RMAN client is ready for your commands, it displays the command prompt</p>
                     <div class="section">
                        <p>The following is an example of the RMAN command prompt:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; 
</pre><p>Enter commands for RMAN to execute. For example:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET
RMAN&gt; BACKUP DATABASE;
</pre><p>Most RMAN commands take several parameters and must end with a semicolon. Some commands, such as <a href="../rcmrf/STARTUP.html#RCMRF158" target="_blank"><code class="codeph">STARTUP</code></a>, <a href="../rcmrf/SHUTDOWN.html#RCMRF155" target="_blank"><code class="codeph">SHUTDOWN</code></a>, and <a href="../rcmrf/CONNECT.html#RCMRF114" target="_blank"><code class="codeph">CONNECT</code></a>, can be used with or without a semicolon.
                        </p>
                        <p>When you enter a line of text that is not a complete command, RMAN prompts for continuation input with a line number. For example: </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; BACKUP DATABASE
2&gt; INCLUDE CURRENT 
3&gt; CONTROLFILE
4&gt; ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89385"></a><div class="props_rev_3"><a id="GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535" name="GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535"></a><h4 id="BRADV-GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535" class="sect4"><span class="enumeration_section">4.5.2 </span>Using Command Files with RMAN
                  </h4>
                  <div>
                     <p>For repetitive tasks, you can create a text file containing RMAN commands, and start the RMAN client with the <code class="codeph">@</code> argument, followed by a file name.
                     </p>
                     <div class="section">
                        <p>For example, create a text file <code class="codeph">cmdfile1</code> in the current directory containing one line of text as shown here:
                        </p><pre class="oac_no_warn" dir="ltr">BACKUP DATABASE PLUS ARCHIVELOG;
</pre><p>You can run this command file from the command line as shown in this example, and the command contained in it is executed:</p><pre class="oac_no_warn" dir="ltr">% rman TARGET / @cmdfile1
</pre><p>After the command completes, RMAN exits.</p>
                        <p>You can also use the <a href="../rcmrf/at-sign.html#RCMRF100" target="_blank"><code class="codeph">@</code></a> command at the RMAN command prompt to execute the contents of a command file during an <a href="glossary.html#GUID-01D29658-41E1-4D45-9C7F-A761D56885B9"><span class="xrefglossterm">RMAN session</span></a>. RMAN reads the file and executes the commands in it. For example:
                        </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; @cmdfile1
</pre><p>After the command file contents have been executed, RMAN displays the following message:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;  **end-of-file**
</pre><p>Unlike the case where a command file is executed from the operating system command line, RMAN does not exit.</p>
                        <div class="infoboxnotealso" id="GUID-5FF51A4E-BC27-41A9-AA83-FF6E761C2535__GUID-0EC863A4-0B8F-4A64-BE86-31E7B9FDFE78">
                           <p class="notep1">See Also:</p>
                           <p><a href="../rcmrf/RMAN.html#RCMRF111" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for RMAN command-line syntax
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV99960"></a><div class="props_rev_3"><a id="GUID-95DBA7A2-8D4F-428D-8ABC-A104FC064ABC" name="GUID-95DBA7A2-8D4F-428D-8ABC-A104FC064ABC"></a><h4 id="BRADV-GUID-95DBA7A2-8D4F-428D-8ABC-A104FC064ABC" class="sect4"><span class="enumeration_section">4.5.3 </span>Entering Comments in RMAN Command Files
                  </h4>
                  <div>
                     <p>The comment character in RMAN is a pound sign (<code class="codeph">#</code>). All text from the pound sign to the end of the line is ignored. 
                     </p>
                     <div class="section">
                        <p>For example, the contents of the following command file back up the database and archived redo log files and include comments:</p><pre class="oac_no_warn" dir="ltr"># Command file name: mybackup.rman
# The following command backs up the database
BACKUP DATABASE;
# The following command backs up the archived redo logs
BACKUP ARCHIVELOG ALL;
</pre><p>The following example shows how you can break a single RMAN command across multiple lines:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; BACKUP # this is a comment
2&gt; SPFILE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV561"></a><a id="BRADV89386"></a><div class="props_rev_3"><a id="GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD" name="GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD"></a><h4 id="BRADV-GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD" class="sect4"><span class="enumeration_section">4.5.4 </span>Using Substitution Variables in Command Files
                  </h4>
                  <div>
                     <p>When running a command file, you can specify one or more values in a <code class="codeph">USING</code> clause for use in substitution variables in a command file. In this way, you can make your command files dynamic.
                     </p>
                     <div class="section">
                        <p>As in SQL*Plus, <code class="codeph">&amp;1</code> indicates where to place the first value, <code class="codeph">&amp;2</code> where to place the second value, and so on. The substitution variable syntax is <code class="codeph">&amp;</code><span class="italic"><code class="codeph">integer</code></span> followed by an optional period, for example, <code class="codeph">&amp;1.3</code>. The optional period is part of the variable and replaced with the value, thus enabling the substitution text to be immediately followed by another integer. For example, if you pass the value <code class="codeph">mybackup</code> to a command file containing the variable <code class="codeph">&amp;1.3</code>, then the result of the substitution is <code class="codeph">mybackup3</code>.
                        </p>
                        <p>The following procedure explains how to create and use a dynamic shell script that calls a command file containing substitution variables.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD__GUID-4C8CDAD8-CFE9-47BE-A6DB-2347B4F9B16E">To create and use a dynamic shell script:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create an RMAN command file that uses substitution variables.</span><div>
                              <p>The following example shows the contents of a command file named <code class="codeph">quarterly_backup.cmd</code>, which is run every quarter. The script uses substitution variables for the name of the tape set, for a string in the <code class="codeph">FORMAT</code> specification, and for the name of the restore point to be created.
                              </p><pre class="oac_no_warn" dir="ltr"># quarterly_backup.cmd
CONNECT TARGET /
RUN
{
  ALLOCATE CHANNEL c1
    DEVICE TYPE sbt
    PARMS 'ENV=(OB_MEDIA_FAMILY=&amp;1)';
  BACKUP DATABASE 
    TAG &amp;2 
    FORMAT '/disk2/bck/&amp;1%U.bck'
    KEEP FOREVER 
    RESTORE POINT &amp;3;
}
EXIT;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a shell script that you can use to run the RMAN command file created in the previous step.</span><div>
                              <p>The following example creates a shell script named <code class="codeph">runbackup.sh</code>. The example creates shell variables for the format and restore point name and accepts the values for these variables as command-line arguments to the script.
                              </p><pre class="oac_no_warn" dir="ltr">#!/bin/tcsh
# name: runbackup.sh
# usage: use the tag name and number of copies as arguments
set media_family = $argv[1]
set format = $argv[2]
set restore_point = $argv[3]
rman @'/disk1/scripts/quarterly_backup.cmd' USING $media_family $format $restore_point
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the shell script created in the previous step, specifying the desired arguments on the command line.</span><div>
                              <p>The following example runs the <code class="codeph">runbackup.sh</code> shell script and passes it <code class="codeph">archival_backup</code> as the media family name, <code class="codeph">bck0906</code> as the format string, and <code class="codeph">FY06Q3</code> as the restore point name.
                              </p><pre class="oac_no_warn" dir="ltr">% runbackup.sh archival_backup bck0906 FY06Q3</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-A9321B2D-6CFF-4616-B629-67960A8F87DD__GUID-AD3A08A6-E27C-4CF1-B619-696C0121BD52">
                           <p class="notep1">See Also:</p>
                           <p><a href="../rcmrf/at-sign.html#RCMRF100" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code class="codeph">@</code> syntax
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89387"></a><div class="props_rev_3"><a id="GUID-86BB8661-9779-4057-93A5-1ADC09C896CE" name="GUID-86BB8661-9779-4057-93A5-1ADC09C896CE"></a><h4 id="BRADV-GUID-86BB8661-9779-4057-93A5-1ADC09C896CE" class="sect4"><span class="enumeration_section">4.5.5 </span>Checking RMAN Syntax
                  </h4>
                  <div>
                     <p>You can test RMAN commands for syntactic correctness without executing them. Use the command-line argument <span><code class="codeph">CHECKSYNTAX</code></span> to start the RMAN client in a mode in which it only parses the commands that you enter and returns an <span><code class="codeph">RMAN-00558</code></span> error for commands that are not legal RMAN syntax.
                     </p>
                     <p>You can check the syntax of RMAN commands either at the command line or in command files.</p>
                     <div class="infoboxnotealso" id="GUID-86BB8661-9779-4057-93A5-1ADC09C896CE__GUID-9D5C4FCA-AFD7-4C80-873A-B4150D62D25D">
                        <p class="notep1">See Also:</p>
                        <p><span><a href="../rcmrf/RMAN.html#RCMRF111" target="_blank">Oracle Database Backup and Recovery Reference</a></span> to learn about the <span><code class="codeph">CHECKSYNTAX</code></span> command-line option
                        </p>
                     </div>
                  </div><a id="BRADV562"></a><a id="BRADV89388"></a><div class="props_rev_3"><a id="GUID-E7549936-0286-46EC-A6B2-EAC3B538AE19" name="GUID-E7549936-0286-46EC-A6B2-EAC3B538AE19"></a><h5 id="BRADV-GUID-E7549936-0286-46EC-A6B2-EAC3B538AE19" class="sect5"><span class="enumeration_section">4.5.5.1 </span>Checking RMAN Syntax at the Command Line
                     </h5>
                     <div>
                        <p>You can check the syntax of RMAN commands interactively without actually executing the commands.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-E7549936-0286-46EC-A6B2-EAC3B538AE19__GUID-C9332211-5DA6-4B83-8035-3A0707A2A756">To check RMAN syntax at the command line:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Start RMAN with the <code class="codeph">CHECKSYNTAX</code> parameter:</span><div><pre class="oac_no_warn" dir="ltr">% rman CHECKSYNTAX
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Enter the RMAN commands to be tested.</span></li>
                        </ol>
                        <div class="section">
                           <p>The following example shows a sample interactive session, with user-entered text in bold.</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; <span class="bold">run [ backup database; ]</span>
 
RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-00558: error encountered while parsing input commands
RMAN-01006: error signaled during parse 
 RMAN-02001: unrecognized punctuation symbol "["
 
RMAN&gt; <span class="bold">run { backup database; }</span>

The command has no syntax errors

RMAN&gt;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV149"></a><a id="BRADV150"></a><a id="BRADV89389"></a><div class="props_rev_3"><a id="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E" name="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E"></a><h5 id="BRADV-GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E" class="sect5"><span class="enumeration_section">4.5.5.2 </span>Checking RMAN Syntax in Command Files
                     </h5>
                     <div>
                        <p>To test commands in a command file, start RMAN with the <code class="codeph">CHECKSYNTAX</code> parameter and use the <code class="codeph">@</code> command to name the command file to be passed.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E__GUID-DE8A51DC-7837-4366-B992-AC0E1EA25339">To test commands in a command file:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Use a text editor to create a command file.</span><div>
                                 <p>Assume that you create the <code class="codeph">/tmp/goodcmdfile</code> with the following contents:
                                 </p><pre class="oac_no_warn" dir="ltr"># command file with legal syntax
RESTORE DATABASE; 
RECOVER DATABASE;
</pre><p>Assume that you create another command file, <code class="codeph">/tmp/badcmdfile</code>, with the following contents:
                                 </p><pre class="oac_no_warn" dir="ltr"># command file with bad syntax commands
RESTORE DATABASE
RECOVER DATABASE
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the command file from the RMAN prompt in the following format, where <span class="italic"><code class="codeph">filename</code></span> is the name of the command file:</span><div><pre class="oac_no_warn" dir="ltr">% rman CHECKSYNTAX @<span class="italic">filename</span>
</pre></div>
                           </li>
                        </ol>
                        <div class="example" id="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E__BABCBGJD">
                           <p class="titleinexample">Example 4-21 Checking the Syntax of a Command File with Correct Syntax</p>
                           <p>This example shows the output when you run <code class="codeph">/tmp/goodcmdfile</code> with <code class="codeph">CHECKSYNTAX</code>:
                           </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; # command file with legal syntax
2&gt; restore database;
3&gt; recover database;
4&gt;
The cmdfile has no syntax errors
 
Recovery Manager complete.
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E__GUID-3074D89B-6848-4047-9E46-EB62A1684FA7">
                           <p class="titleinexample">Example 4-22 Checking the Syntax of a Command File with Bad Syntax</p>
                           <p>This example shows the output when you run<span> <code class="codeph">/tmp/badcmdfile</code></span> with <span><code class="codeph">CHECKSYNTAX</code></span>:
                           </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; #command file with syntax error
2&gt; restore database
3&gt; recover
RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS===============
RMAN-00571: ===========================================================
RMAN-00558: error encountered while parsing input commands
RMAN-01005: syntax error: found "recover": expecting one of: "archivelog, 
      channel, check, controlfile, clone, database, datafile, device, 
      from, force, high, (, preview, ;, skip, spfile, standby, tablespace, 
      until, validate"
RMAN-01007: at line 3 column 1 file: /tmp/badcmdfile
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-F8ADDD5A-CAB0-4128-8DDD-9B8FD524362E__GUID-088542B2-E796-447D-B4F9-3ABAAA2EEBB3">
                           <p class="titleinexample">Example 4-23 Checking the Syntax of a Command File that Contains Substitution Variables</p>
                           <p>You make your command files dynamic by including substitution variables. When you check the syntax of a command file that contains substitution variables, RMAN prompts you to enter values. This example illustrates what happens if you enter invalid values when checking the syntax of a dynamic command file. The text in bold indicates text entered at the prompt.</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; CONNECT TARGET *
2&gt; BACKUP TAG 
Enter value for 1: <span class="bold">mybackup</span>
abc COPIES 
Enter value for 2: <span class="bold">mybackup</span>
abc
RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-00558: error encountered while parsing input commands
RMAN-01009: syntax error: found "identifier": expecting one of: "integer"
RMAN-01008: the bad identifier was: mybackup
RMAN-01007: at line 2 column 25 file: /tmp/whole_db.cmd
</pre><p>RMAN indicates a syntax error because the string <span><code class="codeph">mybackup</code></span> is not a valid argument for <span><code class="codeph">COPIES</code></span>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="BRADV1130"></a><div class="props_rev_3"><a id="GUID-2273E896-C08B-498F-B96C-55400CCD1A17" name="GUID-2273E896-C08B-498F-B96C-55400CCD1A17"></a><h3 id="BRADV-GUID-2273E896-C08B-498F-B96C-55400CCD1A17" class="sect3"><span class="enumeration_section">4.6 </span>Using the RMAN Pipe Interface
               </h3>
               <div>
                  <p>The RMAN pipe interface is an alternative method for issuing commands to RMAN and receiving the output from those commands. Using this interface, it is possible to write a portable programmatic interface to RMAN.</p>
                  <p>With the pipe interface, RMAN obtains commands and sends output by using the <code class="codeph">DBMS_PIPE</code> PL/SQL package instead of the operating system shell. The pipe interface is invoked by using the <code class="codeph">PIPE</code> command-line parameter for the RMAN client. RMAN uses two private pipes: one for receiving commands and the other for sending output. The names of the pipes are derived from the value of the <code class="codeph">PIPE</code> parameter. For example, you can invoke RMAN with the following command:
                  </p><pre class="oac_no_warn" dir="ltr">% rman PIPE abc TARGET /
</pre><p>RMAN opens the two pipes in the target database: <code class="codeph">ORA$RMAN_ABC_IN</code>, which RMAN uses to receive user commands, and <code class="codeph">ORA$RMAN_ABC_OUT</code>, which RMAN uses to send all output back to RMAN. All messages on both the input and output pipes are of type <code class="codeph">VARCHAR2</code>.
                  </p>
                  <p>RMAN does not permit the pipe interface to be used with public pipes, because they are a potential security problem. With a public pipe, any user who knows the name of the pipe can send commands to RMAN and intercept its output. </p>
                  <p>If the pipes are not initialized, then RMAN creates them as private pipes. If you want to put commands on the input pipe before starting RMAN, you must first create the pipe by calling <code class="codeph">DBMS_PIPE.CREATE_PIPE</code>. Whenever a pipe is not explicitly created as a private pipe, the first access to the pipe automatically creates it as a public pipe, and RMAN returns an error if it is told to use a public pipe.
                  </p>
                  <div class="infoboxnote" id="GUID-2273E896-C08B-498F-B96C-55400CCD1A17__GUID-0CDC83B2-0F0E-49A9-AE04-5813A686F0A0">
                     <p class="notep1">Note:</p>
                     <p>If multiple RMAN sessions can run against the target database, then you must use unique pipe names for each <a href="glossary.html#GUID-01D29658-41E1-4D45-9C7F-A761D56885B9"><span class="xrefglossterm">RMAN session</span></a>. The <code class="codeph">DBMS_PIPE.UNIQUE_SESSION_NAME</code> function is one method that you can use to generate unique pipe names.
                     </p>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-2C7C92ED-41ED-4A51-848E-34E695B107D4" title="This example assumes that the application controlling RMAN wants to run multiple commands in succession. After each command is sent down the pipe and executed and the output returned, RMAN pauses and waits for the next command.">Executing Multiple RMAN Commands in Succession Through a Pipe: Example</a></p>
                     </li>
                     <li>
                        <p><a href="starting-interacting-with-rman-client.html#GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F" title="This example assumes that the application controlling RMAN wants to run one or more commands as a single job. After running the commands that are on the pipe, RMAN exits.">Executing RMAN Commands in a Single Job Through a Pipe: Example</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV158"></a><a id="BRADV89397"></a><div class="props_rev_3"><a id="GUID-2C7C92ED-41ED-4A51-848E-34E695B107D4" name="GUID-2C7C92ED-41ED-4A51-848E-34E695B107D4"></a><h4 id="BRADV-GUID-2C7C92ED-41ED-4A51-848E-34E695B107D4" class="sect4"><span class="enumeration_section">4.6.1 </span>Executing Multiple RMAN Commands in Succession Through a Pipe: Example
                  </h4>
                  <div>
                     <p>This example assumes that the application controlling RMAN wants to run multiple commands in succession. After each command is sent down the pipe and executed and the output returned, RMAN pauses and waits for the next command.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2C7C92ED-41ED-4A51-848E-34E695B107D4__GUID-D9DFD470-F56B-4D68-BBF7-07E6ABF3155A">To execute RMAN commands through a pipe:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Start RMAN by connecting to a target database (required) and specifying the <code class="codeph">PIPE</code> option. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">% rman PIPE abc TARGET /
</pre><p>You can also specify the <code class="codeph">TIMEOUT</code> option, which forces RMAN to exit automatically if it does not receive any input from the input pipe in the specified number of seconds. For example, enter:
                              </p><pre class="oac_no_warn" dir="ltr">% rman PIPE abc TARGET / TIMEOUT 60
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Connect to the target database and put the desired commands on the input pipe by using <code class="codeph">DBMS_PIPE.PACK_MESSAGE</code> and <code class="codeph">DBMS_PIPE.SEND_MESSAGE</code>. In pipe mode, RMAN issues message <code class="codeph">RMAN-00572</code> when it is ready to accept input instead of displaying the standard RMAN prompt.</span></li>
                        <li class="stepexpand"><span>Read the RMAN output from the output pipe by using <code class="codeph">DBMS_PIPE.RECEIVE_MESSAGE</code> and <code class="codeph">DBMS_PIPE.UNPACK_MESSAGE</code>.</span></li>
                        <li class="stepexpand"><span>Repeat Steps 2 and 3 to execute further commands with the same RMAN instance that was started in Step 1. </span></li>
                        <li class="stepexpand"><span>If you used the <code class="codeph">TIMEOUT</code> option when starting RMAN, then RMAN terminates automatically after not receiving any input for the specified length of time. To force RMAN to terminate immediately, send the <code class="codeph">EXIT</code> command.</span></li>
                     </ol>
                  </div>
               </div><a id="BRADV159"></a><a id="BRADV89398"></a><div class="props_rev_3"><a id="GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F" name="GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F"></a><h4 id="BRADV-GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F" class="sect4"><span class="enumeration_section">4.6.2 </span>Executing RMAN Commands in a Single Job Through a Pipe: Example
                  </h4>
                  <div>
                     <p>This example assumes that the application controlling RMAN wants to run one or more commands as a single job. After running the commands that are on the pipe, RMAN exits.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F__GUID-ED0EBBD3-A129-4760-8F8E-45856EE2457D">To execute RMAN commands in a single job through a pipe:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>After connecting to the target database, create a pipe (if it does not already exist under the name <code class="codeph">ORA$RMAN_</code><span class="italic">pipe</span><code class="codeph">_IN</code>).</span></li>
                        <li class="stepexpand"><span>Put the desired commands on the input pipe. In pipe mode, RMAN issues message <code class="codeph">RMAN-00572</code> when it is ready to accept input instead of displaying the standard RMAN prompt.</span></li>
                        <li class="stepexpand"><span>Start RMAN with the <code class="codeph">PIPE</code> option, and specify <code class="codeph">TIMEOUT</code> <code class="codeph">0</code>. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">% rman PIPE abc TARGET / TIMEOUT 0
</pre></div>
                        </li>
                        <li class="stepexpand"><span>RMAN reads the commands that were put on the pipe and executes them by using <code class="codeph">DBMS_PIPE.PACK_MESSAGE</code> and <code class="codeph">DBMS_PIPE.SEND_MESSAGE</code>. When it has exhausted the input pipe, RMAN exits immediately.</span></li>
                        <li class="stepexpand"><span>Read RMAN output from the output pipe by using <code class="codeph">DBMS_PIPE.RECEIVE_MESSAGE</code> and <code class="codeph">DBMS_PIPE.UNPACK_MESSAGE</code>.</span><div>
                              <div class="infoboxnotealso" id="GUID-5C6E3722-C0EC-4F1E-9D21-8205C5804C1F__GUID-DD748A83-B525-4264-A5BD-0BCFA09C1636">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for documentation on the <code class="codeph">DBMS_PIPE</code> package 
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04041.xml-formats-map-visualizer.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">
      <meta name="description" content="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">
      <title>XML Format for Styles, Themes, Base Maps, and Map Tile Layers</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Map Visualization Developer's Guide ">
      <meta property="og:description" content="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Map Visualization Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-map-visualization-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T11:37:22-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94797-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-map-builder-tool.html" title="Previous" type="text/html">
      <link rel="next" href="creating-registering-custom-spatial-data-provider.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JIMPV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-map-builder-tool.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-registering-custom-spatial-data-provider.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Map Visualization Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> XML Format for Styles, Themes, Base Maps, and Map Tile Layers</li>
            </ol>
            <a id="GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" name="GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5"></a><a id="JIMPV9000"></a>
            
            <h2 id="JIMPV-GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" class="sect2"><span class="enumeration_chapter">A </span> XML Format for Styles, Themes, Base Maps, and Map Tile Layers
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.</p>
               <p>These metadata views are described in <a href="map-visualization-concepts.html#GUID-565BF7E3-C504-4CDC-88B0-E1ACC67300E5" title="The mapping metadata describing base maps, themes, and styles is stored in the global tables SDO_MAPS_TABLE, SDO_THEMES_TABLE, and SDO_STYLES_TABLE, which are owned by MDSYS.">Map Visualizer Metadata Views</a>.
               </p>
               <p>The metadata views for map visualization component styles (USER_SDO_STYLES and related views) contain a column named DEFINITION. For each style, the DEFINITION column contains an XML document that defines the style to the rendering engine.</p>
               <p>Each style is defined using a syntax that is similar to SVG (scalable vector graphics). In the map visualization component syntax, each style's XML document must contain a single <code class="codeph">&lt;g&gt;</code> element, which must have a <code class="codeph">class</code> attribute that indicates the type or class of the style. For example, the following defines a color style with a filling color component:
               </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
   &lt;svg width="1in" height="1in"&gt;
       &lt;desc&gt; red &lt;/desc&gt;
           <span class="bold">&lt;g class="color" style="fill:#ff1100"/&gt;</span>
   &lt;/svg&gt;
</pre><p>The map visualization component XML parser looks only for the <code class="codeph">&lt;g&gt;</code> element in a style definition; other attributes such as the <code class="codeph">&lt;desc&gt;</code> element are merely informational and are ignored. 
               </p>
               <div class="infoboxnote" id="GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5__GUID-7258F581-6770-49D1-AEB2-DB56D5C0B0B8">
                  <p class="notep1">Note:</p>
                  <p>You can make the size of a style scalable by specifying a unit other than the default pixel (<code class="codeph">px</code>) -- for example, <code class="codeph">width:15.0km</code> or <code class="codeph">stroke-width:10.0m</code>. For information about using scalable styles, see <a href="map-visualization-concepts.html#GUID-C61A80D2-0B3A-4B5C-BA2A-B3B2202585DF">Scaling the Size of a Style (Scalable Styles)</a>.
                  </p>
               </div>
               <p>The metadata views for map visualization component themes (USER_SDO_THEMES and related views) contain a column named STYLING_RULES. For each theme in these views, the STYLING_RULES column contains an XML document (a CLOB value) that defines the styling rules of the theme.</p>
               <p><a id="d29258e103" class="indexterm-anchor"></a>The metadata views for MapViewer base maps (USER_SDO_MAPS and related views) contain a column named DEFINITION. For each base map in these views, the DEFINITION column contains an XML document (a CLOB value) that defines the base map.
               </p>
               <p>The following sections describe the XML syntax for each type of mapping metadata.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-744D05FA-B031-4977-A701-AA5FEE57F8EC">Color Styles</a><br>A color style has a fill color, a stroke color, or both.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87">Marker Styles</a><br>A marker style represents a marker to be placed on point features or on label points of area and linear features.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-D4DB1B78-BE81-4F70-B5B7-B7A689B2AAF5">Line Styles</a><br>A line style is applicable only to a linear feature, such as a road, railway track, or political boundary.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-57E89E1B-B6B8-4B9C-94A6-3918DCBAEAC5">Area Styles</a><br>An area style defines a pattern to be used to fill an area feature.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3">Text Styles</a><br>A text style defines the font and color to be used in labeling spatial features.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B">Advanced Styles</a><br>Advanced styles are structured styles made from simple styles.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-45D7DCB4-5218-4469-9712-5F8AC338088B">Themes: Styling Rules</a><br>A theme definition contains one <code class="codeph">&lt;styling_rules&gt;</code> element, which may have several other elements depending on the theme type.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-C783909C-3637-4A18-9DDD-625A094E5DE2">Base Maps</a><br>A base map definition consists of one or more themes.
                  </li>
                  <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-8B972AAC-B614-459B-91E2-18ADA5EF234F">Map Tile Layers</a><br>An Oracle Maps map tile layer which assembles and displays pregenerated map image tiles from the map tile server,
                  </li>
               </ul>
            </div>
            <a id="JIMPV9829"></a><div class="props_rev_3"><a id="GUID-744D05FA-B031-4977-A701-AA5FEE57F8EC" name="GUID-744D05FA-B031-4977-A701-AA5FEE57F8EC"></a><h3 id="JIMPV-GUID-744D05FA-B031-4977-A701-AA5FEE57F8EC" class="sect3"><span class="enumeration_section">A.1 </span>Color Styles
               </h3>
               <div>
                  <p>A color style has a fill color, a stroke color, or both.</p>
                  <p>When applied to a shape or geometry, the fill color (if present) is used to fill the interior of the shape, and the stroke color (if present) is used to draw the boundaries of the shape. Either color can also have an alpha value, which controls the transparency of that color. </p>
                  <p>For color styles, the <code class="codeph">class</code> attribute of the <code class="codeph">&lt;g&gt;</code> element must be set to <code class="codeph">"color"</code>. The <code class="codeph">&lt;g&gt;</code> element must have a <code class="codeph">style</code> attribute, which specifies the color components and their optional alpha value. For example:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">&lt;g class="color" style="fill:#ff0000"&gt;</code> specifies a color style with only a fill color (whose RGB value is #ff0000).
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">&lt;g class="color" style="fill:#ff0000;stroke:blue"&gt;</code> specifies a color style with a fill color and a stroke color (blue). 
                        </p>
                     </li>
                  </ul>
                  <p>You can specify a color value using either a hexadecimal string (such as #00ff00) or a color name from the following list: black, blue, cyan, darkGray, gray, green, lightGray, magenta, orange, pink, red, white, yellow.</p>
                  <p>To specify transparency for a color style, you can specify <code class="codeph">fill-opacity</code> and <code class="codeph">stroke-opacity</code> values from 0 (completely transparent) to 255 (opaque). The following example specifies a fill component with half transparency:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;g class="color" style="fill:#ff00ff;fill-opacity:128"&gt;
</pre><p>The following example specifies both stroke and fill opacity:</p><pre class="oac_no_warn" dir="ltr">&lt;g class="color" style= "stroke:red;stroke-opacity:70;
                          fill:#ff00aa;fill-opacity:129"&gt;
</pre><p>The syntax for the <code class="codeph">style</code> attribute is a string composed of one or more <code class="codeph">name:value</code> pairs delimited by semicolons. (This basic syntax is used in other types of styles as well.)
                  </p>
                  <p>For stroke colors, you can define a stroke width. The default stroke width when drawing a shape boundary is 1 pixel. To change that, add a <code class="codeph">stroke-width:</code><span class="italic"><code class="codeph">value</code></span> pair to the <code class="codeph">style</code> attribute string. The following example specifies a stroke width of 3 pixels:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;g class="color" style="stroke:red;stroke-width:3"&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9830"></a><div class="props_rev_3"><a id="GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" name="GUID-2A02333E-6396-4631-87EA-AC610DC1AC87"></a><h3 id="JIMPV-GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" class="sect3"><span class="enumeration_section">A.2 </span>Marker Styles
               </h3>
               <div>
                  <p>A marker style represents a marker to be placed on point features or on label points of area and linear features.</p>
                  <p>A marker can be either a vector marker or raster image marker. A marker can also have optional notational text. For a vector marker, the coordinates of the vector elements must be defined in its XML document. For a marker based on a raster image, the XML document for the style indicates that the style is based on an external image.</p>
                  <p>The marker XML document specifies the preferred display size: the preferred width and height are defined by the <code class="codeph">width:</code><span class="italic"><code class="codeph">value</code></span><code class="codeph">;height:</code><span class="italic"><code class="codeph">value</code></span> pairs in the <code class="codeph">style</code> attribute of the <code class="codeph">&lt;g&gt;</code> element. The <code class="codeph">class</code> attribute must be set to <code class="codeph">"marker"</code>. Some markers must be overlaid with some notational text, such as a U.S. interstate highway shield marker, which, when rendered, must also have a route number plotted on top of it. The style for such notational text is a style attribute with one or more of the following name-value pairs: <code class="codeph">font-family:</code><span class="italic"><code class="codeph">value</code></span>, <code class="codeph">font-style:</code><span class="italic"><code class="codeph">value</code></span>, <code class="codeph">font-size:</code><span class="italic"><code class="codeph">value</code></span>, and <code class="codeph">font-weight:</code><span class="italic"><code class="codeph">value</code></span>.
                  </p>
                  <p>The following example defines an image-based marker that specifies font attributes (shown in bold) for any label text that may be drawn on top of the marker:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
&lt;desc&gt;&lt;/desc&gt;
&lt;g class="marker"           
  style="width:20;height:18;<span class="bold">font-family:sans-serif;font-size:9pt;fill:#ffffff</span>"&gt;
    &lt;image x="0" y="0" width="9999" height="9999" type="gif" 
           href="dummy.gif"/&gt;
&lt;/g&gt;
&lt;/svg&gt;
</pre><p>In the preceding example, when the marker is applied to a point feature with a labeling text, the label text is drawn centered on top of the marker, using the specified font family and size, and with the fill color (white in this case) as the text foreground. The label text (<code class="codeph">495</code>) in <a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680__CHDFHJJG">Figure A-1</a> in <a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680">Using Marker Styles on Lines</a> has the text attributes specified in this example.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-97109BE6-18C3-4062-B035-CD7C234A8E36">Vector Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-62D1AD16-BCAE-4B47-8F23-631BD3385ABA">Image Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-372280A6-B4CE-4F11-80F7-B626C50640B0">TrueType Font-Based Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680">Using Marker Styles on Lines</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9831"></a><div class="props_rev_3"><a id="GUID-97109BE6-18C3-4062-B035-CD7C234A8E36" name="GUID-97109BE6-18C3-4062-B035-CD7C234A8E36"></a><h4 id="JIMPV-GUID-97109BE6-18C3-4062-B035-CD7C234A8E36" class="sect4"><span class="enumeration_section">A.2.1 </span>Vector Marker Styles
                  </h4>
                  <div>
                     <p>A vector marker can be a simple polygon, an optimized rectangle (defined using two points), a single polyline, or a circle, but not any combination of them. For each type of vector marker, its <code class="codeph">&lt;g&gt;</code> element must contain a corresponding subelement that specifies the geometric information (coordinates for the polygon, optimized rectangle, or polyline, or radius for the circle):
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A polygon definition uses a <code class="codeph">&lt;polygon&gt;</code> element with a <code class="codeph">points</code> attribute that specifies a list of comma-delimited coordinates. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;g class="marker"&gt;
   &lt;polygon points="100,20,40,50,60,80,100,20"/&gt;
&lt;/g&gt;
</pre></li>
                        <li>
                           <p>An optimized rectangle definition uses a <code class="codeph">&lt;rect&gt;</code> element with a <code class="codeph">points</code> attribute that specifies a list of comma-delimited coordinates. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;g class="marker"&gt;
  &lt;rect points="0,0, 120,120"/&gt;
&lt;/g&gt;
</pre></li>
                        <li>
                           <p>A polyline definition uses a <code class="codeph">&lt;polyline&gt;</code> element with a <code class="codeph">points</code> attribute that specifies a list of comma-delimited coordinates. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;g class="marker"&gt;
   &lt;polyline points="100,20,40,50,60,80"/&gt;
&lt;/g&gt;
</pre></li>
                        <li>
                           <p>A circle definition uses a <code class="codeph">&lt;circle&gt;</code> element with an <code class="codeph">r</code> attribute that specifies the radius of the circle. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;g class="marker"&gt;
   &lt;circle r="50"/&gt;
&lt;/g&gt;
</pre></li>
                     </ul>
                     <p>You can specify a stroke or fill color, or both, for any vector-based marker. The syntax is the same as for the style attribute for a color style. The following example defines a triangle marker that has a black border and that is filled with a half-transparent yellow:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
&lt;g class="marker"  style="stroke:#000000;fill:#ffff00;fill-opacity:128"&gt;
     &lt;polygon points="201.0,200.0, 0.0,200.0, 101.0,0.0"/&gt;
&lt;/g&gt;
&lt;/svg&gt;
</pre><p>If a marker is scalable, you can set the marker's maximum size in pixels on a map by using the <code class="codeph">max_size_in_px</code> attribute. Setting this attribute to an appropriate value will prevent the marker from getting so large as to block other map features when the user zooms in to view fine map details. The following example sets the marker's maximum size to 64 pixels:
                     </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
    &lt;g class="marker" max_size_in_px="64" style="stroke:#0000BB;fill:#0033FF;width:3.0mile;height:3.0mile;font-family:Dialog;font-size:12;font-fill:#FF0000"&gt;
        &lt;polygon points="0.0,0.0,0.0,100.0,100.0,100.0,100.0,0.0,0.0,0.0"/&gt;
    &lt;/g&gt;
&lt;/svg&gt;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" title="A marker style represents a marker to be placed on point features or on label points of area and linear features.">Marker Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9832"></a><div class="props_rev_3"><a id="GUID-62D1AD16-BCAE-4B47-8F23-631BD3385ABA" name="GUID-62D1AD16-BCAE-4B47-8F23-631BD3385ABA"></a><h4 id="JIMPV-GUID-62D1AD16-BCAE-4B47-8F23-631BD3385ABA" class="sect4"><span class="enumeration_section">A.2.2 </span>Image Marker Styles
                  </h4>
                  <div>
                     <p>For an image marker, its XML document contains an <code class="codeph">&lt;image&gt;</code> element that identifies the marker as based on an image. The image must be in GIF format, and is stored in the IMAGE column in the styles metadata views. 
                     </p>
                     <p>The following example is an XML document for an image marker:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg&gt;
   &lt;g class="marker"
             style="width:20;height:18;font-family:sansserif;font-size:9pt"&gt;
     &lt;image x="0" y="0" width="9999" height="9999" type="gif" href="dummy.gif"/&gt;
   &lt;/g&gt;
&lt;/svg&gt;
</pre><p>Note that in the preceding example, it would be acceptable to leave the <code class="codeph">&lt;image&gt;</code> element empty (that is, <code class="codeph">&lt;image/&gt;</code>) to create a valid definition with the image to be specified later.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" title="A marker style represents a marker to be placed on point features or on label points of area and linear features.">Marker Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9833"></a><div class="props_rev_3"><a id="GUID-372280A6-B4CE-4F11-80F7-B626C50640B0" name="GUID-372280A6-B4CE-4F11-80F7-B626C50640B0"></a><h4 id="JIMPV-GUID-372280A6-B4CE-4F11-80F7-B626C50640B0" class="sect4"><span class="enumeration_section">A.2.3 </span>TrueType Font-Based Marker Styles
                  </h4>
                  <div>
                     <p>For a TrueType font-based marker, its marker symbol is stored in a TrueType font file, which has the .ttf file extension and which typically contains many individual symbols or glyphs. Many GIS software packages come with TrueType font files that contain symbols useful for mapping.</p>
                     <p>Before the map visualization component can use a symbol in a TrueType font file, you must do the following:</p>
                     <ol>
                        <li>
                           <p>Import the TrueType font file into the database, preferably by using the Map Builder tool (described in <a href="oracle-map-builder-tool.html#GUID-17324FF4-9AA2-4182-93B7-B7999737FA67" title="This chapter briefly describes the map visualization component Map Builder tool, also referred to as Oracle Map Builder. It does not provide detailed information about the tool's interface; for that you should use see online help available when you use Oracle Map Builder.">Oracle Map Builder Tool</a>), which causes the symbols in the font file to be inserted into a single row in the system view USER_SDO_STYLES. In this new row, the TYPE column contains the string TTF, and the IMAGE column contains the contents of the TrueType font file. After the import operation, you can use the Map Builder tool to view all the glyphs or symbols contained inside the TrueType font file. Also, because the font file is now physically stored inside a database, it can be shared by all the map visualization component users.
                           </p>
                        </li>
                        <li>
                           <p>Create a map visualization component marker style based on a glyph or symbol inside an imported TrueType font, preferably using the Map Builder tool.</p>
                        </li>
                     </ol>
                     <p>The following example shows the use of a TrueType font-based marker (with TrueType-specific material in bold):</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
&lt;g class="marker"  style="fill:#ff0000;width:25;height:25"&gt;
  <span class="bold">&lt;ttfSymbol fontName="ERS_INCIDENTS" charCode="118" /&gt;</span>
&lt;/g&gt;
&lt;/svg&gt;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" title="A marker style represents a marker to be placed on point features or on label points of area and linear features.">Marker Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9835"></a><a id="JIMPV9834"></a><div class="props_rev_3"><a id="GUID-70115DCE-093E-4029-B67E-7FC9E952B680" name="GUID-70115DCE-093E-4029-B67E-7FC9E952B680"></a><h4 id="JIMPV-GUID-70115DCE-093E-4029-B67E-7FC9E952B680" class="sect4"><span class="enumeration_section">A.2.4 </span>Using Marker Styles on Lines
                  </h4>
                  <div>
                     <p>Marker styles are usually applied to point features, in which case the marker style is rendered on the point location that represents the feature. However, with line (line string) features such as highways, the marker must be placed at some point along the line to denote some information about the feature, such as its route number. For example, on maps in the United States, a shield symbol is often placed on top of a highway, with a route number inside the symbol, as shown with Route 495 in <a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680__CHDFHJJG">Figure A-1</a>.
                     </p>
                     <div class="figure" id="GUID-70115DCE-093E-4029-B67E-7FC9E952B680__CHDFHJJG">
                        <p class="titleinfigure">Figure A-1 Shield Symbol Marker for a Highway</p><img src="img/shield.gif" alt="Description of Figure A-1 follows" title="Description of Figure A-1 follows" longdesc="img_text/shield.html"><br><a href="img_text/shield.html">Description of "Figure A-1 Shield Symbol Marker for a Highway"</a></div>
                     <!-- class="figure" -->
                     <p>To achieve the result shown in <a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680__CHDFHJJG">Figure A-1</a>, you must do the following:
                     </p>
                     <ol>
                        <li>
                           <p>Choose a marker style, and add a text style definition (font family, font size, fill color, and so on), as shown in the example in <a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" title="A marker style represents a marker to be placed on point features or on label points of area and linear features.">Marker Styles</a>.
                           </p>
                        </li>
                        <li>
                           <p>Specify the marker style as the labeling style in the styling rules for the theme. The following example shows the XML document with the styling rules for a theme to show highways. A marker style (shown in bold in the example) is specified. The label text (<code class="codeph">495</code> in <a href="xml-formats-map-visualizer.html#GUID-70115DCE-093E-4029-B67E-7FC9E952B680__CHDFHJJG">Figure A-1</a>) is a value from the label column, which is named LABEL in this example.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;styling_rules theme_type="political"&gt;
&lt;rule&gt;
   &lt;features style="L.PH"&gt; (name_class = 'I' and TOLL=0) &lt;/features&gt;
   &lt;label column="label" <span class="bold">style="M.SHIELD1"</span>&gt;1&lt;/label&gt;
&lt;/rule&gt;
&lt;styling_rules&gt;
</pre></li>
                     </ol>
                     <p>The map visualization component automatically determines the optimal position on the line for placement of the marker style (the shield in this example).</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-2A02333E-6396-4631-87EA-AC610DC1AC87" title="A marker style represents a marker to be placed on point features or on label points of area and linear features.">Marker Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9836"></a><div class="props_rev_3"><a id="GUID-D4DB1B78-BE81-4F70-B5B7-B7A689B2AAF5" name="GUID-D4DB1B78-BE81-4F70-B5B7-B7A689B2AAF5"></a><h3 id="JIMPV-GUID-D4DB1B78-BE81-4F70-B5B7-B7A689B2AAF5" class="sect3"><span class="enumeration_section">A.3 </span>Line Styles
               </h3>
               <div>
                  <p>A line style is applicable only to a linear feature, such as a road, railway track, or political boundary.</p>
                  <p>In other words, line styles can be applied only to Oracle Spatial and Graph geometries with an SDO_GTYPE value ending in 2 (line) or 6 (multiline). (For information about the SDO_GEOMETRY object type and SDO_GTYPE values, see <a href="../spatl/spatial-datatypes-metadata.html#SPATL489" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.)
                  </p>
                  <p>When the map visualization component draws a linear feature, a line style tells the rendering engine the color, dash pattern, and stroke width to use. A line style can have a base line element which, if defined, coincides with the original linear geometry. It can also define two edges parallel to the base line. Parallel line elements can have their own color, dash pattern, and stroke width. If parallel lines are used, they must be located to each side of the base line, with equal offsets to it. </p>
                  <p>To draw railroad-like lines, you need to define a third type of line element in a line style called <span class="italic">hashmark</span>. For a <code class="codeph">&lt;line&gt;</code> element of class <code class="codeph">hashmark</code>, the first value in the dash array indicates the gap between two hash marks, and the second value indicates the length of the hash mark to either side of the line. The following example defines a hash mark line with a gap of 8.5 screen units and a length of 3 screen units at each side of the base line:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;line class="hashmark" style="fill:#003333"  dash="8.5,3.0"/&gt;
</pre><p>The following example defines a complete line style. </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
   &lt;g class="line" style="fill:#ffff00;stroke-width:5"&gt;
      &lt;line class="parallel" style="fill:#ff0000;stroke-width:1.0"/&gt;
      &lt;line class="base" style="fill:black;stroke-width:1.0" dash="10.0,4.0"/&gt;
   &lt;/g&gt;
&lt;/svg&gt;
</pre><p>In the preceding example, <code class="codeph">class="line"</code> identifies the style as a line style. The overall fill color (#ffff00) is used to fill any space between the parallel lines and the base line. The overall line width (5 pixels) limits the maximum width that the style can occupy (including that of the parallel lines).
                  </p>
                  <p>The line style in the preceding example has both base line and parallel line elements. The parallel line element (<code class="codeph">class="parallel"</code>) is defined by the first <code class="codeph">&lt;line&gt;</code> element, which defines its color and width. (Because the definition does not provide a dash pattern, the parallel lines or edges will be solid.) The base line element (<code class="codeph">class="base"</code>) is defined by the second <code class="codeph">&lt;line&gt;</code> element, which defines its color, width, and dash pattern.
                  </p>
                  <p>A marker (such as a direction marker) can be defined for a line style. The <code class="codeph">marker-name</code> parameter specifies the name of a marker style, the <code class="codeph">marker-position</code> parameter specifies the proportion (from 0 to 1) of the distance along the line from the start point at which to place the marker, and the <code class="codeph">marker-size</code> parameter specifies the number of display units for the marker size. The marker orientation follows the orientation of the line segment on which the marker is placed.
                  </p>
                  <p>The following example defines a line style with direction marker:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
  &lt;g class="line" style="fill:#33a9ff;stroke-width:4;
      marker-name:M.IMAGE105_BW;marker-position:0.15;marker-size=8"&gt;
    &lt;line class="parallel" style="fill:red;stroke-width:1.0"/&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre><p>To get multiple markers, add the <code class="codeph">multiple-marker</code> attribute to the style definition. In this case the marker-position will define the position for the first marker and the space in between markers. The following example defines a line style with a direction marker that starts at position 0.15 and that is repeated continually with a space of 0.15 between each occurrence.
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
 &lt;g class="line" style="fill:#33a9ff;stroke-width:4;
     marker-name:M.IMAGE105_BW; marker-position:0.15;
     marker-size=8; <span class="bold">multiple-marker=true</span>"&gt;
   &lt;line class="parallel" style="fill:red;stroke-width:1.0"/&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9837"></a><div class="props_rev_3"><a id="GUID-57E89E1B-B6B8-4B9C-94A6-3918DCBAEAC5" name="GUID-57E89E1B-B6B8-4B9C-94A6-3918DCBAEAC5"></a><h3 id="JIMPV-GUID-57E89E1B-B6B8-4B9C-94A6-3918DCBAEAC5" class="sect3"><span class="enumeration_section">A.4 </span>Area Styles
               </h3>
               <div>
                  <p>An area style defines a pattern to be used to fill an area feature.</p>
                  <p>In the current release, area styles must be image-based. That is, when you apply an area style to a geometry, the image defining the style is plotted repeatedly until the geometry is completely filled.</p>
                  <p>The definition of an area style is similar to that of an image marker style, which is described in <a href="xml-formats-map-visualizer.html#GUID-62D1AD16-BCAE-4B47-8F23-631BD3385ABA">Image Marker Styles</a>.
                  </p>
                  <p>The following example defines an area style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
   &lt;g class="area"  style="stroke:#000000"&gt;
      &lt;image/&gt;
   &lt;/g&gt;
&lt;/svg&gt;
</pre><p>In the preceding example, <code class="codeph">class="area"</code> identifies the style as an area style. The stroke color (<code class="codeph">style="stroke:#000000"</code>) is the color used to draw the geometry boundary. If no stroke color is defined, the geometry has no visible boundary, although its interior is filled with the pattern image.
                  </p>
                  <p>You can also specify any line style to be used as the boundary for an area style. The following area style definition uses the <code class="codeph">line-style</code> keyword (shown in bold in the example) to specify a line style to be used for the borders of features:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
  &lt;g class="area" style="<span class="bold">line-style</span>:L.DPH"&gt;
    &lt;image x="0" y="0" width="9999" height="9999" type="gif" href="dummy.gif"/&gt;
  &lt;/g&gt;
&lt;/svg&gt;
</pre><p>As with the image marker style, the image for an area style must be stored in a separate column (identified in the IMAGE column in the USER_SDO_STYLES and ALL_SDO_STYLES metadata views, which are described in <a href="map-visualization-concepts.html#GUID-818EC731-8296-4594-9327-F573E930F56B">xxx_SDO_STYLES Views</a>).
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9839"></a><a id="JIMPV9838"></a><div class="props_rev_3"><a id="GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3" name="GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3"></a><h3 id="JIMPV-GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3" class="sect3"><span class="enumeration_section">A.5 </span>Text Styles
               </h3>
               <div>
                  <p>A text style defines the font and color to be used in labeling spatial features.</p>
                  <p>The <code class="codeph">class</code> attribute must have the value <code class="codeph">"text"</code>. For the font, you can specify its style (plain, italic, and so on), font family, size, and weight. To specify the foreground color, you use the <code class="codeph">fill</code> attribute.
                  </p>
                  <p>The following example defines a text style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
   &lt;g class="text" style="font-style:plain; font-family:Dialog; font-size:14pt;
             font-weight:bold; fill:#0000ff"&gt;
    Hello World!
   &lt;/g&gt;
&lt;/svg&gt;
</pre><p>In the preceding example, the text "Hello World!" is displayed only when the style itself is being previewed in a style creation tool, such as the Map Builder tool. When the style is applied to a map, it is always supplied with an actual text label that the map visualization component obtains from a theme.</p>
                  <p>A text style can provide a floating white background around the rendered text, to make the labels easier to read on a map that has many features. <a href="xml-formats-map-visualizer.html#GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3__CHDFIEEH">Figure A-2</a> shows the label Vallejo with a white background wrapping tightly around the letters. 
                  </p>
                  <div class="figure" id="GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3__CHDFIEEH">
                     <p class="titleinfigure">Figure A-2 Text Style with White Background</p><img src="img/halotext.jpg" alt="Description of Figure A-2 follows" title="Description of Figure A-2 follows" longdesc="img_text/halotext.html"><br><a href="img_text/halotext.html">Description of "Figure A-2 Text Style with White Background"</a></div>
                  <!-- class="figure" -->
                  <p>To achieve the result shown in <a href="xml-formats-map-visualizer.html#GUID-DB68D830-A04C-43F5-80D0-1CEF5071A9A3__CHDFIEEH">Figure A-2</a>, you must specify the <code class="codeph">float-width</code> attribute in the <code class="codeph">&lt;g&gt;</code> element of the text style definition. The following example uses the <code class="codeph">float-width</code> attribute (shown in bold in the example) to specify a white background that extends 3.5 pixels from the boundary of each letter. (The Hello World! text is ignored when the style is applied to the display of labels.)
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;svg width="1in" height="1in"&gt;
&lt;desc&gt;&lt;/desc&gt;
&lt;g class="text"  <span class="bold">float-width="3.5"</span>  
   style="font-style:plain; font-family:Dialog; font-size:12pt; font-weight:bold;
     fill:#000000"&gt;
 Hello World!
&lt;/g&gt;
&lt;/svg&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9840"></a><div class="props_rev_3"><a id="GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" name="GUID-8B0BF578-A3FC-4A81-A462-284ED667707B"></a><h3 id="JIMPV-GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" class="sect3"><span class="enumeration_section">A.6 </span>Advanced Styles
               </h3>
               <div>
                  <p>Advanced styles are structured styles made from simple styles.</p>
                  <p>Advanced styles are used primarily for thematic mapping. The core advanced style is the bucket style (<code class="codeph">BucketStyle</code>), and every advanced style is a form of bucket style. A bucket style is a one-to-one mapping between a set of primitive styles and a set of buckets. Each bucket contains one or more attribute values of features to be plotted. For each feature, one of its attributes is used to determine which bucket it falls into or is contained within, and then the style assigned to that bucket is applied to the feature.
                  </p>
                  <p>Two special types of bucket styles are also provided: color scheme (described in <a href="xml-formats-map-visualizer.html#GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3">Color Scheme Styles</a>) and variable (graduated) marker (described in <a href="xml-formats-map-visualizer.html#GUID-3AA7E47E-8C54-4382-AC5A-42D5ED73856A">Variable Marker Styles</a>).
                  </p>
                  <p>Other advanced styles are dot density (described in <a href="xml-formats-map-visualizer.html#GUID-64F7BB3E-94E3-433C-AF2C-F6C3D51B2A56">Dot Density Marker Styles</a>), bar chart (described in <a href="xml-formats-map-visualizer.html#GUID-F878EE21-DBCE-47C3-A842-CF69DEA0F92C">Bar Chart Marker Styles</a>), collection (described in <a href="xml-formats-map-visualizer.html#GUID-786D9C05-C3C2-4A90-B5DE-6B5718DC792E">Collection Styles</a>), and variable pie chart (described in <a href="xml-formats-map-visualizer.html#GUID-4F10A15B-88D4-4941-8063-834932D4F481">Variable Pie Chart Styles</a>).
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF">Bucket Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3">Color Scheme Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-3AA7E47E-8C54-4382-AC5A-42D5ED73856A">Variable Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-64F7BB3E-94E3-433C-AF2C-F6C3D51B2A56">Dot Density Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-F878EE21-DBCE-47C3-A842-CF69DEA0F92C">Bar Chart Marker Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-786D9C05-C3C2-4A90-B5DE-6B5718DC792E">Collection Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-4F10A15B-88D4-4941-8063-834932D4F481">Variable Pie Chart Styles</a><br></li>
                     <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-751BB8F1-237A-4688-A0DA-229225771FDF">Heat Map Styles</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9841"></a><div class="props_rev_3"><a id="GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF" name="GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF"></a><h4 id="JIMPV-GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF" class="sect4"><span class="enumeration_section">A.6.1 </span>Bucket Styles
                  </h4>
                  <div>
                     <p>A bucket style defines a set of buckets, and assigns one primitive style to each bucket. The content of a bucket can be either of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A collection of discrete values (for example, a bucket for all counties with a hurricane risk code of 1 or 2, a bucket for all counties with a hurricane risk code of 3, and so on).</p>
                        </li>
                        <li>
                           <p>A continuous range of values (for example, a bucket for all counties with average family income less than $30,000, a bucket for all counties with average family income from $30,000 through $39,999, and so on). In this case, the ranges of a series of buckets can be individually defined (each defined by an upper-bound value and lower-bound value) or equally divided among a master range.</p>
                        </li>
                     </ul>
                     <p>The following code excerpt shows the basic format of a bucket style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
  &lt;BucketStyle&gt;
    &lt;Buckets&gt;
    . . .
    &lt;/Buckets&gt;
  &lt;/BucketStyle&gt;
&lt;/AdvancedStyle&gt;
 </pre><p>In contrast with the other (primitive) styles, an advanced style always has a root element identified by the <code class="codeph">&lt;AdvancedStyle&gt;</code> tag.
                     </p>
                     <p>For bucket styles, a <code class="codeph">&lt;BucketStyle&gt;</code> element is the only child of the <code class="codeph">&lt;AdvancedStyle&gt;</code> element. Each <code class="codeph">&lt;BucketStyle&gt;</code> element has one or more <code class="codeph">&lt;Buckets&gt;</code> child elements, whose contents vary depending on the type of buckets.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-5DDA98E4-1DBD-443D-B537-9C73AA29708B">Collection-Based Buckets with Discrete Values</a><br></li>
                        <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-3DEE62C7-780A-429D-B21F-CC79D43B0ACB">Individual Range-Based Buckets</a><br></li>
                        <li class="ulchildlink"><a href="xml-formats-map-visualizer.html#GUID-1B0D577A-184D-4349-B05D-4B589C3830B2">Equal-Ranged Buckets</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="JIMPV9842"></a><div class="props_rev_3"><a id="GUID-5DDA98E4-1DBD-443D-B537-9C73AA29708B" name="GUID-5DDA98E4-1DBD-443D-B537-9C73AA29708B"></a><h5 id="JIMPV-GUID-5DDA98E4-1DBD-443D-B537-9C73AA29708B" class="sect5"><span class="enumeration_section">A.6.1.1 </span>Collection-Based Buckets with Discrete Values
                     </h5>
                     <div>
                        <p>If each bucket of a bucket style contains a collection of discrete values, use a <code class="codeph">&lt;CollectionBucket&gt;</code> element to represent each bucket. Each bucket contains one or more values. The values for each bucket are listed as the content of the <code class="codeph">&lt;CollectionBucket&gt;</code> element, with multiple values delimited by commas. The following example defines three buckets.
                        </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
  &lt;AdvancedStyle&gt;
    &lt;BucketStyle&gt;
      &lt;Buckets&gt;
        &lt;CollectionBucket  seq="0" label="commercial"
            style="10015"&gt;commercial&lt;/CollectionBucket&gt;
        &lt;CollectionBucket  seq="1" label="residential"
            style="10031"&gt;residential, rural&lt;/CollectionBucket&gt;
        &lt;CollectionBucket  seq="2" label="industrial"
            style="10045"&gt;industrial, mining, agriculture&lt;/CollectionBucket&gt;
    &lt;/Buckets&gt;
  &lt;/BucketStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>In the preceding example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The values for each bucket are one or more strings; however, the values can also be numbers. </p>
                           </li>
                           <li>
                              <p>The name of the style associated with each bucket is given.</p>
                           </li>
                           <li>
                              <p>The label attribute for each <code class="codeph">&lt;CollectionBucket&gt;</code> element (<span class="italic">commercial</span>, <span class="italic">residential</span>, or <span class="italic">industrial</span>) is used only in a label that is compiled for the advanced style.
                              </p>
                           </li>
                           <li>
                              <p>The order of the <code class="codeph">&lt;CollectionBucket&gt;</code> elements is significant. However, the values in the <code class="codeph">seq</code> (sequence) attributes are informational only; the map visualization component determines sequence only by the order in which elements appear in a definition.
                              </p>
                           </li>
                        </ul>
                        <p>Although not shown in this example, if you want a bucket for all other values (if any other values are possible), you can create a <code class="codeph">&lt;CollectionBucket&gt;</code> element with <code class="codeph">#DEFAULT#</code> as its attribute value. It should be placed after all other <code class="codeph">&lt;CollectionBucket&gt;</code> elements, so that its style will be rendered last.
                        </p>
                        <p>To apply label styles to collection-based buckets with discrete values, see <a href="map-visualization-concepts.html#GUID-DF9FFE30-7ACB-4E9A-A3E5-40EC4E32E1CB">Specifying a Label Style for a Bucket</a>.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF">Bucket Styles</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9843"></a><div class="props_rev_3"><a id="GUID-3DEE62C7-780A-429D-B21F-CC79D43B0ACB" name="GUID-3DEE62C7-780A-429D-B21F-CC79D43B0ACB"></a><h5 id="JIMPV-GUID-3DEE62C7-780A-429D-B21F-CC79D43B0ACB" class="sect5"><span class="enumeration_section">A.6.1.2 </span>Individual Range-Based Buckets
                     </h5>
                     <div>
                        <p>If each bucket of a bucket style contains a value range that is defined by two values, use a <code class="codeph">&lt;RangedBucket&gt;</code> element to represent each bucket. Each bucket contains a range of values. The following example defines four buckets.
                        </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
 &lt;AdvancedStyle&gt;
   &lt;BucketStyle&gt;
     &lt;Buckets&gt;
          &lt;RangedBucket high="10" style="10015"/&gt;
          &lt;RangedBucket low="10" high="40" style="10024"/&gt;
          &lt;RangedBucket low="40" high="50" style="10025"/&gt;
          &lt;RangedBucket low="50" style="10029"/&gt;
     &lt;/Buckets&gt;
   &lt;/BucketStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>For individual range-based buckets, the lower-bound value is inclusive, while the upper-bound value is exclusive (except for the range that has values greater than any value in the other ranges; its upper-bound value is inclusive). No range is allowed to have a range of values that overlaps values in other ranges.</p>
                        <p>For example, the second bucket in this example (<code class="codeph">low="10" high="40"</code>) will contain any values that are exactly 10, as well as values up to but not including 40 (such as 39 and 39.99). Any values that are exactly 40 will be included in the third bucket.
                        </p>
                        <p>As with the <code class="codeph">&lt;CollectionBucket&gt;</code> element, the style associated with each <code class="codeph">&lt;RangedBucket&gt;</code> element is specified as an attribute.
                        </p>
                        <p>To apply label styles to individual range-based buckets, see <a href="map-visualization-concepts.html#GUID-DF9FFE30-7ACB-4E9A-A3E5-40EC4E32E1CB">Specifying a Label Style for a Bucket</a>.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF">Bucket Styles</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="JIMPV9844"></a><div class="props_rev_3"><a id="GUID-1B0D577A-184D-4349-B05D-4B589C3830B2" name="GUID-1B0D577A-184D-4349-B05D-4B589C3830B2"></a><h5 id="JIMPV-GUID-1B0D577A-184D-4349-B05D-4B589C3830B2" class="sect5"><span class="enumeration_section">A.6.1.3 </span>Equal-Ranged Buckets
                     </h5>
                     <div>
                        <p>If a bucket style contains a series of buckets that contain an equally divided range of a master range, you can omit the use of <code class="codeph">&lt;RangedBucket&gt;</code> elements, and instead specify in the <code class="codeph">&lt;Buckets&gt;</code> element the master upper-bound value and lower-bound value for the overall range, the number of buckets in which to divide the range, and a list of style names (with one for each bucket). The following example defines five buckets (<code class="codeph">nbuckets=5</code>) of equal range between 0 and 29:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
   &lt;BucketStyle&gt;
      &lt;Buckets low="0" high="29" nbuckets="5"
          styles="10015,10017,10019,10021,10023"/&gt;
   &lt;/BucketStyle&gt;
 &lt;/AdvancedStyle&gt;
</pre><p>In the preceding example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If all values are integers, the five buckets hold values in the following ranges: 0 to 5, 6 to 11, 12 to 17, 18 to 23, and 24 to 29.</p>
                           </li>
                           <li>
                              <p>The first bucket is associated with the style named <code class="codeph">10015</code>, the second bucket is associated with the style named <code class="codeph">10017</code>, and so on.
                              </p>
                           </li>
                        </ul>
                        <p>The number of style names specified must be the same as the value of the <code class="codeph">nbuckets</code> attribute. The buckets are arranged in ascending order, and the styles are assigned in their specified order to each bucket.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-85FE8BC7-DA9E-4264-8045-D8B3C54050AF">Bucket Styles</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="JIMPV9845"></a><div class="props_rev_3"><a id="GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3" name="GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3"></a><h4 id="JIMPV-GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3" class="sect4"><span class="enumeration_section">A.6.2 </span>Color Scheme Styles
                  </h4>
                  <div>
                     <p>A color scheme style automatically generates individual color styles of varying brightness for each bucket based on a base color. The brightness is equally spaced between full brightness and total darkness. Usually, the first bucket is assigned the brightest shade of the base color and the last bucket is assigned the darkest shade.</p>
                     <p>You can include a stroke color to be used by the color style for each bucket. The stroke color is not part of the brightness calculation. So, for example, if a set of polygonal features is rendered using a color scheme style, the interior of each polygon is filled with the color (shade of the base color) for each corresponding bucket, but the boundaries of all polygons are drawn using the same stroke color.</p>
                     <p>You can include an opacity value (0 to 255, for transparent to opaque) for the base color (using the <code class="codeph">basecolor_opacity</code> attribute) and for the stroke color (using the <code class="codeph">strokecolor_opacity</code> attribute).
                     </p>
                     <p>The following example defines a color scheme style with a black stroke color and four buckets associated with varying shades of the base color of blue.</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
 &lt;ColorSchemeStyle basecolor="blue" strokecolor="black"&gt;
   &lt;Buckets&gt;
        &lt;RangedBucket label="&amp;lt;10"  high="10"/&gt;
        &lt;RangedBucket label="10 - 20" low="10" high="20"/&gt;
        &lt;RangedBucket label="20 - 30" low="20" high="30"/&gt;
        &lt;RangedBucket label="&amp;gt;=30" low="30"/&gt;
   &lt;/Buckets&gt;
  &lt;/ColorSchemeStyle&gt;
&lt;/AdvancedStyle&gt;</pre><div class="infoboxnote" id="GUID-577FABC2-FFA1-458C-9C0B-2E93D21EA1A3__GUID-D4A91C61-6D65-4175-9DC5-86821F54A498">
                        <p class="notep1">Note:</p>
                        <p>For the following special characters, use escape sequences instead.</p>
                        <p>For <code class="codeph">&lt;</code>, use: <code class="codeph">&amp;lt</code></p>
                        <p>For <code class="codeph">&gt;</code>, use: <code class="codeph">&amp;gt;</code></p>
                        <p>For <code class="codeph">&amp;</code>, use: <code class="codeph">&amp;amp;</code></p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9846"></a><div class="props_rev_3"><a id="GUID-3AA7E47E-8C54-4382-AC5A-42D5ED73856A" name="GUID-3AA7E47E-8C54-4382-AC5A-42D5ED73856A"></a><h4 id="JIMPV-GUID-3AA7E47E-8C54-4382-AC5A-42D5ED73856A" class="sect4"><span class="enumeration_section">A.6.3 </span>Variable Marker Styles
                  </h4>
                  <div>
                     <p>A variable marker style generates a series of marker styles of varying sizes for each bucket. You specify the number of buckets, the start (smallest) size for the marker, and the size increment between two consecutive markers.</p>
                     <p>Variable marker styles are conceptually similar to color scheme styles in that both base buckets on variations from a common object: with a color scheme style the brightness of the base color varies, and with a variable marker style the size of the marker varies.</p>
                     <p>The following example creates a variable marker style with four buckets, each associated with different sizes (in increments of 4) of a marker (<code class="codeph">m.circle</code>). The marker for the first bucket has a radius of 10 display units, the marker for the second bucket has a radius of 14 display units, and so on. This example assumes that the marker named <code class="codeph">m.circle</code> has already been defined.
                     </p><pre class="oac_no_warn" dir="ltr"> &lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
  &lt;VariableMarkerStyle basemarker="m.circle" startsize="10" increment="4"&gt;
     &lt;Buckets&gt;
         &lt;RangedBucket label="&amp;lt;10"  high="10"/&gt;
         &lt;RangedBucket label="10 - 20" low="10" high="20"/&gt;
         &lt;RangedBucket label="20 - 30" low="20" high="30"/&gt;
         &lt;RangedBucket label="&amp;gt;=30"   low="30"/&gt;
     &lt;/Buckets&gt;
  &lt;/VariableMarkerStyle&gt;
&lt;/AdvancedStyle&gt;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9847"></a><div class="props_rev_3"><a id="GUID-64F7BB3E-94E3-433C-AF2C-F6C3D51B2A56" name="GUID-64F7BB3E-94E3-433C-AF2C-F6C3D51B2A56"></a><h4 id="JIMPV-GUID-64F7BB3E-94E3-433C-AF2C-F6C3D51B2A56" class="sect4"><span class="enumeration_section">A.6.4 </span>Dot Density Marker Styles
                  </h4>
                  <div>
                     <p>A dot density advanced marker style, when applied to an area feature such as states or counties, randomly draws a set of dots inside the area. The number of dots drawn inside each area is determined by the count value associated with the area. When you define a dot density style, you must specify a marker style that will be used for each of the dots.</p>
                     <p>The following example shows the XML definition of a simple dot density style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
        &lt;DotDensityStyle MarkerStyle="M.STAR" DotWidth="8" DotHeight="8"&gt;
        &lt;/DotDensityStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>In the preceding example, the marker style M.STAR is used for each dot, and the size of each dot is 8 pixels wide and high.</p>
                     <p>When you use a dot density style, you should "scale" the count value to a proper range. For example, if you want to apply a dot density style based on the population count for each county, you would not want to use the population count directly (one dot for each person), because this will result in an unacceptable number of drawn dots (for example, if a county has 15,000 people). Instead, supply a scaled down value or expression, such as <code class="codeph">population/1000</code>, when you define the styling rules for the theme. (The map visualization component does not perform any scaling-down internally, so you must do it at the SQL query level.)
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9848"></a><div class="props_rev_3"><a id="GUID-F878EE21-DBCE-47C3-A842-CF69DEA0F92C" name="GUID-F878EE21-DBCE-47C3-A842-CF69DEA0F92C"></a><h4 id="JIMPV-GUID-F878EE21-DBCE-47C3-A842-CF69DEA0F92C" class="sect4"><span class="enumeration_section">A.6.5 </span>Bar Chart Marker Styles
                  </h4>
                  <div>
                     <p>A bar chart advanced marker style is similar to a pie chart style, except that it draws a bar graph for each feature to which it is applied. The following example shows the XML definition of a bar chart style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
   &lt;BarChartStyle width="30" height="25" show_x_axis="true"&gt;
       &lt;Bar name="1990" color="#FF0000" /&gt;
       &lt;Bar name="1995" color="#FFC800" /&gt;
       &lt;Bar name="1998" color="#0000FF" /&gt;
       &lt;Bar name="2000" color="#00FF00" /&gt;
       &lt;Bar name="2002" color="#00FFFF" /&gt;
   &lt;/BarChartStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>In the preceding example, width and height specify the overall size of the bar chart, including all individuals bars within it.</p>
                     <p>When a bar chart is drawn on a feature based on a set of values associated with that feature, the height of each bar can be determined by either of two approaches: locally scaled or globally scaled. A locally scaled bar chart determines the height of each bar only from the associated values for that feature; and thus, for example, you cannot compare the second bar of one chart to the second bar on another chart on the same theme. A globally scaled bar chart uses the same bar scale for all charts on the map; and thus, for example, you can compare the second bar of one chart to the second bar on another chart on the same theme.</p>
                     <p>So, if you want to compare bars not only within the same chart, but also among all the charts showing on the map, you must use globally scaled bar chart style by specifying <code class="codeph">share_scale="true"</code> in the definition of the bar chart style, as shown in the following example:
                     </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
   &lt;BarChartStyle width="40" height="30" <span class="bold">share_scale="true"</span>
      min_value="0.0" max_value="100"&gt;
       &lt;Bar name="1990" color="#FF0000" /&gt;
       &lt;Bar name="1995" color="#FFC800" /&gt;
       &lt;Bar name="1998" color="#0000FF" /&gt;
       &lt;Bar name="2000" color="#00FF00" /&gt;
       &lt;Bar name="2002" color="#00FFFF" /&gt;
   &lt;/BarChartStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>When the bar chart style in the preceding example is applied to a theme, the map visualization component considers the global range of values of all features in that theme, and then determines the height of each bar based on where a specific value falls in the global range from the minimum value to the maximum value.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9849"></a><div class="props_rev_3"><a id="GUID-786D9C05-C3C2-4A90-B5DE-6B5718DC792E" name="GUID-786D9C05-C3C2-4A90-B5DE-6B5718DC792E"></a><h4 id="JIMPV-GUID-786D9C05-C3C2-4A90-B5DE-6B5718DC792E" class="sect4"><span class="enumeration_section">A.6.6 </span>Collection Styles
                  </h4>
                  <div>
                     <p>A collection advanced style is simply a collection of other types of styles that are applied together to a feature. This can result in faster rendering of a collection theme compared to using multiple themes based on different styles.</p>
                     <p>For example, a bar chart style, when applied to a county, draws only the bar chart somewhere inside the county, but the county itself (its boundary and interior area) is not drawn. However, you probably want to see the underlying boundaries of the counties, to see which bar chart belongs to which county. To do this without a collection style, you would have to define a second theme in which each county is being associated with a color or area style. This approach would result in two rendering passes (because two themes are involved) for essentially the same group of features.</p>
                     <p>However, by using a collection style in this example, you can define a single style that refers to both the bar chart and the color or area style, and then apply the collection style to the theme for the counties. This theme, when rendered by the map visualization component, will show both the bar charts and the boundaries on the map.</p>
                     <p>Another typical use of a collection style is for rendering collection type topology features, each of which can contain multiple types of geometries, such as polygons (areas), points, and lines. In such cases, a collection style can include styles that are most appropriate for each type of geometry in a collection topology feature.</p>
                     <p>The following example shows the XML definition of a collection style:</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
 &lt;AdvancedStyle&gt;
   &lt;CollectionStyle&gt;
     &lt;style name="C.COUNTIES" shape="polygon" /&gt;
     &lt;style name="L.PH" shape="line" /&gt;
     &lt;style name="M.CIRCLE" shape="point" /&gt;
   &lt;/CollectionStyle&gt;
  &lt;/AdvancedStyle&gt;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9850"></a><div class="props_rev_3"><a id="GUID-4F10A15B-88D4-4941-8063-834932D4F481" name="GUID-4F10A15B-88D4-4941-8063-834932D4F481"></a><h4 id="JIMPV-GUID-4F10A15B-88D4-4941-8063-834932D4F481" class="sect4"><span class="enumeration_section">A.6.7 </span>Variable Pie Chart Styles
                  </h4>
                  <div>
                     <p>A variable pie chart generates a series of pie circles of varying sizes for each bucket. You specify the pie slice information, the start (smallest) radius size for a pie circle, and the radius size increment between two consecutive circles.</p>
                     <p>Variable pie chart styles are conceptually similar to variable marker styles. With a variable marker style the base marker size varies, whereas with the variable pie chart style the circle radius varies.</p>
                     <p>The following example creates a definition for a variable pie chart style with four buckets, each associated with different sizes (in increments of 4) of a circle with start radius of 5. The circle radius for the first bucket has a radius of 5 display units, the circle for the second bucket has a radius of 9 display units, and so on.</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
  &lt;<span class="bold">VariablePieChartStyle startradius="5" increment="4"</span>&gt;
    &lt;PieSlice name="WHITE" color="#FFFFFF"/&gt;
    &lt;PieSlice name="BLACK" color="#000000"/&gt;
    &lt;PieSlice name="HISPANIC" color="#FF0000"/&gt;
   &lt;Buckets&gt;
    &lt;RangedBucket seq="0" label="0 - 6194757.2" low="0" high="6194757.2" /&gt;
    &lt;RangedBucket seq="1" label="6194757.2 - 1.23895144E7" low="6194757.2" high="1.23895144E7"/&gt;
    &lt;RangedBucket seq="2" label="1.23895144E7 - 1.85842716E7" low="1.23895144E7" high="1.85842716E7"/&gt;
    &lt;RangedBucket seq="3" label="1.85842716E7 - 2.47790288E7" low="1.85842716E7" high="2.47790288E7"/&gt;
    &lt;RangedBucket seq="4" label="2.47790288E7 - 3.0973786E7" low="2.47790288E7" high="3.0973786E7"/&gt;
   &lt;/Buckets&gt;
  &lt;/VariablePieChartStyle&gt;
&lt;/AdvancedStyle&gt;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9852"></a><a id="JIMPV9851"></a><div class="props_rev_3"><a id="GUID-751BB8F1-237A-4688-A0DA-229225771FDF" name="GUID-751BB8F1-237A-4688-A0DA-229225771FDF"></a><h4 id="JIMPV-GUID-751BB8F1-237A-4688-A0DA-229225771FDF" class="sect4"><span class="enumeration_section">A.6.8 </span>Heat Map Styles
                  </h4>
                  <div>
                     <p>A heat map style can be used to generate a two-dimensional (2D) color map of any point-type data set. The colors represent the distribution density or pattern of the points or events across the region. Internally, the map visualization component creates a 2D matrix and assigns a value to each grid cell based on the result of a distance-weighted algorithm run against the point data set.</p>
                     <p>You can create a heat map style using the Map Builder tool, and assign it as the rendering style for a point-type geometry theme. You can then add this theme to a base map, or add it as a theme-based FOI layer to an interactive Oracle Maps application. <a href="xml-formats-map-visualizer.html#GUID-751BB8F1-237A-4688-A0DA-229225771FDF__BABJDEDG">Figure A-3</a> shows a map displayed using a theme based on a heat map style. This map shows the concentration of pizza restaurants: red areas have the highest concentration of pizza restaurants, with concentrations progressively lower for orange, yellow, dark green, lighter green, pale green, and white areas.
                     </p>
                     <div class="figure" id="GUID-751BB8F1-237A-4688-A0DA-229225771FDF__BABJDEDG">
                        <p class="titleinfigure">Figure A-3 Heat Map Showing Pizza Restaurant Concentration</p><img src="img/heat_map.gif" alt="Description of Figure A-3 follows" title="Description of Figure A-3 follows" longdesc="img_text/heat_map.html"><br><a href="img_text/heat_map.html">Description of "Figure A-3 Heat Map Showing Pizza Restaurant Concentration"</a></div>
                     <!-- class="figure" -->
                     <p>The following example creates a definition for a heat map style.</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" ?&gt;
&lt;AdvancedStyle&gt;
     <span class="bold">&lt;HeatMapStyle&gt;</span>
          &lt;color_stops num_steps="200" alpha="128"&gt;
            FFFFFF,00FF00, FFC800,FF0000
          &lt;/color_stops&gt;
          &lt;spot_light_radius&gt;75.0mile&lt;/spot_light_radius&gt;
          &lt;grid_sample_factor&gt;2.5&lt;/grid_sample_factor&gt;
          &lt;container_theme&gt;THEME_DEMO_STATES&lt;/container_theme&gt;
    &lt;/HeatMapStyle&gt;
&lt;/AdvancedStyle&gt;
</pre><p>The preceding example defines these essential aspects of the heat map:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Color stops</span>. Color stops are used to generate a color gradient. In this example, the color gradient will go from white (maps to grid cells with a zero value) to green, to orange, and finally to full red (maps to grid cells with highest values). The gradient will have 200 colors that span these 4 color stops. All the colors will have an alpha value of 128 (half transparent, where 0 would be fully transparent and 255 would be opaque).
                           </p>
                        </li>
                        <li>
                           <p><a id="d29258e1942" class="indexterm-anchor"></a><span class="bold">Spot light radius</span>. The spot light radius defines the radius around each grid cell where events or points within this radius will be contributing to the final aggregated value of that cell. The contribution of each point decreases as its distance from the cell center increases, and becomes zero beyond this radius.
                           </p>
                           <p>You can specify the radius in pixels or in a real ground unit such as <code class="codeph">mile</code>. When you specify the radius in pixels (the default if you do not specify a unit), the mapping from the color gradient to the grid cells will vary as the user zooms in and out on the map. This occurs because the number of points fall within the radius is constantly changing as the user zooms in and out. To achieve a fixed heat map regardless of map scale, you must specify the spotlight radius in a ground unit such as <code class="codeph">meter</code>, <code class="codeph">km</code>, or <code class="codeph">mile</code>. The preceding example uses <code class="codeph">mile</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Grid sample factor</span>. The grid sample factor is used to sample the current map window size when creating the internal matrix or grid for heat map calculation. For example, a sample factor of 4 means that the internal heat map grid will be one-fourth (0.25) the actual map window size. So, if the map is 1000x1000 pixels, the internal heat map grid is 250x250. Thus, the lower the grid sample factor value, the larger the internal heat map grid will be; and the higher the value, the smaller the internal heat map grid will be.
                           </p>
                           <p>The grid sample factor value probably has more effect on heat map rendering performance than any other attribute, because a large internal heat map grid (resulting from a low grid sample factor value) will significantly increase the overall computation time. A good general guideline is to specify a grid sample factor value high enough so that the internal heat map grid will be 512x512 pixels or smaller.</p>
                        </li>
                        <li>
                           <p><span class="bold">Container theme name</span>. The container theme name specifies the name of a theme (predefined geometry theme in the same database schema) that defines the boundary of the map for the heat map theme. For example, if you are generating a heat map for a point data set that scatters all over the entire United States of America, choose a theme that represents the US national boundary or all the states as its container theme.
                           </p>
                           <p>The specified container theme does not affect how the heat map itself is calculated (which is solely based on the point distribution and the spotlight radius). Instead, the container theme it masks out all colored cells that are outside the boundary of the study region. This helps to ensure a "clean" look for the heat map.</p>
                        </li>
                     </ul>
                     <p>After you create a heat map style, you can create a theme for point data and assign the new heat map style as the rendering style for the theme.</p>
                     <p>Unlike other types of advanced styles, heat map styles do not require any attribute or value columns.</p>
                     <p>Labels are not supported for themes rendered using heat map styles.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-8B0BF578-A3FC-4A81-A462-284ED667707B" title="Advanced styles are structured styles made from simple styles.">Advanced Styles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9853"></a><div class="props_rev_3"><a id="GUID-45D7DCB4-5218-4469-9712-5F8AC338088B" name="GUID-45D7DCB4-5218-4469-9712-5F8AC338088B"></a><h3 id="JIMPV-GUID-45D7DCB4-5218-4469-9712-5F8AC338088B" class="sect3"><span class="enumeration_section">A.7 </span>Themes: Styling Rules
               </h3>
               <div>
                  <p>A theme definition contains one <code class="codeph">&lt;styling_rules&gt;</code> element, which may have several other elements depending on the theme type.
                  </p>
                  <p>This <code class="codeph">&lt;styling_rules&gt;</code> element is specified in the STYLING_RULES column of the USER_SDO_THEMES metadata view, using the following DTD:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;!ELEMENT styling_rules (rule+, hidden_info?, join_table?, join_columns?, operations?, bitmap_masks?, parameters?)&gt;
&lt;!ATTLIST styling_rules theme_type         CDATA #IMPLIED
                        key_column         CDATA #IMPLIED
                        caching            CDATA #IMPLIED "NORMAL"
                        image_format       CDATA #IMPLIED
                        image_column       CDATA #IMPLIED
                        image_resolution   CDATA #IMPLIED
                        image_unit         CDATA #IMPLIED
                        raster_id          CDATA #IMPLIED
                        raster_table       CDATA #IMPLIED
                        raster_pyramid     CDATA #IMPLIED
                        raster_bands       CDATA #IMPLIED
                        polygon_mask       CDATA #IMPLIED
                        transparent_nodata CDATA #IMPLIED
                        network_name       CDATA #IMPLIED
                        network_level      CDATA #IMPLIED
                        topology_name      CDATA #IMPLIED
                        service_url        CDATA #IMPLIED
                        srs                CDATA #IMPLIED
                        feature_ids        CDATA #IMPLIED
                        provider_id        CDATA #IMPLIED
                        srid               CDATA #IMPLIED&gt;

&lt;!ELEMENT rule (features, label?, rendering?)&gt;
&lt;!ATTLIST rule column CDATA #IMPLIED&gt;
 
&lt;!ELEMENT features (#PCDATA?, link?, node?, path?)&gt;
&lt;!ATTLIST features style CDATA #REQUIRED&gt;
 
&lt;!ELEMENT label (#PCDATA?, link?, node?, path?)&gt;
&lt;!ATTLIST label column CDATA #REQUIRED
                style  CDATA #REQUIRED&gt;
 
&lt;!ELEMENT link (#PCDATA)&gt;
&lt;!ATTLIST link style                CDATA #REQUIRED
               direction_style      CDATA #IMPLIED
               direction_position   CDATA #IMPLIED
               direction_markersize CDATA #IMPLIED
               column               CDATA #REQUIRED&gt;
 
&lt;!ELEMENT node (#PCDATA)&gt;
&lt;!ATTLIST node style      CDATA #REQUIRED
               markersize CDATA #IMPLIED
               column     CDATA #REQUIRED&gt;
 
&lt;!ELEMENT path (#PCDATA)&gt;
&lt;!ATTLIST path ids    CDATA #REQUIRED
               styles CDATA #REQUIRED
               style  CDATA #REQUIRED
               column CDATA #REQUIRED&gt;

&lt;!ELEMENT hidden_info (field+)&gt;
 
&lt;!ELEMENT field (#PCDATA)&gt; 
&lt;!ATTLIST field column CDATA #REQUIRED
                name   CDATA #IMPLIED&gt;

&lt;!ELEMENT join_table EMPTY&gt; 
&lt;!ATTLIST join_table name          CDATA #REQUIRED 
                     start_measure CDATA #IMPLIED
                     end_measure   CDATA #IMPLIED
                     measure       CDATA #IMPLIED&gt;

&lt;!ELEMENT join_columns EMPTY&gt; 
&lt;!ATTLIST columns lrs_table_column  CDATA #REQUIRED 
                  join_table_column CDATA #REQUIRED&gt;

&lt;!ELEMENT rendering (style+)&gt;
 
&lt;!ELEMENT style (substyle?)&gt;
&lt;!ATTLIST style name          CDATA #REQUIRED
                value_columns CDATA #IMPLIED&gt;
 
&lt;!ELEMENT substyle (#PCDATA)&gt;
&lt;!ATTLIST substyle name          CDATA #REQUIRED
                   value_columns CDATA #REQUIRED
                   changes       CDATA #IMPLIED&gt;
 
&lt;!ELEMENT operations (operation?)&gt;
 
&lt;!ELEMENT operation (parameter?)&gt;
&lt;!ATTLIST operation name CDATA #REQUIRED&gt;
 
&lt;!ELEMENT parameters (parameter?)&gt;
 
&lt;!ELEMENT parameter (#PCDATA)&gt;
&lt;!ATTLIST parameter name  CDATA #REQUIRED
                    value DATA #REQUIRED&gt;
 
&lt;!ELEMENT bitmap_masks (mask+)&gt;
 
&lt;!ELEMENT mask (#PCDATA)&gt;
&lt;!ATTLIST mask raster_id    CDATA #REQUIRED
               raster_table CDATA #REQUIRED
               layers       CDATA #REQUIRED
               zeromapping  CDATA #IMPLIED
               onemapping   CDATA #IMPLIED&gt;
</pre><p><a id="d29258e2040" class="indexterm-anchor"></a><a id="d29258e2044" class="indexterm-anchor"></a><a id="d29258e2048" class="indexterm-anchor"></a>The<a id="d29258e2053" class="indexterm-anchor"></a><a id="d29258e2057" class="indexterm-anchor"></a> <code class="codeph">&lt;styling_rules&gt;</code> <a id="d29258e2065" class="indexterm-anchor"></a><a id="d29258e2071" class="indexterm-anchor"></a><a id="d29258e2078" class="indexterm-anchor"></a><a id="d29258e2084" class="indexterm-anchor"></a>element can have a <code class="codeph">theme_type</code> attribute, which is used mainly for certain types of predefined themes. (The default <code class="codeph">theme_type</code> attribute value is <code class="codeph">geometry</code>, which indicates that the theme is based on spatial geometries.) The <code class="codeph">theme_type</code> attribute values for these special types of predefined themes are as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">annotation</code> specifies an annotation text theme. Annotation text themes are explained in <a href="map-visualization-concepts.html#GUID-00E4F995-9956-4444-ACA8-7FAD04CAE6D9">Annotation Text Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">geom_custom</code> specifies a custom geometry theme. You must also specify the <code class="codeph">provider_id</code> and <code class="codeph">srid</code> attributes. Custom geometry themes are explained in <a href="map-visualization-concepts.html#GUID-583B47AE-76C2-4E23-9202-2055D7C3AE42">Custom Geometry Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">georaster</code> specifies a GeoRaster theme. To use specified GeoRaster data (but not if you use a query condition to retrieve the GeoRaster data), you must also specify the <code class="codeph">raster_id</code> and <code class="codeph">raster_table</code> attributes. You can also specify the <code class="codeph">raster_pyramid</code>, <code class="codeph">raster_bands</code>, <code class="codeph">polygon_mask</code>, and <code class="codeph">transparent_nodata</code> attributes. GeoRaster themes are explained in <a href="map-visualization-concepts.html#GUID-BAC98AAC-B274-42F3-AB60-54C73E4E4297">GeoRaster Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">image</code> specifies an image theme. You must also specify the <code class="codeph">image_format</code> and <code class="codeph">image_column</code> attributes, and you can specify the <code class="codeph">image_resolution</code> and <code class="codeph">image_unit</code> attributes. Image themes are explained in <a href="map-visualization-concepts.html#GUID-1F285D16-1E1B-40B1-BB4D-EFF8886A2575">Image Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">network</code> specifies a network theme. You must also specify the <code class="codeph">network_name</code> attribute. You can specify the <code class="codeph">network_level</code> attribute, but the default value (1) is the only value currently supported. Network themes are explained in <a href="map-visualization-concepts.html#GUID-BE69B5B4-06B2-4378-A24B-455DF943B2F9">Network Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">topology</code> specifies a topology theme. You must also specify the <code class="codeph">topology_name</code> attribute. Topology themes are explained in <a href="map-visualization-concepts.html#GUID-5A7910EC-68E5-4310-A816-217FCD1E4460">Topology Themes</a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">wfs</code> specifies a WFS theme. You must also specify the <code class="codeph">service_url</code> and <code class="codeph">srs</code> attributes. WFS themes are explained in <a href="map-visualization-concepts.html#GUID-C0538735-A453-4161-BADF-1FB8BA628B26">WFS Themes</a>.
                        </p>
                     </li>
                  </ul>
                  <p><a id="d29258e2213" class="indexterm-anchor"></a><a id="d29258e2217" class="indexterm-anchor"></a><a id="d29258e2221" class="indexterm-anchor"></a>The <code class="codeph">&lt;styling_rules&gt;</code> element can have a <code class="codeph">key_column</code> attribute. This attribute is needed only if the theme is defined on a join view (a view created from multiple tables). In such a case, you must specify a column in the view that will serve as the key column to uniquely identify the geometries or images in that view. Without this key column information, the map visualization component will not be able to cache geometries or images in a join view.
                  </p>
                  <p><a id="d29258e2233" class="indexterm-anchor"></a>The <code class="codeph">&lt;styling_rules&gt;</code> element can have a <code class="codeph">caching</code> attribute, which specifies the caching scheme for each predefined theme. The <code class="codeph">caching</code> attribute can have one of the following values: <code class="codeph">NORMAL</code> (the default), <code class="codeph">NONE</code>, or <code class="codeph">ALL</code>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">NORMAL</code> causes the map visualization component to try to cache the geometry data that was just viewed, to avoid repeating the costly unpickling process when it needs to reuse the geometries. Geometries are always fetched from the database, but they are not used if unpickled versions are already in the cache.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NONE</code> means that no geometries from this theme will be cached. This value is useful when you are frequently editing the data for a theme and you need to display the data as you make edits.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ALL</code> causes the map visualization component to pin all geometry data of this theme entirely in the cache before any viewing request. In contrast to the default value of <code class="codeph">NORMAL</code>, a value of <code class="codeph">ALL</code> caches all geometries from the base table the first time the theme is viewed, and the geometries are not subsequently fetched from the database.
                        </p>
                     </li>
                  </ul>
                  <p>For detailed information about the caching of predefined themes, see <a href="map-visualization-concepts.html#GUID-E0D0A87C-0A93-46B1-85D3-1E6DD4E281AB">Caching of Predefined Themes</a>.
                  </p>
                  <p>Each <code class="codeph">&lt;rule&gt;</code> element must have a <code class="codeph">&lt;features&gt;</code> element and can have a <code class="codeph">&lt;label&gt;</code> element and a <code class="codeph">&lt;rendering&gt;</code> element. The <code class="codeph">&lt;rendering&gt;</code> element can be used to define multiple render styles, and in this case the render style in the <code class="codeph">&lt;features&gt;</code> element may be undefined. If the render style in the <code class="codeph">&lt;features&gt;</code> element is defined and <code class="codeph">&lt;rendering&gt;</code> element is also defined, the map visualization component will first render the style in the <code class="codeph">&lt;features&gt;</code> element and then render the styles in <code class="codeph">&lt;rendering&gt;</code> element. (The <code class="codeph">&lt;rendering&gt;</code> element is explained later in this section.)
                  </p>
                  <p>The optional <code class="codeph">column</code> attribute of a <code class="codeph">&lt;rule&gt;</code> element specifies one or more attribute columns (in a comma-delimited list) from the base table to be put in the SELECT list of the query generated by the map visualization component. The values from such columns are usually processed by an advanced style for this theme. The following example shows the use of the column attribute:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;styling_rules &gt;
  &lt;rule column="TOTPOP"&gt;
    &lt;features style="V.COUNTY_POP_DENSITY"&gt;  &lt;/features&gt;
  &lt;/rule&gt;
&lt;/styling_rules&gt;
</pre><p>In the preceding example, the theme's geometry features will be rendered using an advanced style named <code class="codeph">V.COUNTY_POP_DENSITY</code>. This style will determine the color for filling a county geometry by looking up numeric values in the column named TOTPOP in the base table for this theme.
                  </p>
                  <p>Each <code class="codeph">&lt;features&gt;</code> element for a network theme must have a <code class="codeph">&lt;link&gt;</code>, <code class="codeph">&lt;node&gt;</code>, or <code class="codeph">&lt;path&gt;</code> element, or some combination of them. (The <code class="codeph">&lt;link&gt;</code>, <code class="codeph">&lt;node&gt;</code>, and <code class="codeph">&lt;path&gt;</code> elements apply only to network themes, which are explained in <a href="map-visualization-concepts.html#GUID-BE69B5B4-06B2-4378-A24B-455DF943B2F9">Network Themes</a>.) The following example shows the styling rules for a network theme to render links and nodes.
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;styling_rules theme_type="network"
           network_name="LRS_TEST" network_level="1"&gt;
 &lt;rule&gt;
   &lt;features&gt;
     &lt;link style="C.RED"
           direction_style="M.IMAGE105_BW"
           direction_position="0.85"
           direction_markersize="8"&gt;&lt;/link&gt;
     &lt;node style="M.CIRCLE" markersize="5"&gt;&lt;/node&gt;
   &lt;/features&gt;
 &lt;/rule&gt;
&lt;/styling_rules&gt;
</pre><p>A <code class="codeph">&lt;label&gt;</code> element must have a SQL expression as its element value for determining whether or not a label will be applied to a feature. The <code class="codeph">column</code> attribute specifies a SQL expression for text values to label features, and the <code class="codeph">style</code> attribute specifies a text style for rendering labels.
                  </p>
                  <p>The <code class="codeph">&lt;rendering&gt;</code> element can be used to define multiple rendering styles. The styles are rendered in the order that they appear. Each style in a <code class="codeph">&lt;rendering&gt;</code> element is defined by a <code class="codeph">&lt;style&gt;</code> element, which must specify the <code class="codeph">name</code> attribute and can specify the <code class="codeph">value_columns</code> attribute. (The <code class="codeph">value_columns</code> attribute is used with advanced styles, and the column names are added to the list of attributes defined in the <code class="codeph">column</code> attribute of <code class="codeph">&lt;rule&gt;</code> element.)
                  </p>
                  <p>In the <code class="codeph">&lt;rendering&gt;</code> element, each <code class="codeph">&lt;style&gt;</code> element can have a <code class="codeph">&lt;substyle&gt;</code> element that defines the attributes for filling the feature. A <code class="codeph">&lt;substyle&gt;</code> element must specify the <code class="codeph">name</code> attribute and can specify the <code class="codeph">value_columns</code> and <code class="codeph">changes</code> attributes. For the <code class="codeph">changes</code> attribute, only the <code class="codeph">FILL_COLOR</code> value is supported.
                  </p>
                  <p>The following example shows the styling rules for a geometry theme using the <code class="codeph">&lt;rendering&gt;</code> element. It defines an advanced style named <code class="codeph">V.POIVMK</code> to render the feature shape and an advanced substyle named <code class="codeph">V.POIBKT</code> to fill the feature shape.
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="yes"?&gt;
&lt;styling_rules&gt;
  &lt;rule&gt;
    &lt;features&gt; &lt;/features&gt;
    &lt;label column="NAME" style="T.STREET2"&gt; 1 &lt;/label&gt;
    &lt;rendering&gt;
      &lt;style name="V.POIVMK" value_columns="FEATURE_CODE"&gt;
        &lt;substyle name="V.POIVBKT" value_columns="POINT_ID" changes="FILL_COLOR"/&gt;
      &lt;/style&gt;
    &lt;/rendering&gt;
  &lt;/rule&gt;
&lt;/styling_rules&gt;
</pre><p>For more information about using the &lt;rendering&gt; element to apply multiple rendering styles in a single styling rule, see <a href="map-visualization-concepts.html#GUID-7C2040AC-5A09-4303-8AAE-B0772BB4EBAB">Applying Multiple Rendering Styles in a Single Styling Rule</a>.
                  </p>
                  <p><a id="d29258e2452" class="indexterm-anchor"></a><a id="d29258e2456" class="indexterm-anchor"></a>The <code class="codeph">&lt;hidden_info&gt;</code> element specifies the list of attributes from the base table to be displayed when the user moves the mouse over the theme's features. The attributes are specified by a list of <code class="codeph">&lt;field&gt;</code> elements.
                  </p>
                  <p><a id="d29258e2466" class="indexterm-anchor"></a>Each <code class="codeph">&lt;field&gt;</code> element must have a <code class="codeph">column</code> attribute, which specifies the name of the column from the base table, and it can have a <code class="codeph">name</code> attribute, which specifies the display name of the column. (The <code class="codeph">name</code> attribute is useful if you want a text string other than the column name to be displayed.)
                  </p>
                  <p>The <code class="codeph">&lt;join_table&gt;</code> element specifies the table name and its one or two columns for the measurements. It may contain one measure column for features of point type or two measure columns for features of line string type. The measure column or columns are used for the linear referencing process when joining with a LRS table, which has an LRS geometry column.
                  </p>
                  <p>The <code class="codeph">&lt;join_columns&gt;</code> element specifies one column of the LRS table (which has a LRS geometry column), and one column from the join table (which has one or two measure columns). These two columns are used to join the LRS table and the join table.
                  </p>
                  <p>The <code class="codeph">&lt;operations&gt;</code> element specifies the list of image processing operations to be applied on a GeoRaster theme. The operations are specified by a list of <code class="codeph">&lt;operation&gt;</code> elements.
                  </p>
                  <p>The <code class="codeph">&lt;operation&gt;</code> element specifies the image processing operator and its parameters to be applied on a GeoRaster theme. Each <code class="codeph">&lt;operation&gt;</code> element may have a list of <code class="codeph">&lt;parameters&gt;</code> elements. 
                  </p>
                  <p>The <code class="codeph">&lt;parameters&gt;</code> element defines a list of parameters to be used on a specific task. The parameters are specified by a list of <code class="codeph">&lt;parameter&gt;</code> elements.
                  </p>
                  <p>The <code class="codeph">&lt;parameter&gt;</code> element must have the <code class="codeph">name</code> and <code class="codeph">value</code> attributes defined.
                  </p>
                  <p>The <code class="codeph">&lt;bitmap_masks&gt;</code> element defines the image mask attributes to be used with a GeoRaster theme. The bitmap masks are specified by a list of <code class="codeph">&lt;mask&gt;</code> elements.
                  </p>
                  <p>The <code class="codeph">&lt;mask&gt;</code> element specifies a bitmap mask to be applied on a GeoRaster object. The <code class="codeph">raster_id</code>, <code class="codeph">raster_table</code>, and <code class="codeph">layers</code> attributes must be defined, while the <code class="codeph">zeromapping</code> and <code class="codeph">onemapping</code> attributes are optional.
                  </p>
                  <p>See <a href="map-visualization-concepts.html#GUID-1A5A976B-8E3F-42DD-AB10-A35ED02385DD">Styling Rules in Predefined Spatial Geometry Themes</a> for more information about styling rules and for an example.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9854"></a><div class="props_rev_3"><a id="GUID-C783909C-3637-4A18-9DDD-625A094E5DE2" name="GUID-C783909C-3637-4A18-9DDD-625A094E5DE2"></a><h3 id="JIMPV-GUID-C783909C-3637-4A18-9DDD-625A094E5DE2" class="sect3"><span class="enumeration_section">A.8 </span>Base Maps
               </h3>
               <div>
                  <p>A base map definition consists of one or more themes.</p>
                  <p>The XML definition of a base map is specified in the DEFINITION column of the USER_SDO_MAPS metadata view, using the following DTD:</p><pre class="oac_no_warn" dir="ltr">&lt;!ELEMENT map_definition (theme+)&gt;

&lt;!ELEMENT theme EMPTY&gt;
&lt;!ATTLIST theme name CDATA #REQUIRED
    name                  CDATA #REQUIRED
    datasource            CDATA #IMPLIED
    template_theme        CDATA #IMPLIED
    max_scale             CDATA #IMPLIED
    min_scale             CDATA #IMPLIED
    label_always_on       (TRUE|FALSE) "FALSE"
    fast_unpickle         (TRUE|FALSE) "TRUE"
    mode                  CDATA #IMPLIED
    min_dist              CDATA #IMPLIED
    fixed_svglabel        (TRUE|FALSE) "FALSE"
    visible_in_svg        (TRUE|FALSE) "TRUE"
    selectable_in_svg     (TRUE|FALSE) "FALSE"
    part_of_basemap       (TRUE|FALSE) "FALSE"
    simplify_shapes       (TRUE|FALSE) "TRUE"
    transparency          CDATA #IMPLIED
    minimum_pixels        CDATA #IMPLIED
    onclick               CDATA #IMPLIED
    onmousemove           CDATA #IMPLIED
    onmouseover           CDATA #IMPLIED
    onmouseout            CDATA #IMPLIED
    workspace_name        CDATA #IMPLIED
    workspace_savepoint   CDATA #IMPLIED
    workspace_date        CDATA #IMPLIED
    workspace_date_format CDATA #IMPLIED
    fetch_size            CDATA #IMPLIED
    timeout               CDATA #IMPLIED
&gt;
</pre><p>The <code class="codeph">&lt;map_definition&gt;</code> element contains one or more <code class="codeph">&lt;theme&gt;</code> elements. Themes are rendered on a map on top of each other, in the order in which they are specified in the definition. 
                  </p>
                  <p>See <a href="map-visualization-concepts.html#GUID-B39C38B9-8852-4085-A4B0-7454557A5C95" title="A map can consist of a combination of elements and attributes.">Maps</a> for more information about defining base maps and for an example.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="JIMPV9855"></a><div class="props_rev_3"><a id="GUID-8B972AAC-B614-459B-91E2-18ADA5EF234F" name="GUID-8B972AAC-B614-459B-91E2-18ADA5EF234F"></a><h3 id="JIMPV-GUID-8B972AAC-B614-459B-91E2-18ADA5EF234F" class="sect3"><span class="enumeration_section">A.9 </span>Map Tile Layers
               </h3>
               <div>
                  <p>An Oracle Maps map tile layer which assembles and displays pregenerated map image tiles from the map tile server,</p>
                  <p>Tis rpocess is described in <a href="map-visualization-servers.html#GUID-5CF7DC08-0B32-4C72-B9D0-F3762A7E6171">Map Tile Layer Configuration</a>. The XML configuration settings of a map tile layer is defined using the following DTD:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;!ELEMENT map_tile_layer ((internal_map_source|external_map_source), tile_storage, coordinate_system, tile_image, , tile_dpi?, tile_meters_per_unit?, zoom_levels, auto_update?, themes?)&gt;
&lt;!ATTLIST map_tile_layer 
          name CDATA #REQUIRED
          image_format CDATA #IMPLIED
          http_header_expires CDATA #IMPLIED 
          utfgrid (TRUE|FALSE) "FALSE"
          utfgrid_resolution CDATA #IMPLIED
          concurrent_fetching_threads CDATA #IMPLIED
          fetch_larger_tile (TRUE|FALSE) "TRUE"
          persistent_tiles (TRUE|FALSE) "TRUE"&gt;
 
&lt;!ELEMENT internal_map_source EMPTY&gt;
&lt;!ATTLIST internal_map_source 
          data_source CDATA #REQUIRED
          base_map CDATA #REQUIRED
          bgcolor CDATA #IMPLIED
          out_of_bounds_color CDATA #IMPLIED
          antialias (TRUE|FALSE) "TRUE"&gt;
 
&lt;!ELEMENT external_map_source (properties?)&gt;
&lt;!ATTLIST external_map_source 
          url CDATA #REQUIRED
          request_method CDATA #REQUIRED
          timeout CDATA #IMPLIED
          adapter_class CDATA #REQUIRED
          proxy_host CDATA #IMPLIED
          proxy_port CDATA #IMPLIED
          clipping_buffer CDATA #IMPLIED&gt;
 
&lt;!ELEMENT properties (property+) &gt;
 
&lt;!ELEMENT property EMPTY &gt;
&lt;!ATTLIST property
          name CDATA #REQUIRED 
          value CDATA #REQUIRED&gt;
 
&lt;!ELEMENT tile_storage EMPTY &gt;
&lt;!ATTLIST tile_storage 
          root_path CDATA #REQUIRED
          xyz_storage_scheme (TRUE|FALSE) "FALSE"&gt;
 
&lt;!ELEMENT coordinate_system EMPTY &gt;
&lt;!ATTLIST coordinate_system 
          srid CDATA #REQUIRED
          minX CDATA #REQUIRED
          minY CDATA #REQUIRED
          maxX CDATA #REQUIRED
          maxY CDATA #REQUIRED&gt;
 
&lt;!ELEMENT tile_bound (coordinates)&gt;
&lt;!ELEMENT coordinates (#PCDATA)&gt;
 
&lt;!ELEMENT tile_image EMPTY &gt;
&lt;!ATTLIST tile_image
          width CDATA #REQUIRED 
          height CDATA #REQUIRED&gt;
 
&lt;!ELEMENT tile_dpi EMPTY &gt;
&lt;!ATTLIST tile_dpi
          value CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT tile_meters_per_unit EMPTY &gt;
&lt;!ATTLIST tile_meters_per_unit
          value CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT zoom_levels (zoom_level+)&gt;
&lt;!ATTLIST zoom_levels
          levels CDATA #REQUIRED 
          min_scale CDATA #IMPLIED 
          max_scale CDATA #IMPLIED
          min_tile_width CDATA #IMPLIED 
          min_tile_height CDATA #IMPLIED&gt;
 
&lt;!ELEMENT zoom_level (tile_bound?)&gt;
&lt;!ATTLIST zoom_level
          level CDATA #REQUIRED 
          level_name CDATA #IMPLIED
          description CDATA #IMPLIED
          scale CDATA #REQUIRED 
          tile_width CDATA #REQUIRED 
          tile_height CDATA #REQUIRED&gt;
 
&lt;!ELEMENT auto_update (dirty_mbr_table_name,logtable_name)&gt;
&lt;!ATTLIST auto_update
          finest_level_to_refresh CDATA #REQUIRED
          dirty_mbr_batch CDATA #REQUIRED 
          dirty_mbr_cap CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT dirty_mbr_table_name EMPTY&gt;
&lt;!ATTLIST dirty_mbr_table_name
          name CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT logtable_name EMPTY&gt;
&lt;!ATTLIST logtable_name
          name CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT themes (theme)&gt;
&lt;!ATTLIST auto_update
          finest_level_to_refresh CDATA #REQUIRED
          dirty_mbr_batch CDATA #REQUIRED 
          dirty_mbr_cap CDATA #REQUIRED&gt; 
 
&lt;!ELEMENT theme EMPTY&gt;
&lt;!ATTLIST theme
          name CDATA #REQUIRED
          from_level CDATA #REQUIRED
          to_level CDATA #REQUIRED&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="xml-formats-map-visualizer.html#GUID-40C2D442-B6C8-4C29-97C8-9A5335DB09E5" title="This appendix describes the XML format for defining style, themes, and base maps using the map visualization component metadata views.">XML Format for Styles, Themes, Base Maps, and Map Tile Layers</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='09659.using-DBMS_ROLLING-to-perform-rolling-upgrade.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The Rolling Upgrade Using Oracle Active Data Guard feature provides a streamlined method of performing rolling upgrades.">
      <meta name="description" content="The Rolling Upgrade Using Oracle Active Data Guard feature provides a streamlined method of performing rolling upgrades.">
      <title>Using DBMS_ROLLING to Perform a Rolling Upgrade</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="The Rolling Upgrade Using Oracle Active Data Guard feature provides a streamlined method of performing rolling upgrades.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-sql-apply-to-perform-rolling-upgrade.html" title="Previous" type="text/html">
      <link rel="next" href="examples-of-using-oracle-data-guard.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-sql-apply-to-perform-rolling-upgrade.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="examples-of-using-oracle-data-guard.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using DBMS_ROLLING to Perform a Rolling Upgrade </li>
            </ol>
            <a id="GUID-70C09F5B-90BE-4C8C-96A5-45A52E05D380" name="GUID-70C09F5B-90BE-4C8C-96A5-45A52E05D380"></a><a id="SBYDB5214"></a>
            
            <h2 id="SBYDB-GUID-70C09F5B-90BE-4C8C-96A5-45A52E05D380" class="sect2"><span class="enumeration_chapter">14 </span>Using DBMS_ROLLING to Perform a Rolling Upgrade 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The Rolling Upgrade Using Oracle Active Data Guard feature provides a streamlined method of performing rolling upgrades.</p>
               <p>It is implemented using the <code class="codeph">DBMS_ROLLING</code> PL/SQL package, which enables you to upgrade the database software in an Oracle Data Guard configuration in a rolling fashion. The Rolling Upgrade Using Oracle Active Data Guard feature requires a license for the Oracle Active Data Guard option.
               </p>
               <p>You can use this feature to perform database version upgrades starting with the first patchset of Oracle Database 12<span class="italic">c</span>. You cannot use it to upgrade from any version earlier than the first Oracle Database 12<span class="italic">c</span> patchset. This means that the manual Transient Logical Standby upgrade procedure must still be used when upgrading from Oracle Database 11<span class="italic">g</span> to Oracle Database12<span class="italic">c,</span> or when upgrading from the initial Oracle Database 12<span class="italic">c</span> release to the first patchset of Oracle Database 12<span class="italic">c</span>.
               </p>
               <p>The <code class="codeph">DBMS_ROLLING</code> package performs Oracle Data Guard switchovers to minimize downtime of the primary database service. Prior to using <code class="codeph">DBMS_ROLLING</code>, the Oracle Data Guard environment must be properly configured to accommodate switchovers. The setup requirements differ depending on whether Oracle Data Guard broker is active during execution of <code class="codeph">DBMS_ROLLING</code>:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p> If the broker is going to be active during <code class="codeph">DBMS_ROLLING</code>, then see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR-GUID-AC6A6D2B-1112-422B-8A41-02FAC40E2078" target="_blank"><span><cite>Oracle Data Guard Broker</cite></span></a> for information about setting up the broker for a switchover.
                     </p>
                  </li>
                  <li>
                     <p>If the broker is not going to be active during <code class="codeph">DBMS_ROLLING</code>, then see <a href="managing-oracle-data-guard-role-transitions.html#GUID-CE785178-FD22-4A81-9248-DF5ED8E91635" title="Role transition steps differ depending on whether you are performing a switchover or a failover.">Role Transitions Involving Logical Standby Databases</a>. The absence of Oracle Data Guard broker means that <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="variable" translate="no">n</span> parameters must be properly configured on the target primary database so that redo shipping resumes after the switchover.
                     </p>
                  </li>
               </ul>
               <p>Additionally, you can use this feature immediately for other database maintenance tasks beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1). The database where maintenance is performed must be operating at a minimum of Oracle 12.1. Such maintenance tasks include:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Adding partitioning to non-partitioned tables</p>
                  </li>
                  <li>
                     <p>Changing BasicFiles LOBs to SecureFiles LOBs</p>
                  </li>
                  <li>
                     <p>Changing <code class="codeph">XMLType</code> stored as <code class="codeph">CLOB</code> to <code class="codeph">XMLtype</code> stored as binary XML
                     </p>
                  </li>
                  <li>
                     <p>Altering tables to be OLTP-compressed</p>
                  </li>
               </ul>
               <p>See the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7" title="To upgrade the database software in an Oracle Data Guard configuration in a rolling fashion, you first designate a physical standby as the future primary database.">Concepts New to Rolling Upgrades</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA" title="The steps to performing a rolling upgrade using DBMS_ROLLING on a multitenant container database (CDB) are no different from non-CDB environments, but there are additional requirements and considerations.">DBMS_ROLLING Upgrades and CDBs</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-D42FC23B-C6F4-44D1-A46A-202AB845BB80" title="There are three stages to the rolling upgrade process using the DBMS_ROLLING PL/SQL Package: specification, compilation, and execution.">Overview of Using DBMS_ROLLING</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE" title="Planning your rolling upgrade is essential to a successful upgrade experience. In the planning phase you specify various upgrade parameters and build an upgrade plan.">Planning a Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" title="Follow these steps to perform a rolling upgrade using the DBMS_ROLLING PL/SQL package.">Performing a Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-A1348F5A-AFBC-4090-822F-23DF87CE7D3C" title="There are several views you can query for information about the databases involved in a rolling upgrade.">Monitoring a Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5B34621B-FABE-4C50-A2C0-ED249844934D" title="To roll back a rolling upgrade procedure, you can call the DBMS_ROLLING.ROLLBACK_PLAN procedure.">Rolling Back a Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-1019E58C-1370-48A6-BC67-FA42074C0351" title="If a situation arises in which a rolling upgrade is underway and you need to perform a failover in your Oracle Data Guard configuration before the rollover completes, you can do so only in these circumstances.">Handling Role Changes That Occur During a Rolling Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9" title="These examples show a variety of rolling upgrade scenarios.">Examples of Rolling Upgrades</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB5406"></a><a id="SBYDB5431"></a><div class="props_rev_3"><a id="GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7" name="GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7"></a><h3 id="SBYDB-GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7" class="sect3"><span class="enumeration_section">14.1 </span>Concepts New to Rolling Upgrades
               </h3>
               <div>
                  <p>To upgrade the database software in an Oracle Data Guard configuration in a rolling fashion, you first designate a physical standby as the future primary database.</p>
                  <p>Conceptually, the rolling upgrade process splits the Oracle Data Guard configuration into two groups: the leading group (LG) and the trailing group (TG).</p>
                  <p>Databases in the leading group are upgraded first; hence the name leading group. The leading group contains the designated future primary database, and the physical standbys that you can configure to protect the designated future primary. The future primary is first converted into a logical standby database and then the new database software is installed on it and the upgrade process is run. Other standby databases in the leading group also must have their software upgraded at this point.</p>
                  <p>The trailing group contains the original primary database and standby databases that protect the original primary during the rolling upgrade process. While the databases in the leading group are going through the upgrade process, user applications can still be connected to the original primary and making changes. The trailing group databases continue running the old database software until all the databases in the leading group are upgraded and the future primary has caught up with the original primary by applying the changes that were generated at the original primary database during the upgrade window. At this point a switchover is done to transfer the primary role to the designated future primary database, and the user applications are switched over to the new primary database. New software is then installed on the databases that are part of the trailing group, and they are reinstated into the configuration as standbys to the new primary database.</p>
                  <p>The standbys in the respective groups are called the Leading Group Standbys (LGS) and Trailing Group Standbys (TGS). Other than the designated future primary, all other standbys in the leading group can only be physical standbys. The trailing group can contain both physical and logical standbys; they are called Trailing Group Physical (TGP) and Trailing Group Logical (TGL) in cases where it is necessary to make a distinction between the standby types. The designated future primary is also called the Leading Group Master (LGM) and the original primary database is called the Trailing Group Master (TGM).</p>
                  <p>The <code class="codeph">DBMS_ROLLING</code> package increases the robustness of the rolling upgrade process as follows:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>It can handle failures during the rolling upgrade process. The original primary or the TGM database can fail. You can initiate a regular failover operation to any other physical standby in the trailing group, and then designate the new primary database as the TGM.</p>
                     </li>
                     <li>
                        <p>It allows data protection of the LGM (the designated future primary) during the rolling upgrade process. You can set up physical standbys for the LGM database, and thus protect it during the upgrade process and also achieve Zero Data Loss after the upgrade. After the LGM has been successfully upgraded, a failure in the LGM can be accommodated by failing over to any of its physical standby databases. You can then designate the failover target database to take over the role of the LGM.</p>
                     </li>
                  </ul>
                  <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7__CJAFAAHA" title="This table describes the difference between Trailing Group Physical standbys and Leading Group Physical standbys. There are 4 columns and two rows, excluding the header row.">Table 14-1</a> compares the characteristics of TGP standbys versus LGP standbys before and after a switchover operation.
                  </p>
                  <div class="tblformalwide" id="GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7__CJAFAAHA">
                     <p class="titleintable">Table 14-1 Trailing Group Physicals (TGP) Versus Leading Group Physicals (LGP)</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Trailing Group Physicals (TGP) Versus Leading Group Physicals (LGP)" summary="This table describes the difference between Trailing Group Physical standbys and Leading Group Physical standbys. There are 4 columns and two rows, excluding the header row." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d36675e367">Standby Type</th>
                              <th align="left" valign="bottom" width="23%" id="d36675e370">Before Switchover</th>
                              <th align="left" valign="bottom" width="23%" id="d36675e373">After Switchover</th>
                              <th align="left" valign="bottom" width="29%" id="d36675e376">Notes</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d36675e381" headers="d36675e367 ">
                                 <p>Trailing Group Physical (TGP)</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d36675e381 d36675e370 ">
                                 <p>Low apply lag</p>
                                 <p>Lower data loss risk</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d36675e381 d36675e373 ">
                                 <p>High apply lag</p>
                                 <p>Higher data loss risk</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d36675e381 d36675e376 ">
                                 <p>Can fail over to the primary role</p>
                                 <p>Must flash back like the original primary</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d36675e400" headers="d36675e367 ">
                                 <p>Leading Group Physical (LGP)</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d36675e400 d36675e370 ">
                                 <p>High apply lag</p>
                                 <p>Higher data loss risk</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d36675e400 d36675e373 ">
                                 <p>Low apply lag</p>
                                 <p>Lower data loss risk</p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d36675e400 d36675e376 ">
                                 <p>Can fail over to the transient logical standby role</p>
                                 <p>Does not have to flash back like the original primary</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-647FF758-5B53-44AE-BB80-B6FA506F09C7__GUID-83F26596-3D2D-4304-93D7-2F74735BCBEF">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ARPLS73534" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a description of the <code class="codeph">DBMS_ROLLING</code> PL/SQL package
                           </p>
                        </li>
                        <li>
                           <p><a href="data-type-ddl-support-on-logical-standby-databases.html#GUID-13DDE926-B175-488D-9037-F707A4D2256D" title="Before you perform a rolling upgrade, determine whether any of the tables involved contain data types that are unsupported on logical standby databases.">Unsupported Tables During Rolling Upgrades</a> for information about how to determine whether any of the tables involved in the upgrade contain data types that are unsupported when performing an upgrade using the <code class="codeph">DBMS_ROLLING</code> PL/SQL package
                           </p>
                        </li>
                        <li>
                           <p><a href="data-type-ddl-support-on-logical-standby-databases.html#GUID-F54904C7-F666-4CC3-B1CB-493525476D2F" title="Replication of certain packages is available only in the context of rolling upgrades performed using the DBMS_ROLLING package.">Additional PL/SQL Package Support Available Only in the Context of DBMS_ROLLING Upgrades</a> for information about PL/SQL packages that are supported only in the context of a <code class="codeph">DBMS_ROLLING</code> upgrade
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5DDF9197-33A4-4279-8058-46B3B8C0FAE4" name="GUID-5DDF9197-33A4-4279-8058-46B3B8C0FAE4"></a><h4 id="SBYDB-GUID-5DDF9197-33A4-4279-8058-46B3B8C0FAE4" class="sect4"><span class="enumeration_section">14.1.1 </span>Data Guard Broker Support for DBMS_ROLLING Upgrades
                  </h4>
                  <div>
                     <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), Data Guard broker can remain on during a <code class="codeph">DBMS_ROLLING</code> rolling upgrade; there is no longer any need to disable it.
                     </p>
                     <p>Keep the following in mind regarding Data Guard broker support for <code class="codeph">DBMS_ROLLING</code> upgrades:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Broker support is enabled by default during execution of the <code class="codeph">DBMS_ROLLING.BUILD_PLAN</code> procedure if the broker is enabled at the time of the call. When broker support is enabled, the broker sets up the redo transport destinations as necessary from the original primary database as well as from the rolling upgrade target.
                           </p>
                        </li>
                        <li>
                           <p>The fast-start failover feature must be disabled before starting a <code class="codeph">DBMS_ROLLING</code> upgrade. 
                           </p>
                        </li>
                        <li>
                           <p>Any attempt to enable fast-start failover while a rolling upgrade is in progress is rejected.</p>
                        </li>
                        <li>
                           <p>While a rolling upgrade is in progress, role changes are permissible only to the standby databases that are protecting the current primary database. The broker reports the role of the rolling upgrade target as <code class="codeph">Transient Logical Standby</code> during a <code class="codeph">SHOW CONFIGURATION</code> command as well as reporting the configuration status as<code class="codeph"> ROLLING DATABASE MAINTENANCE IS IN PROGRESS</code>. If there are standby databases protecting both the original primary and the upgrade target, then this topology is reflected when the <code class="codeph">SHOW CONFIGURATION</code> command is issued from the current primary as well as from the upgrade target (before it has taken over as the primary database).
                           </p>
                        </li>
                        <li>
                           <p> The broker prevents a role change to a standby that is not protecting the current primary.  This ensures that before the switchover phase, role changes to the Trailing Group Standby are allowed, and after the switchover phase, role changes are only allowed to the Leading Group Standbys.</p>
                        </li>
                        <li>
                           <p>During the start of the upgrade process, if the upgrade target is an Oracle RAC database, then the broker automatically reduces the target standby to one instance and allows the upgrade to proceed.  Without the broker, the start of the upgrade is rejected if it is found that the target has multiple instances running.</p>
                        </li>
                        <li>
                           <p>The broker notifies Oracle Clusterware and Global Data Services as appropriate during the course of the rolling upgrade.</p>
                        </li>
                        <li>
                           <p>Although role transitions are typically performed using the broker, the switchover step in a rolling upgrade should continue to be performed using the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>Information about the status of a rolling upgrade being done using the PL/SQL package <code class="codeph">DBMS_ROLLING</code>, is displayed in the output of the broker commands <code class="codeph">SHOW CONFIGURATION</code> and <code class="codeph">SHOW DATABASE</code>.
                           </p>
                           <p>The <code class="codeph">SHOW CONFIGURATION</code> command shows Transient logical standby database as the role of the upgrade target, and <code class="codeph">ROLLING DATABASE MAINTENANCE IN PROGRESS</code> as the configuration status. An example of this output is as follows:
                           </p><pre class="pre codeblock"><code>Configuration - DRSolution

  Protection Mode: MaxPerformance
  Members:
  North_Sales - Primary database
    South_Sales - Transient logical standby database

Fast-Start Failover: DISABLED

Configuration Status:
   ROLLING DATABASE MAINTENANCE IN PROGRESS</code></pre><p>The <code class="codeph">SHOW DATABASE</code> command shows a <code class="codeph">WARNING</code> with an appropriate <code class="codeph">ORA</code> error for the upgrade target and the trailing or leading standbys, depending on the current rolling upgrade progress. An example of this output is as follows:
                           </p><pre class="pre codeblock"><code>Database - South_Sales

  Role: Physical standby database
  Intended State: APPLY-ON
  Transport Lag: ***
  Apply Lag: ***
  Average Apply Rate: ***
  Real Time Query: OFF
  Instance(s):
    South
  Database Warning(s):
    ORA-16866: database converted to transient logical standby database for rolling
    database maintenance
Database Status:
WARNING</code></pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-5DDF9197-33A4-4279-8058-46B3B8C0FAE4__GUID-F6B759E1-5CC1-4C99-847C-4A47F6539563">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_ROLLING.html#ARPLS-GUID-097F1B39-E623-43B5-BA30-DF377BFE05CF" target="_blank">DBMS_ROLLING</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR-GUID-1A5D2697-D931-4A48-B54C-CAE223B37733" target="_blank">SHOW CONFIGURATION</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR-GUID-9293F2C8-A7D2-442E-B147-A05A54DDE20E" target="_blank">SHOW DATABASE</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA" name="GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA"></a><h3 id="SBYDB-GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA" class="sect3"><span class="enumeration_section">14.2 </span>DBMS_ROLLING Upgrades and CDBs
               </h3>
               <div>
                  <p>The steps to performing a rolling upgrade using <code class="codeph">DBMS_ROLLING</code> on a multitenant container database (CDB) are no different from non-CDB environments, but there are additional requirements and considerations.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA__GUID-D7110B13-4AD6-4485-8C57-8A10D1DEAB59">Requirements Specific to DBMS_ROLLING Upgrades on a CDB</p>
                     <p>The additional requirements when you use <code class="codeph">DBMS_ROLLING</code> to perform a rolling upgrade on a CDB are as follows.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The TNS services referenced in the <code class="codeph">LOG_ARCHIVE_DEST_n</code> parameters must be services that resolve to the root container of the destination database. The process assisting <code class="codeph">DBMS_ROLLING</code> performs numerous operations which can only execute from the root container.
                           </p>
                        </li>
                        <li>
                           <p>All container databases on the transient logical standby must be plugged in and opened prior to calling <code class="codeph">DBMS_ROLLING.SWITCHOVER</code>. This eliminates the possibility that the logical standby apply engine will halt because it cannot apply to a given PDB.
                           </p>
                        </li>
                     </ul>
                     <p>See <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a> for an example rolling upgrade using <code class="codeph">DBMS_ROLLING</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BC4E1CA8-4431-4FC0-8437-106C934E88EA__GUID-681E40B4-CFCD-4BF1-A716-41EDD73E71E4">Additional Considerations for DBMS_ROLLING Upgrades on a CDB</p>
                     <p>Installing, upgrading, or patching of applications installed in application containers is not supported while a<code class="codeph"> DBMS_ROLLING</code> upgrade is in progress.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If DDL is executed to start the install, upgrade, or patching of an application container while a <code class="codeph">DBMS_ROLLING</code> upgrade is in progress, then an error is returned. (The <code class="codeph">DBMS_ROLLING</code> upgrade continues.)
                           </p>
                        </li>
                        <li>
                           <p>If an upgrade to an application container is in progress, then an attempt to start a <code class="codeph">DBMS_ROLLING</code> upgrade results in an error. (The application container upgrade continues.)
                           </p>
                        </li>
                        <li>
                           <p>If a <code class="codeph">DBMS_ROLLING</code> upgrade is performed and database compatibility is set to 12.2 or higher, then replication of application containers is supported. Except for <code class="codeph">DBMS_ROLLING</code> upgrades, logical standby does not offer any support for application containers; such containers are skipped and a message is written to the alert log indicating that application containers are being skipped.
                           </p>
                        </li>
                        <li>
                           <p>The CDB that you are upgrading using <code class="codeph">DBMS_ROLLING</code> can contain pluggable databases (PDBs) with different character sets.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5432"></a><div class="props_rev_3"><a id="GUID-D42FC23B-C6F4-44D1-A46A-202AB845BB80" name="GUID-D42FC23B-C6F4-44D1-A46A-202AB845BB80"></a><h3 id="SBYDB-GUID-D42FC23B-C6F4-44D1-A46A-202AB845BB80" class="sect3"><span class="enumeration_section">14.3 </span>Overview of Using DBMS_ROLLING
               </h3>
               <div>
                  <p>There are three stages to the rolling upgrade process using the <code class="codeph">DBMS_ROLLING</code> PL/SQL Package: specification, compilation, and execution.
                  </p>
                  <p></p>
                  <ol>
                     <li>
                        <p><span class="bold">Specification</span>: You first specify how you want to implement the rolling upgrade process. It is mandatory that you designate a future primary database. This act conceptually creates the leading and the trailing groups. At this point, the leading group only contains the LGM. You can optionally specify other standbys to protect the LGM. 
                        </p>
                        <p>You use the following procedures during the specification phase:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_ROLLING.INIT_PLAN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_ROLLING.SET_PARAMETER</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="bold">Compilation</span>: This is initiated by calling the <code class="codeph">DBMS_ROLLING.BUILD_PLAN</code> procedure. The <code class="codeph">BUILD_PLAN</code> procedure communicates with all databases participating in the rolling upgrade and assembles a rolling upgrade plan. The <code class="codeph">BUILD_PLAN</code> procedure is also called to alter an existing rolling upgrade plan. Alterations are necessary after changes to <code class="codeph">DBMS_ROLLING</code> parameters and after changes to the topology as a result of failover. All participating databases must be reachable during execution of the <code class="codeph">BUILD_PLAN</code> procedure because numerous validations are required to ensure a successful rolling upgrade.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Execution</span>: Execution of the rolling upgrade has five stages.
                        </p>
                        <p><span class="bold">Stage 1:</span> The <code class="codeph">DBMS_ROLLING.START_PLAN</code> procedure starts the execution of the rolling upgrade. This converts the LGM database to a logical standby and starts the SQL Apply process at the LGM.
                        </p>
                        <p><span class="bold">Stage 2:</span> You upgrade the database software at the databases that are part of the leading group. You also run the upgrade scripts at the LGM. After this is done, you must restart SQL Apply processes at the LGM database. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=UPGRD-GUID-99E10023-B2E5-4B35-BD01-E21D5B912D50" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrade scripts.) Leading group physical standbys are also addressed during this stage by re-mounting them using the higher version binaries. These databases are upgraded via recovery of the redo from the LGM.
                        </p>
                        <p><span class="bold">Stage 3: </span>After the apply lag reaches a given threshold (set to 10 minutes by default, but can be configured during the specification stage), the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure proceeds with the switchover operation. When the switchover is complete, the LGM becomes the primary database.
                        </p>
                        <p><span class="bold">Stage 4:</span> The LGM is now the primary database running the new database software and the databases in the leading group are protecting it. The TGM is mounted and the databases in the trailing group are still running the older version of the database software. You must prepare the TGM and TGS databases for upgrade by upgrading the database software and re-mounting the databases on the higher version binaries. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=UPGRD-GUID-99E10023-B2E5-4B35-BD01-E21D5B912D50" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrade scripts.)
                        </p>
                        <p><span class="bold">Stage 5:</span> Execute the <code class="codeph">DBMS_ROLLING.FINISH_PLAN </code>procedure at the current primary database (originally the LGM). It reinstates all the databases in the trailing group to become the standbys of the current primary database, and restarts the apply processes. The <code class="codeph">FINISH_PLAN</code> procedure waits for all databases in the trailing group to be upgraded to the new release (although the database software for the trailing group databases was changed in Stage 4, the data dictionary of the trailing group databases, except for any logical standbys in the trailing group, are updated based on media recovery of the redo generated during the upgrade at the LGM database).
                        </p>
                     </li>
                  </ol>
                  <p>After the rolling upgrade has been successfully executed, you can remove your rolling upgrade specification by calling the <code class="codeph">DBMS_ROLLING.DESTROY_PLAN</code> procedure.
                  </p>
               </div>
            </div><a id="SBYDB5222"></a><a id="SBYDB5223"></a><a id="SBYDB5224"></a><a id="SBYDB5225"></a><a id="SBYDB5216"></a><div class="props_rev_3"><a id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE" name="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE"></a><h3 id="SBYDB-GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE" class="sect3"><span class="enumeration_section">14.4 </span>Planning a Rolling Upgrade
               </h3>
               <div>
                  <p>Planning your rolling upgrade is essential to a successful upgrade experience. In the planning phase you specify various upgrade parameters and build an upgrade plan.</p>
                  <div class="section">
                     <p>The parameters and upgrade plan forecast all the operational details unique to your environment. The upgrade plan performs site-specific validations to alert you to configuration and resource problems which could potentially disrupt the rolling upgrade.</p>
                     <p>The tasks necessary to define upgrade parameters and build an upgrade plan are as follows:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Initialize the upgrade parameters</p>
                        </li>
                        <li>
                           <p>View the current upgrade parameter values</p>
                        </li>
                        <li>
                           <p>Modify the upgrade parameter values, as necessary</p>
                        </li>
                        <li>
                           <p>Build the upgrade plan</p>
                        </li>
                        <li>
                           <p>View the current upgrade plan</p>
                        </li>
                        <li>
                           <p>Revise the upgrade plan, as necessary</p>
                        </li>
                     </ul>
                     <p>The rest of this section describes each of these steps in detail. They must be performed in the order presented.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Plan parameters must be initialized to system-generated default values before they can be customized. To initialize plan parameters, call the <code class="codeph">DBMS_ROLLING.INIT_PLAN</code> procedure. This procedure identifies the <code class="codeph">DB_UNIQUE_NAME</code> of the future primary database (the leading group master or LGM). The LGM is converted into a logical standby database as part of the <code class="codeph">START_PLAN</code> procedure call. The following is a sample call to the <code class="codeph">INIT_PLAN</code> procedure in which <code class="codeph">boston</code> is identified as the future primary database:</span><div><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.INIT_PLAN(future_primary=&gt;'boston');
</pre><p>The <code class="codeph">INIT_PLAN</code> procedure returns an initial set of system-generated plan parameters. It adds each physical and logical standby database specified in the <code class="codeph">DG_CONFIG</code> init.ora parameter as a participant in the rolling upgrade. Other databases (such as downstream databases serving GoldenGate downstream deployment or snapshot standbys) are excluded automatically.
                           </p>
                           <p>By default, standby databases other than the future primary are configured to protect the primary database, and are configured as mandatory participants in the rolling upgrade. </p>
                           <p>Once the database-related parameters have been defined, the <code class="codeph">INIT_PLAN</code> procedure defines operational parameters with system-supplied defaults. In most cases, the plan parameters are ready for plan validation, but to ensure they meet your needs, be sure to review each parameter. 
                           </p>
                           <p>Plan parameters are persisted in the database until you call the <code class="codeph">DESTROY_PLAN</code> procedure to remove all states related to the rolling upgrade.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>After the <code class="codeph">INIT_PLAN</code> procedure has completed, you can query the <code class="codeph">DBA_ROLLING_PARAMETERS</code> view to see the plan parameters and their current values. Plan parameters are either global or local in scope. Global parameters are attributes of the rolling upgrade as a whole and are independent of the database participants. Global parameters have a <code class="codeph">NULL</code> value in the <code class="codeph">SCOPE</code> column. Local parameters have a specific database name in the <code class="codeph">SCOPE</code> column, with which they are associated. The following is a sample query:</span><div><pre class="pre codeblock"><code>SQL&gt; select scope, name, curval from dba_rolling_parameters order by scope, name;

SCOPE          NAME                        CURVAL
-------------- ------------------------    ------------------------------
seattle        INVOLVEMENT                 FULL
seattle        MEMBER                      NONE
boston         INVOLVEMENT                 FULL
boston         MEMBER                      TRAILING
oakland        INVOLVEMENT                 FULL
oakland        MEMBER                      TRAILING
atlanta        INVOLVEMENT                 FULL
atlanta        MEMBER                      LEADING
               ACTIVE_SESSIONS_TIMEOUT     3600
               ACTIVE_SESSIONS_WAIT        0
               BACKUP_CONTROLFILE          rolling_change_backup.f
               DGBROKER                    0
               DICTIONARY_LOAD_TIMEOUT     3600
               DICTIONARY_LOAD_WAIT        0
               DICTIONARY_PLS_WAIT_INIT    300
               DICTIONARY_PLS_WAIT_TIMEOUT 3600
               EVENT_RECORDS               10000
               FAILOVER                    0
               GRP_PREFIX                  DBMSRU_
               IGNORE_BUILD_WARNINGS       0
               IGNORE_LAST_ERROR           0
               LAD_ENABLED_TIMEOUT         600
               LOG_LEVEL                   INFO
               READY_LGM_LAG_TIME          600
               READY_LGM_LAG_TIMEOUT       60
               READY_LGM_LAG_WAIT          0
               SWITCH_LGM_LAG_TIME         600
               SWITCH_LGM_LAG_TIMEOUT      60
               SWITCH_LGM_LAG_WAIT         1
               SWITCH_LGS_LAG_TIME         60
               SWITCH_LGS_LAG_TIMEOUT      60
               SWITCH_LGS_LAG_WAIT         0
               UPDATED_LGS_TIMEOUT         10800
               UPDATED_LGS_WAIT            1
               UPDATED_TGS_TIMEOUT         10800
               UPDATED_TGS_WAIT            1
35 rows selected.</code></pre><p>In the sample output, the databases <code class="codeph">atlanta</code>, <code class="codeph">boston</code>, <code class="codeph">oakland</code>, and <code class="codeph">seattle</code> were all discovered through the <code class="codeph">DG_CONFIG</code>, and assigned parameters in the current plan.
                           </p>
                           <div class="infoboxnotealso" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-02D62122-F280-46AC-B0EF-1462BC58B288">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN23889" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">DBA_ROLLING_PARAMETERS</code> view
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To modify any existing rolling upgrade parameter, use the <code class="codeph">DBMS_ROLLING.SET_PARAMETER</code> PL/SQL procedure. The following is an example of using the <code class="codeph">SET_PARAMETER</code> procedure:</span><div><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER(
  scope IN VARCHAR2,
  name IN VARCHAR2,
  value IN VARCHAR2);
</pre><p>The scope identifies either a <code class="codeph">DB_UNIQUE_NAME</code> value for local parameters or <code class="codeph">NULL</code> for global parameters. It is not necessary to provide a scope of <code class="codeph">NULL</code> for parameters that are not specific to a database.
                           </p>
                           <p>The name is the name of the parameter to modify.</p>
                           <p>The value identifies the value for the specified parameter. A value of NULL reverts the parameter back to its system-supplied default if one exists.</p>
                           <div class="infoboxnotealso" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-F4EF7787-5C33-4E59-9750-17609C87C212">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ARPLS74605" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a complete list of all available rolling upgrade parameters
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>The following examples illustrate sample usage of some rolling upgrade parameters.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>After all the necessary parameters are specified, you build an upgrade plan. An upgrade plan is a custom generated set of instructions which guides your Oracle Data Guard configuration through a rolling upgrade. (The plan that is generated differs based on whether or not the configuration is managed by Data Guard broker.)</span><div>
                           <p>To build an upgrade plan, use the <code class="codeph">DBA_ROLLING.BUILD_PLAN</code> PL/SQL procedure. This procedure requires the configuration to be exactly as described by the plan parameters with all of the instances started and reachable through the network.
                           </p>
                           <p>The procedure is called as follows:</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.BUILD_PLAN;
</pre><p>There are no arguments to specify because the procedure gets all its input from the <code class="codeph">DBA_ROLLING_PARAMETERS</code> view. The procedure validates plan parameters and performs site-specific validations of resources such as log transport and flash recovery area settings. In general, configuration settings that do not meet the criteria of best-practice values are treated as warnings and recorded in the <code class="codeph">DBA_ROLLING_EVENTS</code> view. By default, the <code class="codeph">IGNORE_BUILD_WARNINGS</code> parameter is set to <code class="codeph">1</code>, meaning warnings do not prevent an upgrade plan from reaching a usable state. You can set this parameter to <code class="codeph">0</code> for stricter rule enforcement when plans are built. 
                           </p>
                           <div class="infoboxnote" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-010705B4-E3C8-4152-92ED-0EB9395C15C1">
                              <p class="notep1">Note:</p>
                              <p>The validations performed during plan generation are specific to rolling upgrades. They are not a substitute for the recommended practice of running the Pre-Upgrade Information Tool to evaluate upgrade readiness.</p>
                           </div>
                           <p>After generating the plan, move on to the following steps to view it, diagnose any problems with it, and revise it if necessary. </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>After the <code class="codeph">BUILD_PLAN</code> procedure successfully returns, the complete upgrade plan is viewable in the <code class="codeph">DBA_ROLLING_PLAN</code> view. Each record in the view identifies a specific instruction that is scheduled for execution.</span><div>
                           <p>The following output is an example of how a rolling upgrade plan would appear:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT instid, target, phase, description FROM DBA_ROLLING_PLAN;

INSTID TARGET       PHASE   DESCRIPTION
------ ------------ ------- -----------------------------------------------------
     1 seattle      START   Verify database is a primary
     2 seattle      START   Verify MAXIMUM PROTECTION is disabled
     3 boston       START   Verify database is a physical standby
     4 boston       START   Verify physical standby is mounted
     5 oakland      START   Verify database is a physical standby
     6 oakland      START   Verify physical standby is mounted
     7 atlanta      START   Verify database is a physical standby
     8 atlanta      START   Verify physical standby is mounted
     9 seattle      START   Verify server parameter file exists and is modifiable
    10 boston       START   Verify server parameter file exists and is modifiable
    11 oakland      START   Verify server parameter file exists and is modifiable
    12 atlanta      START   Verify server parameter file exists and is modifiable
    13 seattle      START   Verify Data Guard Broker configuration is disabled
    14 boston       START   Verify Data Guard Broker configuration is disabled
    15 oakland      START   Verify Data Guard Broker configuration is disabled
    16 atlanta      START   Verify Data Guard Broker configuration is disabled
    17 seattle      START   Verify flashback database is enabled
    18 seattle      START   Verify available flashback restore points
    19 boston       START   Verify flashback database is enabled
    20 boston       START   Verify available flashback restore points
    21 oakland      START   Verify flashback database is enabled
    22 oakland      START   Verify available flashback restore points
    23 atlanta      START   Verify flashback database is enabled
    24 atlanta      START   Verify available flashback restore points
    25 boston       START   Scan LADs for presence of atlanta destination
    26 boston       START   Test if atlanta is reachable using configured TNS service
    27 boston       START   Stop media recovery
    28 oakland      START   Stop media recovery
    29 atlanta      START   Stop media recovery
    30 boston       START   Drop guaranteed restore point DBMSRU_INITIAL
    31 boston       START   Create guaranteed restore point DBMSRU_INITIAL
    32 oakland      START   Drop guaranteed restore point DBMSRU_INITIAL
    33 oakland      START   Create guaranteed restore point DBMSRU_INITIAL
    34 atlanta      START   Drop guaranteed restore point DBMSRU_INITIAL
    35 atlanta      START   Create guaranteed restore point DBMSRU_INITIAL
    36 seattle      START   Drop guaranteed restore point DBMSRU_INITIAL
    37 seattle      START   Create guaranteed restore point DBMSRU_INITIAL

INSTID TARGET       PHASE   DESCRIPTION
------ ------------ ------- ----------------------------------------------------------
    38 boston       START   Start media recovery
    39 boston       START   Verify media recovery is running
    40 oakland      START   Start media recovery
    41 oakland      START   Verify media recovery is running
    42 atlanta      START   Start media recovery
    43 atlanta      START   Verify media recovery is running
    44 seattle      START   Verify user_dump_dest has been specified
    45 seattle      START   Backup control file to rolling_change_backup.f
    46 boston       START   Verify user_dump_dest has been specified
    47 boston       START   Backup control file to rolling_change_backup.f
    48 oakland      START   Verify user_dump_dest has been specified
    49 oakland      START   Backup control file to rolling_change_backup.f
    50 atlanta      START   Verify user_dump_dest has been specified
    51 atlanta      START   Backup control file to rolling_change_backup.f
    52 seattle      START   Get current redo branch of the primary database
    53 boston       START   Wait until recovery is active on the primary's redo branch
    54 boston       START   Stop media recovery
    55 seattle      START   Execute dbms_logstdby.build
    56 boston       START   Convert into a transient logical standby
    57 boston       START   Open database
    58 boston       START   Configure logical standby parameters
    59 boston       START   Start logical standby apply
    60 boston       START   Get redo branch of transient logical standby
    61 boston       START   Get reset scn of transient logical redo branch
    62 atlanta      START   Stop media recovery
    63 atlanta      START   Flashback database
    64 seattle      START   Disable log file archival to atlanta
    65 boston       START   Enable log file archival to atlanta
    66 boston       START   Wait for log archive destination to atlanta to reach a valid state
    67 atlanta      START   Wait until transient logical redo branch has been registered
    68 atlanta      START   Start media recovery
    69 atlanta      START   Wait until v$dataguard_stats has been initialized
    70 atlanta      START   Wait until recovery has started on the transient redo branch
    71 seattle      START   Log pre-switchover instructions to events table
    72 boston       START   Record start of user upgrade of boston
    73 boston       SWITCH  Verify database is in OPENRW mode
    74 boston       SWITCH  Record completion of user upgrade of boston

INSTID TARGET       PHASE   DESCRIPTION
------ ------------ ------- ---------------------------------------------------------
    75 boston       SWITCH  Scan LADs for presence of seattle destination
    76 boston       SWITCH  Scan LADs for presence of oakland destination
    77 boston       SWITCH  Scan LADs for presence of atlanta destination
    78 boston       SWITCH  Test if seattle is reachable using configured TNS service
    79 boston       SWITCH  Test if oakland is reachable using configured TNS service
    80 boston       SWITCH  Test if atlanta is reachable using configured TNS service
    81 seattle      SWITCH  Enable log file archival to boston
    82 boston       SWITCH  Enable log file archival to atlanta
    83 boston       SWITCH  Start logical standby apply
    84 atlanta      SWITCH  Start media recovery
    85 atlanta      SWITCH  Wait until upgrade redo has been fully recovered
    86 boston       SWITCH  Wait until apply lag has fallen below 600 seconds
    87 seattle      SWITCH  Log post-switchover instructions to events table
    88 seattle      SWITCH  Switch database to a logical standby
    89 boston       SWITCH  Wait until end-of-redo has been applied
    90 oakland      SWITCH  Wait until end-of-redo has been applied
    91 seattle      SWITCH  Disable log file archival to oakland
    92 boston       SWITCH  Switch database to a primary
    93 oakland      SWITCH  Stop media recovery
    94 seattle      SWITCH  Synchronize plan with new primary
    95 seattle      FINISH  Verify only a single instance is active
    96 seattle      FINISH  Verify database is mounted
    97 seattle      FINISH  Flashback database
    98 seattle      FINISH  Convert into a physical standby
    99 oakland      FINISH  Verify database is mounted
   100 oakland      FINISH  Flashback database
   101 boston       FINISH  Verify database is open
   102 boston       FINISH  Save the DBID of the new primary
   103 boston       FINISH  Save the logminer session start scn
   104 seattle      FINISH  Wait until transient logical redo branch has been registered
   105 oakland      FINISH  Wait until transient logical redo branch has been registered
   106 seattle      FINISH  Start media recovery
   107 oakland      FINISH  Start media recovery
   108 seattle      FINISH  Wait until apply/recovery has started on the transient branch
   109 oakland      FINISH  Wait until apply/recovery has started on the transient branch
   110 seattle      FINISH  Wait until upgrade redo has been fully recovered

INSTID TARGET       PHASE   DESCRIPTION
------ ------------ ------- ------------------------------------------------
   111 oakland      FINISH  Wait until upgrade redo has been fully recovered
   112 seattle      FINISH  Drop guaranteed restore point DBMSRU_INITIAL
   113 boston       FINISH  Drop guaranteed restore point DBMSRU_INITIAL
   114 oakland      FINISH  Drop guaranteed restore point DBMSRU_INITIAL
   115 atlanta      FINISH  Drop guaranteed restore point DBMSRU_INITIAL

115 rows selected.

SQL&gt; 
</pre><p>The columns in this view display the following information:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">INSTID</code> - The Instruction ID, which is the order in which the instruction is to be performed. Instructions are typically performed in groups.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">PHASE</code> - Every instruction in the upgrade plan is associated with a particular phase. A phase is a logical grouping of instructions which is performed by a procedure in the <code class="codeph">DBMS_ROLLING</code> PL/SQL package. When a <code class="codeph">DBMS_ROLLING</code> procedure is invoked, all of the associated instructions in the upgrade plan for that phase are executed. Possible phases are as follows:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">START</code>: Consists of activities related to setup such as taking restore points, instantiation of the transient logical standby database, and configuration of LGS databases. Activities in this phase are initiated when you call the <code class="codeph">DBMS_ROLLING.START_PLAN</code> procedure. See Step 1 in <span class="q">"<a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" title="Follow these steps to perform a rolling upgrade using the DBMS_ROLLING PL/SQL package.">Performing a Rolling Upgrade</a>"</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SWITCH</code>: Consists of activities related to the switchover of the transient logical standby into the new primary database. Activities in this phase are initiated when you call the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure. See Step 3 in<span class="q">"<a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" title="Follow these steps to perform a rolling upgrade using the DBMS_ROLLING PL/SQL package.">Performing a Rolling Upgrade</a>"</span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FINISH</code>: Consists of activities related to configuring standby databases for recovery of the upgrade redo. Activities in this phase are initiated when you call the <code class="codeph">DBMS_ROLLING.FINISH_PLAN</code> procedure. See Step 5 in <span class="q">"<a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" title="Follow these steps to perform a rolling upgrade using the DBMS_ROLLING PL/SQL package.">Performing a Rolling Upgrade</a>"</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p><code class="codeph">EXEC_STATUS</code> - The overall status of the instruction.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">PROGRESS</code> - The progress of an instruction's execution. A value of <code class="codeph">REQUESTING</code> indicates an instruction is being transmitted to a target database for execution. A value of <code class="codeph">EXECUTING</code> indicates the instruction is actively being executed. A value of <code class="codeph">REPLYING</code> indicates completion information is being returned.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DESCRIPTION</code> - The specific operation that is scheduled to be performed.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">TARGET</code> - The site at which a given instruction is to be performed.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">EXEC_INFO</code> - Additional contextual information related to the instruction.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-E78DC6AB-57E7-4525-8F7A-DCA6991A14E0">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../refrn/DBA_ROLLING_PLAN.html#REFRN23890" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">DBA_ROLLING_PLAN</code> view
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Upgrade plans need to be revised after any change to the rolling upgrade or database configuration. A configuration change could include any of the following:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>	init.ora parameter file changes at any of the databases participating in the rolling upgrade</p>
                              </li>
                              <li>
                                 <p>	database role changes as a result of failover events</p>
                              </li>
                              <li>
                                 <p>	rolling upgrade parameter changes</p>
                              </li>
                           </ul>
                           <p>To revise an active upgrade plan, call the <code class="codeph">BUILD_PLAN</code> procedure again. In some cases, the <code class="codeph">BUILD_PLAN</code> procedure may raise an error if a given change cannot be accepted. For example, setting the <code class="codeph">ACTIVE_SESSIONS_WAIT</code> parameter has no effect if the switchover has already occurred. 
                           </p>
                           <p>It is recommended that you call the <code class="codeph">BUILD_PLAN</code> procedure to process a group of parameter changes rather than processing parameters individually.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-EB36DF19-3847-4FB0-B963-49ADCCBF73BC">
                     <p class="titleinexample">Example 14-1 Setting Switchover to Enforce Apply Lag Requirements</p>
                     <p>The following example demonstrates how to configure the plan to wait for the apply lag to fall below 60 seconds before switching over to the future primary:</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER('SWITCH_LGM_LAG_WAIT', '1');
DBMS_ROLLING.SET_PARAMETER('SWITCH_LGM_LAG_TIME', '60');</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-1A958C1B-1109-4A3C-8E52-E5B891761274">
                     <p class="titleinexample">Example 14-2 Resetting Logging Back to Its Default Value</p>
                     <p>The following example demonstrates resetting the <code class="codeph">LOG_LEVEL</code> global parameter back to its default value.
                     </p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER (
  name=&gt;'LOG_LEVEL', 
  value=&gt;NULL);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-65A16C53-05A8-4B54-B177-56AB5DB90545">
                     <p class="titleinexample">Example 14-3 Designating a Database as an Optional Participant</p>
                     <p>The following example demonstrates setting the <code class="codeph">INVOLVEMENT</code> local parameter of database <code class="codeph">atlanta</code> to indicate that errors encountered on the database should not impede the overall rolling upgrade.
                     </p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER (
  scope=&gt;'atlanta', 
  name=&gt;'involvement', 
  value=&gt;'optional');</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE__GUID-B3C2737F-A5E2-4B78-9CDA-C7FF7D401FF6">
                     <p class="titleinexample">Example 14-4 Setting a Database to Protect the Transient Logical Standby</p>
                     <p>The following example demonstrates setting the <code class="codeph">MEMBER</code> local parameter of database <code class="codeph">atlanta</code> to indicate it should protect the transient logical standby database during the rolling upgrade.
                     </p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.SET_PARAMETER (
  scope=&gt;'atlanta', 
  name=&gt;'member', 
  value=&gt;'leading');
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="SBYDB5231"></a><a id="SBYDB5230"></a><div class="props_rev_3"><a id="GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" name="GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6"></a><h3 id="SBYDB-GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6" class="sect3"><span class="enumeration_section">14.5 </span>Performing a Rolling Upgrade
               </h3>
               <div>
                  <p>Follow these steps to perform a rolling upgrade using the <code class="codeph">DBMS_ROLLING</code> PL/SQL package. 
                  </p>
                  <div class="section">
                     <p><a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6__CJAJCACI" title="This 3 column table lists the steps to perform rolling upgrade. Column 1 is the step number. Column 2 is a step description. Column 3 is the phase.">Table 14-2</a> provides a summary of the steps. These steps assume that you have first successfully built an upgrade plan as described in <span class="q">"<a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-CD45406F-0A0F-4C9E-95FF-42C908BE62BE" title="Planning your rolling upgrade is essential to a successful upgrade experience. In the planning phase you specify various upgrade parameters and build an upgrade plan.">Planning a Rolling Upgrade</a>"</span>.
                     </p>
                     <div class="tblformal" id="GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6__CJAJCACI">
                        <p class="titleintable">Table 14-2 Steps to Perform Rolling Upgrade Using DBMS_ROLLING</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Steps to Perform Rolling Upgrade Using DBMS_ROLLING" summary="This 3 column table lists the steps to perform rolling upgrade. Column 1 is the step number. Column 2 is a step description. Column 3 is the phase. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="9%" id="d36675e1532">Step</th>
                                 <th align="left" valign="bottom" width="72%" id="d36675e1535">Description</th>
                                 <th align="left" valign="bottom" width="19%" id="d36675e1538">PHASE</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="9%" id="d36675e1543" headers="d36675e1532 ">
                                    <p>Step 1</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d36675e1543 d36675e1535 ">
                                    <p>Call the <code class="codeph">DBMS_ROLLING.START_PLAN</code> procedure to configure the future primary and physical standbys designated to protect the future primary.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36675e1543 d36675e1538 ">
                                    <p>START</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="9%" id="d36675e1556" headers="d36675e1532 ">
                                    <p>Step 2</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d36675e1556 d36675e1535 ">
                                    <p>Manually upgrade the Oracle Database software at the future primary database and standbys that protect it.</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36675e1556 d36675e1538 ">
                                    <p>SWITCH PENDING</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="9%" id="d36675e1566" headers="d36675e1532 ">
                                    <p>Step 3</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d36675e1566 d36675e1535 ">
                                    <p>Call the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure to switch roles between the current and future primary database.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36675e1566 d36675e1538 ">
                                    <p>SWITCH</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="9%" id="d36675e1579" headers="d36675e1532 ">
                                    <p>Step 4</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d36675e1579 d36675e1535 ">
                                    <p>Manually restart the former primary and remaining standby databases on the higher version of Oracle Database.</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36675e1579 d36675e1538 ">
                                    <p>FINISH PENDING</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="9%" id="d36675e1589" headers="d36675e1532 ">
                                    <p>Step 5</p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d36675e1589 d36675e1535 ">
                                    <p>Call the <code class="codeph">DBMS_ROLLING.FINISH_PLAN</code> procedure to convert the former primary to a physical standby, and to configure the remaining standby databases for recovery of the upgrade redo.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36675e1589 d36675e1538 ">
                                    <p>FINISH</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Activities that take place during each step belong to a specific phase of the rolling upgrade as shown in the PHASE column of <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-5652ED69-A95F-454A-9208-E2483B9A9BA6__CJAJCACI" title="This 3 column table lists the steps to perform rolling upgrade. Column 1 is the step number. Column 2 is a step description. Column 3 is the phase.">Table 14-2</a>. A rolling upgrade operation is at a single phase at any given time. The current phase of a rolling upgrade is reported in the <code class="codeph">PHASE</code> column of the <code class="codeph">DBA_ROLLING_STATUS</code> view. 
                     </p>
                     <p>The rest of this section describes each of the upgrade steps in detail.</p>
                     <ol>
                        <li>
                           <p>Call the <code class="codeph">DBMS_ROLLING.START_PLAN</code> procedure to configure the future primary and physical standbys designated to protect the future primary.
                           </p>
                           <p>The <code class="codeph">DBMS_ROLLING.START_PLAN</code> procedure is the formal start of the rolling upgrade. The goal of the <code class="codeph">START_PLAN</code> procedure is to configure the transient logical standby database and any physical standby databases that have been designated to protect it. When invoked, the <code class="codeph">START_PLAN</code> procedure executes all instructions in the upgrade plan with a <code class="codeph">PHASE</code> value of <code class="codeph">START_PLAN</code>. The types of instructions that are performed include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Backing up the control file for each database to a trace file</p>
                              </li>
                              <li>
                                 <p>Creating flashback database guaranteed restore points</p>
                              </li>
                              <li>
                                 <p>Building a LogMiner dictionary at the primary database</p>
                              </li>
                              <li>
                                 <p>Recovering the designated physical standby into a transient logical standby database</p>
                              </li>
                              <li>
                                 <p>Loading the LogMiner dictionary into the logical standby database</p>
                              </li>
                              <li>
                                 <p>Configuring LGS databases with the transient logical standby database</p>
                              </li>
                           </ul>
                           <p>Call the <code class="codeph">START_PLAN</code> procedure as follows (no arguments are required):
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.START_PLAN;
</pre></li>
                        <li>
                           <p>Manually upgrade the Oracle Database software at the future primary database and standbys that protect it.</p>
                           <p>After the <code class="codeph">START_PLAN</code> procedure has completed, you must manually upgrade the Oracle Database software at the future primary database and standbys which protect the future primary database. This involves the following steps:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Upgrade the Oracle Database software of the transient logical (LGM) and leading group standbys (LGS).</p>
                              </li>
                              <li>
                                 <p>Start media recovery on the LGS databases.</p>
                              </li>
                              <li>
                                 <p>Upgrade the transient logical standby database either manually or using the Database Upgrade Assistant (DBUA).</p>
                              </li>
                              <li>
                                 <p>Re-open the transient logical standby in read/write mode.</p>
                              </li>
                           </ol>
                           <p>The transient logical standby and LGS databases are a functional group. The LGS databases must be restarted on the higher version actively running media recovery before the transient logical standby is upgraded. If the LGS databases are not configured first, then the upgrade of the transient logical is not protected. At the conclusion of this step, the upgrade of the transient logical is complete, and media recovery is running on all LGS databases. </p>
                           <p>It is recommended that you wait until all LGS databases have been fully upgraded before performing the switchover. An LGS database is fully upgraded when its associated record in the <code class="codeph">DBA_ROLLING_DATABASES</code> view reports a value of <code class="codeph">YES</code> in the <code class="codeph">UPDATED</code> column.
                           </p>
                        </li>
                        <li>
                           <p>Call the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure to switch roles between the current and future primary database.
                           </p>
                           <p>The <code class="codeph">SWITCHOVER</code> procedure switches roles between the current and future primary databases. The procedure times the switchover to occur when apply lag is minimal which minimizes outage time of the primary service. The <code class="codeph">SWITCHOVER</code> procedure executes all instructions in the upgrade plan with a <code class="codeph">PHASE</code> value of <code class="codeph">SWITCHOVER</code>. The types of instructions that are performed can include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Waiting for the apply lag at the Leading Group Master (LGM), which is currently the transient logical standby, to fall below a threshold value</p>
                              </li>
                              <li>
                                 <p>Waiting for the apply lag at LGS databases to fall below a threshold value</p>
                              </li>
                              <li>
                                 <p>Switching the primary to the logical standby role</p>
                              </li>
                              <li>
                                 <p>Switching the Leading Group Master (LGM), which is currently a logical standby, to the primary role</p>
                              </li>
                              <li>
                                 <p>Enabling log archive destinations at the Leading Group Master (LGM) after it has become the new primary</p>
                              </li>
                           </ul>
                           <p>Call the <code class="codeph">SWITCHOVER</code> procedure as follows (no arguments are required):
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SWITCHOVER;
</pre><p>If a switchover error occurs after the switchover of the primary to the standby role but before the transient logical could be successfully converted into the primary role, then continue to execute the <code class="codeph">SWITCHOVER</code> procedure at the former primary site until successful completion.
                           </p>
                        </li>
                        <li>
                           <p>At this point, you must manually restart and mount the former primary and remaining standby databases on the higher version of Oracle Database. Mounting the standby databases is especially important because the <code class="codeph">DBMS_ROLLING</code> package needs to communicate with the standby database to continue the rolling upgrade.
                           </p>
                        </li>
                        <li>
                           <p>The overall goal of the <code class="codeph">FINISH_PLAN</code> procedure is to configure the former primary and TGP standbys as physical standbys which recover through the upgrade redo. When invoked, the <code class="codeph">FINISH_PLAN</code> procedure executes all instructions in the upgrade plan with a <code class="codeph">PHASE</code> value of <code class="codeph">FINISH</code>. The types of instructions that are performed include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Flashback of the former primary and TGP standbys</p>
                              </li>
                              <li>
                                 <p>Conversion of the former primary into a physical standby</p>
                              </li>
                              <li>
                                 <p>Startup of media recovery on the new redo branch</p>
                              </li>
                           </ul>
                           <p>Call the <code class="codeph">FINISH_PLAN</code> procedure as follows (no arguments are required):
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.FINISH_PLAN;</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5237"></a><div class="props_rev_3"><a id="GUID-A1348F5A-AFBC-4090-822F-23DF87CE7D3C" name="GUID-A1348F5A-AFBC-4090-822F-23DF87CE7D3C"></a><h3 id="SBYDB-GUID-A1348F5A-AFBC-4090-822F-23DF87CE7D3C" class="sect3"><span class="enumeration_section">14.6 </span>Monitoring a Rolling Upgrade
               </h3>
               <div>
                  <p>There are several views you can query for information about the databases involved in a rolling upgrade.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DBA_ROLLING_STATUS</code></p>
                        <p>Provides information about the overall status of the upgrade.</p>
                     </li>
                     <li>
                        <p><code class="codeph">DBA_ROLLING_DATABASES</code></p>
                        <p>Provides information about the role, protection, and recovery state of each database involved in the rolling upgrade.</p>
                     </li>
                     <li>
                        <p><code class="codeph">DBA_ROLLING_STATISTICS</code></p>
                        <p>Provides statistics such as start and finish times, how long services were offline, and so on.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A1348F5A-AFBC-4090-822F-23DF87CE7D3C__GUID-408EC045-7E42-4C98-A440-84EE640E038F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for descriptions of these views
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="SBYDB5238"></a><div class="props_rev_3"><a id="GUID-5B34621B-FABE-4C50-A2C0-ED249844934D" name="GUID-5B34621B-FABE-4C50-A2C0-ED249844934D"></a><h3 id="SBYDB-GUID-5B34621B-FABE-4C50-A2C0-ED249844934D" class="sect3"><span class="enumeration_section">14.7 </span>Rolling Back a Rolling Upgrade
               </h3>
               <div>
                  <p>To roll back a rolling upgrade procedure, you can call the <code class="codeph">DBMS_ROLLING.ROLLBACK_PLAN</code> procedure.
                  </p>
                  <div class="section">
                     <p>The procedure is called as follows:</p><pre class="oac_no_warn" dir="ltr">DBMS_ROLLING.ROLLBACK_PLAN;
</pre><p>The <code class="codeph">ROLLBACK_PLAN</code> procedure has the following requirements:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">ROLLBACK_PLAN</code> procedure can only be called if the <code class="codeph">DBMS_ROLLING.SWITCHOVER</code> procedure has not been previously called.
                           </p>
                        </li>
                        <li>
                           <p>Before you can use the <code class="codeph">ROLLBACK_PLAN</code> procedure you must set the transient logical standby database back to a mounted state because a flashback database is imminent.
                           </p>
                        </li>
                        <li>
                           <p>If the Oracle Database software was already upgraded, then you must restart the resultant physical standbys on the older version, and start media recovery.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5239"></a><div class="props_rev_3"><a id="GUID-1019E58C-1370-48A6-BC67-FA42074C0351" name="GUID-1019E58C-1370-48A6-BC67-FA42074C0351"></a><h3 id="SBYDB-GUID-1019E58C-1370-48A6-BC67-FA42074C0351" class="sect3"><span class="enumeration_section">14.8 </span>Handling Role Changes That Occur During a Rolling Upgrade
               </h3>
               <div>
                  <p>If a situation arises in which a rolling upgrade is underway and you need to perform a failover in your Oracle Data Guard configuration before the rollover completes, you can do so only in these circumstances.</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The failover was not performed while a <code class="codeph">DBMS_ROLLING</code> procedure was in progress.
                        </p>
                     </li>
                     <li>
                        <p>The failover was between a primary database and a physical standby database, and was a no-data-loss failover.</p>
                     </li>
                     <li>
                        <p>The failover was between a transient logical standby database and a physical standby of the transient logical standby database.</p>
                     </li>
                  </ul>
                  <p>A role change is a significant event that inevitably invalidates instructions in the upgrade plan, which was tailored for a different configuration. To resume the rolling upgrade, a new plan must be created. You must set the <code class="codeph">FAILOVER</code> parameter to indicate that the configuration has changed. This parameter is detected on the next invocation of the <code class="codeph">BUILD_PLAN</code> procedure, and the existing plan is amended accordingly.
                  </p>
                  <p>After the revised plan is built, you can resume the rolling upgrade.</p>
               </div>
            </div><a id="SBYDB5241"></a><a id="SBYDB5242"></a><a id="SBYDB5243"></a><a id="SBYDB5244"></a><a id="SBYDB5245"></a><a id="SBYDB5246"></a><a id="SBYDB5248"></a><a id="SBYDB5249"></a><a id="SBYDB5240"></a><div class="props_rev_3"><a id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9" name="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9"></a><h3 id="SBYDB-GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9" class="sect3"><span class="enumeration_section">14.9 </span>Examples of Rolling Upgrades
               </h3>
               <div>
                  <p>These examples show a variety of rolling upgrade scenarios.</p>
                  <p>At some point in all of the scenarios, the same basic rolling upgrade steps are used. These steps are shown in <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a>. The rest of the examples refer back to this example where appropriate rather than reiterating the same steps.
                  </p>
                  <p>Some of the examples in this section instruct you to resume the rolling upgrade, which means that you should continue where you left off. Resuming a rolling upgrade involves identifying the current phase of the rolling upgrade and reperforming either the PL/SQL procedure associated with the phase or the activities relevant to the phase. The current phase of the rolling upgrade is shown in the <code class="codeph">PHASE</code> column of the <code class="codeph">DBA_ROLLING_STATUS</code> view. 
                  </p>
                  <div class="infoboxnote" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__GUID-F3429155-7A78-4212-AE2D-2A53FDF36403">
                     <p class="notep1">Note:</p>
                     <p>The scenarios provided in this section are only meant to be hypothetical examples. You can use the Rolling Upgrade Using Oracle Active Data Guard feature to perform database upgrades beginning with the first Oracle Database 12<span class="italic">c</span> patchset.
                     </p>
                  </div>
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">
                     <p class="titleinexample">Example 14-5 Basic Rolling Upgrade Steps</p>
                     <ol>
                        <li>
                           <p>Start the rolling upgrade:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.START_PLAN;
</pre></li>
                        <li>
                           <p>Upgrade the transient logical standby and its protecting standbys.</p>
                           <ol type="a">
                              <li>
                                 <p>Mount LGP standbys using the higher Oracle Database software version.</p>
                              </li>
                              <li>
                                 <p>Start media recovery on Leading Group Physicals (LGP).</p>
                              </li>
                              <li>
                                 <p>Open the Leading Group Master (LGM), which is the transient logical standby, in upgrade mode using the higher Oracle Database software version.</p>
                              </li>
                              <li>
                                 <p>Upgrade the Leading Group Master (LGM), which is the transient logical standby, either manually or using the Database Upgrade Assistant (DBUA).</p>
                              </li>
                              <li>
                                 <p>Restart the Leading Group Master (LGM), which is the transient logical standby, in read/write mode.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Switchover to the Leading Group Master (LGM):</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SWITCHOVER;
</pre></li>
                        <li>
                           <p>Restart the databases in the trailing group. This includes the original primary database and all its protecting standbys in the trailing group (TGP).</p>
                           <ol type="a">
                              <li>
                                 <p>Mount the former primary using the higher Oracle Database version.</p>
                              </li>
                              <li>
                                 <p>Mount the physical standbys of the former primary using the higher Oracle Database version.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Finish the rolling upgrade:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.FINISH_PLAN;</pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAEIFEB">
                     <p class="titleinexample">Example 14-6 Rolling Upgrade Between Two Databases</p>
                     <p>The following example demonstrates a rolling upgrade on a two-site configuration consisting of a primary database and a physical standby database. In this example, <code class="codeph">seattle</code> is the current primary and <code class="codeph">boston</code> is the future primary. The <code class="codeph">seattle</code> database is automatically chosen as the Trailing Group Master (TGM) and participates in the operation. By default, there is nothing that needs to be set for <code class="codeph">seattle</code>.
                     </p>
                     <ol>
                        <li>
                           <p>Initialize the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.INIT_PLAN(future_primary=&gt;'boston');
</pre></li>
                        <li>
                           <p>Build the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Perform the rolling upgrade as described in <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJADBHHG">
                     <p class="titleinexample">Example 14-7 Rolling Upgrade Between Three Databases</p>
                     <p>The following example demonstrates a rolling upgrade on a three-site configuration consisting of a primary databases and two physical standby databases. In this example, <code class="codeph">seattle</code> is the primary, <code class="codeph">boston</code> is the future primary, and <code class="codeph">oakland</code> is a physical standby of <code class="codeph">seattle</code>.
                     </p>
                     <ol>
                        <li>
                           <p>Initialize the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.INIT_PLAN (future_primary =&gt; 'boston');
</pre></li>
                        <li>
                           <p>Build the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Perform the rolling upgrade as described in <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJABJIEI">
                     <p class="titleinexample">Example 14-8 Rolling Upgrade Between Four Databases</p>
                     <p>The following example demonstrates a rolling upgrade on a four-site configuration consisting of a primary database and three physical standby databases. In this example, <code class="codeph">seattle</code> is the primary database, <code class="codeph">boston</code> is the future primary, <code class="codeph">oakland</code> is a physical standby of <code class="codeph">seattle</code>, and <code class="codeph">atlanta</code> is a physical standby of <code class="codeph">boston</code>.
                     </p>
                     <ol>
                        <li>
                           <p>Initialize the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.INIT_PLAN (future_primary =&gt; 'boston');
</pre></li>
                        <li>
                           <p>Configure <code class="codeph">atlanta</code> as a standby in the leading group:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'atlanta',name=&gt;'member',
 value=&gt;'leading');
</pre></li>
                        <li>
                           <p>Build the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Perform the rolling upgrade as described in <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAJFJDE">
                     <p class="titleinexample">Example 14-9 Rolling Upgrade on a Reader Farm</p>
                     <p>The following example demonstrates a rolling upgrade on a reader farm configuration consisting of one primary database and nine physical standby databases. In this example, eight physical standby databases are split into two groups of four in order for physical standbys to be available as Oracle Active Data Guard standbys before and after the switchover. In this example, <code class="codeph">seattle</code> is the primary, <code class="codeph">boston</code> is the future primary, databases <code class="codeph">rf[a-d]</code> are physical standbys of <code class="codeph">seattle</code>, and databases <code class="codeph">rf[e-h]</code> are physical standbys of <code class="codeph">boston</code>. The rolling upgrade is configured so that the switchover to the new primary waits until the apply lag among the reader farm group of the future primary database is less than 60 seconds.
                     </p>
                     <ol>
                        <li>
                           <p>Initialize the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.INIT_PLAN ( future_primary =&gt; 'boston');
</pre></li>
                        <li>
                           <p>Configure the reader farm group to protect the future primary:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'rfe',name=&gt;'member',
value=&gt;'leading');
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'rff',name=&gt;'member',
value=&gt;'leading');
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'rfg',name=&gt;'member',
value=&gt;'leading');
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'rfh',name=&gt;'member',
value=&gt;'leading');
</pre></li>
                        <li>
                           <p>Set a maximum permitted apply lag of 60 seconds on the future primary's reader farm:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(name=&gt;'SWITCH_LGS_LAG_WAIT',
 value=&gt;'1');
</pre></li>
                        <li>
                           <p>Build the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Perform the rolling upgrade as described in <a href="using-DBMS_ROLLING-to-perform-rolling-upgrade.html#GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAFHDDH">Example 14-5</a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAHAJDD">
                     <p class="titleinexample">Example 14-10 Rolling Upgrade for Application Testing</p>
                     <p>The following example demonstrates using rolling upgrade on a four-site configuration to configure a transient logical standby and a physical of the transient logical standby in order to validate an application on the higher version database. The primary database is <code class="codeph">seattle</code>, <code class="codeph">boston</code> is the future primary, <code class="codeph">oakland</code> is a physical standby of <code class="codeph">seattle</code>, and <code class="codeph">atlanta</code> is physical standby of <code class="codeph">boston</code>. So in this example, <code class="codeph">seattle</code> and <code class="codeph">oakland</code> make up the trailing group, and <code class="codeph">boston</code> and <code class="codeph">atlanta</code> make up the leading group. At the end of testing, <code class="codeph">boston</code> and <code class="codeph">atlanta</code> are restored back to their original physical standby roles in order to resume protection of <code class="codeph">seattle</code>.
                     </p>
                     <ol>
                        <li>
                           <p>Initialize the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.INIT_PLAN (future_primary =&gt; 'boston');
</pre></li>
                        <li>
                           <p>Configure <code class="codeph">atlanta</code> to protect the future primary:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(scope=&gt;'atlanta',name=&gt;'member',
 value=&gt;'leading');
</pre></li>
                        <li>
                           <p>Build the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Start the rolling upgrade:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.START_PLAN;
</pre></li>
                        <li>
                           <p>Upgrade <code class="codeph">boston</code> and <code class="codeph">atlanta</code>:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Mount <code class="codeph">atlanta</code> using the higher database version.
                                 </p>
                              </li>
                              <li>
                                 <p>Start media recovery on <code class="codeph">atlanta</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Open <code class="codeph">boston</code> in upgrade mode using the higher database version.
                                 </p>
                              </li>
                              <li>
                                 <p>Upgrade database <code class="codeph">boston</code> either manually or using the Database Upgrade Assistant (DBUA).
                                 </p>
                              </li>
                              <li>
                                 <p>Restart <code class="codeph">boston</code> in read/write mode.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Test the application, as necessary.</p>
                        </li>
                        <li>
                           <p>Rollback the configuration:</p>
                           <ol type="a">
                              <li>
                                 <p>Restart <code class="codeph">boston</code> in mounted mode
                                 </p>
                              </li>
                              <li>
                                 <p>Roll back the upgrade:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.ROLLBACK_PLAN;
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Start media recovery on <code class="codeph">boston</code> and <code class="codeph">atlanta</code> using the older database version:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Mount <code class="codeph">boston</code> and <code class="codeph">atlanta</code> using the lower database version.
                                 </p>
                              </li>
                              <li>
                                 <p>Start media recovery on <code class="codeph">boston</code> and <code class="codeph">atlanta</code>.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAEDBEF">
                     <p class="titleinexample">Example 14-11 Resuming a Rolling Upgrade After a Failover to a New Primary</p>
                     <p>The following example demonstrates a no-data-loss failover of a physical standby to the primary role followed by the reconfiguration of the rolling upgrade plan on a three-site configuration. In this example, <code class="codeph">seattle</code> is the primary, <code class="codeph">boston</code> is the future primary, and <code class="codeph">oakland</code> is a physical standby of <code class="codeph">seattle</code>. Database <code class="codeph">oakland</code> is failed over to become the new primary. (The Trailing Group is (<code class="codeph">seattle</code>, <code class="codeph">oakland</code>) and the Leading Group is <code class="codeph">boston</code>.)
                     </p>
                     <p></p>
                     <ol>
                        <li>
                           <p>Recover remaining redo on <code class="codeph">oakland</code>, and fail over to the new primary role:
                           </p><pre class="pre codeblock"><code>SQL&gt; ALTER DATABASE RECOVER MANAGED STANDBY DATABASE CANCEL;
SQL&gt; ALTER DATABASE RECOVER MANAGED STANDBY FINISH;
SQL&gt; ALTER DATABASE FAILOVER TO OAKLAND;
SQL&gt; ALTER DATABASE OPEN;</code></pre></li>
                        <li>
                           <p>Configure log archive destinations on <code class="codeph">oakland</code>, as necessary:
                           </p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET LOG_ARCHIVE_DEST_2='service="boston" reopen=5
  2  LGWR ASYNC NET_TIMEOUT=180 valid_for=(ONLINE_LOGFILE, PRIMARY_ROLE)
  3  DB_UNIQUE_NAME="oakland"';</code></pre><pre class="pre codeblock"><code>
SQL&gt; ALTER SYSTEM ARCHIVE LOG CURRENT;</code></pre></li>
                        <li>
                           <p>Set a parameter to indicate that a failover took place:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(name=&gt;'failover', value=&gt;'1');
</pre></li>
                        <li>
                           <p>Revise the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Resume the rolling upgrade.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3D3BDB04-0981-4E3A-88FD-B1C0B9BDD0E9__CJAHBCBH">
                     <p class="titleinexample">Example 14-12 Resuming a Rolling Upgrade After a Failover to a New Transient Logical</p>
                     <p>The following example demonstrates a failover of a physical standby to the transient logical role, followed by the reconfiguration of the rolling upgrade plan on a five-site configuration. In this example, <code class="codeph">seattle</code> is the primary, <code class="codeph">boston</code> is the future primary, <code class="codeph">oakland</code> is a physical standby of <code class="codeph">seattle</code>, and <code class="codeph">atlanta</code> and <code class="codeph">miami</code> are physical standbys of <code class="codeph">boston</code>. Database <code class="codeph">atlanta</code> is failed over to become the new transient logical standby.
                     </p>
                     <ol>
                        <li>
                           <p>Recover remaining redo on <code class="codeph">atlanta</code> and failover to the new transient logical role:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE RECOVER MANAGED STANDBY FINISH;

SQL&gt; ALTER DATABASE ACTIVATE STANDBY DATABASE;

SQL&gt; ALTER DATABASE OPEN;
</pre></li>
                        <li>
                           <p>Configure log archive destinations on <code class="codeph">atlanta</code>, as necessary:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; alter system set log_archive_dest_2='service="seattle" reopen=5
  2  LGWR ASYNC NET_TIMEOUT=180 valid_for=(ONLINE_LOGFILE, PRIMARY_ROLE)
  3  DB_UNIQUE_NAME="atlanta"';

SQL&gt; alter system set log_archive_dest_3='service="oakland" reopen=5
  2  LGWR ASYNC NET_TIMEOUT=180 valid_for=(ONLINE_LOGFILE, PRIMARY_ROLE)
  3  DB_UNIQUE_NAME="atlanta"';

SQL&gt; alter system set log_archive_dest_4='service="miami" reopen=5
  2  LGWR ASYNC NET_TIMEOUT=180 valid_for=(ONLINE_LOGFILE, ALL_ROLES)
  3  DB_UNIQUE_NAME="atlanta"';
</pre></li>
                        <li>
                           <p>Specify <code class="codeph">atlanta</code> as the new transient logical standby database:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.SET_PARAMETER(name=&gt;'failover', value=&gt;'1');
</pre></li>
                        <li>
                           <p>Revise the upgrade plan:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_ROLLING.BUILD_PLAN;
</pre></li>
                        <li>
                           <p>Resume the rolling upgrade.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04102.client-side-security.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>JDBC Client-Side Security Features</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="data-sources-and-URLs.html" title="Previous" type="text/html">
      <link rel="next" href="proxy-authentication.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-sources-and-URLs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="proxy-authentication.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="connection-and-security.html" property="item" typeof="WebPage"><span property="name"> Connection and Security </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> JDBC Client-Side Security Features </li>
            </ol>
            <a id="GUID-45DF369A-3C7E-4D4F-8432-B8A44961DC58" name="GUID-45DF369A-3C7E-4D4F-8432-B8A44961DC58"></a><a id="JJDBC28295"></a>
            
            <h2 id="JJDBC-GUID-45DF369A-3C7E-4D4F-8432-B8A44961DC58" class="sect2"><span class="enumeration_chapter">9 </span> JDBC Client-Side Security Features 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses support in the Oracle Java Database Connectivity (JDBC) Oracle Call Interface (OCI) and JDBC Thin drivers for login authentication, data encryption, and data integrity, particularly, with respect to features of the Oracle Advanced Security option. </p>
               <div class="infoboxnote" id="GUID-45DF369A-3C7E-4D4F-8432-B8A44961DC58__GUID-217B2316-B4E6-4926-81DB-22DD13AE7804">
                  <p class="notep1">Note:</p>
                  <p>This discussion is not relevant to the server-side internal driver because all communication through server-side internal driver is completely internal to the server.</p>
               </div>
               <p>Oracle Advanced Security, previously known as the Advanced Networking Option (ANO) or Advanced Security Option (ASO), provides industry standards-based data encryption, data integrity, third-party authentication, single sign-on, and access authorization. Starting from Oracle Database 11<span class="italic">g</span> Release 1, both the JDBC OCI and JDBC Thin drivers support all the Oracle Advanced Security features.
               </p>
               <div class="infoboxnote" id="GUID-45DF369A-3C7E-4D4F-8432-B8A44961DC58__GUID-6A1D5CA2-12E4-4B6F-85C2-6ECB259413D6">
                  <p class="notep1">Note:</p>
                  <p>If you want to use the security policy file for JDBC <code class="codeph">ojdbc.policy</code>, then you can download the file from the following link:
                  </p>
                  <p><a href="http://www.oracle.com/technetwork/index.html" target="_blank">http://www.oracle.com/technetwork/index.html</a></p>
                  <p>The <code class="codeph">ojdbc.policy</code> file contains the granted permissions that you need to run your application in control environment of the Java Security Manager. You can either use this file itself as your Java policy file, or get contents from this file and add the content in your Java policy file. This file contains permissions like:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A few mandatory permissions that are always required, for example, permission <code class="codeph">java.util.PropertyPermission "user.name", "read";</code></p>
                     </li>
                     <li>
                        <p>A few driver-specific permissions, for example, JDBC OCI driver needs permission <code class="codeph">java.lang.RuntimePermission "loadLibrary.ocijdbc12";</code></p>
                     </li>
                     <li>
                        <p>A few feature-based permissions, for example, permissions related to XA, XDB, FCF and so on</p>
                     </li>
                  </ul>
                  <p>You can set the system properties mentioned in the file or direct values for permissions as per your requirement.</p>
               </div>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="client-side-security.html#GUID-8010464D-A3E9-49AC-98FD-F588A0C2EE9B">Support for Oracle Advanced Security</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-14F188F6-C9EA-4B4C-A8A4-2C4FDFD94F35">Support for Login Authentication</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-6EB42556-EEB8-44BD-AB74-A37778C02B0F">Support for Strong Authentication</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-42C16CD9-62D3-4141-BB38-015627A49079">Support for Data Encryption and Integrity</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-2BD2F189-A58C-4A85-8524-CFD9BB9AC575">Support for SSL</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-97E88D18-B590-4313-87B8-EE422DA644B3">Support for Kerberos</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-5748543A-EA85-4263-93C8-A79B2D5DBB8C">Support for RADIUS</a></p>
                  </li>
                  <li>
                     <p><a href="client-side-security.html#GUID-4DED9706-6735-4786-B70C-4D35C8DFE9E5">About Secure External Password Store</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28296"></a><div class="props_rev_3"><a id="GUID-8010464D-A3E9-49AC-98FD-F588A0C2EE9B" name="GUID-8010464D-A3E9-49AC-98FD-F588A0C2EE9B"></a><h3 id="JJDBC-GUID-8010464D-A3E9-49AC-98FD-F588A0C2EE9B" class="sect3"><span class="enumeration_section">9.1 </span>Support for Oracle Advanced Security
               </h3>
               <div>
                  <p>This section describes the following concepts:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="client-side-security.html#GUID-66534F91-8FDB-4572-A9C4-DD61BB985E04">Overview of Oracle Advanced Security</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068">JDBC OCI Driver Support for Oracle Advanced Security</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-A534B437-7F9F-488E-B8D6-51334294FB3F">JDBC Thin Driver Support for Oracle Advanced Security</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-66534F91-8FDB-4572-A9C4-DD61BB985E04" name="GUID-66534F91-8FDB-4572-A9C4-DD61BB985E04"></a><h4 id="JJDBC-GUID-66534F91-8FDB-4572-A9C4-DD61BB985E04" class="sect4"><span class="enumeration_section">9.1.1 </span>Overview of Oracle Advanced Security
                  </h4>
                  <div>
                     <p>Oracle Advanced Security provides the following security features:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Data Encryption</p>
                           <p>Sensitive information communicated over enterprise networks and the Internet can be protected by using encryption algorithms, which transform information into a form that can be deciphered only with a decryption key. Some of the supported encryption algorithms are RC4, DES, 3DES, and AES.</p>
                           <p>To ensure data integrity during transmission, Oracle Advanced Security generates a cryptographically secure message digest. Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the SHA-2 list of hashing algorithms are also supported and Oracle Advanced Security uses the following hashing algorithms to generate the secure message digest and includes it with each message sent across a network.
                           </p>
                           <p>This protects the communicated data from attacks, such as data modification, deleted packets, and replay attacks.</p>
                           <p>The following code snippet shows how to calculate the checksum using any of the algorithms mentioned previously:</p><pre class="oac_no_warn" dir="ltr">prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES, "( SHA1)");
prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL, "REQUIRED");
</pre></li>
                        <li>
                           <p>Strong Authentication</p>
                           <p>To ensure network security in distributed environments, it is necessary to authenticate the user and check his credentials. Password authentication is the most common means of authentication. Oracle Database enables strong authentication with Oracle authentication adapters, which support various third-party authentication services, including SSL with digital certificates. Oracle Database supports the following industry-standard authentication methods:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Kerberos</p>
                              </li>
                              <li>
                                 <p>Remote Authentication Dial-In User Service (RADIUS)</p>
                              </li>
                              <li>
                                 <p>Secure Sockets Layer (SSL)</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-66534F91-8FDB-4572-A9C4-DD61BB985E04__GUID-D9CB3DC4-A47A-4F4D-AECB-90D1C873BF2D">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/introduction-to-oracle-database-security.html#DBSEG001" target="_blank"><span class="italic">Oracle Database Security Guide</span></a></p>
                     </div>
                  </div>
               </div><a id="JJDBC28301"></a><a id="JJDBC28299"></a><div class="props_rev_3"><a id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068" name="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068"></a><h4 id="JJDBC-GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068" class="sect4"><span class="enumeration_section">9.1.2 </span>JDBC OCI Driver Support for Oracle Advanced Security
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you are using the JDBC OCI driver, which presumes that you are running from a computer with an Oracle client installation, then support for Oracle Advanced Security and incorporated third-party features is fairly similar to the support provided by in any Oracle client situation. Your use of Advanced Security features is determined by related settings in the <code class="codeph">sqlnet.ora</code> file on the client computer.
                        </p>
                        <div class="infoboxnote" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__GUID-549895DA-B7B7-48F3-8728-A624309275AD">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), Oracle recommends you to use the configuration parameters present in the new XML configuration file <code class="codeph">oraaccess.xml</code> instead of the OCI-specific configuration parameters present in the <code class="codeph">sqlnet.ora</code> file. However, the configuration parameters present in the <code class="codeph">sqlnet.ora</code> file are still supported.
                           </p>
                        </div>
                        <p>Starting from Oracle Database 11<span class="italic">g</span> Release 1, the JDBC OCI driver attempts to use external authentication if you try connecting to a database without providing a password. The following are some examples using the JDBC OCI driver to connect to a database without providing a password:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__GUID-BE8916EC-CAE7-41C5-8750-7B9AC8473277">SSL Authentication</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following code snippet shows how to use SSL authentication to connect to the database:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__CIHDEFCI">
                        <p class="titleinexample">Example 9-1 Using SSL Authentication to Connect to the Database</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import java.util.Properties;
 
public class test
{
    public static void main( String [] args ) throws Exception
    {
        String url = "jdbc:oracle:oci:@"
         +"(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=localhost)(PORT=5221))"
         +"(CONNECT_DATA=(SERVICE_NAME=orcl)))";
        Driver driver = new oracle.jdbc.OracleDriver();
        Properties props = new Properties();
        Connection conn = driver.connect( url, props );
        conn.close();
    }
}
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__GUID-1707D98A-0931-4D04-B502-C8FCF0EF56E5">Using a Data Source</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following code snippet shows how to use a data source to connect to the database:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__CIHHIJEA">
                        <p class="titleinexample">Example 9-2 Using a Data Source to Connect to the Database</p><pre class="oac_no_warn" dir="ltr">import java.sql.*; 
import javax.sql.*; 
import java.util.Properties; 
import oracle.jdbc.pool.*; 
 
public class testpool { 
    public static void main( String args ) throws Exception 
    { String url = "jdbc:oracle:oci:@" +"(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=localhost)(PORT=5221))"
 +"(CONNECT_DATA=(SERVICE_NAME=orcl)))"; 
    OracleConnectionPoolDataSource ocpds = new OracleConnectionPoolDataSource(); 
    ocpds.setURL(url); 
    PooledConnection pc = ocpds.getPooledConnection(); 
    Connection conn = pc.getConnection(); 
    } 
    }
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-25BFBE7B-E808-4DB3-87F5-EEA9B94D8068__GUID-9F5ABDDE-FC93-4A2F-8AB0-AFCC1BADD0F8">
                           <p class="notep1">Note:</p>
                           <p>The key exception to the preceding, with respect to Java, is that the Secure Sockets Layer (SSL) protocol is supported by the Oracle JDBC OCI drivers only if you use native threads in your application. This requires special attention, because green threads are generally the default.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A534B437-7F9F-488E-B8D6-51334294FB3F" name="GUID-A534B437-7F9F-488E-B8D6-51334294FB3F"></a><h4 id="JJDBC-GUID-A534B437-7F9F-488E-B8D6-51334294FB3F" class="sect4"><span class="enumeration_section">9.1.3 </span>JDBC Thin Driver Support for Oracle Advanced Security
                  </h4>
                  <div>
                     <div class="section">
                        <p>The JDBC Thin driver cannot assume the existence of an Oracle client installation or the presence of the <code class="codeph">sqlnet.ora</code> file. Therefore, it uses a Java approach to support Oracle Advanced Security. Java classes that implement Oracle Advanced Security are included in the <code class="codeph">ojdbc6.jar</code> and <code class="codeph">ojdbc7.jar</code> files. Security parameters for encryption and integrity, usually set in the <code class="codeph">sqlnet.ora</code> file, are set using a Java <code class="codeph">Properties</code> object or through system properties.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28303"></a><div class="props_rev_3"><a id="GUID-14F188F6-C9EA-4B4C-A8A4-2C4FDFD94F35" name="GUID-14F188F6-C9EA-4B4C-A8A4-2C4FDFD94F35"></a><h3 id="JJDBC-GUID-14F188F6-C9EA-4B4C-A8A4-2C4FDFD94F35" class="sect3"><span class="enumeration_section">9.2 </span>Support for Login Authentication
               </h3>
               <div>
                  <p>Basic login authentication through JDBC consists of user names and passwords, as with any other means of logging in to an Oracle server. Specify the user name and password through a Java properties object or directly through the <code class="codeph">getConnection</code> method call. This applies regardless of which client-side Oracle JDBC driver you are using, but is irrelevant if you are using the server-side internal driver, which uses a special direct connection and does not require a user name or password.
                  </p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the Oracle JDBC Thin driver supports the <code class="codeph">O7L_MR</code> client ability when you are running your application with a JDK such as JDK 8, which supports the <code class="codeph">PBKDF2-SHA2</code> algorithm. If you are running an application with JDK 7, then you must add a third-party security provider that supports the <code class="codeph">PBKDF2-SHA2</code> algorithm, otherwise the driver will not support the new <code class="codeph">12a</code> password verifier that requires the <code class="codeph">O7L_MR</code> client ability.
                  </p>
                  <p>If you are using Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2) with the <code class="codeph">SQLNET.ALLOWED_LOGON_VERSION_SERVER</code> parameter set to <code class="codeph">12a</code>, then keep the following points in mind:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You must also use the 12.1.0.2 Oracle JDBC Thin driver and JDK 8 or JDK 7 with a third-party security provider that supports the <code class="codeph">PBKDF2-SHA2</code> algorithm
                        </p>
                     </li>
                     <li>
                        <p>If you use an earlier version of Oracle JDBC Thin driver, then you will get the following error:</p><pre class="oac_no_warn" dir="ltr">ORA-28040: No matching authentication protocol
</pre></li>
                     <li>
                        <p>If you use the 12.1.0.2 Oracle JDBC Thin driver with JDK 7, then also you will get the same error, if you do not add a third-party security provider that supports the <code class="codeph">PBKDF2-SHA2</code> algorithm.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="JJDBC28304"></a><div class="props_rev_3"><a id="GUID-6EB42556-EEB8-44BD-AB74-A37778C02B0F" name="GUID-6EB42556-EEB8-44BD-AB74-A37778C02B0F"></a><h3 id="JJDBC-GUID-6EB42556-EEB8-44BD-AB74-A37778C02B0F" class="sect3"><span class="enumeration_section">9.3 </span>Support for Strong Authentication
               </h3>
               <div>
                  <p>Oracle Advanced Security enables Oracle Database users to authenticate externally. External authentication can be with RADIUS, Kerberos, Certificate-Based Authentication, Token Cards, and Smart Cards. This is called strong authentication. Oracle JDBC drivers provide support for the following strong authentication methods:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Kerberos</p>
                     </li>
                     <li>
                        <p>RADIUS</p>
                     </li>
                     <li>
                        <p>SSL (certificate-based authentication)</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6EB42556-EEB8-44BD-AB74-A37778C02B0F__GUID-7DAE99B2-C4B5-4678-A29D-22A3C6C46C74">
                     <p class="notep1">See Also:</p>
                     <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a></p>
                  </div>
               </div>
            </div><a id="JJDBC28309"></a><div class="props_rev_3"><a id="GUID-42C16CD9-62D3-4141-BB38-015627A49079" name="GUID-42C16CD9-62D3-4141-BB38-015627A49079"></a><h3 id="JJDBC-GUID-42C16CD9-62D3-4141-BB38-015627A49079" class="sect3"><span class="enumeration_section">9.4 </span>Support for Data Encryption and Integrity
               </h3>
               <div>
                  <p>This section describes the following concepts:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="client-side-security.html#GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3">Overview of JDBC Support for Data Encryption and Integrity</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61">JDBC OCI Driver Support for Encryption and Integrity</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB">JDBC Thin Driver Support for Encryption and Integrity</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B">Setting Encryption and Integrity Parameters in Java</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28310"></a><div class="props_rev_3"><a id="GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3" name="GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3"></a><h4 id="JJDBC-GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3" class="sect4"><span class="enumeration_section">9.4.1 </span>Overview of JDBC Support for Data Encryption and Integrity
                  </h4>
                  <div>
                     <p>You can use Oracle Database and Oracle Advanced Security data encryption and integrity features in your Java database applications, depending on related settings in the server. When using the JDBC OCI driver, set parameters as you would in any Oracle client situation. When using the Thin driver, set parameters through a Java properties object.</p>
                     <p>Encryption is enabled or disabled based on a combination of the client-side encryption-level setting and the server-side encryption-level setting. Similarly, integrity is enabled or disabled based on a combination of the client-side integrity-level setting and the server-side integrity-level setting.</p>
                     <p>Encryption and integrity support the same setting levels, <code class="codeph">REJECTED</code>, <code class="codeph">ACCEPTED</code>, <code class="codeph">REQUESTED</code>, and <code class="codeph">REQUIRED</code>. <a href="client-side-security.html#GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3__G1029740" title="table">Table 9-1</a> shows how these possible settings on the client-side and server-side combine to either enable or disable the feature. By default, remote OS authentication (through TCP) is disabled in the database for security reasons.
                     </p>
                     <div class="tblformal" id="GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3__G1029740">
                        <p class="titleintable">Table 9-1 Client/Server Negotiations for Encryption or Integrity</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Client/Server Negotiations for Encryption or Integrity" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d36818e580">Client/Server Settings Matrix</th>
                                 <th align="left" valign="bottom" width="19%" id="d36818e582">Client Rejected</th>
                                 <th align="left" valign="bottom" width="19%" id="d36818e585">Client Accepted (default)</th>
                                 <th align="left" valign="bottom" width="19%" id="d36818e588">Client Requested</th>
                                 <th align="left" valign="bottom" width="19%" id="d36818e591">Client Required</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d36818e596" headers="d36818e580 ">
                                    <p><span class="bold">Server Rejected</span></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e596 d36818e582 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e596 d36818e585 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e596 d36818e588 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e596 d36818e591 ">
                                    <p>connection fails</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d36818e613" headers="d36818e580 ">
                                    <p><span class="bold">Server Accepted (default)</span></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e613 d36818e582 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e613 d36818e585 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e613 d36818e588 ">
                                    <p>ON</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e613 d36818e591 ">
                                    <p>ON</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d36818e630" headers="d36818e580 ">
                                    <p><span class="bold">Server Requested</span></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e630 d36818e582 ">
                                    <p>OFF</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e630 d36818e585 ">
                                    <p>ON</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e630 d36818e588 ">
                                    <p>ON</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e630 d36818e591 ">
                                    <p>ON</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d36818e647" headers="d36818e580 ">
                                    <p><span class="bold">Server Required</span></p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e647 d36818e582 ">
                                    <p>connection fails</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e647 d36818e585 ">
                                    <p>ON</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e647 d36818e588 ">
                                    <p>ON</p>
                                 </td>
                                 <td align="left" valign="top" width="19%" headers="d36818e647 d36818e591 ">
                                    <p>ON</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="client-side-security.html#GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3__G1029740" title="table">Table 9-1</a> shows, for example, that if encryption is requested by the client, but rejected by the server, it is disabled. The same is true for integrity. As another example, if encryption is accepted by the client and requested by the server, it is enabled. The same is also true for integrity.
                     </p>
                     <div class="infoboxnotealso" id="GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3__GUID-ECD5B2DB-CECF-4527-A5E7-CB9BF44D4372">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Transparent Data Encryption (TDE)
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/manually-encrypting-data.html#DBSEG008" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about data encryption and integrity features, except TDE 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-1E6AF182-44C3-4CFE-8DA9-2735A651E4B3__GUID-E130A8E2-9145-449D-BA38-DFD28912EE2B">
                        <p class="notep1">Note:</p>
                        <p>The term checksum still appears in integrity parameter names, but is no longer used otherwise. For all intents and purposes, checksum and integrity are synonymous.</p>
                     </div>
                  </div>
               </div><a id="JJDBC28312"></a><a id="JJDBC28311"></a><div class="props_rev_3"><a id="GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61" name="GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61"></a><h4 id="JJDBC-GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61" class="sect4"><span class="enumeration_section">9.4.2 </span>JDBC OCI Driver Support for Encryption and Integrity
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you are using the JDBC OCI driver, which presumes an Oracle-client setting with an Oracle client installation, then you can enable or disable data encryption or integrity and set related parameters as you would in any Oracle client situation, through settings in the <code class="codeph">sqlnet.ora</code> file on the client.
                        </p>
                        <div class="infoboxnote" id="GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61__GUID-2A6EC828-983A-45F9-9D64-73A0626089B7">
                           <p class="notep1">Note:</p>
                           <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), Oracle recommends you to use the configuration parameters present in the new XML configuration file <code class="codeph">oraaccess.xml</code> instead of the OCI-specific configuration parameters present in the <code class="codeph">sqlnet.ora</code> file. However, the configuration parameters present in the <code class="codeph">sqlnet.ora</code> file are still supported.
                           </p>
                        </div>
                        <p>To summarize, the client parameters are shown in <a href="client-side-security.html#GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61__G1029876" title="table">Table 9-2</a>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61__G1029876">
                        <p class="titleintable">Table 9-2 OCI Driver Client Parameters for Encryption and Integrity</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI Driver Client Parameters for Encryption and Integrity" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d36818e764">Parameter Description</th>
                                 <th align="left" valign="bottom" width="51%" id="d36818e767">Parameter Name</th>
                                 <th align="left" valign="bottom" width="21%" id="d36818e770">Possible Settings</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d36818e775" headers="d36818e764 ">
                                    <p>Client encryption level</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d36818e775 d36818e767 ">
                                    <p><code class="codeph">SQLNET.ENCRYPTION_CLIENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d36818e775 d36818e770 ">
                                    <p><code class="codeph">REJECTED ACCEPTED REQUESTED REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d36818e793" headers="d36818e764 ">
                                    <p>Client encryption selected list</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d36818e793 d36818e767 ">
                                    <p><code class="codeph">SQLNET.ENCRYPTION_TYPES_CLIENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d36818e793 d36818e770 ">
                                    <p><code class="codeph">RC4_40</code>, <code class="codeph">RC4_56</code>, <code class="codeph">DES</code>, <code class="codeph">DES40</code>, <code class="codeph">AES128</code>, <code class="codeph">AES192</code>, <code class="codeph">AES256</code>, <code class="codeph">3DES112</code>, <code class="codeph">3DES168</code> 
                                    </p>
                                    <p>(see Note)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d36818e833" headers="d36818e764 ">
                                    <p>Client integrity level</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d36818e833 d36818e767 ">
                                    <p><code class="codeph">SQLNET.CRYPTO_CHECKSUM_CLIENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d36818e833 d36818e770 ">
                                    <p><code class="codeph">REJECTED ACCEPTED REQUESTED REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d36818e851" headers="d36818e764 ">
                                    <p>Client integrity selected list</p>
                                 </td>
                                 <td align="left" valign="top" width="51%" headers="d36818e851 d36818e767 ">
                                    <p><code class="codeph">SQLNET.CRYPTO_CHECKSUM_TYPES_CLIENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d36818e851 d36818e770 ">
                                    <p><code class="codeph">MD5</code>, <code class="codeph">SHA-1</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-DA1DB155-D904-4D6D-9376-C499BF6EFC61__GUID-93D4A5D2-C7DC-4BF3-AD71-66F47041B692">
                           <p class="notep1">Note:</p>
                           <p>For the Oracle Advanced Security domestic edition only, settings of <code class="codeph">RC4_128</code> and <code class="codeph">RC4_256</code> are also possible.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28314"></a><a id="JJDBC28313"></a><div class="props_rev_3"><a id="GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB" name="GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB"></a><h4 id="JJDBC-GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB" class="sect4"><span class="enumeration_section">9.4.3 </span>JDBC Thin Driver Support for Encryption and Integrity
                  </h4>
                  <div>
                     <div class="section">
                        <p>The JDBC Thin driver support for data encryption and integrity parameter settings parallels the JDBC OCI driver support discussed in the preceding section. You can set the corresponding parameters through a Java properties object that you can use while opening a database connection.</p>
                        <p>The default value for the encryption and integrity level is <code class="codeph">ACCEPTED</code> for both the server side and the client side. This enables you to achieve the desired security level for a connection pair by configuring only one side of a connection, either the server side or the client side. This increases the efficiency of your program because if there are multiple Oracle clients connecting to an Oracle Server, then you need to change the encryption and integrity level to <code class="codeph">REQUESTED</code> in the <code class="codeph">sqlnet.ora</code> file only on the server side to turn on encryption or integrity for all connections. This saves time and effort because you do not have to change the settings for each client separately.
                        </p>
                        <p>Table 9&#x2013;3 lists the parameter information for the JDBC Thin driver. These parameters are defined in the <code class="codeph">oracle.jdbc.OracleConnection</code> interface.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB__G1029900">
                        <p class="titleintable">Table 9-3 Thin Driver Client Parameters for Encryption and Integrity</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Thin Driver Client Parameters for Encryption and Integrity" summary="This table describes JDBC Thin Driver Client parameters for encryption and integrity." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="53%" id="d36818e943">Parameter Name</th>
                                 <th align="left" valign="bottom" width="12%" id="d36818e946">Parameter Type</th>
                                 <th align="left" valign="bottom" width="35%" id="d36818e949">Possible Settings</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="53%" id="d36818e954" headers="d36818e943 ">
                                    <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d36818e954 d36818e946 ">
                                    <p><code class="codeph">String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d36818e954 d36818e949 ">
                                    <p><code class="codeph">REJECTED ACCEPTED REQUESTED REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="53%" id="d36818e973" headers="d36818e943 ">
                                    <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d36818e973 d36818e946 ">
                                    <p><code class="codeph">String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d36818e973 d36818e949 ">
                                    <p><code class="codeph">AES256</code>, <code class="codeph">AES192</code>, <code class="codeph">AES128</code>, <code class="codeph">3DES168</code>, <code class="codeph">3DES112</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="53%" id="d36818e998" headers="d36818e943 ">
                                    <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d36818e998 d36818e946 ">
                                    <p><code class="codeph">String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d36818e998 d36818e949 ">
                                    <p><code class="codeph">REJECTED ACCEPTED REQUESTED REQUIRED</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="53%" id="d36818e1017" headers="d36818e943 ">
                                    <p><code class="codeph">CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d36818e1017 d36818e946 ">
                                    <p><code class="codeph">String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d36818e1017 d36818e949 ">
                                    <p><code class="codeph">SHA1</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-D04ABE6D-2529-4C60-9EDD-3A966B43ECFB__GUID-7CB2BD75-88C5-46E2-951E-0A912FB469A2">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle Advanced Security support for the Thin driver is incorporated directly into the JDBC classes JAR file. So, there is no separate version for domestic and export editions. Only parameter settings that are suitable for an export edition are possible.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28316"></a><a id="JJDBC28317"></a><a id="JJDBC28315"></a><div class="props_rev_3"><a id="GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B" name="GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B"></a><h4 id="JJDBC-GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B" class="sect4"><span class="enumeration_section">9.4.4 </span>Setting Encryption and Integrity Parameters in Java
                  </h4>
                  <div>
                     <div class="section">
                        <p>Use a Java properties object, that is, an instance of <code class="codeph">java.util.Properties</code>, to set the data encryption and integrity parameters supported by the JDBC Thin driver.
                        </p>
                        <p>The following example instantiates a Java properties object, uses it to set each of the parameters in Table 9-3, and then uses the properties object in opening a connection to the database: </p><pre class="oac_no_warn" dir="ltr">...
Properties prop = new Properties();
prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL, "REQUIRED");
prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES, "( AES256 )");
prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL, "REQUESTED");
prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES, "( SHA1 )");

OracleDataSource ods = new OracleDataSource();
ods.setProperties(prop);
ods.setURL("jdbc:oracle:thin:@localhost:5221:main");
Connection conn = ods.getConnection();
...
</pre><p>The parentheses around the values encryption type and checksum type allow for lists of values. When multiple values are supplied, the server and the client negotiate to determine which value is to be actually used.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B__GUID-21EB66C0-A47A-4861-8FAB-BCE5620C03A9">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Example 9-3 is a complete class that sets data encryption and integrity parameters before connecting to a database to perform a query.</p>
                        <div class="infoboxnote" id="GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B__GUID-26DCA914-3F4F-48AB-A2B1-E1BDE652D9FD">
                           <p class="notep1">Note:</p>
                           <p> In the example, the string <code class="codeph">REQUIRED</code> is retrieved dynamically through functionality of the <code class="codeph">AnoServices</code> and <code class="codeph">Service</code> classes. You have the option of retrieving the strings in this manner or including them in the software code as shown in the previous examples
                           </p>
                        </div>
                        <p>Before running this example, you must turn on encryption in the <code class="codeph">sqlnet.ora</code> file. For example, the following lines will turn on AES256, AES192, and AES128 for the encryption and SHA1 for the checksum:
                        </p><pre class="oac_no_warn" dir="ltr">  SQLNET.ENCRYPTION_SERVER = ACCEPTED 
  SQLNET.CRYPTO_CHECKSUM_SERVER = ACCEPTED 
  SQLNET.CRYPTO_CHECKSUM_TYPES_SERVER = (SHA1) 
  SQLNET.ENCRYPTION_TYPES_SERVER = (AES256, AES192, AES128)
  SQLNET.CRYPTO_SEED = 2z0hslkdharUJCFtkwbjOLbgwsj7vkqt3bGoUylihnvkhgkdsbdskkKGhdk</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0B53FC61-E77F-4CE3-BF27-17B249A1CD7B__BABGGGEC">
                        <p class="titleinexample">Example 9-3 Setting Data Encryption and Integrity Parameters</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import java.util.Properties;
import oracle.net.ano.AnoServices;
import oracle.jdbc.*;
 
public class DemoAESAndSHA1
{
  static final String USERNAME= "HR";
  static final String PASSWORD= "hr";
  static final String URL = "jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=5221))"
  +"(CONNECT_DATA=(SERVICE_NAME=orcl)))";
 
  public static final void main(String[] argv)
  {
    DemoAESAndSHA1 demo = new DemoAESAndSHA1();
    try
    {
      demo.run();
    }catch(SQLException ex)
    {
      ex.printStackTrace();
    }
  }
 
  void run() throws SQLException
  {
    OracleDriver dr = new OracleDriver();
    Properties prop = new Properties();
 
    // We require the connection to be encrypted with either AES256 or AES192.
    // If the database doesn't accept such a security level, then the connection attempt will fail.
    
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_LEVEL,AnoServices.ANO_REQUIRED);
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_ENCRYPTION_TYPES,"( " + AnoServices.ENCRYPTION_AES256
     + "," + AnoServices.ENCRYPTION_AES192 + ")");
 
    // We also require the use of the SHA1 algorithm for data integrity checking.
    
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_LEVEL,AnoServices.ANO_REQUIRED);
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CHECKSUM_TYPES,
"( " + AnoServices.CHECKSUM_SHA1 + " )");
    prop.setProperty("user",DemoAESAndSHA1.USERNAME);
    prop.setProperty("password",DemoAESAndSHA1.PASSWORD);
    OracleConnection oraConn = (OracleConnection)dr.connect(DemoAESAndSHA1.URL,prop);
    System.out.println("Connection created! Encryption algorithm is: " + oraConn.getEncryptionAlgorithmName() + ", data 
    integrity algorithm is: " + oraConn.getDataIntegrityAlgorithmName());    
    oraConn.close();
  }
  
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="JJDBC28318"></a><div class="props_rev_3"><a id="GUID-2BD2F189-A58C-4A85-8524-CFD9BB9AC575" name="GUID-2BD2F189-A58C-4A85-8524-CFD9BB9AC575"></a><h3 id="JJDBC-GUID-2BD2F189-A58C-4A85-8524-CFD9BB9AC575" class="sect3"><span class="enumeration_section">9.5 </span>Support for SSL
               </h3>
               <div>
                  <p></p>
                  <p> This section describes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="client-side-security.html#GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD">Overview of JDBC Support for SSL</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-A0F5D4B2-C3DE-4DE6-A759-A3BF48450031">About Managing Certificates and Wallets</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-92124E19-B017-4500-B72B-608C513FA5BE">About Keys and certificates containers</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-89D2363B-DE5E-4FD6-8689-4A069302C076">Database Connectivity Over TLS Version 1.2 Using JDBC Thin and JKS</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-0D5B5CBE-A693-41EC-B671-4F2802FEEF49">Automatic SSL Connection Configuration</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-2562DF85-18E7-4B36-8326-0C6FD4FBFFE6">Support for Key Store Service</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28320"></a><a id="JJDBC28319"></a><div class="props_rev_3"><a id="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD" name="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD"></a><h4 id="JJDBC-GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD" class="sect4"><span class="enumeration_section">9.5.1 </span>Overview of JDBC Support for SSL
                  </h4>
                  <div>
                     <p></p>
                     <p>Oracle Database 19c provides support for the Secure Sockets Layer (SSL) protocol. SSL is a widely used industry standard protocol that provides secure communication over a network. SSL provides authentication, data encryption, and data integrity. It provides a secure enhancement to the standard TCP/IP protocol, which is used for Internet communication.</p>
                     <p>SSL uses digital certificates that comply with the X.509v3 standard for authentication and a public and private key pair for encryption. SSL also uses secret key cryptography and digital signatures to ensure privacy and integrity of data. When a network connection over SSL is initiated, the client and server perform an SSL handshake that includes the following steps:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Client and server negotiate about the cipher suites to use. This includes deciding on the encryption algorithms to be used for data transfer.</p>
                        </li>
                        <li>
                           <p>Server sends its certificate to the client, and the client verifies that the certificate was signed by a trusted certification authority (CA). This step verifies the identity of the server.</p>
                        </li>
                        <li>
                           <p>If client authentication is required, the client sends its own certificate to the server, and the server verifies that the certificate was signed by a trusted CA.</p>
                        </li>
                        <li>
                           <p>Client and server exchange key information using public key cryptography. Based on this information, each generates a session key. All subsequent communications between the client and the server is encrypted and decrypted by using this set of session keys and the negotiated cipher suite.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD__GUID-F7500150-F5BC-460C-A63E-57749685A0BC">
                        <p class="notep1">Note:</p>In Oracle Database 11<span class="italic">g </span>Release 1 (11.1), SSL authentication is supported in the thin driver. So, you do not need to provide a user name/password pair if you are using SSL authentication.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD__GUID-ED2FDF21-4FF0-4B5E-9406-F5F9BD9B09C8">SSL Terminology</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following terms are commonly used in the SSL context:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Certificate</span>: A certificate is a digitally signed document that binds a public key with an entity. The certificate can be used to verify that the public key belongs to that individual.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Certification authority</span>: A certification authority (CA), also known as certificate authority, is an entity which issues digitally signed certificates for use by other parties.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Cipher suite</span>: A cipher suite is a set of cryptographic algorithms and key sizes used to encrypt data sent over an SSL-enabled network.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Private key</span>: A private key is a secret key, which is never transmitted over a network. The private key is used to decrypt a message that has been encrypted using the corresponding public key. It is also used to sign certificates. The certificate is verified using the corresponding public key.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Public key</span>: A public key is an encryption key that can be made public or sent by ordinary means such as an e-mail message. The public key is used for encrypting the message sent over SSL. It is also used to verify a certificate signed by the corresponding private key.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Key Store or Wallet</span>: A wallet is a password-protected container that is used to store authentication and signing credentials, including private keys, certificates, and trusted certificates required by SSL.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Security Provider</span>:  A Java implementation that provides some functionality related to security. A provider is responsible for decoding a key store file.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Key Store Service (KSS)</span>: A component of Oracle Platform Security services. KSS enables a key store to be referenced as a URI with <code class="codeph">kss://</code> scheme (rather than a file name).
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD__GUID-888B877C-B167-48FC-B233-DE6F63013070">Java Version of SSL</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Java Secure Socket Extension (JSSE) provides a framework and an implementation for a Java version of the SSL and TLS protocols. JSSE provides support for data encryption, server and client authentication, and message integrity. It abstracts the complex security algorithms and handshaking mechanisms and simplifies application development by providing a building block for application developers, which they can directly integrate into their applications. JSSE is integrated into Java Development Kit (JDK) 1.4 and later, and supports SSL version 2.0 and 3.0.</p>
                        <p>Oracle strongly recommends that you have a clear understanding of the JavaTM Secure Socket Extension (JSSE) framework before using SSL in the Oracle JDBC drivers.</p>
                        <p>The JSSE standard application programming interface (API) is available in the <code class="codeph">javax.net</code>, <code class="codeph">javax.net.ssl</code>, and <code class="codeph">javax.security.cert</code> packages. These packages provide classes for creating and configuring sockets, server sockets, SSL sockets, and SSL server sockets. The packages also provide a class for secure HTTP connections, a public key certificate API compatible with JDK1.1-based platforms, and interfaces for key and trust managers.
                        </p>
                        <p>SSL works the same way, as in any networking environment, in Oracle Database 18c.</p>
                        <div class="infoboxnote" id="GUID-6AC4159F-9A89-4DE7-B2F8-6E8AC67109CD__GUID-7D376D61-04A3-4AEF-A7AB-F960C8B136F5">
                           <p class="notep1">Note:</p> In order to use JSSE in your program, you must have clear understanding of JavaTM Secure Socket Extension (JSSE) framework. 
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28321"></a><div class="props_rev_3"><a id="GUID-A0F5D4B2-C3DE-4DE6-A759-A3BF48450031" name="GUID-A0F5D4B2-C3DE-4DE6-A759-A3BF48450031"></a><h4 id="JJDBC-GUID-A0F5D4B2-C3DE-4DE6-A759-A3BF48450031" class="sect4"><span class="enumeration_section">9.5.2 </span>About Managing Certificates and Wallets
                  </h4>
                  <div>
                     <p>To establish an SSL connection with a JDBC client, Thin or OCI, Oracle database server sends its certificate, which is stored in its wallet. The client may or may not need a certificate or wallet depending on the server configuration.</p>
                     <p>The Oracle JDBC Thin driver uses the JSSE framework to create an SSL connection. It uses the default provider (<span class="italic">SunJSSE</span>) to create an SSL context.   However you can provide your own provider.
                     </p>
                     <p>You do not need a certificate for the client, unless the <code class="codeph">SSL_CLIENT_AUTHENTICATION</code> parameter is set on the server.
                     </p>
                  </div>
               </div><a id="JJDBC28328"></a><div class="props_rev_3"><a id="GUID-92124E19-B017-4500-B72B-608C513FA5BE" name="GUID-92124E19-B017-4500-B72B-608C513FA5BE"></a><h4 id="JJDBC-GUID-92124E19-B017-4500-B72B-608C513FA5BE" class="sect4"><span class="enumeration_section">9.5.3 </span>About Keys and certificates containers
                  </h4>
                  <div>
                     <div class="section">
                        <p>Java clients can use multiple types of containers such as Oracle wallets, JKS, PKCS12, and so on, as long as a provider is available. For Oracle wallets,<span class="italic"> OraclePKI</span> provider must be used because the PKCS12 support provided by <span class="italic">SunJSSE</span> provider does not support all the features of PKCS12. In order to use <span class="italic">OraclePKI</span> provider, the following JARs are required:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">oraclepki.jar</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">osdt_cert.jar</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">osdt_core.jar</code></p>
                           </li>
                        </ul>
                        <p>All these JAR files should be under <code class="codeph">$ORACLE_HOME/jlib directory</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-89D2363B-DE5E-4FD6-8689-4A069302C076" name="GUID-89D2363B-DE5E-4FD6-8689-4A069302C076"></a><h4 id="JJDBC-GUID-89D2363B-DE5E-4FD6-8689-4A069302C076" class="sect4"><span class="enumeration_section">9.5.4 </span>Database Connectivity Over TLS Version 1.2 Using JDBC Thin and JKS
                  </h4>
                  <div>
                     <p></p>
                     <p>Perform the following steps to configure the Oracle JDBC thin driver to connect to the Database using TLS version 1.2:</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Always use the latest update of the JDK</p>
                              <p>Use the latest update of either JDK 7 or JDK 8 because the updated versions include bug fixes that are required for using SSL version 1.2.</p>
                           </li>
                           <li>
                              <p>Install the JCE files</p>
                              <p>Install the Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files because irrespective of the JDK version that you use, the strong cipher suites (for example <code class="codeph">TLS_RSA_WITH_AES_256_CBC_SHA256</code>) are not enabled without them. You can download these files from the following page:
                              </p>
                              <p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html" target="_blank">http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html</a></p>
                              <p>Also, if you are using JDK 7, then you must explicitly enable the strong cipher suites. For example, if you are using a strong cipher suite such as <code class="codeph">TLS_RSA_WITH_AES_256_CBC_SHA256</code> with JDK 7, then you must enable it through the <code class="codeph">oracle.net.ssl_cipher_suites</code> connection property.
                              </p>
                           </li>
                           <li>
                              <p>Use JKS files or wallets</p>
                              <div class="infoboxnote" id="GUID-89D2363B-DE5E-4FD6-8689-4A069302C076__GUID-71D93B80-D58D-4DC5-90BA-87A0D63B600E">
                                 <p class="notep1">Note:</p>
                                 <p>Starting from Oracle Database Release 18c, you can specify TLS configuration properties in a new configuration file called <code class="codeph">ojdbc.properties</code>. The use of this file eases the connectivity to Database services on Cloud.
                                 </p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-89D2363B-DE5E-4FD6-8689-4A069302C076__GUID-7B28660A-567E-461D-9A87-A8C61FA9388F">
                                 <p class="notep1">See Also:</p><a href="../jajdb/index.html" target="_blank"><span><cite>Oracle Database JDBC Java API Reference</cite></span></a></div>
                           </li>
                        </ul>
                        <p>After performing all the preceding steps, if you run into more issues, then you can turn on tracing to diagnose the problems using -<code class="codeph">Djavax.net.debug=all</code> option.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0D5B5CBE-A693-41EC-B671-4F2802FEEF49" name="GUID-0D5B5CBE-A693-41EC-B671-4F2802FEEF49"></a><h4 id="JJDBC-GUID-0D5B5CBE-A693-41EC-B671-4F2802FEEF49" class="sect4"><span class="enumeration_section">9.5.5 </span>Automatic SSL Connection Configuration
                  </h4>
                  <div>
                     <p></p>
                     <p>Starting from Oracle Database Release 18c, you can use default values or programmatic logic for resolving the connection configuration values without manually adding or updating the security provider. You can resolve the configuration values in the following two ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="client-side-security.html#GUID-277F9F26-771F-413B-86BF-2BD4C05AF72A">Provider Resolution</a></p>
                        </li>
                        <li>
                           <p><a href="client-side-security.html#GUID-71648EE2-C4C5-46EA-9C27-D351E7D62CA8">Automatic Key Store Type (KSS) Resolution</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="sect4"><a id="GUID-277F9F26-771F-413B-86BF-2BD4C05AF72A" name="GUID-277F9F26-771F-413B-86BF-2BD4C05AF72A"></a><h5 id="JJDBC-GUID-277F9F26-771F-413B-86BF-2BD4C05AF72A" class="sect5"><span class="enumeration_section">9.5.5.1 </span>Provider Resolution
                     </h5>
                     <div>
                        <p></p>
                        <p>For certain key store types, the JDBC driver can resolve the provider implementation that is used to load the key store. For these types, it is not necessary to register the provider with Java security. As long as the provider implementation is on the <code class="codeph">CLASSPATH</code>, the driver can instantiate the security provider.
                        </p>
                        <p>The following key store types map to a known provider:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">SSO:</span> <code class="codeph">oracle.security.pki.OraclePKIProvider</code></p>
                           </li>
                           <li>
                              <p><span class="bold">KSS:</span> <code class="codeph">oracle.security.jps.internal.keystore.provider.FarmKeyStoreProvider</code></p>
                           </li>
                        </ul>
                        <p>The driver attempts to resolve the provider only if there is no provider registered for the specified type.</p>
                        <p>If the <code class="codeph">oraclepki.jar</code> file is on the CLASSPATH, then the driver can automatically load the Oracle PKI Provider in the following way:
                        </p><pre class="pre codeblock"><code>java &#x2013;cp oraclepki.jar:ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=/path/to/wallet/cwallet.sso MyApp</code></pre><p>Similarly, for a specified value of the <code class="codeph">oracle.net.wallet_location</code> connection property, the driver can automatically load the Oracle PKI Provider in the following way: 
                        </p><pre class="pre codeblock"><code>java &#x2013;cp .:oraclepki.jar:ojdbc8.jar &#x2013;D oracle.net.wallet_location=file:/path/to/wallet/cwallet.sso MyApp</code></pre><div class="infoboxnote" id="GUID-277F9F26-771F-413B-86BF-2BD4C05AF72A__GUID-2C1EAB1B-6BA2-41E1-9314-81FEAB4825D2">
                           <p class="notep1">Note:</p>
                           <p>For PKCS12 types created by the orapki tool (The <code class="codeph">ewallet.p12</code> file), you may still need to register the <code class="codeph">OraclePKIProvider</code> with Java security because the PKCS12 file created by the orapki tool includes the ASN1 <span class="italic">Key Bag</span> element (Type Code: 1.2.840.113549.1.12.10.1.1). The Sun PKCS12 implementation does not support the <span class="italic">Key Bag</span> type and throws an error when attempting to read the <code class="codeph">ewallet.p12</code> file. For HotSpot and Open JDK users, the Sun Provider comes bundled as the PKCS12 provider. This means that the PKCS12 provider will already have a registered provider, and the driver will make no attempt to override this.
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-71648EE2-C4C5-46EA-9C27-D351E7D62CA8" name="GUID-71648EE2-C4C5-46EA-9C27-D351E7D62CA8"></a><h5 id="JJDBC-GUID-71648EE2-C4C5-46EA-9C27-D351E7D62CA8" class="sect5"><span class="enumeration_section">9.5.5.2 </span>Automatic Key Store Type (KSS) Resolution
                     </h5>
                     <div>
                        <p></p>
                        <p>The JDBC driver can resolve common key store types based on the value of the <code class="codeph">javax.net.ssl.keyStore</code> and <code class="codeph">javax.net.ssl.trustStore</code> properties, eliminating the need to specify the type using these properties.
                        </p>
                        <p><span class="bold">Key Store or Trust Store with a Recognized File Extension</span></p>
                        <p>A key store or trust store with a recognized file extension maps to the following types:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>File extension <code class="codeph">.jks</code> resolves to <code class="codeph">javax.net.ssl.keyStoreType</code> as JKS:
                              </p><pre class="pre codeblock"><code>java &#x2013;cp ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=/path/to/keystore/keystore.jks MyApp</code></pre></li>
                           <li>
                              <p>File extension <code class="codeph">.sso</code> resolves to <code class="codeph">javax.net.ssl.keyStoreType</code> as SSO:
                              </p><pre class="pre codeblock"><code>								java &#x2013;cp ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=/path/to/keystore/keystore.sso MyApp</code></pre></li>
                           <li>
                              <p>File extension <code class="codeph">.p12</code> resolves to <code class="codeph">javax.net.ssl.keyStoreType</code> as PKCS12:
                              </p><pre class="pre codeblock"><code>							java &#x2013;cp ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=/path/to/keystore/keystore.p12 MyApp</code></pre></li>
                           <li>
                              <p>File extension <code class="codeph">.pfx</code> resolves to <code class="codeph">javax.net.ssl.keyStoreType</code> as PKCS12:
                              </p><pre class="pre codeblock"><code>							java &#x2013;cp ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=/path/to/keystore/keystore.pfx MyApp</code></pre></li>
                        </ul>
                        <p><span class="bold">Key Store or Trust Store with a URI</span></p>
                        <p>If the key store or the trust store is a URI with a <code class="codeph">kss://</code> scheme, this maps to type KSS:
                        </p><pre class="pre codeblock"><code>							java &#x2013;cp ojdbc8.jar &#x2013;D javax.net.ssl.keyStore=kss://MyStripe/MyKeyStore MyApp</code></pre><div class="infoboxnote" id="GUID-71648EE2-C4C5-46EA-9C27-D351E7D62CA8__GUID-67AF48A2-51C0-440B-BEBE-998A868A28B5">
                           <p class="notep1">Note:</p>
                           <p>You can set the <code class="codeph">javax.net.ssl.trustStoreType</code> and <code class="codeph">javax.net.ssl.keyStoreType</code> properties for overriding the default type resolution.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-001069BE-E6B9-49CA-8218-F79B4FA47D62" name="GUID-001069BE-E6B9-49CA-8218-F79B4FA47D62"></a><h4 id="JJDBC-GUID-001069BE-E6B9-49CA-8218-F79B4FA47D62" class="sect4"><span class="enumeration_section">9.5.6 </span>Support for Default SSL Context
                  </h4>
                  <div>
                     <p></p>
                     <p>For applications that require finer control over the TLS configuration, you can configure the JDBC driver to use the <code class="codeph">SSLContext</code> returned by the <code class="codeph">SSLContext.getDefault</code> method. Use one of the following methods for the driver to use the default <code class="codeph">SSLContext</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">javax.net.ssl.keyStore=NONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">javax.net.ssl.trustStore=NONE</code></p>
                        </li>
                     </ul>
                     <p>You can use the default <code class="codeph">SSLContext</code> to support key store types that are not file-based. Common examples of such key store types include hardware-based smart cards. Key store types that require programmatic call to the <code class="codeph">load(KeyStore.LoadStoreParameter)</code> method also belong to this category.
                     </p>
                     <div class="infoboxnotealso" id="GUID-001069BE-E6B9-49CA-8218-F79B4FA47D62__GUID-B72E8A3C-140D-4667-A4D2-F009BC7BA6D7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLContext.html#getDefault--" target="_blank">https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLContext.html#getDefault--</a></p>
                           </li>
                           <li>
                              <p><a href="https://docs.oracle.com/javase/8/docs/api/java/security/KeyStore.html#load-java.security.KeyStore.LoadStoreParameter-" target="_blank">https://docs.oracle.com/javase/8/docs/api/java/security/KeyStore.html#load-java.security.KeyStore.LoadStoreParameter-</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2562DF85-18E7-4B36-8326-0C6FD4FBFFE6" name="GUID-2562DF85-18E7-4B36-8326-0C6FD4FBFFE6"></a><h4 id="JJDBC-GUID-2562DF85-18E7-4B36-8326-0C6FD4FBFFE6" class="sect4"><span class="enumeration_section">9.5.7 </span>Support for Key Store Service
                  </h4>
                  <div>
                     <p></p>
                     <p>This release of Oracle Database introduces support for Key Store Service (KSS) in the JDBC driver. So, if you have configured a Key Store Service in a WebLogic server, then JDBC applications can now integrate with the existing Key Store Service configuration.</p>
                     <p>The driver can load the key stores that are managed by the Key Store Service. If the value of the <code class="codeph">javax.net.ssl.keyStore</code> property or the <code class="codeph">javax.net.ssl.trustStore</code> property is a URI with <code class="codeph">kss://</code> scheme, then the driver loads the key store from Key Store Service.
                     </p>
                     <p>For permission-based protection, the following permission must be granted to the ojdbc JAR file:</p><pre class="pre codeblock"><code>							permission KeyStoreAccessPermission "stripeName=*,keystoreName=*,alias=*", "read";</code></pre><p>This permission grants access to every key store. For limiting the scope of access, you can replace the asterisk wild cards (*) with a specific application stripe and a key store name. The driver does not load the key store as a privileged action, which means that the <code class="codeph">KeyStoreAccessPermission</code> must also be granted to the application code base.
                     </p>
                  </div>
               </div>
            </div><a id="JJDBC28339"></a><div class="props_rev_3"><a id="GUID-97E88D18-B590-4313-87B8-EE422DA644B3" name="GUID-97E88D18-B590-4313-87B8-EE422DA644B3"></a><h3 id="JJDBC-GUID-97E88D18-B590-4313-87B8-EE422DA644B3" class="sect3"><span class="enumeration_section">9.6 </span>Support for Kerberos
               </h3>
               <div>
                  <p>This section discusses the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="client-side-security.html#GUID-768A8F69-1DAD-4C4C-8E5F-DC463ED65393">Overview of JDBC Support for Kerberos</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-2111EA95-5338-45B5-907B-A6B96F5A19E3">Configuring Windows to Use Kerberos</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-A27B26BE-82F3-4BA1-95B6-E09A789D532B">Configuring Oracle Database to Use Kerberos</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64">Code Example for Using Kerberos</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-768A8F69-1DAD-4C4C-8E5F-DC463ED65393" name="GUID-768A8F69-1DAD-4C4C-8E5F-DC463ED65393"></a><h4 id="JJDBC-GUID-768A8F69-1DAD-4C4C-8E5F-DC463ED65393" class="sect4"><span class="enumeration_section">9.6.1 </span>Overview of JDBC Support for Kerberos
                  </h4>
                  <div>
                     <p>Kerberos is a network authentication protocol that provides the tools of authentication and strong cryptography over the network. Kerberos helps you secure your information systems across your entire enterprise by using secret-key cryptography. The Kerberos protocol uses strong cryptography so that a client or a server can prove its identity to its server or client across an insecure network connection. After a client and server have used Kerberos to prove their identity, they can also encrypt all of their communications to assure privacy and data integrity as they go about their business.</p>
                     <p>The Kerberos architecture is centered around a trusted authentication service called the key distribution center, or KDC. Users and services in a Kerberos environment are referred to as principals; each principal shares a secret, such as a password, with the KDC. A principal can be a user such as <code class="codeph">HR</code> or a database server instance.
                     </p>
                     <p>Starting from 12c Release 1, Oracle Database also supports cross-realm authentication for Kerberos. If you add the referred realm appropriately in the <code class="codeph">domain_realms</code> section of the kerberos configuration file, then being in one particular realm, you can access the services of another realm.
                     </p>
                  </div>
               </div><a id="JJDBC28342"></a><div class="props_rev_3"><a id="GUID-2111EA95-5338-45B5-907B-A6B96F5A19E3" name="GUID-2111EA95-5338-45B5-907B-A6B96F5A19E3"></a><h4 id="JJDBC-GUID-2111EA95-5338-45B5-907B-A6B96F5A19E3" class="sect4"><span class="enumeration_section">9.6.2 </span>Configuring Windows to Use Kerberos
                  </h4>
                  <div>
                     <div class="section">
                        <p>A good Kerberos client providing <code class="codeph">klist, kinit,</code> and other tools, can be found at the following link:
                        </p><pre class="oac_no_warn" dir="ltr"><a href="http://web.mit.edu/kerberos/dist/index.html" target="_blank"><code class="codeph">http://web.mit.edu/kerberos/dist/index.html</code></a>
</pre><p>This client also provides a nice GUI.</p>
                        <p>You need to make the following changes to configure Kerberos on your Windows machine:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Right-click the <span class="bold">My Computer</span> icon on your desktop.</span></li>
                        <li><span>Select <span class="bold">Properties</span>. The System Properties dialog box is displayed.</span></li>
                        <li><span>Select the <span class="bold">Advanced</span> tab.</span></li>
                        <li><span>Click <span class="bold">Environment Variables</span>. The Environment Variables dialog box is displayed.</span></li>
                        <li><span>Click <span class="bold">New</span> to add a new user variable. The New User Variable dialog box is displayed.</span></li>
                        <li><span>Enter <code class="codeph">KRB5CCNAME</code> in the Variable name field.</span></li>
                        <li><span>Enter <code class="codeph">FILE:C:\Documents and Settings\</code><span class="italic"><code class="codeph">&lt;user_name&gt;</code></span><code class="codeph">\krb5cc</code> in the Variable value field.</span></li>
                        <li><span>Click <span class="bold">OK</span> to close the New User Variable dialog box.</span></li>
                        <li><span>Click <span class="bold">OK</span> to close the Environment Variables dialog box.</span></li>
                        <li><span>Click <span class="bold">OK</span> to close the System Properties dialog box.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-2111EA95-5338-45B5-907B-A6B96F5A19E3__GUID-D1C52111-C90C-4D3E-BF8E-4A25CDB64C3C">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">C:\WINDOWS\krb5.ini</code> file has the same content as <code class="codeph">krb5.conf</code> file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28343"></a><div class="props_rev_3"><a id="GUID-A27B26BE-82F3-4BA1-95B6-E09A789D532B" name="GUID-A27B26BE-82F3-4BA1-95B6-E09A789D532B"></a><h4 id="JJDBC-GUID-A27B26BE-82F3-4BA1-95B6-E09A789D532B" class="sect4"><span class="enumeration_section">9.6.3 </span>Configuring Oracle Database to Use Kerberos
                  </h4>
                  <div>
                     <div class="section">
                        <p>Perform the following steps to configure Oracle Database to use Kerberos:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use the following command to connect to the database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; connect system
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following commands to create a user <code class="codeph">CLIENT@US.ORACLE.COM</code> that is identified externally:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; create user "CLIENT@US.ORACLE.COM" identified externally;
SQL&gt; grant create session to "CLIENT@US.ORACLE.COM";
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following commands to connect to the database as <code class="codeph">sysdba</code> and dismount it:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; connect / as sysdba
SQL&gt; shutdown immediate;

</pre></div>
                        </li>
                        <li class="stepexpand"><span>Add the following line to <code class="codeph">$T_WORK/t_init1.ora</code> file:</span><div><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX=""
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following command to restart the database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; startup pfile=t_init1.ora
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Modify the <code class="codeph">sqlnet.ora</code> file to include the following lines:</span><div><pre class="oac_no_warn" dir="ltr">names.directory_path = (tnsnames)
#Kerberos
sqlnet.authentication_services = (beq,kerberos5)
sqlnet.authentication_kerberos5_service = dbji
sqlnet.kerberos5_conf = /home/Jdbc/Security/kerberos/krb5.conf
sqlnet.kerberos5_keytab = /home/Jdbc/Security/kerberos/dbji.oracleserver
sqlnet.kerberos5_conf_mit = true
sqlnet.kerberos_cc_name = /tmp/krb5cc_5088
# logging (optional):
trace_level_server=16 
trace_directory_server=/scratch/sqlnet/
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following commands to verify that you can connect through SQL*Plus:</span><div><pre class="oac_no_warn" dir="ltr"><span class="bold">&gt; kinit client</span>
<span class="bold">&gt; klist</span>
     Ticket cache: FILE:/tmp/krb5cc_5088
     Default principal: client@US.ORACLE.COM
    
     Valid starting     Expires            Service principal
     06/22/06 07:13:29  06/22/06 17:13:29  krbtgt/US.ORACLE.COM@US.ORACLE.COM
    
    
     Kerberos 4 ticket cache: /tmp/tkt5088
     klist: You have no tickets cached
&gt; <span class="bold">sqlplus</span> <span class="bold">'/@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracleserver.mydomain.com)(PORT=5221))</span>
<span class="bold">(CONNECT_DATA=(SERVICE_NAME=orcl)))'</span>
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="JJDBC28345"></a><a id="JJDBC28344"></a><div class="props_rev_3"><a id="GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64" name="GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64"></a><h4 id="JJDBC-GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64" class="sect4"><span class="enumeration_section">9.6.4 </span>Code Example for Using Kerberos
                  </h4>
                  <div>
                     <div class="section">
                        <p>This following example demonstrates the new Kerberos authentication feature that is part of Oracle Database 12<span class="italic">c </span>Release 1 (12.1) JDBC thin driver. This demo covers two scenarios:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In the first scenario, the OS maintains the user name and credentials. The credentials are stored in the cache and the driver retrieves the credentials before trying to authenticate to the server. This scenario is in the module <code class="codeph">connectWithDefaultUser()</code>.
                              </p>
                              <div class="infoboxnote" id="GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64__GUID-10CEC8C2-632B-429F-8B13-FC4CD7F078C5">
                                 <p class="notep1">Note:</p>
                                 <ol>
                                    <li>
                                       <p>Before you run this part of the demo, use the following command to verify that you have valid credentials:</p><pre class="oac_no_warn" dir="ltr">&gt; /usr/kerberos/bin/kinit client
where, the password is <span class="italic">welcome</span>.</pre></li>
                                    <li>
                                       <p>Use the following command to list your tickets:</p><pre class="oac_no_warn" dir="ltr">&gt; /usr/kerberos/bin/klist
</pre></li>
                                 </ol>
                              </div>
                           </li>
                           <li>
                              <p>The second scenario covers the case where the application wants to control the user credentials. This is the case of the application server where multiple web users have their own credentials. This scenario is in the module <code class="codeph">connectWithSpecificUser().</code></p>
                              <div class="infoboxnote" id="GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64__GUID-265EA54A-355B-4BEC-993C-93B6F1695A68">
                                 <p class="notep1">Note:</p>
                                 <p>To run this demo, you need to have a working setup, that is, a Kerberos server up and running, and an Oracle database server that is configured to use Kerberos authentication. You then need to change the URLs used in the example to compile and run it.</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-991705F7-C2C5-4BA9-85D1-32749AE2FF64__GUID-AF4FB9E1-FBFC-4288-B6D2-5FDA35CD5082">
                        <p class="titleinexample">Example 9-4 Using Kerberos Authentication to Connect to the Database</p><pre class="oac_no_warn" dir="ltr">import com.sun.security.auth.module.Krb5LoginModule;
import java.io.IOException;
 
import java.security.PrivilegedExceptionAction;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
 
import java.util.HashMap;
import java.util.Properties;
import javax.security.auth.Subject;
import javax.security.auth.callback.Callback;
import javax.security.auth.callback.CallbackHandler;
import javax.security.auth.callback.PasswordCallback;
import javax.security.auth.callback.UnsupportedCallbackException;
 
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleDriver;
import oracle.net.ano.AnoServices;
public class KerberosJdbcDemo
{
  String url ="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)"+
    "(HOST=oracleserver.mydomain.com)(PORT=5221))(CONNECT_DATA=" +
    "(SERVICE_NAME=orcl)))";
 
  public static void main(String[] arv)
  {
    /* If you see the following error message [Mechanism level: Could not load
     * configuration file c:\winnt\krb5.ini (The system cannot find the path 
     * specified] it's because the JVM cannot locate your kerberos config file.
     * You have to provide the location of the file. For example, on Windows,
     * the MIT Kerberos client uses the config file: C\WINDOWS\krb5.ini:
     */
    // System.setProperty("java.security.krb5.conf","C:\\WINDOWS\\krb5.ini");
    System.setProperty("java.security.krb5.conf","/home/Jdbc/Security/kerberos/krb5.conf");
    
    KerberosJdbcDemo kerberosDemo = new KerberosJdbcDemo();
    try
    {
      System.out.println("Attempt to connect with the default user:");
      kerberosDemo.connectWithDefaultUser();
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
    try
    {
      System.out.println("Attempt to connect with a specific user:");
      kerberosDemo.connectWithSpecificUser();
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
  }
  
 
  void connectWithDefaultUser() throws SQLException
  {
    OracleDriver driver = new OracleDriver();
    Properties prop = new Properties();
    
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES,
      "("+AnoServices.AUTHENTICATION_KERBEROS5+")");  
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_KRB5_MUTUAL,
      "true");    
 
    /* If you get the following error [Unable to obtain Princpal Name for 
     * authentication] although you know that you have the right TGT in your
     * credential cache, then it's probably because the JVM can't locate your
     * cache.</pre><pre class="oac_no_warn" dir="ltr">     *
     * Note that the default location on windows is "C:\Documents and Settings\krb5cc_username".
     */
 
    // prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_KRB5_CC_NAME,</pre><pre class="oac_no_warn" dir="ltr">    /*
      On linux:
         &gt; which kinit
         /usr/kerberos/bin/kinit
         &gt; ls -l /etc/krb5.conf 
         lrwxrwxrwx    1 root  root   47 Jun 22 06:56 /etc/krb5.conf -&gt; /home/Jdbc/Security/kerberos/krb5.conf
    
         &gt; kinit client
         Password for client@US.ORACLE.COM: 
         &gt; klist
         Ticket cache: FILE:/tmp/krb5cc_5088
         Default principal: client@US.ORACLE.COM
 
         Valid starting     Expires            Service principal
         11/02/06 09:25:11  11/02/06 19:25:11  krbtgt/US.ORACLE.COM@US.ORACLE.COM
 
 
         Kerberos 4 ticket cache: /tmp/tkt5088
         klist: You have no tickets cached
    */
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_KRB5_CC_NAME,
                     "/tmp/krb5cc_5088");
    Connection conn  = driver.connect(url,prop);
    String auth = ((OracleConnection)conn).getAuthenticationAdaptorName();
    System.out.println("Authentication adaptor="+auth);
    printUserName(conn);
    conn.close();
  }
 
  
  void connectWithSpecificUser() throws Exception
  {
    Subject specificSubject = new Subject();
    
    // This first part isn't really meaningful to the sake of this demo. In
    // a real world scenario, you have a valid "specificSubject" Subject that
    // represents a web user that has valid Kerberos credentials.
    Krb5LoginModule krb5Module = new Krb5LoginModule();
    HashMap sharedState = new HashMap();
    HashMap options = new HashMap();
    options.put("doNotPrompt","false");
    options.put("useTicketCache","false");
    options.put("principal","client@US.ORACLE.COM");
    
    krb5Module.initialize(specificSubject,newKrbCallbackHandler(),sharedState,options);
    boolean retLogin = krb5Module.login();
    krb5Module.commit();
    if(!retLogin)
      throw new Exception("Kerberos5 adaptor couldn't retrieve credentials (TGT) from the cache"); 
      
    // to use the TGT from the cache:   
    // options.put("useTicketCache","true");
    // options.put("doNotPrompt","true");
    // options.put("ticketCache","C:\\Documents and Settings\\user\\krb5cc");
    // krb5Module.initialize(specificSubject,null,sharedState,options);
 
 
    // Now we have a valid Subject with Kerberos credentials. The second scenario
    // really starts here:
    // execute driver.connect(...) on behalf of the Subject 'specificSubject':
    Connection conn = 
      (Connection)Subject.doAs(specificSubject, new PrivilegedExceptionAction()
        {
          public Object run()
          {
            Connection con = null;
            Properties prop = new Properties();
            prop.setProperty(AnoServices.AUTHENTICATION_PROPERTY_SERVICES, 
                             "(" + AnoServices.AUTHENTICATION_KERBEROS5 + ")");
            try
            {
              OracleDriver driver = new OracleDriver();
              con = driver.connect(url, prop);
 
            } catch (Exception except)
            {
              except.printStackTrace();
            }
            return con;
          }
        });
 
    String auth = ((OracleConnection)conn).getAuthenticationAdaptorName();
    System.out.println("Authentication adaptor="+auth);
    printUserName(conn);
    conn.close();
  }
  
  void printUserName(Connection conn) throws SQLException
  {
    Statement stmt = null;
    try
    {
      stmt = conn.createStatement();
      ResultSet rs = stmt.executeQuery("select user from dual");
      while(rs.next())
        System.out.println("User is:"+rs.getString(1));
      rs.close();
    }
    finally
    {
      if(stmt != null)
        stmt.close();
    }
  }
}
 
class KrbCallbackHandler implements CallbackHandler
{
 public void handle(Callback[] callbacks) throws IOException, 
                                                 UnsupportedCallbackException
 {
   for (int i = 0; i &lt; callbacks.length; i++)
   {
     if (callbacks[i] instanceof PasswordCallback)
     {
       PasswordCallback pc = (PasswordCallback)callbacks[i];
       System.out.println("set password to 'welcome'");
       pc.setPassword((new String("welcome")).toCharArray());
     } else
     {
       throw new UnsupportedCallbackException(callbacks[i], 
                                              "Unrecognized Callback");
     }
   }
 }
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="JJDBC28346"></a><div class="props_rev_3"><a id="GUID-5748543A-EA85-4263-93C8-A79B2D5DBB8C" name="GUID-5748543A-EA85-4263-93C8-A79B2D5DBB8C"></a><h3 id="JJDBC-GUID-5748543A-EA85-4263-93C8-A79B2D5DBB8C" class="sect3"><span class="enumeration_section">9.7 </span>Support for RADIUS
               </h3>
               <div>
                  <p>This section describes the following concepts:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="client-side-security.html#GUID-9D0D86AD-35E4-4289-A6EA-4052A9FD9927">Overview of JDBC Support for RADIUS</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-08248FD5-DD26-4D07-B1C7-0DBDFA3FC970">Configuring Oracle Database to Use RADIUS</a></p>
                     </li>
                     <li>
                        <p><a href="client-side-security.html#GUID-E8CEB076-4DD7-49EB-86D3-82F503E34A02">Code Example for Using RADIUS</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-9D0D86AD-35E4-4289-A6EA-4052A9FD9927" name="GUID-9D0D86AD-35E4-4289-A6EA-4052A9FD9927"></a><h4 id="JJDBC-GUID-9D0D86AD-35E4-4289-A6EA-4052A9FD9927" class="sect4"><span class="enumeration_section">9.7.1 </span>Overview of JDBC Support for RADIUS
                  </h4>
                  <div>
                     <p>Oracle Database 11<span class="italic">g</span> Release 1 introduced support for Remote Authentication Dial-In User Service (RADIUS). RADIUS is a client/server security protocol that is most widely known for enabling remote authentication and access. Oracle Advanced Security uses this standard in a client/server network environment to enable use of any authentication method that supports the RADIUS protocol. RADIUS can be used with a variety of authentication mechanisms, including token cards and smart cards.
                     </p>
                  </div>
               </div><a id="JJDBC28348"></a><div class="props_rev_3"><a id="GUID-08248FD5-DD26-4D07-B1C7-0DBDFA3FC970" name="GUID-08248FD5-DD26-4D07-B1C7-0DBDFA3FC970"></a><h4 id="JJDBC-GUID-08248FD5-DD26-4D07-B1C7-0DBDFA3FC970" class="sect4"><span class="enumeration_section">9.7.2 </span>Configuring Oracle Database to Use RADIUS
                  </h4>
                  <div>
                     <div class="section">
                        <p>Perform the following steps to configure Oracle Database to use RADIUS:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use the following command to connect to the database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; connect system
Enter password: <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following commands to create a new user <code class="codeph">aso</code> from within a database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; create user aso identified externally;
SQL&gt; grant create session to aso;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following commands to connect to the database as <code class="codeph">sysdba</code> and dismount it:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; connect / as sysdba
SQL&gt; shutdown immediate;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Add the following lines to the <code class="codeph">t_init1.ora</code> file:</span><div><pre class="oac_no_warn" dir="ltr">os_authent_prefix = ""
</pre><div class="infoboxnote" id="GUID-08248FD5-DD26-4D07-B1C7-0DBDFA3FC970__GUID-BCF97DBF-65ED-41FF-B692-DDFD1F29674C">
                                 <p class="notep1">Note:</p>
                                 <p>Once the test is over, you need to revert the preceding changes made to the t_init1.ora file.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Use the following command to restart the database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; startup pfile=?/work/t_init1.ora
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Modify the <code class="codeph">sqlnet.ora</code> file so that it contains only these lines:</span><div><pre class="oac_no_warn" dir="ltr">sqlnet.authentication_services = ( beq, radius)
sqlnet.radius_authentication = &lt;RADUIUS_SERVER_HOST_NAME&gt;
sqlnet.radius_authentication_port = 1812
sqlnet.radius_authentication_timeout = 120
sqlnet.radius_secret=/home/Jdbc/Security/radius/radius_key
# logging (optional):
trace_level_server=16
trace_directory_server=/scratch/sqlnet/
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the following command to verify that you can connect through SQL*Plus:</span><div><pre class="oac_no_warn" dir="ltr">&gt;sqlplus 'aso/1234@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=oracleserver.mydomain.com)(PORT=5221))
(CONNECT_DATA=(SERVICE_NAME=orcl)))'
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="JJDBC28350"></a><a id="JJDBC28349"></a><div class="props_rev_3"><a id="GUID-E8CEB076-4DD7-49EB-86D3-82F503E34A02" name="GUID-E8CEB076-4DD7-49EB-86D3-82F503E34A02"></a><h4 id="JJDBC-GUID-E8CEB076-4DD7-49EB-86D3-82F503E34A02" class="sect4"><span class="enumeration_section">9.7.3 </span>Code Example for Using RADIUS
                  </h4>
                  <div>
                     <div class="section">
                        <p>This example demonstrates the new RADIUS authentication feature that is a part of Oracle Database 12<span class="italic">c </span>Release 1 (12.1) JDBC thin driver. You need to have a working setup, that is, a RADIUS server up and running, and an Oracle database server that is configured to use RADIUS authentication. You then need to change the URLs given in the example to compile and run it.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E8CEB076-4DD7-49EB-86D3-82F503E34A02__GUID-0778E14A-A747-4223-AB03-5EC61A17B2EB">
                        <p class="titleinexample">Example 9-5 Using RADIUS Authentication to Connect to the Database</p><pre class="oac_no_warn" dir="ltr">import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Properties;
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleDriver;
import oracle.net.ano.AnoServices;
public class RadiusJdbcDemo
{  
  String url ="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)"+
    "(HOST=oracleserver.mydomain.com)(PORT=5221))(CONNECT_DATA=" +
    "(SERVICE_NAME=orcl)))";
 
  public static void main(String[] arv)
  {
    RadiusJdbcDemo radiusDemo = new RadiusJdbcDemo();
    try
    {
      radiusDemo.connect();
    }
    catch (Exception e)
    {
      e.printStackTrace();
    }
  }
  
  /*
   * This method attempts to logon to the database using the RADIUS
   * authentication protocol.
   * 
   * It should print the following output to stdout:
   * -----------------------------------------------------
   * Authentication adaptor=RADIUS
   * User is:ASO
   * -----------------------------------------------------
   */
  void connect() throws SQLException
  {
    OracleDriver driver = new OracleDriver();
    Properties prop = new Properties();
    
    prop.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_AUTHENTICATION_SERVICES,
      "("+AnoServices.AUTHENTICATION_RADIUS+")");
    // The user "aso" needs to be properly setup on the radius server with
    // password "1234".
    prop.setProperty("user","aso");
    prop.setProperty("password","1234");
    
    Connection conn  = driver.connect(url,prop);
    String auth = ((OracleConnection)conn).getAuthenticationAdaptorName();
    System.out.println("Authentication adaptor="+auth);
    printUserName(conn);
    conn.close();
  }
 
  
  void printUserName(Connection conn) throws SQLException
  {
    Statement stmt = null;
    try
    {
      stmt = conn.createStatement();
      ResultSet rs = stmt.executeQuery("select user from dual");
      while(rs.next())
        System.out.println("User is:"+rs.getString(1));
      rs.close();
    }
    finally
    {
      if(stmt != null)
        stmt.close();
    }
  }
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="JJDBC28351"></a><div class="props_rev_3"><a id="GUID-4DED9706-6735-4786-B70C-4D35C8DFE9E5" name="GUID-4DED9706-6735-4786-B70C-4D35C8DFE9E5"></a><h3 id="JJDBC-GUID-4DED9706-6735-4786-B70C-4D35C8DFE9E5" class="sect3"><span class="enumeration_section">9.8 </span>About Secure External Password Store
               </h3>
               <div>
                  <p>As an alternative for large-scale deployments where applications use password credentials to connect to databases, it is possible to store such credentials in a client-side Oracle wallet. An Oracle wallet is a secure software container that is used to store authentication and signing credentials.</p>
                  <p>Storing database password credentials in a client-side Oracle wallet eliminates the need to embed user names and passwords in application code, <a id="d36818e2362" class="indexterm-anchor"></a>batch jobs, or <a id="d36818e2365" class="indexterm-anchor"></a>scripts. This reduces the risk of exposing passwords in the scripts and application code, and simplifies maintenance because you do not need to change your code each time user names and passwords change. In addition, if you do not have to change the application code, then it also becomes easier to enforce password management policies for these user accounts.
                  </p>
                  <p>You can set the <code class="codeph">oracle.net.wallet_location</code> connection property to specify the wallet location. The JDBC driver can then retrieve the user name and password pair from this wallet.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4DED9706-6735-4786-B70C-4D35C8DFE9E5__GUID-CEA776CE-6F6D-42B3-A42A-D458090252C1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/jjdbc&amp;id=ADMIN11133" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about configuring your client to use secure external password store and for information about managing credentials in it
                           </p>
                        </li>
                        <li>
                           <p><a href="../dbseg/configuring-authentication.html#DBSEG99815" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about managing the secure external password store for password credentials
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='09631.creating-oracle-data-guard-physical-standby.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration.">
      <meta name="description" content="You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration.">
      <title>Creating a Physical Standby Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="getting-started-with-oracle-data-guard.html" title="Previous" type="text/html">
      <link rel="next" href="creating-oracle-data-guard-logical-standby.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-oracle-data-guard.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-oracle-data-guard-logical-standby.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Creating a Physical Standby Database</li>
            </ol>
            <a id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170" name="GUID-B511FB6E-E3E7-436D-94B5-071C37550170"></a><a id="SBYDB00200"></a>
            
            <h2 id="SBYDB-GUID-B511FB6E-E3E7-436D-94B5-071C37550170" class="sect2"><span class="enumeration_chapter">3 </span> Creating a Physical Standby Database
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration.</p>
               <p>See the following main topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-3DA747A3-1976-4A70-A96A-56281872D4D9" title="Before you create a standby database you must first ensure the primary database is properly configured.">Preparing the Primary Database for Standby Database Creation</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF" title="These are the tasks you perform to create a physical standby database.">Step-by-Step Instructions for Creating a Physical Standby Database</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC" title="After the physical standby database is running, you can upgrade the data protection mode, and you can enable Flashback Database.">Post-Creation Steps</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-7C55FE8A-50C3-4601-9ADA-98BE6D65F1DD" title="The Database Configuration Assistant (DBCA) can also be used as a simple command-line method to create an Oracle Data Guard physical standby database.">Using DBCA to Create a Data Guard Standby</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69" title="You can create a physical standby of a multitenant container database (CDB) just as you can create a physical standby of a regular primary database.">Creating a Physical Standby of a CDB</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" title="In an Oracle Data Guard configuration, a pluggable database (PDB) on a primary database is created in the same way that a PDB on a regular database is created.">Creating a PDB in a Primary Database</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170__GUID-A18BD0A2-FB8D-4195-9C26-DA4AEC6CFBE1">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN11117" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about creating and using server parameter files
                        </p>
                     </li>
                     <li>
                        <p>Enterprise Manager online help system for information about using the Oracle Data Guard broker graphical user interface (GUI) to automatically create a physical standby database</p>
                     </li>
                     <li>
                        <p><a href="creating-data-guard-standby-database-using-RMAN.html#GUID-82731D59-A20F-45DD-A235-267B3B0E38C5" title="These topics describe how to use Oracle Recovery Manager to create a standby database."> Creating a Standby Database with Recovery Manager</a> for information about alternative methods of creating a physical standby database that automate much of the process by using Oracle Recovery Manager (RMAN) and either backup based duplication or active duplication over a network
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR090" target="_blank"><span class="italic">Oracle Data Guard Broker</span></a> for information about configuring a database so that it can be managed by Oracle Data Guard broker
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnote" id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170__GUID-A2C04D1E-5EB6-4CF9-BE44-43505962F4E0">
                  <p class="notep1">Note:</p>
                  <p>If you are working in a multitenant container database (CDB) environment, then see <a href="creating-oracle-data-guard-physical-standby.html#GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69" title="You can create a physical standby of a multitenant container database (CDB) just as you can create a physical standby of a regular primary database.">Creating a Physical Standby of a CDB</a> for information about behavioral differences from non-CDB environments. For instance, in a CDB environment, many DBA views have analogous CDB views that you should use instead. 
                  </p>
               </div>
            </div><a id="SBYDB5015"></a><a id="SBYDB4718"></a><div class="props_rev_3"><a id="GUID-3DA747A3-1976-4A70-A96A-56281872D4D9" name="GUID-3DA747A3-1976-4A70-A96A-56281872D4D9"></a><h3 id="SBYDB-GUID-3DA747A3-1976-4A70-A96A-56281872D4D9" class="sect3"><span class="enumeration_section">3.1 </span>Preparing the Primary Database for Standby Database Creation
               </h3>
               <div>
                  <p>Before you create a standby database you must first ensure the primary database is properly configured.</p>
                  <div class="section">
                     <p>Perform the following tasks on the primary database to prepare for physical standby database creation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-AE2B1237-57A1-4745-A04C-4246A831A963" title="As part of preparing the primary database for standby database creation, you must enable a logging mode appropriate to the way you plan to use the Data Guard configuration.">Enable an Appropriate Logging Mode</a></p>
                        </li>
                        <li>
                           <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" title="Oracle Data Guard uses Oracle Net sessions to transport redo data and control messages between the members of an Oracle Data Guard configuration.">Configure Redo Transport Authentication</a></p>
                        </li>
                        <li>
                           <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" title="It is a best practice to configure the primary database to receive redo if this is the first time a standby database is added to the configuration.">Configure the Primary Database to Receive Redo Data</a></p>
                        </li>
                        <li>
                           <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role.">Set Primary Database Initialization Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" title="If archiving is not enabled, then you must put the primary database in ARCHIVELOG mode and enable automatic archiving.">Enable Archiving</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-3DA747A3-1976-4A70-A96A-56281872D4D9__GUID-2C0A3837-59E6-42CA-BA31-6F891FA30F5E">
                        <p class="notep1">Note:</p>
                        <p>Perform these preparatory tasks only once. After you complete these steps, the database is prepared to serve as the primary database for one or more standby databases.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="SBYDB4719"></a><div class="props_rev_3"><a id="GUID-AE2B1237-57A1-4745-A04C-4246A831A963" name="GUID-AE2B1237-57A1-4745-A04C-4246A831A963"></a><h4 id="SBYDB-GUID-AE2B1237-57A1-4745-A04C-4246A831A963" class="sect4"><span class="enumeration_section">3.1.1 </span>Enable an Appropriate Logging Mode
                  </h4>
                  <div>
                     <p>As part of preparing the primary database for standby database creation, you must enable a logging mode appropriate to the way you plan to use the Data Guard configuration. </p>
                     <div class="section">
                        <p>The default logging mode of a database that is not part of a Data Guard configuration allows certain data loading operations to be performed in a nonlogged manner. This default mode is not appropriate to a database with a standby because it leads to the loaded data being missing from the standby, which requires manual intervention to fix. In addition to the default logging mode, there are three other modes that are appropriate for a primary database:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <div class="p"><code class="codeph">FORCE LOGGING</code> mode prevents any load operation from being performed in a nonlogged manner. This can slow down the load process because the loaded data must be copied into the redo logs. <code class="codeph">FORCE LOGGING</code> mode is enabled using the following command: <pre class="pre codeblock"><code>SQL&gt; ALTER DATABASE FORCE LOGGING;</code></pre></div>
                           </li>
                           <li>
                              <div class="p"><code class="codeph">STANDBY NOLOGGING FOR DATA AVAILABILITY</code> mode causes the load operation to send the loaded data to each standby through its own connection to the standby. The commit is delayed until all the standbys have applied the data as part of running managed recovery in an Active Data Guard environment. It is enabled with the following command:<pre class="pre codeblock"><code>SQL&gt; ALTER DATABASE SET STANDBY NOLOGGING FOR DATA AVAILABILITY;</code></pre></div>
                           </li>
                           <li>
                              <div class="p"><code class="codeph">STANDBY NOLOGGING FOR LOAD PERFORMANCE</code> is similar to the previous mode except that the loading process can stop sending the data to the standbys if the network cannot keep up with the speed at which data is being loaded to the primary. In this mode it is possible that the standbys may have missing data, but each standby automatically fetches the data from the primary as a normal part of running managed recovery in an Active Data Guard environment. It is enabled with the following command:<pre class="pre codeblock"><code>SQL&gt; ALTER DATABASE SET STANDBY NOLOGGING FOR LOAD PERFORMANCE;

</code></pre></div>
                           </li>
                        </ul>
                        <p>When you issue any of these statements, the primary database must at least be mounted (and it can also be open). The statement can take a considerable amount of time to complete, because it waits for all unlogged direct write I/O to finish.</p>
                        <p></p>
                        <div class="infoboxnote" id="GUID-AE2B1237-57A1-4745-A04C-4246A831A963__GUID-733F7367-B8B7-4B2E-B22D-3C3E9EB3BD16">
                           <p class="notep1">Note:</p>
                           <p>When you enable <code class="codeph">STANDBY NOLOGGING FOR DATA AVAILABILITY</code> or <code class="codeph">STANDBY NOLOGGING FOR LOAD PERFORMANCE</code> on the primary database, any standbys that are using multi-instance redo apply functionality will stop applying redo with the error ORA-10892. You must first restart redo apply and allow the affected standbys to progress past the NOLOGGING operation period and then enable multi-instance redo apply.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-AE2B1237-57A1-4745-A04C-4246A831A963__GUID-5584756B-129C-46A1-97A2-63718104B4AA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11096" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about the ramifications of specifying <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB00424"></a><div class="props_rev_3"><a id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" name="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2"></a><h4 id="SBYDB-GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" class="sect4"><span class="enumeration_section">3.1.2 </span>Configure Redo Transport Authentication
                  </h4>
                  <div>
                     <p>Oracle Data Guard uses Oracle Net sessions to transport redo data and control messages between the members of an Oracle Data Guard configuration. </p>
                     <p>These redo transport sessions are authenticated using either the Secure Sockets Layer (SSL) protocol or a remote login password file.</p>
                     <p>SSL is used to authenticate redo transport sessions between two databases if:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The databases are members of the same Oracle Internet Directory (OID) enterprise domain and it allows the use of current user database links</p>
                        </li>
                        <li>
                           <p>The <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>, and <code class="codeph">FAL_SERVER</code> database initialization parameters that correspond to the databases use Oracle Net connect descriptors configured for SSL
                           </p>
                        </li>
                        <li>
                           <p>Each database has an Oracle wallet or supported hardware security module that contains a user certificate with a distinguished name (DN) that matches the DN in the OID entry for the database</p>
                        </li>
                     </ul>
                     <p>If the SSL authentication requirements are not met, then each member of an Oracle Data Guard configuration must be configured to use a remote login password file and every physical standby database in the configuration must have an up-to-date copy of the password file from the primary database.</p>
                     <div class="infoboxnote" id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2__GUID-386E79D8-99A8-47C6-9721-53DED3AEB1CD">
                        <p class="notep1">Note:</p>
                        <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1) password file changes done on a primary database are automatically propagated to standby databases. The only exception to this is far sync instances. Updated password files must still be manually copied to far sync instances because far sync instances receive redo, but do not apply it. Once the password file is up-to-date at the far sync instance, the redo is automatically propagated to any standby databases that are set up to receive redo logs from that far sync instance. The password file is updated on the standby when the redo is applied. 
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2__GUID-8FF931DF-1863-4243-9387-3D63161690E9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-26EC8D1B-7A2F-4F0A-9588-D92CBD610858" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10184" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about remote login password files
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DBSEG070" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about SSL
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG001" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for more information about Oracle Net Services
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="SBYDB00426"></a><div class="props_rev_3"><a id="GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" name="GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF"></a><h4 id="SBYDB-GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" class="sect4"><span class="enumeration_section">3.1.3 </span>Configure the Primary Database to Receive Redo Data
                  </h4>
                  <div>
                     <p>It is a best practice to configure the primary database to receive redo if this is the first time a standby database is added to the configuration. </p>
                     <p>The primary database can then quickly transition to the standby role and begin receiving redo data, if necessary.</p>
                     <p>To create a standby redo log, use the SQL <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">ADD</code> <code class="codeph">STANDBY</code> <code class="codeph">LOGFILE</code> statement. For example:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE ADD STANDBY LOGFILE ('/oracle/dbs/slog1.rdo') SIZE 500M;
 
SQL&gt; ALTER DATABASE ADD STANDBY LOGFILE ('/oracle/dbs/slog2.rdo') SIZE 500M;
</pre><p>See <a href="oracle-data-guard-redo-transport-services.html#GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8" title="Redo transport destination must be configured to receive and to archive redo data from a redo source database.">Configuring an Oracle Database to Receive Redo Data</a> for a discussion of how to determine the size of each log file and the number of log groups, as well as other background information about managing standby redo logs.
                     </p>
                  </div>
               </div><a id="SBYDB4720"></a><div class="props_rev_3"><a id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" name="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84"></a><h4 id="SBYDB-GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" class="sect4"><span class="enumeration_section">3.1.4 </span>Set Primary Database Initialization Parameters
                  </h4>
                  <div>
                     <p>On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role. </p>
                     <p>There are additional parameters you need to add that control the receipt of the redo data and apply services when the primary database is transitioned to the standby role.</p>
                     <p> The following example shows the primary role initialization parameters that you maintain on the primary database. This example represents an Oracle Data Guard configuration with a primary database located in Chicago and one physical standby database located in Boston. The parameters shown in this example are valid for the Chicago database when it is running in either the primary or the standby database role. The configuration examples use the names shown in the following table:</p>
                     <div class="tblformal" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-CA398D21-3C1C-442B-829B-22477670CEAE">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 3 column tables shows the DB_UNIQUE_NAME and Oracle Net service names that are used in this chapters examples. Column 1 is the database, Column 2 is the DB_UNIQUE_NAME. Column 3 is the Oracle Net Service Name . " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d7102e744">Database</th>
                                 <th align="left" valign="bottom" width="31%" id="d7102e747">DB_UNIQUE_NAME</th>
                                 <th align="left" valign="bottom" width="38%" id="d7102e750">Oracle Net Service Name </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d7102e755" headers="d7102e744 ">
                                    <p>Primary</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d7102e755 d7102e747 ">
                                    <p>chicago</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d7102e755 d7102e750 ">
                                    <p>chicago</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d7102e765" headers="d7102e744 ">
                                    <p>Physical standby</p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d7102e765 d7102e747 ">
                                    <p>boston</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d7102e765 d7102e750 ">
                                    <p>boston</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" --><pre class="oac_no_warn" dir="ltr">DB_NAME=chicago
DB_UNIQUE_NAME=chicago
<a id="d7102e776" class="indexterm-anchor"></a>LOG_ARCHIVE_CONFIG='DG_CONFIG=(chicago,boston)'
CONTROL_FILES='/arch1/chicago/control1.ctl', '/arch2/chicago/control2.ctl'
LOG_ARCHIVE_DEST_1=
 'LOCATION=USE_DB_RECOVERY_FILE_DEST 
  VALID_FOR=(ALL_LOGFILES,ALL_ROLES)
  DB_UNIQUE_NAME=chicago'
LOG_ARCHIVE_DEST_2=
 'SERVICE=boston ASYNC
  VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) 
  DB_UNIQUE_NAME=boston'
REMOTE_LOGIN_PASSWORDFILE=EXCLUSIVE
LOG_ARCHIVE_FORMAT=%t_%s_%r.arc
</pre><p>These parameters control how redo transport services transmit redo data to the standby system and the archiving of redo data on the local file system. Note that the example specifies asynchronous (<code class="codeph">ASYNC</code>) network transmission to transmit redo data on the <code class="codeph">LOG_ARCHIVE_DEST_2</code> initialization parameter. These are the recommended settings and require standby redo log files (see <a href="creating-oracle-data-guard-physical-standby.html#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" title="It is a best practice to configure the primary database to receive redo if this is the first time a standby database is added to the configuration.">Configure the Primary Database to Receive Redo Data</a>).
                     </p>
                     <p>The following shows the additional standby role initialization parameters on the primary database. These parameters take effect when the primary database is transitioned to the standby role.</p><pre class="oac_no_warn" dir="ltr">FAL_SERVER=boston
DB_FILE_NAME_CONVERT='/boston/','/chicago/'
LOG_FILE_NAME_CONVERT='/boston/','/chicago/' 
STANDBY_FILE_MANAGEMENT=AUTO
</pre><p>Specifying the initialization parameters shown above sets up the primary database to resolve gaps, converts new data file and log file path names from a new primary database, and archives the incoming redo data when this database is in the standby role. With the initialization parameters for both the primary and standby roles set as described, none of the parameters need to change after a role transition. </p>
                     <p>The following table provides a brief explanation about each parameter setting shown in the previous two examples.</p>
                     <div class="tblformalwide" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-AD33B23C-C22E-4924-9029-1D06B2983132">
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Briefly explains each initialization parameter that was set in Examples 3-1 and 3-2." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d7102e810">Parameter</th>
                                 <th align="left" valign="bottom" width="70%" id="d7102e813">Recommended Setting</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e818" headers="d7102e810 ">
                                    <p><a href="../refrn/DB_NAME.html#REFRN10041" target="_blank"><code class="codeph">DB_NAME</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e818 d7102e813 ">
                                    <p>On a primary database, specify the name used when the database was created. On a physical standby database, use the <code class="codeph">DB_NAME</code> of the primary database.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e831" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10242" target="_blank"><code class="codeph">DB_UNIQUE_NAME</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e831 d7102e813 ">
                                    <p>Specify a unique name for each database. This name stays with the database and does not change, even if the primary and standby databases reverse roles.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e841" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10237" target="_blank"><code class="codeph">LOG_ARCHIVE_CONFIG</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e841 d7102e813 ">
                                    <p>The <code class="codeph">DG_CONFIG</code> attribute of this parameter must be explicitly set on each database in an Oracle Data Guard configuration to enable full Oracle Data Guard functionality. Set <code class="codeph">DG_CONFIG</code> to a text string that contains the <code class="codeph">DB_UNIQUE_NAME</code> of each database in the configuration, with each name in this list separated by a comma.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e860" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10021" target="_blank"><code class="codeph">CONTROL_FILES</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e860 d7102e813 ">
                                    <p>Specify the path name for the control files on the primary database. It is recommended that a second copy of the control file is available so an instance can be easily restarted after copying the good control file to the location of the bad control file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e870" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10086" target="_blank"><code class="codeph">LOG_ARCHIVE_DEST_n</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e870 d7102e813 ">
                                    <p>Specify where the redo data is to be archived on the primary and standby systems.</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_1</code> archives redo data generated by the primary database from the local online redo log files to the local archived redo log files in /arch1/chicago/.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">LOG_ARCHIVE_DEST_2</code> is valid only for the primary role. This destination transmits redo data to the remote physical standby destination <code class="codeph">boston</code>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p><span class="bold">Note: </span>If a fast recovery area was configured (with the <code class="codeph">DB_RECOVERY_FILE_DEST</code> initialization parameter) and you have not explicitly configured a local archiving destination with the <code class="codeph">LOCATION</code> attribute, Oracle Data Guard automatically uses the <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter (if it has not already been set) as the default destination for local archiving. Also, see <a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."> LOG_ARCHIVE_DEST_n Parameter Attributes</a> for complete <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> information.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e933" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10184" target="_blank"><code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e933 d7102e813 ">
                                    <p>This parameter must be set to <code class="codeph">EXCLUSIVE</code> or <code class="codeph">SHARED</code> if a remote login password file is used to authenticate administrative users or redo transport sessions.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e949" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10089" target="_blank"><code class="codeph">LOG_ARCHIVE_FORMAT</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e949 d7102e813 ">
                                    <p>Specify the format for the archived redo log files using a thread (%t), sequence number (%s), and resetlogs ID (%r).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e959" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10056" target="_blank"><code class="codeph">FAL_SERVER</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e959 d7102e813 ">
                                    <p>Specify the Oracle Net service name of the FAL server (typically this is the database running in the primary role). When the Chicago database is running in the standby role, it uses the Boston database as the FAL server from which to fetch (request) missing archived redo log files if Boston is unable to automatically send the missing log files.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e969" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10038" target="_blank"><code class="codeph">DB_FILE_NAME_CONVERT</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e969 d7102e813 ">
                                    <p>Specify the path name and filename location of the standby database data files followed by the primary location. This parameter converts the path names of the primary database data files to the standby data file path names. This parameter is used only to convert path names for physical standby databases. Multiple pairs of paths may be specified by this parameter.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e979" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10098" target="_blank"><code class="codeph">LOG_FILE_NAME_CONVERT</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e979 d7102e813 ">
                                    <p>Specify the location of the standby database online redo log files followed by the primary location. This parameter converts the path names of the primary database log files to the path names on the standby database. Multiple pairs of paths may be specified by this parameter.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d7102e989" headers="d7102e810 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10212" target="_blank"><code class="codeph">STANDBY_FILE_MANAGEMENT</code></a></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d7102e989 d7102e813 ">
                                    <p>Set to <code class="codeph">AUTO</code> so when data files are added to or dropped from the primary database, corresponding changes are made automatically to the standby database.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p></p>
                     <div class="infoboxnote" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-34E39F48-BBFC-4943-A3C9-01C2DF0DDC91">
                        <p class="notep1">Note:</p>
                        <p>Review the initialization parameter file for additional parameters that may need to be modified. For example, you may need to modify the dump destination parameters if the directory location on the standby database is different from those specified on the primary database.</p>
                     </div>
                  </div>
               </div><a id="SBYDB4721"></a><div class="props_rev_3"><a id="GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" name="GUID-0379019D-0995-4EB7-8861-B07B708C7B4C"></a><h4 id="SBYDB-GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" class="sect4"><span class="enumeration_section">3.1.5 </span>Enable Archiving
                  </h4>
                  <div>
                     <p>If archiving is not enabled, then you must put the primary database in <code class="codeph">ARCHIVELOG</code> mode and enable automatic archiving.
                     </p>
                     <div class="section">
                        <p>Issue the following SQL statements:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE;
SQL&gt; STARTUP MOUNT;
SQL&gt; ALTER DATABASE ARCHIVELOG;
SQL&gt; ALTER DATABASE OPEN;
</pre><div class="infoboxnote" id="GUID-0379019D-0995-4EB7-8861-B07B708C7B4C__GUID-796FE0BE-43FE-49DC-8BDF-FF34AFC890A9">
                           <p class="notep1">Note:</p>The standby database must be in <code class="codeph">ARCHIVELOG</code> mode for standby redo log archival to be performed.
                        </div>
                        <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN008" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about archiving.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB5018"></a><a id="SBYDB00210"></a><div class="props_rev_3"><a id="GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF" name="GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF"></a><h3 id="SBYDB-GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF" class="sect3"><span class="enumeration_section">3.2 </span>Step-by-Step Instructions for Creating a Physical Standby Database
               </h3>
               <div>
                  <p>These are the tasks you perform to create a physical standby database. </p>
                  <p>The information in this topic is written at a level of detail that requires you to already have a thorough understanding of the following topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Database administrator authentication</p>
                     </li>
                     <li>
                        <p>Database initialization parameters</p>
                     </li>
                     <li>
                        <p>Managing redo logs, data files, and control files</p>
                     </li>
                     <li>
                        <p>Managing archived redo logs</p>
                     </li>
                     <li>
                        <p>Fast recovery areas</p>
                     </li>
                     <li>
                        <p>Oracle Net configuration</p>
                     </li>
                  </ul>
                  <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF__BACHCEHE" title="This is a task-oriented 2 column table that provides a link to sections in the chapter that describe how to create a physical standby database. Column 1 is the task. Column 2 is the database.">Table 3-1</a> provides a checklist of the tasks that you perform to create a physical standby database and the database or databases on which you perform each task.
                  </p>
                  <div class="tblformalwide" id="GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF__BACHCEHE">
                     <p class="titleintable">Table 3-1 Creating a Physical Standby Database</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Creating a Physical Standby Database" summary="This is a task-oriented 2 column table that provides a link to sections in the chapter that describe how to create a physical standby database. Column 1 is the task. Column 2 is the database. " width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d7102e1226">Task</th>
                              <th align="left" valign="bottom" width="50%" id="d7102e1229">Database</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1234" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" title="You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database.">Create a Backup Copy of the Primary Database Data Files</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1234 d7102e1229 ">
                                 <p>Primary</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1246" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" title="Create the control file for the standby database (the primary database does not have to be open, but it must at least be mounted).">Create a Control File for the Standby Database</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1246 d7102e1229 ">
                                 <p>Primary</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1258" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" title="Create a parameter file (PFILE) from the server parameter file (SPFILE) used by the primary database.">Create a Parameter File for the Standby Database</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1258 d7102e1229 ">
                                 <p>Primary</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1270" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" title="Ensure that all required directories are created. Use an operating system copy utility to copy binary files from the primary system to their correct locations on the standby system.">Copy Files from the Primary System to the Standby System</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1270 d7102e1229 ">
                                 <p>Primary</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1282" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" title="Set up the environment by creating a Windows-based service, a password file and an SPFILE, and setting up the Oracle Net environment.">Set Up the Environment to Support the Standby Database</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1282 d7102e1229 ">
                                 <p>Standby</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1294" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" title="These are the steps to start the physical standby database and Redo Apply.">Start the Physical Standby Database</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1294 d7102e1229 ">
                                 <p>Standby</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d7102e1306" headers="d7102e1226 ">
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" title="After you create the physical standby database and set up redo transport services, you may want to verify database modifications are being successfully transmitted from the primary database to the standby database.">Verify the Physical Standby Database Is Performing Properly</a></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d7102e1306 d7102e1229 ">
                                 <p>Standby</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="SBYDB4722"></a><div class="props_rev_3"><a id="GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" name="GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93"></a><h4 id="SBYDB-GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" class="sect4"><span class="enumeration_section">3.2.1 </span>Creating a Physical Standby Task 1: Create a Backup Copy of the Primary Database Data Files
                  </h4>
                  <div>
                     <p>You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database. </p>
                     <div class="section">
                        <p>You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database. Oracle recommends that you use the Recovery Manager utility (RMAN).</p>
                        <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV191" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information about performing a database backup operation.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4723"></a><div class="props_rev_3"><a id="GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" name="GUID-B471D788-AFD3-48B3-9709-D63C34DBC269"></a><h4 id="SBYDB-GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" class="sect4"><span class="enumeration_section">3.2.2 </span>Creating a Physical Standby Task 2: Create a Control File for the Standby Database
                  </h4>
                  <div>
                     <p>Create the control file for the standby database (the primary database does not have to be open, but it must at least be mounted).</p>
                     <div class="section">
                        <p>The following is an example of creating the control file for the standby database:</p><pre class="oac_no_warn" dir="ltr">SQL&gt;<a id="d7102e1483" class="indexterm-anchor"></a><a id="d7102e1487" class="indexterm-anchor"></a> ALTER DATABASE CREATE STANDBY CONTROLFILE AS '/tmp/boston.ctl';
</pre><p>The <code class="codeph">ALTER DATABASE</code> command designates the database that is to operate in the standby role; in this case, a database named <code class="codeph">boston</code>.
                        </p>
                        <p>You cannot use a single control file for both the primary and standby databases. They must each have their own file.</p>
                        <div class="infoboxnote" id="GUID-B471D788-AFD3-48B3-9709-D63C34DBC269__GUID-F79A72B2-361F-4CF6-B59F-1C56B77ACDB4">
                           <p class="notep1">Note:</p>
                           <p>If a control file backup is taken on the primary and restored on a standby (or vice versa), then the location of the snapshot control file on the restored system is configured to be the default. (The default value for the snapshot control file name is platform-specific and dependent on Oracle home.) Manually reconfigure it to the correct value using the RMAN <code class="codeph">CONFIGURE SNAPSHOT CONTROLFILE</code> command.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5019"></a><a id="SBYDB4724"></a><div class="props_rev_3"><a id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" name="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA"></a><h4 id="SBYDB-GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" class="sect4"><span class="enumeration_section">3.2.3 </span>Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database
                  </h4>
                  <div>
                     <p>Create a parameter file (PFILE) from the server parameter file (SPFILE) used by the primary database.</p>
                     <div class="section">
                        <p>Perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Issue a SQL statement such as the following:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PFILE='/tmp/initboston.ora' FROM SPFILE;
</pre><p>In <a href="creating-oracle-data-guard-physical-standby.html#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" title="Set up the environment by creating a Windows-based service, a password file and an SPFILE, and setting up the Oracle Net environment.">Set Up the Environment to Support the Standby Database</a>, you then create a server parameter file from this parameter file, after it has been modified to contain parameter values appropriate for use at the physical standby database.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Modify the parameter values in the parameter file created in the previous step. </span><div>
                              <p>Although most of the initialization parameter settings in the parameter file are also appropriate for the physical standby database, some modifications must be made.</p>
                              <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> shows, in bold typeface, the parameters created earlier on the primary that must be changed.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">
                        <p class="titleinexample">Example 3-1 Modifying Initialization Parameters for a Physical Standby Database</p><pre class="oac_no_warn" dir="ltr">.
.
.
DB_NAME=chicago
<span class="bold">DB_UNIQUE_NAME=boston</span>
LOG_ARCHIVE_CONFIG<a id="d7102e1617" class="indexterm-anchor"></a>='DG_CONFIG=(chicago,boston)'
<span class="bold">CONTROL_FILES='/arch1/boston/control1.ctl</span>', '<span class="bold">/arch2/boston/control2.ctl</span>'
<span class="bold">DB_FILE_NAME_CONVERT=</span><span class="bold">'/chicago/','/boston/'</span>
<span class="bold">LOG_FILE_NAME_CONVERT='/chicago/','/boston/'</span>
LOG_ARCHIVE_FORMAT=log%t_%s_%r.arc
<span class="bold">LOG_ARCHIVE_DEST_1=</span>
 'LOCATION=USE_DB_RECOVERY_FILE_DEST
<span class="bold">  VALID_FOR=(ALL_LOGFILES,ALL_ROLES) </span>
<span class="bold">  DB_UNIQUE_NAME=boston'</span>
<span class="bold">LOG_ARCHIVE_DEST_2=</span>
<span class="bold"> 'SERVICE=chicago </span><span class="bold">ASYNC</span>
<span class="bold">  VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) </span>
<span class="bold">  DB_UNIQUE_NAME=chicago'</span>
REMOTE_LOGIN_PASSWORDFILE=EXCLUSIVE
STANDBY_FILE_MANAGEMENT=AUTO
<span class="bold">FAL_SERVER=chicago</span>
.
.
.</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>Ensure the <code class="codeph">COMPATIBLE</code> initialization parameter is set to the same value on both the primary and standby databases. If the values differ, then redo transport services may be unable to transmit redo data from the primary database to the standby databases.
                        </p>
                        <p>It is always a good practice to use the <code class="codeph">SHOW PARAMETERS</code> command to verify no other parameters need to be changed.
                        </p>
                        <p>The following table provides a brief explanation about the parameter settings shown in <a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> that have different settings from the primary database.
                        </p>
                        <div class="tblformalwide" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__GUID-72D11A33-652F-4E6D-BC0C-07DB98F40D62">
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="This 2 column table describes each initialization parameter that was set in Example 3-3." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="34%" id="d7102e1685">Parameter</th>
                                    <th align="left" valign="bottom" width="66%" id="d7102e1688">Recommended Setting</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1693" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10242" target="_blank"><code class="codeph">DB_UNIQUE_NAME</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1693 d7102e1688 ">
                                       <p>Specify a unique name for this database. This name stays with the database and does not change even if the primary and standby databases reverse roles.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1703" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10021" target="_blank"><code class="codeph">CONTROL_FILES</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1703 d7102e1688 ">
                                       <p>Specify the path name for the control files on the standby database. <a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> shows how to do this for two control files. It is recommended that a second copy of the control file is available so an instance can be easily restarted after copying the good control file to the location of the bad control file.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1715" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10038" target="_blank"><code class="codeph">DB_FILE_NAME_CONVERT</code></a><a id="d7102e1721" class="indexterm-anchor"></a><a id="d7102e1725" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1715 d7102e1688 ">
                                       <p>Specify the path name and filename location of the primary database data files followed by the standby location. This parameter converts the path names of the primary database data files to the standby data file path names.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1733" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10098" target="_blank"><code class="codeph">LOG_FILE_NAME_CONVERT</code></a><a id="d7102e1739" class="indexterm-anchor"></a><a id="d7102e1743" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1733 d7102e1688 ">
                                       <p>Specify the location of the primary database online redo log files followed by the standby location. This parameter converts the path names of the primary database log files to the path names on the standby database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1751" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10086" target="_blank"><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1751 d7102e1688 ">
                                       <p>Specify where the redo data is to be archived. In <a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a>:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">LOG_ARCHIVE_DEST_1</code> archives redo data received from the primary database to archived redo log files in /arch1/boston/.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LOG_ARCHIVE_DEST_2</code> is currently ignored because this destination is valid only for the primary role. If a switchover occurs and this instance becomes the primary database, then it transmits redo data to the remote Chicago destination.
                                             </p>
                                          </li>
                                       </ul>
                                       <p><span class="bold">Note: </span>If a fast recovery area was configured (with the <code class="codeph">DB_RECOVERY_FILE_DEST</code> initialization parameter) and you have not explicitly configured a local archiving destination with the <code class="codeph">LOCATION</code> attribute, then Oracle Data Guard automatically uses the <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter (if it has not already been set) as the default destination for local archiving. Also, see <a href="LOG_ARCHIVE_DEST_n-parameter-attributes.html#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1" title="This is a list of the attributes for the LOG_ARCHIVE_DEST_n initialization parameter, (where n is an integer between 1 and 31)."> LOG_ARCHIVE_DEST_n Parameter Attributes</a> for complete information about <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="34%" id="d7102e1816" headers="d7102e1685 ">
                                       <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN10056" target="_blank"><code class="codeph">FAL_SERVER</code></a></p>
                                    </td>
                                    <td align="left" valign="top" width="66%" headers="d7102e1816 d7102e1688 ">
                                       <p>Specify the Oracle Net service name of the FAL server (typically this is the database running in the primary role). When the Boston database is running in the standby role, it uses the Chicago database as the FAL server from which to fetch (request) missing archived redo log files if Chicago is unable to automatically send the missing log files.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__GUID-99208921-F8CD-49ED-A89B-06CAC7F8004F">
                           <p class="notep1">Note:</p>
                           <p>Review the initialization parameter file for additional parameters that may need to be modified. For example, you may need to modify the dump destination parameters if the directory location on the standby database is different from those specified on the primary database.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4725"></a><div class="props_rev_3"><a id="GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" name="GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7"></a><h4 id="SBYDB-GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" class="sect4"><span class="enumeration_section">3.2.4 </span>Creating a Physical Standby Task 4: Copy Files from the Primary System to the Standby System
                  </h4>
                  <div>
                     <p>Ensure that all required directories are created. Use an operating system copy utility to copy binary files from the primary system to their correct locations on the standby system.</p>
                     <div class="section">
                        <p>The binary files to copy are as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Database backup created in <a href="creating-oracle-data-guard-physical-standby.html#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" title="You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database.">Create a Backup Copy of the Primary Database Data Files</a> 
                              </p>
                           </li>
                           <li>
                              <p>Stan<a id="d7102e1918" class="indexterm-anchor"></a><a id="d7102e1922" class="indexterm-anchor"></a>dby control file created in <a href="creating-oracle-data-guard-physical-standby.html#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" title="Create the control file for the standby database (the primary database does not have to be open, but it must at least be mounted).">Create a Control File for the Standby Database</a></p>
                           </li>
                           <li>
                              <p>Initialization parameter file created in <a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" title="Create a parameter file (PFILE) from the server parameter file (SPFILE) used by the primary database.">Create a Parameter File for the Standby Database</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4726"></a><div class="props_rev_3"><a id="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" name="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392"></a><h4 id="SBYDB-GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" class="sect4"><span class="enumeration_section">3.2.5 </span>Creating a Physical Standby Task 5: Set Up the Environment to Support the Standby Database
                  </h4>
                  <div>
                     <p>Set up the environment by creating a Windows-based service, a password file and an SPFILE, and setting up the Oracle Net environment.</p>
                     <div class="section">
                        <p>Perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>If the standby database is going to be hosted on a Windows system, then use the ORADIM utility to create a Windows service. For example: </span><div><pre class="oac_no_warn" dir="ltr">oradim &#x2013;NEW &#x2013;SID boston &#x2013;STARTMODE manual
</pre><p>The ORADIM utility automatically determines the username for which this service should be created and prompts for a password for that username (if that username needs a password). See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NTQRF05011" target="_blank"><span class="italic">Oracle Database Platform Guide for Microsoft Windows</span></a> for more information about using the ORADIM utility.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Copy the remote login password file from the primary database system to the standby database system. </span><div>
                              <p>This step is optional if operating system authentication is used for administrative users and if SSL is used for redo transport authentication. If not, then copy the remote login password file from the primary database to the appropriate directory on the physical standby database system.</p>
                              <p>Any subsequent changes to the password file on the primary are automatically propagated to the standby. Changes to a password file can include when administrative privileges (<code class="codeph">SYSDG</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSDBA</code>, and so on) are granted or revoked, and when passwords of any user with administrative privileges is changed. Updated password files must still be manually copied to far sync instances because far sync instances receive redo, but do not apply it. Once the password file is up-to-date at the far sync instance, the redo containing the password update at the primary is automatically propagated to any standby databases that are set up to receive redo from that far sync instance. The password file is updated on the standby when the redo is applied.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Configure and start a listener on the standby system if one is not already configured.</span><div>
                              <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG010" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide.</span></a></p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create Oracle Net service names. </span><div>
                              <p>On both the primary and standby systems, use Oracle Net Manager to create a network service name for the primary and standby databases that are to be used by redo transport services. The Net service names in this example are <code class="codeph">chicago</code> and <code class="codeph">boston</code>.
                              </p>
                              <p>The Oracle Net service name must resolve to a connect descriptor that uses the same protocol, host address, port, and service that you specified when you configured the listeners for the primary and standby databases. The connect descriptor must also specify that a dedicated server be used.</p>
                              <p>See the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=NETAG175" target="_blank"><span class="italic">Oracle Database Net Services Administrator's Guide</span></a> for more information about service names.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>On an idle standby database, use the SQL <code class="codeph">CREATE</code> statement to create a server parameter file for the standby database from the text initialization parameter file that was edited in Task 3. For example:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE SPFILE FROM PFILE='initboston.ora';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>If the primary database has a database encryption wallet, then copy it to the standby database system and configure the standby database to use this wallet.</span><div>
                              <div class="infoboxnote" id="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392__GUID-F01449D9-4D5B-4578-8D7B-AF51FFD8DF1C">
                                 <p class="notep1">Note:</p>
                                 <p>The database encryption wallet must be copied from the primary database system to each standby database system whenever the master encryption key is updated.</p>
                                 <p>Encrypted data in a standby database cannot be accessed unless the standby database is configured to point to a database encryption wallet or hardware security module that contains the current master encryption key from the primary database.</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="SBYDB4727"></a><div class="props_rev_3"><a id="GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" name="GUID-3D65210D-9FE5-490E-938E-57FC2E07A569"></a><h4 id="SBYDB-GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" class="sect4"><span class="enumeration_section">3.2.6 </span>Creating a Physical Standby Task 6: Start the Physical Standby Database
                  </h4>
                  <div>
                     <p>These are the steps to start the physical standby database and Redo Apply.</p>
                     <ol>
                        <li class="stepexpand"><span>On the standby database, issue the following SQL statement to start and mount the database:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; STARTUP MOUNT;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Restore the backup of the data files taken in <a href="creating-oracle-data-guard-physical-standby.html#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" title="You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database.">Create a Backup Copy of the Primary Database Data Files</a> and copied in <a href="creating-oracle-data-guard-physical-standby.html#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" title="Ensure that all required directories are created. Use an operating system copy utility to copy binary files from the primary system to their correct locations on the standby system.">Copy Files from the Primary System to the Standby System</a> on the standby system.</span></li>
                        <li class="stepexpand"><span>On the standby database, issue the following command to start Redo Apply:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DATABASE RECOVER MANAGED STANDBY DATABASE - 
&gt; DISCONNECT FROM SESSION;
</pre><p>The statement includes the <code class="codeph">DISCONNECT FROM SESSION</code> option so that Redo Apply runs in a background session. 
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="SBYDB4728"></a><div class="props_rev_3"><a id="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" name="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED"></a><h4 id="SBYDB-GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" class="sect4"><span class="enumeration_section">3.2.7 </span>Creating a Physical Standby Task 7: Verify the Physical Standby Database Is Performing Properly
                  </h4>
                  <div>
                     <p>After you create the physical standby database and set up redo transport services, you may want to verify database modifications are being successfully transmitted from the primary database to the standby database.</p>
                     <div class="section">
                        <p>On the standby database, query the <code class="codeph">V$DATAGUARD_PROCESS</code> view to verify that redo is being transmitted from the primary database and applied to the standby database.
                        </p><pre class="pre codeblock"><code>SQL&gt; SELECT ROLE, THREAD#, SEQUENCE#, ACTION FROM V$DATAGUARD_PROCESS;


ROLE                        THREAD#  SEQUENCE# ACTION
------------------------ ---------- ---------- ------------
RFS ping                          1          9 IDLE
recovery apply slave              0          0 IDLE
recovery apply slave              0          0 IDLE
managed recovery                  0          0 IDLE
recovery logmerger                1          9 APPLYING_LOG
RFS archive                       0          0 IDLE
RFS async                         1          9 IDLE</code></pre><p>The <code class="codeph">recovery logmerger</code> role shows that redo is being applied at the standby.
                        </p>
                        <div class="infoboxnote" id="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED__GUID-06BE2ED0-AC7E-44B3-9009-CEDDBB1D1F3F">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends that you use the <code class="codeph">V$DATAGUARD_PROCESS</code> view instead of the <code class="codeph">V$MANAGED_STANDBY</code> view, which is deprecated as of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1) and may be desupported in a future release.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="SBYDB4729"></a><div class="props_rev_3"><a id="GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC" name="GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC"></a><h3 id="SBYDB-GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC" class="sect3"><span class="enumeration_section">3.3 </span>Creating a Physical Standby: Post-Creation Steps
               </h3>
               <div>
                  <p>After the physical standby database is running, you can upgrade the data protection mode, and you can enable Flashback Database.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Upgrade the data protection mode</p>
                           <p><a href="oracle-data-guard-protection-modes.html#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE" title="Oracle Data Guard lets you set different data protection modes."> Oracle Data Guard Protection Modes </a> provides information about configuring the different data protection modes.
                           </p>
                        </li>
                        <li>
                           <p>Enable Flashback Database</p>
                           <p>Flashback Database removes the need to re-create the primary database after a failover. Flashback Database enables you to return a database to its state at a time in the recent past much faster than traditional point-in-time recovery, because it does not require restoring data files from backup nor the extensive application of redo data. You can enable Flashback Database on the primary database, the standby database, or both.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC__GUID-8F0493AE-E67B-4CEE-8C3F-3F33CCE172C6">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="examples-of-using-oracle-data-guard.html#GUID-1163448F-6B18-4A44-AA8D-7CDF0D1360FB" title="After a failover occurs, the original primary database can no longer participate in the Oracle Data Guard configuration until it is repaired and established as a standby database in the new configuration.">Converting a Failed Primary Into a Standby Database Using Flashback Database</a> and <a href="examples-of-using-oracle-data-guard.html#GUID-BAA5ED38-29A0-4E8D-8435-AA083D19C13E" title="If an error occurrs on the primary database in an Oracle Data Guard configuration in which the standby database is using real-time apply, then the same error is applied on the standby database. if Flashback Database is enabled, you can revert the primary and standby databases back to their pre-error condition.">Using Flashback Database After Issuing an Open Resetlogs Statement</a> for scenarios showing how to use Flashback Database in an Oracle Data Guard environment
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV71000" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about Flashback Database
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-7C55FE8A-50C3-4601-9ADA-98BE6D65F1DD" name="GUID-7C55FE8A-50C3-4601-9ADA-98BE6D65F1DD"></a><h3 id="SBYDB-GUID-7C55FE8A-50C3-4601-9ADA-98BE6D65F1DD" class="sect3"><span class="enumeration_section">3.4 </span>Using DBCA to Create a Data Guard Standby
               </h3>
               <div>
                  <p>The Database Configuration Assistant (DBCA) can also be used as a simple command-line method to create an Oracle Data Guard physical standby database.</p>
                  <div class="section">The DBCA command qualifier used to create the physical standby database is <code class="codeph">createDuplicateDB</code> . 
                     <p>DBCA can only be used to create standby databases for non-multitenant primary databases. In addition, this capability creates only single instance standby databases, not Oracle Real Application Clusters (Oracle RAC) databases. If required, the standby can then be converted to an Oracle RAC standby database, either manually or using Oracle Enterprise Manager Cloud Control. </p>
                     <p>The basic <code class="codeph">createDuplicateDB</code> command has the following syntax: 
                     </p><pre class="pre codeblock"><code>dbca -createDuplicateDB 
    -gdbName global_database_name 
    -primaryDBConnectionString easy_connect_string_to_primary
    -sid database_system_identifier
    [-createAsStandby 
        [-dbUniqueName db_unique_name_for_standby]]
    [-customScripts scripts_list]</code></pre><p>For more information about <code class="codeph">createDuplicateDB</code> options, including the use of custom scripts, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ADMIN-GUID-7F4B1A64-5B08-425A-A62E-854542B3FD4E" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a>.
                     </p>
                     <p>In the following two examples the primary database is <code class="codeph">chicago</code> and it resides on the primary system <code class="codeph">myprimary.domain</code>. Each example creates a physical standby on the system on which the command is executed, <code class="codeph">boston</code>. The <code class="codeph">initParams</code> parameter is used in the examples to show how other DBCA parameters can be used in the standby creation command. In these examples, <code class="codeph">initParams</code> is used to explicitly set the <code class="codeph">INSTANCE_NAME</code> of the standby to match the <code class="codeph">DB_UNIQUE_NAME</code>, <code class="codeph">boston</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This first example creates the standby database without any custom scripts being executed afterward.</p><pre class="pre codeblock"><code>dbca &#x2013;silent -createDuplicateDB -primaryDBConnectionString  myprimary.domain:1523/chicago.domain 
-gdbName chicago.domain -sid boston -initParams instance_name=boston &#x2013;createAsStandby</code></pre><pre class="pre codeblock"><code>Enter SYS user password:
Listener config step
33% complete
Auxiliary instance creation
66% complete
RMAN duplicate
100% complete
Look at the log file " /u01/app/oracle/product/12.2.0/dbhome_1/cfgtoollogs/dbca/chicago/chicago.log" for further details.
</code></pre><p>The following example is exactly the same as the previous example, except that it runs a SQL script named <code class="codeph">/tmp/test.sql</code> which can be used to perform post-creation operations.
                     </p><pre class="pre codeblock"><code>dbca -silent -createDuplicateDB -primaryDBConnectionString  myprimary.domain:1523/chicago.domain
-gdbName chicago.domain -sid boston -initParams instance_name=boston -createAsStandby  -customScripts /tmp/test.sql</code></pre><pre class="pre codeblock"><code>Enter SYS user password:

Listener config step
25% complete
Auxiliary instance creation
50% complete
RMAN duplicate
75% complete
Running Custom Scripts
100% complete
Look at the log file " /u01/app/oracle/product/12.2.0/dbhome_1/cfgtoollogs/dbca/chicago/chicago.log" for further details.</code></pre><div class="infoboxnote" id="GUID-7C55FE8A-50C3-4601-9ADA-98BE6D65F1DD__GUID-63C5A9DB-F02C-4A57-B495-D843724CE629">
                        <p class="notep1">Note:</p>Even though it is required to have a listener running on the physical standby system, it is not necessary to configure the Oracle Net service names for the databases on either system to execute these commands. In these examples, the Easy Connect naming method was used to create a connection to the primary database, <code class="codeph">Chicago</code>, to complete creation of the standby, <code class="codeph">Boston</code> .  Before adding the new standby to the Data Guard configuration you would first configure Oracle Net service name descriptors on both systems, as described in Step 4 in <a href="creating-oracle-data-guard-physical-standby.html#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" title="Set up the environment by creating a Windows-based service, a password file and an SPFILE, and setting up the Oracle Net environment.">Creating a Physical Standby Task 5: Set Up the Environment to Support the Standby Database</a>.
                     </div>
                     <p>When these commands complete without any errors, the physical standby <code class="codeph">Boston</code> is ready to be added to your Data Guard configuration. As part of adding it, you would need to define the Data Guard parameters in <code class="codeph">Chicago</code> and <code class="codeph">Boston</code> as shown in <a href="creating-oracle-data-guard-physical-standby.html#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" title="Create a parameter file (PFILE) from the server parameter file (SPFILE) used by the primary database.">Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database</a>. Optionally, if you have an Oracle Data Guard broker configuration, you could use the broker <code class="codeph">ADD DATABASE</code> command to add the new standby to your configuration (see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=DGBKR-GUID-EA723918-2509-4BBC-871B-163885DE3C73" target="_blank"><span><cite>Oracle Data Guard Broker</cite></span></a>).
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SBYDB5213"></a><div class="props_rev_3"><a id="GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69" name="GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69"></a><h3 id="SBYDB-GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69" class="sect3"><span class="enumeration_section">3.5 </span>Creating a Physical Standby of a CDB
               </h3>
               <div>
                  <p>You can create a physical standby of a multitenant container database (CDB) just as you can create a physical standby of a regular primary database.</p>
                  <p> The following are some of the behavioral differences to be aware of when you create and use a physical standby of a CDB:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you execute a switchover or failover operation, the entire CDB undergoes the role change. If you used the <code class="codeph">ENABLED_PDBS_ON_STANDBY</code> intialization parameter, then be aware of the possibility that not every PDB is present in both the primary and the standby databases.
                        </p>
                     </li>
                     <li>
                        <p>The database role is defined at the CDB level, not at the individual container level.</p>
                     </li>
                     <li>
                        <p>Any DDL related to role changes must be executed in the root container because a role is associated with an entire CDB. Individual pluggable databases (PDBs) do not have their own roles.</p>
                     </li>
                     <li>
                        <p>In a physical standby of a CDB, the syntax of SQL statements is generally the same as for noncontainer databases. However, the effect of some statements, including the following, may be different:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY</code> functions only in the root container; it is not allowed in a PDB.
                              </p>
                           </li>
                           <li>
                              <p>A role is associated with an entire CDB; individual PDBs do not have their own roles. Therefore, the following role change DDL associated with physical standbys affect the entire CDB: </p>
                              <p><code class="codeph">ALTER DATABASE SWITCHOVER TO target_db_name</code></p>
                              <p><code class="codeph">ALTER DATABASE ACTIVATE PHYSICAL STANDBY</code> 
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <code class="codeph">ALTER PLUGGABLE DATABASE [OPEN|CLOSE]</code> SQL statement is supported on the standby, provided you have already opened the root container. 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">ALTER PLUGGABLE DATABASE RECOVER</code> statement is not supported on the standby. (Standby recovery is always at the CDB level.)
                        </p>
                     </li>
                     <li>
                        <p>To administer a multitenant environment, you must have the <code class="codeph">CDB_DBA</code> role.
                        </p>
                     </li>
                     <li>
                        <p>Oracle recommends that the standby database have its own keystore.</p>
                     </li>
                     <li>
                        <p>In a multitenant environment, the redo must be shipped to the root container of the standby database. </p>
                        <p>The following is an example of how to determine whether redo is being shipped to the root container. Suppose your primary database has the following settings:</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_DEST_2='SERVICE=boston ASYNC VALID_FOR=(ONLINE_LOGFILES,
PRIMARY_ROLE) DB_UNIQUE_NAME=boston'
</pre><p>Redo is being shipped to <code class="codeph">boston</code>. The container ID (<code class="codeph">CON_ID</code>) for the root container is always 1, so you must make sure that the <code class="codeph">CON_ID</code> is 1 for the service <code class="codeph">boston</code>. To do this, check the service name in the <code class="codeph">tnsnames.ora</code> file. For example:
                        </p><pre class="oac_no_warn" dir="ltr">boston = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=boston-server)(PORT=1521))
(CONNECT_DATA=(SERVICE_NAME=boston.us.example.com))
</pre><p>The service name for <code class="codeph">boston</code> is <code class="codeph">boston.us.example.com</code>.
                        </p>
                        <p>On the standby database, query the <code class="codeph">CDB_SERVICES</code> view to determine the <code class="codeph">CON_ID</code>. For example:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT NAME, CON_ID FROM CDB_SERVICES;

NAME                                 CON_ID
---------------------------------------------
boston.us.example.com                 1
</pre><p>The query result shows that the <code class="codeph">CON_ID</code> for <code class="codeph">boston</code> is 1.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69__GUID-729D8B44-38CE-4544-8064-CB5B4464B758">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=CNCPT89249" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about CDBs
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=ASOAG10284" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about creating keystores
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="SBYDB5260"></a><div class="props_rev_3"><a id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" name="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2"></a><h3 id="SBYDB-GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" class="sect3"><span class="enumeration_section">3.6 </span>Creating a PDB in a Primary Database
               </h3>
               <div>
                  <p>In an Oracle Data Guard configuration, a pluggable database (PDB) on a primary database is created in the same way that a PDB on a regular database is created.</p>
                  <p>This topic lists key points about how Data Guard and the Oracle Multitenant option interact when any type of PDB creation is performed. For detailed information and examples, see My Oracle Support note 2049127.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>.
                  </p>
                  <p>The steps to create a PDB on a regular database are documented in the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=MULTI-GUID-C95E8613-C556-4818-BE64-B2129AC2F8A2" target="_blank"><span class="italic">Oracle Multitenant Administrator's Guide</span></a>. Before following those steps, be sure to read the following:
                  </p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can specify a subset of PDBs to be replicated on a physical standby of a multitenant container database (CDB). To do so, use the <code class="codeph">ENABLED_PDBS_ON_STANDBY</code> initialization parameter to specify a list of PDBs or use the <code class="codeph">STANDBYS</code> clause on the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement, or both. 
                        </p>
                        <p>The <code class="codeph">ENABLED_PDBS_ON_STANDBY</code> parameter (see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=REFRN-GUID-A2EC2381-D9C0-4612-87C9-A225C7BCE8C4" target="_blank">ENABLED_PDBS_ON_STANDBY</a>) is valid only on a physical standby; it is ignored by primary databases. (It can be set on a primary database for use if that database ever becomes a standby database.) It can be used to specify which PDBs should or should not be enabled on a physical standby database.&nbsp;If the parameter is not specified, then all PDBs in the CDB are created on the standby unless the <code class="codeph">STANDBYS</code> clause is used. 
                        </p>
                        <p>The <code class="codeph">STANDBYS</code> clause has no effect on whether recovery is later enabled or disabled. The <code class="codeph">STANDBYS</code> clause of the SQL <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement has the following syntax: 
                        </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE … STANDBYS={(<span class="variable" translate="no">'cdb_name', 'cdb_name', ...</span>) | NONE | ALL [EXCEPT (<span class="variable" translate="no">'cdb_name', 'cdb_name', ...</span>)]}</code></pre><ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph"><span class="codeinlineitalic">cdb_name</span></code> is the <code class="codeph">DB_UNIQUE_NAME</code> for the physical standbys in which the PDB is to be included.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NONE</code> excludes the PDB from being created in any of the standby CDBs. When a PDB is excluded from all standby CDBs, the PDB's data files are offline and marked as unnamed on all of the standby CDBs. Any new standby CDBs that are instantiated after the PDB has been created must disable the PDB for recovery explicitly to exclude it from the standby CDB. It is possible to enable a PDB on a standby CDB after it was excluded on that standby CDB.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL</code> (the default) includes the PDB being created in all standby CDBs.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EXCEPT <span class="codeinlineitalic">cdb_name</span></code> includes the PDB being created in all standby CDBs except for those CDBs listed in this clause by their <code class="codeph">DB_UNIQUE_NAME</code>.
                              </p>
                           </li>
                        </ul>
                        <p>When a list of CDB names is provided on the <code class="codeph">STANDBYS</code> clause, the list must be enclosed in parentheses and each name must be enclosed within single quotation marks. The value of <code class="codeph">DB_UNIQUE_NAME</code> can be up to 30 characters and is case insensitive. The following characters are valid in a database name: alphanumeric characters, underscore (_), number sign (#), and dollar sign ($).
                        </p>
                        <p>The standbys in the list must be pre-populated with the required files unless the PDB is being created from seed, or a local clone with the standby running Active Data Guard, or a remote clone using the <code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code> parameter.
                        </p>
                        <p></p>
                     </li>
                     <li>
                        <div class="p">When you create a PDB as a local clone from a different PDB or from the seed PDB within the same primary CDB, note the following:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When a new PDB is created from seed, the standby automatically instantiates the files.</p>
                              </li>
                              <li>
                                 <p>In an Active Data Guard environment, when a PDB is cloned in the same CDB, Data Guard automatically instantiates the files.</p>
                              </li>
                              <li>
                                 <p>In a non-Active Data Guard environment, when a PDB is cloned in the same CDB, use  the <code class="codeph">STANDBYS</code> clause on the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement and enable recovery later.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p></p>
                     </li>
                     <li>
                        <div class="p"> To automatically maintain standby databases when performing PDB remote clones or plugins, use the following initialization parameters:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code>—For use with remote cloning. Specifies the name of the database link used to clone the PDB at the primary.&nbsp; When the redo for the PDB clone operation is applied at the standby, it uses that database link to connect to the source database to repeat the clone process to the destination standby database. This parameter is available only in Active Data Guard because it accesses the database dictionary for specific information about the link.
                                 </p>
                                 <p>The source PDB for the cloning operation must be in read only mode for the duration of both the clone to the primary and the clone to the standby. </p>
                                 <p>On remote clones that do <span class="italic">not</span> use the <code class="codeph">STANDBY_PDB_SOURCE_FILE_DBLINK</code> parameter, the SQL <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement used to create the PDB must use the <code class="codeph">STANDBYS=NONE</code> clause.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">STANDBY_PDB_SOURCE_FILE_DIRECTORY</code>—For use with plugins. Specifies the directory location where files of a PDB being used for repeated plugins are stored.&nbsp; When the redo for the PDB plugin operation is applied at the standby, it searches the directory location for the data files and after finding them, copies them to the location the standby requires them to be based on the settings of the <code class="codeph">DB_CREATE_FILE_DEST</code> and <code class="codeph">DB_FILE_NAME_CONVERT</code> parameters.
                                 </p>
                                 <div class="infoboxnote" id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2__GUID-A55C24FE-9EC1-4E74-81B4-D761B10ED658">
                                    <p class="notep1">Note:</p>The files must be image copies of the source PDB data files. The copies should be created after creation of the manifest XML file for the source PDB.
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <p>These parameters should be reset after they have been used and are no longer needed. There is no runtime impact from setting and resetting these parameters because doing so does not require that instances be restarted.</p>
                        <p>See My Oracle Support note  2274735.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for detailed information about using these parameters.
                        </p>
                     </li>
                     <li>
                        <p>To create a PDB from an XML file, copy the data files specified in the XML file to the standby database.</p>
                        <p>When a PDB is plugged into a primary database from an XML file, all standby databases in the configuration must be given access to the source PDB's files. (The only exceptions to this are standbys that have recovery deferred by use of either the <code class="codeph">STANDBYS</code> clause on the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement or the <code class="codeph">ENABLED_PDBS_ON_STANDBY</code> initialization parameter.)  
                        </p>
                        <p>To provide standbys in the configuration with access to the source PDB's files, either use the <code class="codeph">STANDBY_PDB_SOURCE_FILE_DIRECTORY</code> initialization parameter or copy the files of the source PDB to the standby site, typically the same set of PDB files that are to be plugged into the primary database. The files should be copied to the standby prior to the plugin operation being performed at the primary to minimize disruptions to managed standby recovery. Ensure the files are copied to the appropriate location at the standby where managed standby recovery can find them, as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If data files reside in standard operating system file systems, then the location of the files at the standby database are based on the value of the <code class="codeph">DB_FILE_NAME_CONVERT</code> parameter. For more details about setting primary database initialization parameters, see <a href="creating-oracle-data-guard-physical-standby.html#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" title="On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role.">Set Primary Database Initialization Parameters</a></p>
                           </li>
                           <li>
                              <p>If data files reside in ASM, then use the ASMCMD utility to copy the files to the following location at the standby database:</p><pre class="oac_no_warn" dir="ltr"><code class="codeph"><span class="codeinlineitalic">db_create_file_dest</span></code>/<code class="codeph"><span class="codeinlineitalic">db_unique_name</span></code>/<code class="codeph"><span class="codeinlineitalic">GUID</span></code>/datafile
</pre><p>The <code class="codeph">GUID</code> parameter is the global unique identifier assigned to the PDB; once assigned, it does not change. To find the value of the <code class="codeph">GUID</code> parameter, query the <code class="codeph">V$CONTAINERS</code> view before unplugging the PDB from its original source container. The following example shows how to find the value of the <code class="codeph">GUID</code> parameter for the PDB whose PDB container ID in the source container is <code class="codeph">3</code>:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT guid
  FROM V$CONTAINERS
 WHERE con_id=3;
 
GUID
 
D98C12257A951FC4E043B623F00A7AF5
</pre><p>In this example, if the value of the <code class="codeph">DB_CREATE_FILE_DEST</code> parameter is <code class="codeph">+DATAFILE</code> and the value of the <code class="codeph">DB_UNIQUE_NAME</code> parameter is <code class="codeph">BOSTON</code>, then the data files are copied to:
                              </p><pre class="oac_no_warn" dir="ltr">+DATAFILE/BOSTON/D98C12257A951FC4E043B623F00A7AF5/datafile
</pre></li>
                        </ul>
                     </li>
                  </ul>
                  <p>The path name of the data files on the standby database must be the same as the resultant path name when you create the PDB on the primary, unless the <code class="codeph">DB_FILE_NAME_CONVERT</code> database initialization parameter has been configured on the standby. In that case, the path name of the data files on the standby database is the path name on the primary with <code class="codeph">DB_FILE_NAME_CONVERT</code> applied.
                  </p>
                  <div class="infoboxnotealso" id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2__GUID-2E301C1C-F712-488E-90EB-68248F5D0901">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=SQLRF55686" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the SQL statement <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13251.database-gateway-teradata-initialization-parameters.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Initialization Parameters</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-teradata-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T14:59:05-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96407-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="database-gateway-teradata-data-dictionary.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for Teradata User's Guide">
    <meta name="dcterms.isVersionOf" content="TGTEU">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-teradata-data-dictionary.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">  Initialization Parameters</li>
            </ol>
            <a id="GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA" name="GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA"></a><a id="TGTEU700"></a>
            
            <h2 id="TGTEU-GUID-56B7E4D7-1AC9-4131-9C57-99FCD84CF6FA" class="sect2"><span class="enumeration_appendix">D </span>  Initialization Parameters
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The Oracle database initialization parameters in the <code class="codeph">init.ora</code> file are distinct from gateway initialization parameters. Set the gateway parameters in the initialization parameter file using an agent-specific mechanism, or set them in the Oracle data dictionary using the <code class="codeph">DBMS_HS</code> package. <a id="d50028e36" class="indexterm-anchor"></a>The gateway initialization parameter file must be available when the gateway is started.
               </p>
               <p>The following topics contain a list of the gateway initialization parameters that can be set for each gateway and their description. The topics also describe the initialization parameter file syntax:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-C38B911C-9727-432D-8F47-C5E9B51EDE8D">Initialization Parameter File Syntax</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-2F38FD5A-1B90-4044-9B57-0F8E76A4E9B1">Oracle Database Gateway for Teradata Initialization Parameters</a></p>
                  </li>
               </ul>
            </div><a id="TGTEU777"></a><div class="props_rev_3"><a id="GUID-C38B911C-9727-432D-8F47-C5E9B51EDE8D" name="GUID-C38B911C-9727-432D-8F47-C5E9B51EDE8D"></a><h3 id="TGTEU-GUID-C38B911C-9727-432D-8F47-C5E9B51EDE8D" class="sect3">Initialization Parameter File Syntax</h3>
               <div>
                  <p>The syntax for the initialization parameter file is as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The file is a sequence of commands.</p>
                     </li>
                     <li>
                        <p>Each command should start on a separate line.</p>
                     </li>
                     <li>
                        <p>End of line is considered a command terminator (unless escaped with a backslash).</p>
                     </li>
                     <li>
                        <p>If there is a syntax error in an initialization parameter file, none of the settings take effect.</p>
                     </li>
                     <li>
                        <p>Set the parameter values as follows:</p><pre class="oac_no_warn" dir="ltr">[SET][PRIVATE] <span class="italic">parameter</span>=<span class="italic">value</span>
</pre><p>Where:</p>
                        <p><span class="italic"><code class="codeph">parameter</code></span> is an initialization parameter name. It is a string of characters starting with a letter and consisting of letters, digits and underscores. Initialization parameter names are case sensitive.
                        </p>
                        <p><span class="italic"><code class="codeph">value</code></span> is the initialization parameter value. It is case sensitive. An initialization parameter value is either:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A string of characters that does not contain any backslashes, white space or double quotation marks (")</p>
                           </li>
                           <li>
                              <p>A quoted string beginning with a double quotation mark and ending with a double quotation mark. The following can be used inside a quoted string:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>backslash (\) is the escape character</p>
                                 </li>
                                 <li>
                                    <p>\n inserts a new line</p>
                                 </li>
                                 <li>
                                    <p>\t inserts a tab</p>
                                 </li>
                                 <li>
                                    <p>\" inserts a double quotation mark</p>
                                 </li>
                                 <li>
                                    <p>\\ inserts a backslash</p>
                                 </li>
                              </ul>
                              <p>A backslash at the end of the line continues the string on the next line. If a backslash precedes any other character then the backslash is ignored.</p>
                           </li>
                        </ul>
                        <p>For example, to enable tracing for an agent, set the <code class="codeph">HS_FDS_TRACE_LEVEL</code> initialization parameter as follows:
                        </p><pre class="oac_no_warn" dir="ltr"><a id="d50028e153" class="indexterm-anchor"></a>HS_FDS_TRACE_LEVEL=ON
</pre><p><code class="codeph">SET</code> and <code class="codeph">PRIVATE</code> are optional keywords. You cannot use either as an initialization parameter name. Most parameters are needed only as initialization parameters, so you usually do not need to use the <code class="codeph">SET</code> or <code class="codeph">PRIVATE</code> keywords. If you do not specify either <code class="codeph">SET</code> or <code class="codeph">PRIVATE</code>, the parameter is used only as an initialization parameter for the agent. 
                        </p>
                        <p><code class="codeph">SET</code> specifies that, in addition to being used as an initialization parameter, the parameter value is set as an environment variable for the agent process. Use <code class="codeph">SET</code> for parameter values that the drivers or non-Oracle system need as environment variables. 
                        </p>
                        <p><code class="codeph">PRIVATE</code> specifies that the initialization parameter should be private to the agent and should not be uploaded to the Oracle database. Most initialization parameters should not be private. If, however, you are storing sensitive information like a password in the initialization parameter file, then you may not want it uploaded to the server because the initialization parameters and values are not encrypted when uploaded. Making the initialization parameters private prevents the upload from happening and they do not appear in dynamic performance views. Use <code class="codeph">PRIVATE</code> for the initialization parameters only if the parameter value includes sensitive information such as a user name or password.
                        </p>
                        <p><code class="codeph">SET PRIVATE</code> specifies that the parameter value is set as an environment variable for the agent process and is also private (not transferred to the Oracle database, not appearing in dynamic performance views or graphical user interfaces).
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="TGTEU778"></a><div class="props_rev_3"><a id="GUID-2F38FD5A-1B90-4044-9B57-0F8E76A4E9B1" name="GUID-2F38FD5A-1B90-4044-9B57-0F8E76A4E9B1"></a><h3 id="TGTEU-GUID-2F38FD5A-1B90-4044-9B57-0F8E76A4E9B1" class="sect3">Oracle Database Gateway for Teradata Initialization Parameters</h3>
               <div>
                  <p>The initialization file parameters that can be set for the Oracle Database Gateway for Teradata are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8">HS_DB_DOMAIN </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-EDD14959-11CA-473A-BCC4-2B125AC2B3A8">HS_DB_INTERNAL_NAME </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-D08290CB-791C-4B95-A3F9-3D66D156708D">HS_DB_NAME </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-013E889E-EA7B-46C0-BD7D-FC80679DFCF0">HS_DESCRIBE_CACHE_HWM </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E">HS_LANGUAGE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-7CA4F700-4539-40D7-A4E1-44FB03C62742">HS_LONG_PIECE_TRANSFER_SIZE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-ACF3083C-C719-4632-8753-FAFA81314EF4">HS_FDS_TRANSACTION_ISOLATION</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-4503E5A3-67B1-47F8-A80E-907DD7E0F1EB">HS_OPEN_CURSORS  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-6C54CEAF-9567-4A87-8E85-16F4B6A36AF8">HS_RPC_FETCH_REBLOCKING  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-DF8C9A6B-13DB-4B12-8611-6CA2EF8705B8">HS_RPC_FETCH_SIZE  </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-510BDC6E-C5B8-4B72-9C23-29FD8157ACB0">HS_TIME_ZONE </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-BB426A9A-18C4-42FC-8B63-00A8C74FB0BD">HS_TRANSACTION_MODEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA">IFILE </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-DBA98566-83BE-4F75-8414-421AF53D97CC">HS_FDS_TIMESTAMP_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-542C4567-401B-4179-B65E-8F5115E018D3">HS_FDS_DATE_MAPPING</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-92DD5A68-BB68-4F6A-A827-269736BE9A71">HS_FDS_CONNECT_INFO</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-633870AE-C406-4F7A-88DF-FA57268B218E">HS_FDS_DEFAULT_OWNER</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77">HS_FDS_PROC_IS_FUNC</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-92E85665-F297-49F7-A890-2D7E082047E7">HS_FDS_RECOVERY_ACCOUNT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-D5824757-5962-4390-AAE9-6DD0F5D0A625">HS_FDS_RECOVERY_PWD</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-3A22053F-B192-4BF3-9B59-37AF55D510C0">HS_FDS_TRACE_LEVEL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-60678D9A-1FEB-4E00-BD58-2C12344F8616">HS_FDS_TRANSACTION_LOG</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-B8749B60-A732-47BD-80B0-D2403B78BBF6">HS_FDS_FETCH_ROWS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-30EC3A94-A763-41B5-9A94-E409C460D280">HS_IDLE_TIMEOUT</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-A65591F1-CACC-4F49-B470-EEB1F7C119F6">HS_NLS_LENGTH_SEMANTICS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-37029C90-769B-4F2A-8017-1AB7301D95E4">HS_KEEP_REMOTE_COLUMN_SIZE</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-752C716A-AA41-4C56-8780-A9236F064B73">HS_FDS_REMOTE_DB_CHARSET</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-825C590C-2B22-4FAA-A648-383395F98CB1">HS_FDS_SUPPORT_STATISTICS</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-teradata-initialization-parameters.html#GUID-0DC5EDD6-E86E-4CBC-BFB0-DAB851B213E1">HS_FDS_ARRAY_EXEC</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="TGTEU780"></a><div class="props_rev_3"><a id="GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8" name="GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8"></a><h3 id="TGTEU-GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8" class="sect3">HS_DB_DOMAIN </h3>
               <div>
                  <div class="tblformal" id="GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8__GUID-C816800F-DA05-4208-84F6-DC8305E9F32E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e414">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e417">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e422" headers="d50028e414 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e422 d50028e417 ">
                                 <p><code class="codeph">WORLD</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e430" headers="d50028e414 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e430 d50028e417 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">199</code> characters
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique network sub-address for a non-Oracle system. The <code class="codeph">HS_DB_DOMAIN</code> initialization parameter is similar to the <code class="codeph">DB_DOMAIN</code> initialization parameter, described in the <a href="../refrn/PARALLEL_MIN_PERCENT.html#REFRN10159" target="_blank"><span class="variable" translate="no">Oracle Database Reference</span></a>. The <code class="codeph">HS_DB_DOMAIN</code> initialization parameter is required if you use the Oracle Names server. The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters define the global name of the non-Oracle system.
                     </p>
                     <div class="infoboxnote" id="GUID-ABAF13CE-4EB3-4BD2-A4B1-A03433CDD7D8__GUID-F2E10B3B-931B-44E1-8A2C-6A5227B8241D">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters must combine to form a unique address in a cooperative server environment.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU781"></a><div class="props_rev_3"><a id="GUID-EDD14959-11CA-473A-BCC4-2B125AC2B3A8" name="GUID-EDD14959-11CA-473A-BCC4-2B125AC2B3A8"></a><h3 id="TGTEU-GUID-EDD14959-11CA-473A-BCC4-2B125AC2B3A8" class="sect3">HS_DB_INTERNAL_NAME </h3>
               <div>
                  <div class="tblformal" id="GUID-EDD14959-11CA-473A-BCC4-2B125AC2B3A8__GUID-835FB35D-655B-4421-8ABC-2C3A605884CC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e512">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e515">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e520" headers="d50028e512 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e520 d50028e515 ">
                                 <p><code class="codeph">01010101</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e528" headers="d50028e512 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e528 d50028e515 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">16</code> hexadecimal characters
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique hexadecimal number identifying the instance to which the Heterogeneous Services agent is connected. This parameter's value is used as part of a transaction ID when global name services are activated. Specifying a nonunique number can cause problems when two-phase commit recovery actions are necessary for a transaction.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU782"></a><div class="props_rev_3"><a id="GUID-D08290CB-791C-4B95-A3F9-3D66D156708D" name="GUID-D08290CB-791C-4B95-A3F9-3D66D156708D"></a><h3 id="TGTEU-GUID-D08290CB-791C-4B95-A3F9-3D66D156708D" class="sect3">HS_DB_NAME </h3>
               <div>
                  <div class="tblformal" id="GUID-D08290CB-791C-4B95-A3F9-3D66D156708D__GUID-51009491-8240-43FB-8E23-3D8813B345F6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e580">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e583">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e588" headers="d50028e580 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e588 d50028e583 ">
                                 <p><code class="codeph">HO</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e596" headers="d50028e580 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e596 d50028e583 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">8</code> characters
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies a unique alphanumeric name for the data store given to the non-Oracle system. This name identifies the <a id="d50028e610" class="indexterm-anchor"></a><a id="d50028e614" class="indexterm-anchor"></a>non-Oracle system within the cooperative server environment. The <code class="codeph">HS_DB_NAME</code> and <code class="codeph">HS_DB_DOMAIN</code> initialization parameters define the global name of the non-Oracle system. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU783"></a><div class="props_rev_3"><a id="GUID-013E889E-EA7B-46C0-BD7D-FC80679DFCF0" name="GUID-013E889E-EA7B-46C0-BD7D-FC80679DFCF0"></a><h3 id="TGTEU-GUID-013E889E-EA7B-46C0-BD7D-FC80679DFCF0" class="sect3">HS_DESCRIBE_CACHE_HWM </h3>
               <div>
                  <div class="tblformal" id="GUID-013E889E-EA7B-46C0-BD7D-FC80679DFCF0__GUID-B6D77669-DDD4-4F03-A8F6-E25C45CB765F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e662">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e665">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e670" headers="d50028e662 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e670 d50028e665 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e678" headers="d50028e662 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e678 d50028e665 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">4000</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d50028e690" class="indexterm-anchor"></a><a id="d50028e692" class="indexterm-anchor"></a>Specifies the maximum number of entries in the describe cache used by Heterogeneous Services. This limit is known as the <a id="d50028e697" class="indexterm-anchor"></a>describe cache high water mark. The cache contains descriptions of the mapped tables that Heterogeneous Services reuses so that it does not have to re-access the non-Oracle data store. 
                     </p>
                     <p>If you are accessing many mapped tables, increase the high water mark to improve performance. Increasing the high water mark improves performance at the cost of memory usage. </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU784"></a><div class="props_rev_3"><a id="GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E" name="GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E"></a><h3 id="TGTEU-GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E" class="sect3">HS_LANGUAGE  </h3>
               <div>
                  <div class="tblformal" id="GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E__GUID-023EF1DC-9692-4BE0-B7D5-823EC59594C9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e750">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e753">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e758" headers="d50028e750 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e758 d50028e753 ">
                                 <p>System-specific</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e765" headers="d50028e750 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e765 d50028e753 ">
                                 <p>Any valid language name (up to <code class="codeph">255</code> characters)
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Provides Heterogeneous Services with character set, language, and territory information of the non-Oracle data source. The value must use the following format:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">language</span>[_<span class="italic">territory</span>.<span class="italic">character_set</span>]</pre><div class="infoboxnote" id="GUID-E4826893-8171-4FB4-A19E-A5A8FD5D769E__GUID-DE9E4D86-11F4-4F1A-95F7-DF8ED07F362F">
                        <p class="notep1">Note:</p>
                        <p>The globalization support initialization parameters affect error messages, the data for the SQL Service, and parameters in distributed external procedures. </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="TGTEU785"></a><div class="props_rev_3"><a id="GUID-B2C592D9-A9DE-4128-9D91-C6E0673C4F41" name="GUID-B2C592D9-A9DE-4128-9D91-C6E0673C4F41"></a><h4 id="TGTEU-GUID-B2C592D9-A9DE-4128-9D91-C6E0673C4F41" class="sect4">Character Sets</h4>
                  <div>
                     <p>Ideally, the character sets of the Oracle database and the non-Oracle data source are the same. In almost all cases, <code class="codeph">HS_LANGUAGE</code> should be set exactly the same as Oracle database character set for optimal character set mapping and performance. If they are not the same, Heterogeneous Services attempts to translate the character set of the non-Oracle data source to the Oracle database character set, and back again. The translation can degrade performance. In some cases, Heterogeneous Services cannot translate a character from one character set to another.
                     </p>
                     <div class="infoboxnote" id="GUID-B2C592D9-A9DE-4128-9D91-C6E0673C4F41__GUID-301EF4EC-6849-4BEF-A604-7F9F6EA892DC">
                        <p class="notep1">Note:</p>
                        <p>The specified character set must be a superset of the operating system character set on the platform where the agent is installed.</p>
                     </div>
                     <p>As more Oracle databases and non-Oracle databases use Unicode as database character sets, it is preferable to also run the gateway in Unicode character set. To do so, you must set <code class="codeph">HS_LANGUAGE=AL32UTF8</code>. However, when the gateway runs on Windows, the Microsoft ODBC Driver Manager interface can exchange data only in the double-byte character set, UCS2. This results in extra ratio expansion of described buffer and column sizes. Refer to <a href="database-gateway-teradata-initialization-parameters.html#GUID-752C716A-AA41-4C56-8780-A9236F064B73">HS_FDS_REMOTE_DB_CHARSET</a> for instruction on how to adjust to correct sizes.
                     </p>
                  </div>
               </div><a id="TGTEU786"></a><div class="props_rev_3"><a id="GUID-8064217F-5D86-4DF0-9716-9F207F091703" name="GUID-8064217F-5D86-4DF0-9716-9F207F091703"></a><h4 id="TGTEU-GUID-8064217F-5D86-4DF0-9716-9F207F091703" class="sect4">Language</h4>
                  <div>
                     <p>The language component of the <code class="codeph">HS_LANGUAGE</code> initialization parameter determines:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Day and month names of dates</p>
                        </li>
                        <li>
                           <p>AD, BC, PM, and AM symbols for date and time</p>
                        </li>
                        <li>
                           <p>Default sorting mechanism</p>
                        </li>
                     </ul>
                     <p>Note that Oracle does not determine the language for error messages for the generic Heterogeneous Services messages (<code class="codeph">ORA-25000</code> through <code class="codeph">ORA-28000</code>). These are controlled by the session settings in the Oracle database.
                     </p>
                  </div>
               </div><a id="TGTEU787"></a><div class="props_rev_3"><a id="GUID-9252A16E-0BE5-4CB6-AA65-6E0D64A1413E" name="GUID-9252A16E-0BE5-4CB6-AA65-6E0D64A1413E"></a><h4 id="TGTEU-GUID-9252A16E-0BE5-4CB6-AA65-6E0D64A1413E" class="sect4">Territory</h4>
                  <div>
                     <p>The territory clause specifies the conventions for day and week numbering, default date format, decimal character and group separator, and ISO and local currency symbols. Note that the level of globalization support between the Oracle database and the non-Oracle data source depends on how the gateway is implemented.</p>
                  </div>
               </div>
            </div><a id="TGTEU788"></a><div class="props_rev_3"><a id="GUID-7CA4F700-4539-40D7-A4E1-44FB03C62742" name="GUID-7CA4F700-4539-40D7-A4E1-44FB03C62742"></a><h3 id="TGTEU-GUID-7CA4F700-4539-40D7-A4E1-44FB03C62742" class="sect3">HS_LONG_PIECE_TRANSFER_SIZE  </h3>
               <div>
                  <div class="tblformal" id="GUID-7CA4F700-4539-40D7-A4E1-44FB03C62742__GUID-254E46F2-A9B3-45B6-8FD4-623EA25D7DF9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e975">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e978">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e983" headers="d50028e975 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e983 d50028e978 ">
                                 <p><code class="codeph">64 KB</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e991" headers="d50028e975 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e991 d50028e978 ">
                                 <p>Any value up to <code class="codeph">2 GB</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Sets the size of the piece of <code class="codeph">LONG</code> data being transferred. A smaller piece size means less memory requirement, but more round-trips to fetch all the data. A larger piece size means fewer round-trips, but more of a memory requirement to store the intermediate pieces internally. Thus, the initialization parameter can be used to tune a system for the best performance, with the best trade-off between round-trips and memory requirements, and network latency or response time.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU789"></a><div class="props_rev_3"><a id="GUID-4503E5A3-67B1-47F8-A80E-907DD7E0F1EB" name="GUID-4503E5A3-67B1-47F8-A80E-907DD7E0F1EB"></a><h3 id="TGTEU-GUID-4503E5A3-67B1-47F8-A80E-907DD7E0F1EB" class="sect3">HS_OPEN_CURSORS  </h3>
               <div>
                  <div class="tblformal" id="GUID-4503E5A3-67B1-47F8-A80E-907DD7E0F1EB__GUID-2EA506E0-211A-49FD-94D6-E0E2701B7AAF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e1052">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e1055">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1060" headers="d50028e1052 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1060 d50028e1055 ">
                                 <p><code class="codeph">50</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1068" headers="d50028e1052 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1068 d50028e1055 ">
                                 <p><code class="codeph">1</code> to the value of Oracle's <code class="codeph">OPEN_CURSORS</code> initialization parameter
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Defines the maximum number of cursors that can be open on one connection to a non-Oracle system instance.</p>
                     <p>The value never exceeds the number of open cursors in the Oracle database. Therefore, setting the same value as the <code class="codeph">OPEN_CURSORS</code> initialization parameter in the Oracle database is recommended.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU790"></a><div class="props_rev_3"><a id="GUID-6C54CEAF-9567-4A87-8E85-16F4B6A36AF8" name="GUID-6C54CEAF-9567-4A87-8E85-16F4B6A36AF8"></a><h3 id="TGTEU-GUID-6C54CEAF-9567-4A87-8E85-16F4B6A36AF8" class="sect3">HS_RPC_FETCH_REBLOCKING  </h3>
               <div>
                  <div class="tblformal" id="GUID-6C54CEAF-9567-4A87-8E85-16F4B6A36AF8__GUID-9244E1DB-F65D-4479-B558-CA613999382A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e1133">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e1136">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1141" headers="d50028e1133 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1141 d50028e1136 ">
                                 <p><code class="codeph">ON</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1149" headers="d50028e1133 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1149 d50028e1136 ">
                                 <p><code class="codeph">OFF</code> or <code class="codeph">ON</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Controls whether Heterogeneous Services attempts to optimize performance of data transfer between the Oracle database and the Heterogeneous Services agent connected to the non-Oracle data store.</p>
                     <p>The following values are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OFF</code> disables reblocking of fetched data so that data is immediately sent from agent to server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code> enables reblocking, which means that data fetched from the non-Oracle system is buffered in the agent and is not sent to the Oracle database until the amount of fetched data is equal or higher than the value of <code class="codeph">HS_RPC_FETCH_SIZE</code> initialization parameter. However, any buffered data is returned immediately when a fetch indicates that no more data exists or when the non-Oracle system reports an error.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU791"></a><div class="props_rev_3"><a id="GUID-DF8C9A6B-13DB-4B12-8611-6CA2EF8705B8" name="GUID-DF8C9A6B-13DB-4B12-8611-6CA2EF8705B8"></a><h3 id="TGTEU-GUID-DF8C9A6B-13DB-4B12-8611-6CA2EF8705B8" class="sect3">HS_RPC_FETCH_SIZE  </h3>
               <div>
                  <div class="tblformal" id="GUID-DF8C9A6B-13DB-4B12-8611-6CA2EF8705B8__GUID-F97DCE12-9C47-43F1-9774-9197F3B40EAB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table desdribes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e1224">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e1227">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1232" headers="d50028e1224 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1232 d50028e1227 ">
                                 <p><code class="codeph">50000</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1240" headers="d50028e1224 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1240 d50028e1227 ">
                                 <p><code class="codeph">1</code> to <code class="codeph">10000000</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Tunes internal data buffering to optimize the data transfer rate between the server and the agent process. </p>
                     <p>Increasing the value can reduce the number of network round-trips needed to transfer a given amount of data, but also tends to increase data bandwidth and to reduce latency as measured between issuing a query and completion of all fetches for the query. Nevertheless, increasing the fetch size can increase latency for the initial fetch results of a query, because the first fetch results are not transmitted until additional data is available.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU792"></a><div class="props_rev_3"><a id="GUID-510BDC6E-C5B8-4B72-9C23-29FD8157ACB0" name="GUID-510BDC6E-C5B8-4B72-9C23-29FD8157ACB0"></a><h3 id="TGTEU-GUID-510BDC6E-C5B8-4B72-9C23-29FD8157ACB0" class="sect3">HS_TIME_ZONE </h3>
               <div>
                  <div class="tblformal" id="GUID-510BDC6E-C5B8-4B72-9C23-29FD8157ACB0__GUID-07318951-41E3-4ED5-8817-D8F8FCD4551D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e1298">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e1301">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1306" headers="d50028e1298 ">
                                 <p>Default value for '[+|-]hh:mm'</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1306 d50028e1301 ">
                                 <p>Derived from the <code class="codeph">NLS_TERRITORY</code> initialization parameter
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1316" headers="d50028e1298 ">
                                 <p>Range of values for '[+|-]hh:mm'</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1316 d50028e1301 ">
                                 <p>Any valid datetime format mask</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the default local time zone displacement for the current SQL session. The format mask, [+|-]hh:mm, is specified to indicate the hours and minutes before or after UTC (Coordinated Universal Time—formerly Greenwich Mean Time). For example:</p><pre class="oac_no_warn" dir="ltr">HS_TIME_ZONE = [+ | -] hh:mm</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU793"></a><div class="props_rev_3"><a id="GUID-BB426A9A-18C4-42FC-8B63-00A8C74FB0BD" name="GUID-BB426A9A-18C4-42FC-8B63-00A8C74FB0BD"></a><h3 id="TGTEU-GUID-BB426A9A-18C4-42FC-8B63-00A8C74FB0BD" class="sect3">HS_TRANSACTION_MODEL</h3>
               <div>
                  <div class="tblformal" id="GUID-BB426A9A-18C4-42FC-8B63-00A8C74FB0BD__GUID-493C9A94-E3D3-4111-A187-B30C4AC21A6D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_TRANSACTION_MODEL" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e1365">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e1368">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1373" headers="d50028e1365 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1373 d50028e1368 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1381" headers="d50028e1365 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1381 d50028e1368 ">
                                 <p><code class="codeph">COMMIT_CONFIRM</code>, <code class="codeph">READ_ONLY</code>, <code class="codeph">SINGLE_SITE</code>, <code class="codeph">READ_ONLY_AUTOCOMMIT</code>, <code class="codeph">SINGLE_SITE_AUTOCOMMIT</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the type of transaction model that is used when the non-Oracle database is updated by a transaction.</p>
                     <p>The following values are possible:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMMIT_CONFIRM</code> provides read and write access to the non-Oracle database and allows the gateway to be part of a distributed update. To use the commit-confirm model, the following items must be created in the non-Oracle database:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Transaction log table. The default table name is <code class="codeph">HS_TRANSACTION_LOG</code>. A different name can be set using the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> parameter. The transaction log table must be granted <code class="codeph">SELECT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code> privileges set to public.
                                 </p>
                              </li>
                              <li>
                                 <p>Recovery account. The account name is assigned with the <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> parameter.
                                 </p>
                              </li>
                              <li>
                                 <p>Recovery account password. The password is assigned with the <code class="codeph">HS_FDS_RECOVERY_PWD</code> parameter.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY</code> provides read access to the non-Oracle database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE</code> provides read and write access to the non-Oracle database. However, the gateway cannot participate in distributed updates.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY_AUTOCOMMIT</code> provides read only access to the non-Oracle database that does not use logging.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE_AUTOCOMMIT</code>  provides read and write access to the non-Oracle database without logging. The gateway cannot participate in distributed updates. Moreover, any update to the non-Oracle database is committed immediately.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU794"></a><div class="props_rev_3"><a id="GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA" name="GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA"></a><h3 id="TGTEU-GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA" class="sect3">IFILE </h3>
               <div>
                  <div class="tblformal" id="GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA__GUID-5D92FB65-E46A-4B19-8119-0844BD54E8F9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes a parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d50028e1504">Property</th>
                              <th align="left" valign="bottom" width="74%" id="d50028e1507">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1512" headers="d50028e1504 ">
                                 <p>Default value</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1512 d50028e1507 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d50028e1519" headers="d50028e1504 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d50028e1519 d50028e1507 ">
                                 <p>Valid parameter file names</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Use the <code class="codeph">IFILE</code> initialization parameter to embed another initialization file within the current initialization file. The value should be an absolute path and should not contain environment variables. The three levels of nesting limit do not apply.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A53E8406-90F0-40C6-88AA-F90EC9294FAA__GUID-732B53BA-9ABC-4A43-8485-C9B34B257621">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/IFILE.html#REFRN10070" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU865"></a><div class="props_rev_3"><a id="GUID-DBA98566-83BE-4F75-8414-421AF53D97CC" name="GUID-DBA98566-83BE-4F75-8414-421AF53D97CC"></a><h3 id="TGTEU-GUID-DBA98566-83BE-4F75-8414-421AF53D97CC" class="sect3">HS_FDS_TIMESTAMP_MAPPING</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DBA98566-83BE-4F75-8414-421AF53D97CC__GUID-3AC17F41-9D0A-4AD1-AA42-41C214DD9B2E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="initialization parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e1577">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e1580">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1585" headers="d50028e1577 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1585 d50028e1580 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1593" headers="d50028e1577 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1593 d50028e1580 ">
                                 <p><code class="codeph">CHAR</code>|<code class="codeph">DATE</code>|<code class="codeph">TIMESTAMP</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1607" headers="d50028e1577 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1607 d50028e1580 ">
                                 <p><code class="codeph">HS_FDS_TIMESTAMP_MAPPING={</code><span class="italic"><code class="codeph">CHAR|DATE|TIMESTAMP}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">CHAR</code> ,  then non-Oracle target timestamp would be mapped to <code class="codeph">CHAR(26)</code>. If set to <code class="codeph">DATE</code> (default), then non-Oracle target timestamp would be mapped to Oracle <code class="codeph">DATE</code>. If set to <code class="codeph">TIMESTAMP</code>,  then non-Oracle target timestamp would be mapped to Oracle <code class="codeph">TIMESTAMP</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU866"></a><div class="props_rev_3"><a id="GUID-542C4567-401B-4179-B65E-8F5115E018D3" name="GUID-542C4567-401B-4179-B65E-8F5115E018D3"></a><h3 id="TGTEU-GUID-542C4567-401B-4179-B65E-8F5115E018D3" class="sect3">HS_FDS_DATE_MAPPING</h3>
               <div>
                  <div class="tblformal" id="GUID-542C4567-401B-4179-B65E-8F5115E018D3__GUID-B9E275A0-FA77-4D07-824B-37D6752D8797">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e1677">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e1680">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1685" headers="d50028e1677 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1685 d50028e1680 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1693" headers="d50028e1677 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1693 d50028e1680 ">
                                 <p><code class="codeph">DATE</code>|<code class="codeph">CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1704" headers="d50028e1677 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1704 d50028e1680 ">
                                 <p><code class="codeph">HS_FDS_DATE_MAPPING={</code><span class="italic"><code class="codeph">DATE|CHAR}</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">CHAR</code>, then non-oracle target date would be mapped to <code class="codeph">CHAR(10)</code>. If set to <code class="codeph">DATE</code>, then non-Oracle target date would be mapped to Oracle date.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU795"></a><div class="props_rev_3"><a id="GUID-92DD5A68-BB68-4F6A-A827-269736BE9A71" name="GUID-92DD5A68-BB68-4F6A-A827-269736BE9A71"></a><h3 id="TGTEU-GUID-92DD5A68-BB68-4F6A-A827-269736BE9A71" class="sect3">HS_FDS_CONNECT_INFO</h3>
               <div>
                  <div class="tblformal" id="GUID-92DD5A68-BB68-4F6A-A827-269736BE9A71__GUID-6737FFC7-AAE6-453F-98B9-35B499636154">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_CONNECT_INFO" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e1768">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e1771">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e1776" headers="d50028e1768 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e1776 d50028e1771 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e1783" headers="d50028e1768 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e1783 d50028e1771 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_CONNECT_INFO</code> that describes the connection to the non-Oracle system.
                     </p>
                     <p>The default initialization parameter file already has an entry for this parameter. The syntax for <code class="codeph">HS_FDS_CONNECT_INFO</code> for the gateway is as follows:
                     </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=<span class="italic">host_alias</span>:<span class="italic">port_number</span>[/<span class="italic">database_name</span>]
</pre><p>where, <span class="italic"><code class="codeph">host_alias</code></span> is the host alias name or IP address of the machine hosting the Teradata database, <span class="italic"><code class="codeph">port_number</code></span> is the port number of the Teradata database server, and <span class="italic"><code class="codeph">database_name</code></span> is the Teradata database name. The <span class="italic"><code class="codeph">database_name</code></span> variable is optional.
                     </p>
                     <p>This release supports IPv6 format, so you can enter IPv6 format in place of <code class="codeph">hostname</code>, but you need to wrap square brackets around the IPv6 specification.
                     </p>
                     <p>For example,</p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=[2001:0db8:20c:f1ff:fec6:38af]:port_number/…
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU796"></a><div class="props_rev_3"><a id="GUID-633870AE-C406-4F7A-88DF-FA57268B218E" name="GUID-633870AE-C406-4F7A-88DF-FA57268B218E"></a><h3 id="TGTEU-GUID-633870AE-C406-4F7A-88DF-FA57268B218E" class="sect3">HS_FDS_DEFAULT_OWNER</h3>
               <div>
                  <div class="tblformal" id="GUID-633870AE-C406-4F7A-88DF-FA57268B218E__GUID-05BCD51D-1E29-4DB3-ACA5-8231577C5C01">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_DEFAULT_OWNER" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e1880">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e1883">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e1888" headers="d50028e1880 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e1888 d50028e1883 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e1895" headers="d50028e1880 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e1895 d50028e1883 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The name of the table owner that is used for the non-Oracle database tables if an owner is not specified in the SQL statements.</p>
                     <div class="infoboxnote" id="GUID-633870AE-C406-4F7A-88DF-FA57268B218E__GUID-E2B96A96-0E93-4220-A5B5-25D0421C4E8C">
                        <p class="notep1">Note:</p>
                        <p>If this parameter is not specified and the owner is not explicitly specified in the SQL statement, then the user name of the Oracle user or the user name specified when creating the database link is used.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-ACF3083C-C719-4632-8753-FAFA81314EF4" name="GUID-ACF3083C-C719-4632-8753-FAFA81314EF4"></a><h3 id="TGTEU-GUID-ACF3083C-C719-4632-8753-FAFA81314EF4" class="sect3">HS_FDS_TRANSACTION_ISOLATION</h3>
               <div>
                  <div class="tblformal" id="GUID-ACF3083C-C719-4632-8753-FAFA81314EF4__GUID-65FD204B-8290-4DA9-9CD5-689A08A577D9">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter properties and descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e1964">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e1967">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1972" headers="d50028e1964 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1972 d50028e1967 ">
                                 <p><code class="codeph">SERIALIZABLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1980" headers="d50028e1964 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1980 d50028e1967 ">
                                 <p>{<code class="codeph">READ_UNCOMMITTED READ_COMMITTED REPEATABLE_READ SERIALIZABLE</code>}
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e1990" headers="d50028e1964 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e1990 d50028e1967 ">
                                 <p><code class="codeph">HS_FDS_ISOLATION_LEVEL={{READ_UNCOMMITTED|READ_COMMITTED|REPEATABLE_READ|SERIALIZABLE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_TRANSACTION_ISOLATION</code> specifies the isolation level that is used for  the transaction that the gateway opens on the non-Oracle database. 
                     </p>
                     <p>The isolation levels of <code class="codeph">READ_UNCOMMITTED</code>, <code class="codeph">READ_COMMITTED</code>, <code class="codeph">REPEATABLE_READ</code>, and <code class="codeph">SERIALIZABLE</code> are the four isolation levels defined in the SQL standard and adopted by both ANSI and ISO/IEC. For additional information regarding them, see <a href="../cncpt/data-concurrency-and-consistency.html#CNCPT-GUID-7F2C6927-5482-4144-B43B-5E90EF4E055B" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a>.
                     </p>
                     <p>Use caution when specifying an isolation level lower than the Oracle transaction isolation level being used, as the gateway transaction will have different Preventable Read Phenomena from what will occur in the Oracle database transaction.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU862"></a><div class="props_rev_3"><a id="GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77" name="GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77"></a><h3 id="TGTEU-GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77" class="sect3">HS_FDS_PROC_IS_FUNC</h3>
               <div>
                  <div class="tblformal" id="GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77__GUID-5F78B8ED-9D4B-40AD-8983-BB97DB28E572">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_PROC_IS_FUNC" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2066">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2069">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2074" headers="d50028e2066 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2074 d50028e2069 ">
                                 <p><code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2082" headers="d50028e2066 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2082 d50028e2069 ">
                                 <p><code class="codeph">TRUE</code>, <code class="codeph">FALSE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Enables return values from functions. By default, all stored procedures and functions do not return a return value to the user.</p>
                     <div class="infoboxnote" id="GUID-0AD6E23D-5A44-4271-AA76-01502C8C1D77__GUID-8167E179-7DA2-4A8F-9423-8401479EE524">
                        <p class="notep1">Note:</p>
                        <p>If you set this initialization parameter, you must change the syntax of the procedure execute statement for all existing stored procedures to handle return values.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU797"></a><div class="props_rev_3"><a id="GUID-92E85665-F297-49F7-A890-2D7E082047E7" name="GUID-92E85665-F297-49F7-A890-2D7E082047E7"></a><h3 id="TGTEU-GUID-92E85665-F297-49F7-A890-2D7E082047E7" class="sect3">HS_FDS_RECOVERY_ACCOUNT</h3>
               <div>
                  <div class="tblformal" id="GUID-92E85665-F297-49F7-A890-2D7E082047E7__GUID-75D65518-66D0-441C-9308-BE9DDE63996D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_ACCOUNT" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2137">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2140">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2145" headers="d50028e2137 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2145 d50028e2140 ">
                                 <p><code class="codeph">RECOVER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2153" headers="d50028e2137 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2153 d50028e2140 ">
                                 <p>Any valid user ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the name of the recovery account used for the commit-confirm transaction model. An account with user name and password must be set up at the non-Oracle system. For more information about the commit-confirm model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                     <p>The name of the recovery account is case sensitive.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU798"></a><div class="props_rev_3"><a id="GUID-D5824757-5962-4390-AAE9-6DD0F5D0A625" name="GUID-D5824757-5962-4390-AAE9-6DD0F5D0A625"></a><h3 id="TGTEU-GUID-D5824757-5962-4390-AAE9-6DD0F5D0A625" class="sect3">HS_FDS_RECOVERY_PWD</h3>
               <div>
                  <div class="tblformal" id="GUID-D5824757-5962-4390-AAE9-6DD0F5D0A625__GUID-549BDD7D-6ABD-4951-87D8-A455931F8023">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_PWD" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2205">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2208">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2213" headers="d50028e2205 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2213 d50028e2208 ">
                                 <p><code class="codeph">RECOVER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2221" headers="d50028e2205 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2221 d50028e2208 ">
                                 <p>Any valid password</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the password of the recovery account used for the commit-confirm transaction model set up at the non-Oracle system. For more information about the commit-confirm model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                     <p>The name of the password of the recovery account is case sensitive.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU799"></a><div class="props_rev_3"><a id="GUID-3A22053F-B192-4BF3-9B59-37AF55D510C0" name="GUID-3A22053F-B192-4BF3-9B59-37AF55D510C0"></a><h3 id="TGTEU-GUID-3A22053F-B192-4BF3-9B59-37AF55D510C0" class="sect3">HS_FDS_TRACE_LEVEL</h3>
               <div>
                  <div class="tblformal" id="GUID-3A22053F-B192-4BF3-9B59-37AF55D510C0__GUID-92BAE638-2A0E-4B7B-8D9C-8F5843A31D1E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_RECOVERY_ACCOUNT" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2277">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2280">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2285" headers="d50028e2277 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2285 d50028e2280 ">
                                 <p><code class="codeph">OFF</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2293" headers="d50028e2277 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2293 d50028e2280 ">
                                 <p><code class="codeph">OFF</code>, <code class="codeph">ON</code>, <code class="codeph">DEBUG</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies whether <a id="d50028e2309" class="indexterm-anchor"></a>error tracing is turned on or off for gateway connectivity. 
                     </p>
                     <p>The following values are valid:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OFF</code> disables the tracing of error messages. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ON</code> enables the tracing of error messages that occur when you encounter problems. The results are written by default to a gateway log file in LOG directory where the gateway is installed.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DEBUG</code> enables the tracing of detailed error messages that can be used for debugging. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU800"></a><div class="props_rev_3"><a id="GUID-60678D9A-1FEB-4E00-BD58-2C12344F8616" name="GUID-60678D9A-1FEB-4E00-BD58-2C12344F8616"></a><h3 id="TGTEU-GUID-60678D9A-1FEB-4E00-BD58-2C12344F8616" class="sect3">HS_FDS_TRANSACTION_LOG</h3>
               <div>
                  <div class="tblformal" id="GUID-60678D9A-1FEB-4E00-BD58-2C12344F8616__GUID-4C9F1904-0278-4533-B815-D8E88D767EE4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="HS_FDS_TRANSACTION_LOG" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e2375">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e2378">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2383" headers="d50028e2375 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2383 d50028e2378 ">
                                 <p><code class="codeph">HS_TRANSACTION_LOG</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2391" headers="d50028e2375 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2391 d50028e2378 ">
                                 <p>Any valid table name</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Specifies the name of the table created in the non-Oracle system for logging transactions. For more information about the transaction model, see the <code class="codeph">HS_TRANSACTION_MODEL</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU854"></a><div class="props_rev_3"><a id="GUID-B8749B60-A732-47BD-80B0-D2403B78BBF6" name="GUID-B8749B60-A732-47BD-80B0-D2403B78BBF6"></a><h3 id="TGTEU-GUID-B8749B60-A732-47BD-80B0-D2403B78BBF6" class="sect3">HS_FDS_FETCH_ROWS</h3>
               <div>
                  <div class="tblformal" id="GUID-B8749B60-A732-47BD-80B0-D2403B78BBF6__GUID-1369ED39-0825-4CB5-A15F-92DAEDC8ED48">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="DRDA parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e2451">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e2454">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2459" headers="d50028e2451 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2459 d50028e2454 ">
                                 <p><code class="codeph">100</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2467" headers="d50028e2451 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2467 d50028e2454 ">
                                 <p>Any integer between <code class="codeph">1</code>&nbsp;and&nbsp;<code class="codeph">1000</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2479" headers="d50028e2451 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2479 d50028e2454 ">
                                 <p><code class="codeph">HS_FDS_FETCH_ROWS=</code><span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">HS_FDS_FETCH_ROWS</code> specifies the <a id="d50028e2494" class="indexterm-anchor"></a>fetch array size. This is the number of rows to be fetched from the non-Oracle database and to return to Oracle database at one time. This parameter will be affected by the <code class="codeph">HS_RPC_FETCH_SIZE</code> and <code class="codeph">HS_RPC_FETCH_REBLOCKING</code> parameters.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU853"></a><div class="props_rev_3"><a id="GUID-30EC3A94-A763-41B5-9A94-E409C460D280" name="GUID-30EC3A94-A763-41B5-9A94-E409C460D280"></a><h3 id="TGTEU-GUID-30EC3A94-A763-41B5-9A94-E409C460D280" class="sect3">HS_IDLE_TIMEOUT</h3>
               <div>
                  <div class="tblformal" id="GUID-30EC3A94-A763-41B5-9A94-E409C460D280__GUID-899B8C9D-CFE2-4376-B95E-DFC0C2646512">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Teradata parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e2541">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e2544">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2549" headers="d50028e2541 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2549 d50028e2544 ">
                                 <p>0 (no timeout)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2556" headers="d50028e2541 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2556 d50028e2544 ">
                                 <p>0-9999 (minutes)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2563" headers="d50028e2541 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2563 d50028e2544 ">
                                 <p><code class="codeph">HS_IDLE_TIMEOUT=</code><span class="italic"><code class="codeph">num</code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d50028e2575" class="indexterm-anchor"></a>This feature is only available for Oracle Net TCP protocol. When there is no activity for a connected gateway session for this specified time period, the gateway session would be terminated automatically with pending update (if any) rolled back.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU855"></a><div class="props_rev_3"><a id="GUID-A65591F1-CACC-4F49-B470-EEB1F7C119F6" name="GUID-A65591F1-CACC-4F49-B470-EEB1F7C119F6"></a><h3 id="TGTEU-GUID-A65591F1-CACC-4F49-B470-EEB1F7C119F6" class="sect3">HS_NLS_LENGTH_SEMANTICS</h3>
               <div>
                  <div class="tblformal" id="GUID-A65591F1-CACC-4F49-B470-EEB1F7C119F6__GUID-B7F15754-A52C-4410-9301-DBE93491ADC6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Teradata parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e2617">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e2620">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2625" headers="d50028e2617 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2625 d50028e2620 ">
                                 <p><code class="codeph">BYTE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2633" headers="d50028e2617 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2633 d50028e2620 ">
                                 <p><code class="codeph">BYTE | CHAR</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2641" headers="d50028e2617 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2641 d50028e2620 ">
                                 <p><code class="codeph">HS_NLS_LENGTH_SEMANTICS = { BYTE | CHAR }</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d50028e2650" class="indexterm-anchor"></a>This release of gateway has Character Semantics functionality equivalent to the Oracle Database Character Semantics, that is, <code class="codeph">NLS_LENGTH_SEMANTICS</code>. When <code class="codeph">HS_NLS_LENGTH_SEMANTICS</code> is set to <code class="codeph">CHAR</code>, the <code class="codeph">(VAR)CHAR</code> columns of Teradata are to be interpreted as having <code class="codeph">CHAR</code> semantics. The only situation the gateway does not honor the <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code> setting is when both Oracle database and the gateway are on the same multi-byte character set
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU856"></a><div class="props_rev_3"><a id="GUID-37029C90-769B-4F2A-8017-1AB7301D95E4" name="GUID-37029C90-769B-4F2A-8017-1AB7301D95E4"></a><h3 id="TGTEU-GUID-37029C90-769B-4F2A-8017-1AB7301D95E4" class="sect3">HS_KEEP_REMOTE_COLUMN_SIZE</h3>
               <div>
                  <div class="tblformal" id="GUID-37029C90-769B-4F2A-8017-1AB7301D95E4__GUID-0C123D16-FC47-444C-81AD-D69ADBC5EDA1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Teradata parameter" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d50028e2710">Property</th>
                              <th align="left" valign="bottom" width="67%" id="d50028e2713">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2718" headers="d50028e2710 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2718 d50028e2713 ">
                                 <p><code class="codeph">OFF</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2726" headers="d50028e2710 ">
                                 <p>Range of Values</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2726 d50028e2713 ">
                                 <p><code class="codeph">OFF | LOCAL | REMOTE |ALL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2734" headers="d50028e2710 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2734 d50028e2713 ">
                                 <p><code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE = OFF | LOCAL | REMOTE | ALL</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d50028e2742" headers="d50028e2710 ">
                                 <p>Parameter type</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d50028e2742 d50028e2713 ">
                                 <p>String</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d50028e2750" class="indexterm-anchor"></a><code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> specifies whether to suppress ratio expansion when computing the length of <code class="codeph">(VAR)CHAR</code> datatypes during data conversion from non-Oracle database to the gateway, and then to the Oracle database. When it is set to <code class="codeph">REMOTE</code>, the expansion is suppressed between the non-Oracle database and the gateway. When it is set to <code class="codeph">LOCAL</code>, the expansion is suppressed between the gateway and the Oracle database. When it is set to <code class="codeph">ALL</code>, the expansion is suppressed from the non-Oracle database to the Oracle database.
                     </p>
                     <p>When the parameter is set, the expansion is suppressed when reporting the remote column size, calculating the implicit resulting buffer size, and instantiating in the local Oracle database. This has effect only for remote column size from non-Oracle database to the Oracle database. If the gateway runs on Windows and <code class="codeph">HS_LANGUAGE=AL32UTF8</code>, then you must not specify this parameter, as it would influence other ratio related parameter operation. It has no effect for calculating ratio for data moving from Oracle database to non-Oracle database through gateway during <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU850"></a><div class="props_rev_3"><a id="GUID-752C716A-AA41-4C56-8780-A9236F064B73" name="GUID-752C716A-AA41-4C56-8780-A9236F064B73"></a><h3 id="TGTEU-GUID-752C716A-AA41-4C56-8780-A9236F064B73" class="sect3">HS_FDS_REMOTE_DB_CHARSET</h3>
               <div>
                  <div class="tblformal" id="GUID-752C716A-AA41-4C56-8780-A9236F064B73__GUID-B7D39876-250F-41C8-BE26-90BCBB3B068E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="initparam" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2819">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2822">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2827" headers="d50028e2819 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2827 d50028e2822 ">
                                 <p>None</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2834" headers="d50028e2819 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2834 d50028e2822 ">
                                 <p>Not applicable</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2841" headers="d50028e2819 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2841 d50028e2822 ">
                                 <p><code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This parameter is valid only when <code class="codeph">HS_LANGUAGE</code> is set to <code class="codeph">AL32UTF8</code> and the gateway runs on Windows. As more Oracle databases and non-Oracle databases use Unicode as database character sets, it is preferable to also run the gateway in Unicode character set. To do so, you must set <code class="codeph">HS_LANGUAGE=AL32UTF8</code>. However, when the gateway runs on Windows, the Microsoft ODBC Driver Manager interface can exchange data only in the double-byte character set, UCS2. This results in extra ratio expansion of described buffer and column sizes. To compensate, the gateway can re-adjust the column size if <code class="codeph">HS_FDS_REMOTE_DB_CHARSET</code> is set to the corresponding non-Oracle database character set. For example, <code class="codeph">HS_FDS_REMOTE_DB_CHARSET=KO16KSC5601</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU851"></a><div class="props_rev_3"><a id="GUID-825C590C-2B22-4FAA-A648-383395F98CB1" name="GUID-825C590C-2B22-4FAA-A648-383395F98CB1"></a><h3 id="TGTEU-GUID-825C590C-2B22-4FAA-A648-383395F98CB1" class="sect3">HS_FDS_SUPPORT_STATISTICS</h3>
               <div>
                  <div class="tblformal" id="GUID-825C590C-2B22-4FAA-A648-383395F98CB1__GUID-B98F3ABC-C0CD-496D-8B96-4672B0A7E4B3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2905">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2908">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2913" headers="d50028e2905 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2913 d50028e2908 ">
                                 <p><code class="codeph">TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2921" headers="d50028e2905 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2921 d50028e2908 ">
                                 <p><code class="codeph">{TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2929" headers="d50028e2905 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2929 d50028e2908 ">
                                 <p><code class="codeph">HS_FDS_SUPPORT_STATISTICS= {TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>We gather statistics from the non-Oracle database by default. You can choose to disable the gathering of remote database statistics by setting the <code class="codeph">HS_FDS_SUPPORT_STATISTICS</code> parameter to <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGTEU867"></a><div class="props_rev_3"><a id="GUID-0DC5EDD6-E86E-4CBC-BFB0-DAB851B213E1" name="GUID-0DC5EDD6-E86E-4CBC-BFB0-DAB851B213E1"></a><h3 id="TGTEU-GUID-0DC5EDD6-E86E-4CBC-BFB0-DAB851B213E1" class="sect3">HS_FDS_ARRAY_EXEC</h3>
               <div>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-0DC5EDD6-E86E-4CBC-BFB0-DAB851B213E1__GUID-408B48B3-7917-4D4F-A546-55ED23383ECE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="init param" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d50028e2984">Property</th>
                              <th align="left" valign="bottom" width="75%" id="d50028e2987">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e2992" headers="d50028e2984 ">
                                 <p>Default Value</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e2992 d50028e2987 ">
                                 <p><code class="codeph">TRUE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e3000" headers="d50028e2984 ">
                                 <p>Range of values</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e3000 d50028e2987 ">
                                 <p><code class="codeph">{TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d50028e3008" headers="d50028e2984 ">
                                 <p>Syntax</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d50028e3008 d50028e2987 ">
                                 <p><code class="codeph">HS_FDS_ARRAY_EXEC= {TRUE|FALSE}</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>If set to <code class="codeph">TRUE</code>, the gateway will use array operations for insert, update, delete statements containing binds against the remote data source. The array size is determined by the value of the <code class="codeph">HS_FDS_FETCH_ROWS</code> init parameter. 
                     </p>
                     <p>If set to <code class="codeph">FALSE</code>, the gateway will not use array operations for insert, update, and delete statements. Instead, a single statement will be issued for every value.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05486.introduction-to-the-multitenant-architecture.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Become familiar with the Oracle Multitenant option.">
      <meta name="description" content="Become familiar with the Oracle Multitenant option.">
      <title>Introduction to the Multitenant Architecture</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator’s Guide ">
      <meta property="og:description" content="Become familiar with the Oracle Multitenant option.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="multitenant-architecture.html" title="Previous" type="text/html">
      <link rel="next" href="overview-of-the-multitenant-architecture.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="multitenant-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="overview-of-the-multitenant-architecture.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="multitenant-architecture.html" property="item" typeof="WebPage"><span property="name">Multitenant Architecture </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Introduction to the Multitenant Architecture </li>
            </ol>
            <a id="GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" name="GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22"></a><a id="CNCPT89234"></a>
            
            <h2 id="MULTI-GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" class="sect2"><span class="enumeration_chapter">1 </span>Introduction to the Multitenant Architecture 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Become familiar with the <span class="bold">Oracle Multitenant</span> option.
               </p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1">About the Multitenant Architecture</a><br>The <strong class="term">multitenant architecture</strong> enables an Oracle database to function as a multitenant container database (CDB). 
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7">Benefits of the Multitenant Architecture</a><br>The multitenant architecture solves several problems posed by the traditional non-CDB architecture.
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-FDCD109B-1199-4250-802A-0F345D24F816">Path to Database Consolidation</a><br>For the duration of its existence, a database is either a CDB or a non-CDB. 
                  </li>
                  <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-345CDAD9-3D12-475F-82EC-FED2790F504A">Multitenant Environment Documentation Roadmap</a><br>This topic lists the most important topics for understanding and using CDBs, and includes cross-references to the appropriate documentation.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="multitenant-architecture.html#GUID-BBAD3448-8A5A-4397-BD3A-F05D945DB7F8" title="The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB).">Multitenant Architecture</a></p>
                  </div>
               </div>
            </div>
            <a id="CNCPT89235"></a><div class="props_rev_3"><a id="GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1" name="GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1"></a><h3 id="MULTI-GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1" class="sect3"><span class="enumeration_section">1.1 </span>About the Multitenant Architecture
               </h3>
               <div>
                  <p>The <strong class="term">multitenant architecture</strong> enables an Oracle database to function as a multitenant container database (CDB). 
                  </p>
                  <p>A <a href="glossary.html#GUID-135FF536-DE9B-40CF-9F42-C246762BD77F"><span class="xrefglossterm">CDB</span></a> includes zero, one, or many customer-created pluggable databases (PDBs). A <a href="glossary.html#GUID-D6932E25-775E-4FF1-BB08-F8999629093C"><span class="xrefglossterm">PDB</span></a> is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a <a href="glossary.html#GUID-B2710CAA-8F00-40B3-97AB-4521D2147EE8"><span class="xrefglossterm">non-CDB</span></a>. All Oracle databases before Oracle Database 12<span class="italic">c</span> were non-CDBs.
                  </p>
                  <p>
                     <div class="video-box">
                        <div id="11539" class="video-container"></div>
                     </div>
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8">About Containers in a CDB</a><br>A <strong class="term">container</strong> is logical collection of data or metadata within the multitenant architecture.
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06">About User Interfaces for the Multitenant Architecture</a><br>You can use the same administration tools for both CDBs and non-CDBs.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" title="Become familiar with the Oracle Multitenant option.">Introduction to the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89236"></a><div class="props_rev_3"><a id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8" name="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8"></a><h4 id="MULTI-GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8" class="sect4"><span class="enumeration_section">1.1.1 </span>About Containers in a CDB
                  </h4>
                  <div>
                     <p>A <strong class="term">container</strong> is logical collection of data or metadata within the multitenant architecture.
                     </p>
                     <p>The following figure represents possible containers in a CDB.</p>
                     <div class="figure" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-AC59A46D-EA55-420A-A148-32DE8A14F955">
                        <p class="titleinfigure">Figure 1-1 Containers in a CDB</p><img src="img/admin112.png" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/admin112.html"><br><a href="img_text/admin112.html">Description of "Figure 1-1 Containers in a CDB"</a></div>
                     <!-- class="figure" -->
                     <p>Every CDB has the following containers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exactly one CDB root container (also called simply <span class="italic">the root</span>)
                           </p>
                           <p>The <a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB root</span></a> is a collection of schemas, schema objects, and nonschema objects to which all PDBs belong (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-5C339A60-2163-4ECE-B7A9-4D67D3D894FB" title="A container is a collection of schemas, objects, and related structures in a multitenant container database (CDB). Within a CDB, each container has a unique ID and name.">Overview of Containers in a CDB</a>"</span>). The root stores Oracle-supplied metadata and common users. An example of metadata is the source code for Oracle-supplied PL/SQL packages (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a>"</span>). A common user is a database user known in every container (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-19337B94-645B-45E8-842C-762BBC544B13" title="Within the context of either the system container (CDB) or an application container, a common user is a database user that has the same identity in the root and in every existing and future PDB within this container.">Common Users in a CDB</a>"</span>). The root container is named <code class="codeph">CDB$ROOT</code>.
                           </p>
                        </li>
                        <li>
                           <p>Exactly one system container</p>
                           <p>The <a href="glossary.html#GUID-0E3286DF-A941-47D6-A2C8-333D9B4644B3"><span class="xrefglossterm">system container</span></a> includes the root CDB and all PDBs in the CDB. Thus, the system container is the logical container for the CDB itself.
                           </p>
                        </li>
                        <li>
                           <p>Zero or more application containers</p>
                           <p>An <a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">application container</span></a> consists of exactly one <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a>, and the PDBs plugged in to this root. Whereas the system container contains the CDB root and <span class="italic">all</span> the PDBs within the CDB, an application container includes only the PDBs plugged into the application root. An application root belongs to the CDB root and no other container. 
                           </p>
                        </li>
                        <li>
                           <p>Zero or more user-created PDBs</p>
                           <p>A PDB contains the data and code required for a specific set of features (see <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-49C0C90D-5A72-4131-8C3D-B07341C75CB2" title="A PDB is a user-created set of schemas, objects, and related structures that appears logically to a client application as a separate database.">PDBs</a>"</span>). For example, a PDB can support a specific application, such as a human resources or sales application. No PDBs exist at creation of the CDB. You add PDBs based on your business requirements.
                           </p>
                           <p>A PDB belongs to exactly zero or one application container. If a PDB belongs to an application container, then it is an <a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">application PDB</span></a>. For example, the <code class="codeph">cust1_pdb</code> and <code class="codeph">cust2_pdb</code> application PDBs might belong to the <code class="codeph">saas_sales_ac</code> application container, in which case they belong to no other application containers. An <a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">application seed</span></a> is an optional application PDB that acts as a user-created PDB template, enabling you to create new application PDBs rapidly.
                           </p>
                        </li>
                        <li>
                           <p>Exactly one <a href="glossary.html#GUID-D05C6A55-5452-4C82-942C-59DB245671BE"><span class="xrefglossterm">seed PDB</span></a></p>
                           <p>The seed PDB is a system-supplied template that the CDB can use to create new PDBs. The seed PDB is named <code class="codeph">PDB$SEED</code>. You cannot add or modify objects in <code class="codeph">PDB$SEED</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-25C018A5-70BF-4952-80A4-F70AD9F2E330">
                        <p class="titleinexample">Example 1-1 CDB with No Application Containers</p>
                        <p>This example shows a simple CDB with five containers: the system container (the entire CDB), the CDB root, the PDB seed (<code class="codeph">PDB$SEED</code>), and two PDBs. Each PDB has its own dedicated application. A different PDB administrator manages each PDB. A <a href="glossary.html#GUID-879D936A-45FE-4E4D-8099-5060F3F55353"><span class="xrefglossterm">common user</span></a> exists across a CDB with a single identity. In this example, common user <code class="codeph">SYS</code> can manage the root and every PDB. At the physical level, this CDB has a database instance and database files, just as a non-CDB does.
                        </p>
                        <div class="figure" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-3ADA7980-F8BB-46D9-BF16-36ABB465248B">
                           <p class="titleinfigure">Figure 1-2 CDB with No Application Containers</p><img src="img/cncpt345.png" width="454" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/cncpt345.html"><br><a href="img_text/cncpt345.html">Description of "Figure 1-2 CDB with No Application Containers"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-0E7CAEAB-EC02-4BBB-995A-53BFBAE99C30">
                        <p class="titleinexample">Example 1-2 CDB with an Application Container</p>
                        <p>In this variation, the CDB contains an application container named <code class="codeph">saas_sales_ac</code>. Within the application container, the application PDB <code class="codeph">cust1_pdb</code> supports an application for one customer, and the application PDB <code class="codeph">cust2_pdb</code> supports an application for a different customer. The CDB also contains a PDB named <code class="codeph">hrpdb</code>, which supports an HR application, but does not belong to an application container.
                        </p>
                        <div class="figure" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-FF9047D2-87E5-4A1A-9633-DC286570D838">
                           <p class="titleinfigure">Figure 1-3 CDB with an Application Container</p><img src="img/cncpt383.png" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/cncpt383.html"><br><a href="img_text/cncpt383.html">Description of "Figure 1-3 CDB with an Application Container"</a></div>
                        <!-- class="figure" -->
                        <p>In this example, multiple DBAs manage the CDB environment:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A CDB administrator manages the CDB itself.</p>
                           </li>
                           <li>
                              <p>An application container administrator manages the <code class="codeph">saas_sales_ac</code> container, including application installation and upgrades.
                              </p>
                           </li>
                           <li>
                              <p>An application PDB administrator manages the two PDBs in the <code class="codeph">saas_sales_ac</code> container: <code class="codeph">cust1_pdb</code> and <code class="codeph">cust2_pdb</code>.
                              </p>
                           </li>
                           <li>
                              <p>A PDB administrator manages <code class="codeph">hrpdb</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FC2EB562-ED31-49EF-8707-C766B6FE66B8__GUID-BFB5760F-679B-44FC-A51B-51ACB21529B8">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" title="Become familiar with basic concepts related to configuring and managing a multitenant environment.">Overview of Configuring and Managing a Multitenant Environment</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1" title="The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB).">About the Multitenant Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89237"></a><div class="props_rev_3"><a id="GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06" name="GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06"></a><h4 id="MULTI-GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06" class="sect4"><span class="enumeration_section">1.1.2 </span>About User Interfaces for the Multitenant Architecture
                  </h4>
                  <div>
                     <p>You can use the same administration tools for both CDBs and non-CDBs.</p>
                     <div class="tblformal" id="GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06__GUID-60D995EC-6021-4F34-966F-7E78D2789728">
                        <p class="titleintable">Table 1-1 Tools in a Multitenant Environment</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Tools in a Multitenant Environment" summary="This table describes the tools that you can use in a multitenant environment." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d5997e682">Interface</th>
                                 <th align="left" valign="bottom" width="20%" id="d5997e684">Description</th>
                                 <th align="left" valign="bottom" width="20%" id="d5997e686">See Also</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5997e690" headers="d5997e682 ">
                                    <p>SQL*Plus and SQL Developer for command-line access</p> 
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e690 d5997e684 ">
                                    <p>SQL*Plus is an interactive and batch query tool that is installed with Oracle Database.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e690 d5997e686 ">
                                    <p><a href="../sqpug/SQL-Plus-quick-start.html#SQPUG-GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA" target="_blank"><span><cite>SQL*Plus User's Guide and Reference</cite></span></a></p> 
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5997e706" headers="d5997e682 ">
                                    <p>Oracle Enterprise Manager Cloud Control (Cloud Control)</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e706 d5997e684 ">
                                    <p>Cloud Control is an Oracle Database administration tool that provides a graphical user interface (GUI). Cloud Control supports <span>Oracle Database 12c</span> targets, including PDBs, CDBs, and non-CDBs.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e706 d5997e686 ">The Cloud Control online help</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5997e718" headers="d5997e682 ">
                                    <p>Oracle Enterprise Manager Database Express (EM Express)</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e718 d5997e684 ">
                                    <p>EM Express is a web-based management product built into the Oracle database. EM Express enables you to provision and manage PDBs, including the following operations:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Creating and dropping PDBs</p>
                                       </li>
                                       <li>
                                          <p>Plugging in and unplugging and PDBs</p>
                                       </li>
                                       <li>
                                          <p>Cloning PDBs</p>
                                       </li>
                                       <li>
                                          <p>Setting resource limits for PDBs</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e718 d5997e686 ">
                                    <p><a href="../admqs/managing-pdbs-with-em-express.html#ADMQS12495" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn more about using EM Express for managing CDBs and PDBs
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d5997e746" headers="d5997e682 ">
                                    <p>Oracle Database Configuration Assistant (DBCA)</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e746 d5997e684 ">
                                    <p>DBCA is a utility with a graphical user interface that enables you to create and duplicate CDBs. It also enables you to create, relocate, clone, plug in, and unplug PDBs.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d5997e746 d5997e686 ">
                                    <p><a href="../admqs/installing-oracle-database-creating-database.html#ADMQS023" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> and <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN12479" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about DBCA
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6A039F5C-7221-4A38-9BDA-2E6F73B8DA06__GUID-F1AF27FC-8001-4632-A7E8-7F766B63F1FC">
                        <p class="notep1">See Also:</p>
                        <p><a href="../cncpt/concepts-for-database-administrators.html#CNCPT-GUID-FA659979-25B7-4611-AA8D-48B5404301FE" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for more information about tools for database administrators
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-C5B0AF7D-ABE8-4F69-9552-F4DAF40281F1" title="The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB).">About the Multitenant Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89239"></a><a id="CNCPT89238"></a><div class="props_rev_3"><a id="GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" name="GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7"></a><h3 id="MULTI-GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" class="sect3"><span class="enumeration_section">1.2 </span>Benefits of the Multitenant Architecture
               </h3>
               <div>
                  <p>The multitenant architecture solves several problems posed by the traditional non-CDB architecture.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE">Challenges for a Non-CDB Architecture</a><br>Large enterprises may use hundreds or thousands of databases. Often these databases run on different platforms on multiple physical servers. 
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-22C7512B-024B-423B-8C29-73CB396A1D31">Benefits of the Multitenant Architecture for Database Consolidation</a><br><strong class="term">Database consolidation</strong> is the process of consolidating data from multiple databases into one database on one computer. The Oracle Multitenant option enables you to consolidate data and code <span class="italic">without altering existing schemas or applications</span>. 
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-1531D374-BF2B-4F6F-A1E5-11B167B7C604">Benefits of the Multitenant Architecture for Manageability</a><br>The multitenant architecture has benefits beyond database consolidation. These benefits derive from storing the data <span class="italic">and</span> metadata specific to a PDB in the PDB itself rather than storing all dictionary metadata in one place.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" title="Become familiar with the Oracle Multitenant option.">Introduction to the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE" name="GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE"></a><h4 id="MULTI-GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE" class="sect4"><span class="enumeration_section">1.2.1 </span>Challenges for a Non-CDB Architecture
                  </h4>
                  <div>
                     <p>Large enterprises may use hundreds or thousands of databases. Often these databases run on different platforms on multiple physical servers. </p>
                     <p>Because of improvements in hardware technology, especially the increase in the number of CPUs, servers can handle heavier workloads than before. A database may use only a fraction of the server hardware capacity. This approach wastes both hardware and human resources.</p>
                     <p>For example, 100 servers may have one database each, with each database using 10% of hardware resources and 10% of an administrator's time. A team of DBAs must manage the SGA, database files, accounts, security, and so on of each database separately, while system administrators must maintain 100 different computers.</p>
                     <p>To show the problem in reduced scale, <a href="introduction-to-the-multitenant-architecture.html#GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE__CEGBJAHC">Figure 1-4</a> depicts 11 databases, each with its own application and server. A head DBA oversees a team of four DBAs, each of whom is responsible for two or three databases.
                     </p>
                     <div class="figure" id="GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE__CEGBJAHC">
                        <p class="titleinfigure">Figure 1-4 Database Environment Before Database Consolidation</p><img src="img/cncpt346.png" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows" longdesc="img_text/cncpt346.html"><br><a href="img_text/cncpt346.html">Description of "Figure 1-4 Database Environment Before Database Consolidation"</a></div>
                     <!-- class="figure" -->
                     <p>Typical responses include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use virtual machines (VMs).</p>
                           <p>In this model, you replicate the operating infrastructure of the physical server—operating system and database—in a virtual machine. VMs are agile, but use technical resources inefficiently, and require individual management. Virtual sprawl, which is just as expensive to manage, replaces the existing physical sprawl.</p>
                        </li>
                        <li>
                           <p>Place multiple databases on each server. </p>
                           <p>Separate databases eliminate operating system replication, but do not share background processes, system and process memory, or Oracle metadata. The databases require individual management.</p>
                        </li>
                        <li>
                           <p>Separate the data logically into schemas or virtual private databases (VPDs). </p>
                           <p>This technique uses technical resources efficiently. You can manage multiple schemas or VPDs as one. However, this model is less agile than its alternatives, requiring more effort to manage, secure, and transport. Also, the logical model typically requires extensive application changes, which discourages adoption.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" title="The multitenant architecture solves several problems posed by the traditional non-CDB architecture.">Benefits of the Multitenant Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89241"></a><a id="CNCPT89240"></a><div class="props_rev_3"><a id="GUID-22C7512B-024B-423B-8C29-73CB396A1D31" name="GUID-22C7512B-024B-423B-8C29-73CB396A1D31"></a><h4 id="MULTI-GUID-22C7512B-024B-423B-8C29-73CB396A1D31" class="sect4"><span class="enumeration_section">1.2.2 </span>Benefits of the Multitenant Architecture for Database Consolidation
                  </h4>
                  <div>
                     <p><strong class="term">Database consolidation</strong> is the process of consolidating data from multiple databases into one database on one computer. The Oracle Multitenant option enables you to consolidate data and code <span class="italic">without altering existing schemas or applications</span>. 
                     </p>
                     <p>The <a href="glossary.html#GUID-53C76478-67F0-4835-A325-F62258856D2A"><span class="xrefglossterm">PDB/non-CDB compatibility guarantee</span></a> means that a PDB behaves the same as a non-CDB as seen from a client connecting with Oracle Net. The installation scheme for an application definition (for example, tables and PL/SQL packages) that runs against a non-CDB runs the same against a PDB and produces the same result. Also, the run-time behavior of client code that connects to the PDB containing the application definition is identical to the behavior of client code that connected to the non-CDB containing this application definition.
                     </p>
                     <p>Operations that act on an entire non-CDB act in the same way on an entire CDB, for example, when using Oracle Data Guard and database backup and recovery. Thus, the users, administrators, and developers of a non-CDB have substantially the same experience after the database has been consolidated.</p>
                     <p>The following graphic depicts the databases in <a href="introduction-to-the-multitenant-architecture.html#GUID-DCE7F725-450E-4B58-ADBC-F51BED0637DE__CEGBJAHC">Figure 1-4</a> after consolidation onto one computer. The DBA team is reduced from five to three, with one CDB administrator managing the CDB while two PDB administrators split management of the PDBs.
                     </p>
                     <div class="figure" id="GUID-22C7512B-024B-423B-8C29-73CB396A1D31__CEGIACBD">
                        <p class="titleinfigure">Figure 1-5 Single CDB</p><img src="img/cncpt347.png" width="489" alt="Description of Figure 1-5 follows" title="Description of Figure 1-5 follows" longdesc="img_text/cncpt347.html"><br><a href="img_text/cncpt347.html">Description of "Figure 1-5 Single CDB"</a></div>
                     <!-- class="figure" -->
                     <p>Starting in <span>Oracle Database 12c</span> Release 2 (12.2), you can create an application container that contains application PDBs. This approach enables you to create and manage an application within this container. Most benefits that apply to consolidation into a CDB also apply to consolidation within an application container.
                     </p>
                     <p>Using the multitenant architecture for database consolidation has the following benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Cost reduction</p>
                           <p>By consolidating hardware and database infrastructure to a single set of background processes, and efficiently sharing computational and memory resources, you reduce costs for hardware and maintenance. For example, 100 PDBs on a single server share one database instance.</p>
                        </li>
                        <li>
                           <p>Easier and more rapid movement of data and code</p>
                           <p>By design, you can quickly plug a PDB into a CDB, unplug the PDB from the CDB, and then plug this PDB into a different CDB. You can also clone PDBs while they remain available. You can plug in a PDB with any character set and access it without character set conversion. If the character set of the CDB is AL32UTF8, then PDBs with different database character sets can exist in the same CDB.</p>
                        </li>
                        <li>
                           <p>Easier management and monitoring of the physical database</p>
                           <p>The <a href="glossary.html#GUID-24233CA1-CF2F-4E02-B202-83DB0571DDB9"><span class="xrefglossterm">CDB administrator</span></a> can manage the environment as an aggregate by executing a single operation, such as patching or performing an RMAN backup, for all hosted tenants and the CDB root. Backup strategies and disaster recovery are simplified.
                           </p>
                        </li>
                        <li>
                           <p>Separation of data and code</p>
                           <p>Although consolidated into a single physical database, PDBs mimic the behavior of non-CDBs. For example, if user error loses critical data, then a PDB administrator can use Oracle Flashback or point-in-time recovery to retrieve the lost data without affecting other PDBs.</p>
                        </li>
                        <li>
                           <p>Secure separation of administrative duties</p>
                           <div class="p">A <a href="glossary.html#GUID-879D936A-45FE-4E4D-8099-5060F3F55353"><span class="xrefglossterm">common user</span></a> can connect to any container on which it has sufficient privileges, whereas a <a href="glossary.html#GUID-03248AD7-8E10-4FA0-8D33-8D2EC59B1905"><span class="xrefglossterm">local user</span></a> is restricted to a specific PDB. Administrators can divide duties as follows:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>An administrator uses a common account to manage a CDB or application container. Because a privilege is contained within the container in which it is granted, a local user on one PDB does not have privileges on other PDBs within the same CDB.</p>
                                    <p></p>
                                 </li>
                                 <li>
                                    <p>An administrator uses a local account to manage an individual PDB.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Ease of performance tuning</p>
                           <p>It is easier to collect performance metrics for a single database than for multiple databases. It is easier to size one SGA than 100 SGAs.</p>
                        </li>
                        <li>
                           <p>Fewer database patches and upgrades</p>
                           <p>It is easier to apply a patch to one database than to 100 databases, and to upgrade one database than to upgrade 100 databases.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-22C7512B-024B-423B-8C29-73CB396A1D31__GUID-9BF11D9D-C9F8-480D-954B-2FBA19359D3C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-528FBE02-2B84-4E97-BD87-36AEF9EA524D" title="Become familiar with basic concepts related to configuring and managing a multitenant environment.">Overview of Configuring and Managing a Multitenant Environment</a>"</span></p>
                           </li>
                           <li><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG580" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about common users
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" title="The multitenant architecture solves several problems posed by the traditional non-CDB architecture.">Benefits of the Multitenant Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89242"></a><div class="props_rev_3"><a id="GUID-1531D374-BF2B-4F6F-A1E5-11B167B7C604" name="GUID-1531D374-BF2B-4F6F-A1E5-11B167B7C604"></a><h4 id="MULTI-GUID-1531D374-BF2B-4F6F-A1E5-11B167B7C604" class="sect4"><span class="enumeration_section">1.2.3 </span>Benefits of the Multitenant Architecture for Manageability
                  </h4>
                  <div>
                     <p>The multitenant architecture has benefits beyond database consolidation. These benefits derive from storing the data <span class="italic">and</span> metadata specific to a PDB in the PDB itself rather than storing all dictionary metadata in one place.
                     </p>
                     <p>By storing its own dictionary metadata, a PDB becomes easier to manage as a distinct unit. This benefit occurs even when only one PDB resides in a CDB. Grouping PDBs into a separately managed application container increases manageability even further.</p>
                     <p>In a CDB, the data dictionary metadata is split between the root and the PDBs. Benefits of data dictionary separation include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Easier upgrade of data and code</p>
                           <p>For example, instead of upgrading a CDB from one database release to another, you can rapidly unplug a PDB from the existing CDB, and then plug it into a newly created CDB from a higher release.</p>
                        </li>
                        <li>
                           <p>Easier migration between servers</p>
                           <p>To perform load balancing or to meet SLAs, you can migrate an application database from an on-premise data center to the cloud, or between two servers in the same environment. </p>
                        </li>
                        <li>
                           <p>Protection against data corruption within a PDB</p>
                           <p>You can flash back a PDB to an SCN or PDB-specific restore point, without affecting other PDBs. This feature is analogous to the Flashback Database feature for a non-CDB.</p>
                        </li>
                        <li>
                           <p>Ability to install, administer, and upgrade application-specific data and metadata in a single place</p>
                           <p>You can define a set of application-specific PDBs as a single component, called an <a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">application container</span></a>. You can then define one or more applications within this container. Each application is a named, versioned set of common metadata and data shared within this application container.
                           </p>
                           <p>For example, each customer of a SaaS vendor could have its own <a href="glossary.html#GUID-E9DA1D6D-DBFC-41C5-B24E-F508B671BF06"><span class="xrefglossterm">application PDB</span></a>. Each application PDB might have identically defined tables named <code class="codeph">sales_mlt</code>, with different data in each PDB. The PDBs could share a <a href="glossary.html#GUID-AC86D2B2-13FB-4FF5-B272-41FF0C6254CB"><span class="xrefglossterm">data-linked common object</span></a> named <code class="codeph">countries_olt</code>, which has identical data in each PDB. As an application administrator, you could manage the master application definition so that every new customer gets a PDB with the same objects, and every change to existing schemas (for example, the addition of a new table, or a change in the definition of a table) applies to all PDBs that share the application definition.
                           </p>
                        </li>
                        <li>
                           <p>Integration with Oracle Database Resource Manager</p>
                           <p>In a multitenant environment, one concern is contention for system resources among the PDBs running on the same server. Another concern is limiting resource usage for more consistent, predictable performance. To address such resource contention, usage, and monitoring issues, use Oracle Database Resource Manager.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1531D374-BF2B-4F6F-A1E5-11B167B7C604__GUID-2D8492A3-FA6B-4F78-9758-F476F8DE98BD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> <span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-EFAD745A-D76B-4218-AC5F-3B72F4D4C277" title="Using Oracle Resource Manager (Resource Manager), you can create CDB resource plans and set initialization parameters to allocate resources to PDBs.">Overview of Oracle Resource Manager in a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-A356382A-413A-4A42-98DC-6C2464808202" title="From the user and application perspective, the data dictionary in each container in a CDB is separate, as it would be in a non-CDB.">Data Dictionary Architecture in a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-31CE5970-4A53-44E0-AEA0-D2F7AE09D7E7" title="The multitenant architecture solves several problems posed by the traditional non-CDB architecture.">Benefits of the Multitenant Architecture</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="CNCPT89243"></a><div class="props_rev_3"><a id="GUID-FDCD109B-1199-4250-802A-0F345D24F816" name="GUID-FDCD109B-1199-4250-802A-0F345D24F816"></a><h3 id="MULTI-GUID-FDCD109B-1199-4250-802A-0F345D24F816" class="sect3"><span class="enumeration_section">1.3 </span>Path to Database Consolidation
               </h3>
               <div>
                  <p>For the duration of its existence, a database is either a CDB or a non-CDB. </p>
                  <p>You must define a database as a CDB at creation, and then create PDBs and application containers within this CDB. You cannot later transform a non-CDB into a CDB, or a CDB into a non-CDB. </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-AFB8F415-A423-4049-8658-A93CDFD960DA">Creation of a CDB</a><br>The <code class="codeph">CREATE DATABASE ... ENABLE PLUGGABLE DATABASE</code> SQL statement creates a new CDB.
                     </li>
                     <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546">Creation of a PDB</a><br>The <code class="codeph">CREATE PLUGGABLE DATABASE</code> SQL statement creates a PDB. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" title="Become familiar with the Oracle Multitenant option.">Introduction to the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               <a id="CNCPT89339"></a><a id="CNCPT89244"></a><div class="props_rev_3"><a id="GUID-AFB8F415-A423-4049-8658-A93CDFD960DA" name="GUID-AFB8F415-A423-4049-8658-A93CDFD960DA"></a><h4 id="MULTI-GUID-AFB8F415-A423-4049-8658-A93CDFD960DA" class="sect4"><span class="enumeration_section">1.3.1 </span>Creation of a CDB
                  </h4>
                  <div>
                     <p>The <code class="codeph">CREATE DATABASE ... ENABLE PLUGGABLE DATABASE</code> SQL statement creates a new CDB.
                     </p>
                     <p> If you do not specify the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause, then the newly created database is a non-CDB. In this case, the non-CDB can never contain PDBs.
                     </p>
                     <p>When you create a CDB, Oracle Database automatically creates a root container (<code class="codeph">CDB$ROOT</code>) and a seed PDB (<code class="codeph">PDB$SEED</code>). The following graphic shows a newly created CDB:
                     </p>
                     <div class="figure" id="GUID-AFB8F415-A423-4049-8658-A93CDFD960DA__GUID-43D4A66D-308E-4FC0-AA1D-1D407714166D">
                        <p class="titleinfigure">Figure 1-6 CDB with Seed PDB</p><img src="img/admin095.png" alt="Description of Figure 1-6 follows" title="Description of Figure 1-6 follows" longdesc="img_text/admin095.html"><br><a href="img_text/admin095.html">Description of "Figure 1-6 CDB with Seed PDB"</a></div>
                     <!-- class="figure" -->
                     <div class="example" id="GUID-AFB8F415-A423-4049-8658-A93CDFD960DA__CEGFCHCJ">
                        <p class="titleinexample">Example 1-3 Determining Whether a Database Is a CDB</p>
                        <p>The following simple query determines whether the database to which an administrative user is currently connected is a non-CDB, or a container in a CDB:</p><pre class="pre codeblock"><code>SQL&gt; SELECT NAME, CDB, CON_ID FROM V$DATABASE;
 
NAME      CDB     CON_ID
--------- --- ----------
CDB1      YES          0</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AFB8F415-A423-4049-8658-A93CDFD960DA__GUID-018B49C8-2EA9-4BC0-8474-7018E7F7734F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-DATABASE.html#SQLRF01204" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about specifying the clauses and parameter values for the <code class="codeph">CREATE DATABASE</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-FDCD109B-1199-4250-802A-0F345D24F816" title="For the duration of its existence, a database is either a CDB or a non-CDB.">Path to Database Consolidation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="CNCPT89245"></a><div class="props_rev_3"><a id="GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" name="GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546"></a><h4 id="MULTI-GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" class="sect4"><span class="enumeration_section">1.3.2 </span>Creation of a PDB
                  </h4>
                  <div>
                     <p>The <code class="codeph">CREATE PLUGGABLE DATABASE</code> SQL statement creates a PDB. 
                     </p>
                     <p>The created PDB automatically includes a full data dictionary including metadata and internal links to system-supplied objects in the CDB root. You must define every PDB from a single root: either the <a href="glossary.html#GUID-1C63428A-905A-4918-95AA-F3BBA3D2B825"><span class="xrefglossterm">CDB root</span></a> or an <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a>. 
                     </p>
                     <p>Each PDB has a globally unique identifier (GUID). The PDB GUID is primarily used to generate names for directories that store the PDB's files, including both Oracle Managed Files directories and non-Oracle Managed Files directories.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D">Creation of a PDB by Cloning</a><br>One technique for creating a PDB is called <span class="italic">cloning</span>. 
                        </li>
                        <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D">Creation of a PDB by Plugging In</a><br>You can create a PDB by plugging in an unplugged PDB, or plugging in a non-CDB as a PDB.
                        </li>
                        <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83">Creation of a PDB by Relocating</a><br>To relocate a PDB from one CDB to another, use either the <code class="codeph">CREATE PLUGGABLE DATABASE ... RELOCATE</code> statement or DBCA.
                        </li>
                        <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B">Creation of a PDB as a Proxy PDB</a><br>A <strong class="term">proxy PDB</strong> provides access to different PDB, called the <strong class="term">referenced PDB</strong>, in a remote CDB. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546__GUID-17B555A6-9848-473D-B9CC-D631E76B4840">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-FDCD109B-1199-4250-802A-0F345D24F816" title="For the duration of its existence, a database is either a CDB or a non-CDB.">Path to Database Consolidation</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D" name="GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D"></a><h5 id="MULTI-GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D" class="sect5"><span class="enumeration_section">1.3.2.1 </span>Creation of a PDB by Cloning
                     </h5>
                     <div>
                        <p>One technique for creating a PDB is called <span class="italic">cloning</span>. 
                        </p>
                        <p>You can clone a PDB from <code class="codeph">PDB$SEED</code>, an application seed, a remote or local PDB, or a non-CDB. This section contains the following topics:
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D">Creation of a PDB from a Seed</a><br>You can use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB from a seed. 
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-179F941D-B0AE-4BBC-AA59-430652B809B5">Creation of a PDB by Cloning a PDB or a Non-CDB</a><br>To clone a PDB or non-CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">FROM</code> clause.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" title="The CREATE PLUGGABLE DATABASE SQL statement creates a PDB.">Creation of a PDB</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89340"></a><div class="props_rev_3"><a id="GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D" name="GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D"></a><h6 id="MULTI-GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D" class="sect6"><span class="enumeration_section">1.3.2.1.1 </span>Creation of a PDB from a Seed
                        </h6>
                        <div>
                           <p>You can use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB from a seed. 
                           </p>
                           <p>A seed is a PDB that serves as a template for creation of another PDB. Creating a PDB from a seed copies some or all of the contents of a PDB, and then assigns a new unique identifier.</p>
                           <p>A seed PDB is either of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The PDB seed (<code class="codeph">PDB$SEED</code>), which is a system-supplied template for creating PDBs
                                 </p>
                                 <p>Every CDB has exactly one <code class="codeph">PDB$SEED</code>, which cannot be modified or dropped.
                                 </p>
                              </li>
                              <li>
                                 <p>An <a href="glossary.html#GUID-BCC6BCFA-FFA1-4C84-8804-1CC13BF86350"><span class="xrefglossterm">application seed</span></a>, which is a user-created PDB for a specified <a href="glossary.html#GUID-66EC71A6-6AC1-4BC2-B30A-A0DCA68AEE28"><span class="xrefglossterm">application root</span></a></p>
                                 <p>Within an <a href="glossary.html#GUID-F939B8E5-8DCE-4831-9B81-224C1D6DC1AA"><span class="xrefglossterm">application container</span></a>, you can create an application seed using the <code class="codeph">CREATE PLUGGABLE DATABASE AS SEED</code> statement, which you can then use to accelerate creation of new application PDBs.
                                 </p>
                              </li>
                           </ul>
                           <div class="figure" id="GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D__GUID-EC1F2054-90AD-48B3-8599-9E7B2E0953F2">
                              <p class="titleinfigure">Figure 1-7 Creation from PDB$SEED</p><img src="img/admin089.png" alt="Description of Figure 1-7 follows" title="Description of Figure 1-7 follows" longdesc="img_text/admin089.html"><br><a href="img_text/admin089.html">Description of "Figure 1-7 Creation from PDB$SEED"</a></div>
                           <!-- class="figure" -->
                           <div class="example" id="GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D__GUID-ECBDCCF1-FA16-4ECB-A889-BECBFCCF0177">
                              <p class="titleinexample">Example 1-4 Creation of a PDB from PDB$SEED</p>
                              <p>The following SQL statement creates a PDB named <code class="codeph">hrpdb</code> from <code class="codeph">PDB$SEED</code> using Oracle Managed Files:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE hrpdb
 ADMIN USER dba1 IDENTIFIED BY <span class="italic">password</span>;</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-FC58D7C8-6C5E-49E7-9D99-A83D0B58B16D__GUID-E98AA63E-3B87-4AF3-A827-CBA315E100C0">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="creating-a-pdb-from-scratch.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="Use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the PDB seed (PDB$SEED).">Creating a PDB from Scratch</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D" title="One technique for creating a PDB is called cloning.">Creation of a PDB by Cloning</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89341"></a><div class="props_rev_3"><a id="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5" name="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5"></a><h6 id="MULTI-GUID-179F941D-B0AE-4BBC-AA59-430652B809B5" class="sect6"><span class="enumeration_section">1.3.2.1.2 </span>Creation of a PDB by Cloning a PDB or a Non-CDB
                        </h6>
                        <div>
                           <p>To clone a PDB or non-CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">FROM</code> clause.
                           </p>
                           <p>In this technique, the source is either a non-CDB, or a PDB in a local or remote CDB. The target is the PDB copied from the source. The cloning operation copies the files associated with the source to a new location, and then assigns a new GUID to create the PDB.</p>
                           <p>This technique is useful for quickly creating PDBs for testing and development. For example, you might test a new or modified application on a cloned PDB before deploying the application in a production PDB. If a PDB is in <a href="glossary.html#GUID-0E68809A-AB48-4DAD-BFBD-8ACC23656C4B"><span class="xrefglossterm">local undo mode</span></a>, then the source PDB can be open in read/write mode during the operation, referred to as <a href="glossary.html#GUID-A6C7E446-333C-42B1-A6BD-277029EE2E36"><span class="xrefglossterm">hot cloning</span></a>.
                           </p>
                           <div class="infoboxnote" id="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5__GUID-B4682557-5476-44A0-B847-8C8D28521277">
                              <p class="notep1">Note:</p>
                              <p>If you clone a PDB from a remote CDB, then you must use a database link.</p>
                           </div>
                           <p>If you run <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement in an application root, then the cloned PDB is created in the application container. In this case, the application name and version of the source PDB must be compatible with the application name and version of the application container.
                           </p>
                           <p>The following graphic illustrates cloning a PDB when both source and target are in the same CDB.</p>
                           <div class="figure" id="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5__GUID-BFC03230-794F-4C64-BF0A-AF23507A5C20">
                              <p class="titleinfigure">Figure 1-8 Cloning a PDB</p><img src="img/admin091.png" alt="Description of Figure 1-8 follows" title="Description of Figure 1-8 follows" longdesc="img_text/admin091.html"><br><a href="img_text/admin091.html">Description of "Figure 1-8 Cloning a PDB"</a></div>
                           <!-- class="figure" -->
                           <p>Starting in <span>Oracle Database 19c</span>, you can clone a remote PDB using DBCA.
                           </p>
                           <div class="example" id="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5__GUID-6ACA143C-3984-4BA0-B531-DD43E3BE3BBF">
                              <p class="titleinexample">Example 1-5 Cloning a PDB</p>
                              <p>The following SQL statement clones a PDB named <code class="codeph">salespdb</code> from the plugged-in PDB named <code class="codeph">hrpdb</code>:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE salespdb FROM hrpdb;</code></pre><p>This section contains the following topics:</p>
                           </div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <ul class="ullinks">
                              <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402">PDB Snapshots</a><br><span>A <strong class="term">PDB snapshot</strong> is a point-in-time copy of a PDB.</span></li>
                              <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-06CEC476-EF10-4516-88D4-F398640A1137">Snapshot Copy PDBs</a><br>A <strong class="term">snapshot copy PDB</strong> is a PDB based on a storage-managed (not database-managed) snapshot. The PDB does not contain a complete copy of the source data files.
                              </li>
                              <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-D5AE0EBD-76CA-4E7C-8637-1D6B56597021">Refreshable Clone PDBs</a><br><span>A <strong class="term">refreshable clone PDB</strong> is a <span>read-only clone that can periodically synchronize with its source PDB.</span></span> 
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-179F941D-B0AE-4BBC-AA59-430652B809B5__GUID-1579E930-9B9E-4050-B193-CC461205D5D8">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="cloning-a-pdb.html#GUID-05702CEB-A43C-452C-8081-4CA68DDA8007" title="You can create a PDB by cloning a local PDB, a remote PDB, or a non-CDB.">Cloning a PDB or Non-CDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" title="A CDB has the same structure as a non-CDB, except that each PDB and application root has its own set of tablespaces, including its own SYSTEM, SYSAUX, and undo tablespaces.">Overview of Tablespaces and Database Files in a CDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-9327F698-36F7-45CC-9964-4685D48FF254" title="In this context, application maintenance refers to installing, uninstalling, upgrading, or patching an application.">Application Maintenance</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-1CB3617F-8B18-441D-96B3-3E7767A5ED1D" title="One technique for creating a PDB is called cloning.">Creation of a PDB by Cloning</a></p>
                              </div>
                           </div>
                        </div>
                        
                        <div class="sect6"><a id="GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402" name="GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402"></a><h6 id="MULTI-GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402" class="sect6"><span class="enumeration_section">1.3.2.1.2.1 </span>PDB Snapshots
                           </h6>
                           <div>
                              <p><span>A <strong class="term">PDB snapshot</strong> is a point-in-time copy of a PDB.</span></p>
                              <p>You can use PDB snapshots to clone PDBs based on the point-in-time snapshots. Clone PDBs are useful in development testing.</p>
                              <p>You can create snapshots manually using the <code class="codeph">SNAPSHOT</code> clause of <code class="codeph">CREATE PLUGGABLE DATABASE</code> (or <code class="codeph">ALTER PLUGGABLE DATABASE</code>), or automatically using the <code class="codeph">EVERY <span class="codeinlineitalic">interval</span></code> clause. The following DDL statement creates a PDB snapshot with the name <code class="codeph">pdb1_wed_4_1201</code>:
                              </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE SNAPSHOT pdb1_wed_4_1201;</code></pre><p>Starting in <span>Oracle Database 19c</span>, you can make snapshots of source PDBs in read/write mode. The content of a PDB snapshot depends on the setting of the <code class="codeph">CLONEDB</code> initialization parameter when the snapshot is created. When <code class="codeph">CLONEDB</code> is <code class="codeph">TRUE</code>, the snapshot is a sparse copy of the PDB data files. When <code class="codeph">CLONEDB</code> is <code class="codeph">FALSE</code>, the snapshot is a full copy of the PDB files.
                              </p>
                              <p>The <code class="codeph">USING SNAPSHOT</code> clause of the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement creates a snapshot clone PDB from a PDB snapshot. For example, the following statement clones a PDB named <code class="codeph">pdb1_copy</code> from the PDB snapshot named <code class="codeph">pdb1_wed_4_1201</code>:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1_copy FROM pdb1 USING SNAPSHOT pdb1_wed_4_1201;</code></pre></div>
                           <div>
                              <div class="infoboxnotealso" id="GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402__GUID-2FFC8633-8544-4BB0-9755-9BF6E0FDD169">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;" id="GUID-47847140-8DE4-4C4E-8C93-4E9C197D1402__UL_JKB_T5S_YFB">
                                    <li>
                                       <p><span class="q">"<a href="cloning-a-pdb.html#GUID-F6F105E1-AB69-4DD0-9A70-51EDD4B2426D" title="A PDB snapshot is a database-managed, point-in-time copy of a PDB. A snapshot clone PDB is a PDB created from a snapshot.">About Cloning PDBs from PDB Snapshots</a>"</span></p>
                                    </li>
                                    <li>
                                       <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services</span></p>
                                    </li>
                                 </ul>
                              </div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-179F941D-B0AE-4BBC-AA59-430652B809B5" title="To clone a PDB or non-CDB, use the CREATE PLUGGABLE DATABASE statement with the FROM clause.">Creation of a PDB by Cloning a PDB or a Non-CDB</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div>
                        <div class="sect6"><a id="GUID-06CEC476-EF10-4516-88D4-F398640A1137" name="GUID-06CEC476-EF10-4516-88D4-F398640A1137"></a><h6 id="MULTI-GUID-06CEC476-EF10-4516-88D4-F398640A1137" class="sect6"><span class="enumeration_section">1.3.2.1.2.2 </span>Snapshot Copy PDBs
                           </h6>
                           <div>
                              <p>A <strong class="term">snapshot copy PDB</strong> is a PDB based on a storage-managed (not database-managed) snapshot. The PDB does not contain a complete copy of the source data files.
                              </p>
                              <p>If the file system supports storage snapshots, then you can clone a PDB almost instantaneously by specifying the <code class="codeph">SNAPSHOT COPY</code> clause. In this case, Oracle Database creates a storage-managed snapshot of the underlying file system, and then uses the storage snapshot to create PDB clones. The snapshot copy PDB contains sparse files.
                              </p>
                              <p>Unlike a standard clone PDB, a snapshot copy PDB cannot be unplugged from the CDB root or application root. Also, if snapshot clones exist, then the source PDB that generated the clones cannot be dropped or unplugged.</p>
                              <div class="infoboxnote" id="GUID-06CEC476-EF10-4516-88D4-F398640A1137__GUID-BEBD1F22-704D-4505-AF0D-467EC55E520B">
                                 <p class="notep1">Note:</p>
                                 <p><span class="q">"<a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="Cloning means creating a new PDB from a source PDB or from a non-CDB.">About Cloning a PDB or Non-CDB</a>"</span> to learn how to clone a PDB using the <code class="codeph">SNAPSHOT COPY</code> clause
                                 </p>
                              </div>
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-179F941D-B0AE-4BBC-AA59-430652B809B5" title="To clone a PDB or non-CDB, use the CREATE PLUGGABLE DATABASE statement with the FROM clause.">Creation of a PDB by Cloning a PDB or a Non-CDB</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div>
                        <div class="sect6"><a id="GUID-D5AE0EBD-76CA-4E7C-8637-1D6B56597021" name="GUID-D5AE0EBD-76CA-4E7C-8637-1D6B56597021"></a><h6 id="MULTI-GUID-D5AE0EBD-76CA-4E7C-8637-1D6B56597021" class="sect6"><span class="enumeration_section">1.3.2.1.2.3 </span>Refreshable Clone PDBs
                           </h6>
                           <div>
                              <p><span>A <strong class="term">refreshable clone PDB</strong> is a <span id="d163e422">read-only clone that can periodically synchronize with its source PDB.</span></span> 
                              </p>
                              <p>Depending on the value specified in the <code class="codeph">REFRESH MODE</code> clause, synchronization occurs automatically or manually. For example, if <code class="codeph">hrpdb_re_clone</code> is a clone of <code class="codeph">hrpdb</code>, then every month you could manually refresh <code class="codeph">hrpdb_re_clone</code> with changes from <code class="codeph">hrpdb</code>. Alternatively, you could configure <code class="codeph">hrpdb</code> to propagate changes to <code class="codeph">hrpdb_re_clone</code> automatically every 24 hours.
                              </p>
                              <p>You can switch the roles of a source PDB and its refreshable clone. This switchover can be useful for load balancing between CDBs, and when the source PDB suffers a failure.</p>
                              <div class="infoboxnote" id="GUID-D5AE0EBD-76CA-4E7C-8637-1D6B56597021__GUID-4DC22A09-9331-4A0C-A5CB-F2BE67844496">
                                 <p class="notep1">Note:</p>
                                 <p><span class="q">"<a href="cloning-a-pdb.html#GUID-8A6287A1-14E5-4B45-972F-FC2FB3CDCF8B" title="Cloning means creating a new PDB from a source PDB or from a non-CDB.">About Cloning a PDB or Non-CDB</a>"</span> to learn how to clone a PDB using the <code class="codeph">REFRESH MODE</code> clause
                                 </p>
                              </div>
                           </div>
                           <div>
                              <div class="familylinks">
                                 <div class="parentlink">
                                    <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-179F941D-B0AE-4BBC-AA59-430652B809B5" title="To clone a PDB or non-CDB, use the CREATE PLUGGABLE DATABASE statement with the FROM clause.">Creation of a PDB by Cloning a PDB or a Non-CDB</a></p>
                                 </div>
                              </div>
                           </div>
                           
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D" name="GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D"></a><h5 id="MULTI-GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D" class="sect5"><span class="enumeration_section">1.3.2.2 </span>Creation of a PDB by Plugging In
                     </h5>
                     <div>
                        <p>You can create a PDB by plugging in an unplugged PDB, or plugging in a non-CDB as a PDB.</p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6">Creation of a PDB by Plugging In an Unplugged PDB</a><br>An <span class="bold">unplugged PDB</span> is a self-contained set of data files, and an XML metadata file that specifies the locations of the PDB files. To plug in an unplugged PDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">USING</code> clause.
                           </li>
                           <li class="ulchildlink"><a href="introduction-to-the-multitenant-architecture.html#GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315">Creation of a PDB from a Non-CDB</a><br>You can move a non-CDB into a PDB.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" title="The CREATE PLUGGABLE DATABASE SQL statement creates a PDB.">Creation of a PDB</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="CNCPT89342"></a><div class="props_rev_3"><a id="GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6" name="GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6"></a><h6 id="MULTI-GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6" class="sect6"><span class="enumeration_section">1.3.2.2.1 </span>Creation of a PDB by Plugging In an Unplugged PDB
                        </h6>
                        <div>
                           <p>An <span class="bold">unplugged PDB</span> is a self-contained set of data files, and an XML metadata file that specifies the locations of the PDB files. To plug in an unplugged PDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">USING</code> clause.
                           </p>
                           <p>When plugging in an unplugged PDB, you have the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Specify the XML metadata file that describes the PDB and the files associated with the PDB. </p>
                              </li>
                              <li>
                                 <p>Specify a <a href="glossary.html#GUID-EE60F679-BD3D-47C1-84A1-AF5E4279D52C"><span class="xrefglossterm">PDB archive file</span></a>, which is a compressed file that contains both the XML file and PDB data files. You can create a PDB by specifying the archive file, and thereby avoid copying the XML file and the data files separately.
                                 </p>
                              </li>
                           </ul>
                           <p>The following graphic illustrates plugging in an unplugged PDB using the XML file.</p>
                           <div class="figure" id="GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6__GUID-4BD2515A-968A-4FFF-B4FC-99E72363A076">
                              <p class="titleinfigure">Figure 1-9 Plugging In an Unplugged PDB</p><img src="img/admin090.png" alt="Description of Figure 1-9 follows" title="Description of Figure 1-9 follows" longdesc="img_text/admin090.html"><br><a href="img_text/admin090.html">Description of "Figure 1-9 Plugging In an Unplugged PDB"</a></div>
                           <!-- class="figure" -->
                           <div class="example" id="GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6__GUID-22B62F31-F0CB-4ED5-858E-28495F4F2D7B">
                              <p class="titleinexample">Example 1-6 Plugging In a PDB</p>
                              <p>The following SQL statement plugs in a PDB named <code class="codeph">salespdb</code> based on the metadata stored in the named XML file, and specifies <code class="codeph">NOCOPY</code> because the files of the unplugged PDB do not need to be moved to a new location:
                              </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE salespdb USING '/disk1/usr/salespdb.xml' NOCOPY;</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-E199F91F-6FC8-422B-AC28-FBFB141CD6F6__GUID-BDFC7025-9A2D-4094-B27B-F76E405A4157">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="plugging-in-a-pdb.html#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Plugging In an Unplugged PDB</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D" title="You can create a PDB by plugging in an unplugged PDB, or plugging in a non-CDB as a PDB.">Creation of a PDB by Plugging In</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="CNCPT89343"></a><div class="props_rev_3"><a id="GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315" name="GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315"></a><h6 id="MULTI-GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315" class="sect6"><span class="enumeration_section">1.3.2.2.2 </span>Creation of a PDB from a Non-CDB
                        </h6>
                        <div>
                           <p>You can move a non-CDB into a PDB.</p>
                           <p>You can accomplish this task in the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Executing <code class="codeph">DBMS_PDB.DESCRIBE</code> on a non-CDB in <span>Oracle Database 12c</span></p>
                                 <p>You place a non-CDB in a transactionally consistent state, and then run the <code class="codeph">DBMS_PDB.DESCRIBE</code> function to generate XML metadata about this database. While connected to the root in the CDB, you execute the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement to create a PDB from the existing non-CDB. Finally, to convert the definitions in the PDB data dictionary to references to objects in <code class="codeph">CDB$ROOT</code>, log in to the PDB and run the <code class="codeph">noncdb_to_pdb.sql</code> script.
                                 </p>
                              </li>
                              <li>
                                 <p>Using Oracle Data Pump with or without transportable tablespaces</p>
                                 <p>You can define a data set on a non-CDB using Oracle Data Pump. This non-CDB can be in the current or a previous Oracle Database release, for example, Oracle Database 10g. You create an empty PDB in an existing CDB, and then use Oracle Data Pump to import the data set into the PDB.</p>
                                 <p>A Full Transportable Export using Oracle Data Pump exports all objects and data necessary to create a complete copy of the database. Oracle Data Pump exports objects using direct path unload and external tables, and then imports objects using direct path <code class="codeph">INSERT</code> and external tables. The Full Transportable dump file contains all objects in the database, not only table-related objects. Full Transportable Export is available starting in Oracle Database 11g Release 2 (11.2.0.3) for import into <span>Oracle Database 12c</span> and later.
                                 </p>
                              </li>
                              <li>
                                 <p>Using Oracle GoldenGate replication</p>
                                 <p>You replicate the data from the non-CDB to a PDB. When the PDB becomes current with the non-CDB, you switch over to the PDB.</p>
                              </li>
                           </ul>
                           <p>The following figure illustrates running the <code class="codeph">DBMS_PDB.DESCRIBE</code> function on a non-CDB, and then creating a PDB using the non-CDB files.
                           </p>
                           <div class="figure" id="GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315__GUID-A2DA1720-6816-4F1E-96D5-1A8CA48885E9">
                              <p class="titleinfigure">Figure 1-10 Creating a PDB from a Non-CDB</p><img src="img/admin098.png" alt="Description of Figure 1-10 follows" title="Description of Figure 1-10 follows" longdesc="img_text/admin098.html"><br><a href="img_text/admin098.html">Description of "Figure 1-10 Creating a PDB from a Non-CDB"</a></div>
                           <!-- class="figure" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D67CAB03-AB86-4761-BCF3-F91CA648B315__GUID-4B1D3863-F37E-4863-A3D2-30BF81E9705A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="overview-of-pdb-creation.html#GUID-F68E6FE9-919B-4665-95F7-785E69E07264" title="You have multiple options for moving a non-CDB into a PDB.">Options for Creating a PDB from a Non-CDB</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../cncpt/topics-for-database-administrators-and-developers.html#CNCPT-GUID-8DC5DC69-0749-4027-9DFE-3390A20CACD2" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about Oracle GoldenGate
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-2D57C40D-5CB1-41B0-9A08-F58D5B7C533D" title="You can create a PDB by plugging in an unplugged PDB, or plugging in a non-CDB as a PDB.">Creation of a PDB by Plugging In</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83" name="GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83"></a><h5 id="MULTI-GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83" class="sect5"><span class="enumeration_section">1.3.2.3 </span>Creation of a PDB by Relocating
                     </h5>
                     <div>
                        <p>To relocate a PDB from one CDB to another, use either the <code class="codeph">CREATE PLUGGABLE DATABASE ... RELOCATE</code> statement or DBCA.
                        </p>
                        <p>This technique has the following advantages:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The relocation occurs with minimal downtime.</p>
                           </li>
                           <li>
                              <p>The technique keeps the PDB being relocated open in read/write mode during the relocation, and then brings the PDB online in its new location.</p>
                              <p></p>
                           </li>
                        </ul>
                        <p>You must create a database link at the target CDB, which is the CDB that will contain the relocated PDB. Also, the source PDB must use local undo data.</p>
                        <p>The following graphic depicts a PDB relocation.</p>
                        <div class="figure" id="GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83__GUID-A7094F3F-9F02-4093-A0FE-64132E822194">
                           <p class="titleinfigure">Figure 1-11 Relocating a PDB</p><img src="img/admin109.png" alt="Description of Figure 1-11 follows" title="Description of Figure 1-11 follows" longdesc="img_text/admin109.html"><br><a href="img_text/admin109.html">Description of "Figure 1-11 Relocating a PDB"</a></div>
                        <!-- class="figure" -->
                        <p>Starting in <span>Oracle Database 19c</span>, you can relocate a remote PDB using DBCA in silent mode.
                        </p>
                        <div class="example" id="GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83__GUID-89B50393-872F-4298-846A-E2DAE4421B07">
                           <p class="titleinexample">Example 1-7 PDB Relocation</p>
                           <p>The following statement, which is issued at a target CDB, relocates <code class="codeph">hrpdb</code> from the source CDB to the target CDB:
                           </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE hrpdb FROM hrpdb@lnk_to_source RELOCATE;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D84C3A7F-A1B3-4651-B99B-9F76E7331F83__GUID-7367C498-52DB-4786-A29F-38F76DB7FC82">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-5902ABDC-40BE-4CF4-9917-A5D7F4C396F1" title="A CDB has the same structure as a non-CDB, except that each PDB and application root has its own set of tablespaces, including its own SYSTEM, SYSAUX, and undo tablespaces.">Overview of Tablespaces and Database Files in a CDB</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="relocating-a-pdb.html#GUID-75519361-3DA2-4558-A7E5-64BC16FAFC7D" title="You can move a PDB to a different CDB or application container.">Relocating a PDB</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" title="The CREATE PLUGGABLE DATABASE SQL statement creates a PDB.">Creation of a PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B" name="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B"></a><h5 id="MULTI-GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B" class="sect5"><span class="enumeration_section">1.3.2.4 </span>Creation of a PDB as a Proxy PDB
                     </h5>
                     <div>
                        <p>A <strong class="term">proxy PDB</strong> provides access to different PDB, called the <strong class="term">referenced PDB</strong>, in a remote CDB. 
                        </p>
                        <p>Proxy PDBs enable you to aggregate data from multiple sources. A SQL statement submitted for execution in a proxy PDB executes within the referenced PDB.</p>
                        <p>A typical use case is a proxy PDB that references an application root replica. If multiple CDBs have the same application definition (for example, same tables and PL/SQL packages), then you can create a proxy PDB in the application container of the master application root. The referenced PDB for the proxy PDB is the application root in a different CDB. By running installation scripts in the master root, the application roots in the other CDBs become replicas of the master application root.</p>
                        <p>To create a proxy PDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> statement with the <code class="codeph">FROM</code> clause, which must specify a database link to the referenced PDB in the remote CDB, and the <code class="codeph">AS PROXY</code> clause.
                        </p>
                        <div class="infoboxnote" id="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B__GUID-F680C28D-30C2-4015-A1DC-5D6927A71EB5">
                           <p class="notep1">Note:</p>
                           <p>If you plug a proxy PDB directly into <code class="codeph">CDB$ROOT</code>, then you must have created the proxy in <code class="codeph">CDB$ROOT</code>. A proxy of an application PDB must both be plugged in to an application root.
                           </p>
                        </div>
                        <div class="p">The following graphic shows the creation of a proxy PDB that references a PDB in a remote CDB.
                           <div class="figure" id="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B__GUID-172643BD-6FC8-408C-B206-8B9B89FB78C9">
                              <p class="titleinfigure">Figure 1-12 Creating a Proxy PDB</p><img src="img/admin110.png" alt="Description of Figure 1-12 follows" title="Description of Figure 1-12 follows" longdesc="img_text/admin110.html"><br><a href="img_text/admin110.html">Description of "Figure 1-12 Creating a Proxy PDB"</a></div>
                           <!-- class="figure" -->
                        </div>
                        <div class="example" id="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B__GUID-2A9849D2-F3BF-4AE6-82FF-91EE5F9CD645">
                           <p class="titleinexample">Example 1-8 Creation of a Proxy PDB</p>
                           <p>This example creates a proxy PDB named <code class="codeph">pdb1</code>. The referenced PDB is specified using a database link.
                           </p><pre class="pre codeblock"><code>CREATE PLUGGABLE DATABASE pdb1 AS PROXY FROM pdb1@pdb1_link;</code></pre><div class="infoboxnote" id="GUID-53820A0C-E88A-40C0-AAE0-01A6371A146B__GUID-18E89D35-78D4-40F1-A632-F3299F52DA94">
                              <p class="notep1">Note:</p>
                              <p><span class="q">"<a href="creating-a-proxy-pdb.html#GUID-7C23D560-5AD5-4AF2-93B4-F4FDC6DE768C" title="You can create a PDB as a proxy PDB by referencing it in a remote CDB.">Creating a PDB as a Proxy PDB</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-92AF2E16-5215-4DB4-977E-BB08E6A65546" title="The CREATE PLUGGABLE DATABASE SQL statement creates a PDB.">Creation of a PDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="CNCPT89344"></a><a id="CNCPT89247"></a><div class="props_rev_3"><a id="GUID-345CDAD9-3D12-475F-82EC-FED2790F504A" name="GUID-345CDAD9-3D12-475F-82EC-FED2790F504A"></a><h3 id="MULTI-GUID-345CDAD9-3D12-475F-82EC-FED2790F504A" class="sect3"><span class="enumeration_section">1.4 </span>Multitenant Environment Documentation Roadmap
               </h3>
               <div>
                  <p>This topic lists the most important topics for understanding and using CDBs, and includes cross-references to the appropriate documentation.</p>
                  <div class="tblformal" id="GUID-345CDAD9-3D12-475F-82EC-FED2790F504A__ROADMAPFORTHEMULTITENANTARCHITECTUR-1BF8D2EF">
                     <p class="titleintable">Table 1-2 Road map for the Multitenant Architecture Documentation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Road map for the Multitenant Architecture Documentation" summary="This table lists a road map for Pluggable Databases documentation" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d5997e3588">Category</th>
                              <th align="left" valign="bottom" width="20%" id="d5997e3591">Topic</th>
                              <th align="left" valign="bottom" width="20%" id="d5997e3594">Documentation</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3599" headers="d5997e3588 ">
                                 <p>Concepts</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3599 d5997e3591 ">
                                 <p>Overview of CDBs and PDBs</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3599 d5997e3594 ">
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="This chapter describes the most important components of the multitenant architecture.">Overview of the Multitenant Architecture</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3614" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3614 d5997e3591 ">
                                 <p>Creating and configuring a CDB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3614 d5997e3594 ">
                                 <p><span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3629" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3629 d5997e3591 ">
                                 <p>Managing a CDB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3629 d5997e3594 ">
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts.">Administering a CDB</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3644" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3644 d5997e3591 ">
                                 <p>Creating and configuring PDBs</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3644 d5997e3594 ">
                                 <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3659" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3659 d5997e3591 ">
                                 <p>Managing PDBs</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3659 d5997e3594 ">
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="Administering PDBs includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs.">Administering PDBs</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3674" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3674 d5997e3591 ">
                                 <p>Creating and removing application containers</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3674 d5997e3594 ">
                                 <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-065649AC-18ED-4858-ACC5-36F011362A83" title="You can create application containers in several different ways, including using the PDB seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove application containers from a CDB.">Creating and Removing Application Containers</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3689" headers="d5997e3588 ">
                                 <p>Administration</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3689 d5997e3591 ">
                                 <p>Administering application containers</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3689 d5997e3594 ">
                                 <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3704" headers="d5997e3588 ">
                                 <p>Performance</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3704 d5997e3591 ">
                                 <p>Troubleshooting PDBs</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3704 d5997e3594 ">
                                 <p><a href="../tgdba/gathering-database-statistics.html#GUID-D64AEB01-18FF-47EF-BB5C-A0611117D180" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3718" headers="d5997e3588 ">
                                 <p>Monitoring</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3718 d5997e3591 ">
                                 <p>Viewing information about CDBs and PDBs</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3718 d5997e3594 ">
                                 <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="You can view information about CDBs and PDBs using SQL*Plus or SQL Developer.">Monitoring CDBs and PDBs</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3733" headers="d5997e3588 ">
                                 <p>Backup and Recovery</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3733 d5997e3591 ">
                                 <p>Performing backup and recovery in a CDB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3733 d5997e3594 ">
                                 <p><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3747" headers="d5997e3588 ">
                                 <p>Security</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3747 d5997e3591 ">
                                 <p>Managing common users, roles, and privileges in a CDB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3747 d5997e3594 ">
                                 <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG573" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d5997e3762" headers="d5997e3588 ">
                                 <p>Miscellaneous</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3762 d5997e3591 ">
                                 <p>All other tasks relating to managing a CDB or PDB, including Oracle RAC, resource management, data transfer, and so on</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d5997e3762 d5997e3594 ">
                                 <p>This guide is the primary task-oriented intermediate and advanced documentation for managing CDBs. This guide also contains See Also links to books that cover different CDB topics. For example, <a href="../sutil/oracle-data-pump-overview.html#SUTIL4334" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> explains concepts and tasks specific to PDBs when using Oracle Data Pump.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="introduction-to-the-multitenant-architecture.html#GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" title="Become familiar with the Oracle Multitenant option.">Introduction to the Multitenant Architecture</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>